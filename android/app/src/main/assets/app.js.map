{
  "version": 3,
  "sources": ["../node_modules/react/cjs/react.production.js", "../node_modules/react/index.js", "../node_modules/scheduler/cjs/scheduler.production.js", "../node_modules/scheduler/index.js", "../node_modules/react-dom/cjs/react-dom.production.js", "../node_modules/react-dom/index.js", "../node_modules/react-dom/cjs/react-dom-client.production.js", "../node_modules/react-dom/client.js", "../node_modules/react/cjs/react-jsx-runtime.production.js", "../node_modules/react/jsx-runtime.js", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/BitMatrix.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/binarizer/index.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/decodeData/BitStream.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/decodeData/index.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/reedsolomon/GenericGFPoly.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/reedsolomon/GenericGF.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/reedsolomon/index.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/version.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/decoder/decoder.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/extractor/index.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/locator/index.ts", "../node_modules/qr-scanner/node_modules/jsqr-es6/src/index.ts", "../node_modules/qr-scanner/src/worker.ts", "../src/index.tsx", "../src/components/layout/header.tsx", "../src/components/layout/tabs.tsx", "../src/components/dash/node.tsx", "../node_modules/nostr-tools/node_modules/@noble/curves/node_modules/@noble/hashes/src/_assert.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/node_modules/@noble/hashes/src/crypto.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/node_modules/@noble/hashes/src/utils.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/node_modules/@noble/hashes/src/_sha2.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/node_modules/@noble/hashes/src/sha256.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/src/abstract/utils.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/src/abstract/modular.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/src/abstract/curve.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/src/abstract/weierstrass.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/node_modules/@noble/hashes/src/hmac.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/src/_shortw_utils.ts", "../node_modules/nostr-tools/node_modules/@noble/curves/src/secp256k1.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/crypto.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/utils.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/_assert.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/_sha2.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/sha256.ts", "../node_modules/@scure/base/lib/esm/index.js", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/_assert.ts", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/utils.ts", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/_polyval.ts", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/aes.ts", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/_poly1305.ts", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/_arx.ts", "../node_modules/nostr-tools/node_modules/@noble/ciphers/src/chacha.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/hmac.ts", "../node_modules/nostr-tools/node_modules/@noble/hashes/src/hkdf.ts", "../node_modules/nostr-tools/lib/esm/index.js", "../src/context/node.tsx", "../src/hooks/useBifrost.ts", "../node_modules/@noble/hashes/src/crypto.ts", "../node_modules/@noble/hashes/src/utils.ts", "../node_modules/@noble/hashes/src/_md.ts", "../node_modules/@noble/hashes/src/_u64.ts", "../node_modules/@noble/hashes/src/sha2.ts", "../node_modules/@noble/hashes/src/sha256.ts", "../node_modules/@cmdcode/buff/src/assert.ts", "../node_modules/@cmdcode/buff/src/format/str.ts", "../node_modules/@cmdcode/buff/node_modules/@scure/base/index.ts", "../node_modules/@cmdcode/buff/src/encode.ts", "../node_modules/@cmdcode/buff/src/format/big.ts", "../node_modules/@cmdcode/buff/src/format/bin.ts", "../node_modules/@cmdcode/buff/src/format/num.ts", "../node_modules/@cmdcode/buff/src/utils.ts", "../node_modules/@cmdcode/buff/src/format/buffer.ts", "../node_modules/@cmdcode/buff/src/buff.ts", "../node_modules/@noble/hashes/src/hmac.ts", "../node_modules/@cmdcode/nostr-p2p/node_modules/@noble/curves/src/abstract/utils.ts", "../node_modules/@cmdcode/nostr-p2p/node_modules/@noble/curves/src/abstract/modular.ts", "../node_modules/@cmdcode/nostr-p2p/node_modules/@noble/curves/src/abstract/curve.ts", "../node_modules/@cmdcode/nostr-p2p/node_modules/@noble/curves/src/abstract/weierstrass.ts", "../node_modules/@cmdcode/nostr-p2p/node_modules/@noble/curves/src/_shortw_utils.ts", "../node_modules/@cmdcode/nostr-p2p/node_modules/@noble/curves/src/secp256k1.ts", "../node_modules/@noble/ciphers/src/utils.ts", "../node_modules/@noble/ciphers/src/_polyval.ts", "../node_modules/@noble/ciphers/src/aes.ts", "../node_modules/@cmdcode/nostr-p2p/dist/lib/crypto.js", "../node_modules/@cmdcode/nostr-p2p/dist/lib/util.js", "../node_modules/zod/dist/esm/v3/external.js", "../node_modules/zod/dist/esm/v3/helpers/util.js", "../node_modules/zod/dist/esm/v3/ZodError.js", "../node_modules/zod/dist/esm/v3/locales/en.js", "../node_modules/zod/dist/esm/v3/errors.js", "../node_modules/zod/dist/esm/v3/helpers/parseUtil.js", "../node_modules/zod/dist/esm/v3/helpers/errorUtil.js", "../node_modules/zod/dist/esm/v3/types.js", "../node_modules/zod/dist/esm/v3/index.js", "../node_modules/zod/dist/esm/index.js", "../node_modules/@cmdcode/nostr-p2p/dist/schema/base.js", "../node_modules/@cmdcode/nostr-p2p/dist/schema/event.js", "../node_modules/@cmdcode/nostr-p2p/dist/schema/msg.js", "../node_modules/@cmdcode/nostr-p2p/dist/schema/index.js", "../node_modules/@cmdcode/nostr-p2p/dist/util/assert.js", "../node_modules/@cmdcode/nostr-p2p/dist/util/helpers.js", "../node_modules/@cmdcode/nostr-p2p/dist/lib/event.js", "../node_modules/@cmdcode/nostr-p2p/dist/lib/message.js", "../node_modules/@cmdcode/nostr-p2p/dist/lib/validate.js", "../node_modules/@cmdcode/frost/dist/ecc/hash.js", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/utils.ts", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/abstract/modular.ts", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/abstract/curve.ts", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/abstract/weierstrass.ts", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/_shortw_utils.ts", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/abstract/hash-to-curve.ts", "../node_modules/@cmdcode/frost/node_modules/@noble/curves/src/secp256k1.ts", "../node_modules/@cmdcode/frost/dist/const.js", "../node_modules/@cmdcode/frost/dist/ecc/util.js", "../node_modules/@cmdcode/frost/dist/ecc/group.js", "../node_modules/@cmdcode/frost/dist/util/assert.js", "../node_modules/@cmdcode/frost/dist/util/helpers.js", "../node_modules/@cmdcode/frost/dist/lib/helpers.js", "../node_modules/@cmdcode/frost/dist/lib/commit.js", "../node_modules/@cmdcode/frost/dist/ecc/state.js", "../node_modules/@cmdcode/frost/dist/lib/context.js", "../node_modules/@cmdcode/frost/dist/lib/poly.js", "../node_modules/@cmdcode/frost/dist/lib/ecdh.js", "../node_modules/@cmdcode/frost/dist/lib/sign.js", "../node_modules/@frostr/bifrost/dist/lib/ecdh.js", "../node_modules/@frostr/bifrost/dist/schema/base.js", "../node_modules/@frostr/bifrost/dist/schema/peer.js", "../node_modules/@frostr/bifrost/dist/schema/node.js", "../node_modules/@frostr/bifrost/dist/schema/pkg.js", "../node_modules/@frostr/bifrost/dist/schema/sign.js", "../node_modules/@frostr/bifrost/dist/schema/index.js", "../node_modules/@frostr/bifrost/dist/lib/parse.js", "../node_modules/@frostr/bifrost/dist/util/helpers.js", "../node_modules/@frostr/bifrost/dist/util/assert.js", "../node_modules/@frostr/bifrost/node_modules/@noble/curves/src/utils.ts", "../node_modules/@frostr/bifrost/node_modules/@noble/curves/src/abstract/modular.ts", "../node_modules/@frostr/bifrost/node_modules/@noble/curves/src/abstract/curve.ts", "../node_modules/@frostr/bifrost/node_modules/@noble/curves/src/abstract/weierstrass.ts", "../node_modules/@frostr/bifrost/node_modules/@noble/curves/src/_shortw_utils.ts", "../node_modules/@frostr/bifrost/node_modules/@noble/curves/src/secp256k1.ts", "../node_modules/@frostr/bifrost/dist/util/crypto.js", "../node_modules/@frostr/bifrost/dist/util/parse.js", "../node_modules/@frostr/bifrost/dist/lib/util.js", "../node_modules/@frostr/bifrost/dist/lib/peer.js", "../node_modules/@frostr/bifrost/dist/api/ecdh.js", "../node_modules/@frostr/bifrost/dist/api/echo.js", "../node_modules/@frostr/bifrost/dist/api/ping.js", "../node_modules/@frostr/bifrost/dist/lib/sighash.js", "../node_modules/@frostr/bifrost/dist/lib/group.js", "../node_modules/@frostr/bifrost/dist/lib/session.js", "../node_modules/@frostr/bifrost/dist/lib/sign.js", "../node_modules/@frostr/bifrost/dist/api/sign.js", "../node_modules/@frostr/bifrost/dist/class/emitter.js", "../node_modules/@frostr/bifrost/dist/class/signer.js", "../node_modules/@frostr/bifrost/dist/class/queue.js", "../node_modules/@cmdcode/nostr-p2p/dist/class/emitter.js", "../node_modules/@cmdcode/nostr-p2p/dist/class/client.js", "../node_modules/@frostr/bifrost/dist/class/client.js", "../node_modules/@frostr/bifrost/dist/encoder/group.js", "../node_modules/@frostr/bifrost/dist/encoder/share.js", "../node_modules/@frostr/bifrost/dist/encoder/index.js", "../node_modules/@noble/hashes/src/pbkdf2.ts", "../node_modules/@vbyte/buff/dist/util/validate.js", "../node_modules/@vbyte/buff/dist/util/assert.js", "../node_modules/@vbyte/buff/dist/lib/big.js", "../node_modules/@vbyte/buff/dist/lib/num.js", "../node_modules/@vbyte/buff/dist/lib/hex.js", "../node_modules/@vbyte/buff/dist/lib/bytes.js", "../node_modules/@vbyte/buff/dist/lib/bin.js", "../node_modules/@vbyte/buff/dist/lib/str.js", "../node_modules/@vbyte/buff/dist/lib/rand.js", "../node_modules/@vbyte/buff/dist/class/buff.js", "../node_modules/@vbyte/micro-lib/dist/lib/util.js", "../node_modules/@vbyte/micro-lib/dist/lib/test.js", "../node_modules/@vbyte/micro-lib/dist/lib/assert.js", "../src/lib/enclave.ts", "../src/context/console.tsx", "../node_modules/@vbyte/micro-lib/dist/lib/ecc.js", "../node_modules/@vbyte/micro-lib/node_modules/@noble/curves/src/utils.ts", "../node_modules/@vbyte/micro-lib/node_modules/@noble/curves/src/abstract/modular.ts", "../node_modules/@vbyte/micro-lib/node_modules/@noble/curves/src/abstract/curve.ts", "../node_modules/@vbyte/micro-lib/node_modules/@noble/curves/src/abstract/weierstrass.ts", "../node_modules/@vbyte/micro-lib/node_modules/@noble/curves/src/_shortw_utils.ts", "../node_modules/@vbyte/micro-lib/node_modules/@noble/curves/src/secp256k1.ts", "../node_modules/@vbyte/micro-lib/dist/lib/hash.js", "../node_modules/@noble/hashes/src/legacy.ts", "../node_modules/@vbyte/micro-lib/dist/lib/schema.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/external.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/index.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/core.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/util.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/errors.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/parse.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/regexes.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/checks.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/doc.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/versions.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/schemas.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/index.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ar.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/az.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/be.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ca.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/cs.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/da.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/de.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/en.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/eo.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/es.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/fa.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/fi.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/fr.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/fr-CA.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/he.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/hu.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/id.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/is.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/it.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ja.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/kh.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ko.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/mk.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ms.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/nl.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/no.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ota.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ps.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/pl.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/pt.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ru.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/sl.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/sv.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ta.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/th.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/tr.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ua.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/ur.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/vi.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/zh-CN.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/zh-TW.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/locales/yo.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/registries.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/api.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/function.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/to-json-schema.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/core/json-schema.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/iso.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/errors.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/parse.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/schemas.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/compat.js", "../node_modules/@vbyte/micro-lib/node_modules/zod/v4/classic/coerce.js", "../node_modules/@vbyte/micro-lib/node_modules/@scure/base/index.ts", "../node_modules/@vbyte/micro-lib/dist/lib/encode.js", "../node_modules/@vbyte/micro-lib/dist/lib/exec.js", "../node_modules/@vbyte/micro-lib/dist/lib/fetch.js", "../node_modules/@vbyte/micro-lib/dist/lib/json.js", "../node_modules/@vbyte/micro-lib/dist/lib/logger.js", "../src/const.ts", "../src/class/store.ts", "../src/context/settings.tsx", "../src/defaults.json", "../src/components/util/icons.tsx", "../src/components/dash/peers.tsx", "../src/components/dash/console.tsx", "../src/components/dash/index.tsx", "../src/components/permissions/index.tsx", "../src/context/permissions.tsx", "../src/lib/permissions.ts", "css-ns:/home/cscott/Repos/frostr/android/src/styles/permissions.css", "../src/components/settings/group.tsx", "../src/components/util/scanner.tsx", "../node_modules/qr-scanner/src/qr-scanner.ts", "../src/components/settings/peers.tsx", "../src/components/settings/relays.tsx", "../src/components/settings/reset.tsx", "../src/components/settings/share.tsx", "../src/lib/encoder.ts", "../src/components/settings/index.tsx", "../src/components/util/nip55.tsx", "../node_modules/@noble/ciphers/src/_arx.ts", "../node_modules/@noble/ciphers/src/_poly1305.ts", "../node_modules/@noble/ciphers/src/chacha.ts", "../node_modules/@noble/hashes/src/hkdf.ts", "../src/lib/util.ts", "../src/lib/cipher.ts", "../src/class/signer.ts", "../src/lib/signer.ts", "../src/components/app.tsx", "../src/components/util/error-boundary.tsx", "css-ns:/home/cscott/Repos/frostr/android/src/styles/global.css", "css-ns:/home/cscott/Repos/frostr/android/src/styles/layout.css", "css-ns:/home/cscott/Repos/frostr/android/src/styles/node.css", "css-ns:/home/cscott/Repos/frostr/android/src/styles/console.css", "css-ns:/home/cscott/Repos/frostr/android/src/styles/settings.css", "css-ns:/home/cscott/Repos/frostr/android/src/styles/scanner.css"],
  "sourcesContent": ["/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null, V: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, createDeps, update) {\n  var dispatcher = ReactSharedInternals.H;\n  if (\"function\" === typeof update)\n    throw Error(\n      \"useEffect CRUD overload is not enabled in this build of React.\"\n    );\n  return dispatcher.useEffect(create, createDeps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.1.1\";\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n", "/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n", "/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.1.1\";\n", "'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n", "/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 256,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194048;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$5 = 31 - clz32(remainingLanes),\n      lane = 1 << index$5;\n    entanglements[index$5] = 0;\n    expirationTimes[index$5] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$5];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$5] = null, index$5 = 0;\n        index$5 < hiddenUpdatesForLane.length;\n        index$5++\n      ) {\n        var update = hiddenUpdatesForLane[index$5];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194090);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$6 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$6;\n    (lane & entangledLanes) | (root[index$6] & entangledLanes) &&\n      (root[index$6] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$8 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$8 && \"aria-\" !== prefix$8) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$9) {\n                control = x$9;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$10) {\n              control = x$10;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$282;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_417 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_417) {\n      var element$jscomp$inline_418 = document.createElement(\"div\");\n      element$jscomp$inline_418.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_417 =\n        \"function\" === typeof element$jscomp$inline_418.oninput;\n    }\n    JSCompiler_inline_result$jscomp$282 = isSupported$jscomp$inline_417;\n  } else JSCompiler_inline_result$jscomp$282 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$282 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (tag = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === tag) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            tag--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              tag++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter$1 = 0,\n  thenableState$1 = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter$1 = 0;\n  thenableState$1 = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState$1 = null);\n    thenableIndexCounter$1 = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter$1 = localIdCounter = 0;\n  thenableState$1 = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  thenable = trackUsedThenable(thenableState$1, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$32 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$32 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$32 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$32 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  var create = subscribeToStore.bind(null, fiber, hook, subscribe);\n  updateEffectImpl(2048, 8, create, [subscribe]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 124) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$38) {\n      onActionError(actionQueue, node, error$38);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, createDeps) {\n  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((createDeps = create.next),\n      (create.next = tag),\n      (tag.next = createDeps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction createEffectInstance() {\n  return { destroy: void 0, resource: void 0 };\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {\n  var hook = mountWorkInProgressHook();\n  createDeps = void 0 === createDeps ? null : createDeps;\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    createEffectInstance(),\n    create,\n    createDeps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, createDeps) {\n  mountEffectImpl(8390656, 8, create, createDeps);\n}\nfunction updateEffect(create, createDeps) {\n  updateEffectImpl(2048, 8, create, createDeps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$41 = enqueueUpdate(provider, fiber, lane);\n        null !== root$41 &&\n          (scheduleUpdateOnFiber(root$41, provider, lane),\n          entangleTransitions(root$41, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n    readContext: readContext,\n    use: use,\n    useCallback: throwInvalidHookError,\n    useContext: throwInvalidHookError,\n    useEffect: throwInvalidHookError,\n    useImperativeHandle: throwInvalidHookError,\n    useLayoutEffect: throwInvalidHookError,\n    useInsertionEffect: throwInvalidHookError,\n    useMemo: throwInvalidHookError,\n    useReducer: throwInvalidHookError,\n    useRef: throwInvalidHookError,\n    useState: throwInvalidHookError,\n    useDebugValue: throwInvalidHookError,\n    useDeferredValue: throwInvalidHookError,\n    useTransition: throwInvalidHookError,\n    useSyncExternalStore: throwInvalidHookError,\n    useId: throwInvalidHookError,\n    useHostTransitionStatus: throwInvalidHookError,\n    useFormState: throwInvalidHookError,\n    useActionState: throwInvalidHookError,\n    useOptimistic: throwInvalidHookError,\n    useMemoCache: throwInvalidHookError,\n    useCacheRefresh: throwInvalidHookError\n  },\n  HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 124) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        createEffectInstance(),\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"\\u00ab\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"\\u00bb\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"\\u00ab\" +\n            identifierPrefix +\n            \"r\" +\n            JSCompiler_inline_result.toString(32) +\n            \"\\u00bb\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  HooksDispatcherOnRerender = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: rerenderReducer,\n    useRef: updateRef,\n    useState: function () {\n      return rerenderReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return null === currentHook\n        ? mountDeferredValueImpl(hook, value, initialValue)\n        : updateDeferredValueImpl(\n            hook,\n            currentHook.memoizedState,\n            value,\n            initialValue\n          );\n    },\n    useTransition: function () {\n      var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: rerenderActionState,\n    useActionState: rerenderActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      if (null !== currentHook)\n        return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n      hook.baseState = passthrough;\n      return [passthrough, hook.queue.dispatch];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  thenableState = null,\n  thenableIndexCounter = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  return trackUsedThenable(thenableState, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          \"$?\" === state.data ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (prevState = 0; null !== nextChildren; )\n          (prevState =\n            prevState | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = prevState & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912,\n                hydrationErrors: null\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          isSuspenseInstanceFallback(nextInstance)\n            ? (workInProgress.lanes = 32)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextInstance))\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = renderLanes & -renderLanes),\n        (nextProps =\n          0 !== (nextProps & 42)\n            ? 1\n            : getBumpedLaneForHydrationByLane(nextProps)),\n        (nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps),\n        0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n      )\n        throw (\n          ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 65011712),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  offscreenProps.stateNode = {\n    _visibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null\n  };\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        lazyComponent = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        init = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        lazyComponent = nextState.cache;\n        pushProvider(workInProgress, CacheContext, lazyComponent);\n        lazyComponent !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        lazyComponent = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: lazyComponent,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else if (lazyComponent !== init) {\n            init = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(init);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (lazyComponent === init) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(\n            current,\n            workInProgress,\n            lazyComponent,\n            renderLanes\n          );\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (init = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = init),\n              (nextHydratableInstance = getNextHydratable(\n                lazyComponent.firstChild\n              )))\n            : (nextHydratableInstance = init)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = prevState.children;\n      shouldSetTextContent(init, prevState)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        (renderLanes = workInProgress.mode),\n        (lazyComponent = {\n          mode: lazyComponent.mode,\n          children: lazyComponent.children\n        }),\n        null === current\n          ? ((renderLanes = mountWorkInProgressOffscreenFiber(\n              lazyComponent,\n              renderLanes\n            )),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes))\n          : ((renderLanes = createWorkInProgress(current.child, lazyComponent)),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes)),\n        workInProgress\n      );\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (prevState = createCache()),\n              (init.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && (init.pooledCacheLanes |= renderLanes),\n              (init = prevState)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = prevState.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194048) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$113 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$113 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$113\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$113.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags & 65011712),\n        (subtreeFlags |= child$114.flags & 65011712),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  else\n    for (child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags),\n        (subtreeFlags |= child$114.flags),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 31:\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$127 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$127 = newProps.memoizedState.cachePool.pool);\n        cache$127 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$127 = type.rendering;\n      if (null === cache$127)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$127 = findFirstSuspended(current);\n              if (null !== cache$127) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$127.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$127)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$127.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$127.sibling = workInProgress.child),\n            (workInProgress.child = cache$127))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$127)\n              : (workInProgress.child = cache$127),\n            (type.last = cache$127));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$143) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$143);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1024) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$142) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$142\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearSuspenseBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$144 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$144, \"\"), (hostParentFiber.flags &= -33));\n          var before$145 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$145, parent$144);\n          break;\n        case 3:\n        case 4:\n          var parent$146 = hostParentFiber.stateNode.containerInfo,\n            before$147 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$147,\n            parent$146\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 124) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              2,\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  )\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (suspendedCommitReason = waitForCommitToBeReady()),\n      null !== suspendedCommitReason)\n    ) {\n      root.cancelPendingCommit = suspendedCommitReason(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$4 = 31 - clz32(lanes),\n      lane = 1 << index$4;\n    didAttemptEntireTree[index$4] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState = null),\n        (thenableIndexCounter = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$2 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$2;\n      lanes |= root[index$2];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$169) {\n      handleThrow(root, thrownValue$169);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState = null;\n  thenableIndexCounter = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects(!0);\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 4194090) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects(wasDelayedCommit) {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects(wasDelayedCommit);\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$174 = firstScheduledRoot; null !== root$174; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$174.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$174.suspendedLanes,\n                pingedLanes = root$174.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$174,\n                root$174 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$174.cancelPendingCommit ||\n                  -1 !== root$174.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$174, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n        root$174 = root$174.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$3 = 31 - clz32(lanes),\n      lane = 1 << index$3,\n      expirationTime = expirationTimes[index$3];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$3] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects(!0) && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1528 = 0;\n  i$jscomp$inline_1528 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1528++\n) {\n  var eventName$jscomp$inline_1529 =\n      simpleEventPluginEvents[i$jscomp$inline_1528],\n    domEventName$jscomp$inline_1530 =\n      eventName$jscomp$inline_1529.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1531 =\n      eventName$jscomp$inline_1529[0].toUpperCase() +\n      eventName$jscomp$inline_1529.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1530,\n    \"on\" + capitalizedEvent$jscomp$inline_1531\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$188 = props[hasSrc];\n          if (null != propValue$188)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$188;\n                break;\n              case \"type\":\n                propValue = propValue$188;\n                break;\n              case \"checked\":\n                checked = propValue$188;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$188;\n                break;\n              case \"value\":\n                propKey = propValue$188;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$188;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$188)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$188, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$188 in props)\n          props.hasOwnProperty(propValue$188) &&\n            ((hasSrc = props[propValue$188]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$188,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$205 in nextProps) {\n        var propKey = nextProps[propKey$205];\n        lastProp = lastProps[propKey$205];\n        if (\n          nextProps.hasOwnProperty(propKey$205) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$205) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$205,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$205 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$205 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$205\n        ? updateOptions(domElement, !!lastProps, propKey$205, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$205 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$205 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$205, propKey);\n      return;\n    case \"option\":\n      for (var propKey$221 in lastProps)\n        if (\n          ((propKey$205 = lastProps[propKey$221]),\n          lastProps.hasOwnProperty(propKey$221) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$221))\n        )\n          switch (propKey$221) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$221,\n                null,\n                nextProps,\n                propKey$205\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$205 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$205 &&\n                \"function\" !== typeof propKey$205 &&\n                \"symbol\" !== typeof propKey$205;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$226 in lastProps)\n        (propKey$205 = lastProps[propKey$226]),\n          lastProps.hasOwnProperty(propKey$226) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$226) &&\n            setProp(domElement, tag, propKey$226, null, nextProps, propKey$205);\n      for (checked in nextProps)\n        if (\n          ((propKey$205 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$205)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$231 in lastProps)\n          (propKey$205 = lastProps[propKey$231]),\n            lastProps.hasOwnProperty(propKey$231) &&\n              void 0 !== propKey$205 &&\n              !nextProps.hasOwnProperty(propKey$231) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$231,\n                void 0,\n                nextProps,\n                propKey$205\n              );\n        for (defaultChecked in nextProps)\n          (propKey$205 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$205 === propKey ||\n              (void 0 === propKey$205 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$236 in lastProps)\n    (propKey$205 = lastProps[propKey$236]),\n      lastProps.hasOwnProperty(propKey$236) &&\n        null != propKey$205 &&\n        !nextProps.hasOwnProperty(propKey$236) &&\n        setProp(domElement, tag, propKey$236, null, nextProps, propKey$205);\n  for (lastProp in nextProps)\n    (propKey$205 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$205 === propKey ||\n        (null == propKey$205 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$205, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    possiblePreambleContribution = 0,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (\n          0 < possiblePreambleContribution &&\n          8 > possiblePreambleContribution\n        ) {\n          node = possiblePreambleContribution;\n          var ownerDocument = parentInstance.ownerDocument;\n          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);\n          node & 2 && releaseSingletonInstance(ownerDocument.body);\n          if (node & 4)\n            for (\n              node = ownerDocument.head,\n                releaseSingletonInstance(node),\n                ownerDocument = node.firstChild;\n              ownerDocument;\n\n            ) {\n              var nextNode$jscomp$0 = ownerDocument.nextSibling,\n                nodeName = ownerDocument.nodeName;\n              ownerDocument[internalHoistableMarker] ||\n                \"SCRIPT\" === nodeName ||\n                \"STYLE\" === nodeName ||\n                (\"LINK\" === nodeName &&\n                  \"stylesheet\" === ownerDocument.rel.toLowerCase()) ||\n                node.removeChild(ownerDocument);\n              ownerDocument = nextNode$jscomp$0;\n            }\n        }\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else\n        \"$\" === node || \"$?\" === node || \"$!\" === node\n          ? depth++\n          : (possiblePreambleContribution = node.charCodeAt(0) - 48);\n    else possiblePreambleContribution = 0;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"complete\" === instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$?\" !== instance.data || \"complete\" === ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$244 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$245 = styles$244.get(type);\n        resource$245 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$245 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$244.set(type, resource$245),\n          (styles$244 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$244._p &&\n            ((resource$245.instance = styles$244),\n            (resource$245.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$244 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$245.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$245;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$250 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$250)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$250),\n            markNodeAsHoistable(instance$250),\n            instance$250\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$250 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$250);\n        var linkInstance = instance$250;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$250, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$250, props.precedence, hoistableRoot);\n        return (resource.instance = instance$250);\n      case \"script\":\n        instance$250 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$250)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$250)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane();\n              lane = getBumpedLaneForHydrationByLane(lane);\n              var root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1785 = React.version;\nif (\n  \"19.1.1\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1785\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1785,\n      \"19.1.1\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2256 = {\n  bundleType: 0,\n  version: \"19.1.1\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.1.1\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2257 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2257.isDisabled &&\n    hook$jscomp$inline_2257.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2257.inject(\n        internals$jscomp$inline_2256\n      )),\n        (injectedHook = hook$jscomp$inline_2257);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.1.1\";\n", "'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n", "/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n", "export class BitMatrix {\n  public static createEmpty(width: number, height: number) {\n    return new BitMatrix(new Uint8ClampedArray(width * height), width);\n  }\n\n  public width: number;\n  public height: number;\n  private data: Uint8ClampedArray;\n\n  constructor(data: Uint8ClampedArray, width: number) {\n    this.width = width;\n    this.height = data.length / width;\n    this.data = data;\n  }\n\n  public get(x: number, y: number): boolean {\n    if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\n      return false;\n    }\n    return !!this.data[y * this.width + x];\n  }\n\n  public set(x: number, y: number, v: boolean) {\n    this.data[y * this.width + x] = v ? 1 : 0;\n  }\n\n  public setRegion(left: number, top: number, width: number, height: number, v: boolean) {\n    for (let y = top; y < top + height; y++) {\n      for (let x = left; x < left + width; x++) {\n        this.set(x, y, !!v);\n      }\n    }\n  }\n}\n", "import {BitMatrix} from \"../BitMatrix\";\nimport {GreyscaleWeights} from \"../index\";\n\nconst REGION_SIZE = 8;\nconst MIN_DYNAMIC_RANGE = 24;\n\nfunction numBetween(value: number, min: number, max: number): number {\n  return value < min ? min : value > max ? max : value;\n}\n\n// Like BitMatrix but accepts arbitry Uint8 values\nclass Matrix {\n  private data: Uint8ClampedArray;\n  private width: number;\n  constructor(width: number, height: number, buffer?: Uint8ClampedArray) {\n    this.width = width;\n    const bufferSize = width * height;\n    if (buffer && buffer.length !== bufferSize) {\n      throw new Error(\"Wrong buffer size\");\n    }\n    this.data = buffer || new Uint8ClampedArray(bufferSize);\n  }\n  public get(x: number, y: number) {\n    return this.data[y * this.width + x];\n  }\n  public set(x: number, y: number, value: number) {\n    this.data[y * this.width + x] = value;\n  }\n}\n\nexport function binarize(data: Uint8ClampedArray, width: number, height: number, returnInverted: boolean,\n                         greyscaleWeights: GreyscaleWeights, canOverwriteImage: boolean) {\n  const pixelCount = width * height;\n  if (data.length !== pixelCount * 4) {\n    throw new Error(\"Malformed data passed to binarizer.\");\n  }\n  // assign the greyscale and binary image within the rgba buffer as the rgba image will not be needed after conversion\n  let bufferOffset = 0;\n  // Convert image to greyscale\n  let greyscaleBuffer: Uint8ClampedArray;\n  if (canOverwriteImage) {\n    greyscaleBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n    bufferOffset += pixelCount;\n  }\n  const greyscalePixels = new Matrix(width, height, greyscaleBuffer);\n  if (greyscaleWeights.useIntegerApproximation) {\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const pixelPosition = (y * width + x) * 4;\n        const r = data[pixelPosition];\n        const g = data[pixelPosition + 1];\n        const b = data[pixelPosition + 2];\n        greyscalePixels.set(x, y,\n          // tslint:disable-next-line no-bitwise\n          (greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b + 128) >> 8);\n      }\n    }\n  } else {\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const pixelPosition = (y * width + x) * 4;\n        const r = data[pixelPosition];\n        const g = data[pixelPosition + 1];\n        const b = data[pixelPosition + 2];\n        greyscalePixels.set(x, y,\n          greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b);\n      }\n    }\n  }\n  const horizontalRegionCount = Math.ceil(width / REGION_SIZE);\n  const verticalRegionCount = Math.ceil(height / REGION_SIZE);\n  const blackPointsCount = horizontalRegionCount * verticalRegionCount;\n\n  let blackPointsBuffer: Uint8ClampedArray;\n  if (canOverwriteImage) {\n    blackPointsBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, blackPointsCount);\n    bufferOffset += blackPointsCount;\n  }\n  const blackPoints = new Matrix(horizontalRegionCount, verticalRegionCount, blackPointsBuffer);\n  for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n    for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n      let min = Infinity;\n      let max = 0;\n      for (let y = 0; y < REGION_SIZE; y++) {\n        for (let x = 0; x < REGION_SIZE; x++) {\n          const pixelLumosity =\n            greyscalePixels.get(hortizontalRegion * REGION_SIZE + x, verticalRegion * REGION_SIZE + y);\n          min = Math.min(min, pixelLumosity);\n          max = Math.max(max, pixelLumosity);\n        }\n      }\n      // We could also compute the real average of all pixels but following the assumption that the qr code consists\n      // of bright and dark pixels and essentially not much in between, by (min + max)/2 we make the cut really between\n      // those two classes. If using the average over all pixel in a block of mostly bright pixels and few dark pixels,\n      // the avg would tend to the bright side and darker bright pixels could be interpreted as dark.\n      let average = (min + max) / 2;\n      // Small bias towards black by moving the threshold up. We do this, as in the finder patterns white holes tend\n      // to appear which makes them undetectable.\n      const blackBias = 1.11;\n      average = Math.min(255, average * blackBias);\n      if (max - min <= MIN_DYNAMIC_RANGE) {\n        // If variation within the block is low, assume this is a block with only light or only\n        // dark pixels. In that case we do not want to use the average, as it would divide this\n        // low contrast area into black and white pixels, essentially creating data out of noise.\n        //\n        // Default the blackpoint for these blocks to be half the min - effectively white them out\n        average = min / 2;\n\n        if (verticalRegion > 0 && hortizontalRegion > 0) {\n          // Correct the \"white background\" assumption for blocks that have neighbors by comparing\n          // the pixels in this block to the previously calculated black points. This is based on\n          // the fact that dark barcode symbology is always surrounded by some amount of light\n          // background for which reasonable black point estimates were made. The bp estimated at\n          // the boundaries is used for the interior.\n\n          // The (min < bp) is arbitrary but works better than other heuristics that were tried.\n          const averageNeighborBlackPoint = (\n            blackPoints.get(hortizontalRegion, verticalRegion - 1) +\n            (2 * blackPoints.get(hortizontalRegion - 1, verticalRegion)) +\n            blackPoints.get(hortizontalRegion - 1, verticalRegion - 1)\n          ) / 4;\n          if (min < averageNeighborBlackPoint) {\n            average = averageNeighborBlackPoint; // no need to apply black bias as already applied to neighbors\n          }\n        }\n      }\n      blackPoints.set(hortizontalRegion, verticalRegion, average);\n    }\n  }\n\n  let binarized: BitMatrix;\n  if (canOverwriteImage) {\n    const binarizedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n    bufferOffset += pixelCount;\n    binarized = new BitMatrix(binarizedBuffer, width);\n  } else {\n    binarized = BitMatrix.createEmpty(width, height);\n  }\n\n  let inverted: BitMatrix = null;\n  if (returnInverted) {\n    if (canOverwriteImage) {\n      const invertedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n      inverted = new BitMatrix(invertedBuffer, width);\n    } else {\n      inverted = BitMatrix.createEmpty(width, height);\n    }\n  }\n\n  for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n    for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n      const left = numBetween(hortizontalRegion, 2, horizontalRegionCount - 3);\n      const top = numBetween(verticalRegion, 2, verticalRegionCount - 3);\n      let sum = 0;\n      for (let xRegion = -2; xRegion <= 2; xRegion++) {\n        for (let yRegion = -2; yRegion <= 2; yRegion++) {\n          sum += blackPoints.get(left + xRegion, top + yRegion);\n        }\n      }\n      const threshold = sum / 25;\n      for (let xRegion = 0; xRegion < REGION_SIZE; xRegion++) {\n        for (let yRegion = 0; yRegion < REGION_SIZE; yRegion++) {\n          const x = hortizontalRegion * REGION_SIZE + xRegion;\n          const y = verticalRegion * REGION_SIZE + yRegion;\n          const lum = greyscalePixels.get(x, y);\n          binarized.set(x, y, lum <= threshold);\n          if (returnInverted) {\n            inverted.set(x, y, !(lum <= threshold));\n          }\n        }\n      }\n    }\n  }\n  if (returnInverted) {\n    return { binarized, inverted };\n  }\n  return { binarized };\n}\n", "// tslint:disable:no-bitwise\n\nexport class BitStream {\n  private bytes: Uint8ClampedArray;\n  private byteOffset: number = 0;\n  private bitOffset: number = 0;\n\n  constructor(bytes: Uint8ClampedArray) {\n    this.bytes = bytes;\n  }\n\n  public readBits(numBits: number): number {\n    if (numBits < 1 || numBits > 32 || numBits > this.available()) {\n      throw new Error(\"Cannot read \" + numBits.toString() + \" bits\");\n    }\n\n    let result = 0;\n    // First, read remainder from current byte\n    if (this.bitOffset > 0) {\n      const bitsLeft = 8 - this.bitOffset;\n      const toRead = numBits < bitsLeft ? numBits : bitsLeft;\n      const bitsToNotRead = bitsLeft - toRead;\n      const mask = (0xFF >> (8 - toRead)) << bitsToNotRead;\n      result = (this.bytes[this.byteOffset] & mask) >> bitsToNotRead;\n      numBits -= toRead;\n      this.bitOffset += toRead;\n      if (this.bitOffset === 8) {\n        this.bitOffset = 0;\n        this.byteOffset++;\n      }\n    }\n\n    // Next read whole bytes\n    if (numBits > 0) {\n      while (numBits >= 8) {\n        result = (result << 8) | (this.bytes[this.byteOffset] & 0xFF);\n        this.byteOffset++;\n        numBits -= 8;\n      }\n\n      // Finally read a partial byte\n      if (numBits > 0) {\n        const bitsToNotRead = 8 - numBits;\n        const mask = (0xFF >> bitsToNotRead) << bitsToNotRead;\n        result = (result << numBits) | ((this.bytes[this.byteOffset] & mask) >> bitsToNotRead);\n        this.bitOffset += numBits;\n      }\n    }\n    return result;\n  }\n\n  public available(): number {\n    return 8 * (this.bytes.length - this.byteOffset) - this.bitOffset;\n  }\n}\n", "// tslint:disable:no-bitwise\nimport { BitStream } from \"./BitStream\";\n\nexport interface Chunk {\n  type: Mode;\n  text: string;\n}\n\nexport interface ByteChunk {\n  type: Mode.Byte | Mode.Kanji;\n  bytes: number[];\n}\n\nexport interface ECIChunk {\n  type: Mode.ECI;\n  assignmentNumber: number;\n}\n\nexport interface StructuredAppend {\n  type: Mode.StructuredAppend;\n  currentSequence: number;\n  totalSequence: number;\n  parity: number;\n}\n\nexport type Chunks = Array<Chunk | ByteChunk | ECIChunk | StructuredAppend>;\n\nexport interface DecodedQR {\n  text: string;\n  bytes: number[];\n  chunks: Chunks;\n  version: number;\n}\n\nexport enum Mode {\n  Numeric = \"numeric\",\n  Alphanumeric = \"alphanumeric\",\n  Byte = \"byte\",\n  Kanji = \"kanji\",\n  ECI = \"eci\",\n  StructuredAppend = \"structuredappend\",\n}\n\nenum ModeByte {\n  Terminator = 0x0,\n  Numeric = 0x1,\n  Alphanumeric = 0x2,\n  Byte = 0x4,\n  Kanji = 0x8,\n  ECI = 0x7,\n  StructuredAppend = 0x3,\n  // FNC1FirstPosition = 0x5,\n  // FNC1SecondPosition = 0x9,\n}\n\nfunction decodeNumeric(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n  let text = \"\";\n\n  const characterCountSize = [10, 12, 14][size];\n  let length = stream.readBits(characterCountSize);\n  // Read digits in groups of 3\n  while (length >= 3) {\n    const num = stream.readBits(10);\n    if (num >= 1000) {\n      throw new Error(\"Invalid numeric value above 999\");\n    }\n\n    const a = Math.floor(num / 100);\n    const b = Math.floor(num / 10) % 10;\n    const c = num % 10;\n\n    bytes.push(48 + a, 48 + b, 48 + c);\n    text += a.toString() + b.toString() + c.toString();\n    length -= 3;\n  }\n\n  // If the number of digits aren't a multiple of 3, the remaining digits are special cased.\n  if (length === 2) {\n    const num = stream.readBits(7);\n    if (num >= 100) {\n      throw new Error(\"Invalid numeric value above 99\");\n    }\n\n    const a = Math.floor(num / 10);\n    const b = num % 10;\n\n    bytes.push(48 + a, 48 + b);\n    text += a.toString() + b.toString();\n  } else if (length === 1) {\n    const num = stream.readBits(4);\n    if (num >= 10) {\n      throw new Error(\"Invalid numeric value above 9\");\n    }\n\n    bytes.push(48 + num);\n    text += num.toString();\n  }\n\n  return { bytes, text };\n}\n\nconst AlphanumericCharacterCodes = [\n  \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",\n  \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\",\n  \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\",\n  \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n  \" \", \"$\", \"%\", \"*\", \"+\", \"-\", \".\", \"/\", \":\",\n];\n\nfunction decodeAlphanumeric(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n  let text = \"\";\n\n  const characterCountSize = [9, 11, 13][size];\n  let length = stream.readBits(characterCountSize);\n  while (length >= 2) {\n    const v = stream.readBits(11);\n\n    const a = Math.floor(v / 45);\n    const b = v % 45;\n\n    bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0), AlphanumericCharacterCodes[b].charCodeAt(0));\n    text += AlphanumericCharacterCodes[a] + AlphanumericCharacterCodes[b];\n    length -= 2;\n  }\n\n  if (length === 1) {\n    const a = stream.readBits(6);\n    bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0));\n    text += AlphanumericCharacterCodes[a];\n  }\n\n  return { bytes, text };\n}\n\nfunction decodeByte(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n  let text = \"\";\n\n  const characterCountSize = [8, 16, 16][size];\n  const length = stream.readBits(characterCountSize);\n  for (let i = 0; i < length; i++) {\n    const b = stream.readBits(8);\n    bytes.push(b);\n  }\n  try {\n    text += decodeURIComponent(bytes.map(b => `%${(\"0\" + b.toString(16)).substr(-2)}`).join(\"\"));\n  } catch {\n    // failed to decode\n  }\n\n  return { bytes, text };\n}\n\nfunction decodeKanji(stream: BitStream, size: number) {\n  const bytes: number[] = [];\n\n  const characterCountSize = [8, 10, 12][size];\n  const length = stream.readBits(characterCountSize);\n  for (let i = 0; i < length; i++) {\n    const k = stream.readBits(13);\n\n    let c = (Math.floor(k / 0xC0) << 8) | (k % 0xC0);\n    if (c < 0x1F00) {\n      c += 0x8140;\n    } else {\n      c += 0xC140;\n    }\n\n    bytes.push(c >> 8, c & 0xFF);\n  }\n\n  const text = new TextDecoder(\"shift-jis\").decode(Uint8Array.from(bytes));\n  return { bytes, text };\n}\n\nexport function decode(data: Uint8ClampedArray, version: number): DecodedQR {\n  const stream = new BitStream(data);\n\n  // There are 3 'sizes' based on the version. 1-9 is small (0), 10-26 is medium (1) and 27-40 is large (2).\n  const size = version <= 9 ? 0 : version <= 26 ? 1 : 2;\n\n  const result: DecodedQR = {\n    text: \"\",\n    bytes: [],\n    chunks: [],\n    version,\n  };\n\n  while (stream.available() >= 4) {\n    const mode = stream.readBits(4);\n    if (mode === ModeByte.Terminator) {\n      return result;\n    } else if (mode === ModeByte.ECI) {\n      if (stream.readBits(1) === 0) {\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: stream.readBits(7),\n        });\n      } else if (stream.readBits(1) === 0) {\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: stream.readBits(14),\n        });\n      } else if (stream.readBits(1) === 0) {\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: stream.readBits(21),\n        });\n      } else {\n        // ECI data seems corrupted\n        result.chunks.push({\n          type: Mode.ECI,\n          assignmentNumber: -1,\n        });\n      }\n    } else if (mode === ModeByte.Numeric) {\n      const numericResult = decodeNumeric(stream, size);\n      result.text += numericResult.text;\n      result.bytes.push(...numericResult.bytes);\n      result.chunks.push({\n        type: Mode.Numeric,\n        text: numericResult.text,\n      });\n    } else if (mode === ModeByte.Alphanumeric) {\n      const alphanumericResult = decodeAlphanumeric(stream, size);\n      result.text += alphanumericResult.text;\n      result.bytes.push(...alphanumericResult.bytes);\n      result.chunks.push({\n        type: Mode.Alphanumeric,\n        text: alphanumericResult.text,\n      });\n    } else if (mode === ModeByte.Byte) {\n      const byteResult = decodeByte(stream, size);\n      result.text += byteResult.text;\n      result.bytes.push(...byteResult.bytes);\n      result.chunks.push({\n        type: Mode.Byte,\n        bytes: byteResult.bytes,\n        text: byteResult.text,\n      });\n    } else if (mode === ModeByte.Kanji) {\n      const kanjiResult = decodeKanji(stream, size);\n      result.text += kanjiResult.text;\n      result.bytes.push(...kanjiResult.bytes);\n      result.chunks.push({\n        type: Mode.Kanji,\n        bytes: kanjiResult.bytes,\n        text: kanjiResult.text,\n      });\n    } else if (mode === ModeByte.StructuredAppend) {\n      result.chunks.push({\n        type: Mode.StructuredAppend,\n        currentSequence: stream.readBits(4),\n        totalSequence: stream.readBits(4),\n        parity: stream.readBits(8),\n      });\n    }\n  }\n\n  // If there is no data left, or the remaining bits are all 0, then that counts as a termination marker\n  if (stream.available() === 0 || stream.readBits(stream.available()) === 0) {\n    return result;\n  }\n}\n", "import GenericGF, { addOrSubtractGF } from \"./GenericGF\";\n\nexport default class GenericGFPoly {\n  private field: GenericGF;\n  private coefficients: Uint8ClampedArray;\n\n  constructor(field: GenericGF, coefficients: Uint8ClampedArray) {\n    if (coefficients.length === 0) {\n      throw new Error(\"No coefficients.\");\n    }\n    this.field = field;\n    const coefficientsLength = coefficients.length;\n    if (coefficientsLength > 1 && coefficients[0] === 0) {\n      // Leading term must be non-zero for anything except the constant polynomial \"0\"\n      let firstNonZero = 1;\n      while (firstNonZero < coefficientsLength && coefficients[firstNonZero] === 0) {\n        firstNonZero++;\n      }\n      if (firstNonZero === coefficientsLength) {\n        this.coefficients = field.zero.coefficients;\n      } else {\n        this.coefficients = new Uint8ClampedArray(coefficientsLength - firstNonZero);\n        for (let i = 0; i < this.coefficients.length; i++) {\n          this.coefficients[i] = coefficients[firstNonZero + i];\n        }\n      }\n    } else {\n      this.coefficients = coefficients;\n    }\n  }\n\n  public degree() {\n    return this.coefficients.length - 1;\n  }\n\n  public isZero() {\n    return this.coefficients[0] === 0;\n  }\n\n  public getCoefficient(degree: number) {\n    return this.coefficients[this.coefficients.length - 1 - degree];\n  }\n\n  public addOrSubtract(other: GenericGFPoly) {\n    if (this.isZero()) {\n      return other;\n    }\n    if (other.isZero()) {\n      return this;\n    }\n\n    let smallerCoefficients = this.coefficients;\n    let largerCoefficients = other.coefficients;\n    if (smallerCoefficients.length > largerCoefficients.length) {\n      [smallerCoefficients, largerCoefficients] = [largerCoefficients, smallerCoefficients];\n    }\n    const sumDiff = new Uint8ClampedArray(largerCoefficients.length);\n    const lengthDiff = largerCoefficients.length - smallerCoefficients.length;\n    for (let i = 0; i < lengthDiff; i++) {\n      sumDiff[i] = largerCoefficients[i];\n    }\n\n    for (let i = lengthDiff; i < largerCoefficients.length; i++) {\n      sumDiff[i] = addOrSubtractGF(smallerCoefficients[i - lengthDiff], largerCoefficients[i]);\n    }\n\n    return new GenericGFPoly(this.field, sumDiff);\n  }\n\n  public multiply(scalar: number) {\n    if (scalar === 0) {\n      return this.field.zero;\n    }\n    if (scalar === 1) {\n      return this;\n    }\n    const size = this.coefficients.length;\n    const product = new Uint8ClampedArray(size);\n    for (let i = 0; i < size; i++) {\n      product[i] = this.field.multiply(this.coefficients[i], scalar);\n    }\n\n    return new GenericGFPoly(this.field, product);\n  }\n\n  public multiplyPoly(other: GenericGFPoly): GenericGFPoly {\n    if (this.isZero() || other.isZero()) {\n      return this.field.zero;\n    }\n    const aCoefficients = this.coefficients;\n    const aLength = aCoefficients.length;\n    const bCoefficients = other.coefficients;\n    const bLength = bCoefficients.length;\n    const product = new Uint8ClampedArray(aLength + bLength - 1);\n    for (let i = 0; i < aLength; i++) {\n      const aCoeff = aCoefficients[i];\n      for (let j = 0; j < bLength; j++) {\n        product[i + j] = addOrSubtractGF(product[i + j],\n          this.field.multiply(aCoeff, bCoefficients[j]));\n      }\n    }\n    return new GenericGFPoly(this.field, product);\n  }\n\n  public multiplyByMonomial(degree: number, coefficient: number) {\n    if (degree < 0) {\n      throw new Error(\"Invalid degree less than 0\");\n    }\n    if (coefficient === 0) {\n      return this.field.zero;\n    }\n    const size = this.coefficients.length;\n    const product = new Uint8ClampedArray(size + degree);\n    for (let i = 0; i < size; i++) {\n      product[i] = this.field.multiply(this.coefficients[i], coefficient);\n    }\n    return new GenericGFPoly(this.field, product);\n  }\n\n  public evaluateAt(a: number) {\n    let result = 0;\n    if (a === 0) {\n      // Just return the x^0 coefficient\n      return this.getCoefficient(0);\n    }\n    const size = this.coefficients.length;\n    if (a === 1) {\n      // Just the sum of the coefficients\n      this.coefficients.forEach((coefficient) => {\n        result = addOrSubtractGF(result, coefficient);\n      });\n      return result;\n    }\n    result = this.coefficients[0];\n    for (let i = 1; i < size; i++) {\n      result = addOrSubtractGF(this.field.multiply(a, result), this.coefficients[i]);\n    }\n    return result;\n  }\n}\n", "import GenericGFPoly from \"./GenericGFPoly\";\n\nexport function addOrSubtractGF(a: number, b: number) {\n  return a ^ b; // tslint:disable-line:no-bitwise\n}\n\nexport default class GenericGF {\n  public primitive: number;\n  public size: number;\n  public generatorBase: number;\n  public zero: GenericGFPoly;\n  public one: GenericGFPoly;\n\n  private expTable: number[];\n  private logTable: number[];\n\n  constructor(primitive: number, size: number, genBase: number) {\n    this.primitive = primitive;\n    this.size = size;\n    this.generatorBase = genBase;\n    this.expTable = new Array(this.size);\n    this.logTable = new Array(this.size);\n\n    let x = 1;\n    for (let i = 0; i < this.size; i++) {\n      this.expTable[i] = x;\n      x = x * 2;\n      if (x >= this.size) {\n        x = (x ^ this.primitive) & (this.size - 1); // tslint:disable-line:no-bitwise\n      }\n    }\n\n    for (let i = 0; i < this.size - 1; i++) {\n      this.logTable[this.expTable[i]] = i;\n    }\n    this.zero = new GenericGFPoly(this, Uint8ClampedArray.from([0]));\n    this.one = new GenericGFPoly(this, Uint8ClampedArray.from([1]));\n  }\n\n  public multiply(a: number, b: number) {\n    if (a === 0 || b === 0) {\n      return 0;\n    }\n    return this.expTable[(this.logTable[a] + this.logTable[b]) % (this.size - 1)];\n  }\n\n  public inverse(a: number) {\n    if (a === 0) {\n      throw new Error(\"Can't invert 0\");\n    }\n    return this.expTable[this.size - this.logTable[a] - 1];\n  }\n\n  public buildMonomial(degree: number, coefficient: number): GenericGFPoly {\n    if (degree < 0) {\n      throw new Error(\"Invalid monomial degree less than 0\");\n    }\n    if (coefficient === 0) {\n      return this.zero;\n    }\n    const coefficients = new Uint8ClampedArray(degree + 1);\n    coefficients[0] = coefficient;\n    return new GenericGFPoly(this, coefficients);\n  }\n\n  public log(a: number) {\n    if (a === 0) {\n      throw new Error(\"Can't take log(0)\");\n    }\n    return this.logTable[a];\n  }\n\n  public exp(a: number) {\n    return this.expTable[a];\n  }\n}\n", "import GenericGF, { addOrSubtractGF } from \"./GenericGF\";\nimport GenericGFPoly from \"./GenericGFPoly\";\n\nfunction runEuclideanAlgorithm(field: GenericGF, a: GenericGFPoly, b: GenericGFPoly, R: number): GenericGFPoly[] {\n  // Assume a's degree is >= b's\n  if (a.degree() < b.degree()) {\n    [a, b] = [b, a];\n  }\n\n  let rLast = a;\n  let r = b;\n  let tLast = field.zero;\n  let t = field.one;\n\n  // Run Euclidean algorithm until r's degree is less than R/2\n  while (r.degree() >= R / 2) {\n    const rLastLast = rLast;\n    const tLastLast = tLast;\n    rLast = r;\n    tLast = t;\n\n    // Divide rLastLast by rLast, with quotient in q and remainder in r\n    if (rLast.isZero()) {\n      // Euclidean algorithm already terminated?\n      return null;\n    }\n    r = rLastLast;\n    let q = field.zero;\n    const denominatorLeadingTerm = rLast.getCoefficient(rLast.degree());\n    const dltInverse = field.inverse(denominatorLeadingTerm);\n    while (r.degree() >= rLast.degree() && !r.isZero()) {\n      const degreeDiff = r.degree() - rLast.degree();\n      const scale = field.multiply(r.getCoefficient(r.degree()), dltInverse);\n      q = q.addOrSubtract(field.buildMonomial(degreeDiff, scale));\n      r = r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff, scale));\n    }\n\n    t = q.multiplyPoly(tLast).addOrSubtract(tLastLast);\n\n    if (r.degree() >= rLast.degree()) {\n      return null;\n    }\n  }\n\n  const sigmaTildeAtZero = t.getCoefficient(0);\n  if (sigmaTildeAtZero === 0) {\n    return null;\n  }\n\n  const inverse = field.inverse(sigmaTildeAtZero);\n  return [t.multiply(inverse), r.multiply(inverse)];\n}\n\nfunction findErrorLocations(field: GenericGF, errorLocator: GenericGFPoly): number[] {\n  // This is a direct application of Chien's search\n  const numErrors = errorLocator.degree();\n  if (numErrors === 1) {\n    return [errorLocator.getCoefficient(1)];\n  }\n  const result: number[] = new Array(numErrors);\n  let errorCount = 0;\n  for (let i = 1; i < field.size && errorCount < numErrors; i++) {\n    if (errorLocator.evaluateAt(i) === 0) {\n      result[errorCount] = field.inverse(i);\n      errorCount++;\n    }\n  }\n  if (errorCount !== numErrors) {\n    return null;\n  }\n  return result;\n}\n\nfunction findErrorMagnitudes(field: GenericGF, errorEvaluator: GenericGFPoly, errorLocations: number[]): number[] {\n  // This is directly applying Forney's Formula\n  const s = errorLocations.length;\n  const result: number[] = new Array(s);\n  for (let i = 0; i < s; i++) {\n    const xiInverse = field.inverse(errorLocations[i]);\n    let denominator = 1;\n    for (let j = 0; j < s; j++) {\n      if (i !== j) {\n        denominator = field.multiply(denominator, addOrSubtractGF(1, field.multiply(errorLocations[j], xiInverse)));\n      }\n    }\n    result[i] = field.multiply(errorEvaluator.evaluateAt(xiInverse), field.inverse(denominator));\n    if (field.generatorBase !== 0) {\n      result[i] = field.multiply(result[i], xiInverse);\n    }\n  }\n  return result;\n}\n\nexport function decode(bytes: number[], twoS: number) {\n  const outputBytes = new Uint8ClampedArray(bytes.length);\n  outputBytes.set(bytes);\n\n  const field = new GenericGF(0x011D, 256, 0); // x^8 + x^4 + x^3 + x^2 + 1\n  const poly = new GenericGFPoly(field, outputBytes);\n\n  const syndromeCoefficients = new Uint8ClampedArray(twoS);\n  let error = false;\n  for (let s = 0; s < twoS; s++) {\n    const evaluation = poly.evaluateAt(field.exp(s + field.generatorBase));\n    syndromeCoefficients[syndromeCoefficients.length - 1 - s] = evaluation;\n    if (evaluation !== 0) {\n      error = true;\n    }\n  }\n  if (!error) {\n    return outputBytes;\n  }\n\n  const syndrome = new GenericGFPoly(field, syndromeCoefficients);\n\n  const sigmaOmega = runEuclideanAlgorithm(field, field.buildMonomial(twoS, 1), syndrome, twoS);\n  if (sigmaOmega === null) {\n    return null;\n  }\n\n  const errorLocations = findErrorLocations(field, sigmaOmega[0]);\n  if (errorLocations == null) {\n    return null;\n  }\n\n  const errorMagnitudes = findErrorMagnitudes(field, sigmaOmega[1], errorLocations);\n  for (let i = 0; i < errorLocations.length; i++) {\n    const position = outputBytes.length - 1 - field.log(errorLocations[i]);\n    if (position < 0) {\n      return null;\n    }\n    outputBytes[position] = addOrSubtractGF(outputBytes[position], errorMagnitudes[i]);\n  }\n\n  return outputBytes;\n}\n", "export interface Version {\n  infoBits: number;\n  versionNumber: number;\n  alignmentPatternCenters: number[];\n  errorCorrectionLevels: Array<{\n    ecCodewordsPerBlock: number;\n    ecBlocks: Array<{\n      numBlocks: number;\n      dataCodewordsPerBlock: number;\n    }>\n  }>;\n}\n\nexport const VERSIONS: Version[] = [\n  {\n    infoBits: null,\n    versionNumber: 1,\n    alignmentPatternCenters: [],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 7,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 19 }],\n      },\n      {\n        ecCodewordsPerBlock: 10,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n      },\n      {\n        ecCodewordsPerBlock: 13,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 13 }],\n      },\n      {\n        ecCodewordsPerBlock: 17,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 9 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 2,\n    alignmentPatternCenters: [6, 18],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 10,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 34 }],\n      },\n      {\n        ecCodewordsPerBlock: 16,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 28 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 22 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 3,\n    alignmentPatternCenters: [6, 22],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 15,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 55 }],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 44 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 17 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 13 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 4,\n    alignmentPatternCenters: [6, 26],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 80 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 32 }],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 24 }],\n      },\n      {\n        ecCodewordsPerBlock: 16,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 9 }],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 5,\n    alignmentPatternCenters: [6, 30],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 108 }],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 43 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 15 },\n          { numBlocks: 2, dataCodewordsPerBlock: 16 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 11 },\n          { numBlocks: 2, dataCodewordsPerBlock: 12 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: null,\n    versionNumber: 6,\n    alignmentPatternCenters: [6, 34],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 68 }],\n      },\n      {\n        ecCodewordsPerBlock: 16,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 27 }],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 19 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 15 }],\n      },\n    ],\n  },\n  {\n    infoBits: 0x07C94,\n    versionNumber: 7,\n    alignmentPatternCenters: [6, 22, 38],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 78 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 31 }],\n      },\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 14 },\n          { numBlocks: 4, dataCodewordsPerBlock: 15 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 13 },\n          { numBlocks: 1, dataCodewordsPerBlock: 14 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x085BC,\n    versionNumber: 8,\n    alignmentPatternCenters: [6, 24, 42],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 97 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 38 },\n          { numBlocks: 2, dataCodewordsPerBlock: 39 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 18 },\n          { numBlocks: 2, dataCodewordsPerBlock: 19 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 14 },\n          { numBlocks: 2, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x09A99,\n    versionNumber: 9,\n    alignmentPatternCenters: [6, 26, 46],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 116 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 36 },\n          { numBlocks: 2, dataCodewordsPerBlock: 37 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 16 },\n          { numBlocks: 4, dataCodewordsPerBlock: 17 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 12 },\n          { numBlocks: 4, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0A4D3,\n    versionNumber: 10,\n    alignmentPatternCenters: [6, 28, 50],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 18,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 68 },\n          { numBlocks: 2, dataCodewordsPerBlock: 69 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 43 },\n          { numBlocks: 1, dataCodewordsPerBlock: 44 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 19 },\n          { numBlocks: 2, dataCodewordsPerBlock: 20 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 15 },\n          { numBlocks: 2, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0BBF6,\n    versionNumber: 11,\n    alignmentPatternCenters: [6, 30, 54],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 81 }],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 50 },\n          { numBlocks: 4, dataCodewordsPerBlock: 51 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 22 },\n          { numBlocks: 4, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 12 },\n          { numBlocks: 8, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0C762,\n    versionNumber: 12,\n    alignmentPatternCenters: [6, 32, 58],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 92 },\n          { numBlocks: 2, dataCodewordsPerBlock: 93 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 36 },\n          { numBlocks: 2, dataCodewordsPerBlock: 37 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 20 },\n          { numBlocks: 6, dataCodewordsPerBlock: 21 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 14 },\n          { numBlocks: 4, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0D847,\n    versionNumber: 13,\n    alignmentPatternCenters: [6, 34, 62],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 107 }],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 37 },\n          { numBlocks: 1, dataCodewordsPerBlock: 38 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 20 },\n          { numBlocks: 4, dataCodewordsPerBlock: 21 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 11 },\n          { numBlocks: 4, dataCodewordsPerBlock: 12 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0E60D,\n    versionNumber: 14,\n    alignmentPatternCenters: [6, 26, 46, 66],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 115 },\n          { numBlocks: 1, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 40 },\n          { numBlocks: 5, dataCodewordsPerBlock: 41 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 20,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 16 },\n          { numBlocks: 5, dataCodewordsPerBlock: 17 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 12 },\n          { numBlocks: 5, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x0F928,\n    versionNumber: 15,\n    alignmentPatternCenters: [6, 26, 48, 70],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 22,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 87 },\n          { numBlocks: 1, dataCodewordsPerBlock: 88 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 41 },\n          { numBlocks: 5, dataCodewordsPerBlock: 42 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 24 },\n          { numBlocks: 7, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 12 },\n          { numBlocks: 7, dataCodewordsPerBlock: 13 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x10B78,\n    versionNumber: 16,\n    alignmentPatternCenters: [6, 26, 50, 74],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 98 },\n          { numBlocks: 1, dataCodewordsPerBlock: 99 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 45 },\n          { numBlocks: 3, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 19 },\n          { numBlocks: 2, dataCodewordsPerBlock: 20 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 15 },\n          { numBlocks: 13, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1145D,\n    versionNumber: 17,\n    alignmentPatternCenters: [6, 30, 54, 78],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 107 },\n          { numBlocks: 5, dataCodewordsPerBlock: 108 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 46 },\n          { numBlocks: 1, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 22 },\n          { numBlocks: 15, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 14 },\n          { numBlocks: 17, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x12A17,\n    versionNumber: 18,\n    alignmentPatternCenters: [6, 30, 56, 82],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 120 },\n          { numBlocks: 1, dataCodewordsPerBlock: 121 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 9, dataCodewordsPerBlock: 43 },\n          { numBlocks: 4, dataCodewordsPerBlock: 44 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 22 },\n          { numBlocks: 1, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 14 },\n          { numBlocks: 19, dataCodewordsPerBlock: 15 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x13532,\n    versionNumber: 19,\n    alignmentPatternCenters: [6, 30, 58, 86],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 113 },\n          { numBlocks: 4, dataCodewordsPerBlock: 114 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 44 },\n          { numBlocks: 11, dataCodewordsPerBlock: 45 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 21 },\n          { numBlocks: 4, dataCodewordsPerBlock: 22 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 9, dataCodewordsPerBlock: 13 },\n          { numBlocks: 16, dataCodewordsPerBlock: 14 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x149A6,\n    versionNumber: 20,\n    alignmentPatternCenters: [6, 34, 62, 90],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 107 },\n          { numBlocks: 5, dataCodewordsPerBlock: 108 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 41 },\n          { numBlocks: 13, dataCodewordsPerBlock: 42 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 24 },\n          { numBlocks: 5, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 15 },\n          { numBlocks: 10, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x15683,\n    versionNumber: 21,\n    alignmentPatternCenters: [6, 28, 50, 72, 94],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 116 },\n          { numBlocks: 4, dataCodewordsPerBlock: 117 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 42 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 22 },\n          { numBlocks: 6, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 16 },\n          { numBlocks: 6, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x168C9,\n    versionNumber: 22,\n    alignmentPatternCenters: [6, 26, 50, 74, 98],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 111 },\n          { numBlocks: 7, dataCodewordsPerBlock: 112 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 46 }],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 24 },\n          { numBlocks: 16, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 24,\n        ecBlocks: [{ numBlocks: 34, dataCodewordsPerBlock: 13 }],\n      },\n    ],\n  },\n  {\n    infoBits: 0x177EC,\n    versionNumber: 23,\n    alignmentPatternCenters: [6, 30, 54, 74, 102],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 121 },\n          { numBlocks: 5, dataCodewordsPerBlock: 122 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 47 },\n          { numBlocks: 14, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 24 },\n          { numBlocks: 14, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 16, dataCodewordsPerBlock: 15 },\n          { numBlocks: 14, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x18EC4,\n    versionNumber: 24,\n    alignmentPatternCenters: [6, 28, 54, 80, 106],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 117 },\n          { numBlocks: 4, dataCodewordsPerBlock: 118 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 45 },\n          { numBlocks: 14, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 24 },\n          { numBlocks: 16, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 30, dataCodewordsPerBlock: 16 },\n          { numBlocks: 2, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x191E1,\n    versionNumber: 25,\n    alignmentPatternCenters: [6, 32, 58, 84, 110],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 26,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 106 },\n          { numBlocks: 4, dataCodewordsPerBlock: 107 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 47 },\n          { numBlocks: 13, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 24 },\n          { numBlocks: 22, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 22, dataCodewordsPerBlock: 15 },\n          { numBlocks: 13, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1AFAB,\n    versionNumber: 26,\n    alignmentPatternCenters: [6, 30, 58, 86, 114],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 114 },\n          { numBlocks: 2, dataCodewordsPerBlock: 115 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 46 },\n          { numBlocks: 4, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 28, dataCodewordsPerBlock: 22 },\n          { numBlocks: 6, dataCodewordsPerBlock: 23 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 33, dataCodewordsPerBlock: 16 },\n          { numBlocks: 4, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1B08E,\n    versionNumber: 27,\n    alignmentPatternCenters: [6, 34, 62, 90, 118],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 122 },\n          { numBlocks: 4, dataCodewordsPerBlock: 123 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 22, dataCodewordsPerBlock: 45 },\n          { numBlocks: 3, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 8, dataCodewordsPerBlock: 23 },\n          { numBlocks: 26, dataCodewordsPerBlock: 24 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 15 },\n          { numBlocks: 28, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1CC1A,\n    versionNumber: 28,\n    alignmentPatternCenters: [6, 26, 50, 74, 98, 122],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 117 },\n          { numBlocks: 10, dataCodewordsPerBlock: 118 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 3, dataCodewordsPerBlock: 45 },\n          { numBlocks: 23, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 24 },\n          { numBlocks: 31, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 15 },\n          { numBlocks: 31, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1D33F,\n    versionNumber: 29,\n    alignmentPatternCenters: [6, 30, 54, 78, 102, 126],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 7, dataCodewordsPerBlock: 116 },\n          { numBlocks: 7, dataCodewordsPerBlock: 117 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 21, dataCodewordsPerBlock: 45 },\n          { numBlocks: 7, dataCodewordsPerBlock: 46 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 1, dataCodewordsPerBlock: 23 },\n          { numBlocks: 37, dataCodewordsPerBlock: 24 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 15 },\n          { numBlocks: 26, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1ED75,\n    versionNumber: 30,\n    alignmentPatternCenters: [6, 26, 52, 78, 104, 130],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 5, dataCodewordsPerBlock: 115 },\n          { numBlocks: 10, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 47 },\n          { numBlocks: 10, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 15, dataCodewordsPerBlock: 24 },\n          { numBlocks: 25, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 23, dataCodewordsPerBlock: 15 },\n          { numBlocks: 25, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x1F250,\n    versionNumber: 31,\n    alignmentPatternCenters: [6, 30, 56, 82, 108, 134],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 13, dataCodewordsPerBlock: 115 },\n          { numBlocks: 3, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 46 },\n          { numBlocks: 29, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 42, dataCodewordsPerBlock: 24 },\n          { numBlocks: 1, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 23, dataCodewordsPerBlock: 15 },\n          { numBlocks: 28, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x209D5,\n    versionNumber: 32,\n    alignmentPatternCenters: [6, 34, 60, 86, 112, 138],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 115 }],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 46 },\n          { numBlocks: 23, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 24 },\n          { numBlocks: 35, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 15 },\n          { numBlocks: 35, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x216F0,\n    versionNumber: 33,\n    alignmentPatternCenters: [6, 30, 58, 86, 114, 142],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 115 },\n          { numBlocks: 1, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 14, dataCodewordsPerBlock: 46 },\n          { numBlocks: 21, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 29, dataCodewordsPerBlock: 24 },\n          { numBlocks: 19, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 11, dataCodewordsPerBlock: 15 },\n          { numBlocks: 46, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x228BA,\n    versionNumber: 34,\n    alignmentPatternCenters: [6, 34, 62, 90, 118, 146],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 13, dataCodewordsPerBlock: 115 },\n          { numBlocks: 6, dataCodewordsPerBlock: 116 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 14, dataCodewordsPerBlock: 46 },\n          { numBlocks: 23, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 44, dataCodewordsPerBlock: 24 },\n          { numBlocks: 7, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 59, dataCodewordsPerBlock: 16 },\n          { numBlocks: 1, dataCodewordsPerBlock: 17 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x2379F,\n    versionNumber: 35,\n    alignmentPatternCenters: [6, 30, 54, 78, 102, 126, 150],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 121 },\n          { numBlocks: 7, dataCodewordsPerBlock: 122 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 12, dataCodewordsPerBlock: 47 },\n          { numBlocks: 26, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 39, dataCodewordsPerBlock: 24 },\n          { numBlocks: 14, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 22, dataCodewordsPerBlock: 15 },\n          { numBlocks: 41, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x24B0B,\n    versionNumber: 36,\n    alignmentPatternCenters: [ 6, 24, 50, 76, 102, 128, 154 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 121 },\n          { numBlocks: 14, dataCodewordsPerBlock: 122 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 6, dataCodewordsPerBlock: 47 },\n          { numBlocks: 34, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 46, dataCodewordsPerBlock: 24 },\n          { numBlocks: 10, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 2, dataCodewordsPerBlock: 15 },\n          { numBlocks: 64, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x2542E,\n    versionNumber: 37,\n    alignmentPatternCenters: [ 6, 28, 54, 80, 106, 132, 158 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 17, dataCodewordsPerBlock: 122 },\n          { numBlocks: 4, dataCodewordsPerBlock: 123 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 29, dataCodewordsPerBlock: 46 },\n          { numBlocks: 14, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 49, dataCodewordsPerBlock: 24 },\n          { numBlocks: 10, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 24, dataCodewordsPerBlock: 15 },\n          { numBlocks: 46, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x26A64,\n    versionNumber: 38,\n    alignmentPatternCenters: [ 6, 32, 58, 84, 110, 136, 162 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 4, dataCodewordsPerBlock: 122 },\n          { numBlocks: 18, dataCodewordsPerBlock: 123 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 13, dataCodewordsPerBlock: 46 },\n          { numBlocks: 32, dataCodewordsPerBlock: 47 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 48, dataCodewordsPerBlock: 24 },\n          { numBlocks: 14, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 42, dataCodewordsPerBlock: 15 },\n          { numBlocks: 32, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x27541,\n    versionNumber: 39,\n    alignmentPatternCenters: [ 6, 26, 54, 82, 110, 138, 166 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 20, dataCodewordsPerBlock: 117 },\n          { numBlocks: 4, dataCodewordsPerBlock: 118 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 40, dataCodewordsPerBlock: 47 },\n          { numBlocks: 7, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 43, dataCodewordsPerBlock: 24 },\n          { numBlocks: 22, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 10, dataCodewordsPerBlock: 15 },\n          { numBlocks: 67, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n  {\n    infoBits: 0x28C69,\n    versionNumber: 40,\n    alignmentPatternCenters: [ 6, 30, 58, 86, 114, 142, 170 ],\n    errorCorrectionLevels: [\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 19, dataCodewordsPerBlock: 118 },\n          { numBlocks: 6, dataCodewordsPerBlock: 119 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 28,\n        ecBlocks: [\n          { numBlocks: 18, dataCodewordsPerBlock: 47 },\n          { numBlocks: 31, dataCodewordsPerBlock: 48 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 34, dataCodewordsPerBlock: 24 },\n          { numBlocks: 34, dataCodewordsPerBlock: 25 },\n        ],\n      },\n      {\n        ecCodewordsPerBlock: 30,\n        ecBlocks: [\n          { numBlocks: 20, dataCodewordsPerBlock: 15 },\n          { numBlocks: 61, dataCodewordsPerBlock: 16 },\n        ],\n      },\n    ],\n  },\n];\n", "import { BitMatrix } from \"../BitMatrix\";\nimport { Point } from \"../Point\";\nimport { decode as decodeData, DecodedQR } from \"./decodeData\";\nimport { decode as rsDecode } from \"./reedsolomon\";\nimport { Version, VERSIONS } from \"./version\";\n\n// tslint:disable:no-bitwise\nfunction numBitsDiffering(x: number, y: number) {\n  let z = x ^ y;\n  let bitCount = 0;\n  while (z) {\n    bitCount++;\n    z &= z - 1;\n  }\n  return bitCount;\n}\n\nfunction pushBit(bit: any, byte: number) {\n  return (byte << 1) | bit;\n}\n// tslint:enable:no-bitwise\n\nconst FORMAT_INFO_TABLE = [\n  { bits: 0x5412, formatInfo: { errorCorrectionLevel: 1, dataMask: 0 } },\n  { bits: 0x5125, formatInfo: { errorCorrectionLevel: 1, dataMask: 1 } },\n  { bits: 0x5E7C, formatInfo: { errorCorrectionLevel: 1, dataMask: 2 } },\n  { bits: 0x5B4B, formatInfo: { errorCorrectionLevel: 1, dataMask: 3 } },\n  { bits: 0x45F9, formatInfo: { errorCorrectionLevel: 1, dataMask: 4 } },\n  { bits: 0x40CE, formatInfo: { errorCorrectionLevel: 1, dataMask: 5 } },\n  { bits: 0x4F97, formatInfo: { errorCorrectionLevel: 1, dataMask: 6 } },\n  { bits: 0x4AA0, formatInfo: { errorCorrectionLevel: 1, dataMask: 7 } },\n  { bits: 0x77C4, formatInfo: { errorCorrectionLevel: 0, dataMask: 0 } },\n  { bits: 0x72F3, formatInfo: { errorCorrectionLevel: 0, dataMask: 1 } },\n  { bits: 0x7DAA, formatInfo: { errorCorrectionLevel: 0, dataMask: 2 } },\n  { bits: 0x789D, formatInfo: { errorCorrectionLevel: 0, dataMask: 3 } },\n  { bits: 0x662F, formatInfo: { errorCorrectionLevel: 0, dataMask: 4 } },\n  { bits: 0x6318, formatInfo: { errorCorrectionLevel: 0, dataMask: 5 } },\n  { bits: 0x6C41, formatInfo: { errorCorrectionLevel: 0, dataMask: 6 } },\n  { bits: 0x6976, formatInfo: { errorCorrectionLevel: 0, dataMask: 7 } },\n  { bits: 0x1689, formatInfo: { errorCorrectionLevel: 3, dataMask: 0 } },\n  { bits: 0x13BE, formatInfo: { errorCorrectionLevel: 3, dataMask: 1 } },\n  { bits: 0x1CE7, formatInfo: { errorCorrectionLevel: 3, dataMask: 2 } },\n  { bits: 0x19D0, formatInfo: { errorCorrectionLevel: 3, dataMask: 3 } },\n  { bits: 0x0762, formatInfo: { errorCorrectionLevel: 3, dataMask: 4 } },\n  { bits: 0x0255, formatInfo: { errorCorrectionLevel: 3, dataMask: 5 } },\n  { bits: 0x0D0C, formatInfo: { errorCorrectionLevel: 3, dataMask: 6 } },\n  { bits: 0x083B, formatInfo: { errorCorrectionLevel: 3, dataMask: 7 } },\n  { bits: 0x355F, formatInfo: { errorCorrectionLevel: 2, dataMask: 0 } },\n  { bits: 0x3068, formatInfo: { errorCorrectionLevel: 2, dataMask: 1 } },\n  { bits: 0x3F31, formatInfo: { errorCorrectionLevel: 2, dataMask: 2 } },\n  { bits: 0x3A06, formatInfo: { errorCorrectionLevel: 2, dataMask: 3 } },\n  { bits: 0x24B4, formatInfo: { errorCorrectionLevel: 2, dataMask: 4 } },\n  { bits: 0x2183, formatInfo: { errorCorrectionLevel: 2, dataMask: 5 } },\n  { bits: 0x2EDA, formatInfo: { errorCorrectionLevel: 2, dataMask: 6 } },\n  { bits: 0x2BED, formatInfo: { errorCorrectionLevel: 2, dataMask: 7 } },\n];\n\nconst DATA_MASKS = [\n  (p: Point) => ((p.y + p.x) % 2) === 0,\n  (p: Point) => (p.y % 2) === 0,\n  (p: Point) => p.x % 3 === 0,\n  (p: Point) => (p.y + p.x) % 3 === 0,\n  (p: Point) => (Math.floor(p.y / 2) + Math.floor(p.x / 3)) % 2 === 0,\n  (p: Point) => ((p.x * p.y) % 2) + ((p.x * p.y) % 3) === 0,\n  (p: Point) => ((((p.y * p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n  (p: Point) => ((((p.y + p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n];\n\ninterface FormatInformation {\n  errorCorrectionLevel: number;\n  dataMask: number;\n}\n\nfunction buildFunctionPatternMask(version: Version): BitMatrix {\n  const dimension = 17 + 4 * version.versionNumber;\n  const matrix = BitMatrix.createEmpty(dimension, dimension);\n\n  matrix.setRegion(0, 0, 9, 9, true); // Top left finder pattern + separator + format\n  matrix.setRegion(dimension - 8, 0, 8, 9, true); // Top right finder pattern + separator + format\n  matrix.setRegion(0, dimension - 8, 9, 8, true); // Bottom left finder pattern + separator + format\n\n  // Alignment patterns\n  for (const x of version.alignmentPatternCenters) {\n    for (const y of version.alignmentPatternCenters) {\n      if (!(x === 6 && y === 6 || x === 6 && y === dimension - 7 || x === dimension - 7 && y === 6)) {\n        matrix.setRegion(x - 2, y - 2, 5, 5, true);\n      }\n    }\n  }\n\n  matrix.setRegion(6, 9, 1, dimension - 17, true); // Vertical timing pattern\n  matrix.setRegion(9, 6, dimension - 17, 1, true); // Horizontal timing pattern\n\n  if (version.versionNumber > 6) {\n    matrix.setRegion(dimension - 11, 0, 3, 6, true); // Version info, top right\n    matrix.setRegion(0, dimension - 11, 6, 3, true); // Version info, bottom left\n  }\n\n  return matrix;\n}\n\nfunction readCodewords(matrix: BitMatrix, version: Version, formatInfo: FormatInformation) {\n  const dataMask = DATA_MASKS[formatInfo.dataMask];\n  const dimension = matrix.height;\n\n  const functionPatternMask = buildFunctionPatternMask(version);\n\n  const codewords: number[] = [];\n  let currentByte = 0;\n  let bitsRead = 0;\n\n  // Read columns in pairs, from right to left\n  let readingUp = true;\n  for (let columnIndex = dimension - 1; columnIndex > 0; columnIndex -= 2) {\n    if (columnIndex === 6) { // Skip whole column with vertical alignment pattern;\n      columnIndex--;\n    }\n    for (let i = 0; i < dimension; i++) {\n      const y = readingUp ? dimension - 1 - i : i;\n      for (let columnOffset = 0; columnOffset < 2; columnOffset++) {\n        const x = columnIndex - columnOffset;\n        if (!functionPatternMask.get(x, y)) {\n          bitsRead++;\n          let bit = matrix.get(x, y);\n          if (dataMask({y, x})) {\n            bit = !bit;\n          }\n          currentByte = pushBit(bit, currentByte);\n          if (bitsRead === 8) { // Whole bytes\n            codewords.push(currentByte);\n            bitsRead = 0;\n            currentByte = 0;\n          }\n        }\n      }\n    }\n    readingUp = !readingUp;\n  }\n  return codewords;\n}\n\nfunction readVersion(matrix: BitMatrix): Version {\n  const dimension = matrix.height;\n\n  const provisionalVersion = Math.floor((dimension - 17) / 4);\n  if (provisionalVersion <= 6) { // 6 and under dont have version info in the QR code\n    return VERSIONS[provisionalVersion - 1];\n  }\n\n  let topRightVersionBits = 0;\n  for (let y = 5; y >= 0; y--) {\n    for (let x = dimension - 9; x >= dimension - 11; x--) {\n      topRightVersionBits = pushBit(matrix.get(x, y), topRightVersionBits);\n    }\n  }\n\n  let bottomLeftVersionBits = 0;\n  for (let x = 5; x >= 0; x--) {\n    for (let y = dimension - 9; y >= dimension - 11; y--) {\n      bottomLeftVersionBits = pushBit(matrix.get(x, y), bottomLeftVersionBits);\n    }\n  }\n\n  let bestDifference = Infinity;\n  let bestVersion: Version;\n  for (const version of VERSIONS) {\n    if (version.infoBits === topRightVersionBits || version.infoBits === bottomLeftVersionBits) {\n      return version;\n    }\n\n    let difference = numBitsDiffering(topRightVersionBits, version.infoBits);\n    if (difference < bestDifference) {\n      bestVersion = version;\n      bestDifference = difference;\n    }\n\n    difference = numBitsDiffering(bottomLeftVersionBits, version.infoBits);\n    if (difference < bestDifference) {\n      bestVersion = version;\n      bestDifference = difference;\n    }\n  }\n  // We can tolerate up to 3 bits of error since no two version info codewords will\n  // differ in less than 8 bits.\n  if (bestDifference <= 3) {\n    return bestVersion;\n  }\n}\n\nfunction readFormatInformation(matrix: BitMatrix) {\n  let topLeftFormatInfoBits = 0;\n  for (let x = 0; x <= 8; x++) {\n    if (x !== 6) { // Skip timing pattern bit\n      topLeftFormatInfoBits = pushBit(matrix.get(x, 8), topLeftFormatInfoBits);\n    }\n  }\n  for (let y = 7; y >= 0; y--) {\n    if (y !== 6) { // Skip timing pattern bit\n      topLeftFormatInfoBits = pushBit(matrix.get(8, y), topLeftFormatInfoBits);\n    }\n  }\n\n  const dimension = matrix.height;\n  let topRightBottomRightFormatInfoBits = 0;\n  for (let y = dimension - 1; y >= dimension - 7; y--) { // bottom left\n    topRightBottomRightFormatInfoBits = pushBit(matrix.get(8, y), topRightBottomRightFormatInfoBits);\n  }\n  for (let x = dimension - 8; x < dimension; x++) { // top right\n    topRightBottomRightFormatInfoBits = pushBit(matrix.get(x, 8), topRightBottomRightFormatInfoBits);\n  }\n\n  let bestDifference = Infinity;\n  let bestFormatInfo = null;\n  for (const {bits, formatInfo} of FORMAT_INFO_TABLE) {\n    if (bits === topLeftFormatInfoBits || bits === topRightBottomRightFormatInfoBits) {\n      return formatInfo;\n    }\n    let difference = numBitsDiffering(topLeftFormatInfoBits, bits);\n    if (difference < bestDifference) {\n      bestFormatInfo = formatInfo;\n      bestDifference = difference;\n    }\n    if (topLeftFormatInfoBits !== topRightBottomRightFormatInfoBits) { // also try the other option\n      difference = numBitsDiffering(topRightBottomRightFormatInfoBits, bits);\n      if (difference < bestDifference) {\n        bestFormatInfo = formatInfo;\n        bestDifference = difference;\n      }\n    }\n  }\n  // Hamming distance of the 32 masked codes is 7, by construction, so <= 3 bits differing means we found a match\n  if (bestDifference <= 3) {\n    return bestFormatInfo;\n  }\n  return null;\n}\n\nfunction getDataBlocks(codewords: number[], version: Version, ecLevel: number) {\n  const ecInfo = version.errorCorrectionLevels[ecLevel];\n  const dataBlocks: Array<{\n    numDataCodewords: number;\n    codewords: number[];\n  }> = [];\n\n  let totalCodewords = 0;\n  ecInfo.ecBlocks.forEach(block => {\n    for (let i = 0; i < block.numBlocks; i++) {\n      dataBlocks.push({ numDataCodewords: block.dataCodewordsPerBlock, codewords: [] });\n      totalCodewords += block.dataCodewordsPerBlock + ecInfo.ecCodewordsPerBlock;\n    }\n  });\n\n  // In some cases the QR code will be malformed enough that we pull off more or less than we should.\n  // If we pull off less there's nothing we can do.\n  // If we pull off more we can safely truncate\n  if (codewords.length < totalCodewords) {\n    return null;\n  }\n  codewords = codewords.slice(0, totalCodewords);\n\n  const shortBlockSize = ecInfo.ecBlocks[0].dataCodewordsPerBlock;\n  // Pull codewords to fill the blocks up to the minimum size\n  for (let i = 0; i < shortBlockSize; i++) {\n    for (const dataBlock of dataBlocks) {\n      dataBlock.codewords.push(codewords.shift());\n    }\n  }\n\n  // If there are any large blocks, pull codewords to fill the last element of those\n  if (ecInfo.ecBlocks.length > 1) {\n    const smallBlockCount = ecInfo.ecBlocks[0].numBlocks;\n    const largeBlockCount = ecInfo.ecBlocks[1].numBlocks;\n    for (let i = 0; i < largeBlockCount; i++) {\n      dataBlocks[smallBlockCount + i].codewords.push(codewords.shift());\n    }\n  }\n\n  // Add the rest of the codewords to the blocks. These are the error correction codewords.\n  while (codewords.length > 0) {\n    for (const dataBlock of dataBlocks) {\n      dataBlock.codewords.push(codewords.shift());\n    }\n  }\n\n  return dataBlocks;\n}\n\nfunction decodeMatrix(matrix: BitMatrix) {\n  const version = readVersion(matrix);\n  if (!version) {\n    return null;\n  }\n\n  const formatInfo = readFormatInformation(matrix);\n  if (!formatInfo) {\n    return null;\n  }\n\n  const codewords = readCodewords(matrix, version, formatInfo);\n  const dataBlocks = getDataBlocks(codewords, version, formatInfo.errorCorrectionLevel);\n  if (!dataBlocks) {\n    return null;\n  }\n\n  // Count total number of data bytes\n  const totalBytes = dataBlocks.reduce((a, b) => a + b.numDataCodewords, 0);\n  const resultBytes = new Uint8ClampedArray(totalBytes);\n\n  let resultIndex = 0;\n  for (const dataBlock of dataBlocks) {\n    const correctedBytes = rsDecode(dataBlock.codewords, dataBlock.codewords.length - dataBlock.numDataCodewords);\n    if (!correctedBytes) {\n      return null;\n    }\n    for (let i = 0; i < dataBlock.numDataCodewords; i++) {\n      resultBytes[resultIndex++] = correctedBytes[i];\n    }\n  }\n\n  try {\n    return decodeData(resultBytes, version.versionNumber);\n  } catch {\n    return null;\n  }\n}\n\nexport function decode(matrix: BitMatrix): DecodedQR {\n  if (matrix == null) {\n    return null;\n  }\n  const result = decodeMatrix(matrix);\n  if (result) {\n    return result;\n  }\n  // Decoding didn't work, try mirroring the QR across the topLeft -> bottomRight line.\n  for (let x = 0; x < matrix.width; x++) {\n    for (let y = x + 1; y < matrix.height; y++) {\n      if (matrix.get(x, y) !== matrix.get(y, x)) {\n        matrix.set(x, y, !matrix.get(x, y));\n        matrix.set(y, x, !matrix.get(y, x));\n      }\n    }\n  }\n  return decodeMatrix(matrix);\n}\n", "import {BitMatrix} from \"../BitMatrix\";\nimport {Point, QRLocation} from \"../locator\";\n\ninterface PerspectiveTransform {\n  a11: number;\n  a21: number;\n  a31: number;\n  a12: number;\n  a22: number;\n  a32: number;\n  a13: number;\n  a23: number;\n  a33: number;\n}\n\nfunction squareToQuadrilateral(p1: Point, p2: Point, p3: Point, p4: Point): PerspectiveTransform {\n  const dx3 = p1.x - p2.x + p3.x - p4.x;\n  const dy3 = p1.y - p2.y + p3.y - p4.y;\n  if (dx3 === 0 && dy3 === 0) { // Affine\n    return {\n      a11: p2.x - p1.x,\n      a12: p2.y - p1.y,\n      a13: 0,\n      a21: p3.x - p2.x,\n      a22: p3.y - p2.y,\n      a23: 0,\n      a31: p1.x,\n      a32: p1.y,\n      a33: 1,\n    };\n  } else {\n    const dx1 = p2.x - p3.x;\n    const dx2 = p4.x - p3.x;\n    const dy1 = p2.y - p3.y;\n    const dy2 = p4.y - p3.y;\n    const denominator = dx1 * dy2 - dx2 * dy1;\n    const a13 = (dx3 * dy2 - dx2 * dy3) / denominator;\n    const a23 = (dx1 * dy3 - dx3 * dy1) / denominator;\n    return {\n      a11: p2.x - p1.x + a13 * p2.x,\n      a12: p2.y - p1.y + a13 * p2.y,\n      a13,\n      a21: p4.x - p1.x + a23 * p4.x,\n      a22: p4.y - p1.y + a23 * p4.y,\n      a23,\n      a31: p1.x,\n      a32: p1.y,\n      a33: 1,\n    };\n  }\n}\n\nfunction quadrilateralToSquare(p1: Point, p2: Point, p3: Point, p4: Point): PerspectiveTransform {\n  // Here, the adjoint serves as the inverse:\n  const sToQ = squareToQuadrilateral(p1, p2, p3, p4);\n  return {\n    a11: sToQ.a22 * sToQ.a33 - sToQ.a23 * sToQ.a32,\n    a12: sToQ.a13 * sToQ.a32 - sToQ.a12 * sToQ.a33,\n    a13: sToQ.a12 * sToQ.a23 - sToQ.a13 * sToQ.a22,\n    a21: sToQ.a23 * sToQ.a31 - sToQ.a21 * sToQ.a33,\n    a22: sToQ.a11 * sToQ.a33 - sToQ.a13 * sToQ.a31,\n    a23: sToQ.a13 * sToQ.a21 - sToQ.a11 * sToQ.a23,\n    a31: sToQ.a21 * sToQ.a32 - sToQ.a22 * sToQ.a31,\n    a32: sToQ.a12 * sToQ.a31 - sToQ.a11 * sToQ.a32,\n    a33: sToQ.a11 * sToQ.a22 - sToQ.a12 * sToQ.a21,\n  };\n}\n\nfunction times(a: PerspectiveTransform, b: PerspectiveTransform): PerspectiveTransform {\n  return {\n    a11: a.a11 * b.a11 + a.a21 * b.a12 + a.a31 * b.a13,\n    a12: a.a12 * b.a11 + a.a22 * b.a12 + a.a32 * b.a13,\n    a13: a.a13 * b.a11 + a.a23 * b.a12 + a.a33 * b.a13,\n    a21: a.a11 * b.a21 + a.a21 * b.a22 + a.a31 * b.a23,\n    a22: a.a12 * b.a21 + a.a22 * b.a22 + a.a32 * b.a23,\n    a23: a.a13 * b.a21 + a.a23 * b.a22 + a.a33 * b.a23,\n    a31: a.a11 * b.a31 + a.a21 * b.a32 + a.a31 * b.a33,\n    a32: a.a12 * b.a31 + a.a22 * b.a32 + a.a32 * b.a33,\n    a33: a.a13 * b.a31 + a.a23 * b.a32 + a.a33 * b.a33,\n  };\n}\n\nexport function extract(image: BitMatrix, location: QRLocation) {\n  const qToS = quadrilateralToSquare(\n    {x: 3.5, y: 3.5},\n    {x: location.dimension - 3.5, y: 3.5},\n    {x: location.dimension - 6.5, y: location.dimension - 6.5},\n    {x: 3.5, y: location.dimension - 3.5},\n  );\n  const sToQ = squareToQuadrilateral(location.topLeft, location.topRight, location.alignmentPattern, location.bottomLeft);\n  const transform = times(sToQ, qToS);\n\n  const matrix = BitMatrix.createEmpty(location.dimension, location.dimension);\n  const mappingFunction = (x: number, y: number) => {\n    const denominator = transform.a13 * x + transform.a23 * y + transform.a33;\n    return {\n      x: (transform.a11 * x + transform.a21 * y + transform.a31) / denominator,\n      y: (transform.a12 * x + transform.a22 * y + transform.a32) / denominator,\n    };\n  };\n\n  for (let y = 0; y < location.dimension; y++) {\n    for (let x = 0; x < location.dimension; x++) {\n      const xValue = x + 0.5;\n      const yValue = y + 0.5;\n      const sourcePixel = mappingFunction(xValue, yValue);\n      matrix.set(x, y, image.get(Math.floor(sourcePixel.x), Math.floor(sourcePixel.y)));\n    }\n  }\n\n  return {\n    matrix,\n    mappingFunction,\n  };\n}\n", "import { BitMatrix } from \"../BitMatrix\";\n\nconst MAX_FINDERPATTERNS_TO_SEARCH = 5;\nconst MIN_QUAD_RATIO = 0.5;\nconst MAX_QUAD_RATIO = 1.5;\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nexport interface QRLocation {\n  topRight: Point;\n  bottomLeft: Point;\n  topLeft: Point;\n  alignmentPattern: Point;\n  dimension: number;\n}\n\nconst distance = (a: Point, b: Point) => Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n\nfunction sum(values: number[]) {\n  return values.reduce((a, b) => a + b);\n}\n\n// Takes three finder patterns and organizes them into topLeft, topRight, etc\nfunction reorderFinderPatterns(pattern1: Point, pattern2: Point, pattern3: Point) {\n  // Find distances between pattern centers\n  const oneTwoDistance = distance(pattern1, pattern2);\n  const twoThreeDistance = distance(pattern2, pattern3);\n  const oneThreeDistance = distance(pattern1, pattern3);\n\n  let bottomLeft: Point;\n  let topLeft: Point;\n  let topRight: Point;\n\n  // Assume one closest to other two is B; A and C will just be guesses at first\n  if (twoThreeDistance >= oneTwoDistance && twoThreeDistance >= oneThreeDistance) {\n    [bottomLeft, topLeft, topRight] = [pattern2, pattern1, pattern3];\n  } else if (oneThreeDistance >= twoThreeDistance && oneThreeDistance >= oneTwoDistance) {\n    [bottomLeft, topLeft, topRight] = [pattern1, pattern2, pattern3];\n  } else {\n    [bottomLeft, topLeft, topRight] = [pattern1, pattern3, pattern2];\n  }\n\n  // Use cross product to figure out whether bottomLeft (A) and topRight (C) are correct or flipped in relation to topLeft (B)\n  // This asks whether BC x BA has a positive z component, which is the arrangement we want. If it's negative, then\n  // we've got it flipped around and should swap topRight and bottomLeft.\n  if (((topRight.x - topLeft.x) * (bottomLeft.y - topLeft.y)) - ((topRight.y - topLeft.y) * (bottomLeft.x - topLeft.x)) < 0) {\n    [bottomLeft, topRight] = [topRight, bottomLeft];\n  }\n\n  return { bottomLeft, topLeft, topRight };\n}\n\n// Computes the dimension (number of modules on a side) of the QR Code based on the position of the finder patterns\nfunction computeDimension(topLeft: Point, topRight: Point, bottomLeft: Point, matrix: BitMatrix) {\n  const moduleSize = (\n    sum(countBlackWhiteRun(topLeft, bottomLeft, matrix, 5)) / 7 + // Divide by 7 since the ratio is 1:1:3:1:1\n    sum(countBlackWhiteRun(topLeft, topRight, matrix, 5)) / 7 +\n    sum(countBlackWhiteRun(bottomLeft, topLeft, matrix, 5)) / 7 +\n    sum(countBlackWhiteRun(topRight, topLeft, matrix, 5)) / 7\n  ) / 4;\n\n  if (moduleSize < 1) {\n    throw new Error(\"Invalid module size\");\n  }\n\n  const topDimension = Math.round(distance(topLeft, topRight) / moduleSize);\n  const sideDimension = Math.round(distance(topLeft, bottomLeft) / moduleSize);\n  let dimension = Math.floor((topDimension + sideDimension) / 2) + 7;\n  switch (dimension % 4) {\n    case 0:\n      dimension++;\n      break;\n    case 2:\n      dimension--;\n      break;\n  }\n  return { dimension, moduleSize };\n}\n\n// Takes an origin point and an end point and counts the sizes of the black white run from the origin towards the end point.\n// Returns an array of elements, representing the pixel size of the black white run.\n// Uses a variant of http://en.wikipedia.org/wiki/Bresenham's_line_algorithm\nfunction countBlackWhiteRunTowardsPoint(origin: Point, end: Point, matrix: BitMatrix, length: number) {\n  const switchPoints: Point[] = [{x: Math.floor(origin.x), y: Math.floor(origin.y)}];\n  const steep = Math.abs(end.y - origin.y) > Math.abs(end.x - origin.x);\n\n  let fromX: number;\n  let fromY: number;\n  let toX: number;\n  let toY: number;\n  if (steep) {\n    fromX = Math.floor(origin.y);\n    fromY = Math.floor(origin.x);\n    toX = Math.floor(end.y);\n    toY = Math.floor(end.x);\n  } else {\n    fromX = Math.floor(origin.x);\n    fromY = Math.floor(origin.y);\n    toX = Math.floor(end.x);\n    toY = Math.floor(end.y);\n  }\n\n  const dx = Math.abs(toX - fromX);\n  const dy = Math.abs(toY - fromY);\n  let error = Math.floor(-dx / 2);\n  const xStep = fromX < toX ? 1 : -1;\n  const yStep = fromY < toY ? 1 : -1;\n\n  let currentPixel = true;\n  // Loop up until x == toX, but not beyond\n  for (let x = fromX, y = fromY; x !== toX + xStep; x += xStep) {\n    // Does current pixel mean we have moved white to black or vice versa?\n    // Scanning black in state 0,2 and white in state 1, so if we find the wrong\n    // color, advance to next state or end if we are in state 2 already\n    const realX = steep ? y : x;\n    const realY = steep ? x : y;\n    if (matrix.get(realX, realY) !== currentPixel) {\n      currentPixel = !currentPixel;\n      switchPoints.push({x: realX, y: realY});\n      if (switchPoints.length === length + 1) {\n        break;\n      }\n    }\n    error += dy;\n    if (error > 0) {\n      if (y === toY) {\n        break;\n      }\n      y += yStep;\n      error -= dx;\n    }\n  }\n  const distances: number[] = [];\n  for (let i = 0; i < length; i++) {\n    if (switchPoints[i] && switchPoints[i + 1]) {\n      distances.push(distance(switchPoints[i], switchPoints[i + 1]));\n    } else {\n      distances.push(0);\n    }\n  }\n  return distances;\n}\n\n// Takes an origin point and an end point and counts the sizes of the black white run in the origin point\n// along the line that intersects with the end point. Returns an array of elements, representing the pixel sizes\n// of the black white run. Takes a length which represents the number of switches from black to white to look for.\nfunction countBlackWhiteRun(origin: Point, end: Point, matrix: BitMatrix, length: number) {\n  const rise = end.y - origin.y;\n  const run = end.x - origin.x;\n\n  const towardsEnd = countBlackWhiteRunTowardsPoint(origin, end, matrix, Math.ceil(length / 2));\n  const awayFromEnd = countBlackWhiteRunTowardsPoint(origin, {x: origin.x - run, y: origin.y - rise}, matrix, Math.ceil(length / 2));\n\n  const middleValue = towardsEnd.shift() + awayFromEnd.shift() - 1; // Substract one so we don't double count a pixel\n  return awayFromEnd.concat(middleValue).concat(...towardsEnd);\n}\n\n// Takes in a black white run and an array of expected ratios. Returns the average size of the run as well as the \"error\" -\n// that is the amount the run diverges from the expected ratio\nfunction scoreBlackWhiteRun(sequence: number[], ratios: number[]) {\n  const averageSize = sum(sequence) / sum(ratios);\n  let error = 0;\n  ratios.forEach((ratio, i) => {\n    error += (sequence[i] - ratio * averageSize) ** 2;\n  });\n\n  return { averageSize, error };\n}\n\n// Takes an X,Y point and an array of sizes and scores the point against those ratios.\n// For example for a finder pattern takes the ratio list of 1:1:3:1:1 and checks horizontal, vertical and diagonal ratios\n// against that.\nfunction scorePattern(point: Point, ratios: number[], matrix: BitMatrix) {\n  try {\n    const horizontalRun = countBlackWhiteRun(point, {x: -1, y: point.y}, matrix, ratios.length);\n    const verticalRun = countBlackWhiteRun(point, {x: point.x, y: -1}, matrix, ratios.length);\n\n    const topLeftPoint = {\n      x: Math.max(0, point.x - point.y) - 1,\n      y: Math.max(0, point.y - point.x) - 1,\n    };\n    const topLeftBottomRightRun = countBlackWhiteRun(point, topLeftPoint, matrix, ratios.length);\n\n    const bottomLeftPoint = {\n      x: Math.min(matrix.width, point.x + point.y) + 1,\n      y: Math.min(matrix.height, point.y + point.x) + 1,\n    };\n    const bottomLeftTopRightRun = countBlackWhiteRun(point, bottomLeftPoint, matrix, ratios.length);\n\n    const horzError = scoreBlackWhiteRun(horizontalRun, ratios);\n    const vertError = scoreBlackWhiteRun(verticalRun, ratios);\n    const diagDownError = scoreBlackWhiteRun(topLeftBottomRightRun, ratios);\n    const diagUpError = scoreBlackWhiteRun(bottomLeftTopRightRun, ratios);\n\n    const ratioError = Math.sqrt(horzError.error * horzError.error +\n      vertError.error * vertError.error +\n      diagDownError.error * diagDownError.error +\n      diagUpError.error * diagUpError.error);\n\n    const avgSize = (horzError.averageSize + vertError.averageSize + diagDownError.averageSize + diagUpError.averageSize) / 4;\n\n    const sizeError = ((horzError.averageSize - avgSize) ** 2 +\n      (vertError.averageSize - avgSize) ** 2 +\n      (diagDownError.averageSize - avgSize) ** 2 +\n      (diagUpError.averageSize - avgSize) ** 2) / avgSize;\n    return ratioError + sizeError;\n  } catch {\n    return Infinity;\n  }\n}\n\nfunction recenterLocation(matrix: BitMatrix, p: Point): Point {\n  let leftX = Math.round(p.x);\n  while (matrix.get(leftX, Math.round(p.y))) {\n    leftX--;\n  }\n  let rightX = Math.round(p.x);\n  while (matrix.get(rightX, Math.round(p.y))) {\n    rightX++;\n  }\n  const x = (leftX + rightX) / 2;\n\n  let topY = Math.round(p.y);\n  while (matrix.get(Math.round(x), topY)) {\n    topY--;\n  }\n  let bottomY = Math.round(p.y);\n  while (matrix.get(Math.round(x), bottomY)) {\n    bottomY++;\n  }\n  const y = (topY + bottomY) / 2;\n\n  return { x, y };\n}\n\ninterface Quad {\n  top: {\n    startX: number;\n    endX: number;\n    y: number;\n  };\n  bottom: {\n    startX: number;\n    endX: number;\n    y: number;\n  };\n}\n\nexport function locate(matrix: BitMatrix): QRLocation[] {\n  const finderPatternQuads: Quad[] = [];\n  let activeFinderPatternQuads: Quad[] = [];\n  const alignmentPatternQuads: Quad[] = [];\n  let activeAlignmentPatternQuads: Quad[] = [];\n\n  for (let y = 0; y <= matrix.height; y++) {\n    let length = 0;\n    let lastBit = false;\n    let scans = [0, 0, 0, 0, 0];\n\n    for (let x = -1; x <= matrix.width; x++) {\n      const v = matrix.get(x, y);\n      if (v === lastBit) {\n        length++;\n      } else {\n        scans = [scans[1], scans[2], scans[3], scans[4], length];\n        length = 1;\n        lastBit = v;\n\n        // Do the last 5 color changes ~ match the expected ratio for a finder pattern? 1:1:3:1:1 of b:w:b:w:b\n        const averageFinderPatternBlocksize = sum(scans) / 7;\n        const validFinderPattern =\n          Math.abs(scans[0] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          Math.abs(scans[1] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          Math.abs(scans[2] - 3 * averageFinderPatternBlocksize) < 3 * averageFinderPatternBlocksize &&\n          Math.abs(scans[3] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          Math.abs(scans[4] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n          !v; // And make sure the current pixel is white since finder patterns are bordered in white\n\n        // Do the last 3 color changes ~ match the expected ratio for an alignment pattern? 1:1:1 of w:b:w\n        const averageAlignmentPatternBlocksize = sum(scans.slice(-3)) / 3;\n        const validAlignmentPattern =\n          Math.abs(scans[2] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n          Math.abs(scans[3] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n          Math.abs(scans[4] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n          v; // Is the current pixel black since alignment patterns are bordered in black\n\n        if (validFinderPattern) {\n          // Compute the start and end x values of the large center black square\n          const endX = x - scans[3] - scans[4];\n          const startX = endX - scans[2];\n\n          const line = { startX, endX, y };\n          // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n          // that line as the starting point.\n          const matchingQuads = activeFinderPatternQuads.filter(q =>\n            (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (startX <= q.bottom.startX && endX >= q.bottom.endX && (\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO\n            )),\n          );\n          if (matchingQuads.length > 0) {\n            matchingQuads[0].bottom = line;\n          } else {\n            activeFinderPatternQuads.push({ top: line, bottom: line });\n          }\n        }\n        if (validAlignmentPattern) {\n          // Compute the start and end x values of the center black square\n          const endX = x - scans[4];\n          const startX = endX - scans[3];\n\n          const line = { startX, y, endX };\n          // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n          // that line as the starting point.\n          const matchingQuads = activeAlignmentPatternQuads.filter(q =>\n            (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n            (startX <= q.bottom.startX && endX >= q.bottom.endX && (\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n              (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO\n            )),\n          );\n          if (matchingQuads.length > 0) {\n            matchingQuads[0].bottom = line;\n          } else {\n            activeAlignmentPatternQuads.push({ top: line, bottom: line });\n          }\n        }\n      }\n    }\n    finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y !== y && q.bottom.y - q.top.y >= 2));\n    activeFinderPatternQuads = activeFinderPatternQuads.filter(q => q.bottom.y === y);\n\n    alignmentPatternQuads.push(...activeAlignmentPatternQuads.filter(q => q.bottom.y !== y));\n    activeAlignmentPatternQuads = activeAlignmentPatternQuads.filter(q => q.bottom.y === y);\n\n  }\n\n  finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y - q.top.y >= 2));\n  alignmentPatternQuads.push(...activeAlignmentPatternQuads);\n\n  // Refactored from cozmo/jsQR to (hopefully) circumvent an issue in Safari 13+ on both Mac and iOS (also including\n  // iOS Chrome and other Safari iOS derivatives). Safari was very occasionally and apparently not deterministically\n  // throwing a \"RangeError: Array size is not a small enough positive integer.\" exception seemingly within the second\n  // .map of the original code (here the second for-loop). This second .map contained a nested .map call over the same\n  // array instance which was the chained result from previous calls to .map, .filter and .sort which potentially caused\n  // this bug in Safari?\n  // Also see https://github.com/cozmo/jsQR/issues/157 and https://bugs.webkit.org/show_bug.cgi?id=211619#c3\n  const scoredFinderPatternPositions: Array<Point & { size: number, score: number }> = [];\n  for (const quad of finderPatternQuads) {\n    if (quad.bottom.y - quad.top.y < 2) {\n      // All quads must be at least 2px tall since the center square is larger than a block\n      continue;\n    }\n\n    // calculate quad center\n    const x = (quad.top.startX + quad.top.endX + quad.bottom.startX + quad.bottom.endX) / 4;\n    const y = (quad.top.y + quad.bottom.y + 1) / 2;\n    if (!matrix.get(Math.round(x), Math.round(y))) {\n      continue;\n    }\n\n    const lengths = [quad.top.endX - quad.top.startX, quad.bottom.endX - quad.bottom.startX, quad.bottom.y - quad.top.y + 1];\n    const size = sum(lengths) / lengths.length;\n    // Initial scoring of finder pattern quads by looking at their ratios, not taking into account position\n    const score = scorePattern({x: Math.round(x), y: Math.round(y)}, [1, 1, 3, 1, 1], matrix);\n    scoredFinderPatternPositions.push({ score, x, y, size });\n  }\n  if (scoredFinderPatternPositions.length < 3) {\n    // A QR code has 3 finder patterns, therefore we need at least 3 candidates.\n    return null;\n  }\n  scoredFinderPatternPositions.sort((a, b) => a.score - b.score);\n\n  // Now take the top finder pattern options and try to find 2 other options with a similar size.\n  const finderPatternGroups: Array<{ points: [Point, Point, Point], score: number }> = [];\n  for (let i = 0; i < Math.min(scoredFinderPatternPositions.length, MAX_FINDERPATTERNS_TO_SEARCH); ++i) {\n    const point = scoredFinderPatternPositions[i];\n    const otherPoints: typeof scoredFinderPatternPositions = [];\n\n    for (const otherPoint of scoredFinderPatternPositions) {\n      if (otherPoint === point) {\n        continue;\n      }\n      otherPoints.push({\n        ...otherPoint,\n        score: otherPoint.score + ((otherPoint.size - point.size) ** 2) / point.size, // score similarity of sizes\n      });\n    }\n    otherPoints.sort((a, b) => a.score - b.score);\n\n    finderPatternGroups.push({\n      points: [point, otherPoints[0], otherPoints[1]], // note that otherPoints.length >= 2 as scoredFinderPatternPositions.length >= 3\n      score: point.score + otherPoints[0].score + otherPoints[1].score, // total combined score of the three points in the group\n    });\n  }\n  finderPatternGroups.sort((a, b) => a.score - b.score);\n  const bestFinderPatternGroup = finderPatternGroups[0];\n\n  const { topRight, topLeft, bottomLeft } = reorderFinderPatterns(...bestFinderPatternGroup.points);\n  const alignment = findAlignmentPattern(matrix, alignmentPatternQuads, topRight, topLeft, bottomLeft);\n  const result: QRLocation[] = [];\n  if (alignment) {\n    result.push({\n      alignmentPattern: { x: alignment.alignmentPattern.x, y: alignment.alignmentPattern.y },\n      bottomLeft: {x: bottomLeft.x, y: bottomLeft.y },\n      dimension: alignment.dimension,\n      topLeft: {x: topLeft.x, y: topLeft.y },\n      topRight: {x: topRight.x, y: topRight.y },\n    });\n  }\n\n  // We normally use the center of the quads as the location of the tracking points, which is optimal for most cases and will account\n  // for a skew in the image. However, In some cases, a slight skew might not be real and instead be caused by image compression\n  // errors and/or low resolution. For those cases, we'd be better off centering the point exactly in the middle of the black area. We\n  // compute and return the location data for the naively centered points as it is little additional work and allows for multiple\n  // attempts at decoding harder images.\n  const midTopRight = recenterLocation(matrix, topRight);\n  const midTopLeft = recenterLocation(matrix, topLeft);\n  const midBottomLeft = recenterLocation(matrix, bottomLeft);\n  const centeredAlignment = findAlignmentPattern(matrix, alignmentPatternQuads, midTopRight, midTopLeft, midBottomLeft);\n  if (centeredAlignment) {\n    result.push({\n      alignmentPattern: { x: centeredAlignment.alignmentPattern.x, y: centeredAlignment.alignmentPattern.y },\n      bottomLeft: { x: midBottomLeft.x, y: midBottomLeft. y },\n      topLeft: { x: midTopLeft.x, y: midTopLeft. y },\n      topRight: { x: midTopRight.x, y: midTopRight. y },\n      dimension: centeredAlignment.dimension,\n    });\n  }\n\n  if (result.length === 0) {\n    return null;\n  }\n\n  return result;\n}\n\nfunction findAlignmentPattern(matrix: BitMatrix, alignmentPatternQuads: Quad[], topRight: Point, topLeft: Point, bottomLeft: Point) {\n  // Now that we've found the three finder patterns we can determine the blockSize and the size of the QR code.\n  // We'll use these to help find the alignment pattern but also later when we do the extraction.\n  let dimension: number;\n  let moduleSize: number;\n  try {\n    ({ dimension, moduleSize } = computeDimension(topLeft, topRight, bottomLeft, matrix));\n  } catch (e) {\n    return null;\n  }\n\n  // Now find the alignment pattern\n  const bottomRightFinderPattern = { // Best guess at where a bottomRight finder pattern would be\n    x: topRight.x - topLeft.x + bottomLeft.x,\n    y: topRight.y - topLeft.y + bottomLeft.y,\n  };\n  const modulesBetweenFinderPatterns = ((distance(topLeft, bottomLeft) + distance(topLeft, topRight)) / 2 / moduleSize);\n  const correctionToTopLeft = 1 - (3 / modulesBetweenFinderPatterns);\n  const expectedAlignmentPattern = {\n    x: topLeft.x + correctionToTopLeft * (bottomRightFinderPattern.x - topLeft.x),\n    y: topLeft.y + correctionToTopLeft * (bottomRightFinderPattern.y - topLeft.y),\n  };\n\n  const alignmentPatterns = alignmentPatternQuads\n    .map(q => {\n      const x = (q.top.startX + q.top.endX + q.bottom.startX + q.bottom.endX) / 4;\n      const y = (q.top.y + q.bottom.y + 1) / 2;\n      if (!matrix.get(Math.floor(x), Math.floor(y))) {\n        return;\n      }\n\n      const sizeScore = scorePattern({x: Math.floor(x), y: Math.floor(y)}, [1, 1, 1], matrix);\n      const score = sizeScore + distance({x, y}, expectedAlignmentPattern);\n      return { x, y, score };\n    })\n    .filter(v => !!v)\n    .sort((a, b) => a.score - b.score);\n\n  // If there are less than 15 modules between finder patterns it's a version 1 QR code and as such has no alignmemnt pattern\n  // so we can only use our best guess.\n  const alignmentPattern = modulesBetweenFinderPatterns >= 15 && alignmentPatterns.length ? alignmentPatterns[0] : expectedAlignmentPattern;\n\n  return { alignmentPattern, dimension };\n}\n", "import {binarize} from \"./binarizer\";\nimport {BitMatrix} from \"./BitMatrix\";\nimport {Chunks} from \"./decoder/decodeData\";\nimport {decode} from \"./decoder/decoder\";\nimport { Version } from \"./decoder/version\";\nimport {extract} from \"./extractor\";\nimport {locate, Point} from \"./locator\";\n\nexport interface QRCode {\n  binaryData: number[];\n  data: string;\n  chunks: Chunks;\n  version: number;\n  location: {\n    topRightCorner: Point;\n    topLeftCorner: Point;\n    bottomRightCorner: Point;\n    bottomLeftCorner: Point;\n\n    topRightFinderPattern: Point;\n    topLeftFinderPattern: Point;\n    bottomLeftFinderPattern: Point;\n\n    bottomRightAlignmentPattern?: Point;\n  };\n  matrix: BitMatrix;\n}\n\nfunction scan(matrix: BitMatrix): QRCode | null {\n  const locations = locate(matrix);\n  if (!locations) {\n    return null;\n  }\n\n  for (const location of locations) {\n    const extracted = extract(matrix, location);\n    const decoded = decode(extracted.matrix);\n    if (decoded) {\n      return {\n        binaryData: decoded.bytes,\n        data: decoded.text,\n        chunks: decoded.chunks,\n        version: decoded.version,\n        location: {\n          topRightCorner: extracted.mappingFunction(location.dimension, 0),\n          topLeftCorner: extracted.mappingFunction(0, 0),\n          bottomRightCorner: extracted.mappingFunction(location.dimension, location.dimension),\n          bottomLeftCorner: extracted.mappingFunction(0, location.dimension),\n\n          topRightFinderPattern: location.topRight,\n          topLeftFinderPattern: location.topLeft,\n          bottomLeftFinderPattern: location.bottomLeft,\n\n          bottomRightAlignmentPattern: location.alignmentPattern,\n        },\n        matrix: extracted.matrix,\n      };\n    }\n  }\n  return null;\n}\n\nexport interface Options {\n  inversionAttempts?: \"dontInvert\" | \"onlyInvert\" | \"attemptBoth\" | \"invertFirst\";\n  greyScaleWeights?: GreyscaleWeights;\n  canOverwriteImage?: boolean;\n}\n\nexport interface GreyscaleWeights {\n  red: number;\n  green: number;\n  blue: number;\n  useIntegerApproximation?: boolean;\n}\n\nconst defaultOptions: Options = {\n  inversionAttempts: \"attemptBoth\",\n  greyScaleWeights: {\n    red: 0.2126,\n    green: 0.7152,\n    blue: 0.0722,\n    useIntegerApproximation: false,\n  },\n  canOverwriteImage: true,\n};\n\nfunction mergeObject(target: any, src: any) {\n  Object.keys(src).forEach(opt => { // Sad implementation of Object.assign since we target es5 not es6\n    target[opt] = src[opt];\n  });\n}\n\nfunction jsQR(data: Uint8ClampedArray, width: number, height: number, providedOptions: Options = {}): QRCode | null {\n  const options = Object.create(null);\n  mergeObject(options, defaultOptions);\n  mergeObject(options, providedOptions);\n\n  const tryInvertedFirst = options.inversionAttempts === \"onlyInvert\" || options.inversionAttempts === \"invertFirst\";\n  const shouldInvert = options.inversionAttempts === \"attemptBoth\" || tryInvertedFirst;\n  const {binarized, inverted} = binarize(data, width, height, shouldInvert, options.greyScaleWeights,\n      options.canOverwriteImage);\n  let result = scan(tryInvertedFirst ? inverted : binarized);\n  if (!result && (options.inversionAttempts === \"attemptBoth\" || options.inversionAttempts === \"invertFirst\")) {\n    result = scan(tryInvertedFirst ? binarized : inverted);\n  }\n  return result;\n}\n\n(jsQR as any).default = jsQR;\nexport default jsQR;\n", "// @ts-ignore jsqr-es6 does not provide types currently\nimport jsQR from '../node_modules/jsqr-es6/dist/jsQR.js';\n\ntype GrayscaleWeights = {\n    red: number,\n    green: number,\n    blue: number,\n    useIntegerApproximation: boolean,\n};\n\nlet inversionAttempts: 'dontInvert' | 'onlyInvert' | 'attemptBoth' = 'dontInvert';\nlet grayscaleWeights: GrayscaleWeights = {\n    // weights for quick luma integer approximation (https://en.wikipedia.org/wiki/YUV#Full_swing_for_BT.601)\n    red: 77,\n    green: 150,\n    blue: 29,\n    useIntegerApproximation: true,\n};\n\nself.onmessage = event => {\n    const id = event['data']['id'];\n    const type = event['data']['type'];\n    const data = event['data']['data'];\n\n    switch (type) {\n        case 'decode':\n            decode(data, id);\n            break;\n        case 'grayscaleWeights':\n            setGrayscaleWeights(data);\n            break;\n        case 'inversionMode':\n            setInversionMode(data);\n            break;\n        case 'close':\n            // close after earlier messages in the event loop finished processing\n            self.close();\n            break;\n    }\n};\n\nfunction decode(data: { data: Uint8ClampedArray, width: number, height: number }, requestId: number): void {\n    const rgbaData = data['data'];\n    const width = data['width'];\n    const height = data['height'];\n    const result = jsQR(rgbaData, width, height, {\n        inversionAttempts: inversionAttempts,\n        greyScaleWeights: grayscaleWeights,\n    });\n    if (!result) {\n        (self as unknown as Worker).postMessage({\n            id: requestId,\n            type: 'qrResult',\n            data: null,\n        });\n        return;\n    }\n\n    (self as unknown as Worker).postMessage({\n        id: requestId,\n        type: 'qrResult',\n        data: result.data,\n        // equivalent to cornerPoints of native BarcodeDetector\n        cornerPoints: [\n            result.location.topLeftCorner,\n            result.location.topRightCorner,\n            result.location.bottomRightCorner,\n            result.location.bottomLeftCorner,\n        ],\n    });\n}\n\nfunction setGrayscaleWeights(data: GrayscaleWeights) {\n    // update grayscaleWeights in a closure compiler compatible fashion\n    grayscaleWeights.red = data['red'];\n    grayscaleWeights.green = data['green'];\n    grayscaleWeights.blue = data['blue'];\n    grayscaleWeights.useIntegerApproximation = data['useIntegerApproximation'];\n}\n\nfunction setInversionMode(inversionMode: 'original' | 'invert' | 'both') {\n    switch (inversionMode) {\n        case 'original':\n            inversionAttempts = 'dontInvert';\n            break;\n        case 'invert':\n            inversionAttempts = 'onlyInvert';\n            break;\n        case 'both':\n            inversionAttempts = 'attemptBoth';\n            break;\n        default:\n            throw new Error('Invalid inversion mode');\n    }\n}\n", "import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { App }        from '@/components/app.js'\n\nimport { ConsoleProvider }     from '@/context/console.js'\nimport { NodeProvider }        from '@/context/node.js'\nimport { SettingsProvider }    from '@/context/settings.js'\nimport { PermissionsProvider } from '@/context/permissions.js'\nimport { ErrorBoundary }       from '@/components/util/error-boundary.js'\n\nimport './styles/global.css'\nimport './styles/layout.css'\nimport './styles/node.css'\nimport './styles/console.css'\nimport './styles/settings.css'\nimport './styles/scanner.css'\n\n// Fetch the root container.\nconst container = document.getElementById('root')\n\n// If the root container is not found, throw an error.\nif (!container) throw new Error('[ app ] root container not found')\n\n// Create the react root element.\nconst root = createRoot(container)\n\n// Render the app.\nroot.render(\n  <StrictMode>\n    <ErrorBoundary>\n      <SettingsProvider>\n        <PermissionsProvider>\n          <ConsoleProvider>\n            <NodeProvider>\n              <App />\n            </NodeProvider>\n          </ConsoleProvider>\n        </PermissionsProvider>\n      </SettingsProvider>\n    </ErrorBoundary>\n  </StrictMode>\n)\n", "export function Header () {\n  return (\n    <div className=\"page-header\">\n      <img\n        src=\"/icons/logo.png\" \n        alt=\"Frost Logo\" \n        className=\"frost-logo\"\n      />\n      <div className=\"title-container\">\n        <h1>Igloo Mobile</h1>\n      </div>\n      <p>Enterprise-grade security for the individual.</p>\n      <a \n        href=\"https://frostr.org\" \n        target=\"_blank\" \n        rel=\"noopener noreferrer\"\n      >\n        https://frostr.org\n      </a>\n      <div className=\"alpha-pill alpha-pill-standalone\">alpha edition</div>\n    </div>\n  )\n}\n", "import { useState }        from 'react'\nimport { DashboardView   } from '@/components/dash/index.js'\nimport { PermissionsView } from '@/components/permissions/index.js'\nimport { SettingsView }    from '@/components/settings/index.js'\n\nimport type { ReactElement } from 'react'\n\nimport * as Icons from '@/components/util/icons.js'\n\nexport function Tabs(): ReactElement {\n  const [ activeTab, setActiveTab ] = useState('dashboard')\n\n  return (\n    <div className=\"tabs-container\">\n      <div className=\"tabs-nav-wrapper\">\n\n        <div className=\"tabs-navigation\">\n          <button \n            className={`tab-button ${activeTab === 'dashboard' ? 'active' : ''}`}\n            onClick={() => setActiveTab('dashboard')}\n          >\n            <Icons.ConsoleIcon />\n            <span>Dashboard</span>\n          </button>\n\n          <button \n            className={`tab-button ${activeTab === 'permissions' ? 'active' : ''}`}\n            onClick={() => setActiveTab('permissions')}\n          >\n            <Icons.PermissionsIcon />\n            <span>Permissions</span>\n          </button>\n\n          <button\n            className={`tab-button ${activeTab === 'settings' ? 'active' : ''}`}\n            onClick={() => setActiveTab('settings')}\n          >\n            <Icons.SettingsIcon />\n            <span>Settings</span>\n          </button>\n        </div>\n      </div>\n\n      <div className=\"tab-content\">\n        {activeTab === 'dashboard' && (\n          <div className=\"tab-panel\">\n            <DashboardView />\n          </div>\n        )}\n\n        {activeTab === 'permissions' && (\n          <div className=\"tab-panel\">\n            <PermissionsView />\n          </div>\n        )}\n\n        {activeTab === 'settings' && (\n          <div className=\"tab-panel\">\n            <SettingsView />\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n", "import { useEffect, useState } from 'react'\nimport { nip19 }          from 'nostr-tools'\nimport { useBifrostNode } from '@/context/node.js'\nimport { useSettings }    from '@/context/settings.js'\nimport { LockIcon, CopyIcon, CheckIcon } from '@/components/util/icons.js'\nimport { STORAGE_KEYS }   from '@/const.js'\n\nexport function NodeInfoView () {\n  const node     = useBifrostNode()\n  const settings = useSettings()\n  const share_pk = settings.data.pubkey\n  const group_pk = settings.data.group?.group_pk\n\n  const [ password, setPassword ]       = useState('')\n  const [ error, setError ]             = useState<string | null>(null)\n  const [ showHex, setShowHex ]         = useState(false)\n  const [ copySuccess, setCopySuccess ] = useState(false)\n\n  const copy_pubkey = async (pk: string) => {\n    // Return early if the pubkey is not set.\n    if (!pk) return\n    // Get the npub value.\n    const valueToCopy = get_npub(pk, showHex)\n    // Try to copy the value.\n    try {\n      // Copy the value to the clipboard.\n      await navigator.clipboard.writeText(valueToCopy)\n      // Set the copy success state.\n      setCopySuccess(true)\n      // Reset the copy success state after 1 second.\n      setTimeout(() => setCopySuccess(false), 1000)\n    } catch {\n      // Copy failed - ignore silently\n    }\n  }\n\n  const unlock_node = async (e: React.FormEvent) => {\n    // Prevent the default form submission.\n    e.preventDefault()\n    // Return early if the password is not set.\n    if (!password) {\n      // Set the error state and return.\n      setError('Password is required')\n      return\n    }\n    // Unlock the client.\n    node.unlock(password)\n    // Reset the password state.\n    setPassword('')\n  }\n\n  useEffect(() => {\n    console.log('[NodeInfoView] Auto-unlock effect triggered, status:', node.status)\n    if (node.status === 'locked') {\n      // First check sessionStorage\n      const password = sessionStorage.getItem(STORAGE_KEYS.SESSION_PASSWORD)\n      console.log('[NodeInfoView] Checking sessionStorage for password:', password ? 'FOUND' : 'NOT_FOUND')\n      // If the password is found, unlock the node.\n      if (password) {\n        console.log('[NodeInfoView] Attempting auto-unlock...')\n        node.unlock(password)\n      }\n    }\n  }, [ node.status ])\n\n  // If client is locked, show locked state\n  if (node.status === 'locked') {\n    return (\n      <div className=\"dashboard-container\">\n        <h2 className=\"section-header\">Node Info</h2>\n        <div className=\"node-inline-row locked\">\n          <span className=\"node-label\">Status</span>\n          <span className=\"status-pill locked\">Locked</span>\n        </div>\n        <form onSubmit={unlock_node} className=\"unlock-form\">\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Enter password to unlock...\"\n            className=\"nsec-input\"\n            autoComplete=\"current-password\"\n          />\n          <button \n            type=\"submit\"\n            className=\"button button-primary\"\n            disabled={!password}\n          >\n            Unlock\n          </button>\n        </form>\n        {error && <div className=\"error-text\">{error}</div>}\n      </div>\n    )\n  }\n\n  // Show normal state when unlocked\n  return (\n    <div className=\"dashboard-container\">\n      <h2 className=\"section-header\">Node Info</h2>\n      <div className=\"node-inline-row locked\">\n        <span className=\"node-label\">Status</span>\n        <span className={`status-pill ${node.status}`}>{node.status}</span>\n      </div>\n      <div className=\"node-inline-row\">\n        <span className=\"node-label\">Share</span>\n        {!share_pk && <pre>no FROSTR share configured</pre>}\n        {share_pk &&\n          <div className=\"pubkey-container\">\n            <span className=\"node-npub\">\n              { share_pk }\n            </span>\n          </div>\n        }\n      </div>\n      <div className=\"node-inline-row\">\n        <span className=\"node-label\">Pubkey</span>\n        {!group_pk && <pre>no group pubkey set</pre>}\n        {group_pk &&\n          <div className=\"pubkey-container\">\n            <span \n              className=\"node-npub\" \n              onClick={() => setShowHex(!showHex)}\n              title={`Click to show ${showHex ? 'npub' : 'hex'} format`}\n            >\n              { get_npub(group_pk, showHex)}\n            </span>\n            <button\n              onClick={() => copy_pubkey(group_pk)}\n              className={`button copy-button ${copySuccess ? 'copied' : ''}`}\n              title=\"Copy to clipboard\"\n            >\n              {copySuccess ? <CheckIcon /> : <CopyIcon />}\n            </button>\n          </div>\n        }\n      </div>\n      <div className=\"node-actions\">\n        <button\n          className=\"button\"\n          onClick={() => node.reset()}\n        >\n          Reset Node\n        </button>\n        <button\n          className=\"button\"\n          onClick={() => node.lock()}\n          title=\"Lock Node\"\n        >\n          <LockIcon />\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction get_npub (\n  pubkey  : string | null,\n  showHex : boolean\n) {\n  if (pubkey === null) return ''\n  if (showHex)         return pubkey\n  return nip19.npubEncode(pubkey)\n}\n", "function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\n\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\nconst toStr = {}.toString;\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "import { exists, output } from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    exists(this);\n    output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n", "import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? `0${hex}` : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes(hex);\n    } catch (e) {\n      throw new Error(`${title} must be valid hex string, got \"${hex}\". Cause: ${e}`);\n    }\n  } else if (u8a(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(`${title} must be hex string or Uint8Array`);\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(`${title} expected ${expectedLength} bytes, got ${len}`);\n  return res;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\nexport function equalBytes(b1: Uint8Array, b2: Uint8Array) {\n  // We don't care about timing attacks here\n  if (b1.length !== b2.length) return false;\n  for (let i = 0; i < b1.length; i++) if (b1[i] !== b2[i]) return false;\n  return true;\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n: bigint) {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number) {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport const bitSet = (n: bigint, pos: number, value: boolean) => {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n};\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number) => (_2n << BigInt(n - 1)) - _1n;\n\n// DRBG\n\nconst u8n = (data?: any) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr: any) => Uint8Array.from(arr); // another shortcut\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n()) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any) => typeof val === 'bigint',\n  function: (val: any) => typeof val === 'function',\n  boolean: (val: any) => typeof val === 'boolean',\n  string: (val: any) => typeof val === 'string',\n  stringOrUint8Array: (val: any) => typeof val === 'string' || val instanceof Uint8Array,\n  isSafeInteger: (val: any) => Number.isSafeInteger(val),\n  array: (val: any) => Array.isArray(val),\n  field: (val: any, object: any) => (object as any).Fp.isValid(val),\n  hash: (val: any) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n) {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function')\n      throw new Error(`Invalid validator \"${type}\", expected function`);\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        `Invalid param ${String(fieldName)}=${val} (${typeof val}), expected ${type}`\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities for modular arithmetics and finite fields\nimport {\n  bitMask,\n  numberToBytesBE,\n  numberToBytesLE,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  validateObject,\n} from './utils.js';\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _4n = BigInt(4), _5n = BigInt(5), _8n = BigInt(8);\n// prettier-ignore\nconst _9n = BigInt(9), _16n = BigInt(16);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\n// TODO: use field version && remove\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  if (modulo <= _0n || power < _0n) throw new Error('Expected power/modulo > 0');\n  if (modulo === _1n) return _0n;\n  let res = _1n;\n  while (power > _0n) {\n    if (power & _1n) res = (res * num) % modulo;\n    num = (num * num) % modulo;\n    power >>= _1n;\n  }\n  return res;\n}\n\n// Does x ^ (2 ^ power) mod p. pow2(30, 4) == 30 ^ (2 ^ 4)\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n// Inverses number over modulo\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n || modulo <= _0n) {\n    throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n  }\n  // Euclidean GCD https://brilliant.org/wiki/extended-euclidean-algorithm/\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint) {\n  // Legendre constant: used to calculate Legendre symbol (a | p),\n  // which denotes the value of a^((p-1)/2) (mod p).\n  // (a | p) \u2261 1    if a is a square (mod p)\n  // (a | p) \u2261 -1   if a is not a square (mod p)\n  // (a | p) \u2261 0    if a \u2261 0 (mod p)\n  const legendreC = (P - _1n) / _2n;\n\n  let Q: bigint, S: number, Z: bigint;\n  // Step 1: By factoring out powers of 2 from p - 1,\n  // find q and s such that p - 1 = q*(2^s) with q odd\n  for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++);\n\n  // Step 2: Select a non-square z such that (z | p) \u2261 -1 and set c \u2261 zq\n  for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++);\n\n  // Fast-path\n  if (S === 1) {\n    const p1div4 = (P + _1n) / _4n;\n    return function tonelliFast<T>(Fp: IField<T>, n: T) {\n      const root = Fp.pow(n, p1div4);\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n\n  // Slow-path\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    // Step 0: Check that n is indeed a square: (n | p) should not be \u2261 -1\n    if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE)) throw new Error('Cannot find square root');\n    let r = S;\n    // TODO: will fail at Fp2/etc\n    let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n    let x = Fp.pow(n, Q1div2); // first guess at the square root\n    let b = Fp.pow(n, Q); // first guess at the fudge factor\n\n    while (!Fp.eql(b, Fp.ONE)) {\n      if (Fp.eql(b, Fp.ZERO)) return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n      // Find m such b^(2^m)==1\n      let m = 1;\n      for (let t2 = Fp.sqr(b); m < r; m++) {\n        if (Fp.eql(t2, Fp.ONE)) break;\n        t2 = Fp.sqr(t2); // t2 *= t2\n      }\n      // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n      const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n      g = Fp.sqr(ge); // g = ge * ge\n      x = Fp.mul(x, ge); // x *= ge\n      b = Fp.mul(b, g); // b *= g\n      r = m;\n    }\n    return x;\n  };\n}\n\nexport function FpSqrt(P: bigint) {\n  // NOTE: different algorithms can give different roots, it is up to user to decide which one they want.\n  // For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n\n  // P \u2261 3 (mod 4)\n  // \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) {\n    // Not all roots possible!\n    // const ORDER =\n    //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n    // const NUM = 72057594037927816n;\n    const p1div4 = (P + _1n) / _4n;\n    return function sqrt3mod4<T>(Fp: IField<T>, n: T) {\n      const root = Fp.pow(n, p1div4);\n      // Throw if root**2 != n\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n\n  // Atkin algorithm for q \u2261 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n  if (P % _8n === _5n) {\n    const c1 = (P - _5n) / _8n;\n    return function sqrt5mod8<T>(Fp: IField<T>, n: T) {\n      const n2 = Fp.mul(n, _2n);\n      const v = Fp.pow(n2, c1);\n      const nv = Fp.mul(n, v);\n      const i = Fp.mul(Fp.mul(nv, _2n), v);\n      const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n\n  // P \u2261 9 (mod 16)\n  if (P % _16n === _9n) {\n    // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n    // Means we cannot use sqrt for constants at all!\n    //\n    // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    // sqrt = (x) => {\n    //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n    //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n    //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n    //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n    //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n    //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n    //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n    //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n    //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n    //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n    // }\n  }\n\n  // Other cases: Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint) => (mod(num, modulo) & _1n) === _1n;\n\n// Field is not always over prime: for example, Fp2 has ORDER(q)=p^m\nexport interface IField<T> {\n  ORDER: bigint;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  // legendre?(num: T): T;\n  pow(lhs: T, power: bigint): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>) {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'isSafeInteger',\n    BITS: 'isSafeInteger',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  return validateObject(field, opts);\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(f: IField<T>, num: T, power: bigint): T {\n  // Should have same speed as pow for bigints\n  // TODO: benchmark!\n  if (power < _0n) throw new Error('Expected power > 0');\n  if (power === _0n) return f.ONE;\n  if (power === _1n) return num;\n  let p = f.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = f.mul(p, d);\n    d = f.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nexport function FpInvertBatch<T>(f: IField<T>, nums: T[]): T[] {\n  const tmp = new Array(nums.length);\n  // Walk from first to last, multiply them by each other MOD p\n  const lastMultiplied = nums.reduce((acc, num, i) => {\n    if (f.is0(num)) return acc;\n    tmp[i] = acc;\n    return f.mul(acc, num);\n  }, f.ONE);\n  // Invert last element\n  const inverted = f.inv(lastMultiplied);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (f.is0(num)) return acc;\n    tmp[i] = f.mul(acc, tmp[i]);\n    return f.mul(acc, num);\n  }, inverted);\n  return tmp;\n}\n\nexport function FpDiv<T>(f: IField<T>, lhs: T, rhs: T | bigint): T {\n  return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(f: IField<T>) {\n  const legendreConst = (f.ORDER - _1n) / _2n; // Integer arithmetic\n  return (x: T): boolean => {\n    const p = f.pow(x, legendreConst);\n    return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n  };\n}\n\n// CURVE.n lengths\nexport function nLength(n: bigint, nBitLength?: number) {\n  // Bit size, byte size of CURVE.n\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\n/**\n * Initializes a finite field over prime. **Non-primes are not supported.**\n * Do not init in loop: slow. Very fragile: always run a benchmark on a change.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLen?: number,\n  isLE = false,\n  redef: Partial<IField<bigint>> = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error(`Expected Field ORDER > 0, got ${ORDER}`);\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n  if (BYTES > 2048) throw new Error('Field lengths over 2048 bytes are not supported');\n  const sqrtP = FpSqrt(ORDER);\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error(`Invalid field element: expected bigint, got ${typeof num}`);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt: redef.sqrt || ((n) => sqrtP(f, n)),\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // TODO: do we really need constant cmov?\n    // We don't have const-time bigints anyway, so probably will be not very useful\n    cmov: (a, b, c) => (c ? b : a),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes) => {\n      if (bytes.length !== BYTES)\n        throw new Error(`Fp.fromBytes: expected ${BYTES}, got ${bytes.length}`);\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    },\n  } as FpField);\n  return Object.freeze(f);\n}\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T) {\n  if (!Fp.isOdd) throw new Error(`Field doesn't have isOdd`);\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T) {\n  if (!Fp.isOdd) throw new Error(`Field doesn't have isOdd`);\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use mapKeyToField instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(`hashToPrivateScalar: expected ${minLen}-1024 bytes of input, got ${hashLen}`);\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error(`expected ${minLen}-1024 bytes of input, got ${len}`);\n  const num = isLE ? bytesToNumberBE(key) : bytesToNumberLE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Abelian group utilities\nimport { IField, validateField, nLength } from './modular.js';\nimport { validateObject } from './utils.js';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { z?: never; t?: never };\n\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n}\n\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\n// Elliptic curve multiplication of Point by scalar. Fragile.\n// Scalars should always be less than curve order: this should be checked inside of a curve itself.\n// Creates precomputation tables for fast multiplication:\n// - private scalar is split by fixed size windows of W bits\n// - every window point is collected from window's table & added to accumulator\n// - since windows are different, same point inside tables won't be accessed more than once per calc\n// - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n// - +1 window is neccessary for wNAF\n// - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n// TODO: Research returning 2d JS array of windows, instead of a single window. This would allow\n// windows to be in different memory locations\nexport function wNAF<T extends Group<T>>(c: GroupConstructor<T>, bits: number) {\n  const constTimeNegate = (condition: boolean, item: T): T => {\n    const neg = item.negate();\n    return condition ? neg : item;\n  };\n  const opts = (W: number) => {\n    const windows = Math.ceil(bits / W) + 1; // +1, because\n    const windowSize = 2 ** (W - 1); // -1 because we skip zero\n    return { windows, windowSize };\n  };\n  return {\n    constTimeNegate,\n    // non-const time multiplication ladder\n    unsafeLadder(elm: T, n: bigint) {\n      let p = c.ZERO;\n      let d: T = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n     * - \uD835\uDC4A is the window size\n     * - \uD835\uDC5B is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(elm: T, W: number): Group<T>[] {\n      const { windows, windowSize } = opts(W);\n      const points: T[] = [];\n      let p: T = elm;\n      let base = p;\n      for (let window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // =1, because we skip zero\n        for (let i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T } {\n      // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n      // But need to carefully remove other checks before wNAF. ORDER == bits here\n      const { windows, windowSize } = opts(W);\n\n      let p = c.ZERO;\n      let f = c.BASE;\n\n      const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n      const maxNumber = 2 ** W;\n      const shiftBy = BigInt(W);\n\n      for (let window = 0; window < windows; window++) {\n        const offset = window * windowSize;\n        // Extract W bits.\n        let wbits = Number(n & mask);\n\n        // Shift number by W bits.\n        n >>= shiftBy;\n\n        // If the bits are bigger than max size, we'll split those.\n        // +224 => 256 - 32\n        if (wbits > windowSize) {\n          wbits -= maxNumber;\n          n += _1n;\n        }\n\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n\n        // Check if we're onto Zero point.\n        // Add random point inside current window to f.\n        const offset1 = offset;\n        const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n        const cond1 = window % 2 !== 0;\n        const cond2 = wbits < 0;\n        if (wbits === 0) {\n          // The most important part for const-time getPublicKey\n          f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n        } else {\n          p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n        }\n      }\n      // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n      // Even if the variable is still unused, there are some checks which will\n      // throw an exception, so compiler needs to prove they won't happen, which is hard.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return { p, f };\n    },\n\n    wNAFCached(P: T, precomputesMap: Map<T, T[]>, n: bigint, transform: Mapper<T>): { p: T; f: T } {\n      // @ts-ignore\n      const W: number = P._WINDOW_SIZE || 1;\n      // Calculate precomputes on a first run, reuse them after\n      let comp = precomputesMap.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W) as T[];\n        if (W !== 1) {\n          precomputesMap.set(P, transform(comp));\n        }\n      }\n      return this.wNAF(W, comp, n);\n    },\n  };\n}\n\n// Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n// Though generator can be different (Fp2 / Fp6 for BLS).\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\nexport function validateBasic<FP, T>(curve: BasicCurve<FP> & T) {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Short Weierstrass curve. The formula is: y\u00B2 = x\u00B3 + ax + b\nimport * as mod from './modular.js';\nimport * as ut from './utils.js';\nimport { CHash, Hex, PrivKey, ensureBytes } from './utils.js';\nimport { Group, GroupConstructor, wNAF, BasicCurve, validateBasic, AffinePoint } from './curve.js';\n\nexport type { AffinePoint };\ntype HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\ntype EndomorphismOpts = {\n  beta: bigint;\n  splitScalar: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts; // Endomorphism options for Koblitz curves\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n};\n\ntype Entropy = Hex | true;\nexport type SignOpts = { lowS?: boolean; extraEntropy?: Entropy; prehash?: boolean };\nexport type VerOpts = { lowS?: boolean; prehash?: boolean };\n\n/**\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance of nominative types in TypeScript and interfaces only check for shape, so it's hard to create unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * TODO: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n */\n\n// Instance for 3d XYZ points\nexport interface ProjPointType<T> extends Group<ProjPointType<T>> {\n  readonly px: T;\n  readonly py: T;\n  readonly pz: T;\n  get x(): T;\n  get y(): T;\n  multiply(scalar: bigint): ProjPointType<T>;\n  toAffine(iz?: T): AffinePoint<T>;\n  isTorsionFree(): boolean;\n  clearCofactor(): ProjPointType<T>;\n  assertValidity(): void;\n  hasEvenY(): boolean;\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n  toHex(isCompressed?: boolean): string;\n\n  multiplyUnsafe(scalar: bigint): ProjPointType<T>;\n  multiplyAndAddUnsafe(Q: ProjPointType<T>, a: bigint, b: bigint): ProjPointType<T> | undefined;\n  _setWindowSize(windowSize: number): void;\n}\n// Static methods for 3d XYZ points\nexport interface ProjConstructor<T> extends GroupConstructor<ProjPointType<T>> {\n  new (x: T, y: T, z: T): ProjPointType<T>;\n  fromAffine(p: AffinePoint<T>): ProjPointType<T>;\n  fromHex(hex: Hex): ProjPointType<T>;\n  fromPrivateKey(privateKey: PrivKey): ProjPointType<T>;\n  normalizeZ(points: ProjPointType<T>[]): ProjPointType<T>[];\n}\n\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  // Bytes\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n};\n\nfunction validatePointOpts<T>(curve: CurvePointsType<T>) {\n  const opts = validateBasic(curve);\n  ut.validateObject(\n    opts,\n    {\n      a: 'field',\n      b: 'field',\n    },\n    {\n      allowedPrivateKeyLengths: 'array',\n      wrapPrivateKey: 'boolean',\n      isTorsionFree: 'function',\n      clearCofactor: 'function',\n      allowInfinityPoint: 'boolean',\n      fromBytes: 'function',\n      toBytes: 'function',\n    }\n  );\n  const { endo, Fp, a } = opts;\n  if (endo) {\n    if (!Fp.eql(a, Fp.ZERO)) {\n      throw new Error('Endomorphism can only be defined for Koblitz curves that have a=0');\n    }\n    if (\n      typeof endo !== 'object' ||\n      typeof endo.beta !== 'bigint' ||\n      typeof endo.splitScalar !== 'function'\n    ) {\n      throw new Error('Expected endomorphism with beta: bigint and splitScalar: function');\n    }\n  }\n  return Object.freeze({ ...opts } as const);\n}\n\nexport type CurvePointsRes<T> = {\n  ProjectivePoint: ProjConstructor<T>;\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  weierstrassEquation: (x: T) => T;\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\n// ASN.1 DER encoding utilities\nconst { bytesToNumberBE: b2n, hexToBytes: h2b } = ut;\nexport const DER = {\n  // asn.1 DER encoding utils\n  Err: class DERErr extends Error {\n    constructor(m = '') {\n      super(m);\n    }\n  },\n  _parseInt(data: Uint8Array): { d: bigint; l: Uint8Array } {\n    const { Err: E } = DER;\n    if (data.length < 2 || data[0] !== 0x02) throw new E('Invalid signature integer tag');\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) throw new E('Invalid signature integer: wrong length');\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    if (res[0] & 0b10000000) throw new E('Invalid signature integer: negative');\n    if (res[0] === 0x00 && !(res[1] & 0b10000000))\n      throw new E('Invalid signature integer: unnecessary leading zero');\n    return { d: b2n(res), l: data.subarray(len + 2) }; // d is data, l is left\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E } = DER;\n    const data = typeof hex === 'string' ? h2b(hex) : hex;\n    if (!(data instanceof Uint8Array)) throw new Error('ui8a expected');\n    let l = data.length;\n    if (l < 2 || data[0] != 0x30) throw new E('Invalid signature tag');\n    if (data[1] !== l - 2) throw new E('Invalid signature: incorrect length');\n    const { d: r, l: sBytes } = DER._parseInt(data.subarray(2));\n    const { d: s, l: rBytesLeft } = DER._parseInt(sBytes);\n    if (rBytesLeft.length) throw new E('Invalid signature: left bytes after parsing');\n    return { r, s };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    // Add leading zero if first byte has negative bit enabled. More details in '_parseInt'\n    const slice = (s: string): string => (Number.parseInt(s[0], 16) & 0b1000 ? '00' + s : s);\n    const h = (num: number | bigint) => {\n      const hex = num.toString(16);\n      return hex.length & 1 ? `0${hex}` : hex;\n    };\n    const s = slice(h(sig.s));\n    const r = slice(h(sig.r));\n    const shl = s.length / 2;\n    const rhl = r.length / 2;\n    const sl = h(shl);\n    const rl = h(rhl);\n    return `30${h(rhl + shl + 4)}02${rl}${r}02${sl}${s}`;\n  },\n};\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\nexport function weierstrassPoints<T>(opts: CurvePointsType<T>) {\n  const CURVE = validatePointOpts(opts);\n  const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n\n  const toBytes =\n    CURVE.toBytes ||\n    ((_c: ProjConstructor<T>, point: ProjPointType<T>, _isCompressed: boolean) => {\n      const a = point.toAffine();\n      return ut.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n    });\n  const fromBytes =\n    CURVE.fromBytes ||\n    ((bytes: Uint8Array) => {\n      // const head = bytes[0];\n      const tail = bytes.subarray(1);\n      // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n      const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n      const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n      return { x, y };\n    });\n\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const { a, b } = CURVE;\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n  }\n  // Validate whether the passed curve params are valid.\n  // We check if curve equation works for generator point.\n  // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n  // ProjectivePoint class has not been initialized yet.\n  if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))\n    throw new Error('bad generator point: equation left != right');\n\n  // Valid group elements reside in range 1..n-1\n  function isWithinCurveOrder(num: bigint): boolean {\n    return typeof num === 'bigint' && _0n < num && num < CURVE.n;\n  }\n  function assertGE(num: bigint) {\n    if (!isWithinCurveOrder(num)) throw new Error('Expected valid bigint: 0 < bigint < curve.n');\n  }\n  // Validates if priv key is valid and converts it to bigint.\n  // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n  function normPrivateKeyToScalar(key: PrivKey): bigint {\n    const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n } = CURVE;\n    if (lengths && typeof key !== 'bigint') {\n      if (key instanceof Uint8Array) key = ut.bytesToHex(key);\n      // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n      if (typeof key !== 'string' || !lengths.includes(key.length)) throw new Error('Invalid key');\n      key = key.padStart(nByteLength * 2, '0');\n    }\n    let num: bigint;\n    try {\n      num =\n        typeof key === 'bigint'\n          ? key\n          : ut.bytesToNumberBE(ensureBytes('private key', key, nByteLength));\n    } catch (error) {\n      throw new Error(`private key must be ${nByteLength} bytes, hex or bigint, not ${typeof key}`);\n    }\n    if (wrapPrivateKey) num = mod.mod(num, n); // disabled by default, enabled for BLS\n    assertGE(num); // num in range [1..N-1]\n    return num;\n  }\n\n  const pointPrecomputes = new Map<Point, Point[]>();\n  function assertPrjPoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) \u220B (x=x/z, y=y/z)\n   * Default Point works in 2d / affine coordinates: (x, y)\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements ProjPointType<T> {\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n\n    constructor(readonly px: T, readonly py: T, readonly pz: T) {\n      if (px == null || !Fp.isValid(px)) throw new Error('x required');\n      if (py == null || !Fp.isValid(py)) throw new Error('y required');\n      if (pz == null || !Fp.isValid(pz)) throw new Error('z required');\n    }\n\n    // Does not validate if the point is on-curve.\n    // Use fromHex instead, or call assertValidity() later.\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      const is0 = (i: T) => Fp.eql(i, Fp.ZERO);\n      // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n      if (is0(x) && is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    /**\n     * Takes a bunch of Projective Points but executes only one\n     * inversion on all of them. Inversion is very slow operation,\n     * so this improves performance massively.\n     * Optimization: converts a list of projective points to a list of identical points with Z=1.\n     */\n    static normalizeZ(points: Point[]): Point[] {\n      const toInv = Fp.invertBatch(points.map((p) => p.pz));\n      return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n    }\n\n    /**\n     * Converts hash string or Uint8Array to Point.\n     * @param hex short/long ECDSA hex\n     */\n    static fromHex(hex: Hex): Point {\n      const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n      P.assertValidity();\n      return P;\n    }\n\n    // Multiplies generator point by privateKey.\n    static fromPrivateKey(privateKey: PrivKey) {\n      return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n    }\n\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n    _WINDOW_SIZE?: number;\n\n    // \"Private method\", don't use it directly\n    _setWindowSize(windowSize: number) {\n      this._WINDOW_SIZE = windowSize;\n      pointPrecomputes.delete(this);\n    }\n\n    // A point on curve is valid if it conforms to equation.\n    assertValidity(): void {\n      if (this.is0()) {\n        // (0, 1, 0) aka ZERO is invalid in most contexts.\n        // In BLS, ZERO can be serialized, so we allow it.\n        // (0, 0, 0) is wrong representation of ZERO and is always invalid.\n        if (CURVE.allowInfinityPoint && !Fp.is0(this.py)) return;\n        throw new Error('bad point: ZERO');\n      }\n      // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n      const { x, y } = this.toAffine();\n      // Check if x, y are valid field elements\n      if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not FE');\n      const left = Fp.sqr(y); // y\u00B2\n      const right = weierstrassEquation(x); // x\u00B3 + ax + b\n      if (!Fp.eql(left, right)) throw new Error('bad point: equation left != right');\n      if (!this.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    }\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (Fp.isOdd) return !Fp.isOdd(y);\n      throw new Error(\"Field doesn't support isOdd\");\n    }\n\n    /**\n     * Compare one point to another.\n     */\n    equals(other: Point): boolean {\n      assertPrjPoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /**\n     * Flips point to one corresponding to (x, -y) in Affine coordinates.\n     */\n    negate(): Point {\n      return new Point(this.px, Fp.neg(this.py), this.pz);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      assertPrjPoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    private is0() {\n      return this.equals(Point.ZERO);\n    }\n    private wNAF(n: bigint): { p: Point; f: Point } {\n      return wnaf.wNAFCached(this, pointPrecomputes, n, (comp: Point[]) => {\n        const toInv = Fp.invertBatch(comp.map((p) => p.pz));\n        return comp.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n      });\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed private key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(n: bigint): Point {\n      const I = Point.ZERO;\n      if (n === _0n) return I;\n      assertGE(n); // Will throw on 0\n      if (n === _1n) return this;\n      const { endo } = CURVE;\n      if (!endo) return wnaf.unsafeLadder(this, n);\n\n      // Apply endomorphism\n      let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n      let k1p = I;\n      let k2p = I;\n      let d: Point = this;\n      while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n) k1p = k1p.add(d);\n        if (k2 & _1n) k2p = k2p.add(d);\n        d = d.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n      }\n      if (k1neg) k1p = k1p.negate();\n      if (k2neg) k2p = k2p.negate();\n      k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n      return k1p.add(k2p);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      assertGE(scalar);\n      let n = scalar;\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      const { endo } = CURVE;\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n        let { p: k1p, f: f1p } = this.wNAF(k1);\n        let { p: k2p, f: f2p } = this.wNAF(k2);\n        k1p = wnaf.constTimeNegate(k1neg, k1p);\n        k2p = wnaf.constTimeNegate(k2neg, k2p);\n        k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n        point = k1p.add(k2p);\n        fake = f1p.add(f2p);\n      } else {\n        const { p, f } = this.wNAF(n);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return Point.normalizeZ([point, fake])[0];\n    }\n\n    /**\n     * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n     * Not using Strauss-Shamir trick: precomputation tables are faster.\n     * The trick could be useful if both P and Q are not G (not in our case).\n     * @returns non-zero affine point\n     */\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n      const mul = (\n        P: Point,\n        a: bigint // Select faster multiply() method\n      ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n      const sum = mul(this, a).add(mul(Q, b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (x, y, z) \u220B (x=x/z, y=y/z)\n    toAffine(iz?: T): AffinePoint<T> {\n      const { px: x, py: y, pz: z } = this;\n      const is0 = this.is0();\n      // If invZ was 0, we return zero point. However we still want to execute\n      // all operations, so we replace invZ with a random number, 1.\n      if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n      const ax = Fp.mul(x, iz);\n      const ay = Fp.mul(y, iz);\n      const zz = Fp.mul(z, iz);\n      if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n      if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n      return { x: ax, y: ay };\n    }\n    isTorsionFree(): boolean {\n      const { h: cofactor, isTorsionFree } = CURVE;\n      if (cofactor === _1n) return true; // No subgroups, always torsion-free\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n    }\n    clearCofactor(): Point {\n      const { h: cofactor, clearCofactor } = CURVE;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(CURVE.h);\n    }\n\n    toRawBytes(isCompressed = true): Uint8Array {\n      this.assertValidity();\n      return toBytes(Point, this, isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      return ut.bytesToHex(this.toRawBytes(isCompressed));\n    }\n  }\n  const _bits = CURVE.nBitLength;\n  const wnaf = wNAF(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n  // Validate if generator point is on curve\n  return {\n    CURVE,\n    ProjectivePoint: Point as ProjConstructor<T>,\n    normPrivateKeyToScalar,\n    weierstrassEquation,\n    isWithinCurveOrder,\n  };\n}\n\n// Instance\nexport interface SignatureType {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  assertValidity(): void;\n  addRecoveryBit(recovery: number): RecoveredSignatureType;\n  hasHighS(): boolean;\n  normalizeS(): SignatureType;\n  recoverPublicKey(msgHash: Hex): ProjPointType<bigint>;\n  toCompactRawBytes(): Uint8Array;\n  toCompactHex(): string;\n  // DER-encoded\n  toDERRawBytes(isCompressed?: boolean): Uint8Array;\n  toDERHex(isCompressed?: boolean): string;\n}\nexport type RecoveredSignatureType = SignatureType & {\n  readonly recovery: number;\n};\n// Static methods\nexport type SignatureConstructor = {\n  new (r: bigint, s: bigint): SignatureType;\n  fromCompact(hex: Hex): SignatureType;\n  fromDER(hex: Hex): SignatureType;\n};\ntype SignatureLike = { r: bigint; s: bigint };\n\nexport type PubKey = Hex | ProjPointType<bigint>;\n\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac: HmacFnSync;\n  randomBytes: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\nfunction validateOpts(curve: CurveType) {\n  const opts = validateBasic(curve);\n  ut.validateObject(\n    opts,\n    {\n      hash: 'hash',\n      hmac: 'function',\n      randomBytes: 'function',\n    },\n    {\n      bits2int: 'function',\n      bits2int_modN: 'function',\n      lowS: 'boolean',\n    }\n  );\n  return Object.freeze({ lowS: true, ...opts } as const);\n}\n\nexport type CurveFn = {\n  CURVE: ReturnType<typeof validateOpts>;\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  ProjectivePoint: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n};\n\nexport function weierstrass(curveDef: CurveType): CurveFn {\n  const CURVE = validateOpts(curveDef) as ReturnType<typeof validateOpts>;\n  const { Fp, n: CURVE_ORDER } = CURVE;\n  const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n  const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n\n  function isValidFieldElement(num: bigint): boolean {\n    return _0n < num && num < Fp.ORDER; // 0 is banned since it's not invertible FE\n  }\n  function modN(a: bigint) {\n    return mod.mod(a, CURVE_ORDER);\n  }\n  function invN(a: bigint) {\n    return mod.invert(a, CURVE_ORDER);\n  }\n\n  const {\n    ProjectivePoint: Point,\n    normPrivateKeyToScalar,\n    weierstrassEquation,\n    isWithinCurveOrder,\n  } = weierstrassPoints({\n    ...CURVE,\n    toBytes(_c, point, isCompressed: boolean): Uint8Array {\n      const a = point.toAffine();\n      const x = Fp.toBytes(a.x);\n      const cat = ut.concatBytes;\n      if (isCompressed) {\n        return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n      } else {\n        return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n      }\n    },\n    fromBytes(bytes: Uint8Array) {\n      const len = bytes.length;\n      const head = bytes[0];\n      const tail = bytes.subarray(1);\n      // this.assertValidity() is done inside of fromHex\n      if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n        const x = ut.bytesToNumberBE(tail);\n        if (!isValidFieldElement(x)) throw new Error('Point is not on curve');\n        const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n        let y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n        const isYOdd = (y & _1n) === _1n;\n        // ECDSA\n        const isHeadOdd = (head & 1) === 1;\n        if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n        return { x, y };\n      } else if (len === uncompressedLen && head === 0x04) {\n        const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n        const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n        return { x, y };\n      } else {\n        throw new Error(\n          `Point of length ${len} was invalid. Expected ${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes`\n        );\n      }\n    },\n  });\n  const numToNByteStr = (num: bigint): string =>\n    ut.bytesToHex(ut.numberToBytesBE(num, CURVE.nByteLength));\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n\n  function normalizeS(s: bigint) {\n    return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n  }\n  // slice bytes num\n  const slcNum = (b: Uint8Array, from: number, to: number) => ut.bytesToNumberBE(b.slice(from, to));\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  class Signature implements SignatureType {\n    constructor(readonly r: bigint, readonly s: bigint, readonly recovery?: number) {\n      this.assertValidity();\n    }\n\n    // pair (bytes of r, bytes of s)\n    static fromCompact(hex: Hex) {\n      const l = CURVE.nByteLength;\n      hex = ensureBytes('compactSignature', hex, l * 2);\n      return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n    }\n\n    // DER encoded ECDSA signature\n    // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    static fromDER(hex: Hex) {\n      const { r, s } = DER.toSig(ensureBytes('DER', hex));\n      return new Signature(r, s);\n    }\n\n    assertValidity(): void {\n      // can use assertGE here\n      if (!isWithinCurveOrder(this.r)) throw new Error('r must be 0 < r < CURVE.n');\n      if (!isWithinCurveOrder(this.s)) throw new Error('s must be 0 < s < CURVE.n');\n    }\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    recoverPublicKey(msgHash: Hex): typeof Point.BASE {\n      const { r, s, recovery: rec } = this;\n      const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n      const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n      if (radj >= Fp.ORDER) throw new Error('recovery id 2 or 3 invalid');\n      const prefix = (rec & 1) === 0 ? '02' : '03';\n      const R = Point.fromHex(prefix + numToNByteStr(radj));\n      const ir = invN(radj); // r^-1\n      const u1 = modN(-h * ir); // -hr^-1\n      const u2 = modN(s * ir); // sr^-1\n      const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n      if (!Q) throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n    }\n\n    // DER-encoded\n    toDERRawBytes() {\n      return ut.hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n      return DER.hexFromSig({ r: this.r, s: this.s });\n    }\n\n    // padded bytes of r, then padded bytes of s\n    toCompactRawBytes() {\n      return ut.hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n      return numToNByteStr(this.r) + numToNByteStr(this.s);\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  const utils = {\n    isValidPrivateKey(privateKey: PrivKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n\n    /**\n     * Produces cryptographically secure private key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    randomPrivateKey: (): Uint8Array => {\n      const length = mod.getMinHashLength(CURVE.n);\n      return mod.mapHashToField(CURVE.randomBytes(length), CURVE.n);\n    },\n\n    /**\n     * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n     * Allows to massively speed-up `point.multiply(scalar)`.\n     * @returns cached point\n     * @example\n     * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n     * fast.multiply(privKey); // much faster ECDH now\n     */\n    precompute(windowSize = 8, point = Point.BASE): typeof Point.BASE {\n      point._setWindowSize(windowSize);\n      point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n      return point;\n    },\n  };\n\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && (item as Hex).length;\n    if (arr) return len === compressedLen || len === uncompressedLen;\n    if (str) return len === 2 * compressedLen || len === 2 * uncompressedLen;\n    if (item instanceof Point) return true;\n    return false;\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA: PrivKey, publicB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(privateA)) throw new Error('first arg must be private key');\n    if (!isProbPub(publicB)) throw new Error('second arg must be public key');\n    const b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n  }\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    CURVE.bits2int ||\n    function (bytes: Uint8Array): bigint {\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = ut.bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    CURVE.bits2int_modN ||\n    function (bytes: Uint8Array): bigint {\n      return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // NOTE: pads output with zero as per spec\n  const ORDER_MASK = ut.bitMask(CURVE.nBitLength);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num: bigint): Uint8Array {\n    if (typeof num !== 'bigint') throw new Error('bigint expected');\n    if (!(_0n <= num && num < ORDER_MASK))\n      throw new Error(`bigint expected < 2^${CURVE.nBitLength}`);\n    // works with order, can have different size than numToField!\n    return ut.numberToBytesBE(num, CURVE.nByteLength);\n  }\n\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order, this will be wrong at least for P521.\n  // Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash: Hex, privateKey: PrivKey, opts = defaultSigOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { hash, randomBytes } = CURVE;\n    let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(msgHash);\n    const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = ut.concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!isWithinCurveOrder(k)) return; // Important: all mod() calls here must be done over N\n      const ik = invN(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      const r = modN(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n      // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n      // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n      const s = modN(ik * modN(m + r * d)); // Not using blinding here\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n  const defaultSigOpts: SignOpts = { lowS: CURVE.lowS, prehash: false };\n  const defaultVerOpts: VerOpts = { lowS: CURVE.lowS, prehash: false };\n\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash: Hex, privKey: PrivKey, opts = defaultSigOpts): RecoveredSignature {\n    const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n    const C = CURVE;\n    const drbg = ut.createHmacDrbg<RecoveredSignature>(C.hash.outputLen, C.nByteLength, C.hmac);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE._setWindowSize(8);\n  // utils.precompute(8, ProjectivePoint.BASE)\n\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1\u22C5G - U2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    msgHash: Hex,\n    publicKey: Hex,\n    opts = defaultVerOpts\n  ): boolean {\n    const sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    const { lowS, prehash } = opts;\n\n    let _sig: Signature | undefined = undefined;\n    let P: ProjPointType<bigint>;\n    try {\n      if (typeof sg === 'string' || sg instanceof Uint8Array) {\n        // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n        // Since DER can also be 2*nByteLength bytes, we check for it first.\n        try {\n          _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n          _sig = Signature.fromCompact(sg);\n        }\n      } else if (typeof sg === 'object' && typeof sg.r === 'bigint' && typeof sg.s === 'bigint') {\n        const { r, s } = sg;\n        _sig = new Signature(r, s);\n      } else {\n        throw new Error('PARSE');\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      if ((error as Error).message === 'PARSE')\n        throw new Error(`signature must be Signature instance, Uint8Array or hex string`);\n      return false;\n    }\n    if (lowS && _sig.hasHighS()) return false;\n    if (prehash) msgHash = CURVE.hash(msgHash);\n    const { r, s } = _sig;\n    const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    const is = invN(s); // s^-1\n    const u1 = modN(h * is); // u1 = hs^-1 mod n\n    const u2 = modN(r * is); // u2 = rs^-1 mod n\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1\u22C5G + u2\u22C5P\n    if (!R) return false;\n    const v = modN(R.x);\n    return v === r;\n  }\n  return {\n    CURVE,\n    getPublicKey,\n    getSharedSecret,\n    sign,\n    verify,\n    ProjectivePoint: Point,\n    Signature,\n    utils,\n  };\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(Fp: mod.IField<T>, Z: T) {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: mod.IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n) {\n  mod.validateField(Fp);\n  if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n  if (!Fp.isOdd) throw new Error('Fp.isOdd is not implemented!');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    x = Fp.div(x, tv4); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n", "import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, CHash, Input, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    assertHash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf: Input) {\n    assertExists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assertExists(this);\n    assertBytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport { weierstrass, CurveType } from './abstract/weierstrass.js';\nimport { CHash } from './abstract/utils.js';\n\n// connects noble-curves to noble-hashes\nexport function getHash(hash: CHash) {\n  return {\n    hash,\n    hmac: (key: Uint8Array, ...msgs: Uint8Array[]) => hmac(hash, key, concatBytes(...msgs)),\n    randomBytes,\n  };\n}\n// Same API as @noble/hashes, with ability to create curve with custom hash\ntype CurveDef = Readonly<Omit<CurveType, 'hash' | 'hmac' | 'randomBytes'>>;\nexport function createCurve(curveDef: CurveDef, defHash: CHash) {\n  const create = (hash: CHash) => weierstrass({ ...curveDef, ...getHash(hash) });\n  return Object.freeze({ ...create(defHash), create });\n}\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha256';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { Field, mod, pow2 } from './abstract/modular.js';\nimport { ProjPointType as PointType, mapToCurveSimpleSWU } from './abstract/weierstrass.js';\nimport type { Hex, PrivKey } from './abstract/utils.js';\nimport { bytesToNumberBE, concatBytes, ensureBytes, numberToBytesBE } from './abstract/utils.js';\nimport { createHasher, isogenyMap } from './abstract/hash-to-curve.js';\nimport { createCurve } from './_shortw_utils.js';\n\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a: bigint, b: bigint) => (a + b / _2n) / b;\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1P;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fp.eql(Fp.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fp = Field(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\n\nexport const secp256k1 = createCurve(\n  {\n    a: BigInt(0), // equation params: a, b\n    b: BigInt(7), // Seem to be rigid: bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975\n    Fp, // Field's prime: 2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n\n    n: secp256k1N, // Curve order, total count of valid points in the field\n    // Base point (x, y) aka generator point\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1), // Cofactor\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    /**\n     * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n     * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n     * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n     * Explanation: https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066\n     */\n    endo: {\n      beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n      splitScalar: (k: bigint) => {\n        const n = secp256k1N;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg) k1 = n - k1;\n        if (k2neg) k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n          throw new Error('splitScalar: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n      },\n    },\n  },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nconst _0n = BigInt(0);\nconst fe = (x: bigint) => typeof x === 'bigint' && _0n < x && x < secp256k1P;\nconst ge = (x: bigint) => typeof x === 'bigint' && _0n < x && x < secp256k1N;\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n: bigint) => numberToBytesBE(n, 32);\nconst modP = (x: bigint) => mod(x, secp256k1P);\nconst modN = (x: bigint) => mod(x, secp256k1N);\nconst Point = secp256k1.ProjectivePoint;\nconst GmulAdd = (Q: PointType<bigint>, a: bigint, b: bigint) =>\n  Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  let p = Point.fromPrivateKey(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = p.hasEvenY() ? d_ : modN(-d_);\n  return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  if (!fe(x)) throw new Error('bad x: need 0 < x < p'); // Fail if x \u2265 p.\n  const xx = modP(x * x);\n  const c = modP(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (y % _2n !== _0n) y = modP(-y); // Return the unique point P such that x(P) = x and\n  const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return modN(bytesToNumberBE(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(\n  message: Hex,\n  privateKey: PrivKey,\n  auxRand: Hex = randomBytes(32)\n): Uint8Array {\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = numTo32b(d ^ bytesToNumberBE(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  const k_ = modN(bytesToNumberBE(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'\u22C5G.\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(bytesToNumberBE(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = bytesToNumberBE(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!fe(r)) return false;\n    const s = bytesToNumberBE(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!ge(s)) return false;\n    const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    const R = GmulAdd(P, s, modN(-e)); // R = s\u22C5G - e\u22C5P\n    if (!R || !R.hasEvenY() || R.toAffine().x !== r) return false; // -eP == (n-e)P\n    return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n  } catch (error) {\n    return false;\n  }\n}\n\nexport const schnorr = /* @__PURE__ */ (() => ({\n  getPublicKey: schnorrGetPublicKey,\n  sign: schnorrSign,\n  verify: schnorrVerify,\n  utils: {\n    randomPrivateKey: secp256k1.utils.randomPrivateKey,\n    lift_x,\n    pointToBytes,\n    numberToBytesBE,\n    bytesToNumberBE,\n    taggedHash,\n    mod,\n  },\n}))();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fp,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fp, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fp.create(BigInt('-11')),\n  }))();\nconst htf = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.ProjectivePoint,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fp.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fp.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    }\n  ))();\nexport const hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\nexport const encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nconst isPlainObject = (obj: any) =>\n  Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts)))\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "export function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nexport function bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nexport function bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nexport function hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nexport function exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nexport function output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nconst assert = {\n  number,\n  bool,\n  bytes,\n  hash,\n  exists,\n  output,\n};\n\nexport default assert;\n", "import assert from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    assert.exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assert.exists(this);\n    assert.output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n", "import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = wrapConstructor(() => new SHA256());\nexport const sha224 = wrapConstructor(() => new SHA224());\n", "/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nexport function assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nfunction chain(...args) {\n    const wrap = (a, b) => (c) => a(b(c));\n    const encode = Array.from(args)\n        .reverse()\n        .reduce((acc, i) => (acc ? wrap(acc, i.encode) : i.encode), undefined);\n    const decode = args.reduce((acc, i) => (acc ? wrap(acc, i.decode) : i.decode), undefined);\n    return { encode, decode };\n}\nfunction alphabet(alphabet) {\n    return {\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n    };\n}\nfunction join(separator = '') {\n    if (typeof separator !== 'string')\n        throw new Error('join separator should be string');\n    return {\n        encode: (from) => {\n            if (!Array.isArray(from) || (from.length && typeof from[0] !== 'string'))\n                throw new Error('join.encode input should be array of strings');\n            for (let i of from)\n                if (typeof i !== 'string')\n                    throw new Error(`join.encode: non-string input=${i}`);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            if (typeof to !== 'string')\n                throw new Error('join.decode input should be string');\n            return to.split(separator);\n        },\n    };\n}\nfunction padding(bits, chr = '=') {\n    assertNumber(bits);\n    if (typeof chr !== 'string')\n        throw new Error('padding chr should be string');\n    return {\n        encode(data) {\n            if (!Array.isArray(data) || (data.length && typeof data[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of data)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.encode: non-string input=${i}`);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of input)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.decode: non-string input=${i}`);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('Invalid padding: string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                if (!(((end - 1) * bits) % 8))\n                    throw new Error('Invalid padding: string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\nfunction normalize(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('normalize fn should be function');\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\nfunction convertRadix(data, from, to) {\n    if (from < 2)\n        throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);\n    if (!Array.isArray(data))\n        throw new Error('convertRadix: data should be array');\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data);\n    digits.forEach((d) => {\n        assertNumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`Wrong integer: ${d}`);\n    });\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < digits.length; i++) {\n            const digit = digits[i];\n            const digitBase = from * carry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                (from * carry) / from !== carry ||\n                digitBase - digit !== from * carry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            carry = digitBase % to;\n            digits[i] = Math.floor(digitBase / to);\n            if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!digits[i])\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (!b ? a : gcd(b, a % b));\nconst radix2carry = (from, to) => from + (to - gcd(from, to));\nfunction convertRadix2(data, from, to, padding) {\n    if (!Array.isArray(data))\n        throw new Error('convertRadix2: data should be array');\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0;\n    const mask = 2 ** to - 1;\n    const res = [];\n    for (const n of data) {\n        assertNumber(n);\n        if (n >= 2 ** from)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        carry &= 2 ** pos - 1;\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\nfunction radix(num) {\n    assertNumber(num);\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), 2 ** 8, num);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix.decode input should be array of strings');\n            return Uint8Array.from(convertRadix(digits, num, 2 ** 8));\n        },\n    };\n}\nfunction radix2(bits, revPadding = false) {\n    assertNumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix2.decode input should be array of strings');\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('unsafeWrapper fn should be function');\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    assertNumber(len);\n    if (typeof fn !== 'function')\n        throw new Error('checksum fn should be function');\n    return {\n        encode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const checksum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(checksum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const newChecksum = fn(payload).slice(0, len);\n            const oldChecksum = data.slice(-len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\nexport const utils = { alphabet, chain, checksum, radix, radix2, join, padding };\nexport const base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport const base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport const base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport const base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\nexport const base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport const base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nconst genBase58 = (abc) => chain(radix(58), alphabet(abc), join(''));\nexport const base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport const base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport const base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport const base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\nexport const base58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), base58);\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % 2 ** 30], 30, 5, false));\n}\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        if (typeof prefix !== 'string')\n            throw new Error(`bech32.encode prefix should be string, not ${typeof prefix}`);\n        if (!Array.isArray(words) || (words.length && typeof words[0] !== 'number'))\n            throw new Error(`bech32.encode words should be array of numbers, not ${typeof words}`);\n        const actualLength = prefix.length + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        prefix = prefix.toLowerCase();\n        return `${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix, words, ENCODING_CONST)}`;\n    }\n    function decode(str, limit = 90) {\n        if (typeof str !== 'string')\n            throw new Error(`bech32.decode input should be string, not ${typeof str}`);\n        if (str.length < 8 || (limit !== false && str.length > limit))\n            throw new TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        str = lowered;\n        const sepIndex = str.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = str.slice(0, sepIndex);\n        const _words = str.slice(sepIndex + 1);\n        if (_words.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(_words).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!_words.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    return { encode, decode, decodeToBytes, decodeUnsafe, fromWords, fromWordsUnsafe, toWords };\n}\nexport const bech32 = genBech32('bech32');\nexport const bech32m = genBech32('bech32m');\nexport const utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\nexport const hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n    if (typeof s !== 'string' || s.length % 2)\n        throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n    return s.toLowerCase();\n}));\nconst CODERS = {\n    utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\nconst coderTypeError = `Invalid encoding type. Available types: ${Object.keys(CODERS).join(', ')}`;\nexport const bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!(bytes instanceof Uint8Array))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\nexport const str = bytesToString;\nexport const stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\nexport const bytes = stringToBytes;\n", "function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`positive integer expected, not ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`boolean expected, not ${b}`);\n}\n\nexport function isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\n\nexport type Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('hash must be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n", "/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */\nimport { bytes as abytes, isBytes } from './_assert.js';\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u16 = (arr: TypedArray) =>\n  new Uint16Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 2));\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// big-endian hardware is rare. Just in case someone still decides to run ciphers:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 } as const;\nfunction asciiToBase16(char: number): number | undefined {\n  if (char >= asciis._0 && char <= asciis._9) return char - asciis._0;\n  if (char >= asciis._A && char <= asciis._F) return char - (asciis._A - 10);\n  if (char >= asciis._a && char <= asciis._f) return char - (asciis._a - 10);\n  return;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2;\n  }\n  return array;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`string expected, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * @example bytesToUtf8(new Uint8Array([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  else if (isBytes(data)) data = data.slice();\n  else throw new Error(`Uint8Array expected, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts: T2\n): T1 & T2 {\n  if (opts == null || typeof opts !== 'object') throw new Error('options must be defined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array) {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n}\n\n// This will allow to re-use with composable things like packed & base encoders\n// Also, we probably can make tags composable\nexport type Cipher = {\n  encrypt(plaintext: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array): Uint8Array;\n};\n\nexport type AsyncCipher = {\n  encrypt(plaintext: Uint8Array): Promise<Uint8Array>;\n  decrypt(ciphertext: Uint8Array): Promise<Uint8Array>;\n};\n\nexport type CipherWithOutput = Cipher & {\n  encrypt(plaintext: Uint8Array, output?: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array, output?: Uint8Array): Uint8Array;\n};\n\n// Params is outside return type, so it is accessible before calling constructor\n// If function support multiple nonceLength's, we return best one\nexport type CipherParams = { blockSize: number; nonceLength?: number; tagLength?: number };\nexport type CipherCons<T extends any[]> = (key: Uint8Array, ...args: T) => Cipher;\n/**\n * @__NO_SIDE_EFFECTS__\n */\nexport const wrapCipher = <C extends CipherCons<any>, P extends CipherParams>(\n  params: P,\n  c: C\n): C & P => {\n  Object.assign(c, params);\n  return c as C & P;\n};\n\nexport type XorStream = (\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  output?: Uint8Array,\n  counter?: number\n) => Uint8Array;\n\n// Polyfill for Safari 14\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\nexport function u64Lengths(ciphertext: Uint8Array, AAD?: Uint8Array) {\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(ciphertext.length), true);\n  return num;\n}\n", "import { createView, toBytes, Input, Hash, u32 } from './utils.js';\nimport { bytes as abytes, exists as aexists, output as aoutput } from './_assert.js';\n\n// GHash from AES-GCM and its little-endian \"mirror image\" Polyval from AES-SIV.\n// Implemented in terms of GHash with conversion function for keys\n// GCM GHASH from NIST SP800-38d, SIV from RFC 8452.\n// https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf\n\n// GHASH   modulo: x^128 + x^7   + x^2   + x     + 1\n// POLYVAL modulo: x^128 + x^127 + x^126 + x^121 + 1\n\nconst BLOCK_SIZE = 16;\n// TODO: rewrite\n// temporary padding buffer\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\nconst ZEROS32 = u32(ZEROS16);\nconst POLY = 0xe1; // v = 2*v % POLY\n\n// v = 2*v % POLY\n// NOTE: because x + x = 0 (add/sub is same), mul2(x) != x+x\n// We can multiply any number using montgomery ladder and this function (works as double, add is simple xor)\nconst mul2 = (s0: number, s1: number, s2: number, s3: number) => {\n  const hiBit = s3 & 1;\n  return {\n    s3: (s2 << 31) | (s3 >>> 1),\n    s2: (s1 << 31) | (s2 >>> 1),\n    s1: (s0 << 31) | (s1 >>> 1),\n    s0: (s0 >>> 1) ^ ((POLY << 24) & -(hiBit & 1)), // reduce % poly\n  };\n};\n\nconst swapLE = (n: number) =>\n  (((n >>> 0) & 0xff) << 24) |\n  (((n >>> 8) & 0xff) << 16) |\n  (((n >>> 16) & 0xff) << 8) |\n  ((n >>> 24) & 0xff) |\n  0;\n\n/**\n * `mulX_POLYVAL(ByteReverse(H))` from spec\n * @param k mutated in place\n */\nexport function _toGHASHKey(k: Uint8Array): Uint8Array {\n  k.reverse();\n  const hiBit = k[15] & 1;\n  // k >>= 1\n  let carry = 0;\n  for (let i = 0; i < k.length; i++) {\n    const t = k[i];\n    k[i] = (t >>> 1) | carry;\n    carry = (t & 1) << 7;\n  }\n  k[0] ^= -hiBit & 0xe1; // if (hiBit) n ^= 0xe1000000000000000000000000000000;\n  return k;\n}\n\ntype Value = { s0: number; s1: number; s2: number; s3: number };\n\nconst estimateWindow = (bytes: number) => {\n  if (bytes > 64 * 1024) return 8;\n  if (bytes > 1024) return 4;\n  return 2;\n};\n\nclass GHASH implements Hash<GHASH> {\n  readonly blockLen = BLOCK_SIZE;\n  readonly outputLen = BLOCK_SIZE;\n  protected s0 = 0;\n  protected s1 = 0;\n  protected s2 = 0;\n  protected s3 = 0;\n  protected finished = false;\n  protected t: Value[];\n  private W: number;\n  private windowSize: number;\n  // We select bits per window adaptively based on expectedLength\n  constructor(key: Input, expectedLength?: number) {\n    key = toBytes(key);\n    abytes(key, 16);\n    const kView = createView(key);\n    let k0 = kView.getUint32(0, false);\n    let k1 = kView.getUint32(4, false);\n    let k2 = kView.getUint32(8, false);\n    let k3 = kView.getUint32(12, false);\n    // generate table of doubled keys (half of montgomery ladder)\n    const doubles: Value[] = [];\n    for (let i = 0; i < 128; i++) {\n      doubles.push({ s0: swapLE(k0), s1: swapLE(k1), s2: swapLE(k2), s3: swapLE(k3) });\n      ({ s0: k0, s1: k1, s2: k2, s3: k3 } = mul2(k0, k1, k2, k3));\n    }\n    const W = estimateWindow(expectedLength || 1024);\n    if (![1, 2, 4, 8].includes(W))\n      throw new Error(`ghash: wrong window size=${W}, should be 2, 4 or 8`);\n    this.W = W;\n    const bits = 128; // always 128 bits;\n    const windows = bits / W;\n    const windowSize = (this.windowSize = 2 ** W);\n    const items: Value[] = [];\n    // Create precompute table for window of W bits\n    for (let w = 0; w < windows; w++) {\n      // truth table: 00, 01, 10, 11\n      for (let byte = 0; byte < windowSize; byte++) {\n        // prettier-ignore\n        let s0 = 0, s1 = 0, s2 = 0, s3 = 0;\n        for (let j = 0; j < W; j++) {\n          const bit = (byte >>> (W - j - 1)) & 1;\n          if (!bit) continue;\n          const { s0: d0, s1: d1, s2: d2, s3: d3 } = doubles[W * w + j];\n          (s0 ^= d0), (s1 ^= d1), (s2 ^= d2), (s3 ^= d3);\n        }\n        items.push({ s0, s1, s2, s3 });\n      }\n    }\n    this.t = items;\n  }\n  protected _updateBlock(s0: number, s1: number, s2: number, s3: number) {\n    (s0 ^= this.s0), (s1 ^= this.s1), (s2 ^= this.s2), (s3 ^= this.s3);\n    const { W, t, windowSize } = this;\n    // prettier-ignore\n    let o0 = 0, o1 = 0, o2 = 0, o3 = 0;\n    const mask = (1 << W) - 1; // 2**W will kill performance.\n    let w = 0;\n    for (const num of [s0, s1, s2, s3]) {\n      for (let bytePos = 0; bytePos < 4; bytePos++) {\n        const byte = (num >>> (8 * bytePos)) & 0xff;\n        for (let bitPos = 8 / W - 1; bitPos >= 0; bitPos--) {\n          const bit = (byte >>> (W * bitPos)) & mask;\n          const { s0: e0, s1: e1, s2: e2, s3: e3 } = t[w * windowSize + bit];\n          (o0 ^= e0), (o1 ^= e1), (o2 ^= e2), (o3 ^= e3);\n          w += 1;\n        }\n      }\n    }\n    this.s0 = o0;\n    this.s1 = o1;\n    this.s2 = o2;\n    this.s3 = o3;\n  }\n  update(data: Input): this {\n    data = toBytes(data);\n    aexists(this);\n    const b32 = u32(data);\n    const blocks = Math.floor(data.length / BLOCK_SIZE);\n    const left = data.length % BLOCK_SIZE;\n    for (let i = 0; i < blocks; i++) {\n      this._updateBlock(b32[i * 4 + 0], b32[i * 4 + 1], b32[i * 4 + 2], b32[i * 4 + 3]);\n    }\n    if (left) {\n      ZEROS16.set(data.subarray(blocks * BLOCK_SIZE));\n      this._updateBlock(ZEROS32[0], ZEROS32[1], ZEROS32[2], ZEROS32[3]);\n      ZEROS32.fill(0); // clean tmp buffer\n    }\n    return this;\n  }\n  destroy() {\n    const { t } = this;\n    // clean precompute table\n    for (const elm of t) {\n      (elm.s0 = 0), (elm.s1 = 0), (elm.s2 = 0), (elm.s3 = 0);\n    }\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { s0, s1, s2, s3 } = this;\n    const o32 = u32(out);\n    o32[0] = s0;\n    o32[1] = s1;\n    o32[2] = s2;\n    o32[3] = s3;\n    return out;\n  }\n  digest(): Uint8Array {\n    const res = new Uint8Array(BLOCK_SIZE);\n    this.digestInto(res);\n    this.destroy();\n    return res;\n  }\n}\n\nclass Polyval extends GHASH {\n  constructor(key: Input, expectedLength?: number) {\n    key = toBytes(key);\n    const ghKey = _toGHASHKey(key.slice());\n    super(ghKey, expectedLength);\n    ghKey.fill(0);\n  }\n  update(data: Input): this {\n    data = toBytes(data);\n    aexists(this);\n    const b32 = u32(data);\n    const left = data.length % BLOCK_SIZE;\n    const blocks = Math.floor(data.length / BLOCK_SIZE);\n    for (let i = 0; i < blocks; i++) {\n      this._updateBlock(\n        swapLE(b32[i * 4 + 3]),\n        swapLE(b32[i * 4 + 2]),\n        swapLE(b32[i * 4 + 1]),\n        swapLE(b32[i * 4 + 0])\n      );\n    }\n    if (left) {\n      ZEROS16.set(data.subarray(blocks * BLOCK_SIZE));\n      this._updateBlock(\n        swapLE(ZEROS32[3]),\n        swapLE(ZEROS32[2]),\n        swapLE(ZEROS32[1]),\n        swapLE(ZEROS32[0])\n      );\n      ZEROS32.fill(0); // clean tmp buffer\n    }\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    // tmp ugly hack\n    const { s0, s1, s2, s3 } = this;\n    const o32 = u32(out);\n    o32[0] = s0;\n    o32[1] = s1;\n    o32[2] = s2;\n    o32[3] = s3;\n    return out.reverse();\n  }\n}\n\nexport type CHash = ReturnType<typeof wrapConstructorWithKey>;\nfunction wrapConstructorWithKey<H extends Hash<H>>(\n  hashCons: (key: Input, expectedLength?: number) => Hash<H>\n) {\n  const hashC = (msg: Input, key: Input): Uint8Array =>\n    hashCons(key, msg.length).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(16), 0);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input, expectedLength?: number) => hashCons(key, expectedLength);\n  return hashC;\n}\n\nexport const ghash = wrapConstructorWithKey(\n  (key, expectedLength) => new GHASH(key, expectedLength)\n);\nexport const polyval = wrapConstructorWithKey(\n  (key, expectedLength) => new Polyval(key, expectedLength)\n);\n", "// prettier-ignore\nimport {\n  wrapCipher, Cipher, CipherWithOutput,\n  createView, setBigUint64, equalBytes, u32, u8,\n} from './utils.js';\nimport { ghash, polyval } from './_polyval.js';\nimport { bytes as abytes } from './_assert.js';\n\n/*\nAES (Advanced Encryption Standard) aka Rijndael block cipher.\n\nData is split into 128-bit blocks. Encrypted in 10/12/14 rounds (128/192/256 bits). In every round:\n1. **S-box**, table substitution\n2. **Shift rows**, cyclic shift left of all rows of data array\n3. **Mix columns**, multiplying every column by fixed polynomial\n4. **Add round key**, round_key xor i-th column of array\n\nResources:\n- FIPS-197 https://csrc.nist.gov/files/pubs/fips/197/final/docs/fips-197.pdf\n- Original proposal: https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf\n*/\n\nconst BLOCK_SIZE = 16;\nconst BLOCK_SIZE32 = 4;\nconst EMPTY_BLOCK = new Uint8Array(BLOCK_SIZE);\nconst POLY = 0x11b; // 1 + x + x**3 + x**4 + x**8\n\n// TODO: remove multiplication, binary ops only\nfunction mul2(n: number) {\n  return (n << 1) ^ (POLY & -(n >> 7));\n}\n\nfunction mul(a: number, b: number) {\n  let res = 0;\n  for (; b > 0; b >>= 1) {\n    // Montgomery ladder\n    res ^= a & -(b & 1); // if (b&1) res ^=a (but const-time).\n    a = mul2(a); // a = 2*a\n  }\n  return res;\n}\n\n// AES S-box is generated using finite field inversion,\n// an affine transform, and xor of a constant 0x63.\nconst sbox = /* @__PURE__ */ (() => {\n  let t = new Uint8Array(256);\n  for (let i = 0, x = 1; i < 256; i++, x ^= mul2(x)) t[i] = x;\n  const box = new Uint8Array(256);\n  box[0] = 0x63; // first elm\n  for (let i = 0; i < 255; i++) {\n    let x = t[255 - i];\n    x |= x << 8;\n    box[t[i]] = (x ^ (x >> 4) ^ (x >> 5) ^ (x >> 6) ^ (x >> 7) ^ 0x63) & 0xff;\n  }\n  return box;\n})();\n\n// Inverted S-box\nconst invSbox = /* @__PURE__ */ sbox.map((_, j) => sbox.indexOf(j));\n\n// Rotate u32 by 8\nconst rotr32_8 = (n: number) => (n << 24) | (n >>> 8);\nconst rotl32_8 = (n: number) => (n << 8) | (n >>> 24);\n\n// T-table is optimization suggested in 5.2 of original proposal (missed from FIPS-197). Changes:\n// - LE instead of BE\n// - bigger tables: T0 and T1 are merged into T01 table and T2 & T3 into T23;\n//   so index is u16, instead of u8. This speeds up things, unexpectedly\nfunction genTtable(sbox: Uint8Array, fn: (n: number) => number) {\n  if (sbox.length !== 256) throw new Error('Wrong sbox length');\n  const T0 = new Uint32Array(256).map((_, j) => fn(sbox[j]));\n  const T1 = T0.map(rotl32_8);\n  const T2 = T1.map(rotl32_8);\n  const T3 = T2.map(rotl32_8);\n  const T01 = new Uint32Array(256 * 256);\n  const T23 = new Uint32Array(256 * 256);\n  const sbox2 = new Uint16Array(256 * 256);\n  for (let i = 0; i < 256; i++) {\n    for (let j = 0; j < 256; j++) {\n      const idx = i * 256 + j;\n      T01[idx] = T0[i] ^ T1[j];\n      T23[idx] = T2[i] ^ T3[j];\n      sbox2[idx] = (sbox[i] << 8) | sbox[j];\n    }\n  }\n  return { sbox, sbox2, T0, T1, T2, T3, T01, T23 };\n}\n\nconst tableEncoding = /* @__PURE__ */ genTtable(\n  sbox,\n  (s: number) => (mul(s, 3) << 24) | (s << 16) | (s << 8) | mul(s, 2)\n);\nconst tableDecoding = /* @__PURE__ */ genTtable(\n  invSbox,\n  (s) => (mul(s, 11) << 24) | (mul(s, 13) << 16) | (mul(s, 9) << 8) | mul(s, 14)\n);\n\nconst xPowers = /* @__PURE__ */ (() => {\n  const p = new Uint8Array(16);\n  for (let i = 0, x = 1; i < 16; i++, x = mul2(x)) p[i] = x;\n  return p;\n})();\n\nexport function expandKeyLE(key: Uint8Array): Uint32Array {\n  abytes(key);\n  const len = key.length;\n  if (![16, 24, 32].includes(len))\n    throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${len}`);\n  const { sbox2 } = tableEncoding;\n  const k32 = u32(key);\n  const Nk = k32.length;\n  const subByte = (n: number) => applySbox(sbox2, n, n, n, n);\n  const xk = new Uint32Array(len + 28); // expanded key\n  xk.set(k32);\n  // 4.3.1 Key expansion\n  for (let i = Nk; i < xk.length; i++) {\n    let t = xk[i - 1];\n    if (i % Nk === 0) t = subByte(rotr32_8(t)) ^ xPowers[i / Nk - 1];\n    else if (Nk > 6 && i % Nk === 4) t = subByte(t);\n    xk[i] = xk[i - Nk] ^ t;\n  }\n  return xk;\n}\n\nexport function expandKeyDecLE(key: Uint8Array): Uint32Array {\n  const encKey = expandKeyLE(key);\n  const xk = encKey.slice();\n  const Nk = encKey.length;\n  const { sbox2 } = tableEncoding;\n  const { T0, T1, T2, T3 } = tableDecoding;\n  // Inverse key by chunks of 4 (rounds)\n  for (let i = 0; i < Nk; i += 4) {\n    for (let j = 0; j < 4; j++) xk[i + j] = encKey[Nk - i - 4 + j];\n  }\n  encKey.fill(0);\n  // apply InvMixColumn except first & last round\n  for (let i = 4; i < Nk - 4; i++) {\n    const x = xk[i];\n    const w = applySbox(sbox2, x, x, x, x);\n    xk[i] = T0[w & 0xff] ^ T1[(w >>> 8) & 0xff] ^ T2[(w >>> 16) & 0xff] ^ T3[w >>> 24];\n  }\n  return xk;\n}\n\n// Apply tables\nfunction apply0123(\n  T01: Uint32Array,\n  T23: Uint32Array,\n  s0: number,\n  s1: number,\n  s2: number,\n  s3: number\n) {\n  return (\n    T01[((s0 << 8) & 0xff00) | ((s1 >>> 8) & 0xff)] ^\n    T23[((s2 >>> 8) & 0xff00) | ((s3 >>> 24) & 0xff)]\n  );\n}\n\nfunction applySbox(sbox2: Uint16Array, s0: number, s1: number, s2: number, s3: number) {\n  return (\n    sbox2[(s0 & 0xff) | (s1 & 0xff00)] |\n    (sbox2[((s2 >>> 16) & 0xff) | ((s3 >>> 16) & 0xff00)] << 16)\n  );\n}\n\nfunction encrypt(xk: Uint32Array, s0: number, s1: number, s2: number, s3: number) {\n  const { sbox2, T01, T23 } = tableEncoding;\n  let k = 0;\n  (s0 ^= xk[k++]), (s1 ^= xk[k++]), (s2 ^= xk[k++]), (s3 ^= xk[k++]);\n  const rounds = xk.length / 4 - 2;\n  for (let i = 0; i < rounds; i++) {\n    const t0 = xk[k++] ^ apply0123(T01, T23, s0, s1, s2, s3);\n    const t1 = xk[k++] ^ apply0123(T01, T23, s1, s2, s3, s0);\n    const t2 = xk[k++] ^ apply0123(T01, T23, s2, s3, s0, s1);\n    const t3 = xk[k++] ^ apply0123(T01, T23, s3, s0, s1, s2);\n    (s0 = t0), (s1 = t1), (s2 = t2), (s3 = t3);\n  }\n  // last round (without mixcolumns, so using SBOX2 table)\n  const t0 = xk[k++] ^ applySbox(sbox2, s0, s1, s2, s3);\n  const t1 = xk[k++] ^ applySbox(sbox2, s1, s2, s3, s0);\n  const t2 = xk[k++] ^ applySbox(sbox2, s2, s3, s0, s1);\n  const t3 = xk[k++] ^ applySbox(sbox2, s3, s0, s1, s2);\n  return { s0: t0, s1: t1, s2: t2, s3: t3 };\n}\n\nfunction decrypt(xk: Uint32Array, s0: number, s1: number, s2: number, s3: number) {\n  const { sbox2, T01, T23 } = tableDecoding;\n  let k = 0;\n  (s0 ^= xk[k++]), (s1 ^= xk[k++]), (s2 ^= xk[k++]), (s3 ^= xk[k++]);\n  const rounds = xk.length / 4 - 2;\n  for (let i = 0; i < rounds; i++) {\n    const t0 = xk[k++] ^ apply0123(T01, T23, s0, s3, s2, s1);\n    const t1 = xk[k++] ^ apply0123(T01, T23, s1, s0, s3, s2);\n    const t2 = xk[k++] ^ apply0123(T01, T23, s2, s1, s0, s3);\n    const t3 = xk[k++] ^ apply0123(T01, T23, s3, s2, s1, s0);\n    (s0 = t0), (s1 = t1), (s2 = t2), (s3 = t3);\n  }\n  // Last round\n  const t0 = xk[k++] ^ applySbox(sbox2, s0, s3, s2, s1);\n  const t1 = xk[k++] ^ applySbox(sbox2, s1, s0, s3, s2);\n  const t2 = xk[k++] ^ applySbox(sbox2, s2, s1, s0, s3);\n  const t3 = xk[k++] ^ applySbox(sbox2, s3, s2, s1, s0);\n  return { s0: t0, s1: t1, s2: t2, s3: t3 };\n}\n\nfunction getDst(len: number, dst?: Uint8Array) {\n  if (!dst) return new Uint8Array(len);\n  abytes(dst);\n  if (dst.length < len)\n    throw new Error(`aes: wrong destination length, expected at least ${len}, got: ${dst.length}`);\n  return dst;\n}\n\n// TODO: investigate merging with ctr32\nfunction ctrCounter(xk: Uint32Array, nonce: Uint8Array, src: Uint8Array, dst?: Uint8Array) {\n  abytes(nonce, BLOCK_SIZE);\n  abytes(src);\n  const srcLen = src.length;\n  dst = getDst(srcLen, dst);\n  const ctr = nonce;\n  const c32 = u32(ctr);\n  // Fill block (empty, ctr=0)\n  let { s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]);\n  const src32 = u32(src);\n  const dst32 = u32(dst);\n  // process blocks\n  for (let i = 0; i + 4 <= src32.length; i += 4) {\n    dst32[i + 0] = src32[i + 0] ^ s0;\n    dst32[i + 1] = src32[i + 1] ^ s1;\n    dst32[i + 2] = src32[i + 2] ^ s2;\n    dst32[i + 3] = src32[i + 3] ^ s3;\n    // Full 128 bit counter with wrap around\n    let carry = 1;\n    for (let i = ctr.length - 1; i >= 0; i--) {\n      carry = (carry + (ctr[i] & 0xff)) | 0;\n      ctr[i] = carry & 0xff;\n      carry >>>= 8;\n    }\n    ({ s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]));\n  }\n  // leftovers (less than block)\n  // It's possible to handle > u32 fast, but is it worth it?\n  const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n  if (start < srcLen) {\n    const b32 = new Uint32Array([s0, s1, s2, s3]);\n    const buf = u8(b32);\n    for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n  }\n  return dst;\n}\n\n// AES CTR with overflowing 32 bit counter\n// It's possible to do 32le significantly simpler (and probably faster) by using u32.\n// But, we need both, and perf bottleneck is in ghash anyway.\nfunction ctr32(\n  xk: Uint32Array,\n  isLE: boolean,\n  nonce: Uint8Array,\n  src: Uint8Array,\n  dst?: Uint8Array\n) {\n  abytes(nonce, BLOCK_SIZE);\n  abytes(src);\n  dst = getDst(src.length, dst);\n  const ctr = nonce; // write new value to nonce, so it can be re-used\n  const c32 = u32(ctr);\n  const view = createView(ctr);\n  const src32 = u32(src);\n  const dst32 = u32(dst);\n  const ctrPos = isLE ? 0 : 12;\n  const srcLen = src.length;\n  // Fill block (empty, ctr=0)\n  let ctrNum = view.getUint32(ctrPos, isLE); // read current counter value\n  let { s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]);\n  // process blocks\n  for (let i = 0; i + 4 <= src32.length; i += 4) {\n    dst32[i + 0] = src32[i + 0] ^ s0;\n    dst32[i + 1] = src32[i + 1] ^ s1;\n    dst32[i + 2] = src32[i + 2] ^ s2;\n    dst32[i + 3] = src32[i + 3] ^ s3;\n    ctrNum = (ctrNum + 1) >>> 0; // u32 wrap\n    view.setUint32(ctrPos, ctrNum, isLE);\n    ({ s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]));\n  }\n  // leftovers (less than a block)\n  const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n  if (start < srcLen) {\n    const b32 = new Uint32Array([s0, s1, s2, s3]);\n    const buf = u8(b32);\n    for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n  }\n  return dst;\n}\n\n/**\n * CTR: counter mode. Creates stream cipher.\n * Requires good IV. Parallelizable. OK, but no MAC.\n */\nexport const ctr = wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function ctr(key: Uint8Array, nonce: Uint8Array): CipherWithOutput {\n    abytes(key);\n    abytes(nonce, BLOCK_SIZE);\n    function processCtr(buf: Uint8Array, dst?: Uint8Array) {\n      const xk = expandKeyLE(key);\n      const n = nonce.slice();\n      const out = ctrCounter(xk, n, buf, dst);\n      xk.fill(0);\n      n.fill(0);\n      return out;\n    }\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => processCtr(plaintext, dst),\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => processCtr(ciphertext, dst),\n    };\n  }\n);\n\nfunction validateBlockDecrypt(data: Uint8Array) {\n  abytes(data);\n  if (data.length % BLOCK_SIZE !== 0) {\n    throw new Error(\n      `aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${BLOCK_SIZE}`\n    );\n  }\n}\n\nfunction validateBlockEncrypt(plaintext: Uint8Array, pcks5: boolean, dst?: Uint8Array) {\n  let outLen = plaintext.length;\n  const remaining = outLen % BLOCK_SIZE;\n  if (!pcks5 && remaining !== 0)\n    throw new Error('aec/(cbc-ecb): unpadded plaintext with disabled padding');\n  const b = u32(plaintext);\n  if (pcks5) {\n    let left = BLOCK_SIZE - remaining;\n    if (!left) left = BLOCK_SIZE; // if no bytes left, create empty padding block\n    outLen = outLen + left;\n  }\n  const out = getDst(outLen, dst);\n  const o = u32(out);\n  return { b, o, out };\n}\n\nfunction validatePCKS(data: Uint8Array, pcks5: boolean) {\n  if (!pcks5) return data;\n  const len = data.length;\n  if (!len) throw new Error(`aes/pcks5: empty ciphertext not allowed`);\n  const lastByte = data[len - 1];\n  if (lastByte <= 0 || lastByte > 16) throw new Error(`aes/pcks5: wrong padding byte: ${lastByte}`);\n  const out = data.subarray(0, -lastByte);\n  for (let i = 0; i < lastByte; i++)\n    if (data[len - i - 1] !== lastByte) throw new Error(`aes/pcks5: wrong padding`);\n  return out;\n}\n\nfunction padPCKS(left: Uint8Array) {\n  const tmp = new Uint8Array(16);\n  const tmp32 = u32(tmp);\n  tmp.set(left);\n  const paddingByte = BLOCK_SIZE - left.length;\n  for (let i = BLOCK_SIZE - paddingByte; i < BLOCK_SIZE; i++) tmp[i] = paddingByte;\n  return tmp32;\n}\n\nexport type BlockOpts = { disablePadding?: boolean };\n\n/**\n * ECB: Electronic CodeBook. Simple deterministic replacement.\n * Dangerous: always map x to y. See [AES Penguin](https://words.filippo.io/the-ecb-penguin/).\n */\nexport const ecb = wrapCipher(\n  { blockSize: 16 },\n  function ecb(key: Uint8Array, opts: BlockOpts = {}): CipherWithOutput {\n    abytes(key);\n    const pcks5 = !opts.disablePadding;\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => {\n        abytes(plaintext);\n        const { b, o, out: _out } = validateBlockEncrypt(plaintext, pcks5, dst);\n        const xk = expandKeyLE(key);\n        let i = 0;\n        for (; i + 4 <= b.length; ) {\n          const { s0, s1, s2, s3 } = encrypt(xk, b[i + 0], b[i + 1], b[i + 2], b[i + 3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        if (pcks5) {\n          const tmp32 = padPCKS(plaintext.subarray(i * 4));\n          const { s0, s1, s2, s3 } = encrypt(xk, tmp32[0], tmp32[1], tmp32[2], tmp32[3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        xk.fill(0);\n        return _out;\n      },\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => {\n        validateBlockDecrypt(ciphertext);\n        const xk = expandKeyDecLE(key);\n        const out = getDst(ciphertext.length, dst);\n        const b = u32(ciphertext);\n        const o = u32(out);\n        for (let i = 0; i + 4 <= b.length; ) {\n          const { s0, s1, s2, s3 } = decrypt(xk, b[i + 0], b[i + 1], b[i + 2], b[i + 3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        xk.fill(0);\n        return validatePCKS(out, pcks5);\n      },\n    };\n  }\n);\n\n/**\n * CBC: Cipher-Block-Chaining. Key is previous round\u2019s block.\n * Fragile: needs proper padding. Unauthenticated: needs MAC.\n */\nexport const cbc = wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function cbc(key: Uint8Array, iv: Uint8Array, opts: BlockOpts = {}): CipherWithOutput {\n    abytes(key);\n    abytes(iv, 16);\n    const pcks5 = !opts.disablePadding;\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => {\n        const xk = expandKeyLE(key);\n        const { b, o, out: _out } = validateBlockEncrypt(plaintext, pcks5, dst);\n        const n32 = u32(iv);\n        // prettier-ignore\n        let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n        let i = 0;\n        for (; i + 4 <= b.length; ) {\n          (s0 ^= b[i + 0]), (s1 ^= b[i + 1]), (s2 ^= b[i + 2]), (s3 ^= b[i + 3]);\n          ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        if (pcks5) {\n          const tmp32 = padPCKS(plaintext.subarray(i * 4));\n          (s0 ^= tmp32[0]), (s1 ^= tmp32[1]), (s2 ^= tmp32[2]), (s3 ^= tmp32[3]);\n          ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        xk.fill(0);\n        return _out;\n      },\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => {\n        validateBlockDecrypt(ciphertext);\n        const xk = expandKeyDecLE(key);\n        const n32 = u32(iv);\n        const out = getDst(ciphertext.length, dst);\n        const b = u32(ciphertext);\n        const o = u32(out);\n        // prettier-ignore\n        let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n        for (let i = 0; i + 4 <= b.length; ) {\n          // prettier-ignore\n          const ps0 = s0, ps1 = s1, ps2 = s2, ps3 = s3;\n          (s0 = b[i + 0]), (s1 = b[i + 1]), (s2 = b[i + 2]), (s3 = b[i + 3]);\n          const { s0: o0, s1: o1, s2: o2, s3: o3 } = decrypt(xk, s0, s1, s2, s3);\n          (o[i++] = o0 ^ ps0), (o[i++] = o1 ^ ps1), (o[i++] = o2 ^ ps2), (o[i++] = o3 ^ ps3);\n        }\n        xk.fill(0);\n        return validatePCKS(out, pcks5);\n      },\n    };\n  }\n);\n\n/**\n * CFB: Cipher Feedback Mode. The input for the block cipher is the previous cipher output.\n * Unauthenticated: needs MAC.\n */\nexport const cfb = wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function cfb(key: Uint8Array, iv: Uint8Array): CipherWithOutput {\n    abytes(key);\n    abytes(iv, 16);\n    function processCfb(src: Uint8Array, isEncrypt: boolean, dst?: Uint8Array) {\n      const xk = expandKeyLE(key);\n      const srcLen = src.length;\n      dst = getDst(srcLen, dst);\n      const src32 = u32(src);\n      const dst32 = u32(dst);\n      const next32 = isEncrypt ? dst32 : src32;\n      const n32 = u32(iv);\n      // prettier-ignore\n      let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n      for (let i = 0; i + 4 <= src32.length; ) {\n        const { s0: e0, s1: e1, s2: e2, s3: e3 } = encrypt(xk, s0, s1, s2, s3);\n        dst32[i + 0] = src32[i + 0] ^ e0;\n        dst32[i + 1] = src32[i + 1] ^ e1;\n        dst32[i + 2] = src32[i + 2] ^ e2;\n        dst32[i + 3] = src32[i + 3] ^ e3;\n        (s0 = next32[i++]), (s1 = next32[i++]), (s2 = next32[i++]), (s3 = next32[i++]);\n      }\n      // leftovers (less than block)\n      const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n      if (start < srcLen) {\n        ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n        const buf = u8(new Uint32Array([s0, s1, s2, s3]));\n        for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n        buf.fill(0);\n      }\n      xk.fill(0);\n      return dst;\n    }\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => processCfb(plaintext, true, dst),\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => processCfb(ciphertext, false, dst),\n    };\n  }\n);\n\n// TODO: merge with chacha, however gcm has bitLen while chacha has byteLen\nfunction computeTag(\n  fn: typeof ghash,\n  isLE: boolean,\n  key: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n) {\n  const h = fn.create(key, data.length + (AAD?.length || 0));\n  if (AAD) h.update(AAD);\n  h.update(data);\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  if (AAD) setBigUint64(view, 0, BigInt(AAD.length * 8), isLE);\n  setBigUint64(view, 8, BigInt(data.length * 8), isLE);\n  h.update(num);\n  return h.digest();\n}\n\n/**\n * GCM: Galois/Counter Mode.\n * Good, modern version of CTR, parallel, with MAC.\n * Be careful: MACs can be forged.\n */\nexport const gcm = wrapCipher(\n  { blockSize: 16, nonceLength: 12, tagLength: 16 },\n  function gcm(key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): Cipher {\n    abytes(nonce);\n    // Nonce can be pretty much anything (even 1 byte). But smaller nonces less secure.\n    if (nonce.length === 0) throw new Error('aes/gcm: empty nonce');\n    const tagLength = 16;\n    function _computeTag(authKey: Uint8Array, tagMask: Uint8Array, data: Uint8Array) {\n      const tag = computeTag(ghash, false, authKey, data, AAD);\n      for (let i = 0; i < tagMask.length; i++) tag[i] ^= tagMask[i];\n      return tag;\n    }\n    function deriveKeys() {\n      const xk = expandKeyLE(key);\n      const authKey = EMPTY_BLOCK.slice();\n      const counter = EMPTY_BLOCK.slice();\n      ctr32(xk, false, counter, counter, authKey);\n      if (nonce.length === 12) {\n        counter.set(nonce);\n      } else {\n        // Spec (NIST 800-38d) supports variable size nonce.\n        // Not supported for now, but can be useful.\n        const nonceLen = EMPTY_BLOCK.slice();\n        const view = createView(nonceLen);\n        setBigUint64(view, 8, BigInt(nonce.length * 8), false);\n        // ghash(nonce || u64be(0) || u64be(nonceLen*8))\n        ghash.create(authKey).update(nonce).update(nonceLen).digestInto(counter);\n      }\n      const tagMask = ctr32(xk, false, counter, EMPTY_BLOCK);\n      return { xk, authKey, counter, tagMask };\n    }\n    return {\n      encrypt: (plaintext: Uint8Array) => {\n        abytes(plaintext);\n        const { xk, authKey, counter, tagMask } = deriveKeys();\n        const out = new Uint8Array(plaintext.length + tagLength);\n        ctr32(xk, false, counter, plaintext, out);\n        const tag = _computeTag(authKey, tagMask, out.subarray(0, out.length - tagLength));\n        out.set(tag, plaintext.length);\n        xk.fill(0);\n        return out;\n      },\n      decrypt: (ciphertext: Uint8Array) => {\n        abytes(ciphertext);\n        if (ciphertext.length < tagLength)\n          throw new Error(`aes/gcm: ciphertext less than tagLen (${tagLength})`);\n        const { xk, authKey, counter, tagMask } = deriveKeys();\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = _computeTag(authKey, tagMask, data);\n        if (!equalBytes(tag, passedTag)) throw new Error('aes/gcm: invalid ghash tag');\n        const out = ctr32(xk, false, counter, data);\n        authKey.fill(0);\n        tagMask.fill(0);\n        xk.fill(0);\n        return out;\n      },\n    };\n  }\n);\n\nconst limit = (name: string, min: number, max: number) => (value: number) => {\n  if (!Number.isSafeInteger(value) || min > value || value > max)\n    throw new Error(`${name}: invalid value=${value}, must be [${min}..${max}]`);\n};\n\n/**\n * AES-GCM-SIV: classic AES-GCM with nonce-misuse resistance.\n * Guarantees that, when a nonce is repeated, the only security loss is that identical\n * plaintexts will produce identical ciphertexts.\n * RFC 8452, https://datatracker.ietf.org/doc/html/rfc8452\n */\nexport const siv = wrapCipher(\n  { blockSize: 16, nonceLength: 12, tagLength: 16 },\n  function siv(key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): Cipher {\n    const tagLength = 16;\n    // From RFC 8452: Section 6\n    const AAD_LIMIT = limit('AAD', 0, 2 ** 36);\n    const PLAIN_LIMIT = limit('plaintext', 0, 2 ** 36);\n    const NONCE_LIMIT = limit('nonce', 12, 12);\n    const CIPHER_LIMIT = limit('ciphertext', 16, 2 ** 36 + 16);\n    abytes(nonce);\n    NONCE_LIMIT(nonce.length);\n    if (AAD) {\n      abytes(AAD);\n      AAD_LIMIT(AAD.length);\n    }\n    function deriveKeys() {\n      const len = key.length;\n      if (len !== 16 && len !== 24 && len !== 32)\n        throw new Error(`key length must be 16, 24 or 32 bytes, got: ${len} bytes`);\n      const xk = expandKeyLE(key);\n      const encKey = new Uint8Array(len);\n      const authKey = new Uint8Array(16);\n      const n32 = u32(nonce);\n      // prettier-ignore\n      let s0 = 0, s1 = n32[0], s2 = n32[1], s3 = n32[2];\n      let counter = 0;\n      for (const derivedKey of [authKey, encKey].map(u32)) {\n        const d32 = u32(derivedKey);\n        for (let i = 0; i < d32.length; i += 2) {\n          // aes(u32le(0) || nonce)[:8] || aes(u32le(1) || nonce)[:8] ...\n          const { s0: o0, s1: o1 } = encrypt(xk, s0, s1, s2, s3);\n          d32[i + 0] = o0;\n          d32[i + 1] = o1;\n          s0 = ++counter; // increment counter inside state\n        }\n      }\n      xk.fill(0);\n      return { authKey, encKey: expandKeyLE(encKey) };\n    }\n    function _computeTag(encKey: Uint32Array, authKey: Uint8Array, data: Uint8Array) {\n      const tag = computeTag(polyval, true, authKey, data, AAD);\n      // Compute the expected tag by XORing S_s and the nonce, clearing the\n      // most significant bit of the last byte and encrypting with the\n      // message-encryption key.\n      for (let i = 0; i < 12; i++) tag[i] ^= nonce[i];\n      tag[15] &= 0x7f; // Clear the highest bit\n      // encrypt tag as block\n      const t32 = u32(tag);\n      // prettier-ignore\n      let s0 = t32[0], s1 = t32[1], s2 = t32[2], s3 = t32[3];\n      ({ s0, s1, s2, s3 } = encrypt(encKey, s0, s1, s2, s3));\n      (t32[0] = s0), (t32[1] = s1), (t32[2] = s2), (t32[3] = s3);\n      return tag;\n    }\n    // actual decrypt/encrypt of message.\n    function processSiv(encKey: Uint32Array, tag: Uint8Array, input: Uint8Array) {\n      let block = tag.slice();\n      block[15] |= 0x80; // Force highest bit\n      return ctr32(encKey, true, block, input);\n    }\n    return {\n      encrypt: (plaintext: Uint8Array) => {\n        abytes(plaintext);\n        PLAIN_LIMIT(plaintext.length);\n        const { encKey, authKey } = deriveKeys();\n        const tag = _computeTag(encKey, authKey, plaintext);\n        const out = new Uint8Array(plaintext.length + tagLength);\n        out.set(tag, plaintext.length);\n        out.set(processSiv(encKey, tag, plaintext));\n        encKey.fill(0);\n        authKey.fill(0);\n        return out;\n      },\n      decrypt: (ciphertext: Uint8Array) => {\n        abytes(ciphertext);\n        CIPHER_LIMIT(ciphertext.length);\n        const tag = ciphertext.subarray(-tagLength);\n        const { encKey, authKey } = deriveKeys();\n        const plaintext = processSiv(encKey, tag, ciphertext.subarray(0, -tagLength));\n        const expectedTag = _computeTag(encKey, authKey, plaintext);\n        encKey.fill(0);\n        authKey.fill(0);\n        if (!equalBytes(tag, expectedTag)) throw new Error('invalid polyval tag');\n        return plaintext;\n      },\n    };\n  }\n);\n\nfunction isBytes32(a: unknown): a is Uint8Array {\n  return (\n    a != null &&\n    typeof a === 'object' &&\n    (a instanceof Uint32Array || a.constructor.name === 'Uint32Array')\n  );\n}\n\nfunction encryptBlock(xk: Uint32Array, block: Uint8Array) {\n  abytes(block, 16);\n  if (!isBytes32(xk)) throw new Error('_encryptBlock accepts result of expandKeyLE');\n  const b32 = u32(block);\n  let { s0, s1, s2, s3 } = encrypt(xk, b32[0], b32[1], b32[2], b32[3]);\n  (b32[0] = s0), (b32[1] = s1), (b32[2] = s2), (b32[3] = s3);\n  return block;\n}\n\nfunction decryptBlock(xk: Uint32Array, block: Uint8Array) {\n  abytes(block, 16);\n  if (!isBytes32(xk)) throw new Error('_decryptBlock accepts result of expandKeyLE');\n  const b32 = u32(block);\n  let { s0, s1, s2, s3 } = decrypt(xk, b32[0], b32[1], b32[2], b32[3]);\n  (b32[0] = s0), (b32[1] = s1), (b32[2] = s2), (b32[3] = s3);\n  return block;\n}\n\n// Highly unsafe private functions for implementing new modes or ciphers based on AES\n// Can change at any time, no API guarantees\nexport const unsafe = {\n  expandKeyLE,\n  expandKeyDecLE,\n  encrypt,\n  decrypt,\n  encryptBlock,\n  decryptBlock,\n  ctrCounter,\n  ctr32,\n};\n", "import { exists as aexists, bytes as abytes, output as aoutput } from './_assert.js';\nimport { Input, toBytes, Hash } from './utils.js';\n\n// Poly1305 is a fast and parallel secret-key message-authentication code.\n// https://cr.yp.to/mac.html, https://cr.yp.to/mac/poly1305-20050329.pdf\n// https://datatracker.ietf.org/doc/html/rfc8439\n\n// Based on Public Domain poly1305-donna https://github.com/floodyberry/poly1305-donna\nconst u8to16 = (a: Uint8Array, i: number) => (a[i++] & 0xff) | ((a[i++] & 0xff) << 8);\nclass Poly1305 implements Hash<Poly1305> {\n  readonly blockLen = 16;\n  readonly outputLen = 16;\n  private buffer = new Uint8Array(16);\n  private r = new Uint16Array(10);\n  private h = new Uint16Array(10);\n  private pad = new Uint16Array(8);\n  private pos = 0;\n  protected finished = false;\n\n  constructor(key: Input) {\n    key = toBytes(key);\n    abytes(key, 32);\n    const t0 = u8to16(key, 0);\n    const t1 = u8to16(key, 2);\n    const t2 = u8to16(key, 4);\n    const t3 = u8to16(key, 6);\n    const t4 = u8to16(key, 8);\n    const t5 = u8to16(key, 10);\n    const t6 = u8to16(key, 12);\n    const t7 = u8to16(key, 14);\n\n    // https://github.com/floodyberry/poly1305-donna/blob/e6ad6e091d30d7f4ec2d4f978be1fcfcbce72781/poly1305-donna-16.h#L47\n    this.r[0] = t0 & 0x1fff;\n    this.r[1] = ((t0 >>> 13) | (t1 << 3)) & 0x1fff;\n    this.r[2] = ((t1 >>> 10) | (t2 << 6)) & 0x1f03;\n    this.r[3] = ((t2 >>> 7) | (t3 << 9)) & 0x1fff;\n    this.r[4] = ((t3 >>> 4) | (t4 << 12)) & 0x00ff;\n    this.r[5] = (t4 >>> 1) & 0x1ffe;\n    this.r[6] = ((t4 >>> 14) | (t5 << 2)) & 0x1fff;\n    this.r[7] = ((t5 >>> 11) | (t6 << 5)) & 0x1f81;\n    this.r[8] = ((t6 >>> 8) | (t7 << 8)) & 0x1fff;\n    this.r[9] = (t7 >>> 5) & 0x007f;\n    for (let i = 0; i < 8; i++) this.pad[i] = u8to16(key, 16 + 2 * i);\n  }\n\n  private process(data: Uint8Array, offset: number, isLast = false) {\n    const hibit = isLast ? 0 : 1 << 11;\n    const { h, r } = this;\n    const r0 = r[0];\n    const r1 = r[1];\n    const r2 = r[2];\n    const r3 = r[3];\n    const r4 = r[4];\n    const r5 = r[5];\n    const r6 = r[6];\n    const r7 = r[7];\n    const r8 = r[8];\n    const r9 = r[9];\n\n    const t0 = u8to16(data, offset + 0);\n    const t1 = u8to16(data, offset + 2);\n    const t2 = u8to16(data, offset + 4);\n    const t3 = u8to16(data, offset + 6);\n    const t4 = u8to16(data, offset + 8);\n    const t5 = u8to16(data, offset + 10);\n    const t6 = u8to16(data, offset + 12);\n    const t7 = u8to16(data, offset + 14);\n\n    let h0 = h[0] + (t0 & 0x1fff);\n    let h1 = h[1] + (((t0 >>> 13) | (t1 << 3)) & 0x1fff);\n    let h2 = h[2] + (((t1 >>> 10) | (t2 << 6)) & 0x1fff);\n    let h3 = h[3] + (((t2 >>> 7) | (t3 << 9)) & 0x1fff);\n    let h4 = h[4] + (((t3 >>> 4) | (t4 << 12)) & 0x1fff);\n    let h5 = h[5] + ((t4 >>> 1) & 0x1fff);\n    let h6 = h[6] + (((t4 >>> 14) | (t5 << 2)) & 0x1fff);\n    let h7 = h[7] + (((t5 >>> 11) | (t6 << 5)) & 0x1fff);\n    let h8 = h[8] + (((t6 >>> 8) | (t7 << 8)) & 0x1fff);\n    let h9 = h[9] + ((t7 >>> 5) | hibit);\n\n    let c = 0;\n\n    let d0 = c + h0 * r0 + h1 * (5 * r9) + h2 * (5 * r8) + h3 * (5 * r7) + h4 * (5 * r6);\n    c = d0 >>> 13;\n    d0 &= 0x1fff;\n    d0 += h5 * (5 * r5) + h6 * (5 * r4) + h7 * (5 * r3) + h8 * (5 * r2) + h9 * (5 * r1);\n    c += d0 >>> 13;\n    d0 &= 0x1fff;\n\n    let d1 = c + h0 * r1 + h1 * r0 + h2 * (5 * r9) + h3 * (5 * r8) + h4 * (5 * r7);\n    c = d1 >>> 13;\n    d1 &= 0x1fff;\n    d1 += h5 * (5 * r6) + h6 * (5 * r5) + h7 * (5 * r4) + h8 * (5 * r3) + h9 * (5 * r2);\n    c += d1 >>> 13;\n    d1 &= 0x1fff;\n\n    let d2 = c + h0 * r2 + h1 * r1 + h2 * r0 + h3 * (5 * r9) + h4 * (5 * r8);\n    c = d2 >>> 13;\n    d2 &= 0x1fff;\n    d2 += h5 * (5 * r7) + h6 * (5 * r6) + h7 * (5 * r5) + h8 * (5 * r4) + h9 * (5 * r3);\n    c += d2 >>> 13;\n    d2 &= 0x1fff;\n\n    let d3 = c + h0 * r3 + h1 * r2 + h2 * r1 + h3 * r0 + h4 * (5 * r9);\n    c = d3 >>> 13;\n    d3 &= 0x1fff;\n    d3 += h5 * (5 * r8) + h6 * (5 * r7) + h7 * (5 * r6) + h8 * (5 * r5) + h9 * (5 * r4);\n    c += d3 >>> 13;\n    d3 &= 0x1fff;\n\n    let d4 = c + h0 * r4 + h1 * r3 + h2 * r2 + h3 * r1 + h4 * r0;\n    c = d4 >>> 13;\n    d4 &= 0x1fff;\n    d4 += h5 * (5 * r9) + h6 * (5 * r8) + h7 * (5 * r7) + h8 * (5 * r6) + h9 * (5 * r5);\n    c += d4 >>> 13;\n    d4 &= 0x1fff;\n\n    let d5 = c + h0 * r5 + h1 * r4 + h2 * r3 + h3 * r2 + h4 * r1;\n    c = d5 >>> 13;\n    d5 &= 0x1fff;\n    d5 += h5 * r0 + h6 * (5 * r9) + h7 * (5 * r8) + h8 * (5 * r7) + h9 * (5 * r6);\n    c += d5 >>> 13;\n    d5 &= 0x1fff;\n\n    let d6 = c + h0 * r6 + h1 * r5 + h2 * r4 + h3 * r3 + h4 * r2;\n    c = d6 >>> 13;\n    d6 &= 0x1fff;\n    d6 += h5 * r1 + h6 * r0 + h7 * (5 * r9) + h8 * (5 * r8) + h9 * (5 * r7);\n    c += d6 >>> 13;\n    d6 &= 0x1fff;\n\n    let d7 = c + h0 * r7 + h1 * r6 + h2 * r5 + h3 * r4 + h4 * r3;\n    c = d7 >>> 13;\n    d7 &= 0x1fff;\n    d7 += h5 * r2 + h6 * r1 + h7 * r0 + h8 * (5 * r9) + h9 * (5 * r8);\n    c += d7 >>> 13;\n    d7 &= 0x1fff;\n\n    let d8 = c + h0 * r8 + h1 * r7 + h2 * r6 + h3 * r5 + h4 * r4;\n    c = d8 >>> 13;\n    d8 &= 0x1fff;\n    d8 += h5 * r3 + h6 * r2 + h7 * r1 + h8 * r0 + h9 * (5 * r9);\n    c += d8 >>> 13;\n    d8 &= 0x1fff;\n\n    let d9 = c + h0 * r9 + h1 * r8 + h2 * r7 + h3 * r6 + h4 * r5;\n    c = d9 >>> 13;\n    d9 &= 0x1fff;\n    d9 += h5 * r4 + h6 * r3 + h7 * r2 + h8 * r1 + h9 * r0;\n    c += d9 >>> 13;\n    d9 &= 0x1fff;\n\n    c = ((c << 2) + c) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = c >>> 13;\n    d1 += c;\n\n    h[0] = d0;\n    h[1] = d1;\n    h[2] = d2;\n    h[3] = d3;\n    h[4] = d4;\n    h[5] = d5;\n    h[6] = d6;\n    h[7] = d7;\n    h[8] = d8;\n    h[9] = d9;\n  }\n\n  private finalize() {\n    const { h, pad } = this;\n    const g = new Uint16Array(10);\n    let c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    for (let i = 2; i < 10; i++) {\n      h[i] += c;\n      c = h[i] >>> 13;\n      h[i] &= 0x1fff;\n    }\n    h[0] += c * 5;\n    c = h[0] >>> 13;\n    h[0] &= 0x1fff;\n    h[1] += c;\n    c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    h[2] += c;\n\n    g[0] = h[0] + 5;\n    c = g[0] >>> 13;\n    g[0] &= 0x1fff;\n    for (let i = 1; i < 10; i++) {\n      g[i] = h[i] + c;\n      c = g[i] >>> 13;\n      g[i] &= 0x1fff;\n    }\n    g[9] -= 1 << 13;\n\n    let mask = (c ^ 1) - 1;\n    for (let i = 0; i < 10; i++) g[i] &= mask;\n    mask = ~mask;\n    for (let i = 0; i < 10; i++) h[i] = (h[i] & mask) | g[i];\n    h[0] = (h[0] | (h[1] << 13)) & 0xffff;\n    h[1] = ((h[1] >>> 3) | (h[2] << 10)) & 0xffff;\n    h[2] = ((h[2] >>> 6) | (h[3] << 7)) & 0xffff;\n    h[3] = ((h[3] >>> 9) | (h[4] << 4)) & 0xffff;\n    h[4] = ((h[4] >>> 12) | (h[5] << 1) | (h[6] << 14)) & 0xffff;\n    h[5] = ((h[6] >>> 2) | (h[7] << 11)) & 0xffff;\n    h[6] = ((h[7] >>> 5) | (h[8] << 8)) & 0xffff;\n    h[7] = ((h[8] >>> 8) | (h[9] << 5)) & 0xffff;\n\n    let f = h[0] + pad[0];\n    h[0] = f & 0xffff;\n    for (let i = 1; i < 8; i++) {\n      f = (((h[i] + pad[i]) | 0) + (f >>> 16)) | 0;\n      h[i] = f & 0xffff;\n    }\n  }\n  update(data: Input): this {\n    aexists(this);\n    const { buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input\n      if (take === blockLen) {\n        for (; blockLen <= len - pos; pos += blockLen) this.process(data, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(buffer, 0, false);\n        this.pos = 0;\n      }\n    }\n    return this;\n  }\n  destroy() {\n    this.h.fill(0);\n    this.r.fill(0);\n    this.buffer.fill(0);\n    this.pad.fill(0);\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { buffer, h } = this;\n    let { pos } = this;\n    if (pos) {\n      buffer[pos++] = 1;\n      // buffer.subarray(pos).fill(0);\n      for (; pos < 16; pos++) buffer[pos] = 0;\n      this.process(buffer, 0, true);\n    }\n    this.finalize();\n    let opos = 0;\n    for (let i = 0; i < 8; i++) {\n      out[opos++] = h[i] >>> 0;\n      out[opos++] = h[i] >>> 8;\n    }\n    return out;\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n}\n\nexport type CHash = ReturnType<typeof wrapConstructorWithKey>;\nexport function wrapConstructorWithKey<H extends Hash<H>>(hashCons: (key: Input) => Hash<H>) {\n  const hashC = (msg: Input, key: Input): Uint8Array => hashCons(key).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(32));\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input) => hashCons(key);\n  return hashC;\n}\n\nexport const poly1305 = wrapConstructorWithKey((key) => new Poly1305(key));\n", "// Basic utils for ARX (add-rotate-xor) salsa and chacha ciphers.\nimport { number as anumber, bytes as abytes, bool as abool } from './_assert.js';\nimport { XorStream, checkOpts, u32 } from './utils.js';\n\n/*\nRFC8439 requires multi-step cipher stream, where\nauthKey starts with counter: 0, actual msg with counter: 1.\n\nFor this, we need a way to re-use nonce / counter:\n\n    const counter = new Uint8Array(4);\n    chacha(..., counter, ...); // counter is now 1\n    chacha(..., counter, ...); // counter is now 2\n\nThis is complicated:\n\n- 32-bit counters are enough, no need for 64-bit: max ArrayBuffer size in JS is 4GB\n- Original papers don't allow mutating counters\n- Counter overflow is undefined [^1]\n- Idea A: allow providing (nonce | counter) instead of just nonce, re-use it\n- Caveat: Cannot be re-used through all cases:\n- * chacha has (counter | nonce)\n- * xchacha has (nonce16 | counter | nonce16)\n- Idea B: separate nonce / counter and provide separate API for counter re-use\n- Caveat: there are different counter sizes depending on an algorithm.\n- salsa & chacha also differ in structures of key & sigma:\n  salsa20:      s[0] | k(4) | s[1] | nonce(2) | ctr(2) | s[2] | k(4) | s[3]\n  chacha:       s(4) | k(8) | ctr(1) | nonce(3)\n  chacha20orig: s(4) | k(8) | ctr(2) | nonce(2)\n- Idea C: helper method such as `setSalsaState(key, nonce, sigma, data)`\n- Caveat: we can't re-use counter array\n\nxchacha [^2] uses the subkey and remaining 8 byte nonce with ChaCha20 as normal\n(prefixed by 4 NUL bytes, since [RFC8439] specifies a 12-byte nonce).\n\n[^1]: https://mailarchive.ietf.org/arch/msg/cfrg/gsOnTJzcbgG6OqD8Sc0GO5aR_tU/\n[^2]: https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha#appendix-A.2\n*/\n\n// We can't make top-level var depend on utils.utf8ToBytes\n// because it's not present in all envs. Creating a similar fn here\nconst _utf8ToBytes = (str: string) => Uint8Array.from(str.split('').map((c) => c.charCodeAt(0)));\nconst sigma16 = _utf8ToBytes('expand 16-byte k');\nconst sigma32 = _utf8ToBytes('expand 32-byte k');\nconst sigma16_32 = u32(sigma16);\nconst sigma32_32 = u32(sigma32);\nexport const sigma = sigma32_32.slice();\n\nexport function rotl(a: number, b: number): number {\n  return (a << b) | (a >>> (32 - b));\n}\n\nexport type CipherCoreFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  output: Uint32Array,\n  counter: number,\n  rounds?: number\n) => void;\n\nexport type ExtendNonceFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  input: Uint32Array,\n  output: Uint32Array\n) => void;\n\nexport type CipherOpts = {\n  allowShortKeys?: boolean; // Original salsa / chacha allow 16-byte keys\n  extendNonceFn?: ExtendNonceFn;\n  counterLength?: number;\n  counterRight?: boolean; // right: nonce|counter; left: counter|nonce\n  rounds?: number;\n};\n\n// Is byte array aligned to 4 byte offset (u32)?\nfunction isAligned32(b: Uint8Array) {\n  return b.byteOffset % 4 === 0;\n}\n\n// Salsa and Chacha block length is always 512-bit\nconst BLOCK_LEN = 64;\nconst BLOCK_LEN32 = 16;\n\n// new Uint32Array([2**32])   // => Uint32Array(1) [ 0 ]\n// new Uint32Array([2**32-1]) // => Uint32Array(1) [ 4294967295 ]\nconst MAX_COUNTER = 2 ** 32 - 1;\n\nconst U32_EMPTY = new Uint32Array();\nfunction runCipher(\n  core: CipherCoreFn,\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  data: Uint8Array,\n  output: Uint8Array,\n  counter: number,\n  rounds: number\n): void {\n  const len = data.length;\n  const block = new Uint8Array(BLOCK_LEN);\n  const b32 = u32(block);\n  // Make sure that buffers aligned to 4 bytes\n  const isAligned = isAligned32(data) && isAligned32(output);\n  const d32 = isAligned ? u32(data) : U32_EMPTY;\n  const o32 = isAligned ? u32(output) : U32_EMPTY;\n  for (let pos = 0; pos < len; counter++) {\n    core(sigma, key, nonce, b32, counter, rounds);\n    if (counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    const take = Math.min(BLOCK_LEN, len - pos);\n    // aligned to 4 bytes\n    if (isAligned && take === BLOCK_LEN) {\n      const pos32 = pos / 4;\n      if (pos % 4 !== 0) throw new Error('arx: invalid block position');\n      for (let j = 0, posj: number; j < BLOCK_LEN32; j++) {\n        posj = pos32 + j;\n        o32[posj] = d32[posj] ^ b32[j];\n      }\n      pos += BLOCK_LEN;\n      continue;\n    }\n    for (let j = 0, posj; j < take; j++) {\n      posj = pos + j;\n      output[posj] = data[posj] ^ block[j];\n    }\n    pos += take;\n  }\n}\n\nexport function createCipher(core: CipherCoreFn, opts: CipherOpts): XorStream {\n  const { allowShortKeys, extendNonceFn, counterLength, counterRight, rounds } = checkOpts(\n    { allowShortKeys: false, counterLength: 8, counterRight: false, rounds: 20 },\n    opts\n  );\n  if (typeof core !== 'function') throw new Error('core must be a function');\n  anumber(counterLength);\n  anumber(rounds);\n  abool(counterRight);\n  abool(allowShortKeys);\n  return (\n    key: Uint8Array,\n    nonce: Uint8Array,\n    data: Uint8Array,\n    output?: Uint8Array,\n    counter = 0\n  ): Uint8Array => {\n    abytes(key);\n    abytes(nonce);\n    abytes(data);\n    const len = data.length;\n    if (!output) output = new Uint8Array(len);\n    abytes(output);\n    anumber(counter);\n    if (counter < 0 || counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    if (output.length < len)\n      throw new Error(`arx: output (${output.length}) is shorter than data (${len})`);\n    const toClean = [];\n\n    // Key & sigma\n    // key=16 -> sigma16, k=key|key\n    // key=32 -> sigma32, k=key\n    let l = key.length,\n      k: Uint8Array,\n      sigma: Uint32Array;\n    if (l === 32) {\n      k = key.slice();\n      toClean.push(k);\n      sigma = sigma32_32;\n    } else if (l === 16 && allowShortKeys) {\n      k = new Uint8Array(32);\n      k.set(key);\n      k.set(key, 16);\n      sigma = sigma16_32;\n      toClean.push(k);\n    } else {\n      throw new Error(`arx: invalid 32-byte key, got length=${l}`);\n    }\n\n    // Nonce\n    // salsa20:      8   (8-byte counter)\n    // chacha20orig: 8   (8-byte counter)\n    // chacha20:     12  (4-byte counter)\n    // xsalsa20:     24  (16 -> hsalsa,  8 -> old nonce)\n    // xchacha20:    24  (16 -> hchacha, 8 -> old nonce)\n    // Align nonce to 4 bytes\n    if (!isAligned32(nonce)) {\n      nonce = nonce.slice();\n      toClean.push(nonce);\n    }\n\n    const k32 = u32(k);\n    // hsalsa & hchacha: handle extended nonce\n    if (extendNonceFn) {\n      if (nonce.length !== 24) throw new Error(`arx: extended nonce must be 24 bytes`);\n      extendNonceFn(sigma, k32, u32(nonce.subarray(0, 16)), k32);\n      nonce = nonce.subarray(16);\n    }\n\n    // Handle nonce counter\n    const nonceNcLen = 16 - counterLength;\n    if (nonceNcLen !== nonce.length)\n      throw new Error(`arx: nonce must be ${nonceNcLen} or 16 bytes`);\n\n    // Pad counter when nonce is 64 bit\n    if (nonceNcLen !== 12) {\n      const nc = new Uint8Array(12);\n      nc.set(nonce, counterRight ? 0 : 12 - nonce.length);\n      nonce = nc;\n      toClean.push(nonce);\n    }\n    const n32 = u32(nonce);\n    runCipher(core, sigma, k32, n32, data, output, counter, rounds);\n    while (toClean.length > 0) toClean.pop()!.fill(0);\n    return output;\n  };\n}\n", "// prettier-ignore\nimport {\n  wrapCipher, CipherWithOutput, XorStream, createView, equalBytes, setBigUint64,\n} from './utils.js';\nimport { poly1305 } from './_poly1305.js';\nimport { createCipher, rotl } from './_arx.js';\nimport { bytes as abytes } from './_assert.js';\n\n// ChaCha20 stream cipher was released in 2008. ChaCha aims to increase\n// the diffusion per round, but had slightly less cryptanalysis.\n// https://cr.yp.to/chacha.html, http://cr.yp.to/chacha/chacha-20080128.pdf\n\n/**\n * ChaCha core function.\n */\n// prettier-ignore\nfunction chachaCore(\n  s: Uint32Array, k: Uint32Array, n: Uint32Array, out: Uint32Array, cnt: number, rounds = 20\n): void {\n  let y00 = s[0], y01 = s[1], y02 = s[2], y03 = s[3], // \"expa\"   \"nd 3\"  \"2-by\"  \"te k\"\n      y04 = k[0], y05 = k[1], y06 = k[2], y07 = k[3], // Key      Key     Key     Key\n      y08 = k[4], y09 = k[5], y10 = k[6], y11 = k[7], // Key      Key     Key     Key\n      y12 = cnt,  y13 = n[0], y14 = n[1], y15 = n[2]; // Counter  Counter\tNonce   Nonce\n  // Save state to temporary variables\n  let x00 = y00, x01 = y01, x02 = y02, x03 = y03,\n      x04 = y04, x05 = y05, x06 = y06, x07 = y07,\n      x08 = y08, x09 = y09, x10 = y10, x11 = y11,\n      x12 = y12, x13 = y13, x14 = y14, x15 = y15;\n  for (let r = 0; r < rounds; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  // Write output\n  let oi = 0;\n  out[oi++] = (y00 + x00) | 0; out[oi++] = (y01 + x01) | 0;\n  out[oi++] = (y02 + x02) | 0; out[oi++] = (y03 + x03) | 0;\n  out[oi++] = (y04 + x04) | 0; out[oi++] = (y05 + x05) | 0;\n  out[oi++] = (y06 + x06) | 0; out[oi++] = (y07 + x07) | 0;\n  out[oi++] = (y08 + x08) | 0; out[oi++] = (y09 + x09) | 0;\n  out[oi++] = (y10 + x10) | 0; out[oi++] = (y11 + x11) | 0;\n  out[oi++] = (y12 + x12) | 0; out[oi++] = (y13 + x13) | 0;\n  out[oi++] = (y14 + x14) | 0; out[oi++] = (y15 + x15) | 0;\n}\n/**\n * hchacha helper method, used primarily in xchacha, to hash\n * key and nonce into key' and nonce'.\n * Same as chachaCore, but there doesn't seem to be a way to move the block\n * out without 25% performance hit.\n */\n// prettier-ignore\nexport function hchacha(\n  s: Uint32Array, k: Uint32Array, i: Uint32Array, o32: Uint32Array\n) {\n  let x00 = s[0], x01 = s[1], x02 = s[2], x03 = s[3],\n      x04 = k[0], x05 = k[1], x06 = k[2], x07 = k[3],\n      x08 = k[4], x09 = k[5], x10 = k[6], x11 = k[7],\n      x12 = i[0], x13 = i[1], x14 = i[2], x15 = i[3];\n  for (let r = 0; r < 20; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  let oi = 0;\n  o32[oi++] = x00; o32[oi++] = x01;\n  o32[oi++] = x02; o32[oi++] = x03;\n  o32[oi++] = x12; o32[oi++] = x13;\n  o32[oi++] = x14; o32[oi++] = x15;\n}\n/**\n * Original, non-RFC chacha20 from DJB. 8-byte nonce, 8-byte counter.\n */\nexport const chacha20orig = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  allowShortKeys: true,\n});\n/**\n * ChaCha stream cipher. Conforms to RFC 8439 (IETF, TLS). 12-byte nonce, 4-byte counter.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  allowShortKeys: false,\n});\n\n/**\n * XChaCha eXtended-nonce ChaCha. 24-byte nonce.\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n */\nexport const xchacha20 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  extendNonceFn: hchacha,\n  allowShortKeys: false,\n});\n\n/**\n * Reduced 8-round chacha, described in original paper.\n */\nexport const chacha8 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 8,\n});\n\n/**\n * Reduced 12-round chacha, described in original paper.\n */\nexport const chacha12 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 12,\n});\n\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\n// Pad to digest size with zeros\nconst updatePadded = (h: ReturnType<typeof poly1305.create>, msg: Uint8Array) => {\n  h.update(msg);\n  const left = msg.length % 16;\n  if (left) h.update(ZEROS16.subarray(left));\n};\n\nconst ZEROS32 = /* @__PURE__ */ new Uint8Array(32);\nfunction computeTag(\n  fn: XorStream,\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n): Uint8Array {\n  const authKey = fn(key, nonce, ZEROS32);\n  const h = poly1305.create(authKey);\n  if (AAD) updatePadded(h, AAD);\n  updatePadded(h, data);\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(data.length), true);\n  h.update(num);\n  const res = h.digest();\n  authKey.fill(0);\n  return res;\n}\n\n/**\n * AEAD algorithm from RFC 8439.\n * Salsa20 and chacha (RFC 8439) use poly1305 differently.\n * We could have composed them similar to:\n * https://github.com/paulmillr/scure-base/blob/b266c73dde977b1dd7ef40ef7a23cc15aab526b3/index.ts#L250\n * But it's hard because of authKey:\n * In salsa20, authKey changes position in salsa stream.\n * In chacha, authKey can't be computed inside computeTag, it modifies the counter.\n */\nexport const _poly1305_aead =\n  (xorStream: XorStream) =>\n  (key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): CipherWithOutput => {\n    const tagLength = 16;\n    abytes(key, 32);\n    abytes(nonce);\n    return {\n      encrypt: (plaintext: Uint8Array, output?: Uint8Array) => {\n        const plength = plaintext.length;\n        const clength = plength + tagLength;\n        if (output) {\n          abytes(output, clength);\n        } else {\n          output = new Uint8Array(clength);\n        }\n        xorStream(key, nonce, plaintext, output, 1);\n        const tag = computeTag(xorStream, key, nonce, output.subarray(0, -tagLength), AAD);\n        output.set(tag, plength); // append tag\n        return output;\n      },\n      decrypt: (ciphertext: Uint8Array, output?: Uint8Array) => {\n        const clength = ciphertext.length;\n        const plength = clength - tagLength;\n        if (clength < tagLength)\n          throw new Error(`encrypted data must be at least ${tagLength} bytes`);\n        if (output) {\n          abytes(output, plength);\n        } else {\n          output = new Uint8Array(plength);\n        }\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = computeTag(xorStream, key, nonce, data, AAD);\n        if (!equalBytes(passedTag, tag)) throw new Error('invalid tag');\n        xorStream(key, nonce, data, output, 1);\n        return output;\n      },\n    };\n  };\n\n/**\n * ChaCha20-Poly1305 from RFC 8439.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20poly1305 = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 12, tagLength: 16 },\n  _poly1305_aead(chacha20)\n);\n/**\n * XChaCha20-Poly1305 extended-nonce chacha.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n */\nexport const xchacha20poly1305 = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 24, tagLength: 16 },\n  _poly1305_aead(xchacha20)\n);\n", "import assert from './_assert.js';\nimport { Hash, CHash, Input, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    assert.hash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf: Input) {\n    assert.exists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assert.exists(this);\n    assert.bytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "import assert from './_assert.js';\nimport { CHash, Input, toBytes } from './utils.js';\nimport { hmac } from './hmac.js';\n\n// HKDF (RFC 5869)\n// https://soatok.blog/2021/11/17/understanding-hkdf/\n\n/**\n * HKDF-Extract(IKM, salt) -> PRK\n * Arguments position differs from spec (IKM is first one, since it is not optional)\n * @param hash\n * @param ikm\n * @param salt\n * @returns\n */\nexport function extract(hash: CHash, ikm: Input, salt?: Input) {\n  assert.hash(hash);\n  // NOTE: some libraries treat zero-length array as 'not provided';\n  // we don't, since we have undefined as 'not provided'\n  // https://github.com/RustCrypto/KDFs/issues/15\n  if (salt === undefined) salt = new Uint8Array(hash.outputLen); // if not provided, it is set to a string of HashLen zeros\n  return hmac(hash, toBytes(salt), toBytes(ikm));\n}\n\n// HKDF-Expand(PRK, info, L) -> OKM\nconst HKDF_COUNTER = new Uint8Array([0]);\nconst EMPTY_BUFFER = new Uint8Array();\n\n/**\n * HKDF-expand from the spec.\n * @param prk - a pseudorandom key of at least HashLen octets (usually, the output from the extract step)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in octets\n */\nexport function expand(hash: CHash, prk: Input, info?: Input, length: number = 32) {\n  assert.hash(hash);\n  assert.number(length);\n  if (length > 255 * hash.outputLen) throw new Error('Length should be <= 255*HashLen');\n  const blocks = Math.ceil(length / hash.outputLen);\n  if (info === undefined) info = EMPTY_BUFFER;\n  // first L(ength) octets of T\n  const okm = new Uint8Array(blocks * hash.outputLen);\n  // Re-use HMAC instance between blocks\n  const HMAC = hmac.create(hash, prk);\n  const HMACTmp = HMAC._cloneInto();\n  const T = new Uint8Array(HMAC.outputLen);\n  for (let counter = 0; counter < blocks; counter++) {\n    HKDF_COUNTER[0] = counter + 1;\n    // T(0) = empty string (zero length)\n    // T(N) = HMAC-Hash(PRK, T(N-1) | info | N)\n    HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T)\n      .update(info)\n      .update(HKDF_COUNTER)\n      .digestInto(T);\n    okm.set(T, hash.outputLen * counter);\n    HMAC._cloneInto(HMACTmp);\n  }\n  HMAC.destroy();\n  HMACTmp.destroy();\n  T.fill(0);\n  HKDF_COUNTER.fill(0);\n  return okm.slice(0, length);\n}\n\n/**\n * HKDF (RFC 5869): extract + expand in one step.\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n * @param info - optional context and application specific information\n * @param length - length of output keying material in octets\n */\nexport const hkdf = (\n  hash: CHash,\n  ikm: Input,\n  salt: Input | undefined,\n  info: Input | undefined,\n  length: number\n) => expand(hash, extract(hash, ikm, salt), info, length);\n", "var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// pure.ts\nimport { schnorr } from \"@noble/curves/secp256k1\";\nimport { bytesToHex as bytesToHex2 } from \"@noble/hashes/utils\";\n\n// core.ts\nvar verifiedSymbol = Symbol(\"verified\");\nvar isRecord = (obj) => obj instanceof Object;\nfunction validateEvent(event) {\n  if (!isRecord(event))\n    return false;\n  if (typeof event.kind !== \"number\")\n    return false;\n  if (typeof event.content !== \"string\")\n    return false;\n  if (typeof event.created_at !== \"number\")\n    return false;\n  if (typeof event.pubkey !== \"string\")\n    return false;\n  if (!event.pubkey.match(/^[a-f0-9]{64}$/))\n    return false;\n  if (!Array.isArray(event.tags))\n    return false;\n  for (let i2 = 0; i2 < event.tags.length; i2++) {\n    let tag = event.tags[i2];\n    if (!Array.isArray(tag))\n      return false;\n    for (let j = 0; j < tag.length; j++) {\n      if (typeof tag[j] !== \"string\")\n        return false;\n    }\n  }\n  return true;\n}\nfunction sortEvents(events) {\n  return events.sort((a, b) => {\n    if (a.created_at !== b.created_at) {\n      return b.created_at - a.created_at;\n    }\n    return a.id.localeCompare(b.id);\n  });\n}\n\n// pure.ts\nimport { sha256 } from \"@noble/hashes/sha256\";\n\n// utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  Queue: () => Queue,\n  QueueNode: () => QueueNode,\n  binarySearch: () => binarySearch,\n  bytesToHex: () => bytesToHex,\n  hexToBytes: () => hexToBytes,\n  insertEventIntoAscendingList: () => insertEventIntoAscendingList,\n  insertEventIntoDescendingList: () => insertEventIntoDescendingList,\n  normalizeURL: () => normalizeURL,\n  utf8Decoder: () => utf8Decoder,\n  utf8Encoder: () => utf8Encoder\n});\nimport { bytesToHex, hexToBytes } from \"@noble/hashes/utils\";\nvar utf8Decoder = new TextDecoder(\"utf-8\");\nvar utf8Encoder = new TextEncoder();\nfunction normalizeURL(url) {\n  try {\n    if (url.indexOf(\"://\") === -1)\n      url = \"wss://\" + url;\n    let p = new URL(url);\n    p.pathname = p.pathname.replace(/\\/+/g, \"/\");\n    if (p.pathname.endsWith(\"/\"))\n      p.pathname = p.pathname.slice(0, -1);\n    if (p.port === \"80\" && p.protocol === \"ws:\" || p.port === \"443\" && p.protocol === \"wss:\")\n      p.port = \"\";\n    p.searchParams.sort();\n    p.hash = \"\";\n    return p.toString();\n  } catch (e) {\n    throw new Error(`Invalid URL: ${url}`);\n  }\n}\nfunction insertEventIntoDescendingList(sortedArray, event) {\n  const [idx, found] = binarySearch(sortedArray, (b) => {\n    if (event.id === b.id)\n      return 0;\n    if (event.created_at === b.created_at)\n      return -1;\n    return b.created_at - event.created_at;\n  });\n  if (!found) {\n    sortedArray.splice(idx, 0, event);\n  }\n  return sortedArray;\n}\nfunction insertEventIntoAscendingList(sortedArray, event) {\n  const [idx, found] = binarySearch(sortedArray, (b) => {\n    if (event.id === b.id)\n      return 0;\n    if (event.created_at === b.created_at)\n      return -1;\n    return event.created_at - b.created_at;\n  });\n  if (!found) {\n    sortedArray.splice(idx, 0, event);\n  }\n  return sortedArray;\n}\nfunction binarySearch(arr, compare) {\n  let start = 0;\n  let end = arr.length - 1;\n  while (start <= end) {\n    const mid = Math.floor((start + end) / 2);\n    const cmp = compare(arr[mid]);\n    if (cmp === 0) {\n      return [mid, true];\n    }\n    if (cmp < 0) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n  return [start, false];\n}\nvar QueueNode = class {\n  value;\n  next = null;\n  prev = null;\n  constructor(message) {\n    this.value = message;\n  }\n};\nvar Queue = class {\n  first;\n  last;\n  constructor() {\n    this.first = null;\n    this.last = null;\n  }\n  enqueue(value) {\n    const newNode = new QueueNode(value);\n    if (!this.last) {\n      this.first = newNode;\n      this.last = newNode;\n    } else if (this.last === this.first) {\n      this.last = newNode;\n      this.last.prev = this.first;\n      this.first.next = newNode;\n    } else {\n      newNode.prev = this.last;\n      this.last.next = newNode;\n      this.last = newNode;\n    }\n    return true;\n  }\n  dequeue() {\n    if (!this.first)\n      return null;\n    if (this.first === this.last) {\n      const target2 = this.first;\n      this.first = null;\n      this.last = null;\n      return target2.value;\n    }\n    const target = this.first;\n    this.first = target.next;\n    if (this.first) {\n      this.first.prev = null;\n    }\n    return target.value;\n  }\n};\n\n// pure.ts\nvar JS = class {\n  generateSecretKey() {\n    return schnorr.utils.randomPrivateKey();\n  }\n  getPublicKey(secretKey) {\n    return bytesToHex2(schnorr.getPublicKey(secretKey));\n  }\n  finalizeEvent(t, secretKey) {\n    const event = t;\n    event.pubkey = bytesToHex2(schnorr.getPublicKey(secretKey));\n    event.id = getEventHash(event);\n    event.sig = bytesToHex2(schnorr.sign(getEventHash(event), secretKey));\n    event[verifiedSymbol] = true;\n    return event;\n  }\n  verifyEvent(event) {\n    if (typeof event[verifiedSymbol] === \"boolean\")\n      return event[verifiedSymbol];\n    const hash = getEventHash(event);\n    if (hash !== event.id) {\n      event[verifiedSymbol] = false;\n      return false;\n    }\n    try {\n      const valid = schnorr.verify(event.sig, hash, event.pubkey);\n      event[verifiedSymbol] = valid;\n      return valid;\n    } catch (err) {\n      event[verifiedSymbol] = false;\n      return false;\n    }\n  }\n};\nfunction serializeEvent(evt) {\n  if (!validateEvent(evt))\n    throw new Error(\"can't serialize event with wrong or missing properties\");\n  return JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content]);\n}\nfunction getEventHash(event) {\n  let eventHash = sha256(utf8Encoder.encode(serializeEvent(event)));\n  return bytesToHex2(eventHash);\n}\nvar i = new JS();\nvar generateSecretKey = i.generateSecretKey;\nvar getPublicKey = i.getPublicKey;\nvar finalizeEvent = i.finalizeEvent;\nvar verifyEvent = i.verifyEvent;\n\n// kinds.ts\nvar kinds_exports = {};\n__export(kinds_exports, {\n  Application: () => Application,\n  BadgeAward: () => BadgeAward,\n  BadgeDefinition: () => BadgeDefinition,\n  BlockedRelaysList: () => BlockedRelaysList,\n  BookmarkList: () => BookmarkList,\n  Bookmarksets: () => Bookmarksets,\n  Calendar: () => Calendar,\n  CalendarEventRSVP: () => CalendarEventRSVP,\n  ChannelCreation: () => ChannelCreation,\n  ChannelHideMessage: () => ChannelHideMessage,\n  ChannelMessage: () => ChannelMessage,\n  ChannelMetadata: () => ChannelMetadata,\n  ChannelMuteUser: () => ChannelMuteUser,\n  ClassifiedListing: () => ClassifiedListing,\n  ClientAuth: () => ClientAuth,\n  CommunitiesList: () => CommunitiesList,\n  CommunityDefinition: () => CommunityDefinition,\n  CommunityPostApproval: () => CommunityPostApproval,\n  Contacts: () => Contacts,\n  CreateOrUpdateProduct: () => CreateOrUpdateProduct,\n  CreateOrUpdateStall: () => CreateOrUpdateStall,\n  Curationsets: () => Curationsets,\n  Date: () => Date2,\n  DirectMessageRelaysList: () => DirectMessageRelaysList,\n  DraftClassifiedListing: () => DraftClassifiedListing,\n  DraftLong: () => DraftLong,\n  Emojisets: () => Emojisets,\n  EncryptedDirectMessage: () => EncryptedDirectMessage,\n  EventDeletion: () => EventDeletion,\n  FileMetadata: () => FileMetadata,\n  FileServerPreference: () => FileServerPreference,\n  Followsets: () => Followsets,\n  GenericRepost: () => GenericRepost,\n  Genericlists: () => Genericlists,\n  GiftWrap: () => GiftWrap,\n  HTTPAuth: () => HTTPAuth,\n  Handlerinformation: () => Handlerinformation,\n  Handlerrecommendation: () => Handlerrecommendation,\n  Highlights: () => Highlights,\n  InterestsList: () => InterestsList,\n  Interestsets: () => Interestsets,\n  JobFeedback: () => JobFeedback,\n  JobRequest: () => JobRequest,\n  JobResult: () => JobResult,\n  Label: () => Label,\n  LightningPubRPC: () => LightningPubRPC,\n  LiveChatMessage: () => LiveChatMessage,\n  LiveEvent: () => LiveEvent,\n  LongFormArticle: () => LongFormArticle,\n  Metadata: () => Metadata,\n  Mutelist: () => Mutelist,\n  NWCWalletInfo: () => NWCWalletInfo,\n  NWCWalletRequest: () => NWCWalletRequest,\n  NWCWalletResponse: () => NWCWalletResponse,\n  NostrConnect: () => NostrConnect,\n  OpenTimestamps: () => OpenTimestamps,\n  Pinlist: () => Pinlist,\n  PrivateDirectMessage: () => PrivateDirectMessage,\n  ProblemTracker: () => ProblemTracker,\n  ProfileBadges: () => ProfileBadges,\n  PublicChatsList: () => PublicChatsList,\n  Reaction: () => Reaction,\n  RecommendRelay: () => RecommendRelay,\n  RelayList: () => RelayList,\n  Relaysets: () => Relaysets,\n  Report: () => Report,\n  Reporting: () => Reporting,\n  Repost: () => Repost,\n  Seal: () => Seal,\n  SearchRelaysList: () => SearchRelaysList,\n  ShortTextNote: () => ShortTextNote,\n  Time: () => Time,\n  UserEmojiList: () => UserEmojiList,\n  UserStatuses: () => UserStatuses,\n  Zap: () => Zap,\n  ZapGoal: () => ZapGoal,\n  ZapRequest: () => ZapRequest,\n  classifyKind: () => classifyKind,\n  isAddressableKind: () => isAddressableKind,\n  isEphemeralKind: () => isEphemeralKind,\n  isKind: () => isKind,\n  isRegularKind: () => isRegularKind,\n  isReplaceableKind: () => isReplaceableKind\n});\nfunction isRegularKind(kind) {\n  return 1e3 <= kind && kind < 1e4 || [1, 2, 4, 5, 6, 7, 8, 16, 40, 41, 42, 43, 44].includes(kind);\n}\nfunction isReplaceableKind(kind) {\n  return [0, 3].includes(kind) || 1e4 <= kind && kind < 2e4;\n}\nfunction isEphemeralKind(kind) {\n  return 2e4 <= kind && kind < 3e4;\n}\nfunction isAddressableKind(kind) {\n  return 3e4 <= kind && kind < 4e4;\n}\nfunction classifyKind(kind) {\n  if (isRegularKind(kind))\n    return \"regular\";\n  if (isReplaceableKind(kind))\n    return \"replaceable\";\n  if (isEphemeralKind(kind))\n    return \"ephemeral\";\n  if (isAddressableKind(kind))\n    return \"parameterized\";\n  return \"unknown\";\n}\nfunction isKind(event, kind) {\n  const kindAsArray = kind instanceof Array ? kind : [kind];\n  return validateEvent(event) && kindAsArray.includes(event.kind) || false;\n}\nvar Metadata = 0;\nvar ShortTextNote = 1;\nvar RecommendRelay = 2;\nvar Contacts = 3;\nvar EncryptedDirectMessage = 4;\nvar EventDeletion = 5;\nvar Repost = 6;\nvar Reaction = 7;\nvar BadgeAward = 8;\nvar Seal = 13;\nvar PrivateDirectMessage = 14;\nvar GenericRepost = 16;\nvar ChannelCreation = 40;\nvar ChannelMetadata = 41;\nvar ChannelMessage = 42;\nvar ChannelHideMessage = 43;\nvar ChannelMuteUser = 44;\nvar OpenTimestamps = 1040;\nvar GiftWrap = 1059;\nvar FileMetadata = 1063;\nvar LiveChatMessage = 1311;\nvar ProblemTracker = 1971;\nvar Report = 1984;\nvar Reporting = 1984;\nvar Label = 1985;\nvar CommunityPostApproval = 4550;\nvar JobRequest = 5999;\nvar JobResult = 6999;\nvar JobFeedback = 7e3;\nvar ZapGoal = 9041;\nvar ZapRequest = 9734;\nvar Zap = 9735;\nvar Highlights = 9802;\nvar Mutelist = 1e4;\nvar Pinlist = 10001;\nvar RelayList = 10002;\nvar BookmarkList = 10003;\nvar CommunitiesList = 10004;\nvar PublicChatsList = 10005;\nvar BlockedRelaysList = 10006;\nvar SearchRelaysList = 10007;\nvar InterestsList = 10015;\nvar UserEmojiList = 10030;\nvar DirectMessageRelaysList = 10050;\nvar FileServerPreference = 10096;\nvar NWCWalletInfo = 13194;\nvar LightningPubRPC = 21e3;\nvar ClientAuth = 22242;\nvar NWCWalletRequest = 23194;\nvar NWCWalletResponse = 23195;\nvar NostrConnect = 24133;\nvar HTTPAuth = 27235;\nvar Followsets = 3e4;\nvar Genericlists = 30001;\nvar Relaysets = 30002;\nvar Bookmarksets = 30003;\nvar Curationsets = 30004;\nvar ProfileBadges = 30008;\nvar BadgeDefinition = 30009;\nvar Interestsets = 30015;\nvar CreateOrUpdateStall = 30017;\nvar CreateOrUpdateProduct = 30018;\nvar LongFormArticle = 30023;\nvar DraftLong = 30024;\nvar Emojisets = 30030;\nvar Application = 30078;\nvar LiveEvent = 30311;\nvar UserStatuses = 30315;\nvar ClassifiedListing = 30402;\nvar DraftClassifiedListing = 30403;\nvar Date2 = 31922;\nvar Time = 31923;\nvar Calendar = 31924;\nvar CalendarEventRSVP = 31925;\nvar Handlerrecommendation = 31989;\nvar Handlerinformation = 31990;\nvar CommunityDefinition = 34550;\n\n// filter.ts\nfunction matchFilter(filter, event) {\n  if (filter.ids && filter.ids.indexOf(event.id) === -1) {\n    return false;\n  }\n  if (filter.kinds && filter.kinds.indexOf(event.kind) === -1) {\n    return false;\n  }\n  if (filter.authors && filter.authors.indexOf(event.pubkey) === -1) {\n    return false;\n  }\n  for (let f in filter) {\n    if (f[0] === \"#\") {\n      let tagName = f.slice(1);\n      let values = filter[`#${tagName}`];\n      if (values && !event.tags.find(([t, v]) => t === f.slice(1) && values.indexOf(v) !== -1))\n        return false;\n    }\n  }\n  if (filter.since && event.created_at < filter.since)\n    return false;\n  if (filter.until && event.created_at > filter.until)\n    return false;\n  return true;\n}\nfunction matchFilters(filters, event) {\n  for (let i2 = 0; i2 < filters.length; i2++) {\n    if (matchFilter(filters[i2], event)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction mergeFilters(...filters) {\n  let result = {};\n  for (let i2 = 0; i2 < filters.length; i2++) {\n    let filter = filters[i2];\n    Object.entries(filter).forEach(([property, values]) => {\n      if (property === \"kinds\" || property === \"ids\" || property === \"authors\" || property[0] === \"#\") {\n        result[property] = result[property] || [];\n        for (let v = 0; v < values.length; v++) {\n          let value = values[v];\n          if (!result[property].includes(value))\n            result[property].push(value);\n        }\n      }\n    });\n    if (filter.limit && (!result.limit || filter.limit > result.limit))\n      result.limit = filter.limit;\n    if (filter.until && (!result.until || filter.until > result.until))\n      result.until = filter.until;\n    if (filter.since && (!result.since || filter.since < result.since))\n      result.since = filter.since;\n  }\n  return result;\n}\nfunction getFilterLimit(filter) {\n  if (filter.ids && !filter.ids.length)\n    return 0;\n  if (filter.kinds && !filter.kinds.length)\n    return 0;\n  if (filter.authors && !filter.authors.length)\n    return 0;\n  for (const [key, value] of Object.entries(filter)) {\n    if (key[0] === \"#\" && Array.isArray(value) && !value.length)\n      return 0;\n  }\n  return Math.min(\n    Math.max(0, filter.limit ?? Infinity),\n    filter.ids?.length ?? Infinity,\n    filter.authors?.length && filter.kinds?.every((kind) => isReplaceableKind(kind)) ? filter.authors.length * filter.kinds.length : Infinity,\n    filter.authors?.length && filter.kinds?.every((kind) => isAddressableKind(kind)) && filter[\"#d\"]?.length ? filter.authors.length * filter.kinds.length * filter[\"#d\"].length : Infinity\n  );\n}\n\n// fakejson.ts\nvar fakejson_exports = {};\n__export(fakejson_exports, {\n  getHex64: () => getHex64,\n  getInt: () => getInt,\n  getSubscriptionId: () => getSubscriptionId,\n  matchEventId: () => matchEventId,\n  matchEventKind: () => matchEventKind,\n  matchEventPubkey: () => matchEventPubkey\n});\nfunction getHex64(json, field) {\n  let len = field.length + 3;\n  let idx = json.indexOf(`\"${field}\":`) + len;\n  let s = json.slice(idx).indexOf(`\"`) + idx + 1;\n  return json.slice(s, s + 64);\n}\nfunction getInt(json, field) {\n  let len = field.length;\n  let idx = json.indexOf(`\"${field}\":`) + len + 3;\n  let sliced = json.slice(idx);\n  let end = Math.min(sliced.indexOf(\",\"), sliced.indexOf(\"}\"));\n  return parseInt(sliced.slice(0, end), 10);\n}\nfunction getSubscriptionId(json) {\n  let idx = json.slice(0, 22).indexOf(`\"EVENT\"`);\n  if (idx === -1)\n    return null;\n  let pstart = json.slice(idx + 7 + 1).indexOf(`\"`);\n  if (pstart === -1)\n    return null;\n  let start = idx + 7 + 1 + pstart;\n  let pend = json.slice(start + 1, 80).indexOf(`\"`);\n  if (pend === -1)\n    return null;\n  let end = start + 1 + pend;\n  return json.slice(start + 1, end);\n}\nfunction matchEventId(json, id) {\n  return id === getHex64(json, \"id\");\n}\nfunction matchEventPubkey(json, pubkey) {\n  return pubkey === getHex64(json, \"pubkey\");\n}\nfunction matchEventKind(json, kind) {\n  return kind === getInt(json, \"kind\");\n}\n\n// nip42.ts\nvar nip42_exports = {};\n__export(nip42_exports, {\n  makeAuthEvent: () => makeAuthEvent\n});\nfunction makeAuthEvent(relayURL, challenge) {\n  return {\n    kind: ClientAuth,\n    created_at: Math.floor(Date.now() / 1e3),\n    tags: [\n      [\"relay\", relayURL],\n      [\"challenge\", challenge]\n    ],\n    content: \"\"\n  };\n}\n\n// helpers.ts\nasync function yieldThread() {\n  return new Promise((resolve) => {\n    const ch = new MessageChannel();\n    const handler = () => {\n      ch.port1.removeEventListener(\"message\", handler);\n      resolve();\n    };\n    ch.port1.addEventListener(\"message\", handler);\n    ch.port2.postMessage(0);\n    ch.port1.start();\n  });\n}\nvar alwaysTrue = (t) => {\n  t[verifiedSymbol] = true;\n  return true;\n};\n\n// abstract-relay.ts\nvar SendingOnClosedConnection = class extends Error {\n  constructor(message, relay) {\n    super(`Tried to send message '${message} on a closed connection to ${relay}.`);\n    this.name = \"SendingOnClosedConnection\";\n  }\n};\nvar AbstractRelay = class {\n  url;\n  _connected = false;\n  onclose = null;\n  onnotice = (msg) => console.debug(`NOTICE from ${this.url}: ${msg}`);\n  baseEoseTimeout = 4400;\n  connectionTimeout = 4400;\n  publishTimeout = 4400;\n  pingFrequency = 2e4;\n  pingTimeout = 2e4;\n  openSubs = /* @__PURE__ */ new Map();\n  enablePing;\n  connectionTimeoutHandle;\n  connectionPromise;\n  openCountRequests = /* @__PURE__ */ new Map();\n  openEventPublishes = /* @__PURE__ */ new Map();\n  ws;\n  incomingMessageQueue = new Queue();\n  queueRunning = false;\n  challenge;\n  authPromise;\n  serial = 0;\n  verifyEvent;\n  _WebSocket;\n  constructor(url, opts) {\n    this.url = normalizeURL(url);\n    this.verifyEvent = opts.verifyEvent;\n    this._WebSocket = opts.websocketImplementation || WebSocket;\n    this.enablePing = opts.enablePing;\n  }\n  static async connect(url, opts) {\n    const relay = new AbstractRelay(url, opts);\n    await relay.connect();\n    return relay;\n  }\n  closeAllSubscriptions(reason) {\n    for (let [_, sub] of this.openSubs) {\n      sub.close(reason);\n    }\n    this.openSubs.clear();\n    for (let [_, ep] of this.openEventPublishes) {\n      ep.reject(new Error(reason));\n    }\n    this.openEventPublishes.clear();\n    for (let [_, cr] of this.openCountRequests) {\n      cr.reject(new Error(reason));\n    }\n    this.openCountRequests.clear();\n  }\n  get connected() {\n    return this._connected;\n  }\n  async connect() {\n    if (this.connectionPromise)\n      return this.connectionPromise;\n    this.challenge = void 0;\n    this.authPromise = void 0;\n    this.connectionPromise = new Promise((resolve, reject) => {\n      this.connectionTimeoutHandle = setTimeout(() => {\n        reject(\"connection timed out\");\n        this.connectionPromise = void 0;\n        this.onclose?.();\n        this.closeAllSubscriptions(\"relay connection timed out\");\n      }, this.connectionTimeout);\n      try {\n        this.ws = new this._WebSocket(this.url);\n      } catch (err) {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(err);\n        return;\n      }\n      this.ws.onopen = () => {\n        clearTimeout(this.connectionTimeoutHandle);\n        this._connected = true;\n        if (this.enablePing) {\n          this.pingpong();\n        }\n        resolve();\n      };\n      this.ws.onerror = (ev) => {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(ev.message || \"websocket error\");\n        if (this._connected) {\n          this._connected = false;\n          this.connectionPromise = void 0;\n          this.onclose?.();\n          this.closeAllSubscriptions(\"relay connection errored\");\n        }\n      };\n      this.ws.onclose = (ev) => {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(ev.message || \"websocket closed\");\n        if (this._connected) {\n          this._connected = false;\n          this.connectionPromise = void 0;\n          this.onclose?.();\n          this.closeAllSubscriptions(\"relay connection closed\");\n        }\n      };\n      this.ws.onmessage = this._onmessage.bind(this);\n    });\n    return this.connectionPromise;\n  }\n  async waitForPingPong() {\n    return new Promise((res, err) => {\n      ;\n      this.ws && this.ws.on && this.ws.on(\"pong\", () => res(true)) || err(\"ws can't listen for pong\");\n      this.ws && this.ws.ping && this.ws.ping();\n    });\n  }\n  async waitForDummyReq() {\n    return new Promise((resolve, _) => {\n      const sub = this.subscribe([{ ids: [\"a\".repeat(64)] }], {\n        oneose: () => {\n          sub.close();\n          resolve(true);\n        },\n        eoseTimeout: this.pingTimeout + 1e3\n      });\n    });\n  }\n  async pingpong() {\n    if (this.ws?.readyState === 1) {\n      const result = await Promise.any([\n        this.ws && this.ws.ping && this.ws.on ? this.waitForPingPong() : this.waitForDummyReq(),\n        new Promise((res) => setTimeout(() => res(false), this.pingTimeout))\n      ]);\n      if (result) {\n        setTimeout(() => this.pingpong(), this.pingFrequency);\n      } else {\n        this.closeAllSubscriptions(\"pingpong timed out\");\n        this._connected = false;\n        this.ws?.close();\n        this.onclose?.();\n      }\n    }\n  }\n  async runQueue() {\n    this.queueRunning = true;\n    while (true) {\n      if (false === this.handleNext()) {\n        break;\n      }\n      await yieldThread();\n    }\n    this.queueRunning = false;\n  }\n  handleNext() {\n    const json = this.incomingMessageQueue.dequeue();\n    if (!json) {\n      return false;\n    }\n    const subid = getSubscriptionId(json);\n    if (subid) {\n      const so = this.openSubs.get(subid);\n      if (!so) {\n        return;\n      }\n      const id = getHex64(json, \"id\");\n      const alreadyHave = so.alreadyHaveEvent?.(id);\n      so.receivedEvent?.(this, id);\n      if (alreadyHave) {\n        return;\n      }\n    }\n    try {\n      let data = JSON.parse(json);\n      switch (data[0]) {\n        case \"EVENT\": {\n          const so = this.openSubs.get(data[1]);\n          const event = data[2];\n          if (this.verifyEvent(event) && matchFilters(so.filters, event)) {\n            so.onevent(event);\n          }\n          return;\n        }\n        case \"COUNT\": {\n          const id = data[1];\n          const payload = data[2];\n          const cr = this.openCountRequests.get(id);\n          if (cr) {\n            cr.resolve(payload.count);\n            this.openCountRequests.delete(id);\n          }\n          return;\n        }\n        case \"EOSE\": {\n          const so = this.openSubs.get(data[1]);\n          if (!so)\n            return;\n          so.receivedEose();\n          return;\n        }\n        case \"OK\": {\n          const id = data[1];\n          const ok = data[2];\n          const reason = data[3];\n          const ep = this.openEventPublishes.get(id);\n          if (ep) {\n            clearTimeout(ep.timeout);\n            if (ok)\n              ep.resolve(reason);\n            else\n              ep.reject(new Error(reason));\n            this.openEventPublishes.delete(id);\n          }\n          return;\n        }\n        case \"CLOSED\": {\n          const id = data[1];\n          const so = this.openSubs.get(id);\n          if (!so)\n            return;\n          so.closed = true;\n          so.close(data[2]);\n          return;\n        }\n        case \"NOTICE\":\n          this.onnotice(data[1]);\n          return;\n        case \"AUTH\": {\n          this.challenge = data[1];\n          return;\n        }\n      }\n    } catch (err) {\n      return;\n    }\n  }\n  async send(message) {\n    if (!this.connectionPromise)\n      throw new SendingOnClosedConnection(message, this.url);\n    this.connectionPromise.then(() => {\n      this.ws?.send(message);\n    });\n  }\n  async auth(signAuthEvent) {\n    const challenge = this.challenge;\n    if (!challenge)\n      throw new Error(\"can't perform auth, no challenge was received\");\n    if (this.authPromise)\n      return this.authPromise;\n    this.authPromise = new Promise(async (resolve, reject) => {\n      try {\n        let evt = await signAuthEvent(makeAuthEvent(this.url, challenge));\n        let timeout = setTimeout(() => {\n          let ep = this.openEventPublishes.get(evt.id);\n          if (ep) {\n            ep.reject(new Error(\"auth timed out\"));\n            this.openEventPublishes.delete(evt.id);\n          }\n        }, this.publishTimeout);\n        this.openEventPublishes.set(evt.id, { resolve, reject, timeout });\n        this.send('[\"AUTH\",' + JSON.stringify(evt) + \"]\");\n      } catch (err) {\n        console.warn(\"subscribe auth function failed:\", err);\n      }\n    });\n    return this.authPromise;\n  }\n  async publish(event) {\n    const ret = new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        const ep = this.openEventPublishes.get(event.id);\n        if (ep) {\n          ep.reject(new Error(\"publish timed out\"));\n          this.openEventPublishes.delete(event.id);\n        }\n      }, this.publishTimeout);\n      this.openEventPublishes.set(event.id, { resolve, reject, timeout });\n    });\n    this.send('[\"EVENT\",' + JSON.stringify(event) + \"]\");\n    return ret;\n  }\n  async count(filters, params) {\n    this.serial++;\n    const id = params?.id || \"count:\" + this.serial;\n    const ret = new Promise((resolve, reject) => {\n      this.openCountRequests.set(id, { resolve, reject });\n    });\n    this.send('[\"COUNT\",\"' + id + '\",' + JSON.stringify(filters).substring(1));\n    return ret;\n  }\n  subscribe(filters, params) {\n    const subscription = this.prepareSubscription(filters, params);\n    subscription.fire();\n    return subscription;\n  }\n  prepareSubscription(filters, params) {\n    this.serial++;\n    const id = params.id || (params.label ? params.label + \":\" : \"sub:\") + this.serial;\n    const subscription = new Subscription(this, id, filters, params);\n    this.openSubs.set(id, subscription);\n    return subscription;\n  }\n  close() {\n    this.closeAllSubscriptions(\"relay connection closed by us\");\n    this._connected = false;\n    this.ws?.close();\n    this.onclose?.();\n  }\n  _onmessage(ev) {\n    this.incomingMessageQueue.enqueue(ev.data);\n    if (!this.queueRunning) {\n      this.runQueue();\n    }\n  }\n};\nvar Subscription = class {\n  relay;\n  id;\n  closed = false;\n  eosed = false;\n  filters;\n  alreadyHaveEvent;\n  receivedEvent;\n  onevent;\n  oneose;\n  onclose;\n  eoseTimeout;\n  eoseTimeoutHandle;\n  constructor(relay, id, filters, params) {\n    this.relay = relay;\n    this.filters = filters;\n    this.id = id;\n    this.alreadyHaveEvent = params.alreadyHaveEvent;\n    this.receivedEvent = params.receivedEvent;\n    this.eoseTimeout = params.eoseTimeout || relay.baseEoseTimeout;\n    this.oneose = params.oneose;\n    this.onclose = params.onclose;\n    this.onevent = params.onevent || ((event) => {\n      console.warn(\n        `onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,\n        event\n      );\n    });\n  }\n  fire() {\n    this.relay.send('[\"REQ\",\"' + this.id + '\",' + JSON.stringify(this.filters).substring(1));\n    this.eoseTimeoutHandle = setTimeout(this.receivedEose.bind(this), this.eoseTimeout);\n  }\n  receivedEose() {\n    if (this.eosed)\n      return;\n    clearTimeout(this.eoseTimeoutHandle);\n    this.eosed = true;\n    this.oneose?.();\n  }\n  close(reason = \"closed by caller\") {\n    if (!this.closed && this.relay.connected) {\n      try {\n        this.relay.send('[\"CLOSE\",' + JSON.stringify(this.id) + \"]\");\n      } catch (err) {\n        if (err instanceof SendingOnClosedConnection) {\n        } else {\n          throw err;\n        }\n      }\n      this.closed = true;\n    }\n    this.relay.openSubs.delete(this.id);\n    this.onclose?.(reason);\n  }\n};\n\n// relay.ts\nvar _WebSocket;\ntry {\n  _WebSocket = WebSocket;\n} catch {\n}\nvar Relay = class extends AbstractRelay {\n  constructor(url) {\n    super(url, { verifyEvent, websocketImplementation: _WebSocket });\n  }\n  static async connect(url) {\n    const relay = new Relay(url);\n    await relay.connect();\n    return relay;\n  }\n};\n\n// abstract-pool.ts\nvar AbstractSimplePool = class {\n  relays = /* @__PURE__ */ new Map();\n  seenOn = /* @__PURE__ */ new Map();\n  trackRelays = false;\n  verifyEvent;\n  enablePing;\n  trustedRelayURLs = /* @__PURE__ */ new Set();\n  _WebSocket;\n  constructor(opts) {\n    this.verifyEvent = opts.verifyEvent;\n    this._WebSocket = opts.websocketImplementation;\n    this.enablePing = opts.enablePing;\n  }\n  async ensureRelay(url, params) {\n    url = normalizeURL(url);\n    let relay = this.relays.get(url);\n    if (!relay) {\n      relay = new AbstractRelay(url, {\n        verifyEvent: this.trustedRelayURLs.has(url) ? alwaysTrue : this.verifyEvent,\n        websocketImplementation: this._WebSocket,\n        enablePing: this.enablePing\n      });\n      relay.onclose = () => {\n        this.relays.delete(url);\n      };\n      if (params?.connectionTimeout)\n        relay.connectionTimeout = params.connectionTimeout;\n      this.relays.set(url, relay);\n    }\n    await relay.connect();\n    return relay;\n  }\n  close(relays) {\n    relays.map(normalizeURL).forEach((url) => {\n      this.relays.get(url)?.close();\n      this.relays.delete(url);\n    });\n  }\n  subscribe(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const request = [];\n    for (let i2 = 0; i2 < relays.length; i2++) {\n      const url = normalizeURL(relays[i2]);\n      if (!request.find((r) => r.url === url)) {\n        request.push({ url, filter });\n      }\n    }\n    return this.subscribeMap(request, params);\n  }\n  subscribeMany(relays, filters, params) {\n    params.onauth = params.onauth || params.doauth;\n    const request = [];\n    const uniqUrls = [];\n    for (let i2 = 0; i2 < relays.length; i2++) {\n      const url = normalizeURL(relays[i2]);\n      if (uniqUrls.indexOf(url) === -1) {\n        for (let f = 0; f < filters.length; f++) {\n          request.push({ url, filter: filters[f] });\n        }\n      }\n    }\n    return this.subscribeMap(request, params);\n  }\n  subscribeMap(requests, params) {\n    params.onauth = params.onauth || params.doauth;\n    if (this.trackRelays) {\n      params.receivedEvent = (relay, id) => {\n        let set = this.seenOn.get(id);\n        if (!set) {\n          set = /* @__PURE__ */ new Set();\n          this.seenOn.set(id, set);\n        }\n        set.add(relay);\n      };\n    }\n    const _knownIds = /* @__PURE__ */ new Set();\n    const subs = [];\n    const eosesReceived = [];\n    let handleEose = (i2) => {\n      if (eosesReceived[i2])\n        return;\n      eosesReceived[i2] = true;\n      if (eosesReceived.filter((a) => a).length === requests.length) {\n        params.oneose?.();\n        handleEose = () => {\n        };\n      }\n    };\n    const closesReceived = [];\n    let handleClose = (i2, reason) => {\n      if (closesReceived[i2])\n        return;\n      handleEose(i2);\n      closesReceived[i2] = reason;\n      if (closesReceived.filter((a) => a).length === requests.length) {\n        params.onclose?.(closesReceived);\n        handleClose = () => {\n        };\n      }\n    };\n    const localAlreadyHaveEventHandler = (id) => {\n      if (params.alreadyHaveEvent?.(id)) {\n        return true;\n      }\n      const have = _knownIds.has(id);\n      _knownIds.add(id);\n      return have;\n    };\n    const allOpened = Promise.all(\n      requests.map(async ({ url, filter }, i2) => {\n        let relay;\n        try {\n          relay = await this.ensureRelay(url, {\n            connectionTimeout: params.maxWait ? Math.max(params.maxWait * 0.8, params.maxWait - 1e3) : void 0\n          });\n        } catch (err) {\n          handleClose(i2, err?.message || String(err));\n          return;\n        }\n        let subscription = relay.subscribe([filter], {\n          ...params,\n          oneose: () => handleEose(i2),\n          onclose: (reason) => {\n            if (reason.startsWith(\"auth-required: \") && params.onauth) {\n              relay.auth(params.onauth).then(() => {\n                relay.subscribe([filter], {\n                  ...params,\n                  oneose: () => handleEose(i2),\n                  onclose: (reason2) => {\n                    handleClose(i2, reason2);\n                  },\n                  alreadyHaveEvent: localAlreadyHaveEventHandler,\n                  eoseTimeout: params.maxWait\n                });\n              }).catch((err) => {\n                handleClose(i2, `auth was required and attempted, but failed with: ${err}`);\n              });\n            } else {\n              handleClose(i2, reason);\n            }\n          },\n          alreadyHaveEvent: localAlreadyHaveEventHandler,\n          eoseTimeout: params.maxWait\n        });\n        subs.push(subscription);\n      })\n    );\n    return {\n      async close(reason) {\n        await allOpened;\n        subs.forEach((sub) => {\n          sub.close(reason);\n        });\n      }\n    };\n  }\n  subscribeEose(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const subcloser = this.subscribe(relays, filter, {\n      ...params,\n      oneose() {\n        subcloser.close(\"closed automatically on eose\");\n      }\n    });\n    return subcloser;\n  }\n  subscribeManyEose(relays, filters, params) {\n    params.onauth = params.onauth || params.doauth;\n    const subcloser = this.subscribeMany(relays, filters, {\n      ...params,\n      oneose() {\n        subcloser.close(\"closed automatically on eose\");\n      }\n    });\n    return subcloser;\n  }\n  async querySync(relays, filter, params) {\n    return new Promise(async (resolve) => {\n      const events = [];\n      this.subscribeEose(relays, filter, {\n        ...params,\n        onevent(event) {\n          events.push(event);\n        },\n        onclose(_) {\n          resolve(events);\n        }\n      });\n    });\n  }\n  async get(relays, filter, params) {\n    filter.limit = 1;\n    const events = await this.querySync(relays, filter, params);\n    events.sort((a, b) => b.created_at - a.created_at);\n    return events[0] || null;\n  }\n  publish(relays, event, options) {\n    return relays.map(normalizeURL).map(async (url, i2, arr) => {\n      if (arr.indexOf(url) !== i2) {\n        return Promise.reject(\"duplicate url\");\n      }\n      let r = await this.ensureRelay(url);\n      return r.publish(event).catch(async (err) => {\n        if (err instanceof Error && err.message.startsWith(\"auth-required: \") && options?.onauth) {\n          await r.auth(options.onauth);\n          return r.publish(event);\n        }\n        throw err;\n      }).then((reason) => {\n        if (this.trackRelays) {\n          let set = this.seenOn.get(event.id);\n          if (!set) {\n            set = /* @__PURE__ */ new Set();\n            this.seenOn.set(event.id, set);\n          }\n          set.add(r);\n        }\n        return reason;\n      });\n    });\n  }\n  listConnectionStatus() {\n    const map = /* @__PURE__ */ new Map();\n    this.relays.forEach((relay, url) => map.set(url, relay.connected));\n    return map;\n  }\n  destroy() {\n    this.relays.forEach((conn) => conn.close());\n    this.relays = /* @__PURE__ */ new Map();\n  }\n};\n\n// pool.ts\nvar _WebSocket2;\ntry {\n  _WebSocket2 = WebSocket;\n} catch {\n}\nvar SimplePool = class extends AbstractSimplePool {\n  constructor(options) {\n    super({ verifyEvent, websocketImplementation: _WebSocket2, ...options });\n  }\n};\n\n// nip19.ts\nvar nip19_exports = {};\n__export(nip19_exports, {\n  BECH32_REGEX: () => BECH32_REGEX,\n  Bech32MaxSize: () => Bech32MaxSize,\n  NostrTypeGuard: () => NostrTypeGuard,\n  decode: () => decode,\n  decodeNostrURI: () => decodeNostrURI,\n  encodeBytes: () => encodeBytes,\n  naddrEncode: () => naddrEncode,\n  neventEncode: () => neventEncode,\n  noteEncode: () => noteEncode,\n  nprofileEncode: () => nprofileEncode,\n  npubEncode: () => npubEncode,\n  nsecEncode: () => nsecEncode\n});\nimport { bytesToHex as bytesToHex3, concatBytes, hexToBytes as hexToBytes2 } from \"@noble/hashes/utils\";\nimport { bech32 } from \"@scure/base\";\nvar NostrTypeGuard = {\n  isNProfile: (value) => /^nprofile1[a-z\\d]+$/.test(value || \"\"),\n  isNEvent: (value) => /^nevent1[a-z\\d]+$/.test(value || \"\"),\n  isNAddr: (value) => /^naddr1[a-z\\d]+$/.test(value || \"\"),\n  isNSec: (value) => /^nsec1[a-z\\d]{58}$/.test(value || \"\"),\n  isNPub: (value) => /^npub1[a-z\\d]{58}$/.test(value || \"\"),\n  isNote: (value) => /^note1[a-z\\d]+$/.test(value || \"\"),\n  isNcryptsec: (value) => /^ncryptsec1[a-z\\d]+$/.test(value || \"\")\n};\nvar Bech32MaxSize = 5e3;\nvar BECH32_REGEX = /[\\x21-\\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;\nfunction integerToUint8Array(number) {\n  const uint8Array = new Uint8Array(4);\n  uint8Array[0] = number >> 24 & 255;\n  uint8Array[1] = number >> 16 & 255;\n  uint8Array[2] = number >> 8 & 255;\n  uint8Array[3] = number & 255;\n  return uint8Array;\n}\nfunction decodeNostrURI(nip19code) {\n  try {\n    if (nip19code.startsWith(\"nostr:\"))\n      nip19code = nip19code.substring(6);\n    return decode(nip19code);\n  } catch (_err) {\n    return { type: \"invalid\", data: null };\n  }\n}\nfunction decode(code) {\n  let { prefix, words } = bech32.decode(code, Bech32MaxSize);\n  let data = new Uint8Array(bech32.fromWords(words));\n  switch (prefix) {\n    case \"nprofile\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for nprofile\");\n      if (tlv[0][0].length !== 32)\n        throw new Error(\"TLV 0 should be 32 bytes\");\n      return {\n        type: \"nprofile\",\n        data: {\n          pubkey: bytesToHex3(tlv[0][0]),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : []\n        }\n      };\n    }\n    case \"nevent\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for nevent\");\n      if (tlv[0][0].length !== 32)\n        throw new Error(\"TLV 0 should be 32 bytes\");\n      if (tlv[2] && tlv[2][0].length !== 32)\n        throw new Error(\"TLV 2 should be 32 bytes\");\n      if (tlv[3] && tlv[3][0].length !== 4)\n        throw new Error(\"TLV 3 should be 4 bytes\");\n      return {\n        type: \"nevent\",\n        data: {\n          id: bytesToHex3(tlv[0][0]),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : [],\n          author: tlv[2]?.[0] ? bytesToHex3(tlv[2][0]) : void 0,\n          kind: tlv[3]?.[0] ? parseInt(bytesToHex3(tlv[3][0]), 16) : void 0\n        }\n      };\n    }\n    case \"naddr\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for naddr\");\n      if (!tlv[2]?.[0])\n        throw new Error(\"missing TLV 2 for naddr\");\n      if (tlv[2][0].length !== 32)\n        throw new Error(\"TLV 2 should be 32 bytes\");\n      if (!tlv[3]?.[0])\n        throw new Error(\"missing TLV 3 for naddr\");\n      if (tlv[3][0].length !== 4)\n        throw new Error(\"TLV 3 should be 4 bytes\");\n      return {\n        type: \"naddr\",\n        data: {\n          identifier: utf8Decoder.decode(tlv[0][0]),\n          pubkey: bytesToHex3(tlv[2][0]),\n          kind: parseInt(bytesToHex3(tlv[3][0]), 16),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : []\n        }\n      };\n    }\n    case \"nsec\":\n      return { type: prefix, data };\n    case \"npub\":\n    case \"note\":\n      return { type: prefix, data: bytesToHex3(data) };\n    default:\n      throw new Error(`unknown prefix ${prefix}`);\n  }\n}\nfunction parseTLV(data) {\n  let result = {};\n  let rest = data;\n  while (rest.length > 0) {\n    let t = rest[0];\n    let l = rest[1];\n    let v = rest.slice(2, 2 + l);\n    rest = rest.slice(2 + l);\n    if (v.length < l)\n      throw new Error(`not enough data to read on TLV ${t}`);\n    result[t] = result[t] || [];\n    result[t].push(v);\n  }\n  return result;\n}\nfunction nsecEncode(key) {\n  return encodeBytes(\"nsec\", key);\n}\nfunction npubEncode(hex) {\n  return encodeBytes(\"npub\", hexToBytes2(hex));\n}\nfunction noteEncode(hex) {\n  return encodeBytes(\"note\", hexToBytes2(hex));\n}\nfunction encodeBech32(prefix, data) {\n  let words = bech32.toWords(data);\n  return bech32.encode(prefix, words, Bech32MaxSize);\n}\nfunction encodeBytes(prefix, bytes) {\n  return encodeBech32(prefix, bytes);\n}\nfunction nprofileEncode(profile) {\n  let data = encodeTLV({\n    0: [hexToBytes2(profile.pubkey)],\n    1: (profile.relays || []).map((url) => utf8Encoder.encode(url))\n  });\n  return encodeBech32(\"nprofile\", data);\n}\nfunction neventEncode(event) {\n  let kindArray;\n  if (event.kind !== void 0) {\n    kindArray = integerToUint8Array(event.kind);\n  }\n  let data = encodeTLV({\n    0: [hexToBytes2(event.id)],\n    1: (event.relays || []).map((url) => utf8Encoder.encode(url)),\n    2: event.author ? [hexToBytes2(event.author)] : [],\n    3: kindArray ? [new Uint8Array(kindArray)] : []\n  });\n  return encodeBech32(\"nevent\", data);\n}\nfunction naddrEncode(addr) {\n  let kind = new ArrayBuffer(4);\n  new DataView(kind).setUint32(0, addr.kind, false);\n  let data = encodeTLV({\n    0: [utf8Encoder.encode(addr.identifier)],\n    1: (addr.relays || []).map((url) => utf8Encoder.encode(url)),\n    2: [hexToBytes2(addr.pubkey)],\n    3: [new Uint8Array(kind)]\n  });\n  return encodeBech32(\"naddr\", data);\n}\nfunction encodeTLV(tlv) {\n  let entries = [];\n  Object.entries(tlv).reverse().forEach(([t, vs]) => {\n    vs.forEach((v) => {\n      let entry = new Uint8Array(v.length + 2);\n      entry.set([parseInt(t)], 0);\n      entry.set([v.length], 1);\n      entry.set(v, 2);\n      entries.push(entry);\n    });\n  });\n  return concatBytes(...entries);\n}\n\n// references.ts\nvar mentionRegex = /\\bnostr:((note|npub|naddr|nevent|nprofile)1\\w+)\\b|#\\[(\\d+)\\]/g;\nfunction parseReferences(evt) {\n  let references = [];\n  for (let ref of evt.content.matchAll(mentionRegex)) {\n    if (ref[2]) {\n      try {\n        let { type, data } = decode(ref[1]);\n        switch (type) {\n          case \"npub\": {\n            references.push({\n              text: ref[0],\n              profile: { pubkey: data, relays: [] }\n            });\n            break;\n          }\n          case \"nprofile\": {\n            references.push({\n              text: ref[0],\n              profile: data\n            });\n            break;\n          }\n          case \"note\": {\n            references.push({\n              text: ref[0],\n              event: { id: data, relays: [] }\n            });\n            break;\n          }\n          case \"nevent\": {\n            references.push({\n              text: ref[0],\n              event: data\n            });\n            break;\n          }\n          case \"naddr\": {\n            references.push({\n              text: ref[0],\n              address: data\n            });\n            break;\n          }\n        }\n      } catch (err) {\n      }\n    } else if (ref[3]) {\n      let idx = parseInt(ref[3], 10);\n      let tag = evt.tags[idx];\n      if (!tag)\n        continue;\n      switch (tag[0]) {\n        case \"p\": {\n          references.push({\n            text: ref[0],\n            profile: { pubkey: tag[1], relays: tag[2] ? [tag[2]] : [] }\n          });\n          break;\n        }\n        case \"e\": {\n          references.push({\n            text: ref[0],\n            event: { id: tag[1], relays: tag[2] ? [tag[2]] : [] }\n          });\n          break;\n        }\n        case \"a\": {\n          try {\n            let [kind, pubkey, identifier] = tag[1].split(\":\");\n            references.push({\n              text: ref[0],\n              address: {\n                identifier,\n                pubkey,\n                kind: parseInt(kind, 10),\n                relays: tag[2] ? [tag[2]] : []\n              }\n            });\n          } catch (err) {\n          }\n          break;\n        }\n      }\n    }\n  }\n  return references;\n}\n\n// nip04.ts\nvar nip04_exports = {};\n__export(nip04_exports, {\n  decrypt: () => decrypt,\n  encrypt: () => encrypt\n});\nimport { bytesToHex as bytesToHex4, randomBytes } from \"@noble/hashes/utils\";\nimport { secp256k1 } from \"@noble/curves/secp256k1\";\nimport { cbc } from \"@noble/ciphers/aes\";\nimport { base64 } from \"@scure/base\";\nfunction encrypt(secretKey, pubkey, text) {\n  const privkey = secretKey instanceof Uint8Array ? bytesToHex4(secretKey) : secretKey;\n  const key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n  const normalizedKey = getNormalizedX(key);\n  let iv = Uint8Array.from(randomBytes(16));\n  let plaintext = utf8Encoder.encode(text);\n  let ciphertext = cbc(normalizedKey, iv).encrypt(plaintext);\n  let ctb64 = base64.encode(new Uint8Array(ciphertext));\n  let ivb64 = base64.encode(new Uint8Array(iv.buffer));\n  return `${ctb64}?iv=${ivb64}`;\n}\nfunction decrypt(secretKey, pubkey, data) {\n  const privkey = secretKey instanceof Uint8Array ? bytesToHex4(secretKey) : secretKey;\n  let [ctb64, ivb64] = data.split(\"?iv=\");\n  let key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n  let normalizedKey = getNormalizedX(key);\n  let iv = base64.decode(ivb64);\n  let ciphertext = base64.decode(ctb64);\n  let plaintext = cbc(normalizedKey, iv).decrypt(ciphertext);\n  return utf8Decoder.decode(plaintext);\n}\nfunction getNormalizedX(key) {\n  return key.slice(1, 33);\n}\n\n// nip05.ts\nvar nip05_exports = {};\n__export(nip05_exports, {\n  NIP05_REGEX: () => NIP05_REGEX,\n  isNip05: () => isNip05,\n  isValid: () => isValid,\n  queryProfile: () => queryProfile,\n  searchDomain: () => searchDomain,\n  useFetchImplementation: () => useFetchImplementation\n});\nvar NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w_-]+(\\.[\\w_-]+)+)$/;\nvar isNip05 = (value) => NIP05_REGEX.test(value || \"\");\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch (_) {\n  null;\n}\nfunction useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nasync function searchDomain(domain, query = \"\") {\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${query}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    return json.names;\n  } catch (_) {\n    return {};\n  }\n}\nasync function queryProfile(fullname) {\n  const match = fullname.match(NIP05_REGEX);\n  if (!match)\n    return null;\n  const [, name = \"_\", domain] = match;\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${name}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    const pubkey = json.names[name];\n    return pubkey ? { pubkey, relays: json.relays?.[pubkey] } : null;\n  } catch (_e) {\n    return null;\n  }\n}\nasync function isValid(pubkey, nip05) {\n  const res = await queryProfile(nip05);\n  return res ? res.pubkey === pubkey : false;\n}\n\n// nip10.ts\nvar nip10_exports = {};\n__export(nip10_exports, {\n  parse: () => parse\n});\nfunction parse(event) {\n  const result = {\n    reply: void 0,\n    root: void 0,\n    mentions: [],\n    profiles: [],\n    quotes: []\n  };\n  let maybeParent;\n  let maybeRoot;\n  for (let i2 = event.tags.length - 1; i2 >= 0; i2--) {\n    const tag = event.tags[i2];\n    if (tag[0] === \"e\" && tag[1]) {\n      const [_, eTagEventId, eTagRelayUrl, eTagMarker, eTagAuthor] = tag;\n      const eventPointer = {\n        id: eTagEventId,\n        relays: eTagRelayUrl ? [eTagRelayUrl] : [],\n        author: eTagAuthor\n      };\n      if (eTagMarker === \"root\") {\n        result.root = eventPointer;\n        continue;\n      }\n      if (eTagMarker === \"reply\") {\n        result.reply = eventPointer;\n        continue;\n      }\n      if (eTagMarker === \"mention\") {\n        result.mentions.push(eventPointer);\n        continue;\n      }\n      if (!maybeParent) {\n        maybeParent = eventPointer;\n      } else {\n        maybeRoot = eventPointer;\n      }\n      result.mentions.push(eventPointer);\n      continue;\n    }\n    if (tag[0] === \"q\" && tag[1]) {\n      const [_, eTagEventId, eTagRelayUrl] = tag;\n      result.quotes.push({\n        id: eTagEventId,\n        relays: eTagRelayUrl ? [eTagRelayUrl] : []\n      });\n    }\n    if (tag[0] === \"p\" && tag[1]) {\n      result.profiles.push({\n        pubkey: tag[1],\n        relays: tag[2] ? [tag[2]] : []\n      });\n      continue;\n    }\n  }\n  if (!result.root) {\n    result.root = maybeRoot || maybeParent || result.reply;\n  }\n  if (!result.reply) {\n    result.reply = maybeParent || result.root;\n  }\n  ;\n  [result.reply, result.root].forEach((ref) => {\n    if (!ref)\n      return;\n    let idx = result.mentions.indexOf(ref);\n    if (idx !== -1) {\n      result.mentions.splice(idx, 1);\n    }\n    if (ref.author) {\n      let author = result.profiles.find((p) => p.pubkey === ref.author);\n      if (author && author.relays) {\n        if (!ref.relays) {\n          ref.relays = [];\n        }\n        author.relays.forEach((url) => {\n          if (ref.relays?.indexOf(url) === -1)\n            ref.relays.push(url);\n        });\n        author.relays = ref.relays;\n      }\n    }\n  });\n  result.mentions.forEach((ref) => {\n    if (ref.author) {\n      let author = result.profiles.find((p) => p.pubkey === ref.author);\n      if (author && author.relays) {\n        if (!ref.relays) {\n          ref.relays = [];\n        }\n        author.relays.forEach((url) => {\n          if (ref.relays.indexOf(url) === -1)\n            ref.relays.push(url);\n        });\n        author.relays = ref.relays;\n      }\n    }\n  });\n  return result;\n}\n\n// nip11.ts\nvar nip11_exports = {};\n__export(nip11_exports, {\n  fetchRelayInformation: () => fetchRelayInformation,\n  useFetchImplementation: () => useFetchImplementation2\n});\nvar _fetch2;\ntry {\n  _fetch2 = fetch;\n} catch {\n}\nfunction useFetchImplementation2(fetchImplementation) {\n  _fetch2 = fetchImplementation;\n}\nasync function fetchRelayInformation(url) {\n  return await (await fetch(url.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\"), {\n    headers: { Accept: \"application/nostr+json\" }\n  })).json();\n}\n\n// nip13.ts\nvar nip13_exports = {};\n__export(nip13_exports, {\n  fastEventHash: () => fastEventHash,\n  getPow: () => getPow,\n  minePow: () => minePow\n});\nimport { bytesToHex as bytesToHex5 } from \"@noble/hashes/utils\";\nimport { sha256 as sha2562 } from \"@noble/hashes/sha256\";\nfunction getPow(hex) {\n  let count = 0;\n  for (let i2 = 0; i2 < 64; i2 += 8) {\n    const nibble = parseInt(hex.substring(i2, i2 + 8), 16);\n    if (nibble === 0) {\n      count += 32;\n    } else {\n      count += Math.clz32(nibble);\n      break;\n    }\n  }\n  return count;\n}\nfunction minePow(unsigned, difficulty) {\n  let count = 0;\n  const event = unsigned;\n  const tag = [\"nonce\", count.toString(), difficulty.toString()];\n  event.tags.push(tag);\n  while (true) {\n    const now2 = Math.floor(new Date().getTime() / 1e3);\n    if (now2 !== event.created_at) {\n      count = 0;\n      event.created_at = now2;\n    }\n    tag[1] = (++count).toString();\n    event.id = fastEventHash(event);\n    if (getPow(event.id) >= difficulty) {\n      break;\n    }\n  }\n  return event;\n}\nfunction fastEventHash(evt) {\n  return bytesToHex5(\n    sha2562(utf8Encoder.encode(JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content])))\n  );\n}\n\n// nip17.ts\nvar nip17_exports = {};\n__export(nip17_exports, {\n  unwrapEvent: () => unwrapEvent2,\n  unwrapManyEvents: () => unwrapManyEvents2,\n  wrapEvent: () => wrapEvent2,\n  wrapManyEvents: () => wrapManyEvents2\n});\n\n// nip59.ts\nvar nip59_exports = {};\n__export(nip59_exports, {\n  createRumor: () => createRumor,\n  createSeal: () => createSeal,\n  createWrap: () => createWrap,\n  unwrapEvent: () => unwrapEvent,\n  unwrapManyEvents: () => unwrapManyEvents,\n  wrapEvent: () => wrapEvent,\n  wrapManyEvents: () => wrapManyEvents\n});\n\n// nip44.ts\nvar nip44_exports = {};\n__export(nip44_exports, {\n  decrypt: () => decrypt2,\n  encrypt: () => encrypt2,\n  getConversationKey: () => getConversationKey,\n  v2: () => v2\n});\nimport { chacha20 } from \"@noble/ciphers/chacha\";\nimport { equalBytes } from \"@noble/ciphers/utils\";\nimport { secp256k1 as secp256k12 } from \"@noble/curves/secp256k1\";\nimport { extract as hkdf_extract, expand as hkdf_expand } from \"@noble/hashes/hkdf\";\nimport { hmac } from \"@noble/hashes/hmac\";\nimport { sha256 as sha2563 } from \"@noble/hashes/sha256\";\nimport { concatBytes as concatBytes2, randomBytes as randomBytes2 } from \"@noble/hashes/utils\";\nimport { base64 as base642 } from \"@scure/base\";\nvar minPlaintextSize = 1;\nvar maxPlaintextSize = 65535;\nfunction getConversationKey(privkeyA, pubkeyB) {\n  const sharedX = secp256k12.getSharedSecret(privkeyA, \"02\" + pubkeyB).subarray(1, 33);\n  return hkdf_extract(sha2563, sharedX, \"nip44-v2\");\n}\nfunction getMessageKeys(conversationKey, nonce) {\n  const keys = hkdf_expand(sha2563, conversationKey, nonce, 76);\n  return {\n    chacha_key: keys.subarray(0, 32),\n    chacha_nonce: keys.subarray(32, 44),\n    hmac_key: keys.subarray(44, 76)\n  };\n}\nfunction calcPaddedLen(len) {\n  if (!Number.isSafeInteger(len) || len < 1)\n    throw new Error(\"expected positive integer\");\n  if (len <= 32)\n    return 32;\n  const nextPower = 1 << Math.floor(Math.log2(len - 1)) + 1;\n  const chunk = nextPower <= 256 ? 32 : nextPower / 8;\n  return chunk * (Math.floor((len - 1) / chunk) + 1);\n}\nfunction writeU16BE(num) {\n  if (!Number.isSafeInteger(num) || num < minPlaintextSize || num > maxPlaintextSize)\n    throw new Error(\"invalid plaintext size: must be between 1 and 65535 bytes\");\n  const arr = new Uint8Array(2);\n  new DataView(arr.buffer).setUint16(0, num, false);\n  return arr;\n}\nfunction pad(plaintext) {\n  const unpadded = utf8Encoder.encode(plaintext);\n  const unpaddedLen = unpadded.length;\n  const prefix = writeU16BE(unpaddedLen);\n  const suffix = new Uint8Array(calcPaddedLen(unpaddedLen) - unpaddedLen);\n  return concatBytes2(prefix, unpadded, suffix);\n}\nfunction unpad(padded) {\n  const unpaddedLen = new DataView(padded.buffer).getUint16(0);\n  const unpadded = padded.subarray(2, 2 + unpaddedLen);\n  if (unpaddedLen < minPlaintextSize || unpaddedLen > maxPlaintextSize || unpadded.length !== unpaddedLen || padded.length !== 2 + calcPaddedLen(unpaddedLen))\n    throw new Error(\"invalid padding\");\n  return utf8Decoder.decode(unpadded);\n}\nfunction hmacAad(key, message, aad) {\n  if (aad.length !== 32)\n    throw new Error(\"AAD associated data must be 32 bytes\");\n  const combined = concatBytes2(aad, message);\n  return hmac(sha2563, key, combined);\n}\nfunction decodePayload(payload) {\n  if (typeof payload !== \"string\")\n    throw new Error(\"payload must be a valid string\");\n  const plen = payload.length;\n  if (plen < 132 || plen > 87472)\n    throw new Error(\"invalid payload length: \" + plen);\n  if (payload[0] === \"#\")\n    throw new Error(\"unknown encryption version\");\n  let data;\n  try {\n    data = base642.decode(payload);\n  } catch (error) {\n    throw new Error(\"invalid base64: \" + error.message);\n  }\n  const dlen = data.length;\n  if (dlen < 99 || dlen > 65603)\n    throw new Error(\"invalid data length: \" + dlen);\n  const vers = data[0];\n  if (vers !== 2)\n    throw new Error(\"unknown encryption version \" + vers);\n  return {\n    nonce: data.subarray(1, 33),\n    ciphertext: data.subarray(33, -32),\n    mac: data.subarray(-32)\n  };\n}\nfunction encrypt2(plaintext, conversationKey, nonce = randomBytes2(32)) {\n  const { chacha_key, chacha_nonce, hmac_key } = getMessageKeys(conversationKey, nonce);\n  const padded = pad(plaintext);\n  const ciphertext = chacha20(chacha_key, chacha_nonce, padded);\n  const mac = hmacAad(hmac_key, ciphertext, nonce);\n  return base642.encode(concatBytes2(new Uint8Array([2]), nonce, ciphertext, mac));\n}\nfunction decrypt2(payload, conversationKey) {\n  const { nonce, ciphertext, mac } = decodePayload(payload);\n  const { chacha_key, chacha_nonce, hmac_key } = getMessageKeys(conversationKey, nonce);\n  const calculatedMac = hmacAad(hmac_key, ciphertext, nonce);\n  if (!equalBytes(calculatedMac, mac))\n    throw new Error(\"invalid MAC\");\n  const padded = chacha20(chacha_key, chacha_nonce, ciphertext);\n  return unpad(padded);\n}\nvar v2 = {\n  utils: {\n    getConversationKey,\n    calcPaddedLen\n  },\n  encrypt: encrypt2,\n  decrypt: decrypt2\n};\n\n// nip59.ts\nvar TWO_DAYS = 2 * 24 * 60 * 60;\nvar now = () => Math.round(Date.now() / 1e3);\nvar randomNow = () => Math.round(now() - Math.random() * TWO_DAYS);\nvar nip44ConversationKey = (privateKey, publicKey) => getConversationKey(privateKey, publicKey);\nvar nip44Encrypt = (data, privateKey, publicKey) => encrypt2(JSON.stringify(data), nip44ConversationKey(privateKey, publicKey));\nvar nip44Decrypt = (data, privateKey) => JSON.parse(decrypt2(data.content, nip44ConversationKey(privateKey, data.pubkey)));\nfunction createRumor(event, privateKey) {\n  const rumor = {\n    created_at: now(),\n    content: \"\",\n    tags: [],\n    ...event,\n    pubkey: getPublicKey(privateKey)\n  };\n  rumor.id = getEventHash(rumor);\n  return rumor;\n}\nfunction createSeal(rumor, privateKey, recipientPublicKey) {\n  return finalizeEvent(\n    {\n      kind: Seal,\n      content: nip44Encrypt(rumor, privateKey, recipientPublicKey),\n      created_at: randomNow(),\n      tags: []\n    },\n    privateKey\n  );\n}\nfunction createWrap(seal, recipientPublicKey) {\n  const randomKey = generateSecretKey();\n  return finalizeEvent(\n    {\n      kind: GiftWrap,\n      content: nip44Encrypt(seal, randomKey, recipientPublicKey),\n      created_at: randomNow(),\n      tags: [[\"p\", recipientPublicKey]]\n    },\n    randomKey\n  );\n}\nfunction wrapEvent(event, senderPrivateKey, recipientPublicKey) {\n  const rumor = createRumor(event, senderPrivateKey);\n  const seal = createSeal(rumor, senderPrivateKey, recipientPublicKey);\n  return createWrap(seal, recipientPublicKey);\n}\nfunction wrapManyEvents(event, senderPrivateKey, recipientsPublicKeys) {\n  if (!recipientsPublicKeys || recipientsPublicKeys.length === 0) {\n    throw new Error(\"At least one recipient is required.\");\n  }\n  const senderPublicKey = getPublicKey(senderPrivateKey);\n  const wrappeds = [wrapEvent(event, senderPrivateKey, senderPublicKey)];\n  recipientsPublicKeys.forEach((recipientPublicKey) => {\n    wrappeds.push(wrapEvent(event, senderPrivateKey, recipientPublicKey));\n  });\n  return wrappeds;\n}\nfunction unwrapEvent(wrap, recipientPrivateKey) {\n  const unwrappedSeal = nip44Decrypt(wrap, recipientPrivateKey);\n  return nip44Decrypt(unwrappedSeal, recipientPrivateKey);\n}\nfunction unwrapManyEvents(wrappedEvents, recipientPrivateKey) {\n  let unwrappedEvents = [];\n  wrappedEvents.forEach((e) => {\n    unwrappedEvents.push(unwrapEvent(e, recipientPrivateKey));\n  });\n  unwrappedEvents.sort((a, b) => a.created_at - b.created_at);\n  return unwrappedEvents;\n}\n\n// nip17.ts\nfunction createEvent(recipients, message, conversationTitle, replyTo) {\n  const baseEvent = {\n    created_at: Math.ceil(Date.now() / 1e3),\n    kind: PrivateDirectMessage,\n    tags: [],\n    content: message\n  };\n  const recipientsArray = Array.isArray(recipients) ? recipients : [recipients];\n  recipientsArray.forEach(({ publicKey, relayUrl }) => {\n    baseEvent.tags.push(relayUrl ? [\"p\", publicKey, relayUrl] : [\"p\", publicKey]);\n  });\n  if (replyTo) {\n    baseEvent.tags.push([\"e\", replyTo.eventId, replyTo.relayUrl || \"\", \"reply\"]);\n  }\n  if (conversationTitle) {\n    baseEvent.tags.push([\"subject\", conversationTitle]);\n  }\n  return baseEvent;\n}\nfunction wrapEvent2(senderPrivateKey, recipient, message, conversationTitle, replyTo) {\n  const event = createEvent(recipient, message, conversationTitle, replyTo);\n  return wrapEvent(event, senderPrivateKey, recipient.publicKey);\n}\nfunction wrapManyEvents2(senderPrivateKey, recipients, message, conversationTitle, replyTo) {\n  if (!recipients || recipients.length === 0) {\n    throw new Error(\"At least one recipient is required.\");\n  }\n  const senderPublicKey = getPublicKey(senderPrivateKey);\n  return [{ publicKey: senderPublicKey }, ...recipients].map(\n    (recipient) => wrapEvent2(senderPrivateKey, recipient, message, conversationTitle, replyTo)\n  );\n}\nvar unwrapEvent2 = unwrapEvent;\nvar unwrapManyEvents2 = unwrapManyEvents;\n\n// nip18.ts\nvar nip18_exports = {};\n__export(nip18_exports, {\n  finishRepostEvent: () => finishRepostEvent,\n  getRepostedEvent: () => getRepostedEvent,\n  getRepostedEventPointer: () => getRepostedEventPointer\n});\nfunction finishRepostEvent(t, reposted, relayUrl, privateKey) {\n  let kind;\n  const tags = [...t.tags ?? [], [\"e\", reposted.id, relayUrl], [\"p\", reposted.pubkey]];\n  if (reposted.kind === ShortTextNote) {\n    kind = Repost;\n  } else {\n    kind = GenericRepost;\n    tags.push([\"k\", String(reposted.kind)]);\n  }\n  return finalizeEvent(\n    {\n      kind,\n      tags,\n      content: t.content === \"\" || reposted.tags?.find((tag) => tag[0] === \"-\") ? \"\" : JSON.stringify(reposted),\n      created_at: t.created_at\n    },\n    privateKey\n  );\n}\nfunction getRepostedEventPointer(event) {\n  if (![Repost, GenericRepost].includes(event.kind)) {\n    return void 0;\n  }\n  let lastETag;\n  let lastPTag;\n  for (let i2 = event.tags.length - 1; i2 >= 0 && (lastETag === void 0 || lastPTag === void 0); i2--) {\n    const tag = event.tags[i2];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag?.[2]].filter((x) => typeof x === \"string\"),\n    author: lastPTag?.[1]\n  };\n}\nfunction getRepostedEvent(event, { skipVerification } = {}) {\n  const pointer = getRepostedEventPointer(event);\n  if (pointer === void 0 || event.content === \"\") {\n    return void 0;\n  }\n  let repostedEvent;\n  try {\n    repostedEvent = JSON.parse(event.content);\n  } catch (error) {\n    return void 0;\n  }\n  if (repostedEvent.id !== pointer.id) {\n    return void 0;\n  }\n  if (!skipVerification && !verifyEvent(repostedEvent)) {\n    return void 0;\n  }\n  return repostedEvent;\n}\n\n// nip21.ts\nvar nip21_exports = {};\n__export(nip21_exports, {\n  NOSTR_URI_REGEX: () => NOSTR_URI_REGEX,\n  parse: () => parse2,\n  test: () => test\n});\nvar NOSTR_URI_REGEX = new RegExp(`nostr:(${BECH32_REGEX.source})`);\nfunction test(value) {\n  return typeof value === \"string\" && new RegExp(`^${NOSTR_URI_REGEX.source}$`).test(value);\n}\nfunction parse2(uri) {\n  const match = uri.match(new RegExp(`^${NOSTR_URI_REGEX.source}$`));\n  if (!match)\n    throw new Error(`Invalid Nostr URI: ${uri}`);\n  return {\n    uri: match[0],\n    value: match[1],\n    decoded: decode(match[1])\n  };\n}\n\n// nip25.ts\nvar nip25_exports = {};\n__export(nip25_exports, {\n  finishReactionEvent: () => finishReactionEvent,\n  getReactedEventPointer: () => getReactedEventPointer\n});\nfunction finishReactionEvent(t, reacted, privateKey) {\n  const inheritedTags = reacted.tags.filter((tag) => tag.length >= 2 && (tag[0] === \"e\" || tag[0] === \"p\"));\n  return finalizeEvent(\n    {\n      ...t,\n      kind: Reaction,\n      tags: [...t.tags ?? [], ...inheritedTags, [\"e\", reacted.id], [\"p\", reacted.pubkey]],\n      content: t.content ?? \"+\"\n    },\n    privateKey\n  );\n}\nfunction getReactedEventPointer(event) {\n  if (event.kind !== Reaction) {\n    return void 0;\n  }\n  let lastETag;\n  let lastPTag;\n  for (let i2 = event.tags.length - 1; i2 >= 0 && (lastETag === void 0 || lastPTag === void 0); i2--) {\n    const tag = event.tags[i2];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0 || lastPTag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag[2]].filter((x) => x !== void 0),\n    author: lastPTag[1]\n  };\n}\n\n// nip27.ts\nvar nip27_exports = {};\n__export(nip27_exports, {\n  parse: () => parse3\n});\nvar noCharacter = /\\W/m;\nvar noURLCharacter = /\\W |\\W$|$|,| /m;\nfunction* parse3(content) {\n  const max = content.length;\n  let prevIndex = 0;\n  let index = 0;\n  while (index < max) {\n    let u = content.indexOf(\":\", index);\n    if (u === -1) {\n      break;\n    }\n    if (content.substring(u - 5, u) === \"nostr\") {\n      const m = content.substring(u + 60).match(noCharacter);\n      const end = m ? u + 60 + m.index : max;\n      try {\n        let pointer;\n        let { data, type } = decode(content.substring(u + 1, end));\n        switch (type) {\n          case \"npub\":\n            pointer = { pubkey: data };\n            break;\n          case \"nsec\":\n          case \"note\":\n            index = end + 1;\n            continue;\n          default:\n            pointer = data;\n        }\n        if (prevIndex !== u - 5) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - 5) };\n        }\n        yield { type: \"reference\", pointer };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = u + 1;\n        continue;\n      }\n    } else if (content.substring(u - 5, u) === \"https\" || content.substring(u - 4, u) === \"http\") {\n      const m = content.substring(u + 4).match(noURLCharacter);\n      const end = m ? u + 4 + m.index : max;\n      const prefixLen = content[u - 1] === \"s\" ? 5 : 4;\n      try {\n        let url = new URL(content.substring(u - prefixLen, end));\n        if (url.hostname.indexOf(\".\") === -1) {\n          throw new Error(\"invalid url\");\n        }\n        if (prevIndex !== u - prefixLen) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - prefixLen) };\n        }\n        if (url.pathname.endsWith(\".png\") || url.pathname.endsWith(\".jpg\") || url.pathname.endsWith(\".jpeg\") || url.pathname.endsWith(\".gif\") || url.pathname.endsWith(\".webp\")) {\n          yield { type: \"image\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        if (url.pathname.endsWith(\".mp4\") || url.pathname.endsWith(\".avi\") || url.pathname.endsWith(\".webm\") || url.pathname.endsWith(\".mkv\")) {\n          yield { type: \"video\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        if (url.pathname.endsWith(\".mp3\") || url.pathname.endsWith(\".aac\") || url.pathname.endsWith(\".ogg\") || url.pathname.endsWith(\".opus\")) {\n          yield { type: \"audio\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        yield { type: \"url\", url: url.toString() };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = end + 1;\n        continue;\n      }\n    } else if (content.substring(u - 3, u) === \"wss\" || content.substring(u - 2, u) === \"ws\") {\n      const m = content.substring(u + 4).match(noURLCharacter);\n      const end = m ? u + 4 + m.index : max;\n      const prefixLen = content[u - 1] === \"s\" ? 3 : 2;\n      try {\n        let url = new URL(content.substring(u - prefixLen, end));\n        if (url.hostname.indexOf(\".\") === -1) {\n          throw new Error(\"invalid ws url\");\n        }\n        if (prevIndex !== u - prefixLen) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - prefixLen) };\n        }\n        yield { type: \"relay\", url: url.toString() };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = end + 1;\n        continue;\n      }\n    } else {\n      index = u + 1;\n      continue;\n    }\n  }\n  if (prevIndex !== max) {\n    yield { type: \"text\", text: content.substring(prevIndex) };\n  }\n}\n\n// nip28.ts\nvar nip28_exports = {};\n__export(nip28_exports, {\n  channelCreateEvent: () => channelCreateEvent,\n  channelHideMessageEvent: () => channelHideMessageEvent,\n  channelMessageEvent: () => channelMessageEvent,\n  channelMetadataEvent: () => channelMetadataEvent,\n  channelMuteUserEvent: () => channelMuteUserEvent\n});\nvar channelCreateEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelCreation,\n      tags: [...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMetadataEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMetadata,\n      tags: [[\"e\", t.channel_create_event_id], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMessageEvent = (t, privateKey) => {\n  const tags = [[\"e\", t.channel_create_event_id, t.relay_url, \"root\"]];\n  if (t.reply_to_channel_message_event_id) {\n    tags.push([\"e\", t.reply_to_channel_message_event_id, t.relay_url, \"reply\"]);\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMessage,\n      tags: [...tags, ...t.tags ?? []],\n      content: t.content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelHideMessageEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelHideMessage,\n      tags: [[\"e\", t.channel_message_event_id], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMuteUserEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMuteUser,\n      tags: [[\"p\", t.pubkey_to_mute], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\n\n// nip30.ts\nvar nip30_exports = {};\n__export(nip30_exports, {\n  EMOJI_SHORTCODE_REGEX: () => EMOJI_SHORTCODE_REGEX,\n  matchAll: () => matchAll,\n  regex: () => regex,\n  replaceAll: () => replaceAll\n});\nvar EMOJI_SHORTCODE_REGEX = /:(\\w+):/;\nvar regex = () => new RegExp(`\\\\B${EMOJI_SHORTCODE_REGEX.source}\\\\B`, \"g\");\nfunction* matchAll(content) {\n  const matches = content.matchAll(regex());\n  for (const match of matches) {\n    try {\n      const [shortcode, name] = match;\n      yield {\n        shortcode,\n        name,\n        start: match.index,\n        end: match.index + shortcode.length\n      };\n    } catch (_e) {\n    }\n  }\n}\nfunction replaceAll(content, replacer) {\n  return content.replaceAll(regex(), (shortcode, name) => {\n    return replacer({\n      shortcode,\n      name\n    });\n  });\n}\n\n// nip39.ts\nvar nip39_exports = {};\n__export(nip39_exports, {\n  useFetchImplementation: () => useFetchImplementation3,\n  validateGithub: () => validateGithub\n});\nvar _fetch3;\ntry {\n  _fetch3 = fetch;\n} catch {\n}\nfunction useFetchImplementation3(fetchImplementation) {\n  _fetch3 = fetchImplementation;\n}\nasync function validateGithub(pubkey, username, proof) {\n  try {\n    let res = await (await _fetch3(`https://gist.github.com/${username}/${proof}/raw`)).text();\n    return res === `Verifying that I control the following Nostr public key: ${pubkey}`;\n  } catch (_) {\n    return false;\n  }\n}\n\n// nip47.ts\nvar nip47_exports = {};\n__export(nip47_exports, {\n  makeNwcRequestEvent: () => makeNwcRequestEvent,\n  parseConnectionString: () => parseConnectionString\n});\nfunction parseConnectionString(connectionString) {\n  const { host, pathname, searchParams } = new URL(connectionString);\n  const pubkey = pathname || host;\n  const relay = searchParams.get(\"relay\");\n  const secret = searchParams.get(\"secret\");\n  if (!pubkey || !relay || !secret) {\n    throw new Error(\"invalid connection string\");\n  }\n  return { pubkey, relay, secret };\n}\nasync function makeNwcRequestEvent(pubkey, secretKey, invoice) {\n  const content = {\n    method: \"pay_invoice\",\n    params: {\n      invoice\n    }\n  };\n  const encryptedContent = encrypt(secretKey, pubkey, JSON.stringify(content));\n  const eventTemplate = {\n    kind: NWCWalletRequest,\n    created_at: Math.round(Date.now() / 1e3),\n    content: encryptedContent,\n    tags: [[\"p\", pubkey]]\n  };\n  return finalizeEvent(eventTemplate, secretKey);\n}\n\n// nip54.ts\nvar nip54_exports = {};\n__export(nip54_exports, {\n  normalizeIdentifier: () => normalizeIdentifier\n});\nfunction normalizeIdentifier(name) {\n  name = name.trim().toLowerCase();\n  name = name.normalize(\"NFKC\");\n  return Array.from(name).map((char) => {\n    if (/\\p{Letter}/u.test(char) || /\\p{Number}/u.test(char)) {\n      return char;\n    }\n    return \"-\";\n  }).join(\"\");\n}\n\n// nip57.ts\nvar nip57_exports = {};\n__export(nip57_exports, {\n  getSatoshisAmountFromBolt11: () => getSatoshisAmountFromBolt11,\n  getZapEndpoint: () => getZapEndpoint,\n  makeZapReceipt: () => makeZapReceipt,\n  makeZapRequest: () => makeZapRequest,\n  useFetchImplementation: () => useFetchImplementation4,\n  validateZapRequest: () => validateZapRequest\n});\nimport { bech32 as bech322 } from \"@scure/base\";\nvar _fetch4;\ntry {\n  _fetch4 = fetch;\n} catch {\n}\nfunction useFetchImplementation4(fetchImplementation) {\n  _fetch4 = fetchImplementation;\n}\nasync function getZapEndpoint(metadata) {\n  try {\n    let lnurl = \"\";\n    let { lud06, lud16 } = JSON.parse(metadata.content);\n    if (lud06) {\n      let { words } = bech322.decode(lud06, 1e3);\n      let data = bech322.fromWords(words);\n      lnurl = utf8Decoder.decode(data);\n    } else if (lud16) {\n      let [name, domain] = lud16.split(\"@\");\n      lnurl = new URL(`/.well-known/lnurlp/${name}`, `https://${domain}`).toString();\n    } else {\n      return null;\n    }\n    let res = await _fetch4(lnurl);\n    let body = await res.json();\n    if (body.allowsNostr && body.nostrPubkey) {\n      return body.callback;\n    }\n  } catch (err) {\n  }\n  return null;\n}\nfunction makeZapRequest(params) {\n  let zr = {\n    kind: 9734,\n    created_at: Math.round(Date.now() / 1e3),\n    content: params.comment || \"\",\n    tags: [\n      [\"p\", \"pubkey\" in params ? params.pubkey : params.event.pubkey],\n      [\"amount\", params.amount.toString()],\n      [\"relays\", ...params.relays]\n    ]\n  };\n  if (\"event\" in params) {\n    zr.tags.push([\"e\", params.event.id]);\n    if (isReplaceableKind(params.event.kind)) {\n      const a = [\"a\", `${params.event.kind}:${params.event.pubkey}:`];\n      zr.tags.push(a);\n    } else if (isAddressableKind(params.event.kind)) {\n      let d = params.event.tags.find(([t, v]) => t === \"d\" && v);\n      if (!d)\n        throw new Error(\"d tag not found or is empty\");\n      const a = [\"a\", `${params.event.kind}:${params.event.pubkey}:${d[1]}`];\n      zr.tags.push(a);\n    }\n    zr.tags.push([\"k\", params.event.kind.toString()]);\n  }\n  return zr;\n}\nfunction validateZapRequest(zapRequestString) {\n  let zapRequest;\n  try {\n    zapRequest = JSON.parse(zapRequestString);\n  } catch (err) {\n    return \"Invalid zap request JSON.\";\n  }\n  if (!validateEvent(zapRequest))\n    return \"Zap request is not a valid Nostr event.\";\n  if (!verifyEvent(zapRequest))\n    return \"Invalid signature on zap request.\";\n  let p = zapRequest.tags.find(([t, v]) => t === \"p\" && v);\n  if (!p)\n    return \"Zap request doesn't have a 'p' tag.\";\n  if (!p[1].match(/^[a-f0-9]{64}$/))\n    return \"Zap request 'p' tag is not valid hex.\";\n  let e = zapRequest.tags.find(([t, v]) => t === \"e\" && v);\n  if (e && !e[1].match(/^[a-f0-9]{64}$/))\n    return \"Zap request 'e' tag is not valid hex.\";\n  let relays = zapRequest.tags.find(([t, v]) => t === \"relays\" && v);\n  if (!relays)\n    return \"Zap request doesn't have a 'relays' tag.\";\n  return null;\n}\nfunction makeZapReceipt({\n  zapRequest,\n  preimage,\n  bolt11,\n  paidAt\n}) {\n  let zr = JSON.parse(zapRequest);\n  let tagsFromZapRequest = zr.tags.filter(([t]) => t === \"e\" || t === \"p\" || t === \"a\");\n  let zap = {\n    kind: 9735,\n    created_at: Math.round(paidAt.getTime() / 1e3),\n    content: \"\",\n    tags: [...tagsFromZapRequest, [\"P\", zr.pubkey], [\"bolt11\", bolt11], [\"description\", zapRequest]]\n  };\n  if (preimage) {\n    zap.tags.push([\"preimage\", preimage]);\n  }\n  return zap;\n}\nfunction getSatoshisAmountFromBolt11(bolt11) {\n  if (bolt11.length < 50) {\n    return 0;\n  }\n  bolt11 = bolt11.substring(0, 50);\n  const idx = bolt11.lastIndexOf(\"1\");\n  if (idx === -1) {\n    return 0;\n  }\n  const hrp = bolt11.substring(0, idx);\n  if (!hrp.startsWith(\"lnbc\")) {\n    return 0;\n  }\n  const amount = hrp.substring(4);\n  if (amount.length < 1) {\n    return 0;\n  }\n  const char = amount[amount.length - 1];\n  const digit = char.charCodeAt(0) - \"0\".charCodeAt(0);\n  const isDigit = digit >= 0 && digit <= 9;\n  let cutPoint = amount.length - 1;\n  if (isDigit) {\n    cutPoint++;\n  }\n  if (cutPoint < 1) {\n    return 0;\n  }\n  const num = parseInt(amount.substring(0, cutPoint));\n  switch (char) {\n    case \"m\":\n      return num * 1e5;\n    case \"u\":\n      return num * 100;\n    case \"n\":\n      return num / 10;\n    case \"p\":\n      return num / 1e4;\n    default:\n      return num * 1e8;\n  }\n}\n\n// nip98.ts\nvar nip98_exports = {};\n__export(nip98_exports, {\n  getToken: () => getToken,\n  hashPayload: () => hashPayload,\n  unpackEventFromToken: () => unpackEventFromToken,\n  validateEvent: () => validateEvent2,\n  validateEventKind: () => validateEventKind,\n  validateEventMethodTag: () => validateEventMethodTag,\n  validateEventPayloadTag: () => validateEventPayloadTag,\n  validateEventTimestamp: () => validateEventTimestamp,\n  validateEventUrlTag: () => validateEventUrlTag,\n  validateToken: () => validateToken\n});\nimport { sha256 as sha2564 } from \"@noble/hashes/sha256\";\nimport { bytesToHex as bytesToHex6 } from \"@noble/hashes/utils\";\nimport { base64 as base643 } from \"@scure/base\";\nvar _authorizationScheme = \"Nostr \";\nasync function getToken(loginUrl, httpMethod, sign, includeAuthorizationScheme = false, payload) {\n  const event = {\n    kind: HTTPAuth,\n    tags: [\n      [\"u\", loginUrl],\n      [\"method\", httpMethod]\n    ],\n    created_at: Math.round(new Date().getTime() / 1e3),\n    content: \"\"\n  };\n  if (payload) {\n    event.tags.push([\"payload\", hashPayload(payload)]);\n  }\n  const signedEvent = await sign(event);\n  const authorizationScheme = includeAuthorizationScheme ? _authorizationScheme : \"\";\n  return authorizationScheme + base643.encode(utf8Encoder.encode(JSON.stringify(signedEvent)));\n}\nasync function validateToken(token, url, method) {\n  const event = await unpackEventFromToken(token).catch((error) => {\n    throw error;\n  });\n  const valid = await validateEvent2(event, url, method).catch((error) => {\n    throw error;\n  });\n  return valid;\n}\nasync function unpackEventFromToken(token) {\n  if (!token) {\n    throw new Error(\"Missing token\");\n  }\n  token = token.replace(_authorizationScheme, \"\");\n  const eventB64 = utf8Decoder.decode(base643.decode(token));\n  if (!eventB64 || eventB64.length === 0 || !eventB64.startsWith(\"{\")) {\n    throw new Error(\"Invalid token\");\n  }\n  const event = JSON.parse(eventB64);\n  return event;\n}\nfunction validateEventTimestamp(event) {\n  if (!event.created_at) {\n    return false;\n  }\n  return Math.round(new Date().getTime() / 1e3) - event.created_at < 60;\n}\nfunction validateEventKind(event) {\n  return event.kind === HTTPAuth;\n}\nfunction validateEventUrlTag(event, url) {\n  const urlTag = event.tags.find((t) => t[0] === \"u\");\n  if (!urlTag) {\n    return false;\n  }\n  return urlTag.length > 0 && urlTag[1] === url;\n}\nfunction validateEventMethodTag(event, method) {\n  const methodTag = event.tags.find((t) => t[0] === \"method\");\n  if (!methodTag) {\n    return false;\n  }\n  return methodTag.length > 0 && methodTag[1].toLowerCase() === method.toLowerCase();\n}\nfunction hashPayload(payload) {\n  const hash = sha2564(utf8Encoder.encode(JSON.stringify(payload)));\n  return bytesToHex6(hash);\n}\nfunction validateEventPayloadTag(event, payload) {\n  const payloadTag = event.tags.find((t) => t[0] === \"payload\");\n  if (!payloadTag) {\n    return false;\n  }\n  const payloadHash = hashPayload(payload);\n  return payloadTag.length > 0 && payloadTag[1] === payloadHash;\n}\nasync function validateEvent2(event, url, method, body) {\n  if (!verifyEvent(event)) {\n    throw new Error(\"Invalid nostr event, signature invalid\");\n  }\n  if (!validateEventKind(event)) {\n    throw new Error(\"Invalid nostr event, kind invalid\");\n  }\n  if (!validateEventTimestamp(event)) {\n    throw new Error(\"Invalid nostr event, created_at timestamp invalid\");\n  }\n  if (!validateEventUrlTag(event, url)) {\n    throw new Error(\"Invalid nostr event, url tag invalid\");\n  }\n  if (!validateEventMethodTag(event, method)) {\n    throw new Error(\"Invalid nostr event, method tag invalid\");\n  }\n  if (Boolean(body) && typeof body === \"object\" && Object.keys(body).length > 0) {\n    if (!validateEventPayloadTag(event, body)) {\n      throw new Error(\"Invalid nostr event, payload tag does not match request body hash\");\n    }\n  }\n  return true;\n}\nexport {\n  Relay,\n  SimplePool,\n  finalizeEvent,\n  fakejson_exports as fj,\n  generateSecretKey,\n  getEventHash,\n  getFilterLimit,\n  getPublicKey,\n  kinds_exports as kinds,\n  matchFilter,\n  matchFilters,\n  mergeFilters,\n  nip04_exports as nip04,\n  nip05_exports as nip05,\n  nip10_exports as nip10,\n  nip11_exports as nip11,\n  nip13_exports as nip13,\n  nip17_exports as nip17,\n  nip18_exports as nip18,\n  nip19_exports as nip19,\n  nip21_exports as nip21,\n  nip25_exports as nip25,\n  nip27_exports as nip27,\n  nip28_exports as nip28,\n  nip30_exports as nip30,\n  nip39_exports as nip39,\n  nip42_exports as nip42,\n  nip44_exports as nip44,\n  nip47_exports as nip47,\n  nip54_exports as nip54,\n  nip57_exports as nip57,\n  nip59_exports as nip59,\n  nip98_exports as nip98,\n  parseReferences,\n  serializeEvent,\n  sortEvents,\n  utils_exports as utils,\n  validateEvent,\n  verifiedSymbol,\n  verifyEvent\n};\n", "import { createContext, useContext } from 'react'\nimport { useBifrost }                from '@/hooks/useBifrost.js'\n\nimport type { ReactElement }                  from 'react'\nimport type { BifrostNodeAPI, ProviderProps } from '@/types/index.js'\n\nconst context = createContext<BifrostNodeAPI | null>(null)\n\nexport const NodeProvider = ({ children }: ProviderProps): ReactElement => {\n  // Get the node API.\n  const node = useBifrost()\n\n  return (\n    <context.Provider value={node}>\n      {children}\n    </context.Provider>\n  )\n}\n\nexport const useBifrostNode = () => {\n  const ctx = useContext(context)\n  if (ctx === null) {\n    throw new Error('useBifrostNode must be used within a NodeProvider')\n  }\n  return ctx\n}\n", "import { useEffect, useState, useRef } from 'react'\n\nimport { BifrostNode }      from '@frostr/bifrost'\nimport { decrypt_content }  from '@/lib/enclave.js'\nimport { decode_share_pkg } from '@frostr/bifrost/encoder'\nimport { convert_pubkey }   from '@frostr/bifrost/util'\nimport { useWebConsole }    from '@/context/console.js'\nimport { useSettings }      from '@/context/settings.js'\nimport { STORAGE_KEYS }     from '@/const.js'\n\nimport type {\n  GroupPackage,\n  PeerData,\n  SharePackage\n} from '@frostr/bifrost'\n\nimport type {\n  BifrostNodeAPI,\n  LogType,\n  NodeStatus,\n  SettingsData,\n} from '@/types/index.js'\n\ninterface FullSettingsData extends SettingsData {\n  group  : GroupPackage\n  pubkey : string\n  share  : string\n}\n\nexport function useBifrost () : BifrostNodeAPI {\n  const [ client, setClient ] = useState<BifrostNode | null>(null)\n  const [ peers, setPeers ]   = useState<PeerData[]>([])\n  const [ status, setStatus ] = useState<NodeStatus>('init')\n\n  // Track reconnection state\n  const reconnectAttempts = useRef(0)\n  const reconnectTimer    = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const maxReconnectAttempts = 5\n  const baseReconnectDelay   = 2000 // 2 seconds\n\n  const logger   = useWebConsole()\n  const settings = useSettings()\n\n  const _start = (share : SharePackage) => {\n    if (!is_store_ready(settings.data)) {\n      logger.add('node tried to start with missing settings', 'error')\n      return\n    }\n    // Get the group from the store.\n    const { group, peers, relays } = settings.data\n    // Get the peers from the store.\n    const policies = peers.map(p => ({\n      pubkey : convert_pubkey(p.pubkey, 'bip340'),\n      policy : { send : p.policy.send, recv : p.policy.recv }\n    }))\n    // Get the URLs from the relays.\n    const urls    = relays.map(r => r.url)\n    // Create a new node.\n    const _client = new BifrostNode(group, share, urls, { policies })\n    // Register listeners.\n    _client.on('ready', () => {\n      _client.req.echo('echo')\n      logger.add('bifrost node initialized', 'info')\n      setPeers(_client.peers.slice())\n      setStatus('online')\n\n      // Reset reconnection counter on successful connection\n      reconnectAttempts.current = 0\n\n      // Ping all peers using _client directly (not the state variable which may not be updated yet)\n      for (const peer of _client.peers) {\n        _client.req.ping(peer.pubkey)\n      }\n    })\n\n    _client.on('closed', () => {\n      setStatus('offline')\n    })\n\n    _client.on('error', () => {\n      setStatus('offline')\n    })\n\n    _client.on('/ping/handler/ret', () => {\n      setPeers(_client.peers.slice())\n    })\n\n    _client.on('/ping/sender/ret', () => {\n      setPeers(_client.peers.slice())\n    })\n\n    _client.on('*', (event, data) => {\n      // Skip message events.\n      if (event === 'message')       return\n      if (event.startsWith('/echo')) return\n      if (event.startsWith('/ping')) return\n\n      let type: LogType = 'info' // Default log type\n      let message = String(event)\n      let payload: any = data\n\n      // Determine log type and refine message based on event string\n      if (message.toLowerCase() === 'ready') {\n        type    = 'info'\n        payload = undefined\n      } else if (message.startsWith('/sign')) {\n        type = 'info' // General sign type, can be refined\n        if (message.endsWith('/req')) {\n          type = 'info'\n        } else if (message.endsWith('/res')) {\n          type = 'info'\n        }\n      } else if (message.startsWith('/error')) {\n        type = 'error'\n      } // Add more specific event type handling as needed\n\n      // If payload is an empty object, set it to undefined so no dropdown is shown\n      if (typeof payload === 'object' && payload !== null && Object.keys(payload).length === 0) {\n        payload = undefined\n      }\n\n      logger.add(message, type, payload)\n    })\n    // Connect the client.\n    _client.connect()\n    // Set the client state.\n    setClient(_client)\n  }\n\n  const clear = () => {\n    // Clear the node.\n    setClient(null)\n    // Clear session password on logout\n    sessionStorage.removeItem(STORAGE_KEYS.SESSION_PASSWORD)\n    if (!is_store_ready(settings.data)) {\n      setStatus('init')\n    } else {\n      setStatus('locked')\n    }\n  }\n\n  const lock = () => {\n    // Close the client connection if it exists\n    if (client !== null) {\n      try {\n        client.close()\n      } catch (e) {\n        // Ignore errors when closing\n      }\n    }\n    // Clear the node state\n    setClient(null)\n    // Clear session password from sessionStorage\n    sessionStorage.removeItem(STORAGE_KEYS.SESSION_PASSWORD)\n    // Also clear the Android session backup if running in WebView\n    // This prevents auto-unlock after app restart\n    if (typeof window !== 'undefined' && (window as any).StorageBridge?.clearSessionStorageAndBackup) {\n      try {\n        (window as any).StorageBridge.clearSessionStorageAndBackup()\n      } catch (e) {\n        // Ignore errors - may not be running in Android WebView\n      }\n    }\n    // Set status to locked (settings should still be ready)\n    setStatus('locked')\n    logger.add('node locked by user', 'info')\n  }\n\n  const ping = (pubkey : string) => {\n    // Return early if the node is not ready.\n    if (client === null) return\n    // Ping the peer.\n    client.req.ping(pubkey)\n  }\n\n  const reset = () => {\n    // Clear the node if the store is not ready.\n    if (!is_store_ready(settings.data)) clear()\n    // Return early if the node is not ready.\n    if (client === null) return\n    // Get the share from the current node.\n    const share = (client.signer as any)._share\n    // Restart the node with the share.\n    _start(share)\n  }\n\n  const unlock = (password : string) => {\n    // Return early if the store is not ready.\n    if (!is_store_ready(settings.data)) return\n\n    // Decrypt the share.\n    const decrypted = decrypt_content(settings.data.share, password)\n    // Return early if the share is not decrypted.\n    if (!decrypted) {\n      logger.add('failed to decrypt share', 'error')\n      return\n    }\n    // Store password in sessionStorage for auto-unlock after URI refresh\n    sessionStorage.setItem(STORAGE_KEYS.SESSION_PASSWORD, password)\n    // Decode the share.\n    const share = decode_share_pkg(decrypted)\n    // Start the node with the share.\n    _start(share)\n  }\n\n  useEffect(() => {\n    // Get the node's current status.\n    const status = get_node_status(client, settings.data)\n    // Set the node's status.\n    setStatus(status)\n  }, [ settings.data, client ])\n\n  // Reset node when core configuration changes\n  useEffect(() => {\n    reset()\n  }, [ settings.data.peers, settings.data.relays ])\n\n  // Notify Android of node state changes for foreground service control\n  // The foreground service is always enabled for reliable background signing\n  useEffect(() => {\n    // Only run in Android WebView\n    if (typeof window === 'undefined' || !(window as any).NodeStateBridge) {\n      return\n    }\n\n    const bridge = (window as any).NodeStateBridge\n\n    if (status === 'online') {\n      // Node is online - start persistent foreground service\n      try {\n        bridge.onNodeOnline()\n        console.log('[useBifrost] Notified Android: node online - starting foreground service')\n      } catch (e) {\n        console.warn('[useBifrost] Failed to notify Android of node online:', e)\n      }\n    } else if (status === 'locked' || status === 'disabled' || status === 'init') {\n      // Node is locked or not configured - stop foreground service\n      try {\n        bridge.onNodeOffline()\n        console.log('[useBifrost] Notified Android: node offline - stopping foreground service')\n      } catch (e) {\n        console.warn('[useBifrost] Failed to notify Android of node offline:', e)\n      }\n    }\n    // Note: 'offline' status (disconnected but unlocked) keeps service running for reconnection\n  }, [ status ])\n\n  // Auto-reconnect when connection drops\n  useEffect(() => {\n    // Only attempt reconnection if:\n    // 1. Status is 'offline' (not 'locked' or 'init')\n    // 2. We have a client (means we were previously connected)\n    // 3. We haven't exceeded max reconnection attempts\n    if (status !== 'offline' || client === null) {\n      return\n    }\n\n    if (reconnectAttempts.current >= maxReconnectAttempts) {\n      logger.add(`Max reconnection attempts (${maxReconnectAttempts}) reached`, 'error')\n      return\n    }\n\n    // Clear any existing timer\n    if (reconnectTimer.current) {\n      clearTimeout(reconnectTimer.current)\n    }\n\n    // Calculate delay with exponential backoff\n    const delay = baseReconnectDelay * Math.pow(2, reconnectAttempts.current)\n    reconnectAttempts.current++\n\n    logger.add(`Connection lost. Reconnecting in ${delay / 1000}s (attempt ${reconnectAttempts.current}/${maxReconnectAttempts})`, 'info')\n\n    reconnectTimer.current = setTimeout(() => {\n      reconnectTimer.current = null\n      if (client !== null) {\n        logger.add('Attempting to reconnect...', 'info')\n        try {\n          // Try to reconnect the existing client\n          client.connect()\n        } catch (e) {\n          logger.add('Reconnection failed, will retry', 'error')\n        }\n      }\n    }, delay)\n\n    // Cleanup timer on unmount or status change\n    return () => {\n      if (reconnectTimer.current) {\n        clearTimeout(reconnectTimer.current)\n        reconnectTimer.current = null\n      }\n    }\n  }, [ status, client ])\n\n  return { clear, client, lock, peers, ping, reset, status, unlock }\n}\n\nfunction is_store_ready (\n  store : SettingsData\n) : store is FullSettingsData {\n  return store.group !== null && store.share !== null && store.relays.length > 0\n}\n\nfunction get_node_status (\n  client   : BifrostNode | null,\n  settings : SettingsData\n) : NodeStatus {\n  if (!is_store_ready(settings)) {\n    return 'disabled'\n  } else if (client === null) {\n    return 'locked'\n  } else if (client.is_ready) {\n    return 'online'\n  } else {\n    return 'offline'\n  }\n}\n", "/**\n * Internal webcrypto alias.\n * We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n * See utils.ts for details.\n * @module\n */\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto: any =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n\n/** Asserts something is positive integer. */\nexport function anumber(n: number): void {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error('positive integer expected, got ' + n);\n}\n\n/** Asserts something is Uint8Array. */\nexport function abytes(b: Uint8Array | undefined, ...lengths: number[]): void {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n\n/** Asserts something is hash */\nexport function ahash(h: IHash): void {\n  if (typeof h !== 'function' || typeof h.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.createHasher');\n  anumber(h.outputLen);\n  anumber(h.blockLen);\n}\n\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance: any, checkFinished = true): void {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out: any, instance: any): void {\n  abytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error('digestInto() expects output buffer of length at least ' + min);\n  }\n}\n\n/** Generic type encompassing 8/16/32-byte arrays - but not 64-byte. */\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr: TypedArray): Uint8Array {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr: TypedArray): Uint32Array {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays: TypedArray[]): void {\n  for (let i = 0; i < arrays.length; i++) {\n    arrays[i].fill(0);\n  }\n}\n\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr: TypedArray): DataView {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** The rotate right (circular right shift) operation for uint32 */\nexport function rotr(word: number, shift: number): number {\n  return (word << (32 - shift)) | (word >>> shift);\n}\n\n/** The rotate left (circular left shift) operation for uint32 */\nexport function rotl(word: number, shift: number): number {\n  return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE: boolean = /* @__PURE__ */ (() =>\n  new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n\n/** The byte swap operation for uint32 */\nexport function byteSwap(word: number): number {\n  return (\n    ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff)\n  );\n}\n/** Conditionally byte swap if on a big-endian platform */\nexport const swap8IfBE: (n: number) => number = isLE\n  ? (n: number) => n\n  : (n: number) => byteSwap(n);\n\n/** @deprecated */\nexport const byteSwapIfBE: typeof swap8IfBE = swap8IfBE;\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr: Uint32Array): Uint32Array {\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = byteSwap(arr[i]);\n  }\n  return arr;\n}\n\nexport const swap32IfBE: (u: Uint32Array) => Uint32Array = isLE\n  ? (u: Uint32Array) => u\n  : byteSwap32;\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin: boolean = /* @__PURE__ */ (() =>\n  // @ts-ignore\n  typeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // @ts-ignore\n  if (hasHexBuiltin) return bytes.toHex();\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 } as const;\nfunction asciiToBase16(ch: number): number | undefined {\n  if (ch >= asciis._0 && ch <= asciis._9) return ch - asciis._0; // '2' => 50-48\n  if (ch >= asciis.A && ch <= asciis.F) return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n  if (ch >= asciis.a && ch <= asciis.f) return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n  return;\n}\n\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // @ts-ignore\n  if (hasHexBuiltin) return Uint8Array.fromHex(hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n  }\n  return array;\n}\n\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nexport const nextTick = async (): Promise<void> => {};\n\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nexport async function asyncLoop(\n  iters: number,\n  tick: number,\n  cb: (i: number) => void\n): Promise<void> {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols, but ts doesn't see them: https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error('string expected');\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\n/** Accepted input of hash functions. Strings are converted to byte arrays. */\nexport type Input = string | Uint8Array;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  abytes(data);\n  return data;\n}\n\n/** KDFs can accept string or Uint8Array for user convenience. */\nexport type KDFInput = string | Uint8Array;\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nexport function kdfInputToBytes(data: KDFInput): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  abytes(data);\n  return data;\n}\n\n/** Copies several Uint8Arrays into one. */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n    throw new Error('options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n/** Hash interface. */\nexport type IHash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\n\n/** For runtime check if class implements interface */\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  abstract clone(): T;\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n/** Hash function */\nexport type CHash = ReturnType<typeof createHasher>;\n/** Hash function with output */\nexport type CHashO = ReturnType<typeof createOptHasher>;\n/** XOF with output */\nexport type CHashXO = ReturnType<typeof createXOFer>;\n\n/** Wraps hash function, creating an interface on top of it */\nexport function createHasher<T extends Hash<T>>(\n  hashCons: () => Hash<T>\n): {\n  (msg: Input): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(): Hash<T>;\n} {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function createOptHasher<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n): {\n  (msg: Input, opts?: T): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(opts?: T): Hash<H>;\n} {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts?: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function createXOFer<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n): {\n  (msg: Input, opts?: T): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(opts?: T): HashXOF<H>;\n} {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts?: T) => hashCons(opts);\n  return hashC;\n}\nexport const wrapConstructor: typeof createHasher = createHasher;\nexport const wrapConstructorWithOpts: typeof createOptHasher = createOptHasher;\nexport const wrapXOFConstructorWithOpts: typeof createXOFer = createXOFer;\n\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  // Legacy Node.js compatibility\n  if (crypto && typeof crypto.randomBytes === 'function') {\n    return Uint8Array.from(crypto.randomBytes(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\nimport { type Input, Hash, abytes, aexists, aoutput, clean, createView, toBytes } from './utils.ts';\n\n/** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n/** Choice: a ? b : c */\nexport function Chi(a: number, b: number, c: number): number {\n  return (a & b) ^ (~a & c);\n}\n\n/** Majority function, true if any two inputs is true. */\nexport function Maj(a: number, b: number, c: number): number {\n  return (a & b) ^ (a & c) ^ (b & c);\n}\n\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport abstract class HashMD<T extends HashMD<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n\n  readonly blockLen: number;\n  readonly outputLen: number;\n  readonly padOffset: number;\n  readonly isLE: boolean;\n\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(blockLen: number, outputLen: number, padOffset: number, isLE: boolean) {\n    super();\n    this.blockLen = blockLen;\n    this.outputLen = outputLen;\n    this.padOffset = padOffset;\n    this.isLE = isLE;\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    aexists(this);\n    data = toBytes(data);\n    abytes(data);\n    const { view, buffer, blockLen } = this;\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array): void {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    clean(this.buffer.subarray(pos));\n    // we have less than padOffset left in buffer, so we cannot put length in\n    // current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.destroyed = destroyed;\n    to.finished = finished;\n    to.length = length;\n    to.pos = pos;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nexport const SHA256_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nexport const SHA224_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nexport const SHA384_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n  0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nexport const SHA512_IV: Uint32Array = /* @__PURE__ */ Uint32Array.from([\n  0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n  0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n", "/**\n * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n\nfunction fromBig(\n  n: bigint,\n  le = false\n): {\n  h: number;\n  l: number;\n} {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nfunction split(lst: bigint[], le = false): Uint32Array[] {\n  const len = lst.length;\n  let Ah = new Uint32Array(len);\n  let Al = new Uint32Array(len);\n  for (let i = 0; i < len; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nconst toBig = (h: number, l: number): bigint => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, _l: number, s: number): number => h >>> s;\nconst shrSL = (h: number, l: number, s: number): number => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number): number => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number): number => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number): number => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number): number => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h: number, l: number): number => l;\nconst rotr32L = (h: number, _l: number): number => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number): number => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number): number => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number): number => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number): number => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(\n  Ah: number,\n  Al: number,\n  Bh: number,\n  Bl: number\n): {\n  h: number;\n  l: number;\n} {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number): number => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number): number =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number): number =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number): number =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number): number =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number): number =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nexport {\n  add, add3H, add3L, add4H, add4L, add5H, add5L, fromBig, rotlBH, rotlBL, rotlSH, rotlSL, rotr32H, rotr32L, rotrBH, rotrBL, rotrSH, rotrSL, shrSH, shrSL, split, toBig\n};\n// prettier-ignore\nconst u64: { fromBig: typeof fromBig; split: typeof split; toBig: (h: number, l: number) => bigint; shrSH: (h: number, _l: number, s: number) => number; shrSL: (h: number, l: number, s: number) => number; rotrSH: (h: number, l: number, s: number) => number; rotrSL: (h: number, l: number, s: number) => number; rotrBH: (h: number, l: number, s: number) => number; rotrBL: (h: number, l: number, s: number) => number; rotr32H: (_h: number, l: number) => number; rotr32L: (h: number, _l: number) => number; rotlSH: (h: number, l: number, s: number) => number; rotlSL: (h: number, l: number, s: number) => number; rotlBH: (h: number, l: number, s: number) => number; rotlBL: (h: number, l: number, s: number) => number; add: typeof add; add3L: (Al: number, Bl: number, Cl: number) => number; add3H: (low: number, Ah: number, Bh: number, Ch: number) => number; add4L: (Al: number, Bl: number, Cl: number, Dl: number) => number; add4H: (low: number, Ah: number, Bh: number, Ch: number, Dh: number) => number; add5H: (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) => number; add5L: (Al: number, Bl: number, Cl: number, Dl: number, El: number) => number; } = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n", "/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from './_md.ts';\nimport * as u64 from './_u64.ts';\nimport { type CHash, clean, createHasher, rotr } from './utils.ts';\n\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nexport class SHA256 extends HashMD<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  protected A: number = SHA256_IV[0] | 0;\n  protected B: number = SHA256_IV[1] | 0;\n  protected C: number = SHA256_IV[2] | 0;\n  protected D: number = SHA256_IV[3] | 0;\n  protected E: number = SHA256_IV[4] | 0;\n  protected F: number = SHA256_IV[5] | 0;\n  protected G: number = SHA256_IV[6] | 0;\n  protected H: number = SHA256_IV[7] | 0;\n\n  constructor(outputLen: number = 32) {\n    super(64, outputLen, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ): void {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean(): void {\n    clean(SHA256_W);\n  }\n  destroy(): void {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    clean(this.buffer);\n  }\n}\n\nexport class SHA224 extends SHA256 {\n  protected A: number = SHA224_IV[0] | 0;\n  protected B: number = SHA224_IV[1] | 0;\n  protected C: number = SHA224_IV[2] | 0;\n  protected D: number = SHA224_IV[3] | 0;\n  protected E: number = SHA224_IV[4] | 0;\n  protected F: number = SHA224_IV[5] | 0;\n  protected G: number = SHA224_IV[6] | 0;\n  protected H: number = SHA224_IV[7] | 0;\n  constructor() {\n    super(28);\n  }\n}\n\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n  '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n  '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n  '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n  '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n  '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n  '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n  '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n  '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n  '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n  '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n  '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n  '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n  '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n  '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n  '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n  '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n  '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n  '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n  '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n  '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\n\nexport class SHA512 extends HashMD<SHA512> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  // h -- high 32 bits, l -- low 32 bits\n  protected Ah: number = SHA512_IV[0] | 0;\n  protected Al: number = SHA512_IV[1] | 0;\n  protected Bh: number = SHA512_IV[2] | 0;\n  protected Bl: number = SHA512_IV[3] | 0;\n  protected Ch: number = SHA512_IV[4] | 0;\n  protected Cl: number = SHA512_IV[5] | 0;\n  protected Dh: number = SHA512_IV[6] | 0;\n  protected Dl: number = SHA512_IV[7] | 0;\n  protected Eh: number = SHA512_IV[8] | 0;\n  protected El: number = SHA512_IV[9] | 0;\n  protected Fh: number = SHA512_IV[10] | 0;\n  protected Fl: number = SHA512_IV[11] | 0;\n  protected Gh: number = SHA512_IV[12] | 0;\n  protected Gl: number = SHA512_IV[13] | 0;\n  protected Hh: number = SHA512_IV[14] | 0;\n  protected Hl: number = SHA512_IV[15] | 0;\n\n  constructor(outputLen: number = 64) {\n    super(128, outputLen, 16, false);\n  }\n  // prettier-ignore\n  protected get(): [\n    number, number, number, number, number, number, number, number,\n    number, number, number, number, number, number, number, number\n  ] {\n    const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n  }\n  // prettier-ignore\n  protected set(\n    Ah: number, Al: number, Bh: number, Bl: number, Ch: number, Cl: number, Dh: number, Dl: number,\n    Eh: number, El: number, Fh: number, Fl: number, Gh: number, Gl: number, Hh: number, Hl: number\n  ): void {\n    this.Ah = Ah | 0;\n    this.Al = Al | 0;\n    this.Bh = Bh | 0;\n    this.Bl = Bl | 0;\n    this.Ch = Ch | 0;\n    this.Cl = Cl | 0;\n    this.Dh = Dh | 0;\n    this.Dl = Dl | 0;\n    this.Eh = Eh | 0;\n    this.El = El | 0;\n    this.Fh = Fh | 0;\n    this.Fl = Fl | 0;\n    this.Gh = Gh | 0;\n    this.Gl = Gl | 0;\n    this.Hh = Hh | 0;\n    this.Hl = Hl | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) {\n      SHA512_W_H[i] = view.getUint32(offset);\n      SHA512_W_L[i] = view.getUint32((offset += 4));\n    }\n    for (let i = 16; i < 80; i++) {\n      // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n      const W15h = SHA512_W_H[i - 15] | 0;\n      const W15l = SHA512_W_L[i - 15] | 0;\n      const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n      const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n      // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n      const W2h = SHA512_W_H[i - 2] | 0;\n      const W2l = SHA512_W_L[i - 2] | 0;\n      const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n      const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n      // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n      const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n      const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n      SHA512_W_H[i] = SUMh | 0;\n      SHA512_W_L[i] = SUMl | 0;\n    }\n    let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    // Compression function main loop, 80 rounds\n    for (let i = 0; i < 80; i++) {\n      // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n      const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n      const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n      //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n      const CHIl = (El & Fl) ^ (~El & Gl);\n      // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n      // prettier-ignore\n      const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n      const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n      const T1l = T1ll | 0;\n      // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n      const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n      const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n      const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n      const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n      Hh = Gh | 0;\n      Hl = Gl | 0;\n      Gh = Fh | 0;\n      Gl = Fl | 0;\n      Fh = Eh | 0;\n      Fl = El | 0;\n      ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n      Dh = Ch | 0;\n      Dl = Cl | 0;\n      Ch = Bh | 0;\n      Cl = Bl | 0;\n      Bh = Ah | 0;\n      Bl = Al | 0;\n      const All = u64.add3L(T1l, sigma0l, MAJl);\n      Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n      Al = All | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n    ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n    ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n    ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n    ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n    ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n    ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n    ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n    this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n  }\n  protected roundClean(): void {\n    clean(SHA512_W_H, SHA512_W_L);\n  }\n  destroy(): void {\n    clean(this.buffer);\n    this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n  }\n}\n\nexport class SHA384 extends SHA512 {\n  protected Ah: number = SHA384_IV[0] | 0;\n  protected Al: number = SHA384_IV[1] | 0;\n  protected Bh: number = SHA384_IV[2] | 0;\n  protected Bl: number = SHA384_IV[3] | 0;\n  protected Ch: number = SHA384_IV[4] | 0;\n  protected Cl: number = SHA384_IV[5] | 0;\n  protected Dh: number = SHA384_IV[6] | 0;\n  protected Dl: number = SHA384_IV[7] | 0;\n  protected Eh: number = SHA384_IV[8] | 0;\n  protected El: number = SHA384_IV[9] | 0;\n  protected Fh: number = SHA384_IV[10] | 0;\n  protected Fl: number = SHA384_IV[11] | 0;\n  protected Gh: number = SHA384_IV[12] | 0;\n  protected Gl: number = SHA384_IV[13] | 0;\n  protected Hh: number = SHA384_IV[14] | 0;\n  protected Hl: number = SHA384_IV[15] | 0;\n\n  constructor() {\n    super(48);\n  }\n}\n\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n  0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n  0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n  0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n  0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\n\nexport class SHA512_224 extends SHA512 {\n  protected Ah: number = T224_IV[0] | 0;\n  protected Al: number = T224_IV[1] | 0;\n  protected Bh: number = T224_IV[2] | 0;\n  protected Bl: number = T224_IV[3] | 0;\n  protected Ch: number = T224_IV[4] | 0;\n  protected Cl: number = T224_IV[5] | 0;\n  protected Dh: number = T224_IV[6] | 0;\n  protected Dl: number = T224_IV[7] | 0;\n  protected Eh: number = T224_IV[8] | 0;\n  protected El: number = T224_IV[9] | 0;\n  protected Fh: number = T224_IV[10] | 0;\n  protected Fl: number = T224_IV[11] | 0;\n  protected Gh: number = T224_IV[12] | 0;\n  protected Gl: number = T224_IV[13] | 0;\n  protected Hh: number = T224_IV[14] | 0;\n  protected Hl: number = T224_IV[15] | 0;\n\n  constructor() {\n    super(28);\n  }\n}\n\nexport class SHA512_256 extends SHA512 {\n  protected Ah: number = T256_IV[0] | 0;\n  protected Al: number = T256_IV[1] | 0;\n  protected Bh: number = T256_IV[2] | 0;\n  protected Bl: number = T256_IV[3] | 0;\n  protected Ch: number = T256_IV[4] | 0;\n  protected Cl: number = T256_IV[5] | 0;\n  protected Dh: number = T256_IV[6] | 0;\n  protected Dl: number = T256_IV[7] | 0;\n  protected Eh: number = T256_IV[8] | 0;\n  protected El: number = T256_IV[9] | 0;\n  protected Fh: number = T256_IV[10] | 0;\n  protected Fl: number = T256_IV[11] | 0;\n  protected Gh: number = T256_IV[12] | 0;\n  protected Gl: number = T256_IV[13] | 0;\n  protected Hh: number = T256_IV[14] | 0;\n  protected Hl: number = T256_IV[15] | 0;\n\n  constructor() {\n    super(32);\n  }\n}\n\n/**\n * SHA2-256 hash function from RFC 4634.\n *\n * It is the fastest JS hash, even faster than Blake3.\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n */\nexport const sha256: CHash = /* @__PURE__ */ createHasher(() => new SHA256());\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224: CHash = /* @__PURE__ */ createHasher(() => new SHA224());\n\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512: CHash = /* @__PURE__ */ createHasher(() => new SHA512());\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384: CHash = /* @__PURE__ */ createHasher(() => new SHA384());\n\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256: CHash = /* @__PURE__ */ createHasher(() => new SHA512_256());\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224: CHash = /* @__PURE__ */ createHasher(() => new SHA512_224());\n", "/**\n * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.\n *\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n *\n * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n * @deprecated\n */\nimport {\n  SHA224 as SHA224n,\n  sha224 as sha224n,\n  SHA256 as SHA256n,\n  sha256 as sha256n,\n} from './sha2.ts';\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA256: typeof SHA256n = SHA256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha256: typeof sha256n = sha256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA224: typeof SHA224n = SHA224n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha224: typeof sha224n = sha224n;\n", "export function within_size (\n  data : number[] | Uint8Array,\n  size : number\n) : void {\n  if (data.length > size) {\n    throw new TypeError(`Data is larger than array size: ${data.length} > ${size}`)\n  }\n}\n\nexport function is_hex (hex : string) : void {\n  if (hex.match(/[^a-fA-f0-9]/) !== null) {\n    throw new TypeError('Invalid characters in hex string: ' + hex)\n  }\n  if (hex.length % 2 !== 0) {\n    throw new Error(`Length of hex string is invalid: ${hex.length}`)\n  }\n}\n\nexport function is_json (str : string) : void {\n  try {\n    JSON.parse(str)\n  } catch {\n    throw new TypeError('JSON string is invalid!')\n  }\n}\n\nexport function is_safe_num (num : number) : void {\n  if (num > Number.MAX_SAFE_INTEGER) {\n    throw new TypeError('Number exceeds safe bounds!')\n  }\n}\n\nexport function is_prefix (\n  actual : string,\n  target : string\n) : void {\n  if (actual !== target) {\n    throw new TypeError(`Bech32 prefix does not match: ${actual} !== ${target}`)\n  }\n}\n", "import { is_hex } from '../assert.js'\nimport { Endian } from '../types.js'\n\nconst ec  = new TextEncoder()\nconst dc  = new TextDecoder()\n\nexport function strToBytes (str : string) : Uint8Array {\n  return ec.encode(str)\n}\n\nexport function bytesToStr (bytes : Uint8Array) : string {\n  return dc.decode(bytes)\n}\n\nfunction hex_size (\n  hexstr  : string,\n  size   ?: number\n) : number {\n  is_hex(hexstr)\n  const len = hexstr.length / 2\n  if (size === undefined) size = len\n  if (len > size) {\n     throw new TypeError(`Hex string is larger than array size: ${len} > ${size}`)\n  }\n  return size\n}\n\nexport function hexToBytes (\n  hexstr : string,\n  size  ?: number,\n  endian : Endian = 'le'\n) : Uint8Array {\n  size = hex_size(hexstr, size)\n  const use_le   = (endian === 'le')\n  const buffer   = new ArrayBuffer(size)\n  const dataView = new DataView(buffer)\n    let offset   = (use_le) ? 0 : size - 1\n  for (let i = 0; i < hexstr.length; i += 2) {\n    const char = hexstr.substring(i, i + 2)\n    const num  = parseInt(char, 16)\n    if (use_le) {\n      dataView.setUint8(offset++, num)\n    } else {\n      dataView.setUint8(offset--, num)\n    }\n  }\n  return new Uint8Array(buffer)\n}\n\nexport function bytesToHex (bytes : Uint8Array) : string {\n  let chars = ''\n  for (let i = 0; i < bytes.length; i++) {\n    chars += bytes[i].toString(16).padStart(2, '0')\n  }\n  return chars\n}\n\n", "/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\nexport interface Coder<F, T> {\n  encode(from: F): T;\n  decode(to: T): F;\n}\n\nexport interface BytesCoder extends Coder<Uint8Array, string> {\n  encode: (data: Uint8Array) => string;\n  decode: (str: string) => Uint8Array;\n}\n\nfunction isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is Uint8Array. */\nfunction abytes(b: Uint8Array | undefined, ...lengths: number[]): void {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n\nfunction isArrayOf(isString: boolean, arr: any[]) {\n  if (!Array.isArray(arr)) return false;\n  if (arr.length === 0) return true;\n  if (isString) {\n    return arr.every((item) => typeof item === 'string');\n  } else {\n    return arr.every((item) => Number.isSafeInteger(item));\n  }\n}\n\n// no abytes: seems to have 10% slowdown. Why?!\n\nfunction afn(input: Function): input is Function {\n  if (typeof input !== 'function') throw new Error('function expected');\n  return true;\n}\n\nfunction astr(label: string, input: unknown): input is string {\n  if (typeof input !== 'string') throw new Error(`${label}: string expected`);\n  return true;\n}\n\nfunction anumber(n: number): void {\n  if (!Number.isSafeInteger(n)) throw new Error(`invalid integer: ${n}`);\n}\n\nfunction aArr(input: any[]) {\n  if (!Array.isArray(input)) throw new Error('array expected');\n}\nfunction astrArr(label: string, input: string[]) {\n  if (!isArrayOf(true, input)) throw new Error(`${label}: array of strings expected`);\n}\nfunction anumArr(label: string, input: number[]) {\n  if (!isArrayOf(false, input)) throw new Error(`${label}: array of numbers expected`);\n}\n\n// TODO: some recusive type inference so it would check correct order of input/output inside rest?\n// like <string, number>, <number, bytes>, <bytes, float>\ntype Chain = [Coder<any, any>, ...Coder<any, any>[]];\n// Extract info from Coder type\ntype Input<F> = F extends Coder<infer T, any> ? T : never;\ntype Output<F> = F extends Coder<any, infer T> ? T : never;\n// Generic function for arrays\ntype First<T> = T extends [infer U, ...any[]] ? U : never;\ntype Last<T> = T extends [...any[], infer U] ? U : never;\ntype Tail<T> = T extends [any, ...infer U] ? U : never;\n\ntype AsChain<C extends Chain, Rest = Tail<C>> = {\n  // C[K] = Coder<Input<C[K]>, Input<Rest[k]>>\n  [K in keyof C]: Coder<Input<C[K]>, Input<K extends keyof Rest ? Rest[K] : any>>;\n};\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain<T extends Chain & AsChain<T>>(...args: T): Coder<Input<First<T>>, Output<Last<T>>> {\n  const id = (a: any) => a;\n  // Wrap call in closure so JIT can inline calls\n  const wrap = (a: any, b: any) => (c: any) => a(b(c));\n  // Construct chain of args[-1].encode(args[-2].encode([...]))\n  const encode = args.map((x) => x.encode).reduceRight(wrap, id);\n  // Construct chain of args[0].decode(args[1].decode(...))\n  const decode = args.map((x) => x.decode).reduce(wrap, id);\n  return { encode, decode };\n}\n\n/**\n * Encodes integer radix representation to array of strings using alphabet and back.\n * Could also be array of strings.\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(letters: string | string[]): Coder<number[], string[]> {\n  // mapping 1 to \"b\"\n  const lettersA = typeof letters === 'string' ? letters.split('') : letters;\n  const len = lettersA.length;\n  astrArr('alphabet', lettersA);\n\n  // mapping \"b\" to 1\n  const indexes = new Map(lettersA.map((l, i) => [l, i]));\n  return {\n    encode: (digits: number[]) => {\n      aArr(digits);\n      return digits.map((i) => {\n        if (!Number.isSafeInteger(i) || i < 0 || i >= len)\n          throw new Error(\n            `alphabet.encode: digit index outside alphabet \"${i}\". Allowed: ${letters}`\n          );\n        return lettersA[i]!;\n      });\n    },\n    decode: (input: string[]): number[] => {\n      aArr(input);\n      return input.map((letter) => {\n        astr('alphabet.decode', letter);\n        const i = indexes.get(letter);\n        if (i === undefined) throw new Error(`Unknown letter: \"${letter}\". Allowed: ${letters}`);\n        return i;\n      });\n    },\n  };\n}\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join(separator = ''): Coder<string[], string> {\n  astr('join', separator);\n  return {\n    encode: (from) => {\n      astrArr('join.decode', from);\n      return from.join(separator);\n    },\n    decode: (to) => {\n      astr('join.decode', to);\n      return to.split(separator);\n    },\n  };\n}\n\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits: number, chr = '='): Coder<string[], string[]> {\n  anumber(bits);\n  astr('padding', chr);\n  return {\n    encode(data: string[]): string[] {\n      astrArr('padding.encode', data);\n      while ((data.length * bits) % 8) data.push(chr);\n      return data;\n    },\n    decode(input: string[]): string[] {\n      astrArr('padding.decode', input);\n      let end = input.length;\n      if ((end * bits) % 8)\n        throw new Error('padding: invalid, string should have whole number of bytes');\n      for (; end > 0 && input[end - 1] === chr; end--) {\n        const last = end - 1;\n        const byte = last * bits;\n        if (byte % 8 === 0) throw new Error('padding: invalid, string has too much padding');\n      }\n      return input.slice(0, end);\n    },\n  };\n}\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize<T>(fn: (val: T) => T): Coder<T, T> {\n  afn(fn);\n  return { encode: (from: T) => from, decode: (to: T) => fn(to) };\n}\n\n/**\n * Slow: O(n^2) time complexity\n */\nfunction convertRadix(data: number[], from: number, to: number): number[] {\n  // base 1 is impossible\n  if (from < 2) throw new Error(`convertRadix: invalid from=${from}, base cannot be less than 2`);\n  if (to < 2) throw new Error(`convertRadix: invalid to=${to}, base cannot be less than 2`);\n  aArr(data);\n  if (!data.length) return [];\n  let pos = 0;\n  const res = [];\n  const digits = Array.from(data, (d) => {\n    anumber(d);\n    if (d < 0 || d >= from) throw new Error(`invalid integer: ${d}`);\n    return d;\n  });\n  const dlen = digits.length;\n  while (true) {\n    let carry = 0;\n    let done = true;\n    for (let i = pos; i < dlen; i++) {\n      const digit = digits[i]!;\n      const fromCarry = from * carry;\n      const digitBase = fromCarry + digit;\n      if (\n        !Number.isSafeInteger(digitBase) ||\n        fromCarry / from !== carry ||\n        digitBase - digit !== fromCarry\n      ) {\n        throw new Error('convertRadix: carry overflow');\n      }\n      const div = digitBase / to;\n      carry = digitBase % to;\n      const rounded = Math.floor(div);\n      digits[i] = rounded;\n      if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase)\n        throw new Error('convertRadix: carry overflow');\n      if (!done) continue;\n      else if (!rounded) pos = i;\n      else done = false;\n    }\n    res.push(carry);\n    if (done) break;\n  }\n  for (let i = 0; i < data.length - 1 && data[i] === 0; i++) res.push(0);\n  return res.reverse();\n}\n\nconst gcd = (a: number, b: number): number => (b === 0 ? a : gcd(b, a % b));\nconst radix2carry = /* @__NO_SIDE_EFFECTS__ */ (from: number, to: number) =>\n  from + (to - gcd(from, to));\nconst powers: number[] = /* @__PURE__ */ (() => {\n  let res = [];\n  for (let i = 0; i < 40; i++) res.push(2 ** i);\n  return res;\n})();\n/**\n * Implemented with numbers, because BigInt is 5x slower\n */\nfunction convertRadix2(data: number[], from: number, to: number, padding: boolean): number[] {\n  aArr(data);\n  if (from <= 0 || from > 32) throw new Error(`convertRadix2: wrong from=${from}`);\n  if (to <= 0 || to > 32) throw new Error(`convertRadix2: wrong to=${to}`);\n  if (radix2carry(from, to) > 32) {\n    throw new Error(\n      `convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`\n    );\n  }\n  let carry = 0;\n  let pos = 0; // bitwise position in current element\n  const max = powers[from]!;\n  const mask = powers[to]! - 1;\n  const res: number[] = [];\n  for (const n of data) {\n    anumber(n);\n    if (n >= max) throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n    carry = (carry << from) | n;\n    if (pos + from > 32) throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n    pos += from;\n    for (; pos >= to; pos -= to) res.push(((carry >> (pos - to)) & mask) >>> 0);\n    const pow = powers[pos];\n    if (pow === undefined) throw new Error('invalid carry');\n    carry &= pow - 1; // clean carry, otherwise it will cause overflow\n  }\n  carry = (carry << (to - pos)) & mask;\n  if (!padding && pos >= from) throw new Error('Excess padding');\n  if (!padding && carry > 0) throw new Error(`Non-zero padding: ${carry}`);\n  if (padding && pos > 0) res.push(carry >>> 0);\n  return res;\n}\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num: number): Coder<Uint8Array, number[]> {\n  anumber(num);\n  const _256 = 2 ** 8;\n  return {\n    encode: (bytes: Uint8Array) => {\n      if (!isBytes(bytes)) throw new Error('radix.encode input should be Uint8Array');\n      return convertRadix(Array.from(bytes), _256, num);\n    },\n    decode: (digits: number[]) => {\n      anumArr('radix.decode', digits);\n      return Uint8Array.from(convertRadix(digits, num, _256));\n    },\n  };\n}\n\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits: number, revPadding = false): Coder<Uint8Array, number[]> {\n  anumber(bits);\n  if (bits <= 0 || bits > 32) throw new Error('radix2: bits should be in (0..32]');\n  if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n    throw new Error('radix2: carry overflow');\n  return {\n    encode: (bytes: Uint8Array) => {\n      if (!isBytes(bytes)) throw new Error('radix2.encode input should be Uint8Array');\n      return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n    },\n    decode: (digits: number[]) => {\n      anumArr('radix2.decode', digits);\n      return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n    },\n  };\n}\n\ntype ArgumentTypes<F extends Function> = F extends (...args: infer A) => any ? A : never;\nfunction unsafeWrapper<T extends (...args: any) => any>(fn: T) {\n  afn(fn);\n  return function (...args: ArgumentTypes<T>): ReturnType<T> | void {\n    try {\n      return fn.apply(null, args);\n    } catch (e) {}\n  };\n}\n\nfunction checksum(\n  len: number,\n  fn: (data: Uint8Array) => Uint8Array\n): Coder<Uint8Array, Uint8Array> {\n  anumber(len);\n  afn(fn);\n  return {\n    encode(data: Uint8Array) {\n      if (!isBytes(data)) throw new Error('checksum.encode: input should be Uint8Array');\n      const sum = fn(data).slice(0, len);\n      const res = new Uint8Array(data.length + len);\n      res.set(data);\n      res.set(sum, data.length);\n      return res;\n    },\n    decode(data: Uint8Array) {\n      if (!isBytes(data)) throw new Error('checksum.decode: input should be Uint8Array');\n      const payload = data.slice(0, -len);\n      const oldChecksum = data.slice(-len);\n      const newChecksum = fn(payload).slice(0, len);\n      for (let i = 0; i < len; i++)\n        if (newChecksum[i] !== oldChecksum[i]) throw new Error('Invalid checksum');\n      return payload;\n    },\n  };\n}\n\n// prettier-ignore\nexport const utils: { alphabet: typeof alphabet; chain: typeof chain; checksum: typeof checksum; convertRadix: typeof convertRadix; convertRadix2: typeof convertRadix2; radix: typeof radix; radix2: typeof radix2; join: typeof join; padding: typeof padding; } = {\n  alphabet, chain, checksum, convertRadix, convertRadix2, radix, radix2, join, padding,\n};\n\n// RFC 4648 aka RFC 3548\n// ---------------------\n\n/**\n * base16 encoding from RFC 4648.\n * @example\n * ```js\n * base16.encode(Uint8Array.from([0x12, 0xab]));\n * // => '12AB'\n * ```\n */\nexport const base16: BytesCoder = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\n\n/**\n * base32 encoding from RFC 4648. Has padding.\n * Use `base32nopad` for unpadded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ===='\n * base32.decode('CKVQ====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32: BytesCoder = chain(\n  radix2(5),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'),\n  padding(5),\n  join('')\n);\n\n/**\n * base32 encoding from RFC 4648. No padding.\n * Use `base32` for padded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ'\n * base32nopad.decode('CKVQ');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32nopad: BytesCoder = chain(\n  radix2(5),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'),\n  join('')\n);\n/**\n * base32 encoding from RFC 4648. Padded. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hexnopad` for unpadded version.\n * @example\n * ```js\n * base32hex.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG===='\n * base32hex.decode('2ALG====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hex: BytesCoder = chain(\n  radix2(5),\n  alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'),\n  padding(5),\n  join('')\n);\n\n/**\n * base32 encoding from RFC 4648. No padding. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hex` for padded version.\n * @example\n * ```js\n * base32hexnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG'\n * base32hexnopad.decode('2ALG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hexnopad: BytesCoder = chain(\n  radix2(5),\n  alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'),\n  join('')\n);\n/**\n * base32 encoding from RFC 4648. Doug Crockford's version.\n * https://www.crockford.com/base32.html\n * @example\n * ```js\n * base32crockford.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ANG'\n * base32crockford.decode('2ANG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32crockford: BytesCoder = chain(\n  radix2(5),\n  alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'),\n  join(''),\n  normalize((s: string) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1'))\n);\n\n// Built-in base64 conversion https://caniuse.com/mdn-javascript_builtins_uint8array_frombase64\n// TODO: temporarily set to false, trying to understand bugs\n// prettier-ignore\nconst hasBase64Builtin: boolean = /* @__PURE__ */ (() =>\n  typeof (Uint8Array as any).from([]).toBase64 === 'function' &&\n  typeof (Uint8Array as any).fromBase64 === 'function')();\n\n/**\n * base64 from RFC 4648. Padded.\n * Use `base64nopad` for unpadded version.\n * Also check out `base64url`, `base64urlnopad`.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64: BytesCoder = hasBase64Builtin ? {\n  encode(b) { abytes(b); return (b as any).toBase64(); },\n  decode(s) {\n    astr('base64', s); return (Uint8Array as any).fromBase64(s, { lastChunkHandling: 'strict' });\n  },\n} : chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'),\n  padding(6),\n  join('')\n);\n/**\n * base64 from RFC 4648. No padding.\n * Use `base64` for padded version.\n * @example\n * ```js\n * base64nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64nopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64nopad: BytesCoder = chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'),\n  join('')\n);\n\n/**\n * base64 from RFC 4648, using URL-safe alphabet. Padded.\n * Use `base64urlnopad` for unpadded version.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64url.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64url.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64url: BytesCoder = hasBase64Builtin ? {\n  encode(b) { abytes(b); return (b as any).toBase64({ alphabet: 'base64url' }); },\n  decode(s) { astr('base64', s); return (Uint8Array as any).fromBase64(s, { alphabet: 'base64url' }); },\n} : chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'),\n  padding(6),\n  join('')\n);\n\n/**\n * base64 from RFC 4648, using URL-safe alphabet. No padding.\n * Use `base64url` for padded version.\n * @example\n * ```js\n * base64urlnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64urlnopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64urlnopad: BytesCoder = chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'),\n  join('')\n);\n\n// base58 code\n// -----------\nconst genBase58 = /* @__NO_SIDE_EFFECTS__ */ (abc: string) =>\n  chain(radix(58), alphabet(abc), join(''));\n\n/**\n * base58: base64 without ambigous characters +, /, 0, O, I, l.\n * Quadratic (O(n^2)) - so, can't be used on large inputs.\n * @example\n * ```js\n * base58.decode('01abcdef');\n * // => '3UhJW'\n * ```\n */\nexport const base58: BytesCoder = genBase58(\n  '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n);\n/**\n * base58: flickr version. Check out `base58`.\n */\nexport const base58flickr: BytesCoder = genBase58(\n  '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n);\n/**\n * base58: XRP version. Check out `base58`.\n */\nexport const base58xrp: BytesCoder = genBase58(\n  'rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz'\n);\n\n// Data len (index) -> encoded block len\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\n\n/**\n * base58: XMR version. Check out `base58`.\n * Done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n * Block encoding significantly reduces quadratic complexity of base58.\n */\nexport const base58xmr: BytesCoder = {\n  encode(data: Uint8Array) {\n    let res = '';\n    for (let i = 0; i < data.length; i += 8) {\n      const block = data.subarray(i, i + 8);\n      res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length]!, '1');\n    }\n    return res;\n  },\n  decode(str: string) {\n    let res: number[] = [];\n    for (let i = 0; i < str.length; i += 11) {\n      const slice = str.slice(i, i + 11);\n      const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n      const block = base58.decode(slice);\n      for (let j = 0; j < block.length - blockLen; j++) {\n        if (block[j] !== 0) throw new Error('base58xmr: wrong padding');\n      }\n      res = res.concat(Array.from(block.slice(block.length - blockLen)));\n    }\n    return Uint8Array.from(res);\n  },\n};\n\n/**\n * Method, which creates base58check encoder.\n * Requires function, calculating sha256.\n */\nexport const createBase58check = (sha256: (data: Uint8Array) => Uint8Array): BytesCoder =>\n  chain(\n    checksum(4, (data) => sha256(sha256(data))),\n    base58\n  );\n\n/**\n * Use `createBase58check` instead.\n * @deprecated\n */\nexport const base58check: (sha256: (data: Uint8Array) => Uint8Array) => BytesCoder =\n  createBase58check;\n\n// Bech32 code\n// -----------\nexport interface Bech32Decoded<Prefix extends string = string> {\n  prefix: Prefix;\n  words: number[];\n}\nexport interface Bech32DecodedWithArray<Prefix extends string = string> {\n  prefix: Prefix;\n  words: number[];\n  bytes: Uint8Array;\n}\n\nconst BECH_ALPHABET: Coder<number[], string> = chain(\n  alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'),\n  join('')\n);\n\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre: number): number {\n  const b = pre >> 25;\n  let chk = (pre & 0x1ffffff) << 5;\n  for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n    if (((b >> i) & 1) === 1) chk ^= POLYMOD_GENERATORS[i]!;\n  }\n  return chk;\n}\n\nfunction bechChecksum(prefix: string, words: number[], encodingConst = 1): string {\n  const len = prefix.length;\n  let chk = 1;\n  for (let i = 0; i < len; i++) {\n    const c = prefix.charCodeAt(i);\n    if (c < 33 || c > 126) throw new Error(`Invalid prefix (${prefix})`);\n    chk = bech32Polymod(chk) ^ (c >> 5);\n  }\n  chk = bech32Polymod(chk);\n  for (let i = 0; i < len; i++) chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n  for (let v of words) chk = bech32Polymod(chk) ^ v;\n  for (let i = 0; i < 6; i++) chk = bech32Polymod(chk);\n  chk ^= encodingConst;\n  return BECH_ALPHABET.encode(convertRadix2([chk % powers[30]!], 30, 5, false));\n}\n\nexport interface Bech32 {\n  encode<Prefix extends string>(\n    prefix: Prefix,\n    words: number[] | Uint8Array,\n    limit?: number | false\n  ): `${Lowercase<Prefix>}1${string}`;\n  decode<Prefix extends string>(\n    str: `${Prefix}1${string}`,\n    limit?: number | false\n  ): Bech32Decoded<Prefix>;\n  encodeFromBytes(prefix: string, bytes: Uint8Array): string;\n  decodeToBytes(str: string): Bech32DecodedWithArray;\n  decodeUnsafe(str: string, limit?: number | false): void | Bech32Decoded<string>;\n  fromWords(to: number[]): Uint8Array;\n  fromWordsUnsafe(to: number[]): void | Uint8Array;\n  toWords(from: Uint8Array): number[];\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding: 'bech32' | 'bech32m'): Bech32 {\n  const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n  const _words = radix2(5);\n  const fromWords = _words.decode;\n  const toWords = _words.encode;\n  const fromWordsUnsafe = unsafeWrapper(fromWords);\n\n  function encode<Prefix extends string>(\n    prefix: Prefix,\n    words: number[] | Uint8Array,\n    limit: number | false = 90\n  ): `${Lowercase<Prefix>}1${string}` {\n    astr('bech32.encode prefix', prefix);\n    if (isBytes(words)) words = Array.from(words);\n    anumArr('bech32.encode', words);\n    const plen = prefix.length;\n    if (plen === 0) throw new TypeError(`Invalid prefix length ${plen}`);\n    const actualLength = plen + 7 + words.length;\n    if (limit !== false && actualLength > limit)\n      throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n    const lowered = prefix.toLowerCase();\n    const sum = bechChecksum(lowered, words, ENCODING_CONST);\n    return `${lowered}1${BECH_ALPHABET.encode(words)}${sum}` as `${Lowercase<Prefix>}1${string}`;\n  }\n\n  function decode<Prefix extends string>(\n    str: `${Prefix}1${string}`,\n    limit?: number | false\n  ): Bech32Decoded<Prefix>;\n  function decode(str: string, limit?: number | false): Bech32Decoded;\n  function decode(str: string, limit: number | false = 90): Bech32Decoded {\n    astr('bech32.decode input', str);\n    const slen = str.length;\n    if (slen < 8 || (limit !== false && slen > limit))\n      throw new TypeError(`invalid string length: ${slen} (${str}). Expected (8..${limit})`);\n    // don't allow mixed case\n    const lowered = str.toLowerCase();\n    if (str !== lowered && str !== str.toUpperCase())\n      throw new Error(`String must be lowercase or uppercase`);\n    const sepIndex = lowered.lastIndexOf('1');\n    if (sepIndex === 0 || sepIndex === -1)\n      throw new Error(`Letter \"1\" must be present between prefix and data only`);\n    const prefix = lowered.slice(0, sepIndex);\n    const data = lowered.slice(sepIndex + 1);\n    if (data.length < 6) throw new Error('Data must be at least 6 characters long');\n    const words = BECH_ALPHABET.decode(data).slice(0, -6);\n    const sum = bechChecksum(prefix, words, ENCODING_CONST);\n    if (!data.endsWith(sum)) throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n    return { prefix, words };\n  }\n\n  const decodeUnsafe = unsafeWrapper(decode);\n\n  function decodeToBytes(str: string): Bech32DecodedWithArray {\n    const { prefix, words } = decode(str, false);\n    return { prefix, words, bytes: fromWords(words) };\n  }\n\n  function encodeFromBytes(prefix: string, bytes: Uint8Array) {\n    return encode(prefix, toWords(bytes));\n  }\n\n  return {\n    encode,\n    decode,\n    encodeFromBytes,\n    decodeToBytes,\n    decodeUnsafe,\n    fromWords,\n    fromWordsUnsafe,\n    toWords,\n  };\n}\n\n/**\n * bech32 from BIP 173. Operates on words.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32: Bech32 = genBech32('bech32');\n\n/**\n * bech32m from BIP 350. Operates on words.\n * It was to mitigate `bech32` weaknesses.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32m: Bech32 = genBech32('bech32m');\n\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * UTF-8-to-byte decoder. Uses built-in TextDecoder / TextEncoder.\n * @example\n * ```js\n * const b = utf8.decode(\"hey\"); // => new Uint8Array([ 104, 101, 121 ])\n * const str = utf8.encode(b); // \"hey\"\n * ```\n */\nexport const utf8: BytesCoder = {\n  encode: (data) => new TextDecoder().decode(data),\n  decode: (str) => new TextEncoder().encode(str),\n};\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\n// prettier-ignore\nconst hasHexBuiltin: boolean = /* @__PURE__ */ (() =>\n  typeof (Uint8Array as any).from([]).toHex === 'function' &&\n  typeof (Uint8Array as any).fromHex === 'function')();\n// prettier-ignore\nconst hexBuiltin: BytesCoder = {\n  encode(data) { abytes(data); return (data as any).toHex(); },\n  decode(s) { astr('hex', s); return (Uint8Array as any).fromHex(s); },\n};\n/**\n * hex string decoder. Uses built-in function, when available.\n * @example\n * ```js\n * const b = hex.decode(\"0102ff\"); // => new Uint8Array([ 1, 2, 255 ])\n * const str = hex.encode(b); // \"0102ff\"\n * ```\n */\nexport const hex: BytesCoder = hasHexBuiltin\n  ? hexBuiltin\n  : chain(\n      radix2(4),\n      alphabet('0123456789abcdef'),\n      join(''),\n      normalize((s: string) => {\n        if (typeof s !== 'string' || s.length % 2 !== 0)\n          throw new TypeError(\n            `hex.decode: expected string, got ${typeof s} with length ${s.length}`\n          );\n        return s.toLowerCase();\n      })\n    );\n\nexport type SomeCoders = {\n  utf8: BytesCoder;\n  hex: BytesCoder;\n  base16: BytesCoder;\n  base32: BytesCoder;\n  base64: BytesCoder;\n  base64url: BytesCoder;\n  base58: BytesCoder;\n  base58xmr: BytesCoder;\n};\n// prettier-ignore\nconst CODERS: SomeCoders = {\n  utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\ntype CoderType = keyof SomeCoders;\nconst coderTypeError =\n  'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\n\n/** @deprecated */\nexport const bytesToString = (type: CoderType, bytes: Uint8Array): string => {\n  if (typeof type !== 'string' || !CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (!isBytes(bytes)) throw new TypeError('bytesToString() expects Uint8Array');\n  return CODERS[type].encode(bytes);\n};\n\n/** @deprecated */\nexport const str: (type: CoderType, bytes: Uint8Array) => string = bytesToString; // as in python, but for bytes only\n\n/** @deprecated */\nexport const stringToBytes = (type: CoderType, str: string): Uint8Array => {\n  if (!CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (typeof str !== 'string') throw new TypeError('stringToBytes() expects string');\n  return CODERS[type].decode(str);\n};\n/** @deprecated */\nexport const bytes: (type: CoderType, str: string) => Uint8Array = stringToBytes;\n", "import { sha256 } from '@noble/hashes/sha256'\n\nimport {\n  bytesToStr,\n  bytesToHex,\n  hexToBytes,\n  strToBytes\n} from './format/str.js'\n\nimport {\n  base58check,\n  base64,\n  base64urlnopad,\n  bech32,\n  bech32m\n} from '@scure/base'\n\nexport const Hex = {\n  encode : bytesToHex,\n  decode : hexToBytes\n}\n\nexport const Txt = {\n  encode : strToBytes,\n  decode : bytesToStr\n}\n\nexport const B58chk = {\n  encode : (data : Uint8Array) => base58check(sha256).encode(data),\n  decode : (data : string)     => base58check(sha256).decode(data)\n}\n\nexport const Base64 = {\n  encode : (data : Uint8Array) => base64.encode(data),\n  decode : (data : string)     => base64.decode(data)\n}\n\nexport const B64url = {\n  encode : (data : Uint8Array) => base64urlnopad.encode(data),\n  decode : (data : string)     => base64urlnopad.decode(data)\n}\n\nexport const Bech32 = {\n  to_words : bech32.toWords,\n  to_bytes : bech32.fromWords,\n\n  encode: (\n    prefix : string,\n    words  : number[],\n    limit  : number | false = false\n  ) => {\n    return bech32.encode(prefix, words, limit)\n  },\n  decode: (\n    data  : string,\n    limit : number | false = false\n  ) => {\n    const { prefix, words } = bech32.decode(data, limit)\n    return { prefix, words }\n  }\n}\n\nexport const Bech32m = {\n  to_words : bech32m.toWords,\n  to_bytes : bech32m.fromWords,\n\n  encode: (\n    prefix : string,\n    words  : number[],\n    limit  : number | false = false\n  ) => {\n    return bech32m.encode(prefix, words, limit)\n  },\n  decode: (\n    data  : string,\n    limit : number | false = false\n  ) => {\n    const { prefix, words } = bech32m.decode(data, limit)\n    return { prefix, words }\n  }\n}\n", "import { type Endian } from '../types.js'\n\nconst _0n   = BigInt(0)\nconst _255n = BigInt(255)\nconst _256n = BigInt(256)\n\nfunction big_size (\n  big : bigint) : number {\n  // 1 byte.\n  if (big <= 0xFFn) return 1\n  // 2 bytes.\n  if (big <= 0xFFFFn) return 2\n  // 4 bytes.\n  if (big <= 0xFFFFFFFFn) return 4\n  // 8 bytes.\n  if (big <= 0xFFFFFFFFFFFFFFFFn) return 8\n  // 16 bytes.\n  if (big <= 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFn) return 16\n  // 32 bytes.\n  if (big <= 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFn) {\n    return 32\n  }\n  throw new TypeError('Must specify a fixed buffer size for bigints greater than 32 bytes.')\n}\n\nexport function bigToBytes (\n  big    : bigint,\n  size  ?: number,\n  endian : Endian = 'be'\n) : Uint8Array {\n  if (size === undefined) size = big_size(big)\n  const use_le   = (endian === 'le')\n  const buffer   = new ArrayBuffer(size)\n  const dataView = new DataView(buffer)\n    let offset   = (use_le) ? 0 : size - 1\n  while (big > _0n) {\n    const byte = big & _255n\n    const num  = Number(byte)\n    if (use_le) {\n      dataView.setUint8(offset++, num)\n    } else {\n      dataView.setUint8(offset--, num)\n    }\n    big = (big - byte) / _256n\n  }\n  return new Uint8Array(buffer)\n}\n\nexport function bytesToBig (bytes : Uint8Array) : bigint {\n  let num = BigInt(0)\n  for (let i = bytes.length - 1; i >= 0; i--) {\n    num = (num * _256n) + BigInt(bytes[i])\n  }\n  return BigInt(num)\n}\n", "export function binToBytes (binary : string) : Uint8Array {\n  const bins = binary.split('').map(Number)\n\n  if (bins.length % 8 !== 0) {\n    throw new Error(`Binary array is invalid length: ${binary.length}`)\n  }\n\n  const bytes = new Uint8Array(bins.length / 8)\n\n  for (let i = 0, ct = 0; i < bins.length; i += 8, ct++) {\n    let byte = 0\n    for (let j = 0; j < 8; j++) {\n      byte |= (bins[i + j] << (7 - j))\n    }\n    bytes[ct] = byte\n  }\n\n  return bytes\n}\n\nexport function bytesToBin (bytes : Uint8Array) : string {\n  // Create a binary array that is sized to (number of bytes) * 8.\n  const bin = new Array(bytes.length * 8)\n\n  let count = 0\n\n  // Iterate through each number in the byte array.\n  for (const num of bytes) {\n    if (num > 255) {\n      // Throw an error on invalid number ranges.\n      throw new Error(`Invalid byte value: ${num}. Byte values must be between 0 and 255.`)\n    }\n\n    // Convert the current number into bits using bitwise operations.\n    for (let i = 7; i >= 0; i--, count++) {\n      bin[count] = (num >> i) & 1\n    }\n  }\n\n  // Return the complete binary array.\n  return bin.join('')\n}\n", "import { type Endian }      from '../types.js'\nimport { is_safe_num } from '../assert.js'\n\nfunction num_size (\n  num : number) : number {\n  // 1 byte.\n  if (num <= 0xFF) return 1\n  // 2 bytes.\n  if (num <= 0xFFFF) return 2\n  // 4 bytes.\n  if (num <= 0xFFFFFFFF) return 4\n  throw new TypeError('Numbers larger than 4 bytes must specify a fixed size!')\n}\n\nexport function numToBytes (\n  num    : number,\n  size  ?: number,\n  endian : Endian = 'be'\n) : Uint8Array {\n  if (size === undefined) size = num_size(num)\n  const use_le   = (endian === 'le')\n  const buffer   = new ArrayBuffer(size)\n  const dataView = new DataView(buffer)\n    let offset   = (use_le) ? 0 : size - 1\n  while (num > 0) {\n    const byte = num & 255\n    if (use_le) {\n      dataView.setUint8(offset++, num)\n    } else {\n      dataView.setUint8(offset--, num)\n    }\n    num = (num - byte) / 256\n  }\n  return new Uint8Array(buffer)\n}\n\nexport function bytesToNum (bytes : Uint8Array) : number {\n  let num = 0\n  for (let i = bytes.length - 1; i >= 0; i--) {\n    num = (num * 256) + bytes[i]\n    is_safe_num(num)\n  }\n  return num\n}\n", "import { within_size }   from './assert.js'\nimport { Endian, Bytes } from './types.js'\n\nexport function is_hex (input : string) : boolean {\n  if (\n    input.match(/[^a-fA-F0-9]/) === null &&\n    input.length % 2 === 0\n  ) { return true }\n  return false\n}\n\nexport function is_bytes (input : any) : input is Bytes {\n  if (typeof input === 'string' && is_hex(input)) {\n    return true\n  } else if (\n    typeof input === 'number' ||\n    typeof input === 'bigint' ||\n    input instanceof Uint8Array\n  ) {\n    return true\n  } else if (\n    Array.isArray(input) &&\n    input.every(e => typeof e === 'number')\n  ) {\n    return true\n  } else  {\n    return false\n  }\n}\n\nexport function set_buffer (\n  data   : number[] | Uint8Array,\n  size  ?: number,\n  endian : Endian = 'be'\n) : Uint8Array {\n  if (size === undefined) size = data.length\n  within_size(data, size)\n  const buffer = new Uint8Array(size).fill(0)\n  const offset = (endian === 'be') ? 0 : size - data.length\n  buffer.set(data, offset)\n  return buffer\n}\n\nexport function join_array (\n  arr : Array<Uint8Array | number[]>\n) : Uint8Array {\n  let i, offset = 0\n  const size = arr.reduce((len, arr) => len + arr.length, 0)\n  const buff = new Uint8Array(size)\n  for (i = 0; i < arr.length; i++) {\n    const a = arr[i]\n    buff.set(a, offset)\n    offset += a.length\n  }\n  return buff\n}\n\nexport function bigint_replacer (_ : any, v : any) : any {\n  return typeof v === 'bigint'\n    ? `${v}n`\n    : v\n}\n\nexport function bigint_reviver (_ : any, v : any) : any {\n  return typeof v === 'string' && /^[0-9]+n$/.test(v)\n    ? BigInt(v.slice(0, -1))\n    : v\n}\n\nexport function parse_data (\n  data_blob  : Uint8Array,\n  chunk_size : number,\n  total_size : number\n) : Uint8Array[] {\n  const len   = data_blob.length,\n        count = total_size / chunk_size\n  if (total_size % chunk_size !== 0) {\n    throw new TypeError(`Invalid parameters: ${total_size} % ${chunk_size} !== 0`)\n  }\n  if (len !== total_size) {\n    throw new TypeError(`Invalid data stream: ${len} !== ${total_size}`)\n  }\n  if (len % chunk_size !== 0) {\n    throw new TypeError(`Invalid data stream: ${len} % ${chunk_size} !== 0`)\n  }\n  const chunks = new Array(count)\n  for (let i = 0; i < count; i++) {\n    const idx = i * chunk_size\n    chunks[i] = data_blob.subarray(idx, idx + chunk_size)\n  }\n  return chunks\n}\n", "import { bigToBytes }    from './big.js'\nimport { numToBytes }    from './num.js'\nimport { hexToBytes }    from './str.js'\nimport { type Bytes, type Endian } from '../types.js'\n\nimport * as util from '../utils.js'\n\nexport function buffer_data (\n  data    : Bytes | Bytes[] | ArrayBuffer,\n  size   ?: number,\n  endian ?: Endian\n) : Uint8Array {\n  if (data instanceof ArrayBuffer) {\n    return new Uint8Array(data)\n  } else if (data instanceof Uint8Array) {\n    return util.set_buffer(data, size, endian)\n  } else if (Array.isArray(data)) {\n    const bytes = data.map(e => buffer_data(e, size, endian))\n    return util.join_array(bytes)\n  } else if (typeof data === 'string') {\n    return hexToBytes(data, size, endian)\n  } else if (typeof data === 'bigint') {\n    return bigToBytes(data, size, endian)\n  } else if (typeof data === 'number') {\n    return numToBytes(data, size, endian)\n  } else if (typeof data === 'boolean') {\n    return Uint8Array.of(data ? 1 : 0)\n  }\n  throw new TypeError('Unsupported format:' + String(typeof data))\n}\n", "import { sha256 }      from '@noble/hashes/sha256'\nimport { randomBytes } from '@noble/hashes/utils'\n\nimport * as assert  from './assert.js'\nimport * as encoder from './encode.js'\nimport * as fmt     from './format/index.js'\nimport * as util    from './utils.js'\n\nimport { Bytes, Endian, Replacer, Reviver } from './types.js'\n\nexport class Buff extends Uint8Array {\n  static num      = numToBuff\n  static big      = bigToBuff\n  static bin      = binToBuff\n  static raw      = rawToBuff\n  static str      = strToBuff\n  static hex      = hexToBuff\n  static bytes    = buffer\n  static json     = jsonToBuff\n  static base64   = base64ToBuff\n  static b64url   = b64urlToBuff\n  static bech32   = bech32ToBuff\n  static bech32m  = bech32mToBuff\n  static b58chk   = b58chkToBuff\n  static encode   = fmt.strToBytes\n  static decode   = fmt.bytesToStr\n  static parse    = parse_data\n  static is_bytes = util.is_bytes\n  static is_hex   = util.is_hex\n  static is_equal = is_equal\n\n  static random (size = 32) : Buff {\n    const rand = randomBytes(size)\n    return new Buff(rand, size)\n  }\n\n  static now (size = 4) : Buff {\n    const stamp = Math.floor(Date.now() / 1000)\n    return new Buff(stamp, size)\n  }\n\n  constructor (\n    data    : Bytes | Bytes[] | ArrayBuffer,\n    size   ?: number,\n    endian ?: Endian\n  ) {\n    if (\n      data instanceof Buff &&\n      size === undefined\n    ) {\n      return data\n    }\n\n    const buffer = fmt.buffer_data(data, size, endian)\n    super(buffer)\n  }\n\n  get arr () : number[] {\n    return [ ...this ]\n  }\n\n  get num () : number {\n    return this.to_num()\n  }\n\n  get big () : bigint {\n    return this.to_big()\n  }\n\n  get str () : string {\n    return this.to_str()\n  }\n\n  get hex () : string {\n    return this.to_hex()\n  }\n\n  get raw () : Uint8Array {\n    return new Uint8Array(this)\n  }\n\n  get bin () : string {\n    return this.to_bin()\n  }\n\n  get b58chk () : string {\n    return this.to_b58chk()\n  }\n\n  get base64 () : string {\n    return this.to_base64()\n  }\n\n  get b64url () : string {\n    return this.to_b64url()\n  }\n\n  get digest () : Buff {\n    return this.to_hash()\n  }\n\n  get id () : string {\n    return this.to_hash().hex\n  }\n\n  get stream () : Stream {\n    return new Stream(this)\n  }\n\n  to_num (endian : Endian = 'be') : number {\n    const bytes = (endian === 'be')\n      ? this.reverse()\n      : this\n    return fmt.bytesToNum(bytes)\n  }\n\n  to_big (endian : Endian = 'be') : bigint {\n    const bytes = (endian === 'be')\n      ? this.reverse()\n      : this\n    return fmt.bytesToBig(bytes)\n  }\n\n  to_bin () : string {\n    return fmt.bytesToBin(this)\n  }\n\n  to_hash () : Buff {\n    const digest = sha256(this)\n    return new Buff(digest)\n  }\n\n  to_json <T = any> (reviver ?: Reviver) : T {\n    if (reviver === undefined) {\n      reviver = util.bigint_reviver\n    }\n    const str = fmt.bytesToStr(this)\n    return JSON.parse(str, reviver)\n  }\n\n  to_bech32 (\n    prefix : string,\n    limit ?: number\n  ) : string {\n    const { encode, to_words } = encoder.Bech32\n    const words = to_words(this)\n    return encode(prefix, words, limit)\n  }\n\n  to_bech32m (\n    prefix : string,\n    limit ?: number\n  ) : string {\n    const { encode, to_words } = encoder.Bech32m\n    const words = to_words(this)\n    return encode(prefix, words, limit)\n  }\n\n  to_str    () : string     { return fmt.bytesToStr(this) }\n  to_hex    () : string     { return fmt.bytesToHex(this) }\n  to_bytes  () : Uint8Array { return new Uint8Array(this) }\n  to_b58chk () : string     { return encoder.B58chk.encode(this) }\n  to_base64 () : string     { return encoder.Base64.encode(this) }\n  to_b64url () : string     { return encoder.B64url.encode(this) }\n\n  append (data : Bytes) : Buff {\n    return Buff.join([ this, Buff.bytes(data) ])\n  }\n\n  equals (data : Bytes) : boolean {\n    return buffer(data).hex === this.hex\n  }\n\n  prepend (data : Bytes) : Buff {\n    return Buff.join([ Buff.bytes(data), this ])\n  }\n\n  reverse () : Buff {\n    const arr = new Uint8Array(this).reverse()\n    return new Buff(arr)\n  }\n\n  slice (start ?: number, end ?: number) : Buff {\n    const arr = new Uint8Array(this).slice(start, end)\n    return new Buff(arr)\n  }\n\n  set (array : ArrayLike<number>, offset ?: number) : void {\n    this.set(array, offset)\n  }\n\n  subarray (begin ?: number, end ?: number) : Buff {\n    const arr = new Uint8Array(this).subarray(begin, end)\n    return new Buff(arr)\n  }\n\n  write (bytes : Bytes, offset ?: number) : void {\n    const b = Buff.bytes(bytes)\n    this.set(b, offset)\n  }\n\n  add_varint (endian ?: Endian) : Buff {\n    const size = Buff.calc_varint(this.length, endian)\n    return Buff.join([ size, this ])\n  }\n\n  toJSON () {\n    return this.hex\n  }\n\n  toString () {\n    return this.hex\n  }\n\n  static from (data : Uint8Array | number[]) : Buff {\n    return new Buff(Uint8Array.from(data))\n  }\n\n  static of (...args : number[]) : Buff {\n    return new Buff(Uint8Array.of(...args))\n  }\n\n  static join (arr : Bytes[]) : Buff {\n    const bytes  = arr.map(e => Buff.bytes(e))\n    const joined = util.join_array(bytes)\n    return new Buff(joined)\n  }\n\n  static sort (arr : Bytes[], size ?: number) : Buff[] {\n    const hex = arr.map(e => buffer(e, size).hex)\n    hex.sort()\n    return hex.map(e => Buff.hex(e, size))\n  }\n\n  static calc_varint (num : number, endian ?: Endian) : Buff {\n    if (num < 0xFD) {\n      return Buff.num(num, 1)\n    } else if (num < 0x10000) {\n      return Buff.of(0xFD, ...Buff.num(num, 2, endian))\n    } else if (num < 0x100000000) {\n      return Buff.of(0xFE, ...Buff.num(num, 4, endian))\n    } else if (BigInt(num) < 0x10000000000000000n) {\n      return Buff.of(0xFF, ...Buff.num(num, 8, endian))\n    } else {\n      throw new Error(`Value is too large: ${num}`)\n    }\n  }\n}\n\nfunction numToBuff (\n  number  : number,\n  size   ?: number,\n  endian ?: Endian\n) : Buff {\n  return new Buff(number, size, endian)\n}\n\nfunction binToBuff (\n  data    : string,\n  size   ?: number,\n  endian ?: Endian\n) : Buff {\n  return new Buff(fmt.binToBytes(data), size, endian)\n}\n\nfunction bigToBuff (\n  bigint  : bigint,\n  size   ?: number,\n  endian ?: Endian\n) : Buff {\n  return new Buff(bigint, size, endian)\n}\n\nfunction rawToBuff (\n  data    : Uint8Array,\n  size   ?: number,\n  endian ?: Endian\n) : Buff {\n  return new Buff(data, size, endian)\n}\n\nfunction strToBuff (\n  data    : string,\n  size   ?: number,\n  endian ?: Endian\n) : Buff {\n  return new Buff(fmt.strToBytes(data), size, endian)\n}\n\nfunction hexToBuff (\n  data    : string,\n  size   ?: number,\n  endian ?: Endian\n) : Buff {\n  return new Buff(data, size, endian)\n}\n\nfunction jsonToBuff <T> (\n  data      : T,\n  replacer ?: Replacer\n) : Buff {\n  if (replacer === undefined) {\n    replacer = util.bigint_replacer\n  }\n  const str = JSON.stringify(data, replacer)\n  return new Buff(fmt.strToBytes(str))\n}\n\nfunction base64ToBuff (\n  data : string\n) : Buff {\n  return new Buff(encoder.Base64.decode(data))\n}\n\nfunction b64urlToBuff (\n  data : string\n) : Buff {\n  return new Buff(encoder.B64url.decode(data))\n}\n\nfunction bech32ToBuff (\n  data        : string,\n  limit      ?: number | false,\n  chk_prefix ?: string\n) : Buff {\n  const { decode, to_bytes } = encoder.Bech32\n  const { prefix, words } = decode(data, limit)\n  const bytes = to_bytes(words)\n  if (typeof chk_prefix === 'string') {\n    assert.is_prefix(prefix, chk_prefix)\n  }\n  return new Buff(bytes)\n}\n\nfunction bech32mToBuff (\n  data        : string,\n  limit      ?: number | false,\n  chk_prefix ?: string\n) : Buff {\n  const { decode, to_bytes } = encoder.Bech32m\n  const { prefix, words } = decode(data, limit)\n  const bytes = to_bytes(words)\n  if (typeof chk_prefix === 'string') {\n    assert.is_prefix(prefix, chk_prefix)\n  }\n  return new Buff(bytes)\n}\n\nfunction b58chkToBuff (\n  data : string\n) : Buff {\n  return new Buff(encoder.B58chk.decode(data))\n}\n\nfunction parse_data (\n  data_blob  : Bytes,\n  chunk_size : number,\n  total_size : number\n) : Buff[] {\n  const bytes  = fmt.buffer_data(data_blob)\n  const chunks = util.parse_data(bytes, chunk_size, total_size)\n  return chunks.map(e => Buff.bytes(e))\n}\n\nfunction is_equal (a : Bytes, b : Bytes) : boolean {\n  return new Buff(a).hex === new Buff(b).hex\n}\n\nexport function buffer (\n  bytes : Bytes | Bytes[] | ArrayBuffer,\n  size ?: number,\n  end  ?: Endian\n) : Buff {\n  return new Buff(bytes, size, end)\n}\n\nexport class Stream {\n  public size : number\n  public data : Uint8Array\n\n  constructor (data : Bytes) {\n    this.data = Buff.bytes(data)\n    this.size = this.data.length\n  }\n\n  peek (size : number) : Buff {\n    if (size > this.size) {\n      throw new Error(`Size greater than stream: ${size} > ${this.size}`)\n    }\n    return new Buff(this.data.slice(0, size))\n  }\n\n  read (size : number) : Buff {\n    const chunk = this.peek(size)\n    this.data = this.data.slice(size)\n    this.size = this.data.length\n    return chunk\n  }\n\n  read_varint (endian ?: Endian) : number {\n    const num = this.read(1).num\n    switch (true) {\n      case (num >= 0 && num < 0xFD):\n        return num\n      case (num === 0xFD):\n        return this.read(2).to_num(endian)\n      case (num === 0xFE):\n        return this.read(4).to_num(endian)\n      case (num === 0xFF):\n        return this.read(8).to_num(endian)\n      default:\n        throw new Error(`Varint is out of range: ${num}`)\n    }\n  }\n}\n", "/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\nimport { abytes, aexists, ahash, clean, Hash, toBytes, type CHash, type Input } from './utils.ts';\n\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    ahash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    clean(pad);\n  }\n  update(buf: Input): this {\n    aexists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array): void {\n    aexists(this);\n    abytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest(): Uint8Array {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  clone(): HMAC<T> {\n    return this._cloneInto();\n  }\n  destroy(): void {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nexport const hmac: {\n  (hash: CHash, key: Input, message: Input): Uint8Array;\n  create(hash: CHash, key: Input): HMAC<any>;\n} = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nexport function isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n\nexport function abytes(item: unknown): void {\n  if (!isBytes(item)) throw new Error('Uint8Array expected');\n}\n\nexport function abool(title: string, value: boolean): void {\n  if (typeof value !== 'boolean') throw new Error(title + ' boolean expected, got ' + value);\n}\n\n// Used in weierstrass, der\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? '0' + hex : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin: boolean =\n  // @ts-ignore\n  typeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function';\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // @ts-ignore\n  if (hasHexBuiltin) return bytes.toHex();\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 } as const;\nfunction asciiToBase16(ch: number): number | undefined {\n  if (ch >= asciis._0 && ch <= asciis._9) return ch - asciis._0; // '2' => 50-48\n  if (ch >= asciis.A && ch <= asciis.F) return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n  if (ch >= asciis.a && ch <= asciis.f) return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n  return;\n}\n\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // @ts-ignore\n  if (hasHexBuiltin) return Uint8Array.fromHex(hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n  }\n  return array;\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  abytes(bytes);\n  return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes(hex);\n    } catch (e) {\n      throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n    }\n  } else if (isBytes(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(title + ' must be hex string or Uint8Array');\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n  return res;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error('string expected');\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n// Is positive bigint\nconst isPosBig = (n: bigint) => typeof n === 'bigint' && _0n <= n;\n\nexport function inRange(n: bigint, min: bigint, max: bigint): boolean {\n  return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title: string, n: bigint, min: bigint, max: bigint): void {\n  // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n  // consider P=256n, min=0n, max=P\n  // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n  // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n  // - our way is the cleanest:               `inRange('x', x, 0n, P)\n  if (!inRange(n, min, max))\n    throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n: bigint): number {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number): bigint {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n: bigint, pos: number, value: boolean): bigint {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number): bigint => (_1n << BigInt(n)) - _1n;\n\n// DRBG\n\nconst u8n = (len: number) => new Uint8Array(len); // creates Uint8Array\nconst u8fr = (arr: ArrayLike<number>) => Uint8Array.from(arr); // another shortcut\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n(0)) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any): boolean => typeof val === 'bigint',\n  function: (val: any): boolean => typeof val === 'function',\n  boolean: (val: any): boolean => typeof val === 'boolean',\n  string: (val: any): boolean => typeof val === 'string',\n  stringOrUint8Array: (val: any): boolean => typeof val === 'string' || isBytes(val),\n  isSafeInteger: (val: any): boolean => Number.isSafeInteger(val),\n  array: (val: any): boolean => Array.isArray(val),\n  field: (val: any, object: any): any => (object as any).Fp.isValid(val),\n  hash: (val: any): boolean => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n): T {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error('invalid validator function');\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        'param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n\n/**\n * throws not implemented error\n */\nexport const notImplemented = (): never => {\n  throw new Error('not implemented');\n};\n\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized<T extends object, R, O extends any[]>(\n  fn: (arg: T, ...args: O) => R\n): (arg: T, ...args: O) => R {\n  const map = new WeakMap<T, R>();\n  return (arg: T, ...args: O): R => {\n    const val = map.get(arg);\n    if (val !== undefined) return val;\n    const computed = fn(arg, ...args);\n    map.set(arg, computed);\n    return computed;\n  };\n}\n", "/**\n * Utils for modular division and finite fields.\n * A finite field over 11 is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { anumber } from '@noble/hashes/utils';\nimport {\n  bitMask,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  numberToBytesBE,\n  numberToBytesLE,\n  validateObject,\n} from './utils.ts';\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _8n = /* @__PURE__ */ BigInt(8);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * TODO: remove.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  return FpPow(Field(modulo), num, power);\n}\n\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n) throw new Error('invert: expected non-zero number');\n  if (modulo <= _0n) throw new Error('invert: expected positive modulus, got ' + modulo);\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4<T>(Fp: IField<T>, n: T) {\n  const p1div4 = (Fp.ORDER + _1n) / _4n;\n  const root = Fp.pow(n, p1div4);\n  // Throw if root^2 != n\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n  return root;\n}\n\nfunction sqrt5mod8<T>(Fp: IField<T>, n: T) {\n  const p5div8 = (Fp.ORDER - _5n) / _8n;\n  const n2 = Fp.mul(n, _2n);\n  const v = Fp.pow(n2, p5div8);\n  const nv = Fp.mul(n, v);\n  const i = Fp.mul(Fp.mul(nv, _2n), v);\n  const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n  return root;\n}\n\n// TODO: Commented-out for now. Provide test vectors.\n// Tonelli is too slow for extension fields Fp2.\n// That means we can't use sqrt (c1, c2...) even for initialization constants.\n// if (P % _16n === _9n) return sqrt9mod16;\n// // prettier-ignore\n// function sqrt9mod16<T>(Fp: IField<T>, n: T, p7div16?: bigint) {\n//   if (p7div16 === undefined) p7div16 = (Fp.ORDER + BigInt(7)) / _16n;\n//   const c1 = Fp.sqrt(Fp.neg(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n//   const c2 = Fp.sqrt(c1);             //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n//   const c3 = Fp.sqrt(Fp.neg(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n//   const c4 = p7div16;                 //  4. c4 = (q + 7) / 16        # Integer arithmetic\n//   let tv1 = Fp.pow(n, c4);            //  1. tv1 = x^c4\n//   let tv2 = Fp.mul(c1, tv1);          //  2. tv2 = c1 * tv1\n//   const tv3 = Fp.mul(c2, tv1);        //  3. tv3 = c2 * tv1\n//   let tv4 = Fp.mul(c3, tv1);          //  4. tv4 = c3 * tv1\n//   const e1 = Fp.eql(Fp.sqr(tv2), n);  //  5.  e1 = (tv2^2) == x\n//   const e2 = Fp.eql(Fp.sqr(tv3), n);  //  6.  e2 = (tv3^2) == x\n//   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n//   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n//   const e3 = Fp.eql(Fp.sqr(tv2), n);  //  9.  e3 = (tv2^2) == x\n//   return Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3) # Select the sqrt from tv1 and tv2\n// }\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // Initialization (precomputation).\n  if (P < BigInt(3)) throw new Error('sqrt is not defined for small field');\n  // Factor P - 1 = Q * 2^S, where Q is odd\n  let Q = P - _1n;\n  let S = 0;\n  while (Q % _2n === _0n) {\n    Q /= _2n;\n    S++;\n  }\n\n  // Find the first quadratic non-residue Z >= 2\n  let Z = _2n;\n  const _Fp = Field(P);\n  while (FpLegendre(_Fp, Z) === 1) {\n    // Basic primality test for P. After x iterations, chance of\n    // not finding quadratic non-residue is 2^x, so 2^1000.\n    if (Z++ > 1000) throw new Error('Cannot find square root: probably non-prime P');\n  }\n  // Fast-path; usually done before Z, but we do \"primality test\".\n  if (S === 1) return sqrt3mod4;\n\n  // Slow-path\n  // TODO: test on Fp2 and others\n  let cc = _Fp.pow(Z, Q); // c = z^Q\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    if (Fp.is0(n)) return n;\n    // Check if n is a quadratic residue using Legendre symbol\n    if (FpLegendre(Fp, n) !== 1) throw new Error('Cannot find square root');\n\n    // Initialize variables for the main loop\n    let M = S;\n    let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n    let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n    let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n\n    // Main loop\n    // while t != 1\n    while (!Fp.eql(t, Fp.ONE)) {\n      if (Fp.is0(t)) return Fp.ZERO; // if t=0 return R=0\n      let i = 1;\n\n      // Find the smallest i >= 1 such that t^(2^i) \u2261 1 (mod P)\n      let t_tmp = Fp.sqr(t); // t^(2^1)\n      while (!Fp.eql(t_tmp, Fp.ONE)) {\n        i++;\n        t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n        if (i === M) throw new Error('Cannot find square root');\n      }\n\n      // Calculate the exponent for b: 2^(M - i - 1)\n      const exponent = _1n << BigInt(M - i - 1); // bigint is important\n      const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n\n      // Update variables\n      M = i;\n      c = Fp.sqr(b); // c = b^2\n      t = Fp.mul(t, c); // t = (t * b^2)\n      R = Fp.mul(R, b); // R = R*b\n    }\n    return R;\n  };\n}\n\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P \u2261 3 (mod 4)\n * 2. P \u2261 5 (mod 8)\n * 3. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // P \u2261 3 (mod 4) => \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) return sqrt3mod4;\n  // P \u2261 5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n  if (P % _8n === _5n) return sqrt5mod8;\n  // P \u2261 9 (mod 16) not implemented, see above\n  // Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint): boolean =>\n  (mod(num, modulo) & _1n) === _1n;\n\n/** Field is not always over prime: for example, Fp2 has ORDER(q)=p^m. */\nexport interface IField<T> {\n  ORDER: bigint;\n  isLE: boolean;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  // legendre?(num: T): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>): IField<T> {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'isSafeInteger',\n    BITS: 'isSafeInteger',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  return validateObject(field, opts);\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(Fp: IField<T>, num: T, power: bigint): T {\n  if (power < _0n) throw new Error('invalid exponent, negatives unsupported');\n  if (power === _0n) return Fp.ONE;\n  if (power === _1n) return num;\n  let p = Fp.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = Fp.mul(p, d);\n    d = Fp.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch<T>(Fp: IField<T>, nums: T[], passZero = false): T[] {\n  const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n  // Walk from first to last, multiply them by each other MOD p\n  const multipliedAcc = nums.reduce((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = acc;\n    return Fp.mul(acc, num);\n  }, Fp.ONE);\n  // Invert last element\n  const invertedAcc = Fp.inv(multipliedAcc);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = Fp.mul(acc, inverted[i]);\n    return Fp.mul(acc, num);\n  }, invertedAcc);\n  return inverted;\n}\n\n// TODO: remove\nexport function FpDiv<T>(Fp: IField<T>, lhs: T, rhs: T | bigint): T {\n  return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p) \u2261 1    if a is a square (mod p), quadratic residue\n * * (a | p) \u2261 -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) \u2261 0    if a \u2261 0 (mod p)\n */\nexport function FpLegendre<T>(Fp: IField<T>, n: T): -1 | 0 | 1 {\n  // We can use 3rd argument as optional cache of this value\n  // but seems unneeded for now. The operation is very fast.\n  const p1mod2 = (Fp.ORDER - _1n) / _2n;\n  const powered = Fp.pow(n, p1mod2);\n  const yes = Fp.eql(powered, Fp.ONE);\n  const zero = Fp.eql(powered, Fp.ZERO);\n  const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n  if (!yes && !zero && !no) throw new Error('invalid Legendre symbol result');\n  return yes ? 1 : zero ? 0 : -1;\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(Fp: IField<T>, n: T): boolean {\n  const l = FpLegendre(Fp, n);\n  return l === 1;\n}\n\n// CURVE.n lengths\nexport function nLength(\n  n: bigint,\n  nBitLength?: number\n): {\n  nBitLength: number;\n  nByteLength: number;\n} {\n  // Bit size, byte size of CURVE.n\n  if (nBitLength !== undefined) anumber(nBitLength);\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\n/**\n * Initializes a finite field over prime.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLen?: number,\n  isLE = false,\n  redef: Partial<IField<bigint>> = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n  if (BYTES > 2048) throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n  let sqrtP: ReturnType<typeof FpSqrt>; // cached sqrtP\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    isLE,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error('invalid field element: expected bigint, got ' + typeof num);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt:\n      redef.sqrt ||\n      ((n) => {\n        if (!sqrtP) sqrtP = FpSqrt(ORDER);\n        return sqrtP(f, n);\n      }),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes) => {\n      if (bytes.length !== BYTES)\n        throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    },\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov: (a, b, c) => (c ? b : a),\n  } as FpField);\n  return Object.freeze(f);\n}\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(\n      'hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen\n    );\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n  const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { type IField, nLength, validateField } from './modular.ts';\nimport { bitLen, bitMask, validateObject } from './utils.ts';\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { z?: never; t?: never };\n\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n}\n\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\nfunction constTimeNegate<T extends Group<T>>(condition: boolean, item: T): T {\n  const neg = item.negate();\n  return condition ? neg : item;\n}\n\nfunction validateW(W: number, bits: number) {\n  if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n    throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\n\n/** Internal wNAF opts for specific W and scalarBits */\nexport type WOpts = {\n  windows: number;\n  windowSize: number;\n  mask: bigint;\n  maxNumber: number;\n  shiftBy: bigint;\n};\n\nfunction calcWOpts(W: number, scalarBits: number): WOpts {\n  validateW(W, scalarBits);\n  const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n  const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n  const maxNumber = 2 ** W; // W=8 256\n  const mask = bitMask(W); // W=8 255 == mask 0b11111111\n  const shiftBy = BigInt(W); // W=8 8\n  return { windows, windowSize, mask, maxNumber, shiftBy };\n}\n\nfunction calcOffsets(n: bigint, window: number, wOpts: WOpts) {\n  const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n  let wbits = Number(n & mask); // extract W bits.\n  let nextN = n >> shiftBy; // shift number by W bits.\n\n  // What actually happens here:\n  // const highestBit = Number(mask ^ (mask >> 1n));\n  // let wbits2 = wbits - 1; // skip zero\n  // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n\n  // split if bits > max: +224 => 256-32\n  if (wbits > windowSize) {\n    // we skip zero, which means instead of `>= size-1`, we do `> size`\n    wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n    nextN += _1n; // +256 (carry)\n  }\n  const offsetStart = window * windowSize;\n  const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n  const isZero = wbits === 0; // is current window slice a 0?\n  const isNeg = wbits < 0; // is current window slice negative?\n  const isNegF = window % 2 !== 0; // fake random statement for noise\n  const offsetF = offsetStart; // fake offset for noise\n  return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\n\nfunction validateMSMPoints(points: any[], c: any) {\n  if (!Array.isArray(points)) throw new Error('array expected');\n  points.forEach((p, i) => {\n    if (!(p instanceof c)) throw new Error('invalid point at index ' + i);\n  });\n}\nfunction validateMSMScalars(scalars: any[], field: any) {\n  if (!Array.isArray(scalars)) throw new Error('array of scalars expected');\n  scalars.forEach((s, i) => {\n    if (!field.isValid(s)) throw new Error('invalid scalar at index ' + i);\n  });\n}\n\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap<any, any[]>();\nconst pointWindowSizes = new WeakMap<any, number>();\n\nfunction getW(P: any): number {\n  return pointWindowSizes.get(P) || 1;\n}\n\nexport type IWNAF<T extends Group<T>> = {\n  constTimeNegate: <T extends Group<T>>(condition: boolean, item: T) => T;\n  hasPrecomputes(elm: T): boolean;\n  unsafeLadder(elm: T, n: bigint, p?: T): T;\n  precomputeWindow(elm: T, W: number): Group<T>[];\n  getPrecomputes(W: number, P: T, transform: Mapper<T>): T[];\n  wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T };\n  wNAFUnsafe(W: number, precomputes: T[], n: bigint, acc?: T): T;\n  wNAFCached(P: T, n: bigint, transform: Mapper<T>): { p: T; f: T };\n  wNAFCachedUnsafe(P: T, n: bigint, transform: Mapper<T>, prev?: T): T;\n  setWindowSize(P: T, W: number): void;\n};\n\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport function wNAF<T extends Group<T>>(c: GroupConstructor<T>, bits: number): IWNAF<T> {\n  return {\n    constTimeNegate,\n\n    hasPrecomputes(elm: T) {\n      return getW(elm) !== 1;\n    },\n\n    // non-const time multiplication ladder\n    unsafeLadder(elm: T, n: bigint, p = c.ZERO) {\n      let d: T = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n     * - \uD835\uDC4A is the window size\n     * - \uD835\uDC5B is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param elm Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(elm: T, W: number): Group<T>[] {\n      const { windows, windowSize } = calcWOpts(W, bits);\n      const points: T[] = [];\n      let p: T = elm;\n      let base = p;\n      for (let window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // i=1, bc we skip 0\n        for (let i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T } {\n      // Smaller version:\n      // https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n      // TODO: check the scalar is less than group order?\n      // wNAF behavior is undefined otherwise. But have to carefully remove\n      // other checks before wNAF. ORDER == bits here.\n      // Accumulators\n      let p = c.ZERO;\n      let f = c.BASE;\n      // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n      // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n      // there is negate now: it is possible that negated element from low value\n      // would be the same as high element, which will create carry into next window.\n      // It's not obvious how this can fail, but still worth investigating later.\n      const wo = calcWOpts(W, bits);\n      for (let window = 0; window < wo.windows; window++) {\n        // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n        const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n        n = nextN;\n        if (isZero) {\n          // bits are 0: add garbage to fake point\n          // Important part for const-time getPublicKey: add random \"noise\" point to f.\n          f = f.add(constTimeNegate(isNegF, precomputes[offsetF]));\n        } else {\n          // bits are 1: add to result point\n          p = p.add(constTimeNegate(isNeg, precomputes[offset]));\n        }\n      }\n      // Return both real and fake points: JIT won't eliminate f.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return { p, f };\n    },\n\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W: number, precomputes: T[], n: bigint, acc: T = c.ZERO): T {\n      const wo = calcWOpts(W, bits);\n      for (let window = 0; window < wo.windows; window++) {\n        if (n === _0n) break; // Early-exit, skip 0 value\n        const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n        n = nextN;\n        if (isZero) {\n          // Window bits are 0: skip processing.\n          // Move to next window.\n          continue;\n        } else {\n          const item = precomputes[offset];\n          acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n        }\n      }\n      return acc;\n    },\n\n    getPrecomputes(W: number, P: T, transform: Mapper<T>): T[] {\n      // Calculate precomputes on a first run, reuse them after\n      let comp = pointPrecomputes.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W) as T[];\n        if (W !== 1) pointPrecomputes.set(P, transform(comp));\n      }\n      return comp;\n    },\n\n    wNAFCached(P: T, n: bigint, transform: Mapper<T>): { p: T; f: T } {\n      const W = getW(P);\n      return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n    },\n\n    wNAFCachedUnsafe(P: T, n: bigint, transform: Mapper<T>, prev?: T): T {\n      const W = getW(P);\n      if (W === 1) return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n      return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n    },\n\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n\n    setWindowSize(P: T, W: number) {\n      validateW(W, bits);\n      pointWindowSizes.set(P, W);\n      pointPrecomputes.delete(P);\n    },\n  };\n}\n\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nexport function pippenger<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  fieldN: IField<bigint>,\n  points: T[],\n  scalars: bigint[]\n): T {\n  // If we split scalars by some window (let's say 8 bits), every chunk will only\n  // take 256 buckets even if there are 4096 scalars, also re-uses double.\n  // TODO:\n  // - https://eprint.iacr.org/2024/750.pdf\n  // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n  // 0 is accepted in scalars\n  validateMSMPoints(points, c);\n  validateMSMScalars(scalars, fieldN);\n  const plength = points.length;\n  const slength = scalars.length;\n  if (plength !== slength) throw new Error('arrays of points and scalars must have equal length');\n  // if (plength === 0) throw new Error('array must be of length >= 2');\n  const zero = c.ZERO;\n  const wbits = bitLen(BigInt(plength));\n  let windowSize = 1; // bits\n  if (wbits > 12) windowSize = wbits - 3;\n  else if (wbits > 4) windowSize = wbits - 2;\n  else if (wbits > 0) windowSize = 2;\n  const MASK = bitMask(windowSize);\n  const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n  const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n  let sum = zero;\n  for (let i = lastBits; i >= 0; i -= windowSize) {\n    buckets.fill(zero);\n    for (let j = 0; j < slength; j++) {\n      const scalar = scalars[j];\n      const wbits = Number((scalar >> BigInt(i)) & MASK);\n      buckets[wbits] = buckets[wbits].add(points[j]);\n    }\n    let resI = zero; // not using this will do small speed-up, but will lose ct\n    // Skip first bucket, because it is zero\n    for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n      sumI = sumI.add(buckets[j]);\n      resI = resI.add(sumI);\n    }\n    sum = sum.add(resI);\n    if (i !== 0) for (let j = 0; j < windowSize; j++) sum = sum.double();\n  }\n  return sum as T;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  fieldN: IField<bigint>,\n  points: T[],\n  windowSize: number\n): (scalars: bigint[]) => T {\n  /**\n   * Performance Analysis of Window-based Precomputation\n   *\n   * Base Case (256-bit scalar, 8-bit window):\n   * - Standard precomputation requires:\n   *   - 31 additions per scalar \u00D7 256 scalars = 7,936 ops\n   *   - Plus 255 summary additions = 8,191 total ops\n   *   Note: Summary additions can be optimized via accumulator\n   *\n   * Chunked Precomputation Analysis:\n   * - Using 32 chunks requires:\n   *   - 255 additions per chunk\n   *   - 256 doublings\n   *   - Total: (255 \u00D7 32) + 256 = 8,416 ops\n   *\n   * Memory Usage Comparison:\n   * Window Size | Standard Points | Chunked Points\n   * ------------|-----------------|---------------\n   *     4-bit   |     520         |      15\n   *     8-bit   |    4,224        |     255\n   *    10-bit   |   13,824        |   1,023\n   *    16-bit   |  557,056        |  65,535\n   *\n   * Key Advantages:\n   * 1. Enables larger window sizes due to reduced memory overhead\n   * 2. More efficient for smaller scalar counts:\n   *    - 16 chunks: (16 \u00D7 255) + 256 = 4,336 ops\n   *    - ~2x faster than standard 8,191 ops\n   *\n   * Limitations:\n   * - Not suitable for plain precomputes (requires 256 constant doublings)\n   * - Performance degrades with larger scalar counts:\n   *   - Optimal for ~256 scalars\n   *   - Less efficient for 4096+ scalars (Pippenger preferred)\n   */\n  validateW(windowSize, fieldN.BITS);\n  validateMSMPoints(points, c);\n  const zero = c.ZERO;\n  const tableSize = 2 ** windowSize - 1; // table size (without zero)\n  const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n  const MASK = bitMask(windowSize);\n  const tables = points.map((p: T) => {\n    const res = [];\n    for (let i = 0, acc = p; i < tableSize; i++) {\n      res.push(acc);\n      acc = acc.add(p);\n    }\n    return res;\n  });\n  return (scalars: bigint[]): T => {\n    validateMSMScalars(scalars, fieldN);\n    if (scalars.length > points.length)\n      throw new Error('array of scalars must be smaller than array of points');\n    let res = zero;\n    for (let i = 0; i < chunks; i++) {\n      // No need to double if accumulator is still zero.\n      if (res !== zero) for (let j = 0; j < windowSize; j++) res = res.double();\n      const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n      for (let j = 0; j < scalars.length; j++) {\n        const n = scalars[j];\n        const curr = Number((n >> shiftBy) & MASK);\n        if (!curr) continue; // skip zero scalars chunks\n        res = res.add(tables[j][curr - 1]);\n      }\n    }\n    return res;\n  };\n}\n\n/**\n * Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n * Though generator can be different (Fp2 / Fp6 for BLS).\n */\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\nexport function validateBasic<FP, T>(\n  curve: BasicCurve<FP> & T\n): Readonly<\n  {\n    readonly nBitLength: number;\n    readonly nByteLength: number;\n  } & BasicCurve<FP> &\n    T & {\n      p: bigint;\n    }\n> {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n", "/**\n * Short Weierstrass curve methods. The formula is: y\u00B2 = x\u00B3 + ax + b.\n *\n * ### Parameters\n *\n * To initialize a weierstrass curve, one needs to pass following params:\n *\n * * a: formula param\n * * b: formula param\n * * Fp: finite field of prime characteristic P; may be complex (Fp2). Arithmetics is done in field\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * Gx: Base point (x, y) aka generator point. Gx = x coordinate\n * * Gy: ...y coordinate\n * * h: cofactor, usually 1. h*n = curve group order (n is only subgroup order)\n * * lowS: whether to enable (default) or disable \"low-s\" non-malleable signatures\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// prettier-ignore\nimport {\n  pippenger, validateBasic, wNAF,\n  type AffinePoint, type BasicCurve, type Group, type GroupConstructor\n} from './curve.ts';\n// prettier-ignore\nimport {\n  Field,\n  FpInvertBatch,\n  getMinHashLength, invert, mapHashToField, mod, validateField,\n  type IField\n} from './modular.ts';\n// prettier-ignore\nimport {\n  aInRange, abool,\n  bitMask,\n  bytesToHex, bytesToNumberBE, concatBytes, createHmacDrbg, ensureBytes, hexToBytes,\n  inRange, isBytes, memoized, numberToBytesBE, numberToHexUnpadded, validateObject,\n  type CHash, type Hex, type PrivKey\n} from './utils.ts';\n\nexport type { AffinePoint };\ntype HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\n/**\n * When Weierstrass curve has `a=0`, it becomes Koblitz curve.\n * Koblitz curves allow using **efficiently-computable GLV endomorphism \u03C8**.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n *\n * Endomorphism consists of beta, lambda and splitScalar:\n *\n * 1. GLV endomorphism \u03C8 transforms a point: `P = (x, y) \u21A6 \u03C8(P) = (\u03B2\u00B7x mod p, y)`\n * 2. GLV scalar decomposition transforms a scalar: `k \u2261 k\u2081 + k\u2082\u00B7\u03BB (mod n)`\n * 3. Then these are combined: `k\u00B7P = k\u2081\u00B7P + k\u2082\u00B7\u03C8(P)`\n * 4. Two 128-bit point-by-scalar multiplications + one point addition is faster than\n *    one 256-bit multiplication.\n *\n * where\n * * beta: \u03B2 \u2208 F\u209A with \u03B2\u00B3 = 1, \u03B2 \u2260 1\n * * lambda: \u03BB \u2208 F\u2099 with \u03BB\u00B3 = 1, \u03BB \u2260 1\n * * splitScalar decomposes k \u21A6 k\u2081, k\u2082, by using reduced basis vectors.\n *   Gauss lattice reduction calculates them from initial basis vectors `(n, 0), (-\u03BB, 0)`\n *\n * Check out `test/misc/endomorphism.js` and\n * [gist](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n */\nexport type EndomorphismOpts = {\n  beta: bigint;\n  splitScalar: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts;\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n};\n\nexport type Entropy = Hex | boolean;\nexport type SignOpts = { lowS?: boolean; extraEntropy?: Entropy; prehash?: boolean };\nexport type VerOpts = { lowS?: boolean; prehash?: boolean; format?: 'compact' | 'der' | undefined };\n\nfunction validateSigVerOpts(opts: SignOpts | VerOpts) {\n  if (opts.lowS !== undefined) abool('lowS', opts.lowS);\n  if (opts.prehash !== undefined) abool('prehash', opts.prehash);\n}\n\n// Instance for 3d XYZ points\nexport interface ProjPointType<T> extends Group<ProjPointType<T>> {\n  readonly px: T;\n  readonly py: T;\n  readonly pz: T;\n  get x(): T;\n  get y(): T;\n  toAffine(iz?: T): AffinePoint<T>;\n  toHex(isCompressed?: boolean): string;\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n\n  assertValidity(): void;\n  hasEvenY(): boolean;\n  multiplyUnsafe(scalar: bigint): ProjPointType<T>;\n  multiplyAndAddUnsafe(Q: ProjPointType<T>, a: bigint, b: bigint): ProjPointType<T> | undefined;\n  isTorsionFree(): boolean;\n  clearCofactor(): ProjPointType<T>;\n  _setWindowSize(windowSize: number): void;\n}\n// Static methods for 3d XYZ points\nexport interface ProjConstructor<T> extends GroupConstructor<ProjPointType<T>> {\n  new (x: T, y: T, z: T): ProjPointType<T>;\n  fromAffine(p: AffinePoint<T>): ProjPointType<T>;\n  fromHex(hex: Hex): ProjPointType<T>;\n  fromPrivateKey(privateKey: PrivKey): ProjPointType<T>;\n  normalizeZ(points: ProjPointType<T>[]): ProjPointType<T>[];\n  msm(points: ProjPointType<T>[], scalars: bigint[]): ProjPointType<T>;\n}\n\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  // Bytes\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n};\n\nexport type CurvePointsTypeWithLength<T> = Readonly<\n  CurvePointsType<T> & { nByteLength: number; nBitLength: number }\n>;\n\nfunction validatePointOpts<T>(curve: CurvePointsType<T>): CurvePointsTypeWithLength<T> {\n  const opts = validateBasic(curve);\n  validateObject(\n    opts,\n    {\n      a: 'field',\n      b: 'field',\n    },\n    {\n      allowInfinityPoint: 'boolean',\n      allowedPrivateKeyLengths: 'array',\n      clearCofactor: 'function',\n      fromBytes: 'function',\n      isTorsionFree: 'function',\n      toBytes: 'function',\n      wrapPrivateKey: 'boolean',\n    }\n  );\n  const { endo, Fp, a } = opts;\n  if (endo) {\n    if (!Fp.eql(a, Fp.ZERO)) {\n      throw new Error('invalid endo: CURVE.a must be 0');\n    }\n    if (\n      typeof endo !== 'object' ||\n      typeof endo.beta !== 'bigint' ||\n      typeof endo.splitScalar !== 'function'\n    ) {\n      throw new Error('invalid endo: expected \"beta\": bigint and \"splitScalar\": function');\n    }\n  }\n  return Object.freeze({ ...opts } as const);\n}\n\nexport type CurvePointsRes<T> = {\n  CURVE: ReturnType<typeof validatePointOpts<T>>;\n  ProjectivePoint: ProjConstructor<T>;\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  weierstrassEquation: (x: T) => T;\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\nexport class DERErr extends Error {\n  constructor(m = '') {\n    super(m);\n  }\n}\nexport type IDER = {\n  // asn.1 DER encoding utils\n  Err: typeof DERErr;\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string) => string;\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array };\n  };\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string;\n    decode(data: Uint8Array): bigint;\n  };\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint };\n  hexFromSig(sig: { r: bigint; s: bigint }): string;\n};\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER: IDER = {\n  // asn.1 DER encoding utils\n  Err: DERErr,\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string): string => {\n      const { Err: E } = DER;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length & 1) throw new E('tlv.encode: unpadded data');\n      const dataLen = data.length / 2;\n      const len = numberToHexUnpadded(dataLen);\n      if ((len.length / 2) & 0b1000_0000) throw new E('tlv.encode: long form length too big');\n      // length of length with long form flag\n      const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n      const t = numberToHexUnpadded(tag);\n      return t + lenLen + len + data;\n    },\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array } {\n      const { Err: E } = DER;\n      let pos = 0;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length < 2 || data[pos++] !== tag) throw new E('tlv.decode: wrong tlv');\n      const first = data[pos++];\n      const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n      let length = 0;\n      if (!isLong) length = first;\n      else {\n        // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n        const lenLen = first & 0b0111_1111;\n        if (!lenLen) throw new E('tlv.decode(long): indefinite length not supported');\n        if (lenLen > 4) throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n        const lengthBytes = data.subarray(pos, pos + lenLen);\n        if (lengthBytes.length !== lenLen) throw new E('tlv.decode: length bytes not complete');\n        if (lengthBytes[0] === 0) throw new E('tlv.decode(long): zero leftmost byte');\n        for (const b of lengthBytes) length = (length << 8) | b;\n        pos += lenLen;\n        if (length < 128) throw new E('tlv.decode(long): not minimal encoding');\n      }\n      const v = data.subarray(pos, pos + length);\n      if (v.length !== length) throw new E('tlv.decode: wrong value length');\n      return { v, l: data.subarray(pos + length) };\n    },\n  },\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string {\n      const { Err: E } = DER;\n      if (num < _0n) throw new E('integer: negative integers are not allowed');\n      let hex = numberToHexUnpadded(num);\n      // Pad with zero byte if negative flag is present\n      if (Number.parseInt(hex[0], 16) & 0b1000) hex = '00' + hex;\n      if (hex.length & 1) throw new E('unexpected DER parsing assertion: unpadded hex');\n      return hex;\n    },\n    decode(data: Uint8Array): bigint {\n      const { Err: E } = DER;\n      if (data[0] & 0b1000_0000) throw new E('invalid signature integer: negative');\n      if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n        throw new E('invalid signature integer: unnecessary leading zero');\n      return bytesToNumberBE(data);\n    },\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E, _int: int, _tlv: tlv } = DER;\n    const data = ensureBytes('signature', hex);\n    const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n    if (seqLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n    const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n    if (sLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    return { r: int.decode(rBytes), s: int.decode(sBytes) };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    const { _tlv: tlv, _int: int } = DER;\n    const rs = tlv.encode(0x02, int.encode(sig.r));\n    const ss = tlv.encode(0x02, int.encode(sig.s));\n    const seq = rs + ss;\n    return tlv.encode(0x30, seq);\n  },\n};\n\nfunction numToSizedHex(num: bigint, size: number): string {\n  return bytesToHex(numberToBytesBE(num, size));\n}\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\nexport function weierstrassPoints<T>(opts: CurvePointsType<T>): CurvePointsRes<T> {\n  const CURVE = validatePointOpts(opts);\n  const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n  const Fn = Field(CURVE.n, CURVE.nBitLength);\n\n  const toBytes =\n    CURVE.toBytes ||\n    ((_c: ProjConstructor<T>, point: ProjPointType<T>, _isCompressed: boolean) => {\n      const a = point.toAffine();\n      return concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n    });\n  const fromBytes =\n    CURVE.fromBytes ||\n    ((bytes: Uint8Array) => {\n      // const head = bytes[0];\n      const tail = bytes.subarray(1);\n      // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n      const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n      const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n      return { x, y };\n    });\n\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula. Takes x, returns y\u00B2.\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const { a, b } = CURVE;\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x\u00B3 + a * x + b\n  }\n\n  function isValidXY(x: T, y: T): boolean {\n    const left = Fp.sqr(y); // y\u00B2\n    const right = weierstrassEquation(x); // x\u00B3 + ax + b\n    return Fp.eql(left, right);\n  }\n\n  // Validate whether the passed curve params are valid.\n  // Test 1: equation y\u00B2 = x\u00B3 + ax + b should work for generator point.\n  if (!isValidXY(CURVE.Gx, CURVE.Gy)) throw new Error('bad curve params: generator point');\n\n  // Test 2: discriminant \u0394 part should be non-zero: 4a\u00B3 + 27b\u00B2 != 0.\n  // Guarantees curve is genus-1, smooth (non-singular).\n  const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n  const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n  if (Fp.is0(Fp.add(_4a3, _27b2))) throw new Error('bad curve params: a or b');\n\n  // Valid group elements reside in range 1..n-1\n  function isWithinCurveOrder(num: bigint): boolean {\n    return inRange(num, _1n, CURVE.n);\n  }\n  // Validates if priv key is valid and converts it to bigint.\n  // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n  function normPrivateKeyToScalar(key: PrivKey): bigint {\n    const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n: N } = CURVE;\n    if (lengths && typeof key !== 'bigint') {\n      if (isBytes(key)) key = bytesToHex(key);\n      // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n      if (typeof key !== 'string' || !lengths.includes(key.length))\n        throw new Error('invalid private key');\n      key = key.padStart(nByteLength * 2, '0');\n    }\n    let num: bigint;\n    try {\n      num =\n        typeof key === 'bigint'\n          ? key\n          : bytesToNumberBE(ensureBytes('private key', key, nByteLength));\n    } catch (error) {\n      throw new Error(\n        'invalid private key, expected hex or ' + nByteLength + ' bytes, got ' + typeof key\n      );\n    }\n    if (wrapPrivateKey) num = mod(num, N); // disabled by default, enabled for BLS\n    aInRange('private key', num, _1n, N); // num in range [1..N-1]\n    return num;\n  }\n\n  function aprjpoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n\n  // Memoized toAffine / validity check. They are heavy. Points are immutable.\n\n  // Converts Projective point to affine (x, y) coordinates.\n  // Can accept precomputed Z^-1 - for example, from invertBatch.\n  // (X, Y, Z) \u220B (x=X/Z, y=Y/Z)\n  const toAffineMemo = memoized((p: Point, iz?: T): AffinePoint<T> => {\n    const { px: x, py: y, pz: z } = p;\n    // Fast-path for normalized points\n    if (Fp.eql(z, Fp.ONE)) return { x, y };\n    const is0 = p.is0();\n    // If invZ was 0, we return zero point. However we still want to execute\n    // all operations, so we replace invZ with a random number, 1.\n    if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n    const ax = Fp.mul(x, iz);\n    const ay = Fp.mul(y, iz);\n    const zz = Fp.mul(z, iz);\n    if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n    if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n    return { x: ax, y: ay };\n  });\n  // NOTE: on exception this will crash 'cached' and no value will be set.\n  // Otherwise true will be return\n  const assertValidMemo = memoized((p: Point) => {\n    if (p.is0()) {\n      // (0, 1, 0) aka ZERO is invalid in most contexts.\n      // In BLS, ZERO can be serialized, so we allow it.\n      // (0, 0, 0) is invalid representation of ZERO.\n      if (CURVE.allowInfinityPoint && !Fp.is0(p.py)) return;\n      throw new Error('bad point: ZERO');\n    }\n    // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n    const { x, y } = p.toAffine();\n    // Check if x, y are valid field elements\n    if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not FE');\n    if (!isValidXY(x, y)) throw new Error('bad point: equation left != right');\n    if (!p.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    return true;\n  });\n\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates: (X, Y, Z) \u220B (x=X/Z, y=Y/Z)\n   * Default Point works in 2d / affine coordinates: (x, y)\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements ProjPointType<T> {\n    // base / generator point\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    readonly px: T;\n    readonly py: T;\n    readonly pz: T;\n\n    constructor(px: T, py: T, pz: T) {\n      if (px == null || !Fp.isValid(px)) throw new Error('x required');\n      if (py == null || !Fp.isValid(py) || Fp.is0(py)) throw new Error('y required');\n      if (pz == null || !Fp.isValid(pz)) throw new Error('z required');\n      this.px = px;\n      this.py = py;\n      this.pz = pz;\n      Object.freeze(this);\n    }\n\n    // Does not validate if the point is on-curve.\n    // Use fromHex instead, or call assertValidity() later.\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      const is0 = (i: T) => Fp.eql(i, Fp.ZERO);\n      // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n      if (is0(x) && is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    /**\n     * Takes a bunch of Projective Points but executes only one\n     * inversion on all of them. Inversion is very slow operation,\n     * so this improves performance massively.\n     * Optimization: converts a list of projective points to a list of identical points with Z=1.\n     */\n    static normalizeZ(points: Point[]): Point[] {\n      const toInv = FpInvertBatch(\n        Fp,\n        points.map((p) => p.pz)\n      );\n      return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n    }\n\n    /**\n     * Converts hash string or Uint8Array to Point.\n     * @param hex short/long ECDSA hex\n     */\n    static fromHex(hex: Hex): Point {\n      const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n      P.assertValidity();\n      return P;\n    }\n\n    // Multiplies generator point by privateKey.\n    static fromPrivateKey(privateKey: PrivKey) {\n      return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n    }\n\n    // Multiscalar Multiplication\n    static msm(points: Point[], scalars: bigint[]): Point {\n      return pippenger(Point, Fn, points, scalars);\n    }\n\n    // \"Private method\", don't use it directly\n    _setWindowSize(windowSize: number) {\n      wnaf.setWindowSize(this, windowSize);\n    }\n\n    // A point on curve is valid if it conforms to equation.\n    assertValidity(): void {\n      assertValidMemo(this);\n    }\n\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (Fp.isOdd) return !Fp.isOdd(y);\n      throw new Error(\"Field doesn't support isOdd\");\n    }\n\n    /**\n     * Compare one point to another.\n     */\n    equals(other: Point): boolean {\n      aprjpoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /**\n     * Flips point to one corresponding to (x, -y) in Affine coordinates.\n     */\n    negate(): Point {\n      return new Point(this.px, Fp.neg(this.py), this.pz);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      aprjpoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    is0() {\n      return this.equals(Point.ZERO);\n    }\n\n    private wNAF(n: bigint): { p: Point; f: Point } {\n      return wnaf.wNAFCached(this, n, Point.normalizeZ);\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed private key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(sc: bigint): Point {\n      const { endo, n: N } = CURVE;\n      aInRange('scalar', sc, _0n, N);\n      const I = Point.ZERO;\n      if (sc === _0n) return I;\n      if (this.is0() || sc === _1n) return this;\n\n      // Case a: no endomorphism. Case b: has precomputes.\n      if (!endo || wnaf.hasPrecomputes(this))\n        return wnaf.wNAFCachedUnsafe(this, sc, Point.normalizeZ);\n\n      // Case c: endomorphism\n      /** See docs for {@link EndomorphismOpts} */\n      let { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);\n      let k1p = I;\n      let k2p = I;\n      let d: Point = this;\n      while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n) k1p = k1p.add(d);\n        if (k2 & _1n) k2p = k2p.add(d);\n        d = d.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n      }\n      if (k1neg) k1p = k1p.negate();\n      if (k2neg) k2p = k2p.negate();\n      k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n      return k1p.add(k2p);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      const { endo, n: N } = CURVE;\n      aInRange('scalar', scalar, _1n, N);\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      /** See docs for {@link EndomorphismOpts} */\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);\n        let { p: k1p, f: f1p } = this.wNAF(k1);\n        let { p: k2p, f: f2p } = this.wNAF(k2);\n        k1p = wnaf.constTimeNegate(k1neg, k1p);\n        k2p = wnaf.constTimeNegate(k2neg, k2p);\n        k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n        point = k1p.add(k2p);\n        fake = f1p.add(f2p);\n      } else {\n        const { p, f } = this.wNAF(scalar);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return Point.normalizeZ([point, fake])[0];\n    }\n\n    /**\n     * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n     * Not using Strauss-Shamir trick: precomputation tables are faster.\n     * The trick could be useful if both P and Q are not G (not in our case).\n     * @returns non-zero affine point\n     */\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n      const mul = (\n        P: Point,\n        a: bigint // Select faster multiply() method\n      ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n      const sum = mul(this, a).add(mul(Q, b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (x, y, z) \u220B (x=x/z, y=y/z)\n    toAffine(iz?: T): AffinePoint<T> {\n      return toAffineMemo(this, iz);\n    }\n    isTorsionFree(): boolean {\n      const { h: cofactor, isTorsionFree } = CURVE;\n      if (cofactor === _1n) return true; // No subgroups, always torsion-free\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n    }\n    clearCofactor(): Point {\n      const { h: cofactor, clearCofactor } = CURVE;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(CURVE.h);\n    }\n\n    toRawBytes(isCompressed = true): Uint8Array {\n      abool('isCompressed', isCompressed);\n      this.assertValidity();\n      return toBytes(Point, this, isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      abool('isCompressed', isCompressed);\n      return bytesToHex(this.toRawBytes(isCompressed));\n    }\n  }\n  const { endo, nBitLength } = CURVE;\n  const wnaf = wNAF(Point, endo ? Math.ceil(nBitLength / 2) : nBitLength);\n  return {\n    CURVE,\n    ProjectivePoint: Point as ProjConstructor<T>,\n    normPrivateKeyToScalar,\n    weierstrassEquation,\n    isWithinCurveOrder,\n  };\n}\n\n// Instance\nexport interface SignatureType {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  assertValidity(): void;\n  addRecoveryBit(recovery: number): RecoveredSignatureType;\n  hasHighS(): boolean;\n  normalizeS(): SignatureType;\n  recoverPublicKey(msgHash: Hex): ProjPointType<bigint>;\n  toCompactRawBytes(): Uint8Array;\n  toCompactHex(): string;\n  toDERRawBytes(isCompressed?: boolean): Uint8Array;\n  toDERHex(isCompressed?: boolean): string;\n}\nexport type RecoveredSignatureType = SignatureType & {\n  readonly recovery: number;\n};\n// Static methods\nexport type SignatureConstructor = {\n  new (r: bigint, s: bigint): SignatureType;\n  fromCompact(hex: Hex): SignatureType;\n  fromDER(hex: Hex): SignatureType;\n};\ntype SignatureLike = { r: bigint; s: bigint };\n\nexport type PubKey = Hex | ProjPointType<bigint>;\n\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac: HmacFnSync;\n  randomBytes: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\nfunction validateOpts(\n  curve: CurveType\n): Readonly<CurveType & { nByteLength: number; nBitLength: number }> {\n  const opts = validateBasic(curve);\n  validateObject(\n    opts,\n    {\n      hash: 'hash',\n      hmac: 'function',\n      randomBytes: 'function',\n    },\n    {\n      bits2int: 'function',\n      bits2int_modN: 'function',\n      lowS: 'boolean',\n    }\n  );\n  return Object.freeze({ lowS: true, ...opts } as const);\n}\n\nexport type CurveFn = {\n  CURVE: ReturnType<typeof validateOpts>;\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  ProjectivePoint: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n};\n\n/**\n * Creates short weierstrass curve and ECDSA signature methods for it.\n * @example\n * import { Field } from '@noble/curves/abstract/modular';\n * // Before that, define BigInt-s: a, b, p, n, Gx, Gy\n * const curve = weierstrass({ a, b, Fp: Field(p), n, Gx, Gy, h: 1n })\n */\nexport function weierstrass(curveDef: CurveType): CurveFn {\n  const CURVE = validateOpts(curveDef) as ReturnType<typeof validateOpts>;\n  const { Fp, n: CURVE_ORDER, nByteLength, nBitLength } = CURVE;\n  const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n  const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n\n  function modN(a: bigint) {\n    return mod(a, CURVE_ORDER);\n  }\n  function invN(a: bigint) {\n    return invert(a, CURVE_ORDER);\n  }\n\n  const {\n    ProjectivePoint: Point,\n    normPrivateKeyToScalar,\n    weierstrassEquation,\n    isWithinCurveOrder,\n  } = weierstrassPoints({\n    ...CURVE,\n    toBytes(_c, point, isCompressed: boolean): Uint8Array {\n      const a = point.toAffine();\n      const x = Fp.toBytes(a.x);\n      const cat = concatBytes;\n      abool('isCompressed', isCompressed);\n      if (isCompressed) {\n        return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n      } else {\n        return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n      }\n    },\n    fromBytes(bytes: Uint8Array) {\n      const len = bytes.length;\n      const head = bytes[0];\n      const tail = bytes.subarray(1);\n      // this.assertValidity() is done inside of fromHex\n      if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n        const x = bytesToNumberBE(tail);\n        if (!inRange(x, _1n, Fp.ORDER)) throw new Error('Point is not on curve');\n        const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n        let y: bigint;\n        try {\n          y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n        } catch (sqrtError) {\n          const suffix = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n          throw new Error('Point is not on curve' + suffix);\n        }\n        const isYOdd = (y & _1n) === _1n;\n        // ECDSA\n        const isHeadOdd = (head & 1) === 1;\n        if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n        return { x, y };\n      } else if (len === uncompressedLen && head === 0x04) {\n        const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n        const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n        return { x, y };\n      } else {\n        const cl = compressedLen;\n        const ul = uncompressedLen;\n        throw new Error(\n          'invalid Point, expected length of ' + cl + ', or uncompressed ' + ul + ', got ' + len\n        );\n      }\n    },\n  });\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n\n  function normalizeS(s: bigint) {\n    return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n  }\n  // slice bytes num\n  const slcNum = (b: Uint8Array, from: number, to: number) => bytesToNumberBE(b.slice(from, to));\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  class Signature implements SignatureType {\n    readonly r: bigint;\n    readonly s: bigint;\n    readonly recovery?: number;\n    constructor(r: bigint, s: bigint, recovery?: number) {\n      aInRange('r', r, _1n, CURVE_ORDER); // r in [1..N]\n      aInRange('s', s, _1n, CURVE_ORDER); // s in [1..N]\n      this.r = r;\n      this.s = s;\n      if (recovery != null) this.recovery = recovery;\n      Object.freeze(this);\n    }\n\n    // pair (bytes of r, bytes of s)\n    static fromCompact(hex: Hex) {\n      const l = nByteLength;\n      hex = ensureBytes('compactSignature', hex, l * 2);\n      return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n    }\n\n    // DER encoded ECDSA signature\n    // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    static fromDER(hex: Hex) {\n      const { r, s } = DER.toSig(ensureBytes('DER', hex));\n      return new Signature(r, s);\n    }\n\n    /**\n     * @todo remove\n     * @deprecated\n     */\n    assertValidity(): void {}\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    recoverPublicKey(msgHash: Hex): typeof Point.BASE {\n      const { r, s, recovery: rec } = this;\n      const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n      const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n      if (radj >= Fp.ORDER) throw new Error('recovery id 2 or 3 invalid');\n      const prefix = (rec & 1) === 0 ? '02' : '03';\n      const R = Point.fromHex(prefix + numToSizedHex(radj, Fp.BYTES));\n      const ir = invN(radj); // r^-1\n      const u1 = modN(-h * ir); // -hr^-1\n      const u2 = modN(s * ir); // sr^-1\n      const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n      if (!Q) throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n    }\n\n    // DER-encoded\n    toDERRawBytes() {\n      return hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n      return DER.hexFromSig(this);\n    }\n\n    // padded bytes of r, then padded bytes of s\n    toCompactRawBytes() {\n      return hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n      const l = nByteLength;\n      return numToSizedHex(this.r, l) + numToSizedHex(this.s, l);\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  const utils = {\n    isValidPrivateKey(privateKey: PrivKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n\n    /**\n     * Produces cryptographically secure private key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    randomPrivateKey: (): Uint8Array => {\n      const length = getMinHashLength(CURVE.n);\n      return mapHashToField(CURVE.randomBytes(length), CURVE.n);\n    },\n\n    /**\n     * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n     * Allows to massively speed-up `point.multiply(scalar)`.\n     * @returns cached point\n     * @example\n     * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n     * fast.multiply(privKey); // much faster ECDH now\n     */\n    precompute(windowSize = 8, point = Point.BASE): typeof Point.BASE {\n      point._setWindowSize(windowSize);\n      point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n      return point;\n    },\n  };\n\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean | undefined {\n    if (typeof item === 'bigint') return false;\n    if (item instanceof Point) return true;\n    const arr = ensureBytes('key', item);\n    const len = arr.length;\n    const fpl = Fp.BYTES;\n    const compLen = fpl + 1; // e.g. 33 for 32\n    const uncompLen = 2 * fpl + 1; // e.g. 65 for 32\n    if (CURVE.allowedPrivateKeyLengths || nByteLength === compLen) {\n      return undefined;\n    } else {\n      return len === compLen || len === uncompLen;\n    }\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA: PrivKey, publicB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(privateA) === true) throw new Error('first arg must be private key');\n    if (isProbPub(publicB) === false) throw new Error('second arg must be public key');\n    const b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n  }\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    CURVE.bits2int ||\n    function (bytes: Uint8Array): bigint {\n      // Our custom check \"just in case\", for protection against DoS\n      if (bytes.length > 8192) throw new Error('input is too large');\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - nBitLength; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    CURVE.bits2int_modN ||\n    function (bytes: Uint8Array): bigint {\n      return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // NOTE: pads output with zero as per spec\n  const ORDER_MASK = bitMask(nBitLength);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num: bigint): Uint8Array {\n    aInRange('num < 2^' + nBitLength, num, _0n, ORDER_MASK);\n    // works with order, can have different size than numToField!\n    return numberToBytesBE(num, nByteLength);\n  }\n\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,\n  // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash: Hex, privateKey: PrivKey, opts = defaultSigOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { hash, randomBytes } = CURVE;\n    let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    validateSigVerOpts(opts);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(msgHash);\n    const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null && ent !== false) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!isWithinCurveOrder(k)) return; // Important: all mod() calls here must be done over N\n      const ik = invN(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      const r = modN(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n      // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n      // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n      const s = modN(ik * modN(m + r * d)); // Not using blinding here\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n  const defaultSigOpts: SignOpts = { lowS: CURVE.lowS, prehash: false };\n  const defaultVerOpts: VerOpts = { lowS: CURVE.lowS, prehash: false };\n\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash: Hex, privKey: PrivKey, opts = defaultSigOpts): RecoveredSignature {\n    const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n    const C = CURVE;\n    const drbg = createHmacDrbg<RecoveredSignature>(C.hash.outputLen, C.nByteLength, C.hmac);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE._setWindowSize(8);\n  // utils.precompute(8, ProjectivePoint.BASE)\n\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1\u22C5G - U2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    msgHash: Hex,\n    publicKey: Hex,\n    opts = defaultVerOpts\n  ): boolean {\n    const sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n    const { lowS, prehash, format } = opts;\n\n    // Verify opts, deduce signature format\n    validateSigVerOpts(opts);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    if (format !== undefined && format !== 'compact' && format !== 'der')\n      throw new Error('format must be compact or der');\n    const isHex = typeof sg === 'string' || isBytes(sg);\n    const isObj =\n      !isHex &&\n      !format &&\n      typeof sg === 'object' &&\n      sg !== null &&\n      typeof sg.r === 'bigint' &&\n      typeof sg.s === 'bigint';\n    if (!isHex && !isObj)\n      throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n\n    let _sig: Signature | undefined = undefined;\n    let P: ProjPointType<bigint>;\n    try {\n      if (isObj) _sig = new Signature(sg.r, sg.s);\n      if (isHex) {\n        // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n        // Since DER can also be 2*nByteLength bytes, we check for it first.\n        try {\n          if (format !== 'compact') _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n        }\n        if (!_sig && format !== 'der') _sig = Signature.fromCompact(sg);\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      return false;\n    }\n    if (!_sig) return false;\n    if (lowS && _sig.hasHighS()) return false;\n    if (prehash) msgHash = CURVE.hash(msgHash);\n    const { r, s } = _sig;\n    const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    const is = invN(s); // s^-1\n    const u1 = modN(h * is); // u1 = hs^-1 mod n\n    const u2 = modN(r * is); // u2 = rs^-1 mod n\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1\u22C5G + u2\u22C5P\n    if (!R) return false;\n    const v = modN(R.x);\n    return v === r;\n  }\n  return {\n    CURVE,\n    getPublicKey,\n    getSharedSecret,\n    sign,\n    verify,\n    ProjectivePoint: Point,\n    Signature,\n    utils,\n  };\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(\n  Fp: IField<T>,\n  Z: T\n): (u: T, v: T) => { isValid: boolean; value: T } {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n): (u: T) => { x: T; y: T } {\n  validateField(Fp);\n  if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n  if (!Fp.isOdd) throw new Error('Fp.isOdd is not implemented!');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n    x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n", "/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport type { CHash } from './abstract/utils.ts';\nimport { type CurveFn, type CurveType, weierstrass } from './abstract/weierstrass.ts';\n\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash: CHash): {\n  hash: CHash;\n  hmac: (key: Uint8Array, ...msgs: Uint8Array[]) => Uint8Array;\n  randomBytes: typeof randomBytes;\n} {\n  return {\n    hash,\n    hmac: (key: Uint8Array, ...msgs: Uint8Array[]) => hmac(hash, key, concatBytes(...msgs)),\n    randomBytes,\n  };\n}\n/** Same API as @noble/hashes, with ability to create curve with custom hash */\nexport type CurveDef = Readonly<Omit<CurveType, 'hash' | 'hmac' | 'randomBytes'>>;\nexport type CurveFnWithCreate = CurveFn & { create: (hash: CHash) => CurveFn };\n\nexport function createCurve(curveDef: CurveDef, defHash: CHash): CurveFnWithCreate {\n  const create = (hash: CHash): CurveFn => weierstrass({ ...curveDef, ...getHash(hash) });\n  return { ...create(defHash), create };\n}\n", "/**\n * NIST secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Seems to be rigid (not backdoored)\n * [as per discussion](https://bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975).\n *\n * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n * [See explanation](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { createCurve, type CurveFnWithCreate } from './_shortw_utils.ts';\nimport { createHasher, type Hasher, type HTFMethod, isogenyMap } from './abstract/hash-to-curve.ts';\nimport { Field, mod, pow2 } from './abstract/modular.ts';\nimport type { Hex, PrivKey } from './abstract/utils.ts';\nimport {\n  aInRange,\n  bytesToNumberBE,\n  concatBytes,\n  ensureBytes,\n  inRange,\n  numberToBytesBE,\n} from './abstract/utils.ts';\nimport { mapToCurveSimpleSWU, type ProjPointType as PointType } from './abstract/weierstrass.ts';\n\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a: bigint, b: bigint) => (a + b / _2n) / b;\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1P;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fpk1.eql(Fpk1.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fpk1 = Field(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\n\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const priv = secp256k1.utils.randomPrivateKey();\n * const pub = secp256k1.getPublicKey(priv);\n * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa\n * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available\n * const isValid = secp256k1.verify(sig, msg, pub) === true;\n * ```\n */\nexport const secp256k1: CurveFnWithCreate = createCurve(\n  {\n    a: _0n,\n    b: BigInt(7),\n    Fp: Fpk1,\n    n: secp256k1N,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1),\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    endo: {\n      // Endomorphism, see above\n      beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n      splitScalar: (k: bigint) => {\n        const n = secp256k1N;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg) k1 = n - k1;\n        if (k2neg) k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n          throw new Error('splitScalar: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n      },\n    },\n  },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n: bigint) => numberToBytesBE(n, 32);\nconst modP = (x: bigint) => mod(x, secp256k1P);\nconst modN = (x: bigint) => mod(x, secp256k1N);\nconst Point = /* @__PURE__ */ (() => secp256k1.ProjectivePoint)();\nconst GmulAdd = (Q: PointType<bigint>, a: bigint, b: bigint) =>\n  Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  let p = Point.fromPrivateKey(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = p.hasEvenY() ? d_ : modN(-d_);\n  return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  aInRange('x', x, _1n, secp256k1P); // Fail if x \u2265 p.\n  const xx = modP(x * x);\n  const c = modP(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (y % _2n !== _0n) y = modP(-y); // Return the unique point P such that x(P) = x and\n  const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return modN(num(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(\n  message: Hex,\n  privateKey: PrivKey,\n  auxRand: Hex = randomBytes(32)\n): Uint8Array {\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = numTo32b(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  const k_ = modN(num(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'\u22C5G.\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!inRange(r, _1n, secp256k1P)) return false;\n    const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!inRange(s, _1n, secp256k1N)) return false;\n    const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    const R = GmulAdd(P, s, modN(-e)); // R = s\u22C5G - e\u22C5P\n    if (!R || !R.hasEvenY() || R.toAffine().x !== r) return false; // -eP == (n-e)P\n    return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n  } catch (error) {\n    return false;\n  }\n}\n\nexport type SecpSchnorr = {\n  getPublicKey: typeof schnorrGetPublicKey;\n  sign: typeof schnorrSign;\n  verify: typeof schnorrVerify;\n  utils: {\n    randomPrivateKey: () => Uint8Array;\n    lift_x: typeof lift_x;\n    pointToBytes: (point: PointType<bigint>) => Uint8Array;\n    numberToBytesBE: typeof numberToBytesBE;\n    bytesToNumberBE: typeof bytesToNumberBE;\n    taggedHash: typeof taggedHash;\n    mod: typeof mod;\n  };\n};\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const priv = schnorr.utils.randomPrivateKey();\n * const pub = schnorr.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, priv);\n * const isValid = schnorr.verify(sig, msg, pub);\n * ```\n */\nexport const schnorr: SecpSchnorr = /* @__PURE__ */ (() => ({\n  getPublicKey: schnorrGetPublicKey,\n  sign: schnorrSign,\n  verify: schnorrVerify,\n  utils: {\n    randomPrivateKey: secp256k1.utils.randomPrivateKey,\n    lift_x,\n    pointToBytes,\n    numberToBytesBE,\n    bytesToNumberBE,\n    taggedHash,\n    mod,\n  },\n}))();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fpk1,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n  }))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher: Hasher<bigint> = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.ProjectivePoint,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fpk1.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    } as const\n  ))();\n\nexport const hashToCurve: HTFMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.hashToCurve)();\n\nexport const encodeToCurve: HTFMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.encodeToCurve)();\n", "/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */\n\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n\n/** Asserts something is boolean. */\nexport function abool(b: boolean): void {\n  if (typeof b !== 'boolean') throw new Error(`boolean expected, not ${b}`);\n}\n\n/** Asserts something is positive integer. */\nexport function anumber(n: number): void {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error('positive integer expected, got ' + n);\n}\n\n/** Asserts something is Uint8Array. */\nexport function abytes(b: Uint8Array | undefined, ...lengths: number[]): void {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n\n/**\n * Asserts something is hash\n * TODO: remove\n * @deprecated\n */\nexport function ahash(h: IHash): void {\n  if (typeof h !== 'function' || typeof h.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.createHasher');\n  anumber(h.outputLen);\n  anumber(h.blockLen);\n}\n\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance: any, checkFinished = true): void {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out: any, instance: any): void {\n  abytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error('digestInto() expects output buffer of length at least ' + min);\n  }\n}\n\nexport type IHash = {\n  (data: string | Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\n\n/** Generic type encompassing 8/16/32-byte arrays - but not 64-byte. */\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr: TypedArray): Uint8Array {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr: TypedArray): Uint32Array {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays: TypedArray[]): void {\n  for (let i = 0; i < arrays.length; i++) {\n    arrays[i].fill(0);\n  }\n}\n\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr: TypedArray): DataView {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE: boolean = /* @__PURE__ */ (() =>\n  new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin: boolean = /* @__PURE__ */ (() =>\n  // @ts-ignore\n  typeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // @ts-ignore\n  if (hasHexBuiltin) return bytes.toHex();\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 } as const;\nfunction asciiToBase16(ch: number): number | undefined {\n  if (ch >= asciis._0 && ch <= asciis._9) return ch - asciis._0; // '2' => 50-48\n  if (ch >= asciis.A && ch <= asciis.F) return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n  if (ch >= asciis.a && ch <= asciis.f) return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n  return;\n}\n\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // @ts-ignore\n  if (hasHexBuiltin) return Uint8Array.fromHex(hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n  }\n  return array;\n}\n\n// Used in micro\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  return BigInt(hex === '' ? '0' : '0x' + hex); // Big Endian\n}\n\n// Used in ff1\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\n\n// Used in micro, ff1\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\n\n// TODO: remove\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async (): Promise<void> => {};\n\n// Global symbols, but ts doesn't see them: https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error('string expected');\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(new Uint8Array([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\n// TODO: remove\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: string | Uint8Array): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  else if (isBytes(data)) data = copyBytes(data);\n  else throw new Error('Uint8Array expected, got ' + typeof data);\n  return data;\n}\n\n/**\n * Checks if two U8A use same underlying buffer and overlaps.\n * This is invalid and can corrupt data.\n */\nexport function overlapBytes(a: Uint8Array, b: Uint8Array): boolean {\n  return (\n    a.buffer === b.buffer && // best we can do, may fail with an obscure Proxy\n    a.byteOffset < b.byteOffset + b.byteLength && // a starts before b end\n    b.byteOffset < a.byteOffset + a.byteLength // b starts before a end\n  );\n}\n\n/**\n * If input and output overlap and input starts before output, we will overwrite end of input before\n * we start processing it, so this is not supported for most ciphers (except chacha/salse, which designed with this)\n */\nexport function complexOverlapBytes(input: Uint8Array, output: Uint8Array): void {\n  // This is very cursed. It works somehow, but I'm completely unsure,\n  // reasoning about overlapping aligned windows is very hard.\n  if (overlapBytes(input, output) && input.byteOffset < output.byteOffset)\n    throw new Error('complex overlap of input and output is not supported');\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\n// Used in ARX only\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts: T2\n): T1 & T2 {\n  if (opts == null || typeof opts !== 'object') throw new Error('options must be defined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n/** Compares 2 uint8array-s in kinda constant time. */\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n// TODO: remove\n/** For runtime check if class implements interface. */\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: string | Uint8Array): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n}\n\n// This will allow to re-use with composable things like packed & base encoders\n// Also, we probably can make tags composable\n\n/** Sync cipher: takes byte array and returns byte array. */\nexport type Cipher = {\n  encrypt(plaintext: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array): Uint8Array;\n};\n\n/** Async cipher e.g. from built-in WebCrypto. */\nexport type AsyncCipher = {\n  encrypt(plaintext: Uint8Array): Promise<Uint8Array>;\n  decrypt(ciphertext: Uint8Array): Promise<Uint8Array>;\n};\n\n/** Cipher with `output` argument which can optimize by doing 1 less allocation. */\nexport type CipherWithOutput = Cipher & {\n  encrypt(plaintext: Uint8Array, output?: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array, output?: Uint8Array): Uint8Array;\n};\n\n/**\n * Params are outside of return type, so it is accessible before calling constructor.\n * If function support multiple nonceLength's, we return the best one.\n */\nexport type CipherParams = {\n  blockSize: number;\n  nonceLength?: number;\n  tagLength?: number;\n  varSizeNonce?: boolean;\n};\n/** ARX cipher, like salsa or chacha. */\nexport type ARXCipher = ((\n  key: Uint8Array,\n  nonce: Uint8Array,\n  AAD?: Uint8Array\n) => CipherWithOutput) & {\n  blockSize: number;\n  nonceLength: number;\n  tagLength: number;\n};\nexport type CipherCons<T extends any[]> = (key: Uint8Array, ...args: T) => Cipher;\n/**\n * Wraps a cipher: validates args, ensures encrypt() can only be called once.\n * @__NO_SIDE_EFFECTS__\n */\nexport const wrapCipher = <C extends CipherCons<any>, P extends CipherParams>(\n  params: P,\n  constructor: C\n): C & P => {\n  function wrappedCipher(key: Uint8Array, ...args: any[]): CipherWithOutput {\n    // Validate key\n    abytes(key);\n\n    // Big-Endian hardware is rare. Just in case someone still decides to run ciphers:\n    if (!isLE) throw new Error('Non little-endian hardware is not yet supported');\n\n    // Validate nonce if nonceLength is present\n    if (params.nonceLength !== undefined) {\n      const nonce = args[0];\n      if (!nonce) throw new Error('nonce / iv required');\n      if (params.varSizeNonce) abytes(nonce);\n      else abytes(nonce, params.nonceLength);\n    }\n\n    // Validate AAD if tagLength present\n    const tagl = params.tagLength;\n    if (tagl && args[1] !== undefined) {\n      abytes(args[1]);\n    }\n\n    const cipher = constructor(key, ...args);\n    const checkOutput = (fnLength: number, output?: Uint8Array) => {\n      if (output !== undefined) {\n        if (fnLength !== 2) throw new Error('cipher output not supported');\n        abytes(output);\n      }\n    };\n    // Create wrapped cipher with validation and single-use encryption\n    let called = false;\n    const wrCipher = {\n      encrypt(data: Uint8Array, output?: Uint8Array) {\n        if (called) throw new Error('cannot encrypt() twice with same key + nonce');\n        called = true;\n        abytes(data);\n        checkOutput(cipher.encrypt.length, output);\n        return (cipher as CipherWithOutput).encrypt(data, output);\n      },\n      decrypt(data: Uint8Array, output?: Uint8Array) {\n        abytes(data);\n        if (tagl && data.length < tagl)\n          throw new Error('invalid ciphertext length: smaller than tagLength=' + tagl);\n        checkOutput(cipher.decrypt.length, output);\n        return (cipher as CipherWithOutput).decrypt(data, output);\n      },\n    };\n\n    return wrCipher;\n  }\n\n  Object.assign(wrappedCipher, params);\n  return wrappedCipher as C & P;\n};\n\n/** Represents salsa / chacha stream. */\nexport type XorStream = (\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  output?: Uint8Array,\n  counter?: number\n) => Uint8Array;\n\n/**\n * By default, returns u8a of length.\n * When out is available, it checks it for validity and uses it.\n */\nexport function getOutput(\n  expectedLength: number,\n  out?: Uint8Array,\n  onlyAligned = true\n): Uint8Array {\n  if (out === undefined) return new Uint8Array(expectedLength);\n  if (out.length !== expectedLength)\n    throw new Error('invalid output length, expected ' + expectedLength + ', got: ' + out.length);\n  if (onlyAligned && !isAligned32(out)) throw new Error('invalid output, must be aligned');\n  return out;\n}\n\n/** Polyfill for Safari 14. */\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\nexport function u64Lengths(dataLength: number, aadLength: number, isLE: boolean): Uint8Array {\n  abool(isLE);\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(aadLength), isLE);\n  setBigUint64(view, 8, BigInt(dataLength), isLE);\n  return num;\n}\n\n// Is byte array aligned to 4 byte offset (u32)?\nexport function isAligned32(bytes: Uint8Array): boolean {\n  return bytes.byteOffset % 4 === 0;\n}\n\n// copy bytes to new u8a (aligned). Because Buffer.slice is broken.\nexport function copyBytes(bytes: Uint8Array): Uint8Array {\n  return Uint8Array.from(bytes);\n}\n", "/**\n * GHash from AES-GCM and its little-endian \"mirror image\" Polyval from AES-SIV.\n *\n * Implemented in terms of GHash with conversion function for keys\n * GCM GHASH from\n * [NIST SP800-38d](https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf),\n * SIV from\n * [RFC 8452](https://datatracker.ietf.org/doc/html/rfc8452).\n *\n * GHASH   modulo: x^128 + x^7   + x^2   + x     + 1\n * POLYVAL modulo: x^128 + x^127 + x^126 + x^121 + 1\n *\n * @module\n */\n// prettier-ignore\nimport {\n  abytes, aexists, aoutput,\n  clean, copyBytes, createView, Hash, type Input, toBytes, u32,\n} from './utils.ts';\n\nconst BLOCK_SIZE = 16;\n// TODO: rewrite\n// temporary padding buffer\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\nconst ZEROS32 = u32(ZEROS16);\nconst POLY = 0xe1; // v = 2*v % POLY\n\n// v = 2*v % POLY\n// NOTE: because x + x = 0 (add/sub is same), mul2(x) != x+x\n// We can multiply any number using montgomery ladder and this function (works as double, add is simple xor)\nconst mul2 = (s0: number, s1: number, s2: number, s3: number) => {\n  const hiBit = s3 & 1;\n  return {\n    s3: (s2 << 31) | (s3 >>> 1),\n    s2: (s1 << 31) | (s2 >>> 1),\n    s1: (s0 << 31) | (s1 >>> 1),\n    s0: (s0 >>> 1) ^ ((POLY << 24) & -(hiBit & 1)), // reduce % poly\n  };\n};\n\nconst swapLE = (n: number) =>\n  (((n >>> 0) & 0xff) << 24) |\n  (((n >>> 8) & 0xff) << 16) |\n  (((n >>> 16) & 0xff) << 8) |\n  ((n >>> 24) & 0xff) |\n  0;\n\n/**\n * `mulX_POLYVAL(ByteReverse(H))` from spec\n * @param k mutated in place\n */\nexport function _toGHASHKey(k: Uint8Array): Uint8Array {\n  k.reverse();\n  const hiBit = k[15] & 1;\n  // k >>= 1\n  let carry = 0;\n  for (let i = 0; i < k.length; i++) {\n    const t = k[i];\n    k[i] = (t >>> 1) | carry;\n    carry = (t & 1) << 7;\n  }\n  k[0] ^= -hiBit & 0xe1; // if (hiBit) n ^= 0xe1000000000000000000000000000000;\n  return k;\n}\n\ntype Value = { s0: number; s1: number; s2: number; s3: number };\n\nconst estimateWindow = (bytes: number) => {\n  if (bytes > 64 * 1024) return 8;\n  if (bytes > 1024) return 4;\n  return 2;\n};\n\nclass GHASH implements Hash<GHASH> {\n  readonly blockLen = BLOCK_SIZE;\n  readonly outputLen = BLOCK_SIZE;\n  protected s0 = 0;\n  protected s1 = 0;\n  protected s2 = 0;\n  protected s3 = 0;\n  protected finished = false;\n  protected t: Value[];\n  private W: number;\n  private windowSize: number;\n  // We select bits per window adaptively based on expectedLength\n  constructor(key: Input, expectedLength?: number) {\n    key = toBytes(key);\n    abytes(key, 16);\n    const kView = createView(key);\n    let k0 = kView.getUint32(0, false);\n    let k1 = kView.getUint32(4, false);\n    let k2 = kView.getUint32(8, false);\n    let k3 = kView.getUint32(12, false);\n    // generate table of doubled keys (half of montgomery ladder)\n    const doubles: Value[] = [];\n    for (let i = 0; i < 128; i++) {\n      doubles.push({ s0: swapLE(k0), s1: swapLE(k1), s2: swapLE(k2), s3: swapLE(k3) });\n      ({ s0: k0, s1: k1, s2: k2, s3: k3 } = mul2(k0, k1, k2, k3));\n    }\n    const W = estimateWindow(expectedLength || 1024);\n    if (![1, 2, 4, 8].includes(W))\n      throw new Error('ghash: invalid window size, expected 2, 4 or 8');\n    this.W = W;\n    const bits = 128; // always 128 bits;\n    const windows = bits / W;\n    const windowSize = (this.windowSize = 2 ** W);\n    const items: Value[] = [];\n    // Create precompute table for window of W bits\n    for (let w = 0; w < windows; w++) {\n      // truth table: 00, 01, 10, 11\n      for (let byte = 0; byte < windowSize; byte++) {\n        // prettier-ignore\n        let s0 = 0, s1 = 0, s2 = 0, s3 = 0;\n        for (let j = 0; j < W; j++) {\n          const bit = (byte >>> (W - j - 1)) & 1;\n          if (!bit) continue;\n          const { s0: d0, s1: d1, s2: d2, s3: d3 } = doubles[W * w + j];\n          (s0 ^= d0), (s1 ^= d1), (s2 ^= d2), (s3 ^= d3);\n        }\n        items.push({ s0, s1, s2, s3 });\n      }\n    }\n    this.t = items;\n  }\n  protected _updateBlock(s0: number, s1: number, s2: number, s3: number) {\n    (s0 ^= this.s0), (s1 ^= this.s1), (s2 ^= this.s2), (s3 ^= this.s3);\n    const { W, t, windowSize } = this;\n    // prettier-ignore\n    let o0 = 0, o1 = 0, o2 = 0, o3 = 0;\n    const mask = (1 << W) - 1; // 2**W will kill performance.\n    let w = 0;\n    for (const num of [s0, s1, s2, s3]) {\n      for (let bytePos = 0; bytePos < 4; bytePos++) {\n        const byte = (num >>> (8 * bytePos)) & 0xff;\n        for (let bitPos = 8 / W - 1; bitPos >= 0; bitPos--) {\n          const bit = (byte >>> (W * bitPos)) & mask;\n          const { s0: e0, s1: e1, s2: e2, s3: e3 } = t[w * windowSize + bit];\n          (o0 ^= e0), (o1 ^= e1), (o2 ^= e2), (o3 ^= e3);\n          w += 1;\n        }\n      }\n    }\n    this.s0 = o0;\n    this.s1 = o1;\n    this.s2 = o2;\n    this.s3 = o3;\n  }\n  update(data: Input): this {\n    aexists(this);\n    data = toBytes(data);\n    abytes(data);\n    const b32 = u32(data);\n    const blocks = Math.floor(data.length / BLOCK_SIZE);\n    const left = data.length % BLOCK_SIZE;\n    for (let i = 0; i < blocks; i++) {\n      this._updateBlock(b32[i * 4 + 0], b32[i * 4 + 1], b32[i * 4 + 2], b32[i * 4 + 3]);\n    }\n    if (left) {\n      ZEROS16.set(data.subarray(blocks * BLOCK_SIZE));\n      this._updateBlock(ZEROS32[0], ZEROS32[1], ZEROS32[2], ZEROS32[3]);\n      clean(ZEROS32); // clean tmp buffer\n    }\n    return this;\n  }\n  destroy() {\n    const { t } = this;\n    // clean precompute table\n    for (const elm of t) {\n      (elm.s0 = 0), (elm.s1 = 0), (elm.s2 = 0), (elm.s3 = 0);\n    }\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { s0, s1, s2, s3 } = this;\n    const o32 = u32(out);\n    o32[0] = s0;\n    o32[1] = s1;\n    o32[2] = s2;\n    o32[3] = s3;\n    return out;\n  }\n  digest(): Uint8Array {\n    const res = new Uint8Array(BLOCK_SIZE);\n    this.digestInto(res);\n    this.destroy();\n    return res;\n  }\n}\n\nclass Polyval extends GHASH {\n  constructor(key: Input, expectedLength?: number) {\n    key = toBytes(key);\n    abytes(key);\n    const ghKey = _toGHASHKey(copyBytes(key));\n    super(ghKey, expectedLength);\n    clean(ghKey);\n  }\n  update(data: Input): this {\n    data = toBytes(data);\n    aexists(this);\n    const b32 = u32(data);\n    const left = data.length % BLOCK_SIZE;\n    const blocks = Math.floor(data.length / BLOCK_SIZE);\n    for (let i = 0; i < blocks; i++) {\n      this._updateBlock(\n        swapLE(b32[i * 4 + 3]),\n        swapLE(b32[i * 4 + 2]),\n        swapLE(b32[i * 4 + 1]),\n        swapLE(b32[i * 4 + 0])\n      );\n    }\n    if (left) {\n      ZEROS16.set(data.subarray(blocks * BLOCK_SIZE));\n      this._updateBlock(\n        swapLE(ZEROS32[3]),\n        swapLE(ZEROS32[2]),\n        swapLE(ZEROS32[1]),\n        swapLE(ZEROS32[0])\n      );\n      clean(ZEROS32);\n    }\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    // tmp ugly hack\n    const { s0, s1, s2, s3 } = this;\n    const o32 = u32(out);\n    o32[0] = s0;\n    o32[1] = s1;\n    o32[2] = s2;\n    o32[3] = s3;\n    return out.reverse();\n  }\n}\n\nexport type CHashPV = ReturnType<typeof wrapConstructorWithKey>;\nfunction wrapConstructorWithKey<H extends Hash<H>>(\n  hashCons: (key: Input, expectedLength?: number) => Hash<H>\n): {\n  (msg: Input, key: Input): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(key: Input, expectedLength?: number): Hash<H>;\n} {\n  const hashC = (msg: Input, key: Input): Uint8Array =>\n    hashCons(key, msg.length).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(16), 0);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input, expectedLength?: number) => hashCons(key, expectedLength);\n  return hashC;\n}\n\n/** GHash MAC for AES-GCM. */\nexport const ghash: CHashPV = wrapConstructorWithKey(\n  (key, expectedLength) => new GHASH(key, expectedLength)\n);\n\n/** Polyval MAC for AES-SIV. */\nexport const polyval: CHashPV = wrapConstructorWithKey(\n  (key, expectedLength) => new Polyval(key, expectedLength)\n);\n", "/**\n * [AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard)\n * a.k.a. Advanced Encryption Standard\n * is a variant of Rijndael block cipher, standardized by NIST in 2001.\n * We provide the fastest available pure JS implementation.\n *\n * Data is split into 128-bit blocks. Encrypted in 10/12/14 rounds (128/192/256 bits). In every round:\n * 1. **S-box**, table substitution\n * 2. **Shift rows**, cyclic shift left of all rows of data array\n * 3. **Mix columns**, multiplying every column by fixed polynomial\n * 4. **Add round key**, round_key xor i-th column of array\n *\n * Check out [FIPS-197](https://csrc.nist.gov/files/pubs/fips/197/final/docs/fips-197.pdf)\n * and [original proposal](https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf)\n * @module\n */\nimport { ghash, polyval } from './_polyval.ts';\n// prettier-ignore\nimport {\n  abytes, clean, complexOverlapBytes, concatBytes,\n  copyBytes, createView, equalBytes, getOutput, isAligned32, overlapBytes,\n  setBigUint64, u32, u64Lengths, u8, wrapCipher,\n  type Cipher, type CipherWithOutput,\n} from './utils.ts';\n\nconst BLOCK_SIZE = 16;\nconst BLOCK_SIZE32 = 4;\nconst EMPTY_BLOCK = /* @__PURE__ */ new Uint8Array(BLOCK_SIZE);\nconst POLY = 0x11b; // 1 + x + x**3 + x**4 + x**8\n\n// TODO: remove multiplication, binary ops only\nfunction mul2(n: number) {\n  return (n << 1) ^ (POLY & -(n >> 7));\n}\n\nfunction mul(a: number, b: number) {\n  let res = 0;\n  for (; b > 0; b >>= 1) {\n    // Montgomery ladder\n    res ^= a & -(b & 1); // if (b&1) res ^=a (but const-time).\n    a = mul2(a); // a = 2*a\n  }\n  return res;\n}\n\n// AES S-box is generated using finite field inversion,\n// an affine transform, and xor of a constant 0x63.\nconst sbox = /* @__PURE__ */ (() => {\n  const t = new Uint8Array(256);\n  for (let i = 0, x = 1; i < 256; i++, x ^= mul2(x)) t[i] = x;\n  const box = new Uint8Array(256);\n  box[0] = 0x63; // first elm\n  for (let i = 0; i < 255; i++) {\n    let x = t[255 - i];\n    x |= x << 8;\n    box[t[i]] = (x ^ (x >> 4) ^ (x >> 5) ^ (x >> 6) ^ (x >> 7) ^ 0x63) & 0xff;\n  }\n  clean(t);\n  return box;\n})();\n\n// Inverted S-box\nconst invSbox = /* @__PURE__ */ sbox.map((_, j) => sbox.indexOf(j));\n\n// Rotate u32 by 8\nconst rotr32_8 = (n: number) => (n << 24) | (n >>> 8);\nconst rotl32_8 = (n: number) => (n << 8) | (n >>> 24);\n// The byte swap operation for uint32 (LE<->BE)\nconst byteSwap = (word: number) =>\n  ((word << 24) & 0xff000000) |\n  ((word << 8) & 0xff0000) |\n  ((word >>> 8) & 0xff00) |\n  ((word >>> 24) & 0xff);\n\n// T-table is optimization suggested in 5.2 of original proposal (missed from FIPS-197). Changes:\n// - LE instead of BE\n// - bigger tables: T0 and T1 are merged into T01 table and T2 & T3 into T23;\n//   so index is u16, instead of u8. This speeds up things, unexpectedly\nfunction genTtable(sbox: Uint8Array, fn: (n: number) => number) {\n  if (sbox.length !== 256) throw new Error('Wrong sbox length');\n  const T0 = new Uint32Array(256).map((_, j) => fn(sbox[j]));\n  const T1 = T0.map(rotl32_8);\n  const T2 = T1.map(rotl32_8);\n  const T3 = T2.map(rotl32_8);\n  const T01 = new Uint32Array(256 * 256);\n  const T23 = new Uint32Array(256 * 256);\n  const sbox2 = new Uint16Array(256 * 256);\n  for (let i = 0; i < 256; i++) {\n    for (let j = 0; j < 256; j++) {\n      const idx = i * 256 + j;\n      T01[idx] = T0[i] ^ T1[j];\n      T23[idx] = T2[i] ^ T3[j];\n      sbox2[idx] = (sbox[i] << 8) | sbox[j];\n    }\n  }\n  return { sbox, sbox2, T0, T1, T2, T3, T01, T23 };\n}\n\nconst tableEncoding = /* @__PURE__ */ genTtable(\n  sbox,\n  (s: number) => (mul(s, 3) << 24) | (s << 16) | (s << 8) | mul(s, 2)\n);\nconst tableDecoding = /* @__PURE__ */ genTtable(\n  invSbox,\n  (s) => (mul(s, 11) << 24) | (mul(s, 13) << 16) | (mul(s, 9) << 8) | mul(s, 14)\n);\n\nconst xPowers = /* @__PURE__ */ (() => {\n  const p = new Uint8Array(16);\n  for (let i = 0, x = 1; i < 16; i++, x = mul2(x)) p[i] = x;\n  return p;\n})();\n\n/** Key expansion used in CTR. */\nfunction expandKeyLE(key: Uint8Array): Uint32Array {\n  abytes(key);\n  const len = key.length;\n  if (![16, 24, 32].includes(len))\n    throw new Error('aes: invalid key size, should be 16, 24 or 32, got ' + len);\n  const { sbox2 } = tableEncoding;\n  const toClean = [];\n  if (!isAligned32(key)) toClean.push((key = copyBytes(key)));\n  const k32 = u32(key);\n  const Nk = k32.length;\n  const subByte = (n: number) => applySbox(sbox2, n, n, n, n);\n  const xk = new Uint32Array(len + 28); // expanded key\n  xk.set(k32);\n  // 4.3.1 Key expansion\n  for (let i = Nk; i < xk.length; i++) {\n    let t = xk[i - 1];\n    if (i % Nk === 0) t = subByte(rotr32_8(t)) ^ xPowers[i / Nk - 1];\n    else if (Nk > 6 && i % Nk === 4) t = subByte(t);\n    xk[i] = xk[i - Nk] ^ t;\n  }\n  clean(...toClean);\n  return xk;\n}\n\nfunction expandKeyDecLE(key: Uint8Array): Uint32Array {\n  const encKey = expandKeyLE(key);\n  const xk = encKey.slice();\n  const Nk = encKey.length;\n  const { sbox2 } = tableEncoding;\n  const { T0, T1, T2, T3 } = tableDecoding;\n  // Inverse key by chunks of 4 (rounds)\n  for (let i = 0; i < Nk; i += 4) {\n    for (let j = 0; j < 4; j++) xk[i + j] = encKey[Nk - i - 4 + j];\n  }\n  clean(encKey);\n  // apply InvMixColumn except first & last round\n  for (let i = 4; i < Nk - 4; i++) {\n    const x = xk[i];\n    const w = applySbox(sbox2, x, x, x, x);\n    xk[i] = T0[w & 0xff] ^ T1[(w >>> 8) & 0xff] ^ T2[(w >>> 16) & 0xff] ^ T3[w >>> 24];\n  }\n  return xk;\n}\n\n// Apply tables\nfunction apply0123(\n  T01: Uint32Array,\n  T23: Uint32Array,\n  s0: number,\n  s1: number,\n  s2: number,\n  s3: number\n) {\n  return (\n    T01[((s0 << 8) & 0xff00) | ((s1 >>> 8) & 0xff)] ^\n    T23[((s2 >>> 8) & 0xff00) | ((s3 >>> 24) & 0xff)]\n  );\n}\n\nfunction applySbox(sbox2: Uint16Array, s0: number, s1: number, s2: number, s3: number) {\n  return (\n    sbox2[(s0 & 0xff) | (s1 & 0xff00)] |\n    (sbox2[((s2 >>> 16) & 0xff) | ((s3 >>> 16) & 0xff00)] << 16)\n  );\n}\n\nfunction encrypt(\n  xk: Uint32Array,\n  s0: number,\n  s1: number,\n  s2: number,\n  s3: number\n): { s0: number; s1: number; s2: number; s3: number } {\n  const { sbox2, T01, T23 } = tableEncoding;\n  let k = 0;\n  (s0 ^= xk[k++]), (s1 ^= xk[k++]), (s2 ^= xk[k++]), (s3 ^= xk[k++]);\n  const rounds = xk.length / 4 - 2;\n  for (let i = 0; i < rounds; i++) {\n    const t0 = xk[k++] ^ apply0123(T01, T23, s0, s1, s2, s3);\n    const t1 = xk[k++] ^ apply0123(T01, T23, s1, s2, s3, s0);\n    const t2 = xk[k++] ^ apply0123(T01, T23, s2, s3, s0, s1);\n    const t3 = xk[k++] ^ apply0123(T01, T23, s3, s0, s1, s2);\n    (s0 = t0), (s1 = t1), (s2 = t2), (s3 = t3);\n  }\n  // last round (without mixcolumns, so using SBOX2 table)\n  const t0 = xk[k++] ^ applySbox(sbox2, s0, s1, s2, s3);\n  const t1 = xk[k++] ^ applySbox(sbox2, s1, s2, s3, s0);\n  const t2 = xk[k++] ^ applySbox(sbox2, s2, s3, s0, s1);\n  const t3 = xk[k++] ^ applySbox(sbox2, s3, s0, s1, s2);\n  return { s0: t0, s1: t1, s2: t2, s3: t3 };\n}\n\n// Can't be merged with encrypt: arg positions for apply0123 / applySbox are different\nfunction decrypt(\n  xk: Uint32Array,\n  s0: number,\n  s1: number,\n  s2: number,\n  s3: number\n): {\n  s0: number;\n  s1: number;\n  s2: number;\n  s3: number;\n} {\n  const { sbox2, T01, T23 } = tableDecoding;\n  let k = 0;\n  (s0 ^= xk[k++]), (s1 ^= xk[k++]), (s2 ^= xk[k++]), (s3 ^= xk[k++]);\n  const rounds = xk.length / 4 - 2;\n  for (let i = 0; i < rounds; i++) {\n    const t0 = xk[k++] ^ apply0123(T01, T23, s0, s3, s2, s1);\n    const t1 = xk[k++] ^ apply0123(T01, T23, s1, s0, s3, s2);\n    const t2 = xk[k++] ^ apply0123(T01, T23, s2, s1, s0, s3);\n    const t3 = xk[k++] ^ apply0123(T01, T23, s3, s2, s1, s0);\n    (s0 = t0), (s1 = t1), (s2 = t2), (s3 = t3);\n  }\n  // Last round\n  const t0: number = xk[k++] ^ applySbox(sbox2, s0, s3, s2, s1);\n  const t1: number = xk[k++] ^ applySbox(sbox2, s1, s0, s3, s2);\n  const t2: number = xk[k++] ^ applySbox(sbox2, s2, s1, s0, s3);\n  const t3: number = xk[k++] ^ applySbox(sbox2, s3, s2, s1, s0);\n  return { s0: t0, s1: t1, s2: t2, s3: t3 };\n}\n\n// TODO: investigate merging with ctr32\nfunction ctrCounter(\n  xk: Uint32Array,\n  nonce: Uint8Array,\n  src: Uint8Array,\n  dst?: Uint8Array\n): Uint8Array {\n  abytes(nonce, BLOCK_SIZE);\n  abytes(src);\n  const srcLen = src.length;\n  dst = getOutput(srcLen, dst);\n  complexOverlapBytes(src, dst);\n  const ctr = nonce;\n  const c32 = u32(ctr);\n  // Fill block (empty, ctr=0)\n  let { s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]);\n  const src32 = u32(src);\n  const dst32 = u32(dst);\n  // process blocks\n  for (let i = 0; i + 4 <= src32.length; i += 4) {\n    dst32[i + 0] = src32[i + 0] ^ s0;\n    dst32[i + 1] = src32[i + 1] ^ s1;\n    dst32[i + 2] = src32[i + 2] ^ s2;\n    dst32[i + 3] = src32[i + 3] ^ s3;\n    // Full 128 bit counter with wrap around\n    let carry = 1;\n    for (let i = ctr.length - 1; i >= 0; i--) {\n      carry = (carry + (ctr[i] & 0xff)) | 0;\n      ctr[i] = carry & 0xff;\n      carry >>>= 8;\n    }\n    ({ s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]));\n  }\n  // leftovers (less than block)\n  // It's possible to handle > u32 fast, but is it worth it?\n  const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n  if (start < srcLen) {\n    const b32 = new Uint32Array([s0, s1, s2, s3]);\n    const buf = u8(b32);\n    for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n    clean(b32);\n  }\n  return dst;\n}\n\n// AES CTR with overflowing 32 bit counter\n// It's possible to do 32le significantly simpler (and probably faster) by using u32.\n// But, we need both, and perf bottleneck is in ghash anyway.\nfunction ctr32(\n  xk: Uint32Array,\n  isLE: boolean,\n  nonce: Uint8Array,\n  src: Uint8Array,\n  dst?: Uint8Array\n): Uint8Array {\n  abytes(nonce, BLOCK_SIZE);\n  abytes(src);\n  dst = getOutput(src.length, dst);\n  const ctr = nonce; // write new value to nonce, so it can be re-used\n  const c32 = u32(ctr);\n  const view = createView(ctr);\n  const src32 = u32(src);\n  const dst32 = u32(dst);\n  const ctrPos = isLE ? 0 : 12;\n  const srcLen = src.length;\n  // Fill block (empty, ctr=0)\n  let ctrNum = view.getUint32(ctrPos, isLE); // read current counter value\n  let { s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]);\n  // process blocks\n  for (let i = 0; i + 4 <= src32.length; i += 4) {\n    dst32[i + 0] = src32[i + 0] ^ s0;\n    dst32[i + 1] = src32[i + 1] ^ s1;\n    dst32[i + 2] = src32[i + 2] ^ s2;\n    dst32[i + 3] = src32[i + 3] ^ s3;\n    ctrNum = (ctrNum + 1) >>> 0; // u32 wrap\n    view.setUint32(ctrPos, ctrNum, isLE);\n    ({ s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]));\n  }\n  // leftovers (less than a block)\n  const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n  if (start < srcLen) {\n    const b32 = new Uint32Array([s0, s1, s2, s3]);\n    const buf = u8(b32);\n    for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n    clean(b32);\n  }\n  return dst;\n}\n\n/**\n * CTR: counter mode. Creates stream cipher.\n * Requires good IV. Parallelizable. OK, but no MAC.\n */\nexport const ctr: ((key: Uint8Array, nonce: Uint8Array) => CipherWithOutput) & {\n  blockSize: number;\n  nonceLength: number;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function aesctr(key: Uint8Array, nonce: Uint8Array): CipherWithOutput {\n    function processCtr(buf: Uint8Array, dst?: Uint8Array) {\n      abytes(buf);\n      if (dst !== undefined) {\n        abytes(dst);\n        if (!isAligned32(dst)) throw new Error('unaligned destination');\n      }\n      const xk = expandKeyLE(key);\n      const n = copyBytes(nonce); // align + avoid changing\n      const toClean = [xk, n];\n      if (!isAligned32(buf)) toClean.push((buf = copyBytes(buf)));\n      const out = ctrCounter(xk, n, buf, dst);\n      clean(...toClean);\n      return out;\n    }\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => processCtr(plaintext, dst),\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => processCtr(ciphertext, dst),\n    };\n  }\n);\n\nfunction validateBlockDecrypt(data: Uint8Array) {\n  abytes(data);\n  if (data.length % BLOCK_SIZE !== 0) {\n    throw new Error(\n      'aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size ' + BLOCK_SIZE\n    );\n  }\n}\n\nfunction validateBlockEncrypt(plaintext: Uint8Array, pcks5: boolean, dst?: Uint8Array) {\n  abytes(plaintext);\n  let outLen = plaintext.length;\n  const remaining = outLen % BLOCK_SIZE;\n  if (!pcks5 && remaining !== 0)\n    throw new Error('aec/(cbc-ecb): unpadded plaintext with disabled padding');\n  if (!isAligned32(plaintext)) plaintext = copyBytes(plaintext);\n  const b = u32(plaintext);\n  if (pcks5) {\n    let left = BLOCK_SIZE - remaining;\n    if (!left) left = BLOCK_SIZE; // if no bytes left, create empty padding block\n    outLen = outLen + left;\n  }\n  dst = getOutput(outLen, dst);\n  complexOverlapBytes(plaintext, dst);\n  const o = u32(dst);\n  return { b, o, out: dst };\n}\n\nfunction validatePCKS(data: Uint8Array, pcks5: boolean) {\n  if (!pcks5) return data;\n  const len = data.length;\n  if (!len) throw new Error('aes/pcks5: empty ciphertext not allowed');\n  const lastByte = data[len - 1];\n  if (lastByte <= 0 || lastByte > 16) throw new Error('aes/pcks5: wrong padding');\n  const out = data.subarray(0, -lastByte);\n  for (let i = 0; i < lastByte; i++)\n    if (data[len - i - 1] !== lastByte) throw new Error('aes/pcks5: wrong padding');\n  return out;\n}\n\nfunction padPCKS(left: Uint8Array) {\n  const tmp = new Uint8Array(16);\n  const tmp32 = u32(tmp);\n  tmp.set(left);\n  const paddingByte = BLOCK_SIZE - left.length;\n  for (let i = BLOCK_SIZE - paddingByte; i < BLOCK_SIZE; i++) tmp[i] = paddingByte;\n  return tmp32;\n}\n\n/** Options for ECB and CBC. */\nexport type BlockOpts = { disablePadding?: boolean };\n\n/**\n * ECB: Electronic CodeBook. Simple deterministic replacement.\n * Dangerous: always map x to y. See [AES Penguin](https://words.filippo.io/the-ecb-penguin/).\n */\nexport const ecb: ((key: Uint8Array, opts?: BlockOpts) => CipherWithOutput) & {\n  blockSize: number;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 16 },\n  function aesecb(key: Uint8Array, opts: BlockOpts = {}): CipherWithOutput {\n    const pcks5 = !opts.disablePadding;\n    return {\n      encrypt(plaintext: Uint8Array, dst?: Uint8Array) {\n        const { b, o, out: _out } = validateBlockEncrypt(plaintext, pcks5, dst);\n        const xk = expandKeyLE(key);\n        let i = 0;\n        for (; i + 4 <= b.length; ) {\n          const { s0, s1, s2, s3 } = encrypt(xk, b[i + 0], b[i + 1], b[i + 2], b[i + 3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        if (pcks5) {\n          const tmp32 = padPCKS(plaintext.subarray(i * 4));\n          const { s0, s1, s2, s3 } = encrypt(xk, tmp32[0], tmp32[1], tmp32[2], tmp32[3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        clean(xk);\n        return _out;\n      },\n      decrypt(ciphertext: Uint8Array, dst?: Uint8Array) {\n        validateBlockDecrypt(ciphertext);\n        const xk = expandKeyDecLE(key);\n        dst = getOutput(ciphertext.length, dst);\n        const toClean: (Uint8Array | Uint32Array)[] = [xk];\n        if (!isAligned32(ciphertext)) toClean.push((ciphertext = copyBytes(ciphertext)));\n        complexOverlapBytes(ciphertext, dst);\n        const b = u32(ciphertext);\n        const o = u32(dst);\n        for (let i = 0; i + 4 <= b.length; ) {\n          const { s0, s1, s2, s3 } = decrypt(xk, b[i + 0], b[i + 1], b[i + 2], b[i + 3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        clean(...toClean);\n        return validatePCKS(dst, pcks5);\n      },\n    };\n  }\n);\n\n/**\n * CBC: Cipher-Block-Chaining. Key is previous round\u2019s block.\n * Fragile: needs proper padding. Unauthenticated: needs MAC.\n */\nexport const cbc: ((key: Uint8Array, iv: Uint8Array, opts?: BlockOpts) => CipherWithOutput) & {\n  blockSize: number;\n  nonceLength: number;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function aescbc(key: Uint8Array, iv: Uint8Array, opts: BlockOpts = {}): CipherWithOutput {\n    const pcks5 = !opts.disablePadding;\n    return {\n      encrypt(plaintext: Uint8Array, dst?: Uint8Array) {\n        const xk = expandKeyLE(key);\n        const { b, o, out: _out } = validateBlockEncrypt(plaintext, pcks5, dst);\n        let _iv = iv;\n        const toClean: (Uint8Array | Uint32Array)[] = [xk];\n        if (!isAligned32(_iv)) toClean.push((_iv = copyBytes(_iv)));\n        const n32 = u32(_iv);\n        // prettier-ignore\n        let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n        let i = 0;\n        for (; i + 4 <= b.length; ) {\n          (s0 ^= b[i + 0]), (s1 ^= b[i + 1]), (s2 ^= b[i + 2]), (s3 ^= b[i + 3]);\n          ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        if (pcks5) {\n          const tmp32 = padPCKS(plaintext.subarray(i * 4));\n          (s0 ^= tmp32[0]), (s1 ^= tmp32[1]), (s2 ^= tmp32[2]), (s3 ^= tmp32[3]);\n          ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        clean(...toClean);\n        return _out;\n      },\n      decrypt(ciphertext: Uint8Array, dst?: Uint8Array) {\n        validateBlockDecrypt(ciphertext);\n        const xk = expandKeyDecLE(key);\n        let _iv = iv;\n        const toClean: (Uint8Array | Uint32Array)[] = [xk];\n        if (!isAligned32(_iv)) toClean.push((_iv = copyBytes(_iv)));\n        const n32 = u32(_iv);\n        dst = getOutput(ciphertext.length, dst);\n        if (!isAligned32(ciphertext)) toClean.push((ciphertext = copyBytes(ciphertext)));\n        complexOverlapBytes(ciphertext, dst);\n        const b = u32(ciphertext);\n        const o = u32(dst);\n        // prettier-ignore\n        let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n        for (let i = 0; i + 4 <= b.length; ) {\n          // prettier-ignore\n          const ps0 = s0, ps1 = s1, ps2 = s2, ps3 = s3;\n          (s0 = b[i + 0]), (s1 = b[i + 1]), (s2 = b[i + 2]), (s3 = b[i + 3]);\n          const { s0: o0, s1: o1, s2: o2, s3: o3 } = decrypt(xk, s0, s1, s2, s3);\n          (o[i++] = o0 ^ ps0), (o[i++] = o1 ^ ps1), (o[i++] = o2 ^ ps2), (o[i++] = o3 ^ ps3);\n        }\n        clean(...toClean);\n        return validatePCKS(dst, pcks5);\n      },\n    };\n  }\n);\n\n/**\n * CFB: Cipher Feedback Mode. The input for the block cipher is the previous cipher output.\n * Unauthenticated: needs MAC.\n */\nexport const cfb: ((key: Uint8Array, iv: Uint8Array) => CipherWithOutput) & {\n  blockSize: number;\n  nonceLength: number;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function aescfb(key: Uint8Array, iv: Uint8Array): CipherWithOutput {\n    function processCfb(src: Uint8Array, isEncrypt: boolean, dst?: Uint8Array) {\n      abytes(src);\n      const srcLen = src.length;\n      dst = getOutput(srcLen, dst);\n      if (overlapBytes(src, dst)) throw new Error('overlapping src and dst not supported.');\n      const xk = expandKeyLE(key);\n      let _iv = iv;\n      const toClean: (Uint8Array | Uint32Array)[] = [xk];\n      if (!isAligned32(_iv)) toClean.push((_iv = copyBytes(_iv)));\n      if (!isAligned32(src)) toClean.push((src = copyBytes(src)));\n      const src32 = u32(src);\n      const dst32 = u32(dst);\n      const next32 = isEncrypt ? dst32 : src32;\n      const n32 = u32(_iv);\n      // prettier-ignore\n      let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n      for (let i = 0; i + 4 <= src32.length; ) {\n        const { s0: e0, s1: e1, s2: e2, s3: e3 } = encrypt(xk, s0, s1, s2, s3);\n        dst32[i + 0] = src32[i + 0] ^ e0;\n        dst32[i + 1] = src32[i + 1] ^ e1;\n        dst32[i + 2] = src32[i + 2] ^ e2;\n        dst32[i + 3] = src32[i + 3] ^ e3;\n        (s0 = next32[i++]), (s1 = next32[i++]), (s2 = next32[i++]), (s3 = next32[i++]);\n      }\n      // leftovers (less than block)\n      const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n      if (start < srcLen) {\n        ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n        const buf = u8(new Uint32Array([s0, s1, s2, s3]));\n        for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n        clean(buf);\n      }\n      clean(...toClean);\n      return dst;\n    }\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => processCfb(plaintext, true, dst),\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => processCfb(ciphertext, false, dst),\n    };\n  }\n);\n\n// TODO: merge with chacha, however gcm has bitLen while chacha has byteLen\nfunction computeTag(\n  fn: typeof ghash,\n  isLE: boolean,\n  key: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n) {\n  const aadLength = AAD ? AAD.length : 0;\n  const h = fn.create(key, data.length + aadLength);\n  if (AAD) h.update(AAD);\n  const num = u64Lengths(8 * data.length, 8 * aadLength, isLE);\n  h.update(data);\n  h.update(num);\n  const res = h.digest();\n  clean(num);\n  return res;\n}\n\n/**\n * GCM: Galois/Counter Mode.\n * Modern, parallel version of CTR, with MAC.\n * Be careful: MACs can be forged.\n * Unsafe to use random nonces under the same key, due to collision chance.\n * As for nonce size, prefer 12-byte, instead of 8-byte.\n */\nexport const gcm: ((key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array) => Cipher) & {\n  blockSize: number;\n  nonceLength: number;\n  tagLength: number;\n  varSizeNonce: true;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 16, nonceLength: 12, tagLength: 16, varSizeNonce: true },\n  function aesgcm(key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): Cipher {\n    // NIST 800-38d doesn't enforce minimum nonce length.\n    // We enforce 8 bytes for compat with openssl.\n    // 12 bytes are recommended. More than 12 bytes would be converted into 12.\n    if (nonce.length < 8) throw new Error('aes/gcm: invalid nonce length');\n    const tagLength = 16;\n    function _computeTag(authKey: Uint8Array, tagMask: Uint8Array, data: Uint8Array) {\n      const tag = computeTag(ghash, false, authKey, data, AAD);\n      for (let i = 0; i < tagMask.length; i++) tag[i] ^= tagMask[i];\n      return tag;\n    }\n    function deriveKeys() {\n      const xk = expandKeyLE(key);\n      const authKey = EMPTY_BLOCK.slice();\n      const counter = EMPTY_BLOCK.slice();\n      ctr32(xk, false, counter, counter, authKey);\n      // NIST 800-38d, page 15: different behavior for 96-bit and non-96-bit nonces\n      if (nonce.length === 12) {\n        counter.set(nonce);\n      } else {\n        const nonceLen = EMPTY_BLOCK.slice();\n        const view = createView(nonceLen);\n        setBigUint64(view, 8, BigInt(nonce.length * 8), false);\n        // ghash(nonce || u64be(0) || u64be(nonceLen*8))\n        const g = ghash.create(authKey).update(nonce).update(nonceLen);\n        g.digestInto(counter); // digestInto doesn't trigger '.destroy'\n        g.destroy();\n      }\n      const tagMask = ctr32(xk, false, counter, EMPTY_BLOCK);\n      return { xk, authKey, counter, tagMask };\n    }\n    return {\n      encrypt(plaintext: Uint8Array) {\n        const { xk, authKey, counter, tagMask } = deriveKeys();\n        const out = new Uint8Array(plaintext.length + tagLength);\n        const toClean: (Uint8Array | Uint32Array)[] = [xk, authKey, counter, tagMask];\n        if (!isAligned32(plaintext)) toClean.push((plaintext = copyBytes(plaintext)));\n        ctr32(xk, false, counter, plaintext, out.subarray(0, plaintext.length));\n        const tag = _computeTag(authKey, tagMask, out.subarray(0, out.length - tagLength));\n        toClean.push(tag);\n        out.set(tag, plaintext.length);\n        clean(...toClean);\n        return out;\n      },\n      decrypt(ciphertext: Uint8Array) {\n        const { xk, authKey, counter, tagMask } = deriveKeys();\n        const toClean: (Uint8Array | Uint32Array)[] = [xk, authKey, tagMask, counter];\n        if (!isAligned32(ciphertext)) toClean.push((ciphertext = copyBytes(ciphertext)));\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = _computeTag(authKey, tagMask, data);\n        toClean.push(tag);\n        if (!equalBytes(tag, passedTag)) throw new Error('aes/gcm: invalid ghash tag');\n        const out = ctr32(xk, false, counter, data);\n        clean(...toClean);\n        return out;\n      },\n    };\n  }\n);\n\nconst limit = (name: string, min: number, max: number) => (value: number) => {\n  if (!Number.isSafeInteger(value) || min > value || value > max) {\n    const minmax = '[' + min + '..' + max + ']';\n    throw new Error('' + name + ': expected value in range ' + minmax + ', got ' + value);\n  }\n};\n\n/**\n * AES-GCM-SIV: classic AES-GCM with nonce-misuse resistance.\n * Guarantees that, when a nonce is repeated, the only security loss is that identical\n * plaintexts will produce identical ciphertexts.\n * RFC 8452, https://datatracker.ietf.org/doc/html/rfc8452\n */\nexport const gcmsiv: ((key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array) => Cipher) & {\n  blockSize: number;\n  nonceLength: number;\n  tagLength: number;\n  varSizeNonce: true;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 16, nonceLength: 12, tagLength: 16, varSizeNonce: true },\n  function aessiv(key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): Cipher {\n    const tagLength = 16;\n    // From RFC 8452: Section 6\n    const AAD_LIMIT = limit('AAD', 0, 2 ** 36);\n    const PLAIN_LIMIT = limit('plaintext', 0, 2 ** 36);\n    const NONCE_LIMIT = limit('nonce', 12, 12);\n    const CIPHER_LIMIT = limit('ciphertext', 16, 2 ** 36 + 16);\n    abytes(key, 16, 24, 32);\n    NONCE_LIMIT(nonce.length);\n    if (AAD !== undefined) AAD_LIMIT(AAD.length);\n    function deriveKeys() {\n      const xk = expandKeyLE(key);\n      const encKey = new Uint8Array(key.length);\n      const authKey = new Uint8Array(16);\n      const toClean: (Uint8Array | Uint32Array)[] = [xk, encKey];\n      let _nonce = nonce;\n      if (!isAligned32(_nonce)) toClean.push((_nonce = copyBytes(_nonce)));\n      const n32 = u32(_nonce);\n      // prettier-ignore\n      let s0 = 0, s1 = n32[0], s2 = n32[1], s3 = n32[2];\n      let counter = 0;\n      for (const derivedKey of [authKey, encKey].map(u32)) {\n        const d32 = u32(derivedKey);\n        for (let i = 0; i < d32.length; i += 2) {\n          // aes(u32le(0) || nonce)[:8] || aes(u32le(1) || nonce)[:8] ...\n          const { s0: o0, s1: o1 } = encrypt(xk, s0, s1, s2, s3);\n          d32[i + 0] = o0;\n          d32[i + 1] = o1;\n          s0 = ++counter; // increment counter inside state\n        }\n      }\n      const res = { authKey, encKey: expandKeyLE(encKey) };\n      // Cleanup\n      clean(...toClean);\n      return res;\n    }\n    function _computeTag(encKey: Uint32Array, authKey: Uint8Array, data: Uint8Array) {\n      const tag = computeTag(polyval, true, authKey, data, AAD);\n      // Compute the expected tag by XORing S_s and the nonce, clearing the\n      // most significant bit of the last byte and encrypting with the\n      // message-encryption key.\n      for (let i = 0; i < 12; i++) tag[i] ^= nonce[i];\n      tag[15] &= 0x7f; // Clear the highest bit\n      // encrypt tag as block\n      const t32 = u32(tag);\n      // prettier-ignore\n      let s0 = t32[0], s1 = t32[1], s2 = t32[2], s3 = t32[3];\n      ({ s0, s1, s2, s3 } = encrypt(encKey, s0, s1, s2, s3));\n      (t32[0] = s0), (t32[1] = s1), (t32[2] = s2), (t32[3] = s3);\n      return tag;\n    }\n    // actual decrypt/encrypt of message.\n    function processSiv(encKey: Uint32Array, tag: Uint8Array, input: Uint8Array) {\n      let block = copyBytes(tag);\n      block[15] |= 0x80; // Force highest bit\n      const res = ctr32(encKey, true, block, input);\n      // Cleanup\n      clean(block);\n      return res;\n    }\n    return {\n      encrypt(plaintext: Uint8Array) {\n        PLAIN_LIMIT(plaintext.length);\n        const { encKey, authKey } = deriveKeys();\n        const tag = _computeTag(encKey, authKey, plaintext);\n        const toClean: (Uint8Array | Uint32Array)[] = [encKey, authKey, tag];\n        if (!isAligned32(plaintext)) toClean.push((plaintext = copyBytes(plaintext)));\n        const out = new Uint8Array(plaintext.length + tagLength);\n        out.set(tag, plaintext.length);\n        out.set(processSiv(encKey, tag, plaintext));\n        // Cleanup\n        clean(...toClean);\n        return out;\n      },\n      decrypt(ciphertext: Uint8Array) {\n        CIPHER_LIMIT(ciphertext.length);\n        const tag = ciphertext.subarray(-tagLength);\n        const { encKey, authKey } = deriveKeys();\n        const toClean: (Uint8Array | Uint32Array)[] = [encKey, authKey];\n        if (!isAligned32(ciphertext)) toClean.push((ciphertext = copyBytes(ciphertext)));\n        const plaintext = processSiv(encKey, tag, ciphertext.subarray(0, -tagLength));\n        const expectedTag = _computeTag(encKey, authKey, plaintext);\n        toClean.push(expectedTag);\n        if (!equalBytes(tag, expectedTag)) {\n          clean(...toClean);\n          throw new Error('invalid polyval tag');\n        }\n        // Cleanup\n        clean(...toClean);\n        return plaintext;\n      },\n    };\n  }\n);\n\n/**\n * AES-GCM-SIV, not AES-SIV.\n * This is legace name, use `gcmsiv` export instead.\n * @deprecated\n */\nexport const siv: typeof gcmsiv = gcmsiv;\n\nfunction isBytes32(a: unknown): a is Uint32Array {\n  return (\n    a instanceof Uint32Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint32Array')\n  );\n}\n\nfunction encryptBlock(xk: Uint32Array, block: Uint8Array): Uint8Array {\n  abytes(block, 16);\n  if (!isBytes32(xk)) throw new Error('_encryptBlock accepts result of expandKeyLE');\n  const b32 = u32(block);\n  let { s0, s1, s2, s3 } = encrypt(xk, b32[0], b32[1], b32[2], b32[3]);\n  (b32[0] = s0), (b32[1] = s1), (b32[2] = s2), (b32[3] = s3);\n  return block;\n}\n\nfunction decryptBlock(xk: Uint32Array, block: Uint8Array): Uint8Array {\n  abytes(block, 16);\n  if (!isBytes32(xk)) throw new Error('_decryptBlock accepts result of expandKeyLE');\n  const b32 = u32(block);\n  let { s0, s1, s2, s3 } = decrypt(xk, b32[0], b32[1], b32[2], b32[3]);\n  (b32[0] = s0), (b32[1] = s1), (b32[2] = s2), (b32[3] = s3);\n  return block;\n}\n\n/**\n * AES-W (base for AESKW/AESKWP).\n * Specs: [SP800-38F](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38F.pdf),\n * [RFC 3394](https://datatracker.ietf.org/doc/rfc3394/),\n * [RFC 5649](https://datatracker.ietf.org/doc/rfc5649/).\n */\nconst AESW = {\n  /*\n  High-level pseudocode:\n  ```\n  A: u64 = IV\n  out = []\n  for (let i=0, ctr = 0; i<6; i++) {\n    for (const chunk of chunks(plaintext, 8)) {\n      A ^= swapEndianess(ctr++)\n      [A, res] = chunks(encrypt(A || chunk), 8);\n      out ||= res\n    }\n  }\n  out = A || out\n  ```\n  Decrypt is the same, but reversed.\n  */\n  encrypt(kek: Uint8Array, out: Uint8Array) {\n    // Size is limited to 4GB, otherwise ctr will overflow and we'll need to switch to bigints.\n    // If you need it larger, open an issue.\n    if (out.length >= 2 ** 32) throw new Error('plaintext should be less than 4gb');\n    const xk = expandKeyLE(kek);\n    if (out.length === 16) encryptBlock(xk, out);\n    else {\n      const o32 = u32(out);\n      // prettier-ignore\n      let a0 = o32[0], a1 = o32[1]; // A\n      for (let j = 0, ctr = 1; j < 6; j++) {\n        for (let pos = 2; pos < o32.length; pos += 2, ctr++) {\n          const { s0, s1, s2, s3 } = encrypt(xk, a0, a1, o32[pos], o32[pos + 1]);\n          // A = MSB(64, B) ^ t where t = (n*j)+i\n          (a0 = s0), (a1 = s1 ^ byteSwap(ctr)), (o32[pos] = s2), (o32[pos + 1] = s3);\n        }\n      }\n      (o32[0] = a0), (o32[1] = a1); // out = A || out\n    }\n    xk.fill(0);\n  },\n  decrypt(kek: Uint8Array, out: Uint8Array) {\n    if (out.length - 8 >= 2 ** 32) throw new Error('ciphertext should be less than 4gb');\n    const xk = expandKeyDecLE(kek);\n    const chunks = out.length / 8 - 1; // first chunk is IV\n    if (chunks === 1) decryptBlock(xk, out);\n    else {\n      const o32 = u32(out);\n      // prettier-ignore\n      let a0 = o32[0], a1 = o32[1]; // A\n      for (let j = 0, ctr = chunks * 6; j < 6; j++) {\n        for (let pos = chunks * 2; pos >= 1; pos -= 2, ctr--) {\n          a1 ^= byteSwap(ctr);\n          const { s0, s1, s2, s3 } = decrypt(xk, a0, a1, o32[pos], o32[pos + 1]);\n          (a0 = s0), (a1 = s1), (o32[pos] = s2), (o32[pos + 1] = s3);\n        }\n      }\n      (o32[0] = a0), (o32[1] = a1);\n    }\n    xk.fill(0);\n  },\n};\n\nconst AESKW_IV = /* @__PURE__ */ new Uint8Array(8).fill(0xa6); // A6A6A6A6A6A6A6A6\n\n/**\n * AES-KW (key-wrap). Injects static IV into plaintext, adds counter, encrypts 6 times.\n * Reduces block size from 16 to 8 bytes.\n * For padded version, use aeskwp.\n * [RFC 3394](https://datatracker.ietf.org/doc/rfc3394/),\n * [NIST.SP.800-38F](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38F.pdf).\n */\nexport const aeskw: ((kek: Uint8Array) => Cipher) & {\n  blockSize: number;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 8 },\n  (kek: Uint8Array): Cipher => ({\n    encrypt(plaintext: Uint8Array) {\n      if (!plaintext.length || plaintext.length % 8 !== 0)\n        throw new Error('invalid plaintext length');\n      if (plaintext.length === 8)\n        throw new Error('8-byte keys not allowed in AESKW, use AESKWP instead');\n      const out = concatBytes(AESKW_IV, plaintext);\n      AESW.encrypt(kek, out);\n      return out;\n    },\n    decrypt(ciphertext: Uint8Array) {\n      // ciphertext must be at least 24 bytes and a multiple of 8 bytes\n      // 24 because should have at least two block (1 iv + 2).\n      // Replace with 16 to enable '8-byte keys'\n      if (ciphertext.length % 8 !== 0 || ciphertext.length < 3 * 8)\n        throw new Error('invalid ciphertext length');\n      const out = copyBytes(ciphertext);\n      AESW.decrypt(kek, out);\n      if (!equalBytes(out.subarray(0, 8), AESKW_IV)) throw new Error('integrity check failed');\n      out.subarray(0, 8).fill(0); // ciphertext.subarray(0, 8) === IV, but we clean it anyway\n      return out.subarray(8);\n    },\n  })\n);\n\n/*\nWe don't support 8-byte keys. The rabbit hole:\n\n- Wycheproof says: \"NIST SP 800-38F does not define the wrapping of 8 byte keys.\n  RFC 3394 Section 2  on the other hand specifies that 8 byte keys are wrapped\n  by directly encrypting one block with AES.\"\n    - https://github.com/C2SP/wycheproof/blob/master/doc/key_wrap.md\n    - \"RFC 3394 specifies in Section 2, that the input for the key wrap\n      algorithm must be at least two blocks and otherwise the constant\n      field and key are simply encrypted with ECB as a single block\"\n- What RFC 3394 actually says (in Section 2):\n    - \"Before being wrapped, the key data is parsed into n blocks of 64 bits.\n      The only restriction the key wrap algorithm places on n is that n be\n      at least two\"\n    - \"For key data with length less than or equal to 64 bits, the constant\n      field used in this specification and the key data form a single\n      128-bit codebook input making this key wrap unnecessary.\"\n- Which means \"assert(n >= 2)\" and \"use something else for 8 byte keys\"\n- NIST SP800-38F actually prohibits 8-byte in \"5.3.1 Mandatory Limits\".\n  It states that plaintext for KW should be \"2 to 2^54 -1 semiblocks\".\n- So, where does \"directly encrypt single block with AES\" come from?\n    - Not RFC 3394. Pseudocode of key wrap in 2.2 explicitly uses\n      loop of 6 for any code path\n    - There is a weird W3C spec:\n      https://www.w3.org/TR/2002/REC-xmlenc-core-20021210/Overview.html#kw-aes128\n    - This spec is outdated, as admitted by Wycheproof authors\n    - There is RFC 5649 for padded key wrap, which is padding construction on\n      top of AESKW. In '4.1.2' it says: \"If the padded plaintext contains exactly\n      eight octets, then prepend the AIV as defined in Section 3 above to P[1] and\n      encrypt the resulting 128-bit block using AES in ECB mode [Modes] with key\n      K (the KEK).  In this case, the output is two 64-bit blocks C[0] and C[1]:\"\n    - Browser subtle crypto is actually crashes on wrapping keys less than 16 bytes:\n      `Error: error:1C8000E6:Provider routines::invalid input length] { opensslErrorStack: [ 'error:030000BD:digital envelope routines::update error' ]`\n\nIn the end, seems like a bug in Wycheproof.\nThe 8-byte check can be easily disabled inside of AES_W.\n*/\n\nconst AESKWP_IV = 0xa65959a6; // single u32le value\n\n/**\n * AES-KW, but with padding and allows random keys.\n * Second u32 of IV is used as counter for length.\n * [RFC 5649](https://www.rfc-editor.org/rfc/rfc5649)\n */\nexport const aeskwp: ((kek: Uint8Array) => Cipher) & {\n  blockSize: number;\n} = /* @__PURE__ */ wrapCipher(\n  { blockSize: 8 },\n  (kek: Uint8Array): Cipher => ({\n    encrypt(plaintext: Uint8Array) {\n      if (!plaintext.length) throw new Error('invalid plaintext length');\n      const padded = Math.ceil(plaintext.length / 8) * 8;\n      const out = new Uint8Array(8 + padded);\n      out.set(plaintext, 8);\n      const out32 = u32(out);\n      out32[0] = AESKWP_IV;\n      out32[1] = byteSwap(plaintext.length);\n      AESW.encrypt(kek, out);\n      return out;\n    },\n    decrypt(ciphertext: Uint8Array) {\n      // 16 because should have at least one block\n      if (ciphertext.length < 16) throw new Error('invalid ciphertext length');\n      const out = copyBytes(ciphertext);\n      const o32 = u32(out);\n      AESW.decrypt(kek, out);\n      const len = byteSwap(o32[1]) >>> 0;\n      const padded = Math.ceil(len / 8) * 8;\n      if (o32[0] !== AESKWP_IV || out.length - 8 !== padded)\n        throw new Error('integrity check failed');\n      for (let i = len; i < padded; i++)\n        if (out[8 + i] !== 0) throw new Error('integrity check failed');\n      out.subarray(0, 8).fill(0); // ciphertext.subarray(0, 8) === IV, but we clean it anyway\n      return out.subarray(8, 8 + len);\n    },\n  })\n);\n\n/** Unsafe low-level internal methods. May change at any time. */\nexport const unsafe: {\n  expandKeyLE: typeof expandKeyLE;\n  expandKeyDecLE: typeof expandKeyDecLE;\n  encrypt: typeof encrypt;\n  decrypt: typeof decrypt;\n  encryptBlock: typeof encryptBlock;\n  decryptBlock: typeof decryptBlock;\n  ctrCounter: typeof ctrCounter;\n  ctr32: typeof ctr32;\n} = {\n  expandKeyLE,\n  expandKeyDecLE,\n  encrypt,\n  decrypt,\n  encryptBlock,\n  decryptBlock,\n  ctrCounter,\n  ctr32,\n};\n", "import { Buff } from '@cmdcode/buff';\nimport { secp256k1, schnorr } from '@noble/curves/secp256k1';\nimport { gcm } from '@noble/ciphers/aes';\nimport { mod } from '@noble/curves/abstract/modular';\nexport function gen_seckey(secret) {\n    let sbig = (secret !== undefined)\n        ? Buff.hex(secret).big\n        : Buff.random(32).big;\n    sbig = mod(sbig, secp256k1.CURVE.n);\n    return Buff.big(sbig).hex;\n}\nexport function get_pubkey(seckey) {\n    const pbytes = schnorr.getPublicKey(seckey);\n    return new Buff(pbytes).hex;\n}\nexport function get_shared_secret(seckey, peer_pk) {\n    const pubkey = (peer_pk.length === 66)\n        ? peer_pk\n        : '02' + peer_pk;\n    const sbytes = secp256k1.getSharedSecret(seckey, pubkey, true);\n    return new Buff(sbytes).slice(1).hex;\n}\nexport function sign_msg(seckey, message) {\n    const sig = schnorr.sign(message, seckey);\n    return new Buff(sig).hex;\n}\nexport function verify_sig(message, pubkey, signature) {\n    return schnorr.verify(signature, message, pubkey);\n}\nexport function encrypt_content(secret, content, iv) {\n    const cbytes = Buff.str(content);\n    const sbytes = Buff.hex(secret);\n    const vector = (iv !== undefined)\n        ? Buff.hex(iv, 24)\n        : Buff.random(24);\n    const encrypted = gcm(sbytes, vector).encrypt(cbytes);\n    return new Buff(encrypted).b64url + '?iv=' + vector.b64url;\n}\nexport function decrypt_content(secret, content) {\n    const [encryped, iv] = content.split('?iv=');\n    const cbytes = Buff.b64url(encryped);\n    const sbytes = Buff.hex(secret);\n    const vector = Buff.b64url(iv);\n    const decrypted = gcm(sbytes, vector).decrypt(cbytes);\n    return new Buff(decrypted).str;\n}\n", "import { Buff } from '@cmdcode/buff';\nexport function gen_message_id() {\n    return Buff.random(16).hex;\n}\nexport function get_event_id(template) {\n    const preimg = JSON.stringify([\n        0,\n        template.pubkey,\n        template.created_at,\n        template.kind,\n        template.tags,\n        template.content,\n    ]);\n    return Buff.str(preimg).digest.hex;\n}\nexport function get_tags(event, tag) {\n    return event.tags.filter(e => e.at(0) === tag);\n}\nexport function is_recipient(event, pubkey) {\n    const peers = get_tags(event, 'p');\n    return peers.some(e => e[1] === pubkey);\n}\nexport function get_unique_items(arr) {\n    const ret = new Set();\n    for (const row of arr) {\n        for (const item of row) {\n            ret.add(item);\n        }\n    }\n    return [...ret];\n}\n", "export * from \"./errors.js\";\nexport * from \"./helpers/parseUtil.js\";\nexport * from \"./helpers/typeAliases.js\";\nexport * from \"./helpers/util.js\";\nexport * from \"./types.js\";\nexport * from \"./ZodError.js\";\n", "export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n", "import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n", "import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n", "import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n", "import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n", "export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n", "import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n", "import * as z from \"./external.js\";\nexport * from \"./external.js\";\nexport { z };\nexport default z;\n", "import z3 from \"./v3/index.js\";\nexport * from \"./v3/index.js\";\nexport default z3;\n", "import { z } from 'zod';\nconst big = z.bigint(), bool = z.boolean(), date = z.date(), num = z.number(), uint = z.number().max(Number.MAX_SAFE_INTEGER), str = z.string(), stamp = z.number().min(500_000_000).max(Number.MAX_SAFE_INTEGER), url = z.string().url(), any = z.any();\nconst hex = z.string()\n    .regex(/^[0-9a-fA-F]*$/)\n    .refine(e => e.length % 2 === 0);\nconst literal = z.union([z.string(), z.number(), z.boolean(), z.null()]);\nconst hex16 = hex.refine((e) => e.length === 32);\nconst hex20 = hex.refine((e) => e.length === 40);\nconst hex32 = hex.refine((e) => e.length === 64);\nconst hex64 = hex.refine((e) => e.length === 128);\nconst pubkey = hex.refine((e) => e.length === 66);\nconst base58 = z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/);\nconst base64 = z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/);\nconst b64url = z.string().regex(/^[a-zA-Z0-9\\-_]+={0,2}$/);\nconst bech32 = z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/);\nexport default {\n    any,\n    base58,\n    base64,\n    b64url,\n    bech32,\n    big,\n    bool,\n    date,\n    hex32,\n    hex16,\n    hex20,\n    hex64,\n    hex,\n    literal,\n    num,\n    pubkey,\n    str,\n    stamp,\n    uint,\n    url\n};\n", "import { z } from 'zod';\nimport base from './base.js';\nconst tags = base.str.array();\nconst template = z.object({\n    content: base.str,\n    created_at: base.stamp,\n    kind: base.num,\n    pubkey: base.hex32,\n    tags: tags.array()\n});\nconst unsigned = template.extend({\n    id: base.hex32\n});\nconst signed = unsigned.extend({\n    sig: base.hex64,\n});\nexport default { signed, tags, template, unsigned };\n", "import { z } from 'zod';\nimport base from './base.js';\nconst mid = base.hex16;\nconst payload = base.str;\nconst topic = base.str.min(3).max(256);\nconst envelope = z.tuple([topic, mid, payload]);\nexport default { envelope };\n", "import base from './base.js';\nimport event from './event.js';\nimport msg from './msg.js';\nexport default { base, event, msg };\n", "import { Buff } from '@cmdcode/buff';\nexport var Assert;\n(function (Assert) {\n    function ok(value, message) {\n        if (value === false)\n            throw new Error(message ?? 'Assertion failed!');\n    }\n    Assert.ok = ok;\n    function exists(input, err_msg) {\n        if (typeof input === 'undefined') {\n            throw new TypeError(err_msg ?? 'Input is undefined!');\n        }\n        if (input === null) {\n            throw new TypeError(err_msg ?? 'Input is null!');\n        }\n    }\n    Assert.exists = exists;\n    function size(input, size, err_msg) {\n        const bytes = Buff.bytes(input);\n        if (bytes.length !== size) {\n            throw new Error(err_msg ?? `Invalid byte size: ${bytes.hex} !== ${size}`);\n        }\n        return true;\n    }\n    Assert.size = size;\n})(Assert || (Assert = {}));\n", "export const now = () => Math.floor(Date.now() / 1000);\nexport const sleep = (ms = 1000) => new Promise(res => setTimeout(res, ms));\nexport function parse_error(err) {\n    if (err instanceof Error)\n        return err.message;\n    if (typeof err === 'string')\n        return err;\n    return String(err);\n}\n", "import { get_event_id } from './util.js';\nimport { encrypt_content, get_pubkey, get_shared_secret, sign_msg, verify_sig } from './crypto.js';\nimport Schema from '../schema/index.js';\nimport * as Util from '../util/index.js';\nexport function create_event(config, payload, peer_pk, seckey) {\n    const created_at = config.created_at ?? Util.now();\n    const pubkey = get_pubkey(seckey);\n    const secret = get_shared_secret(seckey, peer_pk);\n    const content = encrypt_content(secret, payload);\n    const event = { ...config, pubkey, content, created_at };\n    event.tags.push(['p', peer_pk]);\n    return sign_event(seckey, event);\n}\nexport function sign_event(seckey, template) {\n    const id = get_event_id(template);\n    const sig = sign_msg(seckey, id);\n    return { ...template, id, sig };\n}\nexport function verify_event(event) {\n    const { id, sig, ...template } = event;\n    const schema = Schema.event.signed;\n    const parsed = schema.safeParse(event);\n    const vid = get_event_id(template);\n    if (!parsed.success) {\n        return 'event failed schema validation';\n    }\n    else if (id !== vid) {\n        return 'event id mismatch';\n    }\n    else if (!verify_sig(id, event.pubkey, sig)) {\n        return 'invalid event signature';\n    }\n    else {\n        return null;\n    }\n}\n", "import { verify_event } from './event.js';\nimport { gen_message_id, is_recipient } from './util.js';\nimport { decrypt_content, get_pubkey, get_shared_secret } from './crypto.js';\nimport * as CONST from '../const.js';\nimport Schema from '../schema/index.js';\nexport function decrypt_payload(event, seckey) {\n    const error = verify_event(event);\n    if (error !== null) {\n        throw new Error(error);\n    }\n    const pubkey = get_pubkey(seckey);\n    if (!is_recipient(event, pubkey)) {\n        throw new Error('pubkey not in peers list');\n    }\n    const secret = get_shared_secret(seckey, event.pubkey);\n    const content = decrypt_content(secret, event.content);\n    const payload = JSON.parse(content);\n    return payload;\n}\nexport function finalize_message(template) {\n    const id = template.id ?? gen_message_id();\n    return { ...template, id };\n}\nexport function create_payload(tag, data, id) {\n    try {\n        return JSON.stringify([tag, id, data]);\n    }\n    catch (err) {\n        throw new Error('failed to create message payload');\n    }\n}\nexport function parse_envelope(envelope, event) {\n    const schema = Schema.msg.envelope;\n    const parsed = schema.safeParse(envelope);\n    if (!parsed.success) {\n        if (CONST.DEBUG)\n            console.log(parsed.error);\n        throw new Error('envelope failed schema validation');\n    }\n    const [tag, id, data] = parsed.data;\n    return { env: event, data, id, tag };\n}\n", "import Schema from '../schema/index.js';\nexport function verify_relays(relays) {\n    const schema = Schema.base.url.array();\n    const parsed = schema.safeParse(relays);\n    if (!parsed.success) {\n        throw new Error('invalid relay set: ' + relays);\n    }\n}\nexport function verify_seckey(seckey) {\n    const schema = Schema.base.hex32;\n    const parsed = schema.safeParse(seckey);\n    if (!parsed.success) {\n        throw new Error('invalid secret key: ' + seckey);\n    }\n    else {\n    }\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { DOMAIN, _N } from '../const.js';\nimport { str_to_bytes } from './util.js';\nimport { hash_to_field } from '@noble/curves/abstract/hash-to-curve';\nconst OPT = { m: 1, p: _N, k: 128, expand: 'xmd', hash: sha256 };\nfunction get_opts(DST) {\n    return { ...OPT, DST };\n}\nexport function H1(msg) {\n    const DST = DOMAIN + 'rho';\n    const nums = hash_to_field(msg, 1, get_opts(DST));\n    return Buff.big(nums[0][0], 32);\n}\nexport function H2(msg) {\n    const DST = DOMAIN + 'chal';\n    const nums = hash_to_field(msg, 1, get_opts(DST));\n    return Buff.big(nums[0][0], 32);\n}\nexport function H3(msg) {\n    const DST = DOMAIN + 'nonce';\n    const nums = hash_to_field(msg, 1, get_opts(DST));\n    return Buff.big(nums[0][0], 32);\n}\nexport function H4(msg) {\n    const DST = str_to_bytes(DOMAIN + 'msg');\n    const hash = sha256(new Uint8Array([...DST, ...msg]));\n    return new Buff(hash);\n}\nexport function H5(msg) {\n    const DST = str_to_bytes(DOMAIN + 'com');\n    const hash = sha256(new Uint8Array([...DST, ...msg]));\n    return new Buff(hash);\n}\n", "/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  abytes as abytes_,\n  bytesToHex as bytesToHex_,\n  concatBytes as concatBytes_,\n  hexToBytes as hexToBytes_,\n  isBytes as isBytes_,\n} from '@noble/hashes/utils.js';\nexport {\n  abytes,\n  anumber,\n  bytesToHex,\n  bytesToUtf8,\n  concatBytes,\n  hexToBytes,\n  isBytes,\n  randomBytes,\n  utf8ToBytes,\n} from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nexport function abool(title: string, value: boolean): void {\n  if (typeof value !== 'boolean') throw new Error(title + ' boolean expected, got ' + value);\n}\n\n// Used in weierstrass, der\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? '0' + hex : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  abytes_(bytes);\n  return hexToNumber(bytesToHex_(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes_(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes_(hex);\n    } catch (e) {\n      throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n    }\n  } else if (isBytes_(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(title + ' must be hex string or Uint8Array');\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n  return res;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\n// export const utf8ToBytes: typeof utf8ToBytes_ = utf8ToBytes_;\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\n// export const bytesToUtf8: typeof bytesToUtf8_ = bytesToUtf8_;\n\n// Is positive bigint\nconst isPosBig = (n: bigint) => typeof n === 'bigint' && _0n <= n;\n\nexport function inRange(n: bigint, min: bigint, max: bigint): boolean {\n  return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title: string, n: bigint, min: bigint, max: bigint): void {\n  // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n  // consider P=256n, min=0n, max=P\n  // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n  // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n  // - our way is the cleanest:               `inRange('x', x, 0n, P)\n  if (!inRange(n, min, max))\n    throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n: bigint): number {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number): bigint {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n: bigint, pos: number, value: boolean): bigint {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number): bigint => (_1n << BigInt(n)) - _1n;\n\n// DRBG\n\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  const u8n = (len: number) => new Uint8Array(len); // creates Uint8Array\n  const u8of = (byte: number) => Uint8Array.of(byte); // another shortcut\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n(0)) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8of(0x00), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8of(0x01), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes_(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any): boolean => typeof val === 'bigint',\n  function: (val: any): boolean => typeof val === 'function',\n  boolean: (val: any): boolean => typeof val === 'boolean',\n  string: (val: any): boolean => typeof val === 'string',\n  stringOrUint8Array: (val: any): boolean => typeof val === 'string' || isBytes_(val),\n  isSafeInteger: (val: any): boolean => Number.isSafeInteger(val),\n  array: (val: any): boolean => Array.isArray(val),\n  field: (val: any, object: any): any => (object as any).Fp.isValid(val),\n  hash: (val: any): boolean => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n): T {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error('invalid validator function');\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        'param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n\nexport function isHash(val: CHash): boolean {\n  return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n}\nexport function _validateObject(\n  object: Record<string, any>,\n  fields: Record<string, string>,\n  optFields: Record<string, string> = {}\n): void {\n  if (!object || typeof object !== 'object') throw new Error('expected valid options object');\n  type Item = keyof typeof object;\n  function checkField(fieldName: Item, expectedType: string, isOpt: boolean) {\n    const val = object[fieldName];\n    if (isOpt && val === undefined) return;\n    const current = typeof val;\n    if (current !== expectedType || val === null)\n      throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n  }\n  Object.entries(fields).forEach(([k, v]) => checkField(k, v, false));\n  Object.entries(optFields).forEach(([k, v]) => checkField(k, v, true));\n}\n\n/**\n * throws not implemented error\n */\nexport const notImplemented = (): never => {\n  throw new Error('not implemented');\n};\n\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized<T extends object, R, O extends any[]>(\n  fn: (arg: T, ...args: O) => R\n): (arg: T, ...args: O) => R {\n  const map = new WeakMap<T, R>();\n  return (arg: T, ...args: O): R => {\n    const val = map.get(arg);\n    if (val !== undefined) return val;\n    const computed = fn(arg, ...args);\n    map.set(arg, computed);\n    return computed;\n  };\n}\n", "/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  _validateObject,\n  anumber,\n  bitMask,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  numberToBytesBE,\n  numberToBytesLE,\n} from '../utils.ts';\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5);\nconst _8n = /* @__PURE__ */ BigInt(8);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  return FpPow(Field(modulo), num, power);\n}\n\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n) throw new Error('invert: expected non-zero number');\n  if (modulo <= _0n) throw new Error('invert: expected positive modulus, got ' + modulo);\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4<T>(Fp: IField<T>, n: T) {\n  const p1div4 = (Fp.ORDER + _1n) / _4n;\n  const root = Fp.pow(n, p1div4);\n  // Throw if root^2 != n\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n  return root;\n}\n\nfunction sqrt5mod8<T>(Fp: IField<T>, n: T) {\n  const p5div8 = (Fp.ORDER - _5n) / _8n;\n  const n2 = Fp.mul(n, _2n);\n  const v = Fp.pow(n2, p5div8);\n  const nv = Fp.mul(n, v);\n  const i = Fp.mul(Fp.mul(nv, _2n), v);\n  const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n  return root;\n}\n\n// TODO: Commented-out for now. Provide test vectors.\n// Tonelli is too slow for extension fields Fp2.\n// That means we can't use sqrt (c1, c2...) even for initialization constants.\n// if (P % _16n === _9n) return sqrt9mod16;\n// // prettier-ignore\n// function sqrt9mod16<T>(Fp: IField<T>, n: T, p7div16?: bigint) {\n//   if (p7div16 === undefined) p7div16 = (Fp.ORDER + BigInt(7)) / _16n;\n//   const c1 = Fp.sqrt(Fp.neg(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n//   const c2 = Fp.sqrt(c1);             //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n//   const c3 = Fp.sqrt(Fp.neg(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n//   const c4 = p7div16;                 //  4. c4 = (q + 7) / 16        # Integer arithmetic\n//   let tv1 = Fp.pow(n, c4);            //  1. tv1 = x^c4\n//   let tv2 = Fp.mul(c1, tv1);          //  2. tv2 = c1 * tv1\n//   const tv3 = Fp.mul(c2, tv1);        //  3. tv3 = c2 * tv1\n//   let tv4 = Fp.mul(c3, tv1);          //  4. tv4 = c3 * tv1\n//   const e1 = Fp.eql(Fp.sqr(tv2), n);  //  5.  e1 = (tv2^2) == x\n//   const e2 = Fp.eql(Fp.sqr(tv3), n);  //  6.  e2 = (tv3^2) == x\n//   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n//   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n//   const e3 = Fp.eql(Fp.sqr(tv2), n);  //  9.  e3 = (tv2^2) == x\n//   return Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3) # Select the sqrt from tv1 and tv2\n// }\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // Initialization (precomputation).\n  // Caching initialization could boost perf by 7%.\n  if (P < BigInt(3)) throw new Error('sqrt is not defined for small field');\n  // Factor P - 1 = Q * 2^S, where Q is odd\n  let Q = P - _1n;\n  let S = 0;\n  while (Q % _2n === _0n) {\n    Q /= _2n;\n    S++;\n  }\n\n  // Find the first quadratic non-residue Z >= 2\n  let Z = _2n;\n  const _Fp = Field(P);\n  while (FpLegendre(_Fp, Z) === 1) {\n    // Basic primality test for P. After x iterations, chance of\n    // not finding quadratic non-residue is 2^x, so 2^1000.\n    if (Z++ > 1000) throw new Error('Cannot find square root: probably non-prime P');\n  }\n  // Fast-path; usually done before Z, but we do \"primality test\".\n  if (S === 1) return sqrt3mod4;\n\n  // Slow-path\n  // TODO: test on Fp2 and others\n  let cc = _Fp.pow(Z, Q); // c = z^Q\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    if (Fp.is0(n)) return n;\n    // Check if n is a quadratic residue using Legendre symbol\n    if (FpLegendre(Fp, n) !== 1) throw new Error('Cannot find square root');\n\n    // Initialize variables for the main loop\n    let M = S;\n    let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n    let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n    let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n\n    // Main loop\n    // while t != 1\n    while (!Fp.eql(t, Fp.ONE)) {\n      if (Fp.is0(t)) return Fp.ZERO; // if t=0 return R=0\n      let i = 1;\n\n      // Find the smallest i >= 1 such that t^(2^i) \u2261 1 (mod P)\n      let t_tmp = Fp.sqr(t); // t^(2^1)\n      while (!Fp.eql(t_tmp, Fp.ONE)) {\n        i++;\n        t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n        if (i === M) throw new Error('Cannot find square root');\n      }\n\n      // Calculate the exponent for b: 2^(M - i - 1)\n      const exponent = _1n << BigInt(M - i - 1); // bigint is important\n      const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n\n      // Update variables\n      M = i;\n      c = Fp.sqr(b); // c = b^2\n      t = Fp.mul(t, c); // t = (t * b^2)\n      R = Fp.mul(R, b); // R = R*b\n    }\n    return R;\n  };\n}\n\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P \u2261 3 (mod 4)\n * 2. P \u2261 5 (mod 8)\n * 3. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // P \u2261 3 (mod 4) => \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) return sqrt3mod4;\n  // P \u2261 5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n  if (P % _8n === _5n) return sqrt5mod8;\n  // P \u2261 9 (mod 16) not implemented, see above\n  // Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint): boolean =>\n  (mod(num, modulo) & _1n) === _1n;\n\n/** Field is not always over prime: for example, Fp2 has ORDER(q)=p^m. */\nexport interface IField<T> {\n  ORDER: bigint;\n  isLE: boolean;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  isValidNot0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  // legendre?(num: T): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>): IField<T> {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'number',\n    BITS: 'number',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  _validateObject(field, opts);\n  // const max = 16384;\n  // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n  // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n  return field;\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(Fp: IField<T>, num: T, power: bigint): T {\n  if (power < _0n) throw new Error('invalid exponent, negatives unsupported');\n  if (power === _0n) return Fp.ONE;\n  if (power === _1n) return num;\n  let p = Fp.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = Fp.mul(p, d);\n    d = Fp.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch<T>(Fp: IField<T>, nums: T[], passZero = false): T[] {\n  const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n  // Walk from first to last, multiply them by each other MOD p\n  const multipliedAcc = nums.reduce((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = acc;\n    return Fp.mul(acc, num);\n  }, Fp.ONE);\n  // Invert last element\n  const invertedAcc = Fp.inv(multipliedAcc);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = Fp.mul(acc, inverted[i]);\n    return Fp.mul(acc, num);\n  }, invertedAcc);\n  return inverted;\n}\n\n// TODO: remove\nexport function FpDiv<T>(Fp: IField<T>, lhs: T, rhs: T | bigint): T {\n  return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p) \u2261 1    if a is a square (mod p), quadratic residue\n * * (a | p) \u2261 -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) \u2261 0    if a \u2261 0 (mod p)\n */\nexport function FpLegendre<T>(Fp: IField<T>, n: T): -1 | 0 | 1 {\n  // We can use 3rd argument as optional cache of this value\n  // but seems unneeded for now. The operation is very fast.\n  const p1mod2 = (Fp.ORDER - _1n) / _2n;\n  const powered = Fp.pow(n, p1mod2);\n  const yes = Fp.eql(powered, Fp.ONE);\n  const zero = Fp.eql(powered, Fp.ZERO);\n  const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n  if (!yes && !zero && !no) throw new Error('invalid Legendre symbol result');\n  return yes ? 1 : zero ? 0 : -1;\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(Fp: IField<T>, n: T): boolean {\n  const l = FpLegendre(Fp, n);\n  return l === 1;\n}\n\nexport type NLength = { nByteLength: number; nBitLength: number };\n// CURVE.n lengths\nexport function nLength(n: bigint, nBitLength?: number): NLength {\n  // Bit size, byte size of CURVE.n\n  if (nBitLength !== undefined) anumber(nBitLength);\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\ntype SqrtFn = (n: bigint) => bigint;\ntype FieldOpts = Partial<{ sqrt: SqrtFn; isLE: boolean; BITS: number }>;\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLenOrOpts?: number | FieldOpts,\n  isLE = false,\n  opts: { sqrt?: SqrtFn } = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n  let _nbitLength: number | undefined = undefined;\n  let _sqrt: SqrtFn | undefined = undefined;\n  if (typeof bitLenOrOpts === 'object' && bitLenOrOpts != null) {\n    if (opts.sqrt || isLE) throw new Error('cannot specify opts in two arguments');\n    const _opts = bitLenOrOpts;\n    if (_opts.BITS) _nbitLength = _opts.BITS;\n    if (_opts.sqrt) _sqrt = _opts.sqrt;\n    if (typeof _opts.isLE === 'boolean') isLE = _opts.isLE;\n  } else {\n    if (typeof bitLenOrOpts === 'number') _nbitLength = bitLenOrOpts;\n    if (opts.sqrt) _sqrt = opts.sqrt;\n  }\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, _nbitLength);\n  if (BYTES > 2048) throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n  let sqrtP: ReturnType<typeof FpSqrt>; // cached sqrtP\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    isLE,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error('invalid field element: expected bigint, got ' + typeof num);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    // is valid and invertible\n    isValidNot0: (num: bigint) => !f.is0(num) && f.isValid(num),\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt:\n      _sqrt ||\n      ((n) => {\n        if (!sqrtP) sqrtP = FpSqrt(ORDER);\n        return sqrtP(f, n);\n      }),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes) => {\n      if (bytes.length !== BYTES)\n        throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    },\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov: (a, b, c) => (c ? b : a),\n  } as FpField);\n  return Object.freeze(f);\n}\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(\n      'hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen\n    );\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n  const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask, validateObject } from '../utils.ts';\nimport { Field, FpInvertBatch, type IField, nLength, validateField } from './modular.ts';\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { z?: never; t?: never };\n\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n  toAffine?(invertedZ?: any): AffinePoint<any>;\n}\n\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\nexport type ExtendedGroupConstructor<T> = GroupConstructor<T> & {\n  Fp: IField<any>;\n  Fn: IField<bigint>;\n  fromAffine(ap: AffinePoint<any>): T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\nexport function negateCt<T extends Group<T>>(condition: boolean, item: T): T {\n  const neg = item.negate();\n  return condition ? neg : item;\n}\n\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ<T>(\n  c: ExtendedGroupConstructor<T>,\n  property: 'pz' | 'ez',\n  points: T[]\n): T[] {\n  const getz = property === 'pz' ? (p: any) => p.pz : (p: any) => p.ez;\n  const toInv = FpInvertBatch(c.Fp, points.map(getz));\n  // @ts-ignore\n  const affined = points.map((p, i) => p.toAffine(toInv[i]));\n  return affined.map(c.fromAffine);\n}\n\nfunction validateW(W: number, bits: number) {\n  if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n    throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\n\n/** Internal wNAF opts for specific W and scalarBits */\nexport type WOpts = {\n  windows: number;\n  windowSize: number;\n  mask: bigint;\n  maxNumber: number;\n  shiftBy: bigint;\n};\n\nfunction calcWOpts(W: number, scalarBits: number): WOpts {\n  validateW(W, scalarBits);\n  const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n  const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n  const maxNumber = 2 ** W; // W=8 256\n  const mask = bitMask(W); // W=8 255 == mask 0b11111111\n  const shiftBy = BigInt(W); // W=8 8\n  return { windows, windowSize, mask, maxNumber, shiftBy };\n}\n\nfunction calcOffsets(n: bigint, window: number, wOpts: WOpts) {\n  const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n  let wbits = Number(n & mask); // extract W bits.\n  let nextN = n >> shiftBy; // shift number by W bits.\n\n  // What actually happens here:\n  // const highestBit = Number(mask ^ (mask >> 1n));\n  // let wbits2 = wbits - 1; // skip zero\n  // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n\n  // split if bits > max: +224 => 256-32\n  if (wbits > windowSize) {\n    // we skip zero, which means instead of `>= size-1`, we do `> size`\n    wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n    nextN += _1n; // +256 (carry)\n  }\n  const offsetStart = window * windowSize;\n  const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n  const isZero = wbits === 0; // is current window slice a 0?\n  const isNeg = wbits < 0; // is current window slice negative?\n  const isNegF = window % 2 !== 0; // fake random statement for noise\n  const offsetF = offsetStart; // fake offset for noise\n  return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\n\nfunction validateMSMPoints(points: any[], c: any) {\n  if (!Array.isArray(points)) throw new Error('array expected');\n  points.forEach((p, i) => {\n    if (!(p instanceof c)) throw new Error('invalid point at index ' + i);\n  });\n}\nfunction validateMSMScalars(scalars: any[], field: any) {\n  if (!Array.isArray(scalars)) throw new Error('array of scalars expected');\n  scalars.forEach((s, i) => {\n    if (!field.isValid(s)) throw new Error('invalid scalar at index ' + i);\n  });\n}\n\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap<any, any[]>();\nconst pointWindowSizes = new WeakMap<any, number>();\n\nfunction getW(P: any): number {\n  return pointWindowSizes.get(P) || 1;\n}\n\nfunction assert0(n: bigint): void {\n  if (n !== _0n) throw new Error('invalid wNAF');\n}\n\nexport type IWNAF<T extends Group<T>> = {\n  constTimeNegate: <T extends Group<T>>(condition: boolean, item: T) => T;\n  hasPrecomputes(elm: T): boolean;\n  unsafeLadder(elm: T, n: bigint, p?: T): T;\n  precomputeWindow(elm: T, W: number): Group<T>[];\n  getPrecomputes(W: number, P: T, transform?: Mapper<T>): T[];\n  wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T };\n  wNAFUnsafe(W: number, precomputes: T[], n: bigint, acc?: T): T;\n  wNAFCached(P: T, n: bigint, transform?: Mapper<T>): { p: T; f: T };\n  wNAFCachedUnsafe(P: T, n: bigint, transform?: Mapper<T>, prev?: T): T;\n  setWindowSize(P: T, W: number): void;\n};\n\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport function wNAF<T extends Group<T>>(c: GroupConstructor<T>, bits: number): IWNAF<T> {\n  return {\n    constTimeNegate: negateCt,\n\n    hasPrecomputes(elm: T) {\n      return getW(elm) !== 1;\n    },\n\n    // non-const time multiplication ladder\n    unsafeLadder(elm: T, n: bigint, p = c.ZERO) {\n      let d: T = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n     * - \uD835\uDC4A is the window size\n     * - \uD835\uDC5B is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param elm Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(elm: T, W: number): Group<T>[] {\n      const { windows, windowSize } = calcWOpts(W, bits);\n      const points: T[] = [];\n      let p: T = elm;\n      let base = p;\n      for (let window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // i=1, bc we skip 0\n        for (let i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T } {\n      // Smaller version:\n      // https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n      // TODO: check the scalar is less than group order?\n      // wNAF behavior is undefined otherwise. But have to carefully remove\n      // other checks before wNAF. ORDER == bits here.\n      // Accumulators\n      let p = c.ZERO;\n      let f = c.BASE;\n      // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n      // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n      // there is negate now: it is possible that negated element from low value\n      // would be the same as high element, which will create carry into next window.\n      // It's not obvious how this can fail, but still worth investigating later.\n      const wo = calcWOpts(W, bits);\n      for (let window = 0; window < wo.windows; window++) {\n        // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n        const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n        n = nextN;\n        if (isZero) {\n          // bits are 0: add garbage to fake point\n          // Important part for const-time getPublicKey: add random \"noise\" point to f.\n          f = f.add(negateCt(isNegF, precomputes[offsetF]));\n        } else {\n          // bits are 1: add to result point\n          p = p.add(negateCt(isNeg, precomputes[offset]));\n        }\n      }\n      assert0(n);\n      // Return both real and fake points: JIT won't eliminate f.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return { p, f };\n    },\n\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W: number, precomputes: T[], n: bigint, acc: T = c.ZERO): T {\n      const wo = calcWOpts(W, bits);\n      for (let window = 0; window < wo.windows; window++) {\n        if (n === _0n) break; // Early-exit, skip 0 value\n        const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n        n = nextN;\n        if (isZero) {\n          // Window bits are 0: skip processing.\n          // Move to next window.\n          continue;\n        } else {\n          const item = precomputes[offset];\n          acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n        }\n      }\n      assert0(n);\n      return acc;\n    },\n\n    getPrecomputes(W: number, P: T, transform?: Mapper<T>): T[] {\n      // Calculate precomputes on a first run, reuse them after\n      let comp = pointPrecomputes.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W) as T[];\n        if (W !== 1) {\n          // Doing transform outside of if brings 15% perf hit\n          if (typeof transform === 'function') comp = transform(comp);\n          pointPrecomputes.set(P, comp);\n        }\n      }\n      return comp;\n    },\n\n    wNAFCached(P: T, n: bigint, transform?: Mapper<T>): { p: T; f: T } {\n      const W = getW(P);\n      return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n    },\n\n    wNAFCachedUnsafe(P: T, n: bigint, transform?: Mapper<T>, prev?: T): T {\n      const W = getW(P);\n      if (W === 1) return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n      return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n    },\n\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n\n    setWindowSize(P: T, W: number) {\n      validateW(W, bits);\n      pointWindowSizes.set(P, W);\n      pointPrecomputes.delete(P);\n    },\n  };\n}\n\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  point: T,\n  k1: bigint,\n  k2: bigint\n): { p1: T; p2: T } {\n  let acc = point;\n  let p1 = c.ZERO;\n  let p2 = c.ZERO;\n  while (k1 > _0n || k2 > _0n) {\n    if (k1 & _1n) p1 = p1.add(acc);\n    if (k2 & _1n) p2 = p2.add(acc);\n    acc = acc.double();\n    k1 >>= _1n;\n    k2 >>= _1n;\n  }\n  return { p1, p2 };\n}\n\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nexport function pippenger<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  fieldN: IField<bigint>,\n  points: T[],\n  scalars: bigint[]\n): T {\n  // If we split scalars by some window (let's say 8 bits), every chunk will only\n  // take 256 buckets even if there are 4096 scalars, also re-uses double.\n  // TODO:\n  // - https://eprint.iacr.org/2024/750.pdf\n  // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n  // 0 is accepted in scalars\n  validateMSMPoints(points, c);\n  validateMSMScalars(scalars, fieldN);\n  const plength = points.length;\n  const slength = scalars.length;\n  if (plength !== slength) throw new Error('arrays of points and scalars must have equal length');\n  // if (plength === 0) throw new Error('array must be of length >= 2');\n  const zero = c.ZERO;\n  const wbits = bitLen(BigInt(plength));\n  let windowSize = 1; // bits\n  if (wbits > 12) windowSize = wbits - 3;\n  else if (wbits > 4) windowSize = wbits - 2;\n  else if (wbits > 0) windowSize = 2;\n  const MASK = bitMask(windowSize);\n  const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n  const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n  let sum = zero;\n  for (let i = lastBits; i >= 0; i -= windowSize) {\n    buckets.fill(zero);\n    for (let j = 0; j < slength; j++) {\n      const scalar = scalars[j];\n      const wbits = Number((scalar >> BigInt(i)) & MASK);\n      buckets[wbits] = buckets[wbits].add(points[j]);\n    }\n    let resI = zero; // not using this will do small speed-up, but will lose ct\n    // Skip first bucket, because it is zero\n    for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n      sumI = sumI.add(buckets[j]);\n      resI = resI.add(sumI);\n    }\n    sum = sum.add(resI);\n    if (i !== 0) for (let j = 0; j < windowSize; j++) sum = sum.double();\n  }\n  return sum as T;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  fieldN: IField<bigint>,\n  points: T[],\n  windowSize: number\n): (scalars: bigint[]) => T {\n  /**\n   * Performance Analysis of Window-based Precomputation\n   *\n   * Base Case (256-bit scalar, 8-bit window):\n   * - Standard precomputation requires:\n   *   - 31 additions per scalar \u00D7 256 scalars = 7,936 ops\n   *   - Plus 255 summary additions = 8,191 total ops\n   *   Note: Summary additions can be optimized via accumulator\n   *\n   * Chunked Precomputation Analysis:\n   * - Using 32 chunks requires:\n   *   - 255 additions per chunk\n   *   - 256 doublings\n   *   - Total: (255 \u00D7 32) + 256 = 8,416 ops\n   *\n   * Memory Usage Comparison:\n   * Window Size | Standard Points | Chunked Points\n   * ------------|-----------------|---------------\n   *     4-bit   |     520         |      15\n   *     8-bit   |    4,224        |     255\n   *    10-bit   |   13,824        |   1,023\n   *    16-bit   |  557,056        |  65,535\n   *\n   * Key Advantages:\n   * 1. Enables larger window sizes due to reduced memory overhead\n   * 2. More efficient for smaller scalar counts:\n   *    - 16 chunks: (16 \u00D7 255) + 256 = 4,336 ops\n   *    - ~2x faster than standard 8,191 ops\n   *\n   * Limitations:\n   * - Not suitable for plain precomputes (requires 256 constant doublings)\n   * - Performance degrades with larger scalar counts:\n   *   - Optimal for ~256 scalars\n   *   - Less efficient for 4096+ scalars (Pippenger preferred)\n   */\n  validateW(windowSize, fieldN.BITS);\n  validateMSMPoints(points, c);\n  const zero = c.ZERO;\n  const tableSize = 2 ** windowSize - 1; // table size (without zero)\n  const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n  const MASK = bitMask(windowSize);\n  const tables = points.map((p: T) => {\n    const res = [];\n    for (let i = 0, acc = p; i < tableSize; i++) {\n      res.push(acc);\n      acc = acc.add(p);\n    }\n    return res;\n  });\n  return (scalars: bigint[]): T => {\n    validateMSMScalars(scalars, fieldN);\n    if (scalars.length > points.length)\n      throw new Error('array of scalars must be smaller than array of points');\n    let res = zero;\n    for (let i = 0; i < chunks; i++) {\n      // No need to double if accumulator is still zero.\n      if (res !== zero) for (let j = 0; j < windowSize; j++) res = res.double();\n      const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n      for (let j = 0; j < scalars.length; j++) {\n        const n = scalars[j];\n        const curr = Number((n >> shiftBy) & MASK);\n        if (!curr) continue; // skip zero scalars chunks\n        res = res.add(tables[j][curr - 1]);\n      }\n    }\n    return res;\n  };\n}\n\n/**\n * Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n * Though generator can be different (Fp2 / Fp6 for BLS).\n */\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\n// TODO: remove\n/** @deprecated */\nexport function validateBasic<FP, T>(\n  curve: BasicCurve<FP> & T\n): Readonly<\n  {\n    readonly nBitLength: number;\n    readonly nByteLength: number;\n  } & BasicCurve<FP> &\n    T & {\n      p: bigint;\n    }\n> {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n\nexport type ValidCurveParams<T> = {\n  a: T;\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  Gx: T;\n  Gy: T;\n} & ({ b: T } | { d: T });\n\nfunction createField<T>(order: bigint, field?: IField<T>): IField<T> {\n  if (field) {\n    if (field.ORDER !== order) throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n    validateField(field);\n    return field;\n  } else {\n    return Field(order) as unknown as IField<T>;\n  }\n}\nexport type FpFn<T> = { Fp: IField<T>; Fn: IField<bigint> };\n/** Validates CURVE opts and creates fields */\nexport function _createCurveFields<T>(\n  type: 'weierstrass' | 'edwards',\n  CURVE: ValidCurveParams<T>,\n  curveOpts: Partial<FpFn<T>> = {}\n): FpFn<T> {\n  if (!CURVE || typeof CURVE !== 'object') throw new Error(`expected valid ${type} CURVE object`);\n  for (const p of ['p', 'n', 'h'] as const) {\n    const val = CURVE[p];\n    if (!(typeof val === 'bigint' && val > _0n))\n      throw new Error(`CURVE.${p} must be positive bigint`);\n  }\n  const Fp = createField(CURVE.p, curveOpts.Fp);\n  const Fn = createField(CURVE.n, curveOpts.Fn);\n  const _b: 'b' | 'd' = type === 'weierstrass' ? 'b' : 'd';\n  const params = ['Gx', 'Gy', 'a', _b] as const;\n  for (const p of params) {\n    // @ts-ignore\n    if (!Fp.isValid(CURVE[p]))\n      throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n  }\n  return { Fp, Fn };\n}\n", "/**\n * Short Weierstrass curve methods. The formula is: y\u00B2 = x\u00B3 + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac.js';\nimport {\n  _validateObject,\n  abool,\n  abytes,\n  aInRange,\n  bitMask,\n  bytesToHex,\n  bytesToNumberBE,\n  concatBytes,\n  createHmacDrbg,\n  ensureBytes,\n  hexToBytes,\n  inRange,\n  isBytes,\n  memoized,\n  numberToHexUnpadded,\n  randomBytes,\n  type CHash,\n  type Hex,\n  type PrivKey,\n} from '../utils.ts';\nimport {\n  _createCurveFields,\n  mulEndoUnsafe,\n  negateCt,\n  normalizeZ,\n  pippenger,\n  wNAF,\n  type AffinePoint,\n  type BasicCurve,\n  type Group,\n  type GroupConstructor,\n} from './curve.ts';\nimport {\n  Field,\n  FpInvertBatch,\n  getMinHashLength,\n  mapHashToField,\n  validateField,\n  type IField,\n  type NLength,\n} from './modular.ts';\n\nexport type { AffinePoint };\nexport type HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\n/**\n * When Weierstrass curve has `a=0`, it becomes Koblitz curve.\n * Koblitz curves allow using **efficiently-computable GLV endomorphism \u03C8**.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n *\n * Endomorphism consists of beta, lambda and splitScalar:\n *\n * 1. GLV endomorphism \u03C8 transforms a point: `P = (x, y) \u21A6 \u03C8(P) = (\u03B2\u00B7x mod p, y)`\n * 2. GLV scalar decomposition transforms a scalar: `k \u2261 k\u2081 + k\u2082\u00B7\u03BB (mod n)`\n * 3. Then these are combined: `k\u00B7P = k\u2081\u00B7P + k\u2082\u00B7\u03C8(P)`\n * 4. Two 128-bit point-by-scalar multiplications + one point addition is faster than\n *    one 256-bit multiplication.\n *\n * where\n * * beta: \u03B2 \u2208 F\u209A with \u03B2\u00B3 = 1, \u03B2 \u2260 1\n * * lambda: \u03BB \u2208 F\u2099 with \u03BB\u00B3 = 1, \u03BB \u2260 1\n * * splitScalar decomposes k \u21A6 k\u2081, k\u2082, by using reduced basis vectors.\n *   Gauss lattice reduction calculates them from initial basis vectors `(n, 0), (-\u03BB, 0)`\n *\n * Check out `test/misc/endomorphism.js` and\n * [gist](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n */\nexport type EndomorphismOpts = {\n  beta: bigint;\n  splitScalar: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts;\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n};\n\nexport type Entropy = Hex | boolean;\nexport type SignOpts = { lowS?: boolean; extraEntropy?: Entropy; prehash?: boolean };\nexport type VerOpts = {\n  lowS?: boolean;\n  prehash?: boolean;\n  format?: 'compact' | 'der' | 'js' | undefined;\n};\n\nfunction validateSigVerOpts(opts: SignOpts | VerOpts) {\n  if (opts.lowS !== undefined) abool('lowS', opts.lowS);\n  if (opts.prehash !== undefined) abool('prehash', opts.prehash);\n}\n\n/** Instance methods for 3D XYZ points. */\nexport interface ProjPointType<T> extends Group<ProjPointType<T>> {\n  /** projective x coordinate. Note: different from .x */\n  readonly px: T;\n  /** projective y coordinate. Note: different from .y */\n  readonly py: T;\n  /** projective z coordinate */\n  readonly pz: T;\n  /** affine x coordinate */\n  get x(): T;\n  /** affine y coordinate */\n  get y(): T;\n  assertValidity(): void;\n  clearCofactor(): ProjPointType<T>;\n  is0(): boolean;\n  isTorsionFree(): boolean;\n  multiplyUnsafe(scalar: bigint): ProjPointType<T>;\n  /**\n   * Massively speeds up `p.multiply(n)` by using wnaf precompute tables (caching).\n   * Table generation takes 30MB of ram and 10ms on high-end CPU, but may take\n   * much longer on slow devices.\n   * Actual generation will happen on first call of `.multiply()`.\n   * By default, BASE point is precomputed.\n   * @param windowSize - table window size\n   * @param isLazy - (default true) allows to defer generation\n   */\n  precompute(windowSize?: number, isLazy?: boolean): ProjPointType<T>;\n\n  /** Converts 3D XYZ projective point to 2D xy affine coordinates */\n  toAffine(invertedZ?: T): AffinePoint<T>;\n  /** Encodes point using IEEE P1363 (DER) encoding. First byte is 2/3/4. Default = isCompressed. */\n  toBytes(isCompressed?: boolean): Uint8Array;\n  toHex(isCompressed?: boolean): string;\n\n  /** @deprecated use `toBytes` */\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n  /** @deprecated use `multiplyUnsafe` */\n  multiplyAndAddUnsafe(Q: ProjPointType<T>, a: bigint, b: bigint): ProjPointType<T> | undefined;\n  /** @deprecated use `p.y % 2n === 0n` */\n  hasEvenY(): boolean;\n  /** @deprecated use `p.precompute(windowSize)` */\n  _setWindowSize(windowSize: number): void;\n}\n\n/** Static methods for 3D XYZ points. */\nexport interface ProjConstructor<T> extends GroupConstructor<ProjPointType<T>> {\n  Fp: IField<T>;\n  Fn: IField<bigint>;\n  /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  new (x: T, y: T, z: T): ProjPointType<T>;\n  /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  fromAffine(p: AffinePoint<T>): ProjPointType<T>;\n  fromBytes(encodedPoint: Uint8Array): ProjPointType<T>;\n  fromHex(hex: Hex): ProjPointType<T>;\n  fromPrivateKey(privateKey: PrivKey): ProjPointType<T>;\n  normalizeZ(points: ProjPointType<T>[]): ProjPointType<T>[];\n  msm(points: ProjPointType<T>[], scalars: bigint[]): ProjPointType<T>;\n}\n\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n};\n\n// LegacyWeierstrassOpts\nexport type CurvePointsTypeWithLength<T> = Readonly<CurvePointsType<T> & Partial<NLength>>;\n\n// LegacyWeierstrass\nexport type CurvePointsRes<T> = {\n  /** @deprecated import individual CURVE params */\n  CURVE: CurvePointsType<T>;\n  Point: ProjConstructor<T>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: ProjConstructor<T>;\n  /** @deprecated */\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  /** @deprecated */\n  weierstrassEquation: (x: T) => T;\n  /** @deprecated use `Point.Fn.isValidNot0(num)` */\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\n// Aliases to legacy types\n// export type CurveType = LegacyECDSAOpts;\n// export type CurveFn = LegacyECDSA;\n// export type CurvePointsRes<T> = LegacyWeierstrass<T>;\n// export type CurvePointsType<T> = LegacyWeierstrassOpts<T>;\n// export type CurvePointsTypeWithLength<T> = LegacyWeierstrassOpts<T>;\n// export type BasicWCurve<T> = LegacyWeierstrassOpts<T>;\n\n/**\n * Weierstrass curve options.\n *\n * * p: prime characteristic (order) of finite field, in which arithmetics is done\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * h: cofactor, usually 1. h*n is group order; n is subgroup order\n * * a: formula param, must be in field of p\n * * b: formula param, must be in field of p\n * * Gx: x coordinate of generator point a.k.a. base point\n * * Gy: y coordinate of generator point\n */\nexport type WeierstrassOpts<T> = Readonly<{\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: T;\n  b: T;\n  Gx: T;\n  Gy: T;\n}>;\n\n// When a cofactor != 1, there can be an effective methods to:\n// 1. Determine whether a point is torsion-free\n// 2. Clear torsion component\n// wrapPrivateKey: bls12-381 requires mod(n) instead of rejecting keys >= n\nexport type WeierstrassExtraOpts<T> = Partial<{\n  Fp: IField<T>;\n  Fn: IField<bigint>;\n  // TODO: remove\n  allowedPrivateKeyLengths: readonly number[]; // for P521\n  allowInfinityPoint: boolean;\n  endo: EndomorphismOpts;\n  wrapPrivateKey: boolean;\n  isTorsionFree: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  clearCofactor: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n  fromBytes: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n}>;\n\n/**\n * Options for ECDSA signatures over a Weierstrass curve.\n */\nexport type ECDSAOpts = {\n  hash: CHash;\n  hmac?: HmacFnSync;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\n/** ECDSA is only supported for prime fields, not Fp2 (extension fields). */\nexport interface ECDSA {\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  Point: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    // TODO: deprecate those two\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    /** @deprecated */\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n}\nexport class DERErr extends Error {\n  constructor(m = '') {\n    super(m);\n  }\n}\nexport type IDER = {\n  // asn.1 DER encoding utils\n  Err: typeof DERErr;\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string) => string;\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array };\n  };\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string;\n    decode(data: Uint8Array): bigint;\n  };\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint };\n  hexFromSig(sig: { r: bigint; s: bigint }): string;\n};\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER: IDER = {\n  // asn.1 DER encoding utils\n  Err: DERErr,\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string): string => {\n      const { Err: E } = DER;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length & 1) throw new E('tlv.encode: unpadded data');\n      const dataLen = data.length / 2;\n      const len = numberToHexUnpadded(dataLen);\n      if ((len.length / 2) & 0b1000_0000) throw new E('tlv.encode: long form length too big');\n      // length of length with long form flag\n      const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n      const t = numberToHexUnpadded(tag);\n      return t + lenLen + len + data;\n    },\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array } {\n      const { Err: E } = DER;\n      let pos = 0;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length < 2 || data[pos++] !== tag) throw new E('tlv.decode: wrong tlv');\n      const first = data[pos++];\n      const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n      let length = 0;\n      if (!isLong) length = first;\n      else {\n        // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n        const lenLen = first & 0b0111_1111;\n        if (!lenLen) throw new E('tlv.decode(long): indefinite length not supported');\n        if (lenLen > 4) throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n        const lengthBytes = data.subarray(pos, pos + lenLen);\n        if (lengthBytes.length !== lenLen) throw new E('tlv.decode: length bytes not complete');\n        if (lengthBytes[0] === 0) throw new E('tlv.decode(long): zero leftmost byte');\n        for (const b of lengthBytes) length = (length << 8) | b;\n        pos += lenLen;\n        if (length < 128) throw new E('tlv.decode(long): not minimal encoding');\n      }\n      const v = data.subarray(pos, pos + length);\n      if (v.length !== length) throw new E('tlv.decode: wrong value length');\n      return { v, l: data.subarray(pos + length) };\n    },\n  },\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string {\n      const { Err: E } = DER;\n      if (num < _0n) throw new E('integer: negative integers are not allowed');\n      let hex = numberToHexUnpadded(num);\n      // Pad with zero byte if negative flag is present\n      if (Number.parseInt(hex[0], 16) & 0b1000) hex = '00' + hex;\n      if (hex.length & 1) throw new E('unexpected DER parsing assertion: unpadded hex');\n      return hex;\n    },\n    decode(data: Uint8Array): bigint {\n      const { Err: E } = DER;\n      if (data[0] & 0b1000_0000) throw new E('invalid signature integer: negative');\n      if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n        throw new E('invalid signature integer: unnecessary leading zero');\n      return bytesToNumberBE(data);\n    },\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E, _int: int, _tlv: tlv } = DER;\n    const data = ensureBytes('signature', hex);\n    const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n    if (seqLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n    const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n    if (sLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    return { r: int.decode(rBytes), s: int.decode(sBytes) };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    const { _tlv: tlv, _int: int } = DER;\n    const rs = tlv.encode(0x02, int.encode(sig.r));\n    const ss = tlv.encode(0x02, int.encode(sig.s));\n    const seq = rs + ss;\n    return tlv.encode(0x30, seq);\n  },\n};\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\n// TODO: remove\nexport function _legacyHelperEquat<T>(Fp: IField<T>, a: T, b: T): (x: T) => T {\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula. Takes x, returns y\u00B2.\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x\u00B3 + a * x + b\n  }\n  return weierstrassEquation;\n}\nexport function _legacyHelperNormPriv(\n  Fn: IField<bigint>,\n  allowedPrivateKeyLengths?: readonly number[],\n  wrapPrivateKey?: boolean\n): (key: PrivKey) => bigint {\n  const { BYTES: expected } = Fn;\n  // Validates if priv key is valid and converts it to bigint.\n  function normPrivateKeyToScalar(key: PrivKey): bigint {\n    let num: bigint;\n    if (typeof key === 'bigint') {\n      num = key;\n    } else {\n      let bytes = ensureBytes('private key', key);\n      if (allowedPrivateKeyLengths) {\n        if (!allowedPrivateKeyLengths.includes(bytes.length * 2))\n          throw new Error('invalid private key');\n        const padded = new Uint8Array(expected);\n        padded.set(bytes, padded.length - bytes.length);\n        bytes = padded;\n      }\n      try {\n        num = Fn.fromBytes(bytes);\n      } catch (error) {\n        throw new Error(\n          `invalid private key: expected ui8a of size ${expected}, got ${typeof key}`\n        );\n      }\n    }\n    if (wrapPrivateKey) num = Fn.create(num); // disabled by default, enabled for BLS\n    if (!Fn.isValidNot0(num)) throw new Error('invalid private key: out of range [1..N-1]');\n    return num;\n  }\n  return normPrivateKeyToScalar;\n}\n\nexport function weierstrassN<T>(\n  CURVE: WeierstrassOpts<T>,\n  curveOpts: WeierstrassExtraOpts<T> = {}\n): ProjConstructor<T> {\n  const { Fp, Fn } = _createCurveFields('weierstrass', CURVE, curveOpts);\n  const { h: cofactor, n: CURVE_ORDER } = CURVE;\n  _validateObject(\n    curveOpts,\n    {},\n    {\n      allowInfinityPoint: 'boolean',\n      clearCofactor: 'function',\n      isTorsionFree: 'function',\n      fromBytes: 'function',\n      toBytes: 'function',\n      endo: 'object',\n      wrapPrivateKey: 'boolean',\n    }\n  );\n\n  const { endo } = curveOpts;\n  if (endo) {\n    // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n    if (\n      !Fp.is0(CURVE.a) ||\n      typeof endo.beta !== 'bigint' ||\n      typeof endo.splitScalar !== 'function'\n    ) {\n      throw new Error('invalid endo: expected \"beta\": bigint and \"splitScalar\": function');\n    }\n  }\n\n  function assertCompressionIsSupported() {\n    if (!Fp.isOdd) throw new Error('compression is not supported: Field does not have .isOdd()');\n  }\n\n  // Implements IEEE P1363 point encoding\n  function pointToBytes(\n    _c: ProjConstructor<T>,\n    point: ProjPointType<T>,\n    isCompressed: boolean\n  ): Uint8Array {\n    const { x, y } = point.toAffine();\n    const bx = Fp.toBytes(x);\n    abool('isCompressed', isCompressed);\n    if (isCompressed) {\n      assertCompressionIsSupported();\n      const hasEvenY = !Fp.isOdd!(y);\n      return concatBytes(pprefix(hasEvenY), bx);\n    } else {\n      return concatBytes(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n    }\n  }\n  function pointFromBytes(bytes: Uint8Array) {\n    abytes(bytes);\n    const L = Fp.BYTES;\n    const LC = L + 1; // length compressed, e.g. 33 for 32-byte field\n    const LU = 2 * L + 1; // length uncompressed, e.g. 65 for 32-byte field\n    const length = bytes.length;\n    const head = bytes[0];\n    const tail = bytes.subarray(1);\n    // No actual validation is done here: use .assertValidity()\n    if (length === LC && (head === 0x02 || head === 0x03)) {\n      const x = Fp.fromBytes(tail);\n      if (!Fp.isValid(x)) throw new Error('bad point: is not on curve, wrong x');\n      const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n      let y: T;\n      try {\n        y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n      } catch (sqrtError) {\n        const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n        throw new Error('bad point: is not on curve, sqrt error' + err);\n      }\n      assertCompressionIsSupported();\n      const isYOdd = Fp.isOdd!(y); // (y & _1n) === _1n;\n      const isHeadOdd = (head & 1) === 1; // ECDSA-specific\n      if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n      return { x, y };\n    } else if (length === LU && head === 0x04) {\n      // TODO: more checks\n      const x = Fp.fromBytes(tail.subarray(L * 0, L * 1));\n      const y = Fp.fromBytes(tail.subarray(L * 1, L * 2));\n      if (!isValidXY(x, y)) throw new Error('bad point: is not on curve');\n      return { x, y };\n    } else {\n      throw new Error(\n        `bad point: got length ${length}, expected compressed=${LC} or uncompressed=${LU}`\n      );\n    }\n  }\n\n  const toBytes = curveOpts.toBytes || pointToBytes;\n  const fromBytes = curveOpts.fromBytes || pointFromBytes;\n  const weierstrassEquation = _legacyHelperEquat(Fp, CURVE.a, CURVE.b);\n\n  // TODO: move top-level\n  /** Checks whether equation holds for given x, y: y\u00B2 == x\u00B3 + ax + b */\n  function isValidXY(x: T, y: T): boolean {\n    const left = Fp.sqr(y); // y\u00B2\n    const right = weierstrassEquation(x); // x\u00B3 + ax + b\n    return Fp.eql(left, right);\n  }\n\n  // Validate whether the passed curve params are valid.\n  // Test 1: equation y\u00B2 = x\u00B3 + ax + b should work for generator point.\n  if (!isValidXY(CURVE.Gx, CURVE.Gy)) throw new Error('bad curve params: generator point');\n\n  // Test 2: discriminant \u0394 part should be non-zero: 4a\u00B3 + 27b\u00B2 != 0.\n  // Guarantees curve is genus-1, smooth (non-singular).\n  const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n  const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n  if (Fp.is0(Fp.add(_4a3, _27b2))) throw new Error('bad curve params: a or b');\n\n  /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n  function acoord(title: string, n: T, banZero = false) {\n    if (!Fp.isValid(n) || (banZero && Fp.is0(n))) throw new Error(`bad point coordinate ${title}`);\n    return n;\n  }\n\n  function aprjpoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n\n  // Memoized toAffine / validity check. They are heavy. Points are immutable.\n\n  // Converts Projective point to affine (x, y) coordinates.\n  // Can accept precomputed Z^-1 - for example, from invertBatch.\n  // (X, Y, Z) \u220B (x=X/Z, y=Y/Z)\n  const toAffineMemo = memoized((p: Point, iz?: T): AffinePoint<T> => {\n    const { px: x, py: y, pz: z } = p;\n    // Fast-path for normalized points\n    if (Fp.eql(z, Fp.ONE)) return { x, y };\n    const is0 = p.is0();\n    // If invZ was 0, we return zero point. However we still want to execute\n    // all operations, so we replace invZ with a random number, 1.\n    if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n    const ax = Fp.mul(x, iz);\n    const ay = Fp.mul(y, iz);\n    const zz = Fp.mul(z, iz);\n    if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n    if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n    return { x: ax, y: ay };\n  });\n  // NOTE: on exception this will crash 'cached' and no value will be set.\n  // Otherwise true will be return\n  const assertValidMemo = memoized((p: Point) => {\n    if (p.is0()) {\n      // (0, 1, 0) aka ZERO is invalid in most contexts.\n      // In BLS, ZERO can be serialized, so we allow it.\n      // (0, 0, 0) is invalid representation of ZERO.\n      if (curveOpts.allowInfinityPoint && !Fp.is0(p.py)) return;\n      throw new Error('bad point: ZERO');\n    }\n    // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n    const { x, y } = p.toAffine();\n    if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not field elements');\n    if (!isValidXY(x, y)) throw new Error('bad point: equation left != right');\n    if (!p.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    return true;\n  });\n\n  function finishEndo(\n    endoBeta: EndomorphismOpts['beta'],\n    k1p: Point,\n    k2p: Point,\n    k1neg: boolean,\n    k2neg: boolean\n  ) {\n    k2p = new Point(Fp.mul(k2p.px, endoBeta), k2p.py, k2p.pz);\n    k1p = negateCt(k1neg, k1p);\n    k2p = negateCt(k2neg, k2p);\n    return k1p.add(k2p);\n  }\n\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z) \u220B (x=X/Z, y=Y/Z).\n   * Default Point works in 2d / affine coordinates: (x, y).\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements ProjPointType<T> {\n    // base / generator point\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    // fields\n    static readonly Fp = Fp;\n    static readonly Fn = Fn;\n\n    readonly px: T;\n    readonly py: T;\n    readonly pz: T;\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    constructor(px: T, py: T, pz: T) {\n      this.px = acoord('x', px);\n      this.py = acoord('y', py, true);\n      this.pz = acoord('z', pz);\n      Object.freeze(this);\n    }\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n      if (Fp.is0(x) && Fp.is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    static normalizeZ(points: Point[]): Point[] {\n      return normalizeZ(Point, 'pz', points);\n    }\n\n    static fromBytes(bytes: Uint8Array): Point {\n      abytes(bytes);\n      return Point.fromHex(bytes);\n    }\n\n    /** Converts hash string or Uint8Array to Point. */\n    static fromHex(hex: Hex): Point {\n      const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n      P.assertValidity();\n      return P;\n    }\n\n    /** Multiplies generator point by privateKey. */\n    static fromPrivateKey(privateKey: PrivKey) {\n      const normPrivateKeyToScalar = _legacyHelperNormPriv(\n        Fn,\n        curveOpts.allowedPrivateKeyLengths,\n        curveOpts.wrapPrivateKey\n      );\n      return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n    }\n\n    /** Multiscalar Multiplication */\n    static msm(points: Point[], scalars: bigint[]): Point {\n      return pippenger(Point, Fn, points, scalars);\n    }\n\n    /**\n     *\n     * @param windowSize\n     * @param isLazy true will defer table computation until the first multiplication\n     * @returns\n     */\n    precompute(windowSize: number = 8, isLazy = true): Point {\n      wnaf.setWindowSize(this, windowSize);\n      if (!isLazy) this.multiply(_3n); // random number\n      return this;\n    }\n\n    /** \"Private method\", don't use it directly */\n    _setWindowSize(windowSize: number) {\n      this.precompute(windowSize);\n    }\n\n    // TODO: return `this`\n    /** A point on curve is valid if it conforms to equation. */\n    assertValidity(): void {\n      assertValidMemo(this);\n    }\n\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (!Fp.isOdd) throw new Error(\"Field doesn't support isOdd\");\n      return !Fp.isOdd(y);\n    }\n\n    /** Compare one point to another. */\n    equals(other: Point): boolean {\n      aprjpoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n    negate(): Point {\n      return new Point(this.px, Fp.neg(this.py), this.pz);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      aprjpoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    is0(): boolean {\n      return this.equals(Point.ZERO);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      const { endo } = curveOpts;\n      if (!Fn.isValidNot0(scalar)) throw new Error('invalid scalar: out of range'); // 0 is invalid\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      const mul = (n: bigint) => wnaf.wNAFCached(this, n, Point.normalizeZ);\n      /** See docs for {@link EndomorphismOpts} */\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);\n        const { p: k1p, f: k1f } = mul(k1);\n        const { p: k2p, f: k2f } = mul(k2);\n        fake = k1f.add(k2f);\n        point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n      } else {\n        const { p, f } = mul(scalar);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return Point.normalizeZ([point, fake])[0];\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed private key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(sc: bigint): Point {\n      const { endo } = curveOpts;\n      const p = this;\n      if (!Fn.isValid(sc)) throw new Error('invalid scalar: out of range'); // 0 is valid\n      if (sc === _0n || p.is0()) return Point.ZERO;\n      if (sc === _1n) return p; // fast-path\n      if (wnaf.hasPrecomputes(this)) return this.multiply(sc);\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);\n        // `wNAFCachedUnsafe` is 30% slower\n        const { p1, p2 } = mulEndoUnsafe(Point, p, k1, k2);\n        return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n      } else {\n        return wnaf.wNAFCachedUnsafe(p, sc);\n      }\n    }\n\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const sum = this.multiplyUnsafe(a).add(Q.multiplyUnsafe(b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    /**\n     * Converts Projective point to affine (x, y) coordinates.\n     * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n     */\n    toAffine(invertedZ?: T): AffinePoint<T> {\n      return toAffineMemo(this, invertedZ);\n    }\n\n    /**\n     * Checks whether Point is free of torsion elements (is in prime subgroup).\n     * Always torsion-free for cofactor=1 curves.\n     */\n    isTorsionFree(): boolean {\n      const { isTorsionFree } = curveOpts;\n      if (cofactor === _1n) return true;\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      return wnaf.wNAFCachedUnsafe(this, CURVE_ORDER).is0();\n    }\n\n    clearCofactor(): Point {\n      const { clearCofactor } = curveOpts;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(cofactor);\n    }\n\n    toBytes(isCompressed = true): Uint8Array {\n      abool('isCompressed', isCompressed);\n      this.assertValidity();\n      return toBytes(Point, this, isCompressed);\n    }\n\n    /** @deprecated use `toBytes` */\n    toRawBytes(isCompressed = true): Uint8Array {\n      return this.toBytes(isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      return bytesToHex(this.toBytes(isCompressed));\n    }\n\n    toString() {\n      return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n    }\n  }\n  const bits = Fn.BITS;\n  const wnaf = wNAF(Point, curveOpts.endo ? Math.ceil(bits / 2) : bits);\n  return Point;\n}\n\n// _legacyWeierstrass\n/** @deprecated use `weierstrassN` */\nexport function weierstrassPoints<T>(c: CurvePointsTypeWithLength<T>): CurvePointsRes<T> {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  return _weierstrass_new_output_to_legacy(c, Point);\n}\n\n// Instance\nexport interface SignatureType {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  assertValidity(): void;\n  addRecoveryBit(recovery: number): RecoveredSignatureType;\n  hasHighS(): boolean;\n  normalizeS(): SignatureType;\n  recoverPublicKey(msgHash: Hex): ProjPointType<bigint>;\n  toCompactRawBytes(): Uint8Array;\n  toCompactHex(): string;\n  toDERRawBytes(): Uint8Array;\n  toDERHex(): string;\n  // toBytes(format?: string): Uint8Array;\n}\nexport type RecoveredSignatureType = SignatureType & {\n  readonly recovery: number;\n};\n// Static methods\nexport type SignatureConstructor = {\n  new (r: bigint, s: bigint, recovery?: number): SignatureType;\n  fromCompact(hex: Hex): SignatureType;\n  fromDER(hex: Hex): SignatureType;\n};\nexport type SignatureLike = { r: bigint; s: bigint };\nexport type PubKey = Hex | ProjPointType<bigint>;\n\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac?: HmacFnSync;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY: boolean): Uint8Array {\n  return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n\nexport type CurveFn = {\n  CURVE: CurvePointsType<bigint>;\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  Point: ProjConstructor<bigint>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n};\n\nexport function ecdsa(\n  Point: ProjConstructor<bigint>,\n  ecdsaOpts: ECDSAOpts,\n  curveOpts: WeierstrassExtraOpts<bigint> = {}\n): ECDSA {\n  _validateObject(\n    ecdsaOpts,\n    { hash: 'function' },\n    {\n      hmac: 'function',\n      lowS: 'boolean',\n      randomBytes: 'function',\n      bits2int: 'function',\n      bits2int_modN: 'function',\n    }\n  );\n\n  const randomBytes_ = ecdsaOpts.randomBytes || randomBytes;\n  const hmac_: HmacFnSync =\n    ecdsaOpts.hmac ||\n    (((key, ...msgs) => hmac(ecdsaOpts.hash, key, concatBytes(...msgs))) satisfies HmacFnSync);\n\n  const { Fp, Fn } = Point;\n  const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n\n  function normalizeS(s: bigint) {\n    return isBiggerThanHalfOrder(s) ? Fn.neg(s) : s;\n  }\n  function aValidRS(title: string, num: bigint) {\n    if (!Fn.isValidNot0(num))\n      throw new Error(`invalid signature ${title}: out of range 1..CURVE.n`);\n  }\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  class Signature implements SignatureType {\n    readonly r: bigint;\n    readonly s: bigint;\n    readonly recovery?: number;\n    constructor(r: bigint, s: bigint, recovery?: number) {\n      aValidRS('r', r); // r in [1..N-1]\n      aValidRS('s', s); // s in [1..N-1]\n      this.r = r;\n      this.s = s;\n      if (recovery != null) this.recovery = recovery;\n      Object.freeze(this);\n    }\n\n    // pair (bytes of r, bytes of s)\n    static fromCompact(hex: Hex) {\n      const L = Fn.BYTES;\n      const b = ensureBytes('compactSignature', hex, L * 2);\n      return new Signature(Fn.fromBytes(b.subarray(0, L)), Fn.fromBytes(b.subarray(L, L * 2)));\n    }\n\n    // DER encoded ECDSA signature\n    // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    static fromDER(hex: Hex) {\n      const { r, s } = DER.toSig(ensureBytes('DER', hex));\n      return new Signature(r, s);\n    }\n\n    /**\n     * @todo remove\n     * @deprecated\n     */\n    assertValidity(): void {}\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    // ProjPointType<bigint>\n    recoverPublicKey(msgHash: Hex): typeof Point.BASE {\n      const FIELD_ORDER = Fp.ORDER;\n      const { r, s, recovery: rec } = this;\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n\n      // ECDSA recovery is hard for cofactor > 1 curves.\n      // In sign, `r = q.x mod n`, and here we recover q.x from r.\n      // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n      // However, for cofactor>1, r+n may not get q.x:\n      // r+n*i would need to be done instead where i is unknown.\n      // To easily get i, we either need to:\n      // a. increase amount of valid recid values (4, 5...); OR\n      // b. prohibit non-prime-order signatures (recid > 1).\n      const hasCofactor = CURVE_ORDER * _2n < FIELD_ORDER;\n      if (hasCofactor && rec > 1) throw new Error('recovery id is ambiguous for h>1 curve');\n\n      const radj = rec === 2 || rec === 3 ? r + CURVE_ORDER : r;\n      if (!Fp.isValid(radj)) throw new Error('recovery id 2 or 3 invalid');\n      const x = Fp.toBytes(radj);\n      const R = Point.fromHex(concatBytes(pprefix((rec & 1) === 0), x));\n      const ir = Fn.inv(radj); // r^-1\n      const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n      const u1 = Fn.create(-h * ir); // -hr^-1\n      const u2 = Fn.create(s * ir); // sr^-1\n      // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n      const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n      if (Q.is0()) throw new Error('point at infinify');\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, Fn.neg(this.s), this.recovery) : this;\n    }\n\n    toBytes(format: 'compact' | 'der') {\n      if (format === 'compact') return concatBytes(Fn.toBytes(this.r), Fn.toBytes(this.s));\n      if (format === 'der') return hexToBytes(DER.hexFromSig(this));\n      throw new Error('invalid format');\n    }\n\n    // DER-encoded\n    toDERRawBytes() {\n      return this.toBytes('der');\n    }\n    toDERHex() {\n      return bytesToHex(this.toBytes('der'));\n    }\n\n    // padded bytes of r, then padded bytes of s\n    toCompactRawBytes() {\n      return this.toBytes('compact');\n    }\n    toCompactHex() {\n      return bytesToHex(this.toBytes('compact'));\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  const normPrivateKeyToScalar = _legacyHelperNormPriv(\n    Fn,\n    curveOpts.allowedPrivateKeyLengths,\n    curveOpts.wrapPrivateKey\n  );\n\n  const utils = {\n    isValidPrivateKey(privateKey: PrivKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n\n    /**\n     * Produces cryptographically secure private key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    randomPrivateKey: (): Uint8Array => {\n      const n = CURVE_ORDER;\n      return mapHashToField(randomBytes_(getMinHashLength(n)), n);\n    },\n\n    precompute(windowSize = 8, point = Point.BASE): typeof Point.BASE {\n      return point.precompute(windowSize, false);\n    },\n  };\n\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.fromPrivateKey(privateKey).toBytes(isCompressed);\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean | undefined {\n    if (typeof item === 'bigint') return false;\n    if (item instanceof Point) return true;\n    const arr = ensureBytes('key', item);\n    const length = arr.length;\n    const L = Fp.BYTES;\n    const LC = L + 1; // e.g. 33 for 32\n    const LU = 2 * L + 1; // e.g. 65 for 32\n    if (curveOpts.allowedPrivateKeyLengths || Fn.BYTES === LC) {\n      return undefined;\n    } else {\n      return length === LC || length === LU;\n    }\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA: PrivKey, publicB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(privateA) === true) throw new Error('first arg must be private key');\n    if (isProbPub(publicB) === false) throw new Error('second arg must be public key');\n    const b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toBytes(isCompressed);\n  }\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    ecdsaOpts.bits2int ||\n    function (bytes: Uint8Array): bigint {\n      // Our custom check \"just in case\", for protection against DoS\n      if (bytes.length > 8192) throw new Error('input is too large');\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    ecdsaOpts.bits2int_modN ||\n    function (bytes: Uint8Array): bigint {\n      return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // NOTE: pads output with zero as per spec\n  const ORDER_MASK = bitMask(fnBits);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num: bigint): Uint8Array {\n    // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n    aInRange('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n    return Fn.toBytes(num);\n  }\n\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,\n  // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash: Hex, privateKey: PrivKey, opts = defaultSigOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { hash } = ecdsaOpts;\n    let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    validateSigVerOpts(opts);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(msgHash);\n    const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null && ent !== false) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      const e = ent === true ? randomBytes_(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n    // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n    // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      // Important: all mod() calls here must be done over N\n      const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!Fn.isValidNot0(k)) return; // Valid scalars (including k) must be in 1..N-1\n      const ik = Fn.inv(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      const r = Fn.create(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      const s = Fn.create(ik * Fn.create(m + r * d)); // Not using blinding here, see comment above\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n  const defaultSigOpts: SignOpts = { lowS: ecdsaOpts.lowS, prehash: false };\n  const defaultVerOpts: VerOpts = { lowS: ecdsaOpts.lowS, prehash: false };\n\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash: Hex, privKey: PrivKey, opts = defaultSigOpts): RecoveredSignature {\n    const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n    const drbg = createHmacDrbg<RecoveredSignature>(ecdsaOpts.hash.outputLen, Fn.BYTES, hmac_);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE.precompute(8);\n\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1\u22C5G - U2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    msgHash: Hex,\n    publicKey: Hex,\n    opts = defaultVerOpts\n  ): boolean {\n    const sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n\n    // Verify opts\n    validateSigVerOpts(opts);\n    const { lowS, prehash, format } = opts;\n\n    // TODO: remove\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n\n    if (format !== undefined && !['compact', 'der', 'js'].includes(format))\n      throw new Error('format must be \"compact\", \"der\" or \"js\"');\n    const isHex = typeof sg === 'string' || isBytes(sg);\n    const isObj =\n      !isHex &&\n      !format &&\n      typeof sg === 'object' &&\n      sg !== null &&\n      typeof sg.r === 'bigint' &&\n      typeof sg.s === 'bigint';\n    if (!isHex && !isObj)\n      throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n    let _sig: Signature | undefined = undefined;\n    let P: ProjPointType<bigint>;\n\n    // deduce signature format\n    try {\n      // if (format === 'js') {\n      //   if (sg != null && !isBytes(sg)) _sig = new Signature(sg.r, sg.s);\n      // } else if (format === 'compact') {\n      //   _sig = Signature.fromCompact(sg);\n      // } else if (format === 'der') {\n      //   _sig = Signature.fromDER(sg);\n      // } else {\n      //   throw new Error('invalid format');\n      // }\n      if (isObj) {\n        if (format === undefined || format === 'js') {\n          _sig = new Signature(sg.r, sg.s);\n        } else {\n          throw new Error('invalid format');\n        }\n      }\n      if (isHex) {\n        // TODO: remove this malleable check\n        // Signature can be represented in 2 ways: compact (2*Fn.BYTES) & DER (variable-length).\n        // Since DER can also be 2*Fn.BYTES bytes, we check for it first.\n        try {\n          if (format !== 'compact') _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n        }\n        if (!_sig && format !== 'der') _sig = Signature.fromCompact(sg);\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      return false;\n    }\n    if (!_sig) return false;\n    if (lowS && _sig.hasHighS()) return false;\n    // todo: optional.hash => hash\n    if (prehash) msgHash = ecdsaOpts.hash(msgHash);\n    const { r, s } = _sig;\n    const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    const is = Fn.inv(s); // s^-1\n    const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n    const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n    const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2));\n    if (R.is0()) return false;\n    const v = Fn.create(R.x); // v = r.x mod n\n    return v === r;\n  }\n  // TODO: clarify API for cloning .clone({hash: sha512}) ? .createWith({hash: sha512})?\n  // const clone = (hash: CHash): ECDSA => ecdsa(Point, { ...ecdsaOpts, ...getHash(hash) }, curveOpts);\n  return Object.freeze({\n    getPublicKey,\n    getSharedSecret,\n    sign,\n    verify,\n    utils,\n    Point,\n    Signature,\n  });\n}\n\nexport type WsPointComposed<T> = {\n  CURVE: WeierstrassOpts<T>;\n  curveOpts: WeierstrassExtraOpts<T>;\n};\nexport type WsComposed = {\n  CURVE: WeierstrassOpts<bigint>;\n  curveOpts: WeierstrassExtraOpts<bigint>;\n  ecdsaOpts: ECDSAOpts;\n};\nfunction _weierstrass_legacy_opts_to_new<T>(c: CurvePointsType<T>): WsPointComposed<T> {\n  const CURVE: WeierstrassOpts<T> = {\n    a: c.a,\n    b: c.b,\n    p: c.Fp.ORDER,\n    n: c.n,\n    h: c.h,\n    Gx: c.Gx,\n    Gy: c.Gy,\n  };\n  const Fp = c.Fp;\n  const Fn = Field(CURVE.n, c.nBitLength);\n  const curveOpts: WeierstrassExtraOpts<T> = {\n    Fp,\n    Fn,\n    allowedPrivateKeyLengths: c.allowedPrivateKeyLengths,\n    allowInfinityPoint: c.allowInfinityPoint,\n    endo: c.endo,\n    wrapPrivateKey: c.wrapPrivateKey,\n    isTorsionFree: c.isTorsionFree,\n    clearCofactor: c.clearCofactor,\n    fromBytes: c.fromBytes,\n    toBytes: c.toBytes,\n  };\n  return { CURVE, curveOpts };\n}\nfunction _ecdsa_legacy_opts_to_new(c: CurveType): WsComposed {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const ecdsaOpts: ECDSAOpts = {\n    hash: c.hash,\n    hmac: c.hmac,\n    randomBytes: c.randomBytes,\n    lowS: c.lowS,\n    bits2int: c.bits2int,\n    bits2int_modN: c.bits2int_modN,\n  };\n  return { CURVE, curveOpts, ecdsaOpts };\n}\nfunction _weierstrass_new_output_to_legacy<T>(\n  c: CurvePointsType<T>,\n  Point: ProjConstructor<T>\n): CurvePointsRes<T> {\n  const { Fp, Fn } = Point;\n  // TODO: remove\n  function isWithinCurveOrder(num: bigint): boolean {\n    return inRange(num, _1n, Fn.ORDER);\n  }\n  const weierstrassEquation = _legacyHelperEquat(Fp, c.a, c.b);\n  const normPrivateKeyToScalar = _legacyHelperNormPriv(\n    Fn,\n    c.allowedPrivateKeyLengths,\n    c.wrapPrivateKey\n  );\n  return Object.assign(\n    {},\n    {\n      CURVE: c,\n      Point: Point,\n      ProjectivePoint: Point,\n      normPrivateKeyToScalar,\n      weierstrassEquation,\n      isWithinCurveOrder,\n    }\n  );\n}\nfunction _ecdsa_new_output_to_legacy(c: CurveType, ecdsa: ECDSA): CurveFn {\n  return Object.assign({}, ecdsa, {\n    ProjectivePoint: ecdsa.Point,\n    CURVE: c,\n  });\n}\n\n// _ecdsa_legacy\nexport function weierstrass(c: CurveType): CurveFn {\n  const { CURVE, curveOpts, ecdsaOpts } = _ecdsa_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  const signs = ecdsa(Point, ecdsaOpts, curveOpts);\n  return _ecdsa_new_output_to_legacy(c, signs);\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(\n  Fp: IField<T>,\n  Z: T\n): (u: T, v: T) => { isValid: boolean; value: T } {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n): (u: T) => { x: T; y: T } {\n  validateField(Fp);\n  const { A, B, Z } = opts;\n  if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n  if (!Fp.isOdd) throw new Error('Field does not have .isOdd()');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n    x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n", "/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { type CurveFn, type CurveType, weierstrass } from './abstract/weierstrass.ts';\nimport type { CHash } from './utils.ts';\n\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash: CHash): { hash: CHash } {\n  return { hash };\n}\n/** Same API as @noble/hashes, with ability to create curve with custom hash */\nexport type CurveDef = Readonly<Omit<CurveType, 'hash'>>;\nexport type CurveFnWithCreate = CurveFn & { create: (hash: CHash) => CurveFn };\n\nexport function createCurve(curveDef: CurveDef, defHash: CHash): CurveFnWithCreate {\n  const create = (hash: CHash): CurveFn => weierstrass({ ...curveDef, hash: hash });\n  return { ...create(defHash), create };\n}\n", "/**\n * hash-to-curve from RFC 9380.\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * https://www.rfc-editor.org/rfc/rfc9380\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport type { CHash } from '../utils.ts';\nimport {\n  _validateObject,\n  abytes,\n  bytesToNumberBE,\n  concatBytes,\n  isBytes,\n  isHash,\n  utf8ToBytes,\n} from '../utils.ts';\nimport type { AffinePoint, Group, GroupConstructor } from './curve.ts';\nimport { FpInvertBatch, type IField, mod } from './modular.ts';\n\nexport type UnicodeOrBytes = string | Uint8Array;\n\n/**\n * * `DST` is a domain separation tag, defined in section 2.2.5\n * * `p` characteristic of F, where F is a finite field of characteristic p and order q = p^m\n * * `m` is extension degree (1 for prime fields)\n * * `k` is the target security target in bits (e.g. 128), from section 5.1\n * * `expand` is `xmd` (SHA2, SHA3, BLAKE) or `xof` (SHAKE, BLAKE-XOF)\n * * `hash` conforming to `utils.CHash` interface, with `outputLen` / `blockLen` props\n */\nexport type H2COpts = {\n  DST: UnicodeOrBytes;\n  expand: 'xmd' | 'xof';\n  hash: CHash;\n  p: bigint;\n  m: number;\n  k: number;\n};\nexport type H2CHashOpts = {\n  expand: 'xmd' | 'xof';\n  hash: CHash;\n};\n// todo: remove\nexport type Opts = H2COpts;\n\n// Octet Stream to Integer. \"spec\" implementation of os2ip is 2.5x slower vs bytesToNumberBE.\nconst os2ip = bytesToNumberBE;\n\n// Integer to Octet Stream (numberToBytesBE)\nfunction i2osp(value: number, length: number): Uint8Array {\n  anum(value);\n  anum(length);\n  if (value < 0 || value >= 1 << (8 * length)) throw new Error('invalid I2OSP input: ' + value);\n  const res = Array.from({ length }).fill(0) as number[];\n  for (let i = length - 1; i >= 0; i--) {\n    res[i] = value & 0xff;\n    value >>>= 8;\n  }\n  return new Uint8Array(res);\n}\n\nfunction strxor(a: Uint8Array, b: Uint8Array): Uint8Array {\n  const arr = new Uint8Array(a.length);\n  for (let i = 0; i < a.length; i++) {\n    arr[i] = a[i] ^ b[i];\n  }\n  return arr;\n}\n\nfunction anum(item: unknown): void {\n  if (!Number.isSafeInteger(item)) throw new Error('number expected');\n}\n\n/**\n * Produces a uniformly random byte string using a cryptographic hash function H that outputs b bits.\n * [RFC 9380 5.3.1](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.1).\n */\nexport function expand_message_xmd(\n  msg: Uint8Array,\n  DST: Uint8Array,\n  lenInBytes: number,\n  H: CHash\n): Uint8Array {\n  abytes(msg);\n  abytes(DST);\n  anum(lenInBytes);\n  // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n  if (DST.length > 255) DST = H(concatBytes(utf8ToBytes('H2C-OVERSIZE-DST-'), DST));\n  const { outputLen: b_in_bytes, blockLen: r_in_bytes } = H;\n  const ell = Math.ceil(lenInBytes / b_in_bytes);\n  if (lenInBytes > 65535 || ell > 255) throw new Error('expand_message_xmd: invalid lenInBytes');\n  const DST_prime = concatBytes(DST, i2osp(DST.length, 1));\n  const Z_pad = i2osp(0, r_in_bytes);\n  const l_i_b_str = i2osp(lenInBytes, 2); // len_in_bytes_str\n  const b = new Array<Uint8Array>(ell);\n  const b_0 = H(concatBytes(Z_pad, msg, l_i_b_str, i2osp(0, 1), DST_prime));\n  b[0] = H(concatBytes(b_0, i2osp(1, 1), DST_prime));\n  for (let i = 1; i <= ell; i++) {\n    const args = [strxor(b_0, b[i - 1]), i2osp(i + 1, 1), DST_prime];\n    b[i] = H(concatBytes(...args));\n  }\n  const pseudo_random_bytes = concatBytes(...b);\n  return pseudo_random_bytes.slice(0, lenInBytes);\n}\n\n/**\n * Produces a uniformly random byte string using an extendable-output function (XOF) H.\n * 1. The collision resistance of H MUST be at least k bits.\n * 2. H MUST be an XOF that has been proved indifferentiable from\n *    a random oracle under a reasonable cryptographic assumption.\n * [RFC 9380 5.3.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.2).\n */\nexport function expand_message_xof(\n  msg: Uint8Array,\n  DST: Uint8Array,\n  lenInBytes: number,\n  k: number,\n  H: CHash\n): Uint8Array {\n  abytes(msg);\n  abytes(DST);\n  anum(lenInBytes);\n  // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n  // DST = H('H2C-OVERSIZE-DST-' || a_very_long_DST, Math.ceil((lenInBytes * k) / 8));\n  if (DST.length > 255) {\n    const dkLen = Math.ceil((2 * k) / 8);\n    DST = H.create({ dkLen }).update(utf8ToBytes('H2C-OVERSIZE-DST-')).update(DST).digest();\n  }\n  if (lenInBytes > 65535 || DST.length > 255)\n    throw new Error('expand_message_xof: invalid lenInBytes');\n  return (\n    H.create({ dkLen: lenInBytes })\n      .update(msg)\n      .update(i2osp(lenInBytes, 2))\n      // 2. DST_prime = DST || I2OSP(len(DST), 1)\n      .update(DST)\n      .update(i2osp(DST.length, 1))\n      .digest()\n  );\n}\n\n/**\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * [RFC 9380 5.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.2).\n * @param msg a byte string containing the message to hash\n * @param count the number of elements of F to output\n * @param options `{DST: string, p: bigint, m: number, k: number, expand: 'xmd' | 'xof', hash: H}`, see above\n * @returns [u_0, ..., u_(count - 1)], a list of field elements.\n */\nexport function hash_to_field(msg: Uint8Array, count: number, options: H2COpts): bigint[][] {\n  _validateObject(options, {\n    p: 'bigint',\n    m: 'number',\n    k: 'number',\n    hash: 'function',\n  });\n  const { p, k, m, hash, expand, DST: _DST } = options;\n  if (!isBytes(_DST) && typeof _DST !== 'string')\n    throw new Error('DST must be string or uint8array');\n  if (!isHash(options.hash)) throw new Error('expected valid hash');\n  abytes(msg);\n  anum(count);\n  const DST = typeof _DST === 'string' ? utf8ToBytes(_DST) : _DST;\n  const log2p = p.toString(2).length;\n  const L = Math.ceil((log2p + k) / 8); // section 5.1 of ietf draft link above\n  const len_in_bytes = count * m * L;\n  let prb; // pseudo_random_bytes\n  if (expand === 'xmd') {\n    prb = expand_message_xmd(msg, DST, len_in_bytes, hash);\n  } else if (expand === 'xof') {\n    prb = expand_message_xof(msg, DST, len_in_bytes, k, hash);\n  } else if (expand === '_internal_pass') {\n    // for internal tests only\n    prb = msg;\n  } else {\n    throw new Error('expand must be \"xmd\" or \"xof\"');\n  }\n  const u = new Array(count);\n  for (let i = 0; i < count; i++) {\n    const e = new Array(m);\n    for (let j = 0; j < m; j++) {\n      const elm_offset = L * (j + i * m);\n      const tv = prb.subarray(elm_offset, elm_offset + L);\n      e[j] = mod(os2ip(tv), p);\n    }\n    u[i] = e;\n  }\n  return u;\n}\n\nexport type XY<T> = (x: T, y: T) => { x: T; y: T };\nexport type XYRatio<T> = [T[], T[], T[], T[]]; // xn/xd, yn/yd\nexport function isogenyMap<T, F extends IField<T>>(field: F, map: XYRatio<T>): XY<T> {\n  // Make same order as in spec\n  const coeff = map.map((i) => Array.from(i).reverse());\n  return (x: T, y: T) => {\n    const [xn, xd, yn, yd] = coeff.map((val) =>\n      val.reduce((acc, i) => field.add(field.mul(acc, x), i))\n    );\n    // 6.6.3\n    // Exceptional cases of iso_map are inputs that cause the denominator of\n    // either rational function to evaluate to zero; such cases MUST return\n    // the identity point on E.\n    const [xd_inv, yd_inv] = FpInvertBatch(field, [xd, yd], true);\n    x = field.mul(xn, xd_inv); // xNum / xDen\n    y = field.mul(y, field.mul(yn, yd_inv)); // y * (yNum / yDev)\n    return { x, y };\n  };\n}\n\n/** Point interface, which curves must implement to work correctly with the module. */\nexport interface H2CPoint<T> extends Group<H2CPoint<T>> {\n  add(rhs: H2CPoint<T>): H2CPoint<T>;\n  toAffine(iz?: bigint): AffinePoint<T>;\n  clearCofactor(): H2CPoint<T>;\n  assertValidity(): void;\n}\n\nexport interface H2CPointConstructor<T> extends GroupConstructor<H2CPoint<T>> {\n  fromAffine(ap: AffinePoint<T>): H2CPoint<T>;\n}\n\nexport type MapToCurve<T> = (scalar: bigint[]) => AffinePoint<T>;\n\n// Separated from initialization opts, so users won't accidentally change per-curve parameters\n// (changing DST is ok!)\nexport type htfBasicOpts = { DST: UnicodeOrBytes };\nexport type H2CMethod<T> = (msg: Uint8Array, options?: htfBasicOpts) => H2CPoint<T>;\n// TODO: remove\nexport type HTFMethod<T> = H2CMethod<T>;\nexport type MapMethod<T> = (scalars: bigint[]) => H2CPoint<T>;\n/**\n * RFC 9380 methods, with cofactor clearing. See https://www.rfc-editor.org/rfc/rfc9380#section-3.\n *\n * * hashToCurve: `map(hash(input))`, encodes RANDOM bytes to curve (WITH hashing)\n * * encodeToCurve: `map(hash(input))`, encodes NON-UNIFORM bytes to curve (WITH hashing)\n * * mapToCurve: `map(scalars)`, encodes NON-UNIFORM scalars to curve (NO hashing)\n */\nexport type H2CHasher<T> = {\n  hashToCurve: H2CMethod<T>;\n  encodeToCurve: H2CMethod<T>;\n  mapToCurve: MapMethod<T>;\n  defaults: H2COpts & { encodeDST?: UnicodeOrBytes };\n};\n// TODO: remove\nexport type Hasher<T> = H2CHasher<T>;\n\n/** Creates hash-to-curve methods from EC Point and mapToCurve function. See {@link H2CHasher}. */\nexport function createHasher<T>(\n  Point: H2CPointConstructor<T>,\n  mapToCurve: MapToCurve<T>,\n  defaults: H2COpts & { encodeDST?: UnicodeOrBytes }\n): H2CHasher<T> {\n  if (typeof mapToCurve !== 'function') throw new Error('mapToCurve() must be defined');\n  function map(num: bigint[]) {\n    return Point.fromAffine(mapToCurve(num));\n  }\n  function clear(initial: H2CPoint<T>) {\n    const P = initial.clearCofactor();\n    if (P.equals(Point.ZERO)) return Point.ZERO; // zero will throw in assert\n    P.assertValidity();\n    return P;\n  }\n\n  return {\n    defaults,\n    hashToCurve(msg: Uint8Array, options?: htfBasicOpts): H2CPoint<T> {\n      const dst = defaults.DST ? defaults.DST : {};\n      const opts = Object.assign({}, defaults, dst, options);\n      const u = hash_to_field(msg, 2, opts);\n      const u0 = map(u[0]);\n      const u1 = map(u[1]);\n      return clear(u0.add(u1));\n    },\n    encodeToCurve(msg: Uint8Array, options?: htfBasicOpts): H2CPoint<T> {\n      const dst = defaults.encodeDST ? defaults.encodeDST : {};\n      const opts = Object.assign({}, defaults, dst, options);\n      const u = hash_to_field(msg, 1, opts);\n      return clear(map(u[0]));\n    },\n    /** See {@link H2CHasher} */\n    mapToCurve(scalars: bigint[]): H2CPoint<T> {\n      if (!Array.isArray(scalars)) throw new Error('expected array of bigints');\n      for (const i of scalars)\n        if (typeof i !== 'bigint') throw new Error('expected array of bigints');\n      return clear(map(scalars));\n    },\n  };\n}\n", "/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism \u03C8,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2.js';\nimport { randomBytes } from '@noble/hashes/utils.js';\nimport { createCurve, type CurveFnWithCreate } from './_shortw_utils.ts';\nimport {\n  createHasher,\n  type H2CHasher,\n  type H2CMethod,\n  isogenyMap,\n} from './abstract/hash-to-curve.ts';\nimport { Field, mod, pow2 } from './abstract/modular.ts';\nimport {\n  type EndomorphismOpts,\n  mapToCurveSimpleSWU,\n  type ProjPointType as PointType,\n  type WeierstrassOpts,\n} from './abstract/weierstrass.ts';\nimport type { Hex, PrivKey } from './utils.ts';\nimport {\n  aInRange,\n  bytesToNumberBE,\n  concatBytes,\n  ensureBytes,\n  inRange,\n  numberToBytesBE,\n} from './utils.ts';\n\n// Seems like generator was produced from some seed:\n// `Point.BASE.multiply(Point.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE: WeierstrassOpts<bigint> = {\n  p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n  n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n  h: BigInt(1),\n  a: BigInt(0),\n  b: BigInt(7),\n  Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n  Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a: bigint, b: bigint) => (a + b / _2n) / b;\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1_CURVE.p;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fpk1.eql(Fpk1.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fpk1 = Field(secp256k1_CURVE.p, undefined, undefined, { sqrt: sqrtMod });\n\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const priv = secp256k1.utils.randomPrivateKey();\n * const pub = secp256k1.getPublicKey(priv);\n * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa\n * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available\n * const isValid = secp256k1.verify(sig, msg, pub) === true;\n * ```\n */\nexport const secp256k1: CurveFnWithCreate = createCurve(\n  {\n    ...secp256k1_CURVE,\n    Fp: Fpk1,\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    endo: {\n      // Endomorphism, see above\n      beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n      splitScalar: (k: bigint) => {\n        const n = secp256k1_CURVE.n;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg) k1 = n - k1;\n        if (k2neg) k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n          throw new Error('splitScalar: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n      },\n    } satisfies EndomorphismOpts,\n  },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toBytes(true).slice(1);\nconst numTo32b = (n: bigint) => numberToBytesBE(n, 32);\nconst modP = (x: bigint) => mod(x, secp256k1_CURVE.p);\nconst modN = (x: bigint) => mod(x, secp256k1_CURVE.n);\nconst Point = /* @__PURE__ */ (() => secp256k1.Point)();\nconst hasEven = (y: bigint) => y % _2n === _0n;\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  let p = Point.fromPrivateKey(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = hasEven(p.y) ? d_ : modN(-d_);\n  return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  aInRange('x', x, _1n, secp256k1_CURVE.p); // Fail if x \u2265 p.\n  const xx = modP(x * x);\n  const c = modP(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (!hasEven(y)) y = modP(-y); // Return the unique point P such that x(P) = x and\n  const p = Point.fromAffine({ x, y }); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return modN(num(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(\n  message: Hex,\n  privateKey: PrivKey,\n  auxRand: Hex = randomBytes(32)\n): Uint8Array {\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = numTo32b(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  const k_ = modN(num(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'\u22C5G.\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!inRange(r, _1n, secp256k1_CURVE.p)) return false;\n    const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!inRange(s, _1n, secp256k1_CURVE.n)) return false;\n    const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    // R = s\u22C5G - e\u22C5P, where -eP == (n-e)P\n    const R = Point.BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(modN(-e)));\n    const { x, y } = R.toAffine();\n    // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n    if (R.is0() || !hasEven(y) || x !== r) return false;\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport type SecpSchnorr = {\n  getPublicKey: typeof schnorrGetPublicKey;\n  sign: typeof schnorrSign;\n  verify: typeof schnorrVerify;\n  utils: {\n    randomPrivateKey: () => Uint8Array;\n    lift_x: typeof lift_x;\n    pointToBytes: (point: PointType<bigint>) => Uint8Array;\n    numberToBytesBE: typeof numberToBytesBE;\n    bytesToNumberBE: typeof bytesToNumberBE;\n    taggedHash: typeof taggedHash;\n    mod: typeof mod;\n  };\n};\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const priv = schnorr.utils.randomPrivateKey();\n * const pub = schnorr.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, priv);\n * const isValid = schnorr.verify(sig, msg, pub);\n * ```\n */\nexport const schnorr: SecpSchnorr = /* @__PURE__ */ (() => ({\n  getPublicKey: schnorrGetPublicKey,\n  sign: schnorrSign,\n  verify: schnorrVerify,\n  utils: {\n    randomPrivateKey: secp256k1.utils.randomPrivateKey,\n    lift_x,\n    pointToBytes,\n    numberToBytesBE,\n    bytesToNumberBE,\n    taggedHash,\n    mod,\n  },\n}))();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fpk1,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n  }))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher: H2CHasher<bigint> = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.Point,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fpk1.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    }\n  ))();\n\nexport const hashToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.hashToCurve)();\n\nexport const encodeToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.encodeToCurve)();\n", "import { secp256k1 } from '@noble/curves/secp256k1';\nimport { Field } from '@noble/curves/abstract/modular';\nexport const _0n = BigInt(0);\nexport const _1n = BigInt(1);\nexport const _P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nexport const _N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nexport const CURVE = secp256k1.CURVE;\nexport const FIELD = Field(_N, 32, true);\nexport const POINT = secp256k1.ProjectivePoint;\nexport const DOMAIN = 'FROST-secp256k1-SHA256-v1';\nexport default { _0n, _1n, _N, _P, CURVE, DOMAIN, FIELD, POINT };\n", "import { Buff } from '@cmdcode/buff';\nimport { mod, pow } from '@noble/curves/abstract/modular';\nimport CONST from '../const.js';\nconst { POINT, _N, _P } = CONST;\nexport function mod_n(x) {\n    return mod(x, _N);\n}\nexport function mod_p(x) {\n    return mod(x, _P);\n}\nexport function pow_n(x, p) {\n    if (typeof x === 'number')\n        x = BigInt(x);\n    if (typeof p === 'number')\n        p = BigInt(p);\n    return pow(x, p, _N);\n}\nexport function str_to_bytes(str) {\n    return new TextEncoder().encode(str);\n}\nexport function bytes_to_str(bytes) {\n    return new TextDecoder().decode(bytes);\n}\nexport function lift_x(pubkey) {\n    let bytes = Buff.bytes(pubkey);\n    if (bytes.length < 32 || bytes.length > 33) {\n        throw new Error('invalid pubkeky: ' + bytes.hex + ' ' + bytes.length);\n    }\n    else if (bytes.length === 32) {\n        bytes = bytes.prepend(2);\n    }\n    return POINT.fromHex(bytes.hex);\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { assert } from '../util/index.js';\nimport { mod_n } from './util.js';\nimport CONST from '../const.js';\nconst { POINT, _0n, _1n, _N } = CONST;\nexport function Order() {\n    return _N;\n}\nexport function Identity() {\n    return new POINT(_0n, _1n, _0n);\n}\nexport function RandomScalar() {\n    const bigint = Buff.random(32).big;\n    return mod_n(bigint);\n}\nexport function ElementAdd(A, B) {\n    if (A === null && B === null) {\n        throw new Error('both points are null!');\n    }\n    else if (A === null) {\n        assert.exists(B);\n        return B;\n    }\n    else if (B === null) {\n        return A;\n    }\n    else {\n        const C = A.add(B);\n        C.assertValidity();\n        return C;\n    }\n}\nexport function ElementAddMany(elem) {\n    const sum = elem.slice(1).reduce((p, c) => ElementAdd(p, c), elem[0]);\n    if (sum === null) {\n        throw new Error('Summed point is null.');\n    }\n    sum.assertValidity();\n    return sum;\n}\nexport function ScalarMulti(A, k) {\n    const pt = A.multiply(k);\n    pt.assertValidity();\n    return pt;\n}\nexport function ScalarBaseMulti(k) {\n    const base = secp256k1.ProjectivePoint.BASE;\n    const pt = base.multiply(k);\n    pt.assertValidity();\n    return pt;\n}\nexport function SerializeElement(A) {\n    return Buff.bytes(A.toRawBytes(true));\n}\nexport function DeserializeElement(bytes) {\n    const hex = Buff.bytes(bytes).hex;\n    return POINT.fromHex(hex);\n}\nexport function SerializeScalar(scalar) {\n    return new Buff(scalar, 32);\n}\nexport function DeserializeScalar(bytes) {\n    return Buff.bytes(bytes).big;\n}\n", "import { Buff } from '@cmdcode/buff';\nexport function ok(value, message) {\n    if (value === false)\n        throw new Error(message ?? 'Assertion failed!');\n}\nexport function exists(input) {\n    if (typeof input === 'undefined') {\n        throw new TypeError('Input is undefined!');\n    }\n    if (input === null) {\n        throw new TypeError('Input is null!');\n    }\n}\nexport function size(input, size) {\n    const bytes = Buff.bytes(input);\n    if (bytes.length !== size) {\n        throw new Error(`Invalid byte size: ${bytes.hex} !== ${size}`);\n    }\n    return true;\n}\nexport function is_included(array, item) {\n    if (!array.includes(item)) {\n        throw new Error('item is not included in array');\n    }\n}\nexport function is_unique_set(array) {\n    for (const x of array) {\n        const c = array.filter(e => e === x).length;\n        if (c !== 1) {\n            throw new Error('item in set is not unique: ' + String(x));\n        }\n    }\n}\nexport function is_equal_set(array) {\n    if (!array.every(e => e === array[0])) {\n        throw new Error('set does not have equal items');\n    }\n}\nexport function equal_arr_size(array_a, array_b) {\n    if (array_a.length !== array_b.length) {\n        throw new Error(`array lengths are unequal: ${array_a.length} !== ${array_b.length}`);\n    }\n}\n", "import { Buff } from '@cmdcode/buff';\nexport function random_bytes(size = 32) {\n    return Buff.random(size);\n}\nexport function count_scalars(x_j, L) {\n    return L.filter(x => x === x_j).length;\n}\nexport function get_record(records, idx) {\n    const record = records.find(e => e.idx === idx);\n    if (record === undefined) {\n        throw new Error('record not found for index: ' + idx);\n    }\n    return record;\n}\nexport function taghash(tag) {\n    const hash = Buff.str(tag).digest;\n    return Buff.join([hash, hash]);\n}\nexport function hash340(tag, ...data) {\n    const hash = taghash(tag);\n    const bytes = data.map(e => Buff.bytes(e));\n    return Buff.join([hash, ...bytes]).digest;\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { G, H } from '../ecc/index.js';\nimport { lift_x, mod_n } from '../ecc/util.js';\nimport { assert, hash340 } from '../util/index.js';\nexport function generate_seckey(aux) {\n    const aux_bytes = (aux !== undefined)\n        ? Buff.bytes(aux, 32)\n        : Buff.random(32);\n    return H.H3(aux_bytes);\n}\nexport function generate_nonce(secret, aux_seed) {\n    const aux = (aux_seed !== undefined)\n        ? Buff.bytes(aux_seed, 32)\n        : Buff.random(32);\n    const secret_seed = Buff.join([aux, secret]);\n    return H.H3(secret_seed);\n}\nexport function tweak_seckey(seckey, tweak) {\n    const coeff = Buff.bytes(tweak).big;\n    const secret = Buff.bytes(seckey).big;\n    const tweaked = mod_n(secret * coeff);\n    return Buff.big(tweaked).hex;\n}\nexport function get_pubkey(secret) {\n    const scalar = Buff.bytes(secret).big;\n    const point = G.ScalarBaseMulti(scalar);\n    return G.SerializeElement(point).hex;\n}\nexport function tweak_pubkey(pubkey, tweak) {\n    const coeff = Buff.bytes(tweak).big;\n    let point = lift_x(pubkey);\n    point = point.multiply(coeff);\n    return G.SerializeElement(point).hex;\n}\nexport function get_challenge(pnonce, pubkey, message) {\n    const grp_pk = convert_pubkey(pubkey, 'bip340');\n    const grp_pn = convert_pubkey(pnonce, 'bip340');\n    assert.size(grp_pk, 32);\n    assert.size(grp_pn, 32);\n    const digest = hash340('BIP0340/challenge', grp_pn, grp_pk, message);\n    return digest.big;\n}\nexport function convert_pubkey(pubkey, type) {\n    const pub = Buff.bytes(pubkey);\n    if (type === 'ecdsa') {\n        return pub.length === 32\n            ? pub.prepend(2).hex\n            : pub.hex;\n    }\n    else if (type === 'bip340') {\n        return (pub.length === 33)\n            ? pub.slice(1).hex\n            : pub.hex;\n    }\n    else {\n        throw new Error('invalid pubkey type');\n    }\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { H, G } from '../ecc/index.js';\nimport { assert, get_record } from '../util/index.js';\nimport { generate_nonce, get_pubkey } from './helpers.js';\nexport function get_nonce_ids(pnonces) {\n    return pnonces.map(pn => BigInt(pn.idx));\n}\nexport function get_commits_prefix(pnonces) {\n    let enc_group_commit = [];\n    const sorted_pnonces = pnonces.sort((a, b) => a.idx - b.idx);\n    for (const { idx, hidden_pn, binder_pn } of sorted_pnonces) {\n        const enc_commit = [G.SerializeScalar(idx), hidden_pn, binder_pn];\n        enc_group_commit = [...enc_group_commit, ...enc_commit];\n    }\n    return Buff.join(enc_group_commit);\n}\nexport function get_group_prefix(pnonces, group_pk, message) {\n    const msg_bytes = Buff.hex(message);\n    const msg_hash = H.H4(msg_bytes);\n    const commit_list = get_commits_prefix(pnonces);\n    const commit_hash = H.H5(commit_list);\n    return Buff.join([group_pk, msg_hash, commit_hash]);\n}\nexport function get_bind_factor(binders, idx) {\n    for (const bind of binders) {\n        if (idx === bind.idx) {\n            return Buff.bytes(bind.factor).big;\n        }\n    }\n    throw new Error('invalid participant');\n}\nexport function get_group_binders(nonces, prefix) {\n    return nonces.map(({ idx }) => {\n        const scalar = G.SerializeScalar(idx);\n        const rho_input = Buff.join([prefix, scalar]);\n        return { idx, factor: H.H1(rho_input).hex };\n    });\n}\nexport function get_group_pubnonce(pnonces, binders) {\n    let group_commit = null;\n    for (const { idx, binder_pn, hidden_pn } of pnonces) {\n        const hidden_elem = G.DeserializeElement(hidden_pn);\n        const binding_elem = G.DeserializeElement(binder_pn);\n        const bind_factor = get_bind_factor(binders, idx);\n        const factored_elem = G.ScalarMulti(binding_elem, bind_factor);\n        group_commit = G.ElementAdd(group_commit, hidden_elem);\n        group_commit = G.ElementAdd(group_commit, factored_elem);\n    }\n    assert.exists(group_commit);\n    return G.SerializeElement(group_commit).hex;\n}\nexport function create_commit_pkg(secret_share, hidden_seed, binder_seed) {\n    const { idx, seckey } = secret_share;\n    const binder_sn = generate_nonce(seckey, binder_seed).hex;\n    const hidden_sn = generate_nonce(seckey, hidden_seed).hex;\n    const binder_pn = get_pubkey(binder_sn);\n    const hidden_pn = get_pubkey(hidden_sn);\n    return { idx, binder_pn, binder_sn, hidden_pn, hidden_sn };\n}\nexport function get_commit_pkg(commits, share) {\n    const idx = share.idx;\n    return get_record(commits, idx);\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { _0n, _1n, _N } from '../const.js';\nimport { mod_n } from './util.js';\nimport * as G from './group.js';\nexport function get_point_state(element, tweaks = []) {\n    const ints = tweaks.map(e => Buff.bytes(e).big);\n    const pos = _1n;\n    const neg = _N - pos;\n    let point = element, parity = pos, state = pos, tweak = _0n;\n    for (const t of ints) {\n        const tG = G.ScalarBaseMulti(t);\n        parity = point.hasEvenY() ? pos : neg;\n        point = (parity === neg) ? point.negate() : point;\n        point = G.ElementAdd(point, tG);\n        point.assertValidity();\n        state = mod_n(parity * state);\n        tweak = mod_n(t + (parity * tweak));\n    }\n    parity = point.hasEvenY() ? pos : neg;\n    return { parity, point, state, tweak };\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { get_point_state } from '../ecc/state.js';\nimport { lift_x } from '../ecc/util.js';\nimport { get_challenge } from '../lib/helpers.js';\nimport { get_group_binders, get_group_prefix, get_group_pubnonce, get_nonce_ids } from './commit.js';\nexport function get_group_key_context(pubkey, tweaks) {\n    const int_pk = Buff.bytes(pubkey).hex;\n    const int_pt = lift_x(int_pk);\n    const group_pt = get_point_state(int_pt, tweaks);\n    const group_pk = group_pt.point.toHex(true);\n    return { int_pk, int_pt, group_pk, group_pt };\n}\nexport function get_group_commit_context(key_ctx, pnonces, message) {\n    const group_pubkey = key_ctx.group_pk;\n    const bind_prefix = get_group_prefix(pnonces, group_pubkey, message).hex;\n    const bind_factors = get_group_binders(pnonces, bind_prefix);\n    const group_pn = get_group_pubnonce(pnonces, bind_factors);\n    const indexes = get_nonce_ids(pnonces);\n    const challenge = get_challenge(group_pn, group_pubkey, message);\n    message = Buff.bytes(message).hex;\n    return { bind_prefix, bind_factors, challenge, pnonces, group_pn, indexes, message };\n}\nexport function get_group_signing_ctx(group_pk, pnonces, message, tweaks) {\n    const key_ctx = get_group_key_context(group_pk, tweaks);\n    const com_ctx = get_group_commit_context(key_ctx, pnonces, message);\n    return { ...key_ctx, ...com_ctx };\n}\n", "import { _0n, _1n, FIELD } from '../const.js';\nimport { mod_n } from '../ecc/util.js';\nimport { assert } from '../util/index.js';\nexport function evaluate_x(L, x) {\n    if (x === _0n) {\n        throw new Error('x is zero');\n    }\n    let value = _0n;\n    for (const coeff of [...L].reverse()) {\n        value *= x;\n        value += coeff;\n        value = mod_n(value);\n    }\n    return value;\n}\nexport function interpolate_root(points) {\n    const coeffs = points.map(e => e[0]);\n    let p = _0n;\n    for (const [x, y] of points) {\n        const delta = interpolate_x(coeffs, x);\n        p += delta * y;\n        p = mod_n(p);\n    }\n    return p;\n}\nexport function interpolate_x(L, x) {\n    assert.is_included(L, x);\n    assert.is_unique_set(L);\n    let numerator = _1n, denominator = _1n;\n    for (const x_j of L) {\n        if (x_j === x)\n            continue;\n        numerator = mod_n(FIELD.mul(numerator, x_j));\n        denominator = mod_n(FIELD.mul(denominator, x_j - x));\n    }\n    return mod_n(FIELD.div(numerator, denominator));\n}\nexport function calc_lagrange_coeff(L, P, x) {\n    assert.is_unique_set(L);\n    let numerator = _1n, denominator = _1n;\n    for (const x_j of L) {\n        if (x_j === P)\n            continue;\n        numerator = mod_n(FIELD.mul(numerator, x - x_j));\n        denominator = mod_n(FIELD.mul(denominator, P - x_j));\n    }\n    return mod_n(FIELD.div(numerator, denominator));\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { lift_x, mod_n } from '../ecc/util.js';\nimport { G } from '../ecc/index.js';\nimport { assert } from '../util/index.js';\nimport { _0n } from '../const.js';\nimport { calc_lagrange_coeff } from './poly.js';\nexport function create_ecdh_share(members, share, pubkey) {\n    const mbrs = members\n        .filter(idx => idx !== share.idx)\n        .map(i => BigInt(i));\n    const idx = BigInt(share.idx);\n    const secret = Buff.hex(share.seckey).big;\n    const point = lift_x(pubkey);\n    const L_coeff = calc_lagrange_coeff(mbrs, idx, _0n);\n    const P_coeff = mod_n(L_coeff * secret);\n    const ecdh_pt = point.multiply(P_coeff);\n    const ecdh_pk = G.SerializeElement(ecdh_pt).hex;\n    return { idx: share.idx, pubkey: ecdh_pk };\n}\nexport function derive_ecdh_secret(shares) {\n    let point = null;\n    for (const share of shares) {\n        if (point === null) {\n            point = lift_x(share.pubkey);\n        }\n        else {\n            const pt = lift_x(share.pubkey);\n            point = point.add(pt);\n        }\n    }\n    assert.exists(point);\n    return G.SerializeElement(point).hex;\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { schnorr } from '@noble/curves/secp256k1';\nimport { G } from '../ecc/index.js';\nimport { lift_x, mod_n } from '../ecc/util.js';\nimport { _0n, _1n, CURVE } from '../const.js';\nimport { get_pubkey } from './helpers.js';\nimport { interpolate_x } from './poly.js';\nimport { get_group_binders, get_group_prefix, get_group_pubnonce, get_bind_factor } from './commit.js';\nexport function sign_msg(ctx, share, snonce) {\n    const { bind_factors, challenge, indexes, group_pt: Q } = ctx;\n    const bind_factor = get_bind_factor(bind_factors, share.idx);\n    const coefficient = interpolate_x(indexes, BigInt(share.idx));\n    if (snonce.idx !== share.idx) {\n        throw new Error(`commit index does not match share index: ${snonce.idx} !== ${share.idx}`);\n    }\n    let snonce_h = Buff.bytes(snonce.hidden_sn).big, snonce_b = Buff.bytes(snonce.binder_sn).big, seckey = Buff.bytes(share.seckey).big;\n    const R_elem = lift_x(ctx.group_pn);\n    if (!R_elem.hasEvenY()) {\n        snonce_h = CURVE.n - snonce_h;\n        snonce_b = CURVE.n - snonce_b;\n    }\n    const sk = mod_n(Q.parity * Q.state * seckey);\n    const nk = mod_n(snonce_h + (snonce_b * bind_factor));\n    const ps = mod_n((challenge * coefficient * sk) + nk);\n    return {\n        idx: share.idx,\n        psig: Buff.big(ps, 32).hex,\n        pubkey: get_pubkey(share.seckey)\n    };\n}\nexport function combine_partial_sigs(context, psigs) {\n    const { challenge, pnonces, group_pt: Q, group_pk, message } = context;\n    const commit_prefix = get_group_prefix(pnonces, group_pk, message);\n    const group_binders = get_group_binders(pnonces, commit_prefix);\n    const group_pnonce = get_group_pubnonce(pnonces, group_binders);\n    const ps = psigs\n        .map(e => Buff.hex(e.psig).big)\n        .reduce((acc, nxt) => mod_n(acc + nxt), _0n);\n    const twk = mod_n(challenge * Q.parity * Q.tweak);\n    const s = mod_n(ps + twk);\n    return Buff.join([group_pnonce.slice(2), Buff.big(s, 32)]).hex;\n}\nexport function verify_partial_sig(ctx, pnonce, share_pk, share_psig) {\n    const { bind_factors, challenge, indexes, group_pn, group_pt: Q } = ctx;\n    const binder = get_bind_factor(bind_factors, pnonce.idx);\n    let hidden_elem = lift_x(pnonce.hidden_pn), binder_elem = lift_x(pnonce.binder_pn), public_elem = lift_x(share_pk);\n    const R_elem = lift_x(group_pn);\n    if (!R_elem.hasEvenY()) {\n        hidden_elem = G.ScalarMulti(hidden_elem, CURVE.n - _1n);\n        binder_elem = G.ScalarMulti(binder_elem, CURVE.n - _1n);\n    }\n    const commit_elem = G.ScalarMulti(binder_elem, binder);\n    const nonce_elem = G.ElementAdd(hidden_elem, commit_elem);\n    const lambda_i = interpolate_x(indexes, BigInt(pnonce.idx));\n    const state = mod_n(Q.parity * Q.state);\n    const chal = mod_n(challenge * lambda_i * state);\n    const sig = Buff.hex(share_psig).big;\n    const sG = G.ScalarBaseMulti(sig);\n    const pki = G.ScalarMulti(public_elem, chal);\n    const R = G.ElementAdd(nonce_elem, pki);\n    return sG.x === R.x;\n}\nexport function verify_final_sig(context, message, signature) {\n    const sig = Buff.bytes(signature);\n    const msg = Buff.bytes(message);\n    return schnorr.verify(sig, msg, context.group_pk.slice(2));\n}\n", "import { create_ecdh_share, derive_ecdh_secret } from '@cmdcode/frost/lib';\nexport function create_ecdh_pkg(members, ecdh_pk, secshare) {\n    const ecdh_share = create_ecdh_share(members, secshare, ecdh_pk);\n    return { idx: ecdh_share.idx, keyshare: ecdh_share.pubkey, members, ecdh_pk };\n}\nexport function combine_ecdh_pkgs(pkgs) {\n    const keyshares = pkgs.map(e => {\n        return { idx: e.idx, pubkey: e.keyshare };\n    });\n    return derive_ecdh_secret(keyshares);\n}\n", "import { z } from 'zod';\nconst big = z.bigint(), bool = z.boolean(), date = z.date(), num = z.number(), uint = z.number().max(Number.MAX_SAFE_INTEGER), str = z.string(), stamp = z.number().min(500_000_000).max(Number.MAX_SAFE_INTEGER), any = z.any();\nconst sats = z.bigint().max(100000000n * 21000000n);\nconst literal = z.union([\n    z.string(), z.number(), z.boolean(), z.null()\n]);\nconst json = z.lazy(() => z.union([literal, z.array(json), z.record(json)]));\nconst hex = z.string().regex(/^[0-9a-fA-F]*$/).refine(e => e.length % 2 === 0);\nconst hex20 = hex.refine((e) => e.length === 40);\nconst hex32 = hex.refine((e) => e.length === 64);\nconst hex33 = hex.refine((e) => e.length === 66);\nconst hex64 = hex.refine((e) => e.length === 128);\nconst base58 = z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/);\nconst base64 = z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/);\nconst base64url = z.string().regex(/^[a-zA-Z0-9\\-_]+={0,2}$/);\nconst bech32 = z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/);\nexport default {\n    any,\n    base58,\n    base64,\n    base64url,\n    bech32,\n    big,\n    bool,\n    date,\n    hex20,\n    hex32,\n    hex33,\n    hex64,\n    hex,\n    json,\n    literal,\n    num,\n    sats,\n    str,\n    stamp,\n    uint\n};\n", "import { z } from 'zod';\nimport base from './base.js';\nconst policy = z.object({\n    send: z.boolean(),\n    recv: z.boolean()\n});\nconst config = z.object({\n    pubkey: base.hex32,\n    policy: policy\n});\nconst data = config.extend({\n    status: z.enum(['online', 'offline']),\n    updated: base.stamp\n});\nexport default { config, data, policy };\n", "import { z } from 'zod';\nimport base from './base.js';\nimport peer from './peer.js';\nconst cache = z.object({\n    ecdh: z.map(base.hex33, base.hex33).optional()\n});\nconst middleware = z.object({\n    ecdh: z.function().optional(),\n    sign: z.function().optional()\n});\nconst config = z.object({\n    debug: z.boolean(),\n    middleware: middleware,\n    policies: peer.config.array(),\n    sign_ival: base.num\n});\nexport default { cache, config, middleware };\n", "import { z } from 'zod';\nimport base from './base.js';\nconst commit = z.object({\n    idx: base.num,\n    pubkey: base.hex33,\n    hidden_pn: base.hex33,\n    binder_pn: base.hex33\n});\nconst group = z.object({\n    commits: z.array(commit),\n    group_pk: base.hex33,\n    threshold: base.num\n});\nconst share = z.object({\n    idx: base.num,\n    binder_sn: base.hex32,\n    hidden_sn: base.hex32,\n    seckey: base.hex32\n});\nconst ecdh = z.object({\n    idx: base.num,\n    keyshare: base.hex,\n    members: base.num.array(),\n    ecdh_pk: base.hex\n});\nexport default {\n    commit,\n    ecdh,\n    group,\n    share\n};\n", "import z from 'zod';\nimport base from './base.js';\nimport pkg from './pkg.js';\nconst commit = pkg.commit.extend({\n    bind_hash: base.hex32,\n    sid: base.hex32,\n    sighash: base.hex32\n});\nconst member = pkg.share.extend({\n    bind_hash: base.hex32,\n    sid: base.hex32,\n    sighash: base.hex32\n});\nconst psig_entry = z.tuple([base.hex32, base.hex32]);\nconst sighash_vec = z.tuple([base.hex32]).rest(base.hex32);\nconst template = z.object({\n    content: base.str.nullable(),\n    hashes: sighash_vec.array(),\n    members: base.num.array(),\n    stamp: base.num,\n    type: base.str,\n});\nconst session = template.extend({\n    gid: base.hex32,\n    sid: base.hex32,\n});\nconst psig_pkg = z.object({\n    idx: base.num,\n    psigs: psig_entry.array(),\n    pubkey: base.hex33,\n    sid: base.hex32\n});\nexport default { commit, member, psig_entry, psig_pkg, session, sighash_vec, template };\n", "import base from './base.js';\nimport node from './node.js';\nimport peer from './peer.js';\nimport pkg from './pkg.js';\nimport sign from './sign.js';\nexport default { base, node, peer, pkg, sign };\n", "import Schema from '../schema/index.js';\nexport function parse_ecdh_message(msg) {\n    try {\n        const schema = Schema.pkg.ecdh;\n        const json = JSON.parse(msg.data);\n        const parsed = schema.parse(json);\n        return { ...msg, data: parsed };\n    }\n    catch {\n        throw new Error('ecdh message failed validation');\n    }\n}\nexport function parse_session_message(msg) {\n    try {\n        const schema = Schema.sign.session;\n        const json = JSON.parse(msg.data);\n        const parsed = schema.parse(json);\n        return { ...msg, data: parsed };\n    }\n    catch {\n        throw new Error('session message failed validation');\n    }\n}\nexport function parse_psig_message(msg) {\n    try {\n        const schema = Schema.sign.psig_pkg;\n        const json = JSON.parse(msg.data);\n        const parsed = schema.parse(json);\n        return { ...msg, data: parsed };\n    }\n    catch (err) {\n        throw new Error('signature message failed validation');\n    }\n}\nexport function parse_group_pkg(group_pkg) {\n    try {\n        const schema = Schema.pkg.group;\n        return schema.parse(group_pkg);\n    }\n    catch (err) {\n        console.log('error:', err);\n        throw new Error('group package failed validation');\n    }\n}\nexport function parse_share_pkg(share_pkg) {\n    try {\n        const schema = Schema.pkg.share;\n        return schema.parse(share_pkg);\n    }\n    catch (err) {\n        console.log('error:', err);\n        throw new Error('share package failed validation');\n    }\n}\n", "export const now = () => Math.floor(Date.now() / 1000);\nexport const sleep = (ms = 1000) => new Promise(res => setTimeout(res, ms));\nexport function copy_obj(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexport function normalize_obj(obj) {\n    if (obj instanceof Map || Array.isArray(obj) || typeof obj !== 'object') {\n        return obj;\n    }\n    else {\n        return Object.keys(obj)\n            .sort()\n            .filter(([_, value]) => value !== undefined)\n            .reduce((sorted, key) => {\n            sorted[key] = obj[key];\n            return sorted;\n        }, {});\n    }\n}\nexport function parse_error(err) {\n    if (err instanceof Error)\n        return err.message;\n    if (typeof err === 'string')\n        return err;\n    return String(err);\n}\nexport function validate_schema(obj, schema, err_msg) {\n    const parsed = schema.safeParse(obj);\n    if (parsed.success)\n        return true;\n    if (err_msg === undefined)\n        return false;\n    throw new Error(err_msg ?? 'object failed schema validation');\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { validate_schema } from './helpers.js';\nexport var Assert;\n(function (Assert) {\n    function ok(value, message) {\n        if (value === false)\n            throw new Error(message ?? 'Assertion failed!');\n    }\n    Assert.ok = ok;\n    function equal(actual, expected, err_msg) {\n        if (actual !== expected)\n            throw new Error(err_msg ?? `${actual} !== ${expected}`);\n    }\n    Assert.equal = equal;\n    function exists(input, err_msg) {\n        if (typeof input === 'undefined') {\n            throw new TypeError(err_msg ?? 'Input is undefined!');\n        }\n        if (input === null) {\n            throw new TypeError(err_msg ?? 'Input is null!');\n        }\n    }\n    Assert.exists = exists;\n    function size(input, size, err_msg) {\n        const bytes = Buff.bytes(input);\n        if (bytes.length !== size) {\n            throw new Error(err_msg ?? `Invalid byte size: ${bytes.hex} !== ${size}`);\n        }\n        return true;\n    }\n    Assert.size = size;\n    function schema(schema, input, err_msg) {\n        exists(input);\n        validate_schema(input, schema, err_msg ?? null);\n    }\n    Assert.schema = schema;\n    function is_hex(input) {\n        if (typeof input !== 'string' ||\n            input.match(/[^a-fA-F0-9]/) !== null ||\n            input.length % 2 !== 0) {\n            throw new Error('invalid hex:' + input);\n        }\n    }\n    Assert.is_hex = is_hex;\n})(Assert || (Assert = {}));\n", "/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  abytes as abytes_,\n  bytesToHex as bytesToHex_,\n  concatBytes as concatBytes_,\n  hexToBytes as hexToBytes_,\n  isBytes as isBytes_,\n} from '@noble/hashes/utils.js';\nexport {\n  abytes,\n  anumber,\n  bytesToHex,\n  bytesToUtf8,\n  concatBytes,\n  hexToBytes,\n  isBytes,\n  randomBytes,\n  utf8ToBytes,\n} from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nexport function abool(title: string, value: boolean): void {\n  if (typeof value !== 'boolean') throw new Error(title + ' boolean expected, got ' + value);\n}\n\n// Used in weierstrass, der\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? '0' + hex : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  abytes_(bytes);\n  return hexToNumber(bytesToHex_(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes_(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes_(hex);\n    } catch (e) {\n      throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n    }\n  } else if (isBytes_(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(title + ' must be hex string or Uint8Array');\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n  return res;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\n// export const utf8ToBytes: typeof utf8ToBytes_ = utf8ToBytes_;\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\n// export const bytesToUtf8: typeof bytesToUtf8_ = bytesToUtf8_;\n\n// Is positive bigint\nconst isPosBig = (n: bigint) => typeof n === 'bigint' && _0n <= n;\n\nexport function inRange(n: bigint, min: bigint, max: bigint): boolean {\n  return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title: string, n: bigint, min: bigint, max: bigint): void {\n  // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n  // consider P=256n, min=0n, max=P\n  // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n  // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n  // - our way is the cleanest:               `inRange('x', x, 0n, P)\n  if (!inRange(n, min, max))\n    throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n: bigint): number {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number): bigint {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n: bigint, pos: number, value: boolean): bigint {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number): bigint => (_1n << BigInt(n)) - _1n;\n\n// DRBG\n\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  const u8n = (len: number) => new Uint8Array(len); // creates Uint8Array\n  const u8of = (byte: number) => Uint8Array.of(byte); // another shortcut\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n(0)) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8of(0x00), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8of(0x01), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes_(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any): boolean => typeof val === 'bigint',\n  function: (val: any): boolean => typeof val === 'function',\n  boolean: (val: any): boolean => typeof val === 'boolean',\n  string: (val: any): boolean => typeof val === 'string',\n  stringOrUint8Array: (val: any): boolean => typeof val === 'string' || isBytes_(val),\n  isSafeInteger: (val: any): boolean => Number.isSafeInteger(val),\n  array: (val: any): boolean => Array.isArray(val),\n  field: (val: any, object: any): any => (object as any).Fp.isValid(val),\n  hash: (val: any): boolean => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n): T {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error('invalid validator function');\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        'param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n\nexport function isHash(val: CHash): boolean {\n  return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n}\nexport function _validateObject(\n  object: Record<string, any>,\n  fields: Record<string, string>,\n  optFields: Record<string, string> = {}\n): void {\n  if (!object || typeof object !== 'object') throw new Error('expected valid options object');\n  type Item = keyof typeof object;\n  function checkField(fieldName: Item, expectedType: string, isOpt: boolean) {\n    const val = object[fieldName];\n    if (isOpt && val === undefined) return;\n    const current = typeof val;\n    if (current !== expectedType || val === null)\n      throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n  }\n  Object.entries(fields).forEach(([k, v]) => checkField(k, v, false));\n  Object.entries(optFields).forEach(([k, v]) => checkField(k, v, true));\n}\n\n/**\n * throws not implemented error\n */\nexport const notImplemented = (): never => {\n  throw new Error('not implemented');\n};\n\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized<T extends object, R, O extends any[]>(\n  fn: (arg: T, ...args: O) => R\n): (arg: T, ...args: O) => R {\n  const map = new WeakMap<T, R>();\n  return (arg: T, ...args: O): R => {\n    const val = map.get(arg);\n    if (val !== undefined) return val;\n    const computed = fn(arg, ...args);\n    map.set(arg, computed);\n    return computed;\n  };\n}\n", "/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  _validateObject,\n  anumber,\n  bitMask,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  numberToBytesBE,\n  numberToBytesLE,\n} from '../utils.ts';\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5);\nconst _8n = /* @__PURE__ */ BigInt(8);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  return FpPow(Field(modulo), num, power);\n}\n\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n) throw new Error('invert: expected non-zero number');\n  if (modulo <= _0n) throw new Error('invert: expected positive modulus, got ' + modulo);\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4<T>(Fp: IField<T>, n: T) {\n  const p1div4 = (Fp.ORDER + _1n) / _4n;\n  const root = Fp.pow(n, p1div4);\n  // Throw if root^2 != n\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n  return root;\n}\n\nfunction sqrt5mod8<T>(Fp: IField<T>, n: T) {\n  const p5div8 = (Fp.ORDER - _5n) / _8n;\n  const n2 = Fp.mul(n, _2n);\n  const v = Fp.pow(n2, p5div8);\n  const nv = Fp.mul(n, v);\n  const i = Fp.mul(Fp.mul(nv, _2n), v);\n  const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n  return root;\n}\n\n// TODO: Commented-out for now. Provide test vectors.\n// Tonelli is too slow for extension fields Fp2.\n// That means we can't use sqrt (c1, c2...) even for initialization constants.\n// if (P % _16n === _9n) return sqrt9mod16;\n// // prettier-ignore\n// function sqrt9mod16<T>(Fp: IField<T>, n: T, p7div16?: bigint) {\n//   if (p7div16 === undefined) p7div16 = (Fp.ORDER + BigInt(7)) / _16n;\n//   const c1 = Fp.sqrt(Fp.neg(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n//   const c2 = Fp.sqrt(c1);             //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n//   const c3 = Fp.sqrt(Fp.neg(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n//   const c4 = p7div16;                 //  4. c4 = (q + 7) / 16        # Integer arithmetic\n//   let tv1 = Fp.pow(n, c4);            //  1. tv1 = x^c4\n//   let tv2 = Fp.mul(c1, tv1);          //  2. tv2 = c1 * tv1\n//   const tv3 = Fp.mul(c2, tv1);        //  3. tv3 = c2 * tv1\n//   let tv4 = Fp.mul(c3, tv1);          //  4. tv4 = c3 * tv1\n//   const e1 = Fp.eql(Fp.sqr(tv2), n);  //  5.  e1 = (tv2^2) == x\n//   const e2 = Fp.eql(Fp.sqr(tv3), n);  //  6.  e2 = (tv3^2) == x\n//   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n//   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n//   const e3 = Fp.eql(Fp.sqr(tv2), n);  //  9.  e3 = (tv2^2) == x\n//   return Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3) # Select the sqrt from tv1 and tv2\n// }\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // Initialization (precomputation).\n  // Caching initialization could boost perf by 7%.\n  if (P < BigInt(3)) throw new Error('sqrt is not defined for small field');\n  // Factor P - 1 = Q * 2^S, where Q is odd\n  let Q = P - _1n;\n  let S = 0;\n  while (Q % _2n === _0n) {\n    Q /= _2n;\n    S++;\n  }\n\n  // Find the first quadratic non-residue Z >= 2\n  let Z = _2n;\n  const _Fp = Field(P);\n  while (FpLegendre(_Fp, Z) === 1) {\n    // Basic primality test for P. After x iterations, chance of\n    // not finding quadratic non-residue is 2^x, so 2^1000.\n    if (Z++ > 1000) throw new Error('Cannot find square root: probably non-prime P');\n  }\n  // Fast-path; usually done before Z, but we do \"primality test\".\n  if (S === 1) return sqrt3mod4;\n\n  // Slow-path\n  // TODO: test on Fp2 and others\n  let cc = _Fp.pow(Z, Q); // c = z^Q\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    if (Fp.is0(n)) return n;\n    // Check if n is a quadratic residue using Legendre symbol\n    if (FpLegendre(Fp, n) !== 1) throw new Error('Cannot find square root');\n\n    // Initialize variables for the main loop\n    let M = S;\n    let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n    let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n    let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n\n    // Main loop\n    // while t != 1\n    while (!Fp.eql(t, Fp.ONE)) {\n      if (Fp.is0(t)) return Fp.ZERO; // if t=0 return R=0\n      let i = 1;\n\n      // Find the smallest i >= 1 such that t^(2^i) \u2261 1 (mod P)\n      let t_tmp = Fp.sqr(t); // t^(2^1)\n      while (!Fp.eql(t_tmp, Fp.ONE)) {\n        i++;\n        t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n        if (i === M) throw new Error('Cannot find square root');\n      }\n\n      // Calculate the exponent for b: 2^(M - i - 1)\n      const exponent = _1n << BigInt(M - i - 1); // bigint is important\n      const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n\n      // Update variables\n      M = i;\n      c = Fp.sqr(b); // c = b^2\n      t = Fp.mul(t, c); // t = (t * b^2)\n      R = Fp.mul(R, b); // R = R*b\n    }\n    return R;\n  };\n}\n\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P \u2261 3 (mod 4)\n * 2. P \u2261 5 (mod 8)\n * 3. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // P \u2261 3 (mod 4) => \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) return sqrt3mod4;\n  // P \u2261 5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n  if (P % _8n === _5n) return sqrt5mod8;\n  // P \u2261 9 (mod 16) not implemented, see above\n  // Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint): boolean =>\n  (mod(num, modulo) & _1n) === _1n;\n\n/** Field is not always over prime: for example, Fp2 has ORDER(q)=p^m. */\nexport interface IField<T> {\n  ORDER: bigint;\n  isLE: boolean;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  isValidNot0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  // legendre?(num: T): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>): IField<T> {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'number',\n    BITS: 'number',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  _validateObject(field, opts);\n  // const max = 16384;\n  // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n  // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n  return field;\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(Fp: IField<T>, num: T, power: bigint): T {\n  if (power < _0n) throw new Error('invalid exponent, negatives unsupported');\n  if (power === _0n) return Fp.ONE;\n  if (power === _1n) return num;\n  let p = Fp.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = Fp.mul(p, d);\n    d = Fp.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch<T>(Fp: IField<T>, nums: T[], passZero = false): T[] {\n  const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n  // Walk from first to last, multiply them by each other MOD p\n  const multipliedAcc = nums.reduce((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = acc;\n    return Fp.mul(acc, num);\n  }, Fp.ONE);\n  // Invert last element\n  const invertedAcc = Fp.inv(multipliedAcc);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = Fp.mul(acc, inverted[i]);\n    return Fp.mul(acc, num);\n  }, invertedAcc);\n  return inverted;\n}\n\n// TODO: remove\nexport function FpDiv<T>(Fp: IField<T>, lhs: T, rhs: T | bigint): T {\n  return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p) \u2261 1    if a is a square (mod p), quadratic residue\n * * (a | p) \u2261 -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) \u2261 0    if a \u2261 0 (mod p)\n */\nexport function FpLegendre<T>(Fp: IField<T>, n: T): -1 | 0 | 1 {\n  // We can use 3rd argument as optional cache of this value\n  // but seems unneeded for now. The operation is very fast.\n  const p1mod2 = (Fp.ORDER - _1n) / _2n;\n  const powered = Fp.pow(n, p1mod2);\n  const yes = Fp.eql(powered, Fp.ONE);\n  const zero = Fp.eql(powered, Fp.ZERO);\n  const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n  if (!yes && !zero && !no) throw new Error('invalid Legendre symbol result');\n  return yes ? 1 : zero ? 0 : -1;\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(Fp: IField<T>, n: T): boolean {\n  const l = FpLegendre(Fp, n);\n  return l === 1;\n}\n\nexport type NLength = { nByteLength: number; nBitLength: number };\n// CURVE.n lengths\nexport function nLength(n: bigint, nBitLength?: number): NLength {\n  // Bit size, byte size of CURVE.n\n  if (nBitLength !== undefined) anumber(nBitLength);\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\ntype SqrtFn = (n: bigint) => bigint;\ntype FieldOpts = Partial<{ sqrt: SqrtFn; isLE: boolean; BITS: number }>;\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLenOrOpts?: number | FieldOpts,\n  isLE = false,\n  opts: { sqrt?: SqrtFn } = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n  let _nbitLength: number | undefined = undefined;\n  let _sqrt: SqrtFn | undefined = undefined;\n  if (typeof bitLenOrOpts === 'object' && bitLenOrOpts != null) {\n    if (opts.sqrt || isLE) throw new Error('cannot specify opts in two arguments');\n    const _opts = bitLenOrOpts;\n    if (_opts.BITS) _nbitLength = _opts.BITS;\n    if (_opts.sqrt) _sqrt = _opts.sqrt;\n    if (typeof _opts.isLE === 'boolean') isLE = _opts.isLE;\n  } else {\n    if (typeof bitLenOrOpts === 'number') _nbitLength = bitLenOrOpts;\n    if (opts.sqrt) _sqrt = opts.sqrt;\n  }\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, _nbitLength);\n  if (BYTES > 2048) throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n  let sqrtP: ReturnType<typeof FpSqrt>; // cached sqrtP\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    isLE,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error('invalid field element: expected bigint, got ' + typeof num);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    // is valid and invertible\n    isValidNot0: (num: bigint) => !f.is0(num) && f.isValid(num),\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt:\n      _sqrt ||\n      ((n) => {\n        if (!sqrtP) sqrtP = FpSqrt(ORDER);\n        return sqrtP(f, n);\n      }),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes) => {\n      if (bytes.length !== BYTES)\n        throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    },\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov: (a, b, c) => (c ? b : a),\n  } as FpField);\n  return Object.freeze(f);\n}\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(\n      'hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen\n    );\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n  const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask, validateObject } from '../utils.ts';\nimport { Field, FpInvertBatch, type IField, nLength, validateField } from './modular.ts';\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { z?: never; t?: never };\n\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n  toAffine?(invertedZ?: any): AffinePoint<any>;\n}\n\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\nexport type ExtendedGroupConstructor<T> = GroupConstructor<T> & {\n  Fp: IField<any>;\n  Fn: IField<bigint>;\n  fromAffine(ap: AffinePoint<any>): T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\nexport function negateCt<T extends Group<T>>(condition: boolean, item: T): T {\n  const neg = item.negate();\n  return condition ? neg : item;\n}\n\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ<T>(\n  c: ExtendedGroupConstructor<T>,\n  property: 'pz' | 'ez',\n  points: T[]\n): T[] {\n  const getz = property === 'pz' ? (p: any) => p.pz : (p: any) => p.ez;\n  const toInv = FpInvertBatch(c.Fp, points.map(getz));\n  // @ts-ignore\n  const affined = points.map((p, i) => p.toAffine(toInv[i]));\n  return affined.map(c.fromAffine);\n}\n\nfunction validateW(W: number, bits: number) {\n  if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n    throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\n\n/** Internal wNAF opts for specific W and scalarBits */\nexport type WOpts = {\n  windows: number;\n  windowSize: number;\n  mask: bigint;\n  maxNumber: number;\n  shiftBy: bigint;\n};\n\nfunction calcWOpts(W: number, scalarBits: number): WOpts {\n  validateW(W, scalarBits);\n  const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n  const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n  const maxNumber = 2 ** W; // W=8 256\n  const mask = bitMask(W); // W=8 255 == mask 0b11111111\n  const shiftBy = BigInt(W); // W=8 8\n  return { windows, windowSize, mask, maxNumber, shiftBy };\n}\n\nfunction calcOffsets(n: bigint, window: number, wOpts: WOpts) {\n  const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n  let wbits = Number(n & mask); // extract W bits.\n  let nextN = n >> shiftBy; // shift number by W bits.\n\n  // What actually happens here:\n  // const highestBit = Number(mask ^ (mask >> 1n));\n  // let wbits2 = wbits - 1; // skip zero\n  // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n\n  // split if bits > max: +224 => 256-32\n  if (wbits > windowSize) {\n    // we skip zero, which means instead of `>= size-1`, we do `> size`\n    wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n    nextN += _1n; // +256 (carry)\n  }\n  const offsetStart = window * windowSize;\n  const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n  const isZero = wbits === 0; // is current window slice a 0?\n  const isNeg = wbits < 0; // is current window slice negative?\n  const isNegF = window % 2 !== 0; // fake random statement for noise\n  const offsetF = offsetStart; // fake offset for noise\n  return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\n\nfunction validateMSMPoints(points: any[], c: any) {\n  if (!Array.isArray(points)) throw new Error('array expected');\n  points.forEach((p, i) => {\n    if (!(p instanceof c)) throw new Error('invalid point at index ' + i);\n  });\n}\nfunction validateMSMScalars(scalars: any[], field: any) {\n  if (!Array.isArray(scalars)) throw new Error('array of scalars expected');\n  scalars.forEach((s, i) => {\n    if (!field.isValid(s)) throw new Error('invalid scalar at index ' + i);\n  });\n}\n\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap<any, any[]>();\nconst pointWindowSizes = new WeakMap<any, number>();\n\nfunction getW(P: any): number {\n  return pointWindowSizes.get(P) || 1;\n}\n\nfunction assert0(n: bigint): void {\n  if (n !== _0n) throw new Error('invalid wNAF');\n}\n\nexport type IWNAF<T extends Group<T>> = {\n  constTimeNegate: <T extends Group<T>>(condition: boolean, item: T) => T;\n  hasPrecomputes(elm: T): boolean;\n  unsafeLadder(elm: T, n: bigint, p?: T): T;\n  precomputeWindow(elm: T, W: number): Group<T>[];\n  getPrecomputes(W: number, P: T, transform?: Mapper<T>): T[];\n  wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T };\n  wNAFUnsafe(W: number, precomputes: T[], n: bigint, acc?: T): T;\n  wNAFCached(P: T, n: bigint, transform?: Mapper<T>): { p: T; f: T };\n  wNAFCachedUnsafe(P: T, n: bigint, transform?: Mapper<T>, prev?: T): T;\n  setWindowSize(P: T, W: number): void;\n};\n\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport function wNAF<T extends Group<T>>(c: GroupConstructor<T>, bits: number): IWNAF<T> {\n  return {\n    constTimeNegate: negateCt,\n\n    hasPrecomputes(elm: T) {\n      return getW(elm) !== 1;\n    },\n\n    // non-const time multiplication ladder\n    unsafeLadder(elm: T, n: bigint, p = c.ZERO) {\n      let d: T = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n     * - \uD835\uDC4A is the window size\n     * - \uD835\uDC5B is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param elm Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(elm: T, W: number): Group<T>[] {\n      const { windows, windowSize } = calcWOpts(W, bits);\n      const points: T[] = [];\n      let p: T = elm;\n      let base = p;\n      for (let window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // i=1, bc we skip 0\n        for (let i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T } {\n      // Smaller version:\n      // https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n      // TODO: check the scalar is less than group order?\n      // wNAF behavior is undefined otherwise. But have to carefully remove\n      // other checks before wNAF. ORDER == bits here.\n      // Accumulators\n      let p = c.ZERO;\n      let f = c.BASE;\n      // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n      // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n      // there is negate now: it is possible that negated element from low value\n      // would be the same as high element, which will create carry into next window.\n      // It's not obvious how this can fail, but still worth investigating later.\n      const wo = calcWOpts(W, bits);\n      for (let window = 0; window < wo.windows; window++) {\n        // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n        const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n        n = nextN;\n        if (isZero) {\n          // bits are 0: add garbage to fake point\n          // Important part for const-time getPublicKey: add random \"noise\" point to f.\n          f = f.add(negateCt(isNegF, precomputes[offsetF]));\n        } else {\n          // bits are 1: add to result point\n          p = p.add(negateCt(isNeg, precomputes[offset]));\n        }\n      }\n      assert0(n);\n      // Return both real and fake points: JIT won't eliminate f.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return { p, f };\n    },\n\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W: number, precomputes: T[], n: bigint, acc: T = c.ZERO): T {\n      const wo = calcWOpts(W, bits);\n      for (let window = 0; window < wo.windows; window++) {\n        if (n === _0n) break; // Early-exit, skip 0 value\n        const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n        n = nextN;\n        if (isZero) {\n          // Window bits are 0: skip processing.\n          // Move to next window.\n          continue;\n        } else {\n          const item = precomputes[offset];\n          acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n        }\n      }\n      assert0(n);\n      return acc;\n    },\n\n    getPrecomputes(W: number, P: T, transform?: Mapper<T>): T[] {\n      // Calculate precomputes on a first run, reuse them after\n      let comp = pointPrecomputes.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W) as T[];\n        if (W !== 1) {\n          // Doing transform outside of if brings 15% perf hit\n          if (typeof transform === 'function') comp = transform(comp);\n          pointPrecomputes.set(P, comp);\n        }\n      }\n      return comp;\n    },\n\n    wNAFCached(P: T, n: bigint, transform?: Mapper<T>): { p: T; f: T } {\n      const W = getW(P);\n      return this.wNAF(W, this.getPrecomputes(W, P, transform), n);\n    },\n\n    wNAFCachedUnsafe(P: T, n: bigint, transform?: Mapper<T>, prev?: T): T {\n      const W = getW(P);\n      if (W === 1) return this.unsafeLadder(P, n, prev); // For W=1 ladder is ~x2 faster\n      return this.wNAFUnsafe(W, this.getPrecomputes(W, P, transform), n, prev);\n    },\n\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n\n    setWindowSize(P: T, W: number) {\n      validateW(W, bits);\n      pointWindowSizes.set(P, W);\n      pointPrecomputes.delete(P);\n    },\n  };\n}\n\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  point: T,\n  k1: bigint,\n  k2: bigint\n): { p1: T; p2: T } {\n  let acc = point;\n  let p1 = c.ZERO;\n  let p2 = c.ZERO;\n  while (k1 > _0n || k2 > _0n) {\n    if (k1 & _1n) p1 = p1.add(acc);\n    if (k2 & _1n) p2 = p2.add(acc);\n    acc = acc.double();\n    k1 >>= _1n;\n    k2 >>= _1n;\n  }\n  return { p1, p2 };\n}\n\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka private keys / bigints)\n */\nexport function pippenger<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  fieldN: IField<bigint>,\n  points: T[],\n  scalars: bigint[]\n): T {\n  // If we split scalars by some window (let's say 8 bits), every chunk will only\n  // take 256 buckets even if there are 4096 scalars, also re-uses double.\n  // TODO:\n  // - https://eprint.iacr.org/2024/750.pdf\n  // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n  // 0 is accepted in scalars\n  validateMSMPoints(points, c);\n  validateMSMScalars(scalars, fieldN);\n  const plength = points.length;\n  const slength = scalars.length;\n  if (plength !== slength) throw new Error('arrays of points and scalars must have equal length');\n  // if (plength === 0) throw new Error('array must be of length >= 2');\n  const zero = c.ZERO;\n  const wbits = bitLen(BigInt(plength));\n  let windowSize = 1; // bits\n  if (wbits > 12) windowSize = wbits - 3;\n  else if (wbits > 4) windowSize = wbits - 2;\n  else if (wbits > 0) windowSize = 2;\n  const MASK = bitMask(windowSize);\n  const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n  const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n  let sum = zero;\n  for (let i = lastBits; i >= 0; i -= windowSize) {\n    buckets.fill(zero);\n    for (let j = 0; j < slength; j++) {\n      const scalar = scalars[j];\n      const wbits = Number((scalar >> BigInt(i)) & MASK);\n      buckets[wbits] = buckets[wbits].add(points[j]);\n    }\n    let resI = zero; // not using this will do small speed-up, but will lose ct\n    // Skip first bucket, because it is zero\n    for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n      sumI = sumI.add(buckets[j]);\n      resI = resI.add(sumI);\n    }\n    sum = sum.add(resI);\n    if (i !== 0) for (let j = 0; j < windowSize; j++) sum = sum.double();\n  }\n  return sum as T;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe<T extends Group<T>>(\n  c: GroupConstructor<T>,\n  fieldN: IField<bigint>,\n  points: T[],\n  windowSize: number\n): (scalars: bigint[]) => T {\n  /**\n   * Performance Analysis of Window-based Precomputation\n   *\n   * Base Case (256-bit scalar, 8-bit window):\n   * - Standard precomputation requires:\n   *   - 31 additions per scalar \u00D7 256 scalars = 7,936 ops\n   *   - Plus 255 summary additions = 8,191 total ops\n   *   Note: Summary additions can be optimized via accumulator\n   *\n   * Chunked Precomputation Analysis:\n   * - Using 32 chunks requires:\n   *   - 255 additions per chunk\n   *   - 256 doublings\n   *   - Total: (255 \u00D7 32) + 256 = 8,416 ops\n   *\n   * Memory Usage Comparison:\n   * Window Size | Standard Points | Chunked Points\n   * ------------|-----------------|---------------\n   *     4-bit   |     520         |      15\n   *     8-bit   |    4,224        |     255\n   *    10-bit   |   13,824        |   1,023\n   *    16-bit   |  557,056        |  65,535\n   *\n   * Key Advantages:\n   * 1. Enables larger window sizes due to reduced memory overhead\n   * 2. More efficient for smaller scalar counts:\n   *    - 16 chunks: (16 \u00D7 255) + 256 = 4,336 ops\n   *    - ~2x faster than standard 8,191 ops\n   *\n   * Limitations:\n   * - Not suitable for plain precomputes (requires 256 constant doublings)\n   * - Performance degrades with larger scalar counts:\n   *   - Optimal for ~256 scalars\n   *   - Less efficient for 4096+ scalars (Pippenger preferred)\n   */\n  validateW(windowSize, fieldN.BITS);\n  validateMSMPoints(points, c);\n  const zero = c.ZERO;\n  const tableSize = 2 ** windowSize - 1; // table size (without zero)\n  const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n  const MASK = bitMask(windowSize);\n  const tables = points.map((p: T) => {\n    const res = [];\n    for (let i = 0, acc = p; i < tableSize; i++) {\n      res.push(acc);\n      acc = acc.add(p);\n    }\n    return res;\n  });\n  return (scalars: bigint[]): T => {\n    validateMSMScalars(scalars, fieldN);\n    if (scalars.length > points.length)\n      throw new Error('array of scalars must be smaller than array of points');\n    let res = zero;\n    for (let i = 0; i < chunks; i++) {\n      // No need to double if accumulator is still zero.\n      if (res !== zero) for (let j = 0; j < windowSize; j++) res = res.double();\n      const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n      for (let j = 0; j < scalars.length; j++) {\n        const n = scalars[j];\n        const curr = Number((n >> shiftBy) & MASK);\n        if (!curr) continue; // skip zero scalars chunks\n        res = res.add(tables[j][curr - 1]);\n      }\n    }\n    return res;\n  };\n}\n\n/**\n * Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n * Though generator can be different (Fp2 / Fp6 for BLS).\n */\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\n// TODO: remove\n/** @deprecated */\nexport function validateBasic<FP, T>(\n  curve: BasicCurve<FP> & T\n): Readonly<\n  {\n    readonly nBitLength: number;\n    readonly nByteLength: number;\n  } & BasicCurve<FP> &\n    T & {\n      p: bigint;\n    }\n> {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n\nexport type ValidCurveParams<T> = {\n  a: T;\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  Gx: T;\n  Gy: T;\n} & ({ b: T } | { d: T });\n\nfunction createField<T>(order: bigint, field?: IField<T>): IField<T> {\n  if (field) {\n    if (field.ORDER !== order) throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n    validateField(field);\n    return field;\n  } else {\n    return Field(order) as unknown as IField<T>;\n  }\n}\nexport type FpFn<T> = { Fp: IField<T>; Fn: IField<bigint> };\n/** Validates CURVE opts and creates fields */\nexport function _createCurveFields<T>(\n  type: 'weierstrass' | 'edwards',\n  CURVE: ValidCurveParams<T>,\n  curveOpts: Partial<FpFn<T>> = {}\n): FpFn<T> {\n  if (!CURVE || typeof CURVE !== 'object') throw new Error(`expected valid ${type} CURVE object`);\n  for (const p of ['p', 'n', 'h'] as const) {\n    const val = CURVE[p];\n    if (!(typeof val === 'bigint' && val > _0n))\n      throw new Error(`CURVE.${p} must be positive bigint`);\n  }\n  const Fp = createField(CURVE.p, curveOpts.Fp);\n  const Fn = createField(CURVE.n, curveOpts.Fn);\n  const _b: 'b' | 'd' = type === 'weierstrass' ? 'b' : 'd';\n  const params = ['Gx', 'Gy', 'a', _b] as const;\n  for (const p of params) {\n    // @ts-ignore\n    if (!Fp.isValid(CURVE[p]))\n      throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n  }\n  return { Fp, Fn };\n}\n", "/**\n * Short Weierstrass curve methods. The formula is: y\u00B2 = x\u00B3 + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac.js';\nimport {\n  _validateObject,\n  abool,\n  abytes,\n  aInRange,\n  bitMask,\n  bytesToHex,\n  bytesToNumberBE,\n  concatBytes,\n  createHmacDrbg,\n  ensureBytes,\n  hexToBytes,\n  inRange,\n  isBytes,\n  memoized,\n  numberToHexUnpadded,\n  randomBytes,\n  type CHash,\n  type Hex,\n  type PrivKey,\n} from '../utils.ts';\nimport {\n  _createCurveFields,\n  mulEndoUnsafe,\n  negateCt,\n  normalizeZ,\n  pippenger,\n  wNAF,\n  type AffinePoint,\n  type BasicCurve,\n  type Group,\n  type GroupConstructor,\n} from './curve.ts';\nimport {\n  Field,\n  FpInvertBatch,\n  getMinHashLength,\n  mapHashToField,\n  validateField,\n  type IField,\n  type NLength,\n} from './modular.ts';\n\nexport type { AffinePoint };\nexport type HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\n/**\n * When Weierstrass curve has `a=0`, it becomes Koblitz curve.\n * Koblitz curves allow using **efficiently-computable GLV endomorphism \u03C8**.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n *\n * Endomorphism consists of beta, lambda and splitScalar:\n *\n * 1. GLV endomorphism \u03C8 transforms a point: `P = (x, y) \u21A6 \u03C8(P) = (\u03B2\u00B7x mod p, y)`\n * 2. GLV scalar decomposition transforms a scalar: `k \u2261 k\u2081 + k\u2082\u00B7\u03BB (mod n)`\n * 3. Then these are combined: `k\u00B7P = k\u2081\u00B7P + k\u2082\u00B7\u03C8(P)`\n * 4. Two 128-bit point-by-scalar multiplications + one point addition is faster than\n *    one 256-bit multiplication.\n *\n * where\n * * beta: \u03B2 \u2208 F\u209A with \u03B2\u00B3 = 1, \u03B2 \u2260 1\n * * lambda: \u03BB \u2208 F\u2099 with \u03BB\u00B3 = 1, \u03BB \u2260 1\n * * splitScalar decomposes k \u21A6 k\u2081, k\u2082, by using reduced basis vectors.\n *   Gauss lattice reduction calculates them from initial basis vectors `(n, 0), (-\u03BB, 0)`\n *\n * Check out `test/misc/endomorphism.js` and\n * [gist](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n */\nexport type EndomorphismOpts = {\n  beta: bigint;\n  splitScalar: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts;\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n};\n\nexport type Entropy = Hex | boolean;\nexport type SignOpts = { lowS?: boolean; extraEntropy?: Entropy; prehash?: boolean };\nexport type VerOpts = {\n  lowS?: boolean;\n  prehash?: boolean;\n  format?: 'compact' | 'der' | 'js' | undefined;\n};\n\nfunction validateSigVerOpts(opts: SignOpts | VerOpts) {\n  if (opts.lowS !== undefined) abool('lowS', opts.lowS);\n  if (opts.prehash !== undefined) abool('prehash', opts.prehash);\n}\n\n/** Instance methods for 3D XYZ points. */\nexport interface ProjPointType<T> extends Group<ProjPointType<T>> {\n  /** projective x coordinate. Note: different from .x */\n  readonly px: T;\n  /** projective y coordinate. Note: different from .y */\n  readonly py: T;\n  /** projective z coordinate */\n  readonly pz: T;\n  /** affine x coordinate */\n  get x(): T;\n  /** affine y coordinate */\n  get y(): T;\n  assertValidity(): void;\n  clearCofactor(): ProjPointType<T>;\n  is0(): boolean;\n  isTorsionFree(): boolean;\n  multiplyUnsafe(scalar: bigint): ProjPointType<T>;\n  /**\n   * Massively speeds up `p.multiply(n)` by using wnaf precompute tables (caching).\n   * Table generation takes 30MB of ram and 10ms on high-end CPU, but may take\n   * much longer on slow devices.\n   * Actual generation will happen on first call of `.multiply()`.\n   * By default, BASE point is precomputed.\n   * @param windowSize - table window size\n   * @param isLazy - (default true) allows to defer generation\n   */\n  precompute(windowSize?: number, isLazy?: boolean): ProjPointType<T>;\n\n  /** Converts 3D XYZ projective point to 2D xy affine coordinates */\n  toAffine(invertedZ?: T): AffinePoint<T>;\n  /** Encodes point using IEEE P1363 (DER) encoding. First byte is 2/3/4. Default = isCompressed. */\n  toBytes(isCompressed?: boolean): Uint8Array;\n  toHex(isCompressed?: boolean): string;\n\n  /** @deprecated use `toBytes` */\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n  /** @deprecated use `multiplyUnsafe` */\n  multiplyAndAddUnsafe(Q: ProjPointType<T>, a: bigint, b: bigint): ProjPointType<T> | undefined;\n  /** @deprecated use `p.y % 2n === 0n` */\n  hasEvenY(): boolean;\n  /** @deprecated use `p.precompute(windowSize)` */\n  _setWindowSize(windowSize: number): void;\n}\n\n/** Static methods for 3D XYZ points. */\nexport interface ProjConstructor<T> extends GroupConstructor<ProjPointType<T>> {\n  Fp: IField<T>;\n  Fn: IField<bigint>;\n  /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  new (x: T, y: T, z: T): ProjPointType<T>;\n  /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  fromAffine(p: AffinePoint<T>): ProjPointType<T>;\n  fromBytes(encodedPoint: Uint8Array): ProjPointType<T>;\n  fromHex(hex: Hex): ProjPointType<T>;\n  fromPrivateKey(privateKey: PrivKey): ProjPointType<T>;\n  normalizeZ(points: ProjPointType<T>[]): ProjPointType<T>[];\n  msm(points: ProjPointType<T>[], scalars: bigint[]): ProjPointType<T>;\n}\n\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n};\n\n// LegacyWeierstrassOpts\nexport type CurvePointsTypeWithLength<T> = Readonly<CurvePointsType<T> & Partial<NLength>>;\n\n// LegacyWeierstrass\nexport type CurvePointsRes<T> = {\n  /** @deprecated import individual CURVE params */\n  CURVE: CurvePointsType<T>;\n  Point: ProjConstructor<T>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: ProjConstructor<T>;\n  /** @deprecated */\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  /** @deprecated */\n  weierstrassEquation: (x: T) => T;\n  /** @deprecated use `Point.Fn.isValidNot0(num)` */\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\n// Aliases to legacy types\n// export type CurveType = LegacyECDSAOpts;\n// export type CurveFn = LegacyECDSA;\n// export type CurvePointsRes<T> = LegacyWeierstrass<T>;\n// export type CurvePointsType<T> = LegacyWeierstrassOpts<T>;\n// export type CurvePointsTypeWithLength<T> = LegacyWeierstrassOpts<T>;\n// export type BasicWCurve<T> = LegacyWeierstrassOpts<T>;\n\n/**\n * Weierstrass curve options.\n *\n * * p: prime characteristic (order) of finite field, in which arithmetics is done\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * h: cofactor, usually 1. h*n is group order; n is subgroup order\n * * a: formula param, must be in field of p\n * * b: formula param, must be in field of p\n * * Gx: x coordinate of generator point a.k.a. base point\n * * Gy: y coordinate of generator point\n */\nexport type WeierstrassOpts<T> = Readonly<{\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: T;\n  b: T;\n  Gx: T;\n  Gy: T;\n}>;\n\n// When a cofactor != 1, there can be an effective methods to:\n// 1. Determine whether a point is torsion-free\n// 2. Clear torsion component\n// wrapPrivateKey: bls12-381 requires mod(n) instead of rejecting keys >= n\nexport type WeierstrassExtraOpts<T> = Partial<{\n  Fp: IField<T>;\n  Fn: IField<bigint>;\n  // TODO: remove\n  allowedPrivateKeyLengths: readonly number[]; // for P521\n  allowInfinityPoint: boolean;\n  endo: EndomorphismOpts;\n  wrapPrivateKey: boolean;\n  isTorsionFree: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  clearCofactor: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n  fromBytes: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n}>;\n\n/**\n * Options for ECDSA signatures over a Weierstrass curve.\n */\nexport type ECDSAOpts = {\n  hash: CHash;\n  hmac?: HmacFnSync;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\n/** ECDSA is only supported for prime fields, not Fp2 (extension fields). */\nexport interface ECDSA {\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  Point: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    // TODO: deprecate those two\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    /** @deprecated */\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n}\nexport class DERErr extends Error {\n  constructor(m = '') {\n    super(m);\n  }\n}\nexport type IDER = {\n  // asn.1 DER encoding utils\n  Err: typeof DERErr;\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string) => string;\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array };\n  };\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string;\n    decode(data: Uint8Array): bigint;\n  };\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint };\n  hexFromSig(sig: { r: bigint; s: bigint }): string;\n};\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER: IDER = {\n  // asn.1 DER encoding utils\n  Err: DERErr,\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string): string => {\n      const { Err: E } = DER;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length & 1) throw new E('tlv.encode: unpadded data');\n      const dataLen = data.length / 2;\n      const len = numberToHexUnpadded(dataLen);\n      if ((len.length / 2) & 0b1000_0000) throw new E('tlv.encode: long form length too big');\n      // length of length with long form flag\n      const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n      const t = numberToHexUnpadded(tag);\n      return t + lenLen + len + data;\n    },\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array } {\n      const { Err: E } = DER;\n      let pos = 0;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length < 2 || data[pos++] !== tag) throw new E('tlv.decode: wrong tlv');\n      const first = data[pos++];\n      const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n      let length = 0;\n      if (!isLong) length = first;\n      else {\n        // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n        const lenLen = first & 0b0111_1111;\n        if (!lenLen) throw new E('tlv.decode(long): indefinite length not supported');\n        if (lenLen > 4) throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n        const lengthBytes = data.subarray(pos, pos + lenLen);\n        if (lengthBytes.length !== lenLen) throw new E('tlv.decode: length bytes not complete');\n        if (lengthBytes[0] === 0) throw new E('tlv.decode(long): zero leftmost byte');\n        for (const b of lengthBytes) length = (length << 8) | b;\n        pos += lenLen;\n        if (length < 128) throw new E('tlv.decode(long): not minimal encoding');\n      }\n      const v = data.subarray(pos, pos + length);\n      if (v.length !== length) throw new E('tlv.decode: wrong value length');\n      return { v, l: data.subarray(pos + length) };\n    },\n  },\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string {\n      const { Err: E } = DER;\n      if (num < _0n) throw new E('integer: negative integers are not allowed');\n      let hex = numberToHexUnpadded(num);\n      // Pad with zero byte if negative flag is present\n      if (Number.parseInt(hex[0], 16) & 0b1000) hex = '00' + hex;\n      if (hex.length & 1) throw new E('unexpected DER parsing assertion: unpadded hex');\n      return hex;\n    },\n    decode(data: Uint8Array): bigint {\n      const { Err: E } = DER;\n      if (data[0] & 0b1000_0000) throw new E('invalid signature integer: negative');\n      if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n        throw new E('invalid signature integer: unnecessary leading zero');\n      return bytesToNumberBE(data);\n    },\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E, _int: int, _tlv: tlv } = DER;\n    const data = ensureBytes('signature', hex);\n    const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n    if (seqLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n    const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n    if (sLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    return { r: int.decode(rBytes), s: int.decode(sBytes) };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    const { _tlv: tlv, _int: int } = DER;\n    const rs = tlv.encode(0x02, int.encode(sig.r));\n    const ss = tlv.encode(0x02, int.encode(sig.s));\n    const seq = rs + ss;\n    return tlv.encode(0x30, seq);\n  },\n};\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\n// TODO: remove\nexport function _legacyHelperEquat<T>(Fp: IField<T>, a: T, b: T): (x: T) => T {\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula. Takes x, returns y\u00B2.\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x\u00B3 + a * x + b\n  }\n  return weierstrassEquation;\n}\nexport function _legacyHelperNormPriv(\n  Fn: IField<bigint>,\n  allowedPrivateKeyLengths?: readonly number[],\n  wrapPrivateKey?: boolean\n): (key: PrivKey) => bigint {\n  const { BYTES: expected } = Fn;\n  // Validates if priv key is valid and converts it to bigint.\n  function normPrivateKeyToScalar(key: PrivKey): bigint {\n    let num: bigint;\n    if (typeof key === 'bigint') {\n      num = key;\n    } else {\n      let bytes = ensureBytes('private key', key);\n      if (allowedPrivateKeyLengths) {\n        if (!allowedPrivateKeyLengths.includes(bytes.length * 2))\n          throw new Error('invalid private key');\n        const padded = new Uint8Array(expected);\n        padded.set(bytes, padded.length - bytes.length);\n        bytes = padded;\n      }\n      try {\n        num = Fn.fromBytes(bytes);\n      } catch (error) {\n        throw new Error(\n          `invalid private key: expected ui8a of size ${expected}, got ${typeof key}`\n        );\n      }\n    }\n    if (wrapPrivateKey) num = Fn.create(num); // disabled by default, enabled for BLS\n    if (!Fn.isValidNot0(num)) throw new Error('invalid private key: out of range [1..N-1]');\n    return num;\n  }\n  return normPrivateKeyToScalar;\n}\n\nexport function weierstrassN<T>(\n  CURVE: WeierstrassOpts<T>,\n  curveOpts: WeierstrassExtraOpts<T> = {}\n): ProjConstructor<T> {\n  const { Fp, Fn } = _createCurveFields('weierstrass', CURVE, curveOpts);\n  const { h: cofactor, n: CURVE_ORDER } = CURVE;\n  _validateObject(\n    curveOpts,\n    {},\n    {\n      allowInfinityPoint: 'boolean',\n      clearCofactor: 'function',\n      isTorsionFree: 'function',\n      fromBytes: 'function',\n      toBytes: 'function',\n      endo: 'object',\n      wrapPrivateKey: 'boolean',\n    }\n  );\n\n  const { endo } = curveOpts;\n  if (endo) {\n    // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n    if (\n      !Fp.is0(CURVE.a) ||\n      typeof endo.beta !== 'bigint' ||\n      typeof endo.splitScalar !== 'function'\n    ) {\n      throw new Error('invalid endo: expected \"beta\": bigint and \"splitScalar\": function');\n    }\n  }\n\n  function assertCompressionIsSupported() {\n    if (!Fp.isOdd) throw new Error('compression is not supported: Field does not have .isOdd()');\n  }\n\n  // Implements IEEE P1363 point encoding\n  function pointToBytes(\n    _c: ProjConstructor<T>,\n    point: ProjPointType<T>,\n    isCompressed: boolean\n  ): Uint8Array {\n    const { x, y } = point.toAffine();\n    const bx = Fp.toBytes(x);\n    abool('isCompressed', isCompressed);\n    if (isCompressed) {\n      assertCompressionIsSupported();\n      const hasEvenY = !Fp.isOdd!(y);\n      return concatBytes(pprefix(hasEvenY), bx);\n    } else {\n      return concatBytes(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n    }\n  }\n  function pointFromBytes(bytes: Uint8Array) {\n    abytes(bytes);\n    const L = Fp.BYTES;\n    const LC = L + 1; // length compressed, e.g. 33 for 32-byte field\n    const LU = 2 * L + 1; // length uncompressed, e.g. 65 for 32-byte field\n    const length = bytes.length;\n    const head = bytes[0];\n    const tail = bytes.subarray(1);\n    // No actual validation is done here: use .assertValidity()\n    if (length === LC && (head === 0x02 || head === 0x03)) {\n      const x = Fp.fromBytes(tail);\n      if (!Fp.isValid(x)) throw new Error('bad point: is not on curve, wrong x');\n      const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n      let y: T;\n      try {\n        y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n      } catch (sqrtError) {\n        const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n        throw new Error('bad point: is not on curve, sqrt error' + err);\n      }\n      assertCompressionIsSupported();\n      const isYOdd = Fp.isOdd!(y); // (y & _1n) === _1n;\n      const isHeadOdd = (head & 1) === 1; // ECDSA-specific\n      if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n      return { x, y };\n    } else if (length === LU && head === 0x04) {\n      // TODO: more checks\n      const x = Fp.fromBytes(tail.subarray(L * 0, L * 1));\n      const y = Fp.fromBytes(tail.subarray(L * 1, L * 2));\n      if (!isValidXY(x, y)) throw new Error('bad point: is not on curve');\n      return { x, y };\n    } else {\n      throw new Error(\n        `bad point: got length ${length}, expected compressed=${LC} or uncompressed=${LU}`\n      );\n    }\n  }\n\n  const toBytes = curveOpts.toBytes || pointToBytes;\n  const fromBytes = curveOpts.fromBytes || pointFromBytes;\n  const weierstrassEquation = _legacyHelperEquat(Fp, CURVE.a, CURVE.b);\n\n  // TODO: move top-level\n  /** Checks whether equation holds for given x, y: y\u00B2 == x\u00B3 + ax + b */\n  function isValidXY(x: T, y: T): boolean {\n    const left = Fp.sqr(y); // y\u00B2\n    const right = weierstrassEquation(x); // x\u00B3 + ax + b\n    return Fp.eql(left, right);\n  }\n\n  // Validate whether the passed curve params are valid.\n  // Test 1: equation y\u00B2 = x\u00B3 + ax + b should work for generator point.\n  if (!isValidXY(CURVE.Gx, CURVE.Gy)) throw new Error('bad curve params: generator point');\n\n  // Test 2: discriminant \u0394 part should be non-zero: 4a\u00B3 + 27b\u00B2 != 0.\n  // Guarantees curve is genus-1, smooth (non-singular).\n  const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n  const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n  if (Fp.is0(Fp.add(_4a3, _27b2))) throw new Error('bad curve params: a or b');\n\n  /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n  function acoord(title: string, n: T, banZero = false) {\n    if (!Fp.isValid(n) || (banZero && Fp.is0(n))) throw new Error(`bad point coordinate ${title}`);\n    return n;\n  }\n\n  function aprjpoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n\n  // Memoized toAffine / validity check. They are heavy. Points are immutable.\n\n  // Converts Projective point to affine (x, y) coordinates.\n  // Can accept precomputed Z^-1 - for example, from invertBatch.\n  // (X, Y, Z) \u220B (x=X/Z, y=Y/Z)\n  const toAffineMemo = memoized((p: Point, iz?: T): AffinePoint<T> => {\n    const { px: x, py: y, pz: z } = p;\n    // Fast-path for normalized points\n    if (Fp.eql(z, Fp.ONE)) return { x, y };\n    const is0 = p.is0();\n    // If invZ was 0, we return zero point. However we still want to execute\n    // all operations, so we replace invZ with a random number, 1.\n    if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n    const ax = Fp.mul(x, iz);\n    const ay = Fp.mul(y, iz);\n    const zz = Fp.mul(z, iz);\n    if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n    if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n    return { x: ax, y: ay };\n  });\n  // NOTE: on exception this will crash 'cached' and no value will be set.\n  // Otherwise true will be return\n  const assertValidMemo = memoized((p: Point) => {\n    if (p.is0()) {\n      // (0, 1, 0) aka ZERO is invalid in most contexts.\n      // In BLS, ZERO can be serialized, so we allow it.\n      // (0, 0, 0) is invalid representation of ZERO.\n      if (curveOpts.allowInfinityPoint && !Fp.is0(p.py)) return;\n      throw new Error('bad point: ZERO');\n    }\n    // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n    const { x, y } = p.toAffine();\n    if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not field elements');\n    if (!isValidXY(x, y)) throw new Error('bad point: equation left != right');\n    if (!p.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    return true;\n  });\n\n  function finishEndo(\n    endoBeta: EndomorphismOpts['beta'],\n    k1p: Point,\n    k2p: Point,\n    k1neg: boolean,\n    k2neg: boolean\n  ) {\n    k2p = new Point(Fp.mul(k2p.px, endoBeta), k2p.py, k2p.pz);\n    k1p = negateCt(k1neg, k1p);\n    k2p = negateCt(k2neg, k2p);\n    return k1p.add(k2p);\n  }\n\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z) \u220B (x=X/Z, y=Y/Z).\n   * Default Point works in 2d / affine coordinates: (x, y).\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements ProjPointType<T> {\n    // base / generator point\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    // fields\n    static readonly Fp = Fp;\n    static readonly Fn = Fn;\n\n    readonly px: T;\n    readonly py: T;\n    readonly pz: T;\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    constructor(px: T, py: T, pz: T) {\n      this.px = acoord('x', px);\n      this.py = acoord('y', py, true);\n      this.pz = acoord('z', pz);\n      Object.freeze(this);\n    }\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n      if (Fp.is0(x) && Fp.is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    static normalizeZ(points: Point[]): Point[] {\n      return normalizeZ(Point, 'pz', points);\n    }\n\n    static fromBytes(bytes: Uint8Array): Point {\n      abytes(bytes);\n      return Point.fromHex(bytes);\n    }\n\n    /** Converts hash string or Uint8Array to Point. */\n    static fromHex(hex: Hex): Point {\n      const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n      P.assertValidity();\n      return P;\n    }\n\n    /** Multiplies generator point by privateKey. */\n    static fromPrivateKey(privateKey: PrivKey) {\n      const normPrivateKeyToScalar = _legacyHelperNormPriv(\n        Fn,\n        curveOpts.allowedPrivateKeyLengths,\n        curveOpts.wrapPrivateKey\n      );\n      return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n    }\n\n    /** Multiscalar Multiplication */\n    static msm(points: Point[], scalars: bigint[]): Point {\n      return pippenger(Point, Fn, points, scalars);\n    }\n\n    /**\n     *\n     * @param windowSize\n     * @param isLazy true will defer table computation until the first multiplication\n     * @returns\n     */\n    precompute(windowSize: number = 8, isLazy = true): Point {\n      wnaf.setWindowSize(this, windowSize);\n      if (!isLazy) this.multiply(_3n); // random number\n      return this;\n    }\n\n    /** \"Private method\", don't use it directly */\n    _setWindowSize(windowSize: number) {\n      this.precompute(windowSize);\n    }\n\n    // TODO: return `this`\n    /** A point on curve is valid if it conforms to equation. */\n    assertValidity(): void {\n      assertValidMemo(this);\n    }\n\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (!Fp.isOdd) throw new Error(\"Field doesn't support isOdd\");\n      return !Fp.isOdd(y);\n    }\n\n    /** Compare one point to another. */\n    equals(other: Point): boolean {\n      aprjpoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n    negate(): Point {\n      return new Point(this.px, Fp.neg(this.py), this.pz);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      aprjpoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    is0(): boolean {\n      return this.equals(Point.ZERO);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      const { endo } = curveOpts;\n      if (!Fn.isValidNot0(scalar)) throw new Error('invalid scalar: out of range'); // 0 is invalid\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      const mul = (n: bigint) => wnaf.wNAFCached(this, n, Point.normalizeZ);\n      /** See docs for {@link EndomorphismOpts} */\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(scalar);\n        const { p: k1p, f: k1f } = mul(k1);\n        const { p: k2p, f: k2f } = mul(k2);\n        fake = k1f.add(k2f);\n        point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n      } else {\n        const { p, f } = mul(scalar);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return Point.normalizeZ([point, fake])[0];\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed private key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(sc: bigint): Point {\n      const { endo } = curveOpts;\n      const p = this;\n      if (!Fn.isValid(sc)) throw new Error('invalid scalar: out of range'); // 0 is valid\n      if (sc === _0n || p.is0()) return Point.ZERO;\n      if (sc === _1n) return p; // fast-path\n      if (wnaf.hasPrecomputes(this)) return this.multiply(sc);\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(sc);\n        // `wNAFCachedUnsafe` is 30% slower\n        const { p1, p2 } = mulEndoUnsafe(Point, p, k1, k2);\n        return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n      } else {\n        return wnaf.wNAFCachedUnsafe(p, sc);\n      }\n    }\n\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const sum = this.multiplyUnsafe(a).add(Q.multiplyUnsafe(b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    /**\n     * Converts Projective point to affine (x, y) coordinates.\n     * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n     */\n    toAffine(invertedZ?: T): AffinePoint<T> {\n      return toAffineMemo(this, invertedZ);\n    }\n\n    /**\n     * Checks whether Point is free of torsion elements (is in prime subgroup).\n     * Always torsion-free for cofactor=1 curves.\n     */\n    isTorsionFree(): boolean {\n      const { isTorsionFree } = curveOpts;\n      if (cofactor === _1n) return true;\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      return wnaf.wNAFCachedUnsafe(this, CURVE_ORDER).is0();\n    }\n\n    clearCofactor(): Point {\n      const { clearCofactor } = curveOpts;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(cofactor);\n    }\n\n    toBytes(isCompressed = true): Uint8Array {\n      abool('isCompressed', isCompressed);\n      this.assertValidity();\n      return toBytes(Point, this, isCompressed);\n    }\n\n    /** @deprecated use `toBytes` */\n    toRawBytes(isCompressed = true): Uint8Array {\n      return this.toBytes(isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      return bytesToHex(this.toBytes(isCompressed));\n    }\n\n    toString() {\n      return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n    }\n  }\n  const bits = Fn.BITS;\n  const wnaf = wNAF(Point, curveOpts.endo ? Math.ceil(bits / 2) : bits);\n  return Point;\n}\n\n// _legacyWeierstrass\n/** @deprecated use `weierstrassN` */\nexport function weierstrassPoints<T>(c: CurvePointsTypeWithLength<T>): CurvePointsRes<T> {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  return _weierstrass_new_output_to_legacy(c, Point);\n}\n\n// Instance\nexport interface SignatureType {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  assertValidity(): void;\n  addRecoveryBit(recovery: number): RecoveredSignatureType;\n  hasHighS(): boolean;\n  normalizeS(): SignatureType;\n  recoverPublicKey(msgHash: Hex): ProjPointType<bigint>;\n  toCompactRawBytes(): Uint8Array;\n  toCompactHex(): string;\n  toDERRawBytes(): Uint8Array;\n  toDERHex(): string;\n  // toBytes(format?: string): Uint8Array;\n}\nexport type RecoveredSignatureType = SignatureType & {\n  readonly recovery: number;\n};\n// Static methods\nexport type SignatureConstructor = {\n  new (r: bigint, s: bigint, recovery?: number): SignatureType;\n  fromCompact(hex: Hex): SignatureType;\n  fromDER(hex: Hex): SignatureType;\n};\nexport type SignatureLike = { r: bigint; s: bigint };\nexport type PubKey = Hex | ProjPointType<bigint>;\n\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac?: HmacFnSync;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY: boolean): Uint8Array {\n  return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n\nexport type CurveFn = {\n  CURVE: CurvePointsType<bigint>;\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  Point: ProjConstructor<bigint>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n};\n\nexport function ecdsa(\n  Point: ProjConstructor<bigint>,\n  ecdsaOpts: ECDSAOpts,\n  curveOpts: WeierstrassExtraOpts<bigint> = {}\n): ECDSA {\n  _validateObject(\n    ecdsaOpts,\n    { hash: 'function' },\n    {\n      hmac: 'function',\n      lowS: 'boolean',\n      randomBytes: 'function',\n      bits2int: 'function',\n      bits2int_modN: 'function',\n    }\n  );\n\n  const randomBytes_ = ecdsaOpts.randomBytes || randomBytes;\n  const hmac_: HmacFnSync =\n    ecdsaOpts.hmac ||\n    (((key, ...msgs) => hmac(ecdsaOpts.hash, key, concatBytes(...msgs))) satisfies HmacFnSync);\n\n  const { Fp, Fn } = Point;\n  const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n\n  function normalizeS(s: bigint) {\n    return isBiggerThanHalfOrder(s) ? Fn.neg(s) : s;\n  }\n  function aValidRS(title: string, num: bigint) {\n    if (!Fn.isValidNot0(num))\n      throw new Error(`invalid signature ${title}: out of range 1..CURVE.n`);\n  }\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  class Signature implements SignatureType {\n    readonly r: bigint;\n    readonly s: bigint;\n    readonly recovery?: number;\n    constructor(r: bigint, s: bigint, recovery?: number) {\n      aValidRS('r', r); // r in [1..N-1]\n      aValidRS('s', s); // s in [1..N-1]\n      this.r = r;\n      this.s = s;\n      if (recovery != null) this.recovery = recovery;\n      Object.freeze(this);\n    }\n\n    // pair (bytes of r, bytes of s)\n    static fromCompact(hex: Hex) {\n      const L = Fn.BYTES;\n      const b = ensureBytes('compactSignature', hex, L * 2);\n      return new Signature(Fn.fromBytes(b.subarray(0, L)), Fn.fromBytes(b.subarray(L, L * 2)));\n    }\n\n    // DER encoded ECDSA signature\n    // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    static fromDER(hex: Hex) {\n      const { r, s } = DER.toSig(ensureBytes('DER', hex));\n      return new Signature(r, s);\n    }\n\n    /**\n     * @todo remove\n     * @deprecated\n     */\n    assertValidity(): void {}\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    // ProjPointType<bigint>\n    recoverPublicKey(msgHash: Hex): typeof Point.BASE {\n      const FIELD_ORDER = Fp.ORDER;\n      const { r, s, recovery: rec } = this;\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n\n      // ECDSA recovery is hard for cofactor > 1 curves.\n      // In sign, `r = q.x mod n`, and here we recover q.x from r.\n      // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n      // However, for cofactor>1, r+n may not get q.x:\n      // r+n*i would need to be done instead where i is unknown.\n      // To easily get i, we either need to:\n      // a. increase amount of valid recid values (4, 5...); OR\n      // b. prohibit non-prime-order signatures (recid > 1).\n      const hasCofactor = CURVE_ORDER * _2n < FIELD_ORDER;\n      if (hasCofactor && rec > 1) throw new Error('recovery id is ambiguous for h>1 curve');\n\n      const radj = rec === 2 || rec === 3 ? r + CURVE_ORDER : r;\n      if (!Fp.isValid(radj)) throw new Error('recovery id 2 or 3 invalid');\n      const x = Fp.toBytes(radj);\n      const R = Point.fromHex(concatBytes(pprefix((rec & 1) === 0), x));\n      const ir = Fn.inv(radj); // r^-1\n      const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n      const u1 = Fn.create(-h * ir); // -hr^-1\n      const u2 = Fn.create(s * ir); // sr^-1\n      // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n      const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n      if (Q.is0()) throw new Error('point at infinify');\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, Fn.neg(this.s), this.recovery) : this;\n    }\n\n    toBytes(format: 'compact' | 'der') {\n      if (format === 'compact') return concatBytes(Fn.toBytes(this.r), Fn.toBytes(this.s));\n      if (format === 'der') return hexToBytes(DER.hexFromSig(this));\n      throw new Error('invalid format');\n    }\n\n    // DER-encoded\n    toDERRawBytes() {\n      return this.toBytes('der');\n    }\n    toDERHex() {\n      return bytesToHex(this.toBytes('der'));\n    }\n\n    // padded bytes of r, then padded bytes of s\n    toCompactRawBytes() {\n      return this.toBytes('compact');\n    }\n    toCompactHex() {\n      return bytesToHex(this.toBytes('compact'));\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  const normPrivateKeyToScalar = _legacyHelperNormPriv(\n    Fn,\n    curveOpts.allowedPrivateKeyLengths,\n    curveOpts.wrapPrivateKey\n  );\n\n  const utils = {\n    isValidPrivateKey(privateKey: PrivKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n\n    /**\n     * Produces cryptographically secure private key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    randomPrivateKey: (): Uint8Array => {\n      const n = CURVE_ORDER;\n      return mapHashToField(randomBytes_(getMinHashLength(n)), n);\n    },\n\n    precompute(windowSize = 8, point = Point.BASE): typeof Point.BASE {\n      return point.precompute(windowSize, false);\n    },\n  };\n\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.fromPrivateKey(privateKey).toBytes(isCompressed);\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean | undefined {\n    if (typeof item === 'bigint') return false;\n    if (item instanceof Point) return true;\n    const arr = ensureBytes('key', item);\n    const length = arr.length;\n    const L = Fp.BYTES;\n    const LC = L + 1; // e.g. 33 for 32\n    const LU = 2 * L + 1; // e.g. 65 for 32\n    if (curveOpts.allowedPrivateKeyLengths || Fn.BYTES === LC) {\n      return undefined;\n    } else {\n      return length === LC || length === LU;\n    }\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA: PrivKey, publicB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(privateA) === true) throw new Error('first arg must be private key');\n    if (isProbPub(publicB) === false) throw new Error('second arg must be public key');\n    const b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toBytes(isCompressed);\n  }\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    ecdsaOpts.bits2int ||\n    function (bytes: Uint8Array): bigint {\n      // Our custom check \"just in case\", for protection against DoS\n      if (bytes.length > 8192) throw new Error('input is too large');\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    ecdsaOpts.bits2int_modN ||\n    function (bytes: Uint8Array): bigint {\n      return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // NOTE: pads output with zero as per spec\n  const ORDER_MASK = bitMask(fnBits);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num: bigint): Uint8Array {\n    // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n    aInRange('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n    return Fn.toBytes(num);\n  }\n\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order,\n  // this will be invalid at least for P521. Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash: Hex, privateKey: PrivKey, opts = defaultSigOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { hash } = ecdsaOpts;\n    let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    validateSigVerOpts(opts);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(msgHash);\n    const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null && ent !== false) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      const e = ent === true ? randomBytes_(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n    // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n    // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      // Important: all mod() calls here must be done over N\n      const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!Fn.isValidNot0(k)) return; // Valid scalars (including k) must be in 1..N-1\n      const ik = Fn.inv(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      const r = Fn.create(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      const s = Fn.create(ik * Fn.create(m + r * d)); // Not using blinding here, see comment above\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n  const defaultSigOpts: SignOpts = { lowS: ecdsaOpts.lowS, prehash: false };\n  const defaultVerOpts: VerOpts = { lowS: ecdsaOpts.lowS, prehash: false };\n\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash: Hex, privKey: PrivKey, opts = defaultSigOpts): RecoveredSignature {\n    const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n    const drbg = createHmacDrbg<RecoveredSignature>(ecdsaOpts.hash.outputLen, Fn.BYTES, hmac_);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE.precompute(8);\n\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1\u22C5G - U2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    msgHash: Hex,\n    publicKey: Hex,\n    opts = defaultVerOpts\n  ): boolean {\n    const sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n\n    // Verify opts\n    validateSigVerOpts(opts);\n    const { lowS, prehash, format } = opts;\n\n    // TODO: remove\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n\n    if (format !== undefined && !['compact', 'der', 'js'].includes(format))\n      throw new Error('format must be \"compact\", \"der\" or \"js\"');\n    const isHex = typeof sg === 'string' || isBytes(sg);\n    const isObj =\n      !isHex &&\n      !format &&\n      typeof sg === 'object' &&\n      sg !== null &&\n      typeof sg.r === 'bigint' &&\n      typeof sg.s === 'bigint';\n    if (!isHex && !isObj)\n      throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n    let _sig: Signature | undefined = undefined;\n    let P: ProjPointType<bigint>;\n\n    // deduce signature format\n    try {\n      // if (format === 'js') {\n      //   if (sg != null && !isBytes(sg)) _sig = new Signature(sg.r, sg.s);\n      // } else if (format === 'compact') {\n      //   _sig = Signature.fromCompact(sg);\n      // } else if (format === 'der') {\n      //   _sig = Signature.fromDER(sg);\n      // } else {\n      //   throw new Error('invalid format');\n      // }\n      if (isObj) {\n        if (format === undefined || format === 'js') {\n          _sig = new Signature(sg.r, sg.s);\n        } else {\n          throw new Error('invalid format');\n        }\n      }\n      if (isHex) {\n        // TODO: remove this malleable check\n        // Signature can be represented in 2 ways: compact (2*Fn.BYTES) & DER (variable-length).\n        // Since DER can also be 2*Fn.BYTES bytes, we check for it first.\n        try {\n          if (format !== 'compact') _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n        }\n        if (!_sig && format !== 'der') _sig = Signature.fromCompact(sg);\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      return false;\n    }\n    if (!_sig) return false;\n    if (lowS && _sig.hasHighS()) return false;\n    // todo: optional.hash => hash\n    if (prehash) msgHash = ecdsaOpts.hash(msgHash);\n    const { r, s } = _sig;\n    const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    const is = Fn.inv(s); // s^-1\n    const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n    const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n    const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2));\n    if (R.is0()) return false;\n    const v = Fn.create(R.x); // v = r.x mod n\n    return v === r;\n  }\n  // TODO: clarify API for cloning .clone({hash: sha512}) ? .createWith({hash: sha512})?\n  // const clone = (hash: CHash): ECDSA => ecdsa(Point, { ...ecdsaOpts, ...getHash(hash) }, curveOpts);\n  return Object.freeze({\n    getPublicKey,\n    getSharedSecret,\n    sign,\n    verify,\n    utils,\n    Point,\n    Signature,\n  });\n}\n\nexport type WsPointComposed<T> = {\n  CURVE: WeierstrassOpts<T>;\n  curveOpts: WeierstrassExtraOpts<T>;\n};\nexport type WsComposed = {\n  CURVE: WeierstrassOpts<bigint>;\n  curveOpts: WeierstrassExtraOpts<bigint>;\n  ecdsaOpts: ECDSAOpts;\n};\nfunction _weierstrass_legacy_opts_to_new<T>(c: CurvePointsType<T>): WsPointComposed<T> {\n  const CURVE: WeierstrassOpts<T> = {\n    a: c.a,\n    b: c.b,\n    p: c.Fp.ORDER,\n    n: c.n,\n    h: c.h,\n    Gx: c.Gx,\n    Gy: c.Gy,\n  };\n  const Fp = c.Fp;\n  const Fn = Field(CURVE.n, c.nBitLength);\n  const curveOpts: WeierstrassExtraOpts<T> = {\n    Fp,\n    Fn,\n    allowedPrivateKeyLengths: c.allowedPrivateKeyLengths,\n    allowInfinityPoint: c.allowInfinityPoint,\n    endo: c.endo,\n    wrapPrivateKey: c.wrapPrivateKey,\n    isTorsionFree: c.isTorsionFree,\n    clearCofactor: c.clearCofactor,\n    fromBytes: c.fromBytes,\n    toBytes: c.toBytes,\n  };\n  return { CURVE, curveOpts };\n}\nfunction _ecdsa_legacy_opts_to_new(c: CurveType): WsComposed {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const ecdsaOpts: ECDSAOpts = {\n    hash: c.hash,\n    hmac: c.hmac,\n    randomBytes: c.randomBytes,\n    lowS: c.lowS,\n    bits2int: c.bits2int,\n    bits2int_modN: c.bits2int_modN,\n  };\n  return { CURVE, curveOpts, ecdsaOpts };\n}\nfunction _weierstrass_new_output_to_legacy<T>(\n  c: CurvePointsType<T>,\n  Point: ProjConstructor<T>\n): CurvePointsRes<T> {\n  const { Fp, Fn } = Point;\n  // TODO: remove\n  function isWithinCurveOrder(num: bigint): boolean {\n    return inRange(num, _1n, Fn.ORDER);\n  }\n  const weierstrassEquation = _legacyHelperEquat(Fp, c.a, c.b);\n  const normPrivateKeyToScalar = _legacyHelperNormPriv(\n    Fn,\n    c.allowedPrivateKeyLengths,\n    c.wrapPrivateKey\n  );\n  return Object.assign(\n    {},\n    {\n      CURVE: c,\n      Point: Point,\n      ProjectivePoint: Point,\n      normPrivateKeyToScalar,\n      weierstrassEquation,\n      isWithinCurveOrder,\n    }\n  );\n}\nfunction _ecdsa_new_output_to_legacy(c: CurveType, ecdsa: ECDSA): CurveFn {\n  return Object.assign({}, ecdsa, {\n    ProjectivePoint: ecdsa.Point,\n    CURVE: c,\n  });\n}\n\n// _ecdsa_legacy\nexport function weierstrass(c: CurveType): CurveFn {\n  const { CURVE, curveOpts, ecdsaOpts } = _ecdsa_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  const signs = ecdsa(Point, ecdsaOpts, curveOpts);\n  return _ecdsa_new_output_to_legacy(c, signs);\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(\n  Fp: IField<T>,\n  Z: T\n): (u: T, v: T) => { isValid: boolean; value: T } {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n): (u: T) => { x: T; y: T } {\n  validateField(Fp);\n  const { A, B, Z } = opts;\n  if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n  if (!Fp.isOdd) throw new Error('Field does not have .isOdd()');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n    x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n", "/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { type CurveFn, type CurveType, weierstrass } from './abstract/weierstrass.ts';\nimport type { CHash } from './utils.ts';\n\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash: CHash): { hash: CHash } {\n  return { hash };\n}\n/** Same API as @noble/hashes, with ability to create curve with custom hash */\nexport type CurveDef = Readonly<Omit<CurveType, 'hash'>>;\nexport type CurveFnWithCreate = CurveFn & { create: (hash: CHash) => CurveFn };\n\nexport function createCurve(curveDef: CurveDef, defHash: CHash): CurveFnWithCreate {\n  const create = (hash: CHash): CurveFn => weierstrass({ ...curveDef, hash: hash });\n  return { ...create(defHash), create };\n}\n", "/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism \u03C8,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2.js';\nimport { randomBytes } from '@noble/hashes/utils.js';\nimport { createCurve, type CurveFnWithCreate } from './_shortw_utils.ts';\nimport {\n  createHasher,\n  type H2CHasher,\n  type H2CMethod,\n  isogenyMap,\n} from './abstract/hash-to-curve.ts';\nimport { Field, mod, pow2 } from './abstract/modular.ts';\nimport {\n  type EndomorphismOpts,\n  mapToCurveSimpleSWU,\n  type ProjPointType as PointType,\n  type WeierstrassOpts,\n} from './abstract/weierstrass.ts';\nimport type { Hex, PrivKey } from './utils.ts';\nimport {\n  aInRange,\n  bytesToNumberBE,\n  concatBytes,\n  ensureBytes,\n  inRange,\n  numberToBytesBE,\n} from './utils.ts';\n\n// Seems like generator was produced from some seed:\n// `Point.BASE.multiply(Point.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE: WeierstrassOpts<bigint> = {\n  p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n  n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n  h: BigInt(1),\n  a: BigInt(0),\n  b: BigInt(7),\n  Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n  Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a: bigint, b: bigint) => (a + b / _2n) / b;\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1_CURVE.p;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fpk1.eql(Fpk1.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fpk1 = Field(secp256k1_CURVE.p, undefined, undefined, { sqrt: sqrtMod });\n\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const priv = secp256k1.utils.randomPrivateKey();\n * const pub = secp256k1.getPublicKey(priv);\n * const msg = new Uint8Array(32).fill(1); // message hash (not message) in ecdsa\n * const sig = secp256k1.sign(msg, priv); // `{prehash: true}` option is available\n * const isValid = secp256k1.verify(sig, msg, pub) === true;\n * ```\n */\nexport const secp256k1: CurveFnWithCreate = createCurve(\n  {\n    ...secp256k1_CURVE,\n    Fp: Fpk1,\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    endo: {\n      // Endomorphism, see above\n      beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n      splitScalar: (k: bigint) => {\n        const n = secp256k1_CURVE.n;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg) k1 = n - k1;\n        if (k2neg) k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n          throw new Error('splitScalar: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n      },\n    } satisfies EndomorphismOpts,\n  },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toBytes(true).slice(1);\nconst numTo32b = (n: bigint) => numberToBytesBE(n, 32);\nconst modP = (x: bigint) => mod(x, secp256k1_CURVE.p);\nconst modN = (x: bigint) => mod(x, secp256k1_CURVE.n);\nconst Point = /* @__PURE__ */ (() => secp256k1.Point)();\nconst hasEven = (y: bigint) => y % _2n === _0n;\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  let p = Point.fromPrivateKey(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = hasEven(p.y) ? d_ : modN(-d_);\n  return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  aInRange('x', x, _1n, secp256k1_CURVE.p); // Fail if x \u2265 p.\n  const xx = modP(x * x);\n  const c = modP(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (!hasEven(y)) y = modP(-y); // Return the unique point P such that x(P) = x and\n  const p = Point.fromAffine({ x, y }); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return modN(num(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(\n  message: Hex,\n  privateKey: PrivKey,\n  auxRand: Hex = randomBytes(32)\n): Uint8Array {\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = numTo32b(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  const k_ = modN(num(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'\u22C5G.\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!inRange(r, _1n, secp256k1_CURVE.p)) return false;\n    const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!inRange(s, _1n, secp256k1_CURVE.n)) return false;\n    const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    // R = s\u22C5G - e\u22C5P, where -eP == (n-e)P\n    const R = Point.BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(modN(-e)));\n    const { x, y } = R.toAffine();\n    // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n    if (R.is0() || !hasEven(y) || x !== r) return false;\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport type SecpSchnorr = {\n  getPublicKey: typeof schnorrGetPublicKey;\n  sign: typeof schnorrSign;\n  verify: typeof schnorrVerify;\n  utils: {\n    randomPrivateKey: () => Uint8Array;\n    lift_x: typeof lift_x;\n    pointToBytes: (point: PointType<bigint>) => Uint8Array;\n    numberToBytesBE: typeof numberToBytesBE;\n    bytesToNumberBE: typeof bytesToNumberBE;\n    taggedHash: typeof taggedHash;\n    mod: typeof mod;\n  };\n};\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const priv = schnorr.utils.randomPrivateKey();\n * const pub = schnorr.getPublicKey(priv);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, priv);\n * const isValid = schnorr.verify(sig, msg, pub);\n * ```\n */\nexport const schnorr: SecpSchnorr = /* @__PURE__ */ (() => ({\n  getPublicKey: schnorrGetPublicKey,\n  sign: schnorrSign,\n  verify: schnorrVerify,\n  utils: {\n    randomPrivateKey: secp256k1.utils.randomPrivateKey,\n    lift_x,\n    pointToBytes,\n    numberToBytesBE,\n    bytesToNumberBE,\n    taggedHash,\n    mod,\n  },\n}))();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fpk1,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n  }))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher: H2CHasher<bigint> = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.Point,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fpk1.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    }\n  ))();\n\nexport const hashToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.hashToCurve)();\n\nexport const encodeToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.encodeToCurve)();\n", "import { Buff } from '@cmdcode/buff';\nimport { Assert } from './assert.js';\nimport { secp256k1, schnorr } from '@noble/curves/secp256k1';\nimport { Field } from '@noble/curves/abstract/modular';\nconst _N = secp256k1.CURVE.n;\nconst FD = Field(_N, 32, true);\nconst GP = secp256k1.ProjectivePoint.BASE;\nexport function get_seckey(secret, even_y = false) {\n    let sk = serialize_bytes(secret).big % _N;\n    if (even_y) {\n        const pt = GP.multiply(sk);\n        return (pt.hasEvenY())\n            ? Buff.big(sk).hex\n            : Buff.big(_N - sk).hex;\n    }\n    else {\n        return Buff.big(sk).hex;\n    }\n}\nexport function get_pubkey(seckey, format) {\n    const sk = serialize_bytes(seckey).big;\n    const pt = GP.multiply(sk);\n    const pk = pt.toHex(true);\n    return convert_pubkey(pk, format);\n}\nexport function tweak_seckey(seckey, tweak, even_y = false) {\n    const sk = serialize_bytes(seckey).big;\n    const twk = serialize_bytes(tweak).big;\n    const tweaked_sk = FD.add(sk, twk);\n    const new_secret = Buff.big(tweaked_sk);\n    return get_seckey(new_secret, even_y);\n}\nexport function tweak_pubkey(pubkey, tweak, even_y = false) {\n    const format = get_pubkey_format(pubkey);\n    const twk_big = serialize_bytes(tweak).big;\n    const pub_pt = lift_pubkey(pubkey);\n    const tweak_pt = GP.multiply(twk_big);\n    let tweaked_pt = pub_pt.add(tweak_pt);\n    if (even_y && !tweaked_pt.hasEvenY()) {\n        tweaked_pt = tweaked_pt.negate();\n    }\n    const pk = tweaked_pt.toHex(true);\n    return convert_pubkey(pk, format);\n}\nexport function verify_seckey(seckey) {\n    const sk = serialize_bytes(seckey);\n    Assert.size(sk, 32, 'ecdsa secret keys must be 32 bytes long');\n    Assert.ok(sk.big < _N, 'ecdsa secret keys must be less than the curve order');\n    Assert.ok(sk.big > 0, 'ecdsa secret keys must be greater than zero');\n}\nexport function verify_pubkey(pubkey, format) {\n    const pk = serialize_bytes(pubkey);\n    if (format === 'bip340') {\n        Assert.size(pk, 32, 'bip340 public keys must be 32 bytes long');\n    }\n    else if (format === 'ecdsa') {\n        Assert.size(pk, 33, 'ecdsa public keys must be 33 bytes long');\n    }\n    else {\n        throw new Error('invalid format: ' + format);\n    }\n    verify_point(pk);\n}\nexport function verify_signature(signature, message, pubkey, format) {\n    const sig = serialize_bytes(signature);\n    const msg = serialize_bytes(message);\n    const pk = serialize_pubkey(pubkey, format);\n    return (format === 'bip340')\n        ? schnorr.verify(sig, msg, pk)\n        : secp256k1.verify(sig, msg, pk);\n}\nexport function verify_point(pubkey) {\n    try {\n        const pt = lift_pubkey(pubkey);\n        pt.assertValidity();\n    }\n    catch (err) {\n        throw new Error('invalid secp256k1 point: ' + pubkey);\n    }\n}\nexport function verify_even_y(pubkey) {\n    const pt = lift_pubkey(pubkey);\n    Assert.ok(pt.hasEvenY(), 'pubkey must have an even y-coordinate');\n}\nexport function lift_pubkey(pubkey) {\n    try {\n        const pk = convert_pubkey(pubkey, 'ecdsa');\n        return secp256k1.ProjectivePoint.fromHex(pk);\n    }\n    catch (err) {\n        throw new Error('invalid pubkey: ' + pubkey);\n    }\n}\nexport function serialize_pubkey(pubkey, format) {\n    try {\n        const pk = serialize_bytes(pubkey);\n        if (pk.length === 33 && format === 'bip340') {\n            return pk.slice(1);\n        }\n        else if (pk.length === 32 && format === 'ecdsa') {\n            return pk.prepend(0x02);\n        }\n        else {\n            return pk;\n        }\n    }\n    catch (err) {\n        throw new Error('invalid pubkey: ' + String(pubkey));\n    }\n}\nexport function convert_pubkey(pubkey, format) {\n    const pk = serialize_pubkey(pubkey, format);\n    return pk.hex;\n}\nexport function get_pubkey_format(pubkey) {\n    const pk = serialize_bytes(pubkey);\n    if (pk.length === 33)\n        return 'ecdsa';\n    if (pk.length === 32)\n        return 'bip340';\n    throw new Error('invalid pubkey: ' + String(pubkey));\n}\nexport function serialize_bytes(bytes) {\n    try {\n        return Buff.bytes(bytes);\n    }\n    catch (err) {\n        throw new Error('invalid bytes: ' + String(bytes));\n    }\n}\n", "export var Parse;\n(function (Parse) {\n    function error(err) {\n        if (err instanceof Error)\n            return err.message;\n        if (typeof err === 'string')\n            return err;\n        return String(err);\n    }\n    Parse.error = error;\n    function data(data, schema) {\n        return schema.safeParse(data);\n    }\n    Parse.data = data;\n    function array(data, schema) {\n        const parsed = data.map(e => schema.safeParse(e));\n        const errors = parsed\n            .filter(e => !e.success)\n            .map(e => e.error.errors.map(x => `${x.message}: ${x.path}`));\n        return (errors.length !== 0)\n            ? { ok: false, errors }\n            : { ok: true, data: parsed.map(e => e.data) };\n    }\n    Parse.array = array;\n})(Parse || (Parse = {}));\n", "import { derive_shares_secret } from '@cmdcode/frost/lib';\nimport { Assert } from '../util/index.js';\nimport { convert_pubkey, get_pubkey } from '../util/crypto.js';\nexport function get_group_indexes(group) {\n    return group.commits.map(e => e.idx);\n}\nexport function select_random_peers(peers, thold) {\n    const rnd = () => Math.random() > 0.5 ? 1 : -1;\n    const idx = Math.min(peers.length, thold - 1);\n    return peers.sort(rnd).slice(0, idx);\n}\nexport function get_member_indexes(group, pubkeys) {\n    const indexes = group.commits\n        .filter(e => pubkeys.includes(convert_pubkey(e.pubkey, 'bip340')))\n        .map(e => e.idx);\n    Assert.ok(indexes.length === pubkeys.length, 'index count does not match pubkey count');\n    return indexes;\n}\nexport function recover_secret_key(group, shares) {\n    Assert.ok(shares.length >= group.threshold, 'not enough shares provided');\n    const pubkeys = group.commits.map(e => e.pubkey);\n    for (const share of shares) {\n        const pk = get_pubkey(share.seckey, 'ecdsa');\n        Assert.ok(pubkeys.includes(pk), 'share not found in group: ' + share.idx);\n    }\n    return derive_shares_secret(shares);\n}\n", "import { now } from '../util/helpers.js';\nimport { PEER_STATE_EXPIRY } from '../const.js';\nexport function get_peer_by_pubkey(peers, pubkey) {\n    return peers.find(e => e.pubkey === pubkey);\n}\nexport function get_peer_pubkeys(peers) {\n    return peers.map(e => e.pubkey);\n}\nexport function get_recv_pubkeys(peers) {\n    return peers\n        .filter(e => e.policy.recv)\n        .map(e => e.pubkey);\n}\nexport function get_send_pubkeys(peers) {\n    return peers\n        .filter(e => e.policy.send)\n        .map(e => e.pubkey);\n}\nexport function get_expired_pubkeys(peers) {\n    return peers.filter(e => {\n        return e.status === 'offline' || e.updated < now() - PEER_STATE_EXPIRY;\n    }).map(e => e.pubkey);\n}\n", "import { finalize_message } from '@cmdcode/nostr-p2p/lib';\nimport { combine_ecdh_pkgs } from '../lib/ecdh.js';\nimport { parse_ecdh_message } from '../lib/parse.js';\nimport { Assert, copy_obj, parse_error } from '../util/index.js';\nimport { get_member_indexes, select_random_peers } from '../lib/util.js';\nimport { get_send_pubkeys } from '../lib/peer.js';\nexport async function ecdh_handler_api(node, msg) {\n    const middleware = node.config.middleware.ecdh;\n    try {\n        node.emit('/ecdh/handler/req', copy_obj(msg));\n        if (typeof middleware === 'function') {\n            msg = middleware(node, msg);\n        }\n        const { members, ecdh_pk } = msg.data;\n        const pkg = node.signer.gen_ecdh_share(members, ecdh_pk);\n        const envelope = finalize_message({\n            data: JSON.stringify(pkg),\n            id: msg.id,\n            tag: '/ecdh/res'\n        });\n        const res = await node.client.publish(envelope, msg.env.pubkey);\n        if (!res.ok)\n            throw new Error('failed to publish response');\n        node.emit('/ecdh/handler/res', copy_obj(res.data));\n    }\n    catch (err) {\n        if (node.debug)\n            console.log(err);\n        node.emit('/ecdh/handler/rej', [parse_error(err), copy_obj(msg)]);\n    }\n}\nexport function ecdh_request_api(node) {\n    return async (ecdh_pk, peers) => {\n        const thold = node.group.threshold;\n        const send_pks = get_send_pubkeys(node.peers);\n        const selected = select_random_peers(peers ??= send_pks, thold);\n        const encrypted = node.cache.ecdh.get(ecdh_pk);\n        if (encrypted !== undefined) {\n            return { ok: true, data: node.signer.unwrap(encrypted, ecdh_pk) };\n        }\n        const members = get_member_indexes(node.group, [node.pubkey, ...selected]);\n        const self_pkg = node.signer.gen_ecdh_share(members, ecdh_pk);\n        let msgs = null;\n        try {\n            msgs = await create_ecdh_request(node, selected, self_pkg);\n            node.emit('/ecdh/sender/res', copy_obj(msgs));\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/ecdh/sender/rej', [reason, copy_obj(self_pkg)]);\n            return { ok: false, err: reason };\n        }\n        try {\n            Assert.ok(msgs !== null, 'no responses from peers');\n            const pkgs = [self_pkg, ...msgs.map(e => e.data)];\n            const secret = finalize_ecdh_response(pkgs);\n            const content = node.signer.wrap(secret, ecdh_pk);\n            node.cache.ecdh.set(ecdh_pk, content);\n            node.emit('/ecdh/sender/ret', [ecdh_pk, secret]);\n            return { ok: true, data: secret };\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/ecdh/sender/err', [reason, copy_obj(msgs ?? [])]);\n            return { ok: false, err: reason };\n        }\n    };\n}\nasync function create_ecdh_request(node, peers, pkg) {\n    const msg = { data: JSON.stringify(pkg), tag: '/ecdh/req' };\n    const res = await node.client.multicast(msg, peers);\n    if (!res.sub.ok)\n        throw new Error(res.sub.reason);\n    return res.sub.inbox.map(e => {\n        const parsed = parse_ecdh_message(e);\n        Assert.ok(parsed !== null, 'invalid ecdh response from pubkey: ' + e.env.pubkey);\n        return parsed;\n    });\n}\nfunction finalize_ecdh_response(pkgs) {\n    return combine_ecdh_pkgs(pkgs);\n}\n", "import { finalize_message } from '@cmdcode/nostr-p2p/lib';\nimport { Assert, parse_error } from '../util/index.js';\nexport async function echo_handler_api(node, msg) {\n    try {\n        node.emit('/echo/handler/req', msg);\n        const peer_data = node.peers.find(e => e.pubkey === msg.env.pubkey);\n        if (peer_data === undefined)\n            throw new Error('peer data not found');\n        const envelope = finalize_message({\n            data: JSON.stringify(peer_data.policy),\n            id: msg.id,\n            tag: '/echo/res'\n        });\n        const res = await node.client.publish(envelope, msg.env.pubkey);\n        if (!res.ok)\n            throw new Error('failed to publish response');\n        node.emit('/echo/handler/res', res.data);\n    }\n    catch (err) {\n        if (node.debug)\n            console.log(err);\n        node.emit('/echo/handler/rej', [parse_error(err), msg]);\n    }\n}\nexport function echo_request_api(node) {\n    return async (challenge) => {\n        let msg = null;\n        try {\n            msg = await create_echo_request(node, challenge);\n            node.emit('/echo/sender/res', msg);\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/echo/sender/rej', [reason, msg]);\n            return { ok: false, err: reason };\n        }\n        try {\n            Assert.ok(msg !== null, 'no response from self');\n            node.emit('/echo/sender/ret', [msg.data]);\n            return { ok: true, data: msg.data };\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/echo/sender/err', [reason, msg]);\n            return { ok: false, err: reason };\n        }\n    };\n}\nasync function create_echo_request(node, challenge) {\n    const res = await node.client.request({\n        data: challenge,\n        tag: '/echo/req'\n    }, node.pubkey, {});\n    if (!res.ok)\n        throw new Error(res.reason);\n    return res.inbox[0];\n}\n", "import { finalize_message } from '@cmdcode/nostr-p2p/lib';\nimport Schema from '../schema/index.js';\nimport { Assert, now, parse_error } from '../util/index.js';\nexport async function ping_handler_api(node, msg) {\n    try {\n        node.emit('/ping/handler/req', msg);\n        const peer_data = node.peers.find(e => e.pubkey === msg.env.pubkey);\n        if (peer_data === undefined)\n            throw new Error('peer data not found');\n        const envelope = finalize_message({\n            data: JSON.stringify(peer_data.policy),\n            id: msg.id,\n            tag: '/ping/res'\n        });\n        const res = await node.client.publish(envelope, msg.env.pubkey);\n        if (!res.ok)\n            throw new Error('failed to publish response');\n        node.update_peer({\n            ...peer_data,\n            status: 'online',\n            updated: now()\n        });\n        node.emit('/ping/handler/res', res.data);\n    }\n    catch (err) {\n        if (node.debug)\n            console.log(err);\n        node.emit('/ping/handler/rej', [parse_error(err), msg]);\n    }\n}\nexport function ping_request_api(node) {\n    return async (pubkey) => {\n        const peer_data = node.peers.find(e => e.pubkey === pubkey);\n        Assert.exists(peer_data, 'peer data not found');\n        let msg = null;\n        try {\n            msg = await create_ping_request(node, pubkey);\n            node.emit('/ping/sender/res', msg);\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/ping/sender/rej', [reason, msg]);\n            return { ok: false, err: reason };\n        }\n        try {\n            Assert.ok(msg !== null, 'no response from peer');\n            const policy = parse_ping_response(msg);\n            if (policy === null)\n                throw new Error('invalid ping response');\n            const new_data = {\n                ...peer_data,\n                status: 'online',\n                updated: now()\n            };\n            node.update_peer(new_data);\n            node.emit('/ping/sender/ret', new_data);\n            return { ok: true, data: policy };\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/ping/sender/err', [reason, msg]);\n            node.update_peer({\n                ...peer_data,\n                status: 'offline',\n                updated: now()\n            });\n            return { ok: false, err: reason };\n        }\n    };\n}\nasync function create_ping_request(node, pubkey) {\n    const res = await node.client.request({\n        data: 'ping',\n        tag: '/ping/req'\n    }, pubkey, {});\n    if (!res.ok)\n        throw new Error(res.reason);\n    return res.inbox[0];\n}\nfunction parse_ping_response(msg) {\n    try {\n        const json = JSON.parse(msg.data);\n        const parsed = Schema.peer.policy.safeParse(json);\n        if (!parsed.success)\n            return null;\n        return parsed.data;\n    }\n    catch {\n        return null;\n    }\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { tweak_pubkey, tweak_seckey } from '../util/crypto.js';\nexport function format_sigvector(message) {\n    if (Array.isArray(message)) {\n        return message;\n    }\n    else if (typeof message === 'string') {\n        return [message];\n    }\n    else {\n        throw new Error('invalid message payload');\n    }\n}\nexport function create_sighash_commit(session_id, commit, sigvec) {\n    const bind_hash = get_sighash_binder(session_id, commit.idx, sigvec);\n    const hidden_pn = tweak_pubkey(commit.hidden_pn, bind_hash);\n    const binder_pn = tweak_pubkey(commit.binder_pn, bind_hash);\n    const [sighash] = sigvec;\n    return { ...commit, binder_pn, hidden_pn, bind_hash, sighash, sid: session_id };\n}\nexport function create_sighash_share(session_id, share, sigvec) {\n    const bind_hash = get_sighash_binder(session_id, share.idx, sigvec);\n    const hidden_sn = tweak_seckey(share.hidden_sn, bind_hash);\n    const binder_sn = tweak_seckey(share.binder_sn, bind_hash);\n    const [sighash] = sigvec;\n    return { ...share, binder_sn, hidden_sn, bind_hash, sighash, sid: session_id };\n}\nexport function get_sighash_binder(session_id, member_idx, sighash) {\n    const sid = Buff.bytes(session_id);\n    const idx = Buff.num(member_idx, 4);\n    const msg = Buff.join(sighash);\n    const pre = Buff.join([sid, idx, msg]);\n    return pre.digest.hex;\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { get_commits_prefix } from '@cmdcode/frost/lib';\nimport { get_pubkey } from '../util/crypto.js';\nimport { Assert } from '../util/assert.js';\nexport function get_group_id(group) {\n    const prefix = get_commits_prefix(group.commits);\n    const preimg = Buff.join([prefix, group.group_pk]);\n    return preimg.digest.hex;\n}\nexport function get_commit_by_pubkey(commits, pubkey) {\n    const commit = commits.find(e => e.pubkey === pubkey);\n    Assert.exists(commit, 'commit package not found for pubkey: ' + pubkey);\n    return commit;\n}\nexport function get_commit_by_idx(commits, idx) {\n    const commit = commits.find(e => e.idx === idx);\n    Assert.exists(commit, 'commit package not found for idx: ' + idx);\n    return commit;\n}\nexport function is_group_member(group, share) {\n    const idx = share.idx;\n    const pubkey = get_pubkey(share.seckey, 'ecdsa');\n    return group.commits.some(e => e.idx === idx && e.pubkey === pubkey);\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { get_group_signing_ctx } from '@cmdcode/frost/lib';\nimport { now } from '../util/index.js';\nimport { get_commit_by_idx, get_group_id } from './group.js';\nimport { create_sighash_commit, create_sighash_share } from './sighash.js';\nimport Schema from '../schema/index.js';\nexport const GET_DEFAULT_SESSION_CONFIG = () => {\n    return {\n        content: null,\n        stamp: now(),\n        type: 'message',\n    };\n};\nexport function create_session_template(members, messages, options = {}) {\n    const hashes = typeof messages === 'string'\n        ? [[messages]]\n        : messages;\n    const schema = Schema.sign.template;\n    const parsed = schema.safeParse({\n        ...GET_DEFAULT_SESSION_CONFIG(),\n        ...options,\n        hashes: hashes,\n        members: members.sort()\n    });\n    return parsed.success ? parsed.data : null;\n}\nexport function create_session_pkg(group, template) {\n    const gid = get_group_id(group);\n    const sid = get_session_id(gid, template);\n    return { ...template, gid, sid };\n}\nexport function verify_session_pkg(group, session) {\n    const gid = get_group_id(group);\n    const sid = get_session_id(gid, session);\n    return session.gid === gid && session.sid === sid;\n}\nexport function get_session_id(group_id, template) {\n    const mbrs = template.members.map(e => Buff.bytes(e));\n    const msgs = template.hashes.map(e => Buff.join(e));\n    const cont = Buff.bytes(template.content ?? '00');\n    const type = Buff.str(template.type);\n    const ts = Buff.num(template.stamp, 4);\n    const pimg = Buff.join([group_id, ...mbrs, ...msgs, cont, type, ts]);\n    return pimg.digest.hex;\n}\nexport function create_member_commits(group, session, idx) {\n    const commit = get_commit_by_idx(group.commits, idx);\n    return session.hashes.map(vec => create_sighash_commit(session.sid, commit, vec));\n}\nexport function create_member_shares(session, share) {\n    return session.hashes.map(vec => create_sighash_share(session.sid, share, vec));\n}\nexport function create_session_commits(group, session) {\n    return session.members\n        .map(idx => create_member_commits(group, session, idx))\n        .flat();\n}\nexport function get_session_ctx(group, session) {\n    const pubkeys = group.commits.map(e => e.pubkey);\n    const session_commits = create_session_commits(group, session);\n    const sigmap = new Map();\n    for (const vec of session.hashes) {\n        const [sighash, ...tweaks] = vec;\n        const sighash_commits = session_commits.filter(e => e.sighash === sighash);\n        const context = get_group_signing_ctx(group.group_pk, sighash_commits, sighash, tweaks);\n        sigmap.set(sighash, context);\n    }\n    return { pubkeys, session, sigmap };\n}\n", "import { get_pubkey } from '../util/crypto.js';\nimport { create_member_shares } from './session.js';\nimport { Assert } from '../util/assert.js';\nimport { combine_partial_sigs, sign_msg, verify_partial_sig } from '@cmdcode/frost/lib';\nexport function create_psig_pkg(ctx, share) {\n    const sid = ctx.session.sid;\n    const pubkey = get_pubkey(share.seckey, 'ecdsa');\n    const sighashes = ctx.session.hashes.map(e => e[0]);\n    const sig_shares = create_member_shares(ctx.session, share);\n    const psigs = sighashes.map(sighash => {\n        const sig_share = sig_shares.find(e => e.sighash === sighash);\n        const sig_ctx = ctx.sigmap.get(sighash);\n        Assert.exists(sig_share, 'share not found for sighash: ' + sighash);\n        Assert.exists(sig_ctx, 'context not found for sighash: ' + sighash);\n        const psig = create_partial_sig(sig_ctx, sig_share);\n        return [sighash, psig];\n    });\n    return { idx: share.idx, psigs, pubkey, sid };\n}\nexport function verify_psig_pkg(ctx, pkg) {\n    const { idx, psigs, pubkey, sid } = pkg;\n    if (sid !== ctx.session.sid)\n        return 'session id mismatch';\n    if (!ctx.pubkeys.includes(pubkey))\n        return 'pubkey not found in group';\n    for (const [sighash, sigctx] of ctx.sigmap.entries()) {\n        const psig_entry = psigs.find(e => e[0] === sighash);\n        if (psig_entry === undefined)\n            return 'partial signature entry not found for sighash: ' + sighash;\n        const pnonce = sigctx.pnonces.find(e => e.idx === idx);\n        if (pnonce === undefined)\n            return 'commit package not found for psig idx: ' + idx;\n        if (!verify_partial_sig(sigctx, pnonce, pubkey, psig_entry[1]))\n            return 'partial signature invalid';\n    }\n    return null;\n}\nexport function create_psig_records(pkgs) {\n    return pkgs.map(({ idx, psigs, pubkey, sid }) => {\n        return psigs.map(([sighash, psig]) => ({ sighash, idx, pubkey, psig, sid }));\n    }).flat();\n}\nexport function combine_signature_pkgs(ctx, pkgs) {\n    const count = ctx.session.members.length;\n    const records = create_psig_records(pkgs);\n    const sigs = [];\n    for (const [sighash, sigctx] of ctx.sigmap.entries()) {\n        const psigs = records.filter(e => e.sighash === sighash);\n        Assert.ok(psigs.length === count, 'missing partial signatures for sighash: ' + sighash);\n        const pubkey = sigctx.group_pk;\n        const sig = combine_partial_sigs(sigctx, psigs);\n        sigs.push([sighash, pubkey, sig]);\n    }\n    return sigs;\n}\nexport function create_partial_sig(ctx, share) {\n    const { idx, binder_sn, hidden_sn, seckey } = share;\n    const secshare = { idx, seckey };\n    const secnonce = { idx, binder_sn, hidden_sn };\n    const psig_pkg = sign_msg(ctx, secshare, secnonce);\n    return psig_pkg.psig;\n}\n", "import { finalize_message } from '@cmdcode/nostr-p2p/lib';\nimport { parse_psig_message } from '../lib/parse.js';\nimport { get_send_pubkeys } from '../lib/peer.js';\nimport { format_sigvector } from '../lib/sighash.js';\nimport { get_member_indexes, select_random_peers } from '../lib/util.js';\nimport { Assert, copy_obj, parse_error } from '../util/index.js';\nimport { create_session_pkg, create_session_template, get_session_ctx } from '../lib/session.js';\nimport { combine_signature_pkgs, verify_psig_pkg } from '../lib/sign.js';\nexport async function sign_handler_api(node, msg) {\n    const middleware = node.config.middleware.sign;\n    try {\n        node.emit('/sign/handler/req', copy_obj(msg));\n        if (typeof middleware === 'function') {\n            msg = middleware(node, msg);\n        }\n        const pkg = node.signer.sign_session(msg.data);\n        const envelope = finalize_message({\n            data: JSON.stringify(pkg),\n            id: msg.id,\n            tag: '/sign/res'\n        });\n        const res = await node.client.publish(envelope, msg.env.pubkey);\n        if (!res.ok)\n            throw new Error('failed to publish response');\n        node.emit('/sign/handler/res', copy_obj(res.data));\n    }\n    catch (err) {\n        if (node.debug)\n            console.log(err);\n        node.emit('/sign/handler/rej', [parse_error(err), copy_obj(msg)]);\n    }\n}\nexport function sign_queue_api(node) {\n    return async (message) => {\n        const sigvec = format_sigvector(message);\n        return node.queue.push(sigvec);\n    };\n}\nexport function sign_request_api(node) {\n    return async (message, options = {}) => {\n        const sigvecs = typeof message === 'string' ? [[message]] : message;\n        const send_pks = get_send_pubkeys(node.peers);\n        const peers = options.peers ??= send_pks;\n        const thold = node.group.threshold;\n        const selected = select_random_peers(peers, thold);\n        const members = get_member_indexes(node.group, [node.pubkey, ...selected]);\n        const template = create_session_template(members, sigvecs, options);\n        Assert.ok(template !== null, 'invalid session template');\n        const session = create_session_pkg(node.group, template);\n        let msgs = null;\n        try {\n            msgs = await create_sign_request(node, selected, session);\n            node.emit('/sign/sender/res', copy_obj(msgs));\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/sign/sender/rej', [reason, session]);\n            return { ok: false, err: reason };\n        }\n        try {\n            Assert.ok(msgs !== null, 'no responses from peers');\n            const sigs = finalize_sign_response(node, msgs, session);\n            node.emit('/sign/sender/ret', [session.sid, sigs]);\n            return { ok: true, data: sigs };\n        }\n        catch (err) {\n            if (node.debug)\n                console.log(err);\n            const reason = parse_error(err);\n            node.emit('/sign/sender/err', [reason, msgs ?? []]);\n            return { ok: false, err: reason };\n        }\n    };\n}\nasync function create_sign_request(node, peers, session) {\n    const res = await node.client.multicast({\n        data: JSON.stringify(session),\n        tag: '/sign/req'\n    }, peers);\n    if (!res.sub.ok)\n        throw new Error(res.sub.reason);\n    return res.sub.inbox;\n}\nfunction finalize_sign_response(node, responses, session) {\n    const ctx = get_session_ctx(node.group, session);\n    const pkgs = [node.signer.sign_session(session)];\n    responses.forEach(e => {\n        const parsed = parse_psig_message(e);\n        const error = verify_psig_pkg(ctx, parsed.data);\n        Assert.ok(error === null, error + ' : ' + e.env.pubkey);\n        pkgs.push(parsed.data);\n    });\n    return combine_signature_pkgs(ctx, pkgs);\n}\n", "export class EventEmitter {\n    constructor() {\n        this.eventMap = new Map();\n    }\n    _get_event_handlers(eventName) {\n        const handlers = this.eventMap.get(eventName);\n        if (!handlers) {\n            const newHandlers = new Set();\n            this.eventMap.set(eventName, newHandlers);\n            return newHandlers;\n        }\n        return handlers;\n    }\n    has(eventName) {\n        const handlers = this.eventMap.get(eventName);\n        return handlers !== undefined && handlers.size > 0;\n    }\n    on(eventName, handler) {\n        this._get_event_handlers(eventName).add(handler);\n    }\n    once(eventName, handler) {\n        const once_handler = ((payload) => {\n            this.off(eventName, once_handler);\n            void invoke_handler(handler, payload);\n        });\n        this.on(eventName, once_handler);\n    }\n    within(eventName, handler, timeoutMs) {\n        const timeout_handler = ((payload) => {\n            void invoke_handler(handler, payload);\n        });\n        setTimeout(() => {\n            this.off(eventName, timeout_handler);\n        }, timeoutMs);\n        this.on(eventName, timeout_handler);\n    }\n    emit(eventName, payload) {\n        const promises = [];\n        this._get_event_handlers(eventName).forEach(handler => {\n            const result = invoke_handler(handler, payload);\n            if (result instanceof Promise) {\n                promises.push(result);\n            }\n        });\n        this._get_event_handlers('*').forEach(handler => {\n            const result = invoke_handler(handler, [eventName, payload]);\n            if (result instanceof Promise) {\n                promises.push(result);\n            }\n        });\n        void Promise.allSettled(promises);\n    }\n    off(eventName, handler) {\n        this._get_event_handlers(eventName).delete(handler);\n    }\n    clear(eventName) {\n        this.eventMap.delete(eventName);\n    }\n}\nfunction invoke_handler(handler, payload) {\n    if (Array.isArray(payload) && payload.length > 0) {\n        return handler.apply(null, payload);\n    }\n    return handler(payload);\n}\n", "import { Buff } from '@cmdcode/buff';\nimport { schnorr } from '@noble/curves/secp256k1';\nimport { get_pubkey } from '../util/crypto.js';\nimport { create_ecdh_pkg } from '../lib/ecdh.js';\nimport { get_session_ctx } from '../lib/session.js';\nimport { create_psig_pkg } from '../lib/sign.js';\nimport { decrypt_content, encrypt_content, get_shared_secret } from '@cmdcode/nostr-p2p/lib';\nimport { parse_share_pkg, parse_group_pkg } from '../lib/parse.js';\nconst SIGNER_CONFIG = () => {\n    return {};\n};\nexport class BifrostSigner {\n    constructor(group, share, options) {\n        this._config = { ...SIGNER_CONFIG(), ...options };\n        this._group = parse_group_pkg(group);\n        this._share = parse_share_pkg(share);\n        this._pubkey = get_pubkey(this._share.seckey, 'bip340');\n    }\n    get config() {\n        return this._config;\n    }\n    get group() {\n        return this._group;\n    }\n    get pubkey() {\n        return this._pubkey;\n    }\n    gen_ecdh_share(members, ecdh_pk) {\n        return create_ecdh_pkg(members, ecdh_pk, this._share);\n    }\n    sign_message(message, auxrand) {\n        const sig = schnorr.sign(message, this._share.seckey, auxrand);\n        return new Buff(sig).hex;\n    }\n    sign_session(session) {\n        const ctx = get_session_ctx(this._group, session);\n        return create_psig_pkg(ctx, this._share);\n    }\n    unwrap(content, pubkey) {\n        const seckey = this._share.seckey;\n        const secret = get_shared_secret(seckey, pubkey);\n        return decrypt_content(secret, content);\n    }\n    wrap(content, pubkey) {\n        const seckey = this._share.seckey;\n        const secret = get_shared_secret(seckey, pubkey);\n        return encrypt_content(secret, content);\n    }\n}\n", "export class SignerQueue {\n    constructor(node) {\n        this._node = node;\n        this._ival = node.config.sign_ival;\n        this._queue = [];\n        this._timer = null;\n    }\n    get node() {\n        return this._node;\n    }\n    get timer() {\n        return this._timer;\n    }\n    async push(sigvec) {\n        return new Promise((resolve, reject) => {\n            this._queue.push({ sigvec, resolve, reject });\n            this.schedule();\n        });\n    }\n    async process() {\n        const batch = [...this._queue];\n        this._queue = [];\n        this._timer = null;\n        if (batch.length === 0)\n            return;\n        this.node.emit('info', 'batch signing event ids: ' + String(batch.map(req => req.sigvec[0])));\n        try {\n            const vec = batch.map(req => req.sigvec);\n            const res = await this.node.req.sign(vec);\n            if (!res.ok) {\n                batch.forEach(req => req.reject(res.err));\n                return;\n            }\n            batch.forEach(req => {\n                const sig_entry = res.data.find(e => e[0] === req.sigvec[0]);\n                if (sig_entry !== undefined) {\n                    req.resolve(sig_entry);\n                }\n                else {\n                    req.reject('signature missing from response');\n                }\n            });\n        }\n        catch (err) {\n            batch.forEach(req => req.reject(err.message));\n        }\n    }\n    schedule() {\n        if (this.timer === null) {\n            this._timer = setTimeout(() => this.process(), this._ival);\n        }\n    }\n}\n", "export default class EventEmitter {\n    constructor() {\n        this.eventMap = new Map();\n    }\n    getEventHandlers(eventName) {\n        const handlers = this.eventMap.get(eventName);\n        if (!handlers) {\n            const newHandlers = new Set();\n            this.eventMap.set(eventName, newHandlers);\n            return newHandlers;\n        }\n        return handlers;\n    }\n    has(eventName) {\n        const handlers = this.eventMap.get(eventName);\n        return handlers !== undefined && handlers.size > 0;\n    }\n    on(eventName, handler) {\n        this.getEventHandlers(eventName).add(handler);\n    }\n    once(eventName, handler) {\n        const oneTimeHandler = (payload) => {\n            this.off(eventName, oneTimeHandler);\n            void handler(payload);\n        };\n        this.on(eventName, oneTimeHandler);\n    }\n    within(eventName, handler, timeoutMs) {\n        const timeoutHandler = (payload) => {\n            void handler(payload);\n        };\n        setTimeout(() => {\n            this.off(eventName, timeoutHandler);\n        }, timeoutMs);\n        this.on(eventName, timeoutHandler);\n    }\n    emit(eventName, payload) {\n        const promises = [];\n        this.getEventHandlers(eventName).forEach(handler => {\n            const result = handler(payload);\n            if (result instanceof Promise) {\n                promises.push(result);\n            }\n        });\n        this.getEventHandlers('*').forEach(handler => {\n            const result = handler(eventName, payload);\n            if (result instanceof Promise) {\n                promises.push(result);\n            }\n        });\n        void Promise.allSettled(promises);\n    }\n    off(eventName, handler) {\n        this.getEventHandlers(eventName).delete(handler);\n    }\n    clear(eventName) {\n        this.eventMap.delete(eventName);\n    }\n}\n", "import EventEmitter from './emitter.js';\nimport { Buff } from '@cmdcode/buff';\nimport { SimplePool } from 'nostr-tools';\nimport { get_pubkey } from '../lib/crypto.js';\nimport { create_event } from '../lib/event.js';\nimport { gen_message_id } from '../lib/util.js';\nimport { finalize_message, create_payload, decrypt_payload, parse_envelope } from '../lib/message.js';\nimport { verify_relays, verify_seckey } from '../lib/validate.js';\nimport * as Util from '../util/index.js';\nconst NODE_CONFIG = () => {\n    return {\n        envelope: {\n            kind: 20004,\n            tags: []\n        },\n        filter: {\n            kinds: [20004],\n            since: Util.now()\n        },\n        req_timeout: 5000,\n        since_offset: 5,\n        start_delay: 2000\n    };\n};\nexport default class NostrNode extends EventEmitter {\n    constructor(relays, seckey, options = {}) {\n        super();\n        this._inbox = {\n            event: new EventEmitter(),\n            id: new EventEmitter(),\n            peer: new EventEmitter(),\n            tag: new EventEmitter()\n        };\n        this._sub = null;\n        this._handler = (event) => {\n            try {\n                const payload = decrypt_payload(event, this._seckey.hex);\n                const msg = parse_envelope(payload, event);\n                this.emit('message', msg);\n                this.inbox.id.emit(msg.id, msg);\n                this.inbox.peer.emit(msg.env.pubkey, msg);\n                this.inbox.tag.emit(msg.tag, msg);\n            }\n            catch (err) {\n                this.emit('bounced', [event.id, Util.parse_error(err)]);\n            }\n        };\n        this._publish = async (message, peer_pk, options) => {\n            const cache = options?.cache ?? new Map();\n            const config = get_event_config(this, options);\n            const payload = create_payload(message.tag, message.data, message.id);\n            const event = create_event(config, payload, peer_pk, this._seckey.hex);\n            const signed = { ...message, env: event };\n            const receipts = this._pool.publish(this.relays, event);\n            this._inbox.event.emit('published', signed);\n            return Promise.all(receipts).then(acks => {\n                const fails = this.relays.filter(r => !acks.includes(r));\n                const msg_id = message.id;\n                const ok = acks.length > 0;\n                const res = { acks, fails, ok, peer_pk, data: signed };\n                cache.set(peer_pk, res);\n                this._inbox.event.emit('settled', { ...res, msg_id });\n                return { ...res, ok, msg_id };\n            });\n        };\n        verify_relays(relays);\n        verify_seckey(seckey);\n        this._seckey = new Buff(seckey);\n        this._pubkey = get_pubkey(this._seckey.hex);\n        this._config = get_node_config(options);\n        this._filter = get_filter_config(this, options.filter);\n        this._pool = new SimplePool();\n        this._relays = relays;\n        this.emit('info', ['filter:', JSON.stringify(this.filter, null, 2)]);\n    }\n    _subscribe(filter, timeout = this.config.req_timeout, sub_id = gen_message_id()) {\n        this._filter = get_filter_config(this, filter);\n        this.filter['#p'] = [...this.filter['#p'] ?? [], this.pubkey];\n        this._sub = this._pool.subscribeMany(this.relays, [this._filter], {\n            id: sub_id,\n            oneose: () => this.emit('subscribed', [sub_id, this.filter]),\n            onevent: this._handler\n        });\n        return new Promise(resolve => {\n            const timer = setTimeout(() => resolve('timeout'), timeout);\n            const resolver = (reason) => { clearTimeout(timer); resolve(reason); };\n            this.within('subscribed', ([id]) => {\n                if (id === sub_id)\n                    resolver(null);\n            }, timeout);\n        });\n    }\n    get config() {\n        return this._config;\n    }\n    get filter() {\n        return this._filter;\n    }\n    get inbox() {\n        return this._inbox;\n    }\n    get pubkey() {\n        return this._pubkey;\n    }\n    get relays() {\n        return this._relays;\n    }\n    async broadcast(message, peers, options) {\n        const cache = new Map();\n        const msg = finalize_message(message);\n        const outbox = peers.map(pk => this._publish(msg, pk, options));\n        return Promise.all(outbox).then(settled => {\n            const ok = settled.every(r => r.ok);\n            const res = { ok, cache, msg_id: msg.id, peers };\n            settled.forEach(r => cache.set(r.peer_pk, r));\n            this.emit('broadcast', res);\n            return { ...res };\n        });\n    }\n    async connect(timeout = this.config.req_timeout) {\n        const res = await this._subscribe(this._filter, timeout);\n        if (res !== null)\n            throw new Error(res);\n        this.emit('ready', this);\n        return this;\n    }\n    async close() {\n        if (this._sub !== null) {\n            this._sub.close();\n        }\n        if (this._pool.close !== undefined) {\n            this._pool.close(this.relays);\n        }\n        this.emit('close', this);\n    }\n    async request(message, peer_pk, options) {\n        const msg = finalize_message(message);\n        const receipt = this.subscribe({ id: msg.id, peers: [peer_pk] }, options);\n        this.publish(msg, peer_pk, options);\n        return receipt;\n    }\n    async multicast(message, peers, options = {}) {\n        const msg = finalize_message(message);\n        const sub = this.subscribe({ id: msg.id, peers }, options);\n        const pub = this.broadcast(msg, peers, options);\n        return Promise.all([sub, pub]).then(([sub, pub]) => {\n            return { sub, pub };\n        });\n    }\n    async publish(message, pubkey, options) {\n        const msg = finalize_message(message);\n        return this._publish(msg, pubkey, options);\n    }\n    async subscribe(filter, options) {\n        const config = get_sub_config(this, options);\n        return new Promise(resolve => {\n            const { timeout, threshold } = config;\n            const { id, peers = [], tag } = filter;\n            const authors = new Set();\n            const inbox = new Set();\n            const timer = setTimeout(() => resolver(false, 'timeout'), timeout);\n            const resolver = (ok, reason) => {\n                clearTimeout(timer);\n                const res = {\n                    ok,\n                    authors: Array.from(authors),\n                    inbox: Array.from(inbox),\n                    peers,\n                    reason\n                };\n                this.emit('resolved', res);\n                resolve({ ...res });\n            };\n            const is_bounce = (msg) => ((typeof id === 'string' && id !== msg.id) ||\n                (typeof tag === 'string' && tag !== msg.tag) ||\n                (peers.length > 0 && !peers.includes(msg.env.pubkey)));\n            this.within('message', (msg) => {\n                if (!is_bounce(msg)) {\n                    authors.add(msg.env.pubkey);\n                    inbox.add(msg);\n                }\n                if (typeof threshold === 'number' && authors.size >= threshold) {\n                    resolver(true, 'threshold');\n                }\n                if (Array.isArray(peers) && peers.every(e => authors.has(e))) {\n                    resolver(true, 'complete');\n                }\n            }, timeout);\n        });\n    }\n    async update(filter) {\n        if (this._sub !== null)\n            this._sub.close();\n        return this._subscribe(filter);\n    }\n}\nfunction get_node_config(opt = {}) {\n    const config = NODE_CONFIG();\n    const envelope = { ...config.envelope, ...opt.envelope };\n    const filter = { ...config.filter, ...opt.filter };\n    return { ...config, envelope, filter };\n}\nfunction get_event_config(node, opt = {}) {\n    let { created_at = Util.now(), tags = [], ...rest } = opt;\n    const envelope = node.config.envelope;\n    tags = [...envelope.tags ?? [], ...opt.tags ?? []];\n    return { ...envelope, ...rest, created_at, tags };\n}\nfunction get_filter_config(node, filter = {}) {\n    return { ...node.config.filter, ...filter };\n}\nfunction get_sub_config(node, opt = {}) {\n    const timeout = opt.timeout ?? node.config.req_timeout;\n    return { ...opt, timeout };\n}\n", "import { EventEmitter } from './emitter.js';\nimport { BifrostSigner } from './signer.js';\nimport { SignerQueue } from './queue.js';\nimport { NostrNode } from '@cmdcode/nostr-p2p';\nimport { parse_error } from '@cmdcode/nostr-p2p/util';\nimport { convert_pubkey } from '../util/crypto.js';\nimport { now } from '../util/helpers.js';\nimport { parse_ecdh_message, parse_session_message } from '../lib/parse.js';\nimport { get_peer_pubkeys, get_recv_pubkeys } from '../lib/peer.js';\nimport * as API from '../api/index.js';\nimport Schema from '../schema/index.js';\nconst DEFAULT_CACHE = () => {\n    return {\n        ecdh: new Map()\n    };\n};\nconst DEFAULT_CONFIG = () => {\n    return {\n        debug: false,\n        middleware: {},\n        policies: [],\n        sign_ival: 100\n    };\n};\nexport class BifrostNode extends EventEmitter {\n    constructor(group, share, relays, options) {\n        super();\n        this._is_ready = false;\n        this._cache = get_node_cache(options?.cache);\n        this._config = get_node_config(options);\n        this._queue = new SignerQueue(this);\n        this._signer = new BifrostSigner(group, share, options);\n        this._peers = init_peer_data(this);\n        const authors = [...get_peer_pubkeys(this.peers), this.pubkey];\n        this._client = new NostrNode(relays, share.seckey, { filter: { authors } });\n        this._client.on('closed', () => {\n            this._is_ready = false;\n            this.emit('closed', this);\n        });\n        this._client.on('ready', () => {\n            this._is_ready = true;\n            this.emit('ready', this);\n        });\n        this._client.on('message', (msg) => {\n            this.emit('message', msg);\n            if (!this._filter(msg))\n                return;\n            try {\n                switch (msg.tag) {\n                    case '/ping/req': {\n                        API.ping_handler_api(this, msg);\n                        break;\n                    }\n                    case '/ecdh/req': {\n                        const parsed = parse_ecdh_message(msg);\n                        API.ecdh_handler_api(this, parsed);\n                        break;\n                    }\n                    case '/sign/req': {\n                        const parsed = parse_session_message(msg);\n                        API.sign_handler_api(this, parsed);\n                        break;\n                    }\n                }\n            }\n            catch (err) {\n                this.emit('bounced', [parse_error(err), msg]);\n            }\n        });\n    }\n    _filter(msg) {\n        const { pubkey } = msg.env;\n        if (msg.tag === '/echo/req')\n            return true;\n        if (pubkey === this.pubkey)\n            return false;\n        if (msg.tag === '/ping/req')\n            return true;\n        const recv_pks = get_recv_pubkeys(this.peers);\n        if (!recv_pks.includes(msg.env.pubkey)) {\n            this.emit('bounced', ['unauthorized', msg]);\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    get cache() {\n        return this._cache;\n    }\n    get client() {\n        return this._client;\n    }\n    get config() {\n        return this._config;\n    }\n    get debug() {\n        return this._config.debug;\n    }\n    get group() {\n        return this._signer.group;\n    }\n    get is_ready() {\n        return this._is_ready;\n    }\n    get queue() {\n        return this._queue;\n    }\n    get peers() {\n        return this._peers;\n    }\n    get pubkey() {\n        return convert_pubkey(this.signer.pubkey, 'bip340');\n    }\n    get req() {\n        return {\n            ecdh: API.ecdh_request_api(this),\n            echo: API.echo_request_api(this),\n            ping: API.ping_request_api(this),\n            queue: API.sign_queue_api(this),\n            sign: API.sign_request_api(this)\n        };\n    }\n    get signer() {\n        return this._signer;\n    }\n    async connect() {\n        void this.client.connect();\n    }\n    async close() {\n        void this.client.close();\n    }\n    update_peer(data) {\n        const idx = this.peers.findIndex(e => e.pubkey === data.pubkey);\n        if (idx === -1)\n            return;\n        this._peers[idx] = { ...this._peers[idx], ...data };\n    }\n}\nfunction get_node_cache(opt = {}) {\n    return { ...DEFAULT_CACHE(), ...opt };\n}\nfunction get_node_config(opt = {}) {\n    const config = { ...DEFAULT_CONFIG(), ...opt };\n    const parsed = Schema.node.config.safeParse(config);\n    if (!parsed.success)\n        throw new Error('invalid node config');\n    return parsed.data;\n}\nfunction init_peer_data(node) {\n    const current = now();\n    const node_pk = node.pubkey;\n    const peers_pks = node.group.commits\n        .map(e => convert_pubkey(e.pubkey, 'bip340'))\n        .filter(e => e !== node_pk);\n    let peer_data = [];\n    for (const peer_pk of peers_pks) {\n        const config = node.config.policies.find(e => e.pubkey === peer_pk);\n        const policy = config?.policy ?? { send: true, recv: true };\n        peer_data.push({\n            policy: policy,\n            pubkey: peer_pk,\n            status: 'offline',\n            updated: current\n        });\n    }\n    return peer_data;\n}\n", "import { Buff } from '@cmdcode/buff';\nimport * as CONST from '../const.js';\nimport { Assert, normalize_obj } from '../util/index.js';\nexport function encode_group_pkg(pkg) {\n    const data = serialize_group_data(pkg);\n    return data.to_bech32m('bfgroup');\n}\nexport function decode_group_pkg(str) {\n    const data = Buff.bech32m(str);\n    return deserialize_group_data(data);\n}\nexport function serialize_group_data(pkg) {\n    const thd = Buff.num(pkg.threshold, CONST.GROUP_THOLD_SIZE);\n    const gpk = Buff.hex(pkg.group_pk, CONST.GROUP_PUBKEY_SIZE);\n    const com = pkg.commits.map(e => serialize_commit_data(e));\n    return Buff.join([gpk, thd, ...com]);\n}\nexport function deserialize_group_data(data) {\n    const stream = new Buff(data).stream;\n    const group_pk = stream.read(CONST.COMMIT_PUBKEY_SIZE).hex;\n    const threshold = stream.read(CONST.GROUP_THOLD_SIZE).num;\n    Assert.ok(stream.size % CONST.COMMIT_DATA_SIZE === 0, 'commit data is malformed');\n    const count = stream.size / CONST.COMMIT_DATA_SIZE;\n    const commits = [];\n    for (let i = 0; i < count; i++) {\n        const cbytes = stream.read(CONST.COMMIT_DATA_SIZE);\n        commits.push(deserialize_commit_data(cbytes));\n    }\n    Assert.size(stream.data, 0);\n    return normalize_obj({ commits, group_pk, threshold });\n}\nfunction serialize_commit_data(pkg) {\n    const idx = Buff.num(pkg.idx, CONST.COMMIT_INDEX_SIZE);\n    const spk = Buff.hex(pkg.pubkey, CONST.COMMIT_PUBKEY_SIZE);\n    const bpn = Buff.hex(pkg.binder_pn, CONST.COMMIT_PNONCE_SIZE);\n    const hpn = Buff.hex(pkg.hidden_pn, CONST.COMMIT_PNONCE_SIZE);\n    return Buff.join([idx, spk, bpn, hpn]);\n}\nfunction deserialize_commit_data(data) {\n    const stream = new Buff(data).stream;\n    Assert.size(stream.data, CONST.COMMIT_DATA_SIZE);\n    const idx = stream.read(CONST.COMMIT_INDEX_SIZE).num;\n    const pubkey = stream.read(CONST.COMMIT_PUBKEY_SIZE).hex;\n    const binder_pn = stream.read(CONST.COMMIT_PNONCE_SIZE).hex;\n    const hidden_pn = stream.read(CONST.COMMIT_PNONCE_SIZE).hex;\n    Assert.size(stream.data, 0);\n    return { idx, binder_pn, hidden_pn, pubkey };\n}\n", "import { Buff } from '@cmdcode/buff';\nimport * as CONST from '../const.js';\nimport { Assert, normalize_obj } from '../util/index.js';\nexport function encode_share_pkg(pkg) {\n    const data = serialize_share_data(pkg);\n    Assert.size(data, CONST.SHARE_DATA_SIZE);\n    return data.to_bech32m('bfshare');\n}\nexport function decode_share_pkg(sharestr) {\n    const data = Buff.bech32m(sharestr);\n    return deserialize_share_data(data);\n}\nexport function serialize_share_data(pkg) {\n    const idx = Buff.num(pkg.idx, CONST.SHARE_INDEX_SIZE);\n    const ssk = Buff.hex(pkg.seckey, CONST.SHARE_SECKEY_SIZE);\n    const bsn = Buff.hex(pkg.binder_sn, CONST.SHARE_SNONCE_SIZE);\n    const hsn = Buff.hex(pkg.hidden_sn, CONST.SHARE_SNONCE_SIZE);\n    return Buff.join([idx, ssk, bsn, hsn]);\n}\nexport function deserialize_share_data(data) {\n    const stream = new Buff(data).stream;\n    Assert.size(stream.data, CONST.SHARE_DATA_SIZE);\n    const idx = stream.read(CONST.SHARE_INDEX_SIZE).num;\n    const seckey = stream.read(CONST.SHARE_SECKEY_SIZE).hex;\n    const binder_sn = stream.read(CONST.SHARE_SNONCE_SIZE).hex;\n    const hidden_sn = stream.read(CONST.SHARE_SNONCE_SIZE).hex;\n    Assert.size(stream.data, 0);\n    return normalize_obj({ idx, binder_sn, hidden_sn, seckey });\n}\n", "import * as GroupEncoder from './group.js';\nimport * as ShareEncoder from './share.js';\nexport * from './group.js';\nexport * from './share.js';\nexport var PackageEncoder;\n(function (PackageEncoder) {\n    PackageEncoder.group = {\n        encode: GroupEncoder.encode_group_pkg,\n        decode: GroupEncoder.decode_group_pkg,\n        serialize: GroupEncoder.serialize_group_data,\n        deserialize: GroupEncoder.deserialize_group_data\n    };\n    PackageEncoder.share = {\n        encode: ShareEncoder.encode_share_pkg,\n        decode: ShareEncoder.decode_share_pkg,\n        serialize: ShareEncoder.serialize_share_data,\n        deserialize: ShareEncoder.deserialize_share_data\n    };\n})(PackageEncoder || (PackageEncoder = {}));\n", "/**\n * PBKDF (RFC 2898). Can be used to create a key from password and salt.\n * @module\n */\nimport { hmac } from './hmac.ts';\n// prettier-ignore\nimport {\n  ahash, anumber,\n  asyncLoop, checkOpts, clean, createView, Hash, kdfInputToBytes,\n  type CHash,\n  type KDFInput\n} from './utils.ts';\n\nexport type Pbkdf2Opt = {\n  c: number; // Iterations\n  dkLen?: number; // Desired key length in bytes (Intended output length in octets of the derived key\n  asyncTick?: number; // Maximum time in ms for which async function can block execution\n};\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash: CHash, _password: KDFInput, _salt: KDFInput, _opts: Pbkdf2Opt) {\n  ahash(hash);\n  const opts = checkOpts({ dkLen: 32, asyncTick: 10 }, _opts);\n  const { c, dkLen, asyncTick } = opts;\n  anumber(c);\n  anumber(dkLen);\n  anumber(asyncTick);\n  if (c < 1) throw new Error('iterations (c) should be >= 1');\n  const password = kdfInputToBytes(_password);\n  const salt = kdfInputToBytes(_salt);\n  // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n  const DK = new Uint8Array(dkLen);\n  // U1 = PRF(Password, Salt + INT_32_BE(i))\n  const PRF = hmac.create(hash, password);\n  const PRFSalt = PRF._cloneInto().update(salt);\n  return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\n\nfunction pbkdf2Output<T extends Hash<T>>(\n  PRF: Hash<T>,\n  PRFSalt: Hash<T>,\n  DK: Uint8Array,\n  prfW: Hash<T>,\n  u: Uint8Array\n) {\n  PRF.destroy();\n  PRFSalt.destroy();\n  if (prfW) prfW.destroy();\n  clean(u);\n  return DK;\n}\n\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n * @example\n * const key = pbkdf2(sha256, 'password', 'salt', { dkLen: 32, c: Math.pow(2, 18) });\n */\nexport function pbkdf2(\n  hash: CHash,\n  password: KDFInput,\n  salt: KDFInput,\n  opts: Pbkdf2Opt\n): Uint8Array {\n  const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n  let prfW: any; // Working copy\n  const arr = new Uint8Array(4);\n  const view = createView(arr);\n  const u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + \u22EF + Tdklen/hlen\n  for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    const Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ \u22EF ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    for (let ui = 1; ui < c; ui++) {\n      // Uc = PRF(Password, Uc\u22121)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (let i = 0; i < Ti.length; i++) Ti[i] ^= u[i];\n    }\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function. Async version.\n * @example\n * await pbkdf2Async(sha256, 'password', 'salt', { dkLen: 32, c: 500_000 });\n */\nexport async function pbkdf2Async(\n  hash: CHash,\n  password: KDFInput,\n  salt: KDFInput,\n  opts: Pbkdf2Opt\n): Promise<Uint8Array> {\n  const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n  let prfW: any; // Working copy\n  const arr = new Uint8Array(4);\n  const view = createView(arr);\n  const u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + \u22EF + Tdklen/hlen\n  for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    const Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ \u22EF ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    await asyncLoop(c - 1, asyncTick, () => {\n      // Uc = PRF(Password, Uc\u22121)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (let i = 0; i < Ti.length; i++) Ti[i] ^= u[i];\n    });\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n", "export var Check;\n(function (Check) {\n    function is_hex(input) {\n        return (input.match(/[^a-fA-F0-9]/) === null &&\n            input.length % 2 === 0);\n    }\n    Check.is_hex = is_hex;\n    function is_bytes(input) {\n        if (typeof input === 'string' && is_hex(input)) {\n            return true;\n        }\n        else if (input instanceof Uint8Array) {\n            return true;\n        }\n        else if (Array.isArray(input) &&\n            input.every(e => typeof e === 'number')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    Check.is_bytes = is_bytes;\n})(Check || (Check = {}));\n", "import { Check } from '../util/validate.js';\nexport var Assert;\n(function (Assert) {\n    function within_size(data, size) {\n        if (data.length > size) {\n            throw new TypeError(`Data is larger than array size: ${data.length} > ${size}`);\n        }\n    }\n    Assert.within_size = within_size;\n    function is_hex(hex) {\n        if (hex.match(/[^a-fA-f0-9]/) !== null) {\n            throw new TypeError('Invalid characters in hex string: ' + hex);\n        }\n        if (hex.length % 2 !== 0) {\n            throw new Error(`Length of hex string is invalid: ${hex.length}`);\n        }\n    }\n    Assert.is_hex = is_hex;\n    function is_bytes(bytes) {\n        if (!Check.is_bytes(bytes)) {\n            throw new Error('Bytes contains invalid elements: ' + String(bytes));\n        }\n    }\n    Assert.is_bytes = is_bytes;\n    function is_json(str) {\n        try {\n            JSON.parse(str);\n        }\n        catch {\n            throw new TypeError('JSON string is invalid!');\n        }\n    }\n    Assert.is_json = is_json;\n    function is_safe_int(num) {\n        if (num > Number.MAX_SAFE_INTEGER) {\n            throw new TypeError('Number exceeds safe bounds!');\n        }\n    }\n    Assert.is_safe_int = is_safe_int;\n})(Assert || (Assert = {}));\n", "const _0n = BigInt(0);\nconst _255n = BigInt(255);\nconst _256n = BigInt(256);\nexport function get_big_size(big) {\n    if (big <= 0xffn)\n        return 1;\n    if (big <= 0xffffn)\n        return 2;\n    if (big <= 0xffffffffn)\n        return 4;\n    if (big <= 0xffffffffffffffffn)\n        return 8;\n    if (big <= 0xffffffffffffffffffffffffffffffffn)\n        return 16;\n    if (big <= 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn) {\n        return 32;\n    }\n    throw new TypeError('Must specify a fixed buffer size for bigints greater than 32 bytes.');\n}\nexport function big_to_bytes(big, size, endian = 'be') {\n    if (size === undefined)\n        size = get_big_size(big);\n    const use_le = (endian === 'le');\n    const buffer = new ArrayBuffer(size);\n    const dataView = new DataView(buffer);\n    let offset = (use_le) ? 0 : size - 1;\n    while (big > _0n) {\n        const byte = big & _255n;\n        const num = Number(byte);\n        if (use_le) {\n            dataView.setUint8(offset++, num);\n        }\n        else {\n            dataView.setUint8(offset--, num);\n        }\n        big = (big - byte) / _256n;\n    }\n    return new Uint8Array(buffer);\n}\nexport function bytes_to_big(bytes) {\n    let num = BigInt(0);\n    for (let i = bytes.length - 1; i >= 0; i--) {\n        num = (num * _256n) + BigInt(bytes[i]);\n    }\n    return BigInt(num);\n}\nexport function bigint_replacer(_, v) {\n    return typeof v === 'bigint'\n        ? `${v}n`\n        : v;\n}\nexport function bigint_reviver(_, v) {\n    return typeof v === 'string' && /^[0-9]+n$/.test(v)\n        ? BigInt(v.slice(0, -1))\n        : v;\n}\n", "import { Assert } from '../util/assert.js';\nexport function get_num_size(num) {\n    if (num <= 0xFF)\n        return 1;\n    if (num <= 0xFFFF)\n        return 2;\n    if (num <= 0xFFFFFFFF)\n        return 4;\n    throw new TypeError('Numbers larger than 4 bytes must specify a fixed size!');\n}\nexport function num_to_bytes(num, size, endian = 'be') {\n    if (size === undefined)\n        size = get_num_size(num);\n    const use_le = (endian === 'le');\n    const buffer = new ArrayBuffer(size);\n    const dataView = new DataView(buffer);\n    let offset = (use_le) ? 0 : size - 1;\n    while (num > 0) {\n        const byte = num & 255;\n        if (use_le) {\n            dataView.setUint8(offset++, num);\n        }\n        else {\n            dataView.setUint8(offset--, num);\n        }\n        num = (num - byte) / 256;\n    }\n    return new Uint8Array(buffer);\n}\nexport function bytes_to_num(bytes) {\n    let num = 0;\n    for (let i = bytes.length - 1; i >= 0; i--) {\n        num = (num * 256) + bytes[i];\n        Assert.is_safe_int(num);\n    }\n    return num;\n}\n", "import { Assert } from '../util/assert.js';\nexport function hex_to_bytes(hexstr, size, endian = 'be') {\n    size = get_hex_size(hexstr, size);\n    const use_be = (endian === 'be');\n    const buffer = new ArrayBuffer(size);\n    const dataView = new DataView(buffer);\n    let offset = (use_be) ? 0 : size - 1;\n    for (let i = 0; i < hexstr.length; i += 2) {\n        const char = hexstr.substring(i, i + 2);\n        const num = parseInt(char, 16);\n        if (use_be) {\n            dataView.setUint8(offset++, num);\n        }\n        else {\n            dataView.setUint8(offset--, num);\n        }\n    }\n    return new Uint8Array(buffer);\n}\nexport function bytes_to_hex(bytes) {\n    let chars = '';\n    for (let i = 0; i < bytes.length; i++) {\n        chars += bytes[i].toString(16).padStart(2, '0');\n    }\n    return chars;\n}\nfunction get_hex_size(hexstr, size) {\n    Assert.is_hex(hexstr);\n    const len = hexstr.length / 2;\n    if (size === undefined)\n        size = len;\n    if (len > size) {\n        throw new TypeError(`Hex string is larger than array size: ${len} > ${size}`);\n    }\n    return size;\n}\n", "import { Assert } from '../util/assert.js';\nimport { big_to_bytes } from './big.js';\nimport { num_to_bytes } from './num.js';\nimport { hex_to_bytes } from './hex.js';\nexport function buffer(bytes, size, endian) {\n    if (bytes instanceof ArrayBuffer) {\n        return new Uint8Array(bytes);\n    }\n    else if (bytes instanceof Uint8Array) {\n        return create_bytes(bytes, size, endian);\n    }\n    else if (typeof bytes === 'string') {\n        Assert.is_hex(bytes);\n        return hex_to_bytes(bytes, size, endian);\n    }\n    else if (typeof bytes === 'bigint') {\n        return big_to_bytes(bytes, size, endian);\n    }\n    else if (typeof bytes === 'number') {\n        return num_to_bytes(bytes, size, endian);\n    }\n    throw new TypeError('Input type not supported:' + typeof bytes);\n}\nexport function create_bytes(data, size, endian = 'le') {\n    if (size === undefined)\n        size = data.length;\n    Assert.within_size(data, size);\n    const buffer = new Uint8Array(size).fill(0);\n    const offset = (endian === 'be') ? 0 : size - data.length;\n    buffer.set(data, offset);\n    return buffer;\n}\nexport function join_bytes(arr) {\n    let i, offset = 0;\n    const size = arr.reduce((len, arr) => len + arr.length, 0);\n    const buff = new Uint8Array(size);\n    for (i = 0; i < arr.length; i++) {\n        const a = arr[i];\n        buff.set(a, offset);\n        offset += a.length;\n    }\n    return buff;\n}\nexport function split_bytes(data_blob, chunk_size, total_size) {\n    const len = data_blob.length, count = total_size / chunk_size;\n    if (total_size % chunk_size !== 0) {\n        throw new TypeError(`Invalid parameters: ${total_size} % ${chunk_size} !== 0`);\n    }\n    if (len !== total_size) {\n        throw new TypeError(`Invalid data stream: ${len} !== ${total_size}`);\n    }\n    if (len % chunk_size !== 0) {\n        throw new TypeError(`Invalid data stream: ${len} % ${chunk_size} !== 0`);\n    }\n    const chunks = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const idx = i * chunk_size;\n        chunks[i] = data_blob.subarray(idx, idx + chunk_size);\n    }\n    return chunks;\n}\n", "export function bin_to_bytes(binary) {\n    const bins = binary.split('').map(Number);\n    if (bins.length % 8 !== 0) {\n        throw new Error(`Binary array is invalid length: ${binary.length}`);\n    }\n    const bytes = new Uint8Array(bins.length / 8);\n    for (let i = 0, ct = 0; i < bins.length; i += 8, ct++) {\n        let byte = 0;\n        for (let j = 0; j < 8; j++) {\n            byte |= (bins[i + j] << (7 - j));\n        }\n        bytes[ct] = byte;\n    }\n    return bytes;\n}\nexport function bytes_to_bin(bytes) {\n    const bin = new Array(bytes.length * 8);\n    let count = 0;\n    for (const num of bytes) {\n        if (num > 255) {\n            throw new Error(`Invalid byte value: ${num}. Byte values must be between 0 and 255.`);\n        }\n        for (let i = 7; i >= 0; i--, count++) {\n            bin[count] = (num >> i) & 1;\n        }\n    }\n    return bin.join('');\n}\n", "const ec = new TextEncoder();\nconst dc = new TextDecoder();\nexport function str_to_bytes(str) {\n    return ec.encode(str);\n}\nexport function bytes_to_str(bytes) {\n    return dc.decode(bytes);\n}\n", "export function get_random_bytes(length = 32) {\n    if (crypto &&\n        typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(length));\n    }\n    const pcrypto = crypto;\n    if (pcrypto &&\n        pcrypto.randomBytes !== undefined &&\n        typeof pcrypto.randomBytes === 'function') {\n        return pcrypto.randomBytes(length);\n    }\n    throw new Error('getRandomValues from crypto library is undefined');\n}\n", "import * as Lib from '../lib/index.js';\nimport { Assert, Check } from '../util/index.js';\nexport class Buff extends Uint8Array {\n    static { this.num = (number, size, endian) => {\n        return new Buff(number, size, endian);\n    }; }\n    static { this.big = (bigint, size, endian) => {\n        return new Buff(bigint, size, endian);\n    }; }\n    static { this.bin = (data, size, endian) => {\n        const uint = Lib.bin_to_bytes(data);\n        return new Buff(uint, size, endian);\n    }; }\n    static { this.uint = (data, size, endian) => {\n        return new Buff(data, size, endian);\n    }; }\n    static { this.str = (data, size, endian) => {\n        const uint = Lib.str_to_bytes(data);\n        return new Buff(uint, size, endian);\n    }; }\n    static { this.hex = (data, size, endian) => {\n        Assert.is_hex(data);\n        return new Buff(data, size, endian);\n    }; }\n    static { this.bytes = (bytes, size, endian) => {\n        Assert.is_bytes(bytes);\n        return new Buff(bytes, size, endian);\n    }; }\n    static { this.json = (data, replacer) => {\n        replacer = replacer ?? Lib.bigint_replacer;\n        const str = JSON.stringify(data, replacer);\n        const uint = Lib.str_to_bytes(str);\n        return new Buff(uint);\n    }; }\n    static { this.blob = (payload, chunk_size, total_size) => {\n        const bytes = Lib.buffer(payload);\n        const chunks = Lib.split_bytes(bytes, chunk_size, total_size);\n        return chunks.map(e => new Buff(e));\n    }; }\n    static { this.is_equal = (a, b) => {\n        return new Buff(a).hex === new Buff(b).hex;\n    }; }\n    static { this.is_bytes = Check.is_bytes; }\n    static { this.is_hex = Check.is_hex; }\n    static random(size = 32) {\n        const uint = Lib.get_random_bytes(size);\n        return new Buff(uint, size);\n    }\n    static now() {\n        const stamp = Math.floor(Date.now() / 1000);\n        return new Buff(stamp, 4);\n    }\n    constructor(data, size, endian) {\n        if (data instanceof Buff && size === undefined) {\n            return data;\n        }\n        const buffer = Lib.buffer(data, size, endian);\n        super(buffer);\n    }\n    get arr() {\n        return this.to_arr();\n    }\n    get big() {\n        return this.to_big();\n    }\n    get bin() {\n        return this.to_bin();\n    }\n    get hex() {\n        return this.to_hex();\n    }\n    get num() {\n        return this.to_num();\n    }\n    get str() {\n        return this.to_str();\n    }\n    get uint() {\n        return this.to_uint();\n    }\n    to_big(endian = 'be') {\n        const bytes = (endian === 'be')\n            ? this.uint.reverse()\n            : this.uint;\n        return Lib.bytes_to_big(bytes);\n    }\n    to_hex(endian = 'be') {\n        const bytes = (endian === 'be')\n            ? this.uint\n            : this.uint.reverse();\n        return Lib.bytes_to_hex(bytes);\n    }\n    to_json(reviver) {\n        if (reviver === undefined) {\n            reviver = Lib.bigint_reviver;\n        }\n        const str = Lib.bytes_to_str(this);\n        return JSON.parse(str, reviver);\n    }\n    to_num(endian = 'be') {\n        const bytes = (endian === 'be')\n            ? this.uint.reverse()\n            : this.uint;\n        return Lib.bytes_to_num(bytes);\n    }\n    to_arr() { return [...this]; }\n    to_bin() { return Lib.bytes_to_bin(this); }\n    to_str() { return Lib.bytes_to_str(this); }\n    to_uint() { return new Uint8Array(this); }\n    append(data) {\n        return Buff.join([this, new Buff(data)]);\n    }\n    equals(data) {\n        return new Buff(data).hex === this.hex;\n    }\n    prepend(data) {\n        return Buff.join([new Buff(data), this]);\n    }\n    prefix_varint(endian) {\n        if (this.length === 0)\n            throw new Error('buffer is empty');\n        const varint = Buff.varint(this.length, endian);\n        return this.prepend(varint);\n    }\n    reverse() {\n        super.reverse();\n        return this;\n    }\n    set(array, offset) {\n        this.set(array, offset);\n    }\n    slice(start, end) {\n        const arr = new Uint8Array(this).slice(start, end);\n        return new Buff(arr);\n    }\n    subarray(begin, end) {\n        const arr = new Uint8Array(this).subarray(begin, end);\n        return new Buff(arr);\n    }\n    toJSON() {\n        return this.hex;\n    }\n    toString() {\n        return this.hex;\n    }\n    static from(data) {\n        return new Buff(Uint8Array.from(data));\n    }\n    static of(...args) {\n        return new Buff(Uint8Array.of(...args));\n    }\n    static join(arr) {\n        const bytes = arr.map(e => new Buff(e));\n        const joined = Lib.join_bytes(bytes);\n        return new Buff(joined);\n    }\n    static sort(arr, size) {\n        const hex = arr.map(e => new Buff(e, size).hex);\n        hex.sort();\n        return hex.map(e => Buff.hex(e, size));\n    }\n    static varint(num, endian) {\n        if (num < 0xFD) {\n            return Buff.num(num, 1);\n        }\n        else if (num < 0x10000) {\n            return Buff.of(0xFD, ...Buff.num(num, 2, endian));\n        }\n        else if (num < 0x100000000) {\n            return Buff.of(0xFE, ...Buff.num(num, 4, endian));\n        }\n        else if (BigInt(num) < 0x10000000000000000n) {\n            return Buff.of(0xFF, ...Buff.num(num, 8, endian));\n        }\n        else {\n            throw new Error(`Value is too large: ${num}`);\n        }\n    }\n}\n", "export const now = () => Math.floor(Date.now() / 1000);\nexport const sleep = (ms = 1000) => new Promise(res => setTimeout(res, ms));\nexport function create_timeout(promise, timeout) {\n    return new Promise(async (resolve, reject) => {\n        const timer = setTimeout(() => reject('timeout'), timeout);\n        const res = await promise;\n        clearTimeout(timer);\n        resolve(res);\n    });\n}\nexport function sort_obj(obj) {\n    if (obj instanceof Map || Array.isArray(obj) || typeof obj !== 'object') {\n        return obj;\n    }\n    else {\n        return Object.keys(obj)\n            .sort()\n            .filter(([_, value]) => value !== undefined)\n            .reduce((sorted, key) => {\n            sorted[key] = obj[key];\n            return sorted;\n        }, {});\n    }\n}\nexport function parse_error(err) {\n    if (err instanceof Error)\n        return err.message;\n    if (typeof err === 'string')\n        return err;\n    return String(err);\n}\n", "import { Buff } from '@vbyte/buff';\nimport { sort_obj } from './util.js';\nexport var Test;\n(function (Test) {\n    function exists(value) {\n        if (typeof value === 'undefined' || value === null) {\n            return false;\n        }\n        return true;\n    }\n    Test.exists = exists;\n    function is_equal(a, b) {\n        return a === b;\n    }\n    Test.is_equal = is_equal;\n    function is_object(value) {\n        return typeof value === 'object' && value !== null && !Array.isArray(value);\n    }\n    Test.is_object = is_object;\n    function is_deep_equal(a, b) {\n        if (is_object(a))\n            a = sort_obj(a);\n        if (is_object(b))\n            b = sort_obj(b);\n        return String(a) === String(b);\n    }\n    Test.is_deep_equal = is_deep_equal;\n    function has_items(array) {\n        return Array.isArray(array) && array.length > 0;\n    }\n    Test.has_items = has_items;\n    function is_string(value) {\n        return typeof value === 'string';\n    }\n    Test.is_string = is_string;\n    function is_number(value) {\n        return Number.isInteger(value) && !Number.isNaN(value);\n    }\n    Test.is_number = is_number;\n    function is_bigint(value) {\n        return typeof value === 'bigint';\n    }\n    Test.is_bigint = is_bigint;\n    function is_uchar(value) {\n        return is_number(value) && value >= 0 && value <= 0xFF;\n    }\n    Test.is_uchar = is_uchar;\n    function is_ushort(value) {\n        return is_number(value) && value >= 0 && value <= 0xFFFF;\n    }\n    Test.is_ushort = is_ushort;\n    function is_uint(value) {\n        return is_number(value) && value >= 0 && value <= 0xFFFFFFFF;\n    }\n    Test.is_uint = is_uint;\n    function is_u8a(value) {\n        return value instanceof Uint8Array;\n    }\n    Test.is_u8a = is_u8a;\n    function is_bytes(value) {\n        return Buff.is_bytes(value);\n    }\n    Test.is_bytes = is_bytes;\n    function is_base58(value) {\n        if (typeof value !== 'string')\n            return false;\n        return /^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/.test(value);\n    }\n    Test.is_base58 = is_base58;\n    function is_base64(value) {\n        if (typeof value !== 'string')\n            return false;\n        return /^[a-zA-Z0-9+/]+={0,2}$/.test(value);\n    }\n    Test.is_base64 = is_base64;\n    function is_b64url(value) {\n        if (typeof value !== 'string')\n            return false;\n        return /^[a-zA-Z0-9\\-_]+={0,2}$/.test(value);\n    }\n    Test.is_b64url = is_b64url;\n    function is_bech32(value) {\n        if (typeof value !== 'string')\n            return false;\n        return /^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(value);\n    }\n    Test.is_bech32 = is_bech32;\n    function is_hex(value) {\n        if (!is_string(value))\n            return false;\n        return (value.match(/[^a-fA-F0-9]/) === null && value.length % 2 === 0);\n    }\n    Test.is_hex = is_hex;\n    function is_hash(value) {\n        return (is_string(value) && is_hex(value) && value.length === 64);\n    }\n    Test.is_hash = is_hash;\n})(Test || (Test = {}));\n", "import { Buff } from '@vbyte/buff';\nimport { Test } from './test.js';\nexport var Assert;\n(function (Assert) {\n    function ok(value, message) {\n        if (value === false) {\n            throw new Error(message ?? 'Assertion failed!');\n        }\n    }\n    Assert.ok = ok;\n    function exists(value, msg) {\n        if (!Test.exists(value)) {\n            throw new Error(msg ?? 'Value is null or undefined!');\n        }\n    }\n    Assert.exists = exists;\n    function is_empty(value, msg) {\n        if (value !== null && value !== undefined) {\n            throw new Error(msg ?? 'value is not null or undefined!');\n        }\n    }\n    Assert.is_empty = is_empty;\n    function is_instance(value, type, msg) {\n        if (!(value instanceof type)) {\n            throw new Error(msg ?? `value is not an instance of ${type.name}`);\n        }\n    }\n    Assert.is_instance = is_instance;\n    function is_equal(a, b, msg) {\n        if (!Test.is_equal(a, b)) {\n            throw new Error(msg ?? `values are not equal: ${String(a)} !== ${String(b)}`);\n        }\n    }\n    Assert.is_equal = is_equal;\n    function is_object(value, msg) {\n        if (!Test.is_object(value)) {\n            throw new Error(msg ?? `value is not an object: ${String(value)}`);\n        }\n    }\n    Assert.is_object = is_object;\n    function is_deep_equal(a, b, msg) {\n        if (!Test.is_deep_equal(a, b)) {\n            throw new Error(msg ?? `values are not deep equal: ${String(a)} !== ${String(b)}`);\n        }\n    }\n    Assert.is_deep_equal = is_deep_equal;\n    function is_number(value) {\n        if (!Test.is_number(value)) {\n            throw new TypeError(`invalid number: ${String(value)}`);\n        }\n    }\n    Assert.is_number = is_number;\n    function is_bigint(value) {\n        if (!Test.is_bigint(value)) {\n            throw new TypeError(`invalid bigint: ${String(value)}`);\n        }\n    }\n    Assert.is_bigint = is_bigint;\n    function is_hex(value) {\n        if (!Test.is_hex(value)) {\n            throw new TypeError(`invalid hex: ${String(value)}`);\n        }\n    }\n    Assert.is_hex = is_hex;\n    function is_uchar(value) {\n        if (!Test.is_uchar(value)) {\n            throw new TypeError(`invalid unsignedchar: ${String(value)}`);\n        }\n    }\n    Assert.is_uchar = is_uchar;\n    function is_ushort(value) {\n        if (!Test.is_ushort(value)) {\n            throw new TypeError(`invalid unsigned short: ${String(value)}`);\n        }\n    }\n    Assert.is_ushort = is_ushort;\n    function is_uint(value) {\n        if (!Test.is_uint(value)) {\n            throw new TypeError(`invalid unsigned int: ${String(value)}`);\n        }\n    }\n    Assert.is_uint = is_uint;\n    function is_u8a(value) {\n        if (!Test.is_u8a(value)) {\n            throw new TypeError(`invalid Uint8Array: ${String(value)}`);\n        }\n    }\n    Assert.is_u8a = is_u8a;\n    function is_hash(value, msg) {\n        if (!Test.is_hash(value)) {\n            throw new TypeError(msg ?? `invalid hash: ${String(value)}`);\n        }\n    }\n    Assert.is_hash = is_hash;\n    function is_bytes(value, msg) {\n        if (!Test.is_bytes(value)) {\n            throw new TypeError(msg ?? `invalid bytes: ${String(value)}`);\n        }\n    }\n    Assert.is_bytes = is_bytes;\n    function size(input, size, msg) {\n        const bytes = Buff.bytes(input);\n        if (bytes.length !== size) {\n            throw new Error(msg ?? `invalid input size: ${bytes.length} !== ${size}`);\n        }\n    }\n    Assert.size = size;\n    function has_items(array, err_msg) {\n        if (!Test.has_items(array)) {\n            throw new Error(err_msg ?? 'array does not contain any items');\n        }\n    }\n    Assert.has_items = has_items;\n    function is_base58(value) {\n        if (!Test.is_base58(value)) {\n            throw new Error('invalid base58 string');\n        }\n    }\n    Assert.is_base58 = is_base58;\n    function is_base64(value) {\n        if (!Test.is_base64(value)) {\n            throw new Error('invalid base64 string');\n        }\n    }\n    Assert.is_base64 = is_base64;\n    function is_b64url(value) {\n        if (!Test.is_b64url(value)) {\n            throw new Error('invalid base64url string');\n        }\n    }\n    Assert.is_b64url = is_b64url;\n    function is_bech32(value) {\n        if (!Test.is_bech32(value)) {\n            throw new Error('invalid bech32 string');\n        }\n    }\n    Assert.is_bech32 = is_bech32;\n})(Assert || (Assert = {}));\n", "import { Buff }   from '@cmdcode/buff'\nimport { nip19 }  from 'nostr-tools'\nimport { gcm }    from '@noble/ciphers/aes.js'\nimport { pbkdf2 } from '@noble/hashes/pbkdf2.js'\nimport { sha256 } from '@noble/hashes/sha2.js'\nimport { Assert } from '@vbyte/micro-lib/assert'\n\nconst PKDF_OPT = { c: 100000, dkLen: 32 }\n\nexport function create_encryption_key (\n  password : string,\n  salt     : Uint8Array\n) : Uint8Array {\n  const encoder = new TextEncoder()\n  const pbytes  = encoder.encode(password)\n  Assert.ok(salt.length >= 16, 'salt must be at least 16 bytes')\n  return pbkdf2(sha256, pbytes, salt, PKDF_OPT)\n}\n\nexport function encrypt_content (\n  content  : string,\n  password : string\n) : string | null {\n  try {\n    const sbytes  = Buff.str(content)\n    const vector  = Buff.random(24)\n    const enc_key = create_encryption_key(password, vector)\n    const payload = gcm(enc_key, vector).encrypt(sbytes)\n    return new Buff(payload).b64url + '?iv=' + vector.b64url\n  } catch {\n    return null\n  }\n}\n\nexport function decrypt_content (\n  content  : string,\n  password : string\n) : string | null {\n  try {\n    Assert.ok(content.includes('?iv='), 'encrypted content must include iv')\n    const [ payload, iv ] = content.split('?iv=')\n    const pbytes  = Buff.b64url(payload)\n    const vector  = Buff.b64url(iv)\n    const enc_key = create_encryption_key(password, vector)\n    const seckey  = gcm(enc_key, vector).decrypt(pbytes)\n    return new Buff(seckey).str\n  } catch {\n    return null\n  }\n}\n", "import { createContext, useContext, useState } from 'react'\n\nimport { Assert }    from '@vbyte/micro-lib'\nimport { LOG_LIMIT } from '@/const'\n\nimport type {\n  LogEntry,\n  LogType,\n  ProviderProps,\n  WebConsoleAPI\n} from '@/types/index.js'\n\nimport type { ReactElement } from 'react'\n\nconst context = createContext<WebConsoleAPI | null>(null)\n\nexport const ConsoleProvider = ({ children }: ProviderProps): ReactElement => {\n  // Define the logs state.\n  const [ logs, setLogs ] = useState<LogEntry[]>([])\n  // Define the add method.\n  const add = (msg : string, type : LogType, payload? : any) => {\n    // Create a new log entry.\n    const new_log = create_log(msg, type, payload)\n    // Update the logs array.\n    setLogs(prev_logs => {\n      // Create a new logs array.\n      let new_logs : LogEntry[] = [ ...prev_logs, new_log ]\n      // If the logs array is greater than the LOG_LIMIT,\n      if (prev_logs.length >= LOG_LIMIT) {\n        // Calculate the difference between the logs and the LOG_LIMIT.\n        const diff = new_logs.length - LOG_LIMIT\n        // Assert that the difference is greater than 0.\n        Assert.ok(diff > 0, 'diff must be greater than 0')\n        // Update the new logs array.\n        new_logs = new_logs.slice(diff)\n      }\n      // Return the new logs array.\n      return new_logs\n    })\n  }\n  // Define the clear method.\n  const clear = () => {\n    // Update the logs array with an empty array.\n    setLogs([])\n  }\n\n  return (\n    <context.Provider value={{ logs, clear, add }}>\n      {children}\n    </context.Provider>\n  )\n}\n\nexport const useWebConsole = () => {\n  const ctx = useContext(context)\n  if (ctx === null) {\n    throw new Error('useWebConsole must be used within a ConsoleProvider')\n  }\n  return ctx\n}\n\nfunction create_log (\n  msg      : string,\n  type     : LogType,\n  payload? : any\n) : LogEntry {\n  // Create a new log entry.\n  return {\n    stamp   : Date.now(),\n    message : msg,\n    type    : type,\n    payload : payload\n  }\n}", "import { Buff } from '@vbyte/buff';\nimport { Assert } from './assert.js';\nimport { secp256k1, schnorr } from '@noble/curves/secp256k1';\nimport { Field } from '@noble/curves/abstract/modular';\nconst _0n = BigInt(0);\nconst _2n = BigInt(2);\nconst _N = secp256k1.CURVE.n;\nconst FD = Field(_N, 32, true);\nconst GP = secp256k1.Point.BASE;\nexport function get_seckey(secret, even_y = false) {\n    let sk = serialize_bytes(secret).big % _N;\n    if (even_y) {\n        const pt = GP.multiply(sk);\n        return (pt.y % _2n === _0n)\n            ? Buff.big(sk)\n            : Buff.big(_N - sk);\n    }\n    else {\n        return Buff.big(sk);\n    }\n}\nexport function get_pubkey(seckey, format) {\n    const sk = serialize_bytes(seckey).big;\n    const pt = GP.multiply(sk);\n    const pk = pt.toHex(true);\n    return serialize_pubkey(pk, format);\n}\nexport function tweak_seckey(seckey, tweak, even_y = false) {\n    const sk = get_seckey(seckey, even_y).big;\n    const twk = serialize_bytes(tweak).big;\n    const tweaked_sk = FD.add(sk, twk);\n    const new_secret = Buff.big(tweaked_sk);\n    return get_seckey(new_secret, false);\n}\nexport function tweak_pubkey(pubkey, tweak, format, even_y = false) {\n    const twk_big = serialize_bytes(tweak).big;\n    const pub_pt = lift_point(pubkey);\n    const tweak_pt = GP.multiply(twk_big);\n    let tweaked_pt = pub_pt.add(tweak_pt);\n    if (even_y && tweaked_pt.y % _2n !== _0n) {\n        tweaked_pt = tweaked_pt.negate();\n    }\n    const pk = tweaked_pt.toHex(true);\n    return serialize_pubkey(pk, format);\n}\nexport function verify_seckey(seckey) {\n    const sk = serialize_bytes(seckey);\n    Assert.size(sk, 32, 'ecdsa secret keys must be 32 bytes long');\n    Assert.ok(sk.big < _N, 'ecdsa secret keys must be less than the curve order');\n    Assert.ok(sk.big > 0, 'ecdsa secret keys must be greater than zero');\n}\nexport function verify_pubkey(pubkey, format) {\n    const pk = serialize_bytes(pubkey);\n    if (format === 'bip340') {\n        Assert.size(pk, 32, 'bip340 public keys must be 32 bytes long');\n    }\n    else if (format === 'ecdsa') {\n        Assert.size(pk, 33, 'ecdsa public keys must be 33 bytes long');\n    }\n    else {\n        throw new Error('invalid format: ' + format);\n    }\n    verify_point(pk);\n}\nexport function sign_ecdsa(seckey, message) {\n    const msg = serialize_bytes(message);\n    const sig = secp256k1.sign(msg, seckey).toDERRawBytes();\n    return Buff.bytes(sig);\n}\nexport function sign_bip340(seckey, message) {\n    const msg = serialize_bytes(message);\n    const sig = schnorr.sign(msg, seckey);\n    return serialize_bytes(sig);\n}\nexport function verify_ecdsa(signature, message, pubkey) {\n    const sig = serialize_bytes(signature);\n    const msg = serialize_bytes(message);\n    const pk = serialize_pubkey(pubkey, 'ecdsa');\n    return secp256k1.verify(sig, msg, pk);\n}\nexport function verify_bip340(signature, message, pubkey) {\n    const sig = serialize_bytes(signature);\n    const msg = serialize_bytes(message);\n    const pk = serialize_pubkey(pubkey, 'bip340');\n    return schnorr.verify(sig, msg, pk);\n}\nexport function verify_point(pubkey) {\n    try {\n        const pt = lift_point(pubkey);\n        pt.assertValidity();\n    }\n    catch (err) {\n        throw new Error('invalid secp256k1 point: ' + pubkey);\n    }\n}\nexport function lift_point(pubkey) {\n    try {\n        const pk = serialize_pubkey(pubkey, 'ecdsa');\n        return secp256k1.Point.fromHex(pk);\n    }\n    catch (err) {\n        throw new Error('invalid pubkey: ' + pubkey);\n    }\n}\nexport function serialize_pubkey(pubkey, format) {\n    try {\n        const pk = serialize_bytes(pubkey);\n        if (pk.length === 33 && format === 'bip340') {\n            return pk.slice(1);\n        }\n        else if (pk.length === 32 && format === 'ecdsa') {\n            const prefix = Buff.num(0x02, 1);\n            return Buff.join([prefix, pk]);\n        }\n        else {\n            return pk;\n        }\n    }\n    catch (err) {\n        throw new Error('invalid pubkey: ' + String(pubkey));\n    }\n}\nexport function get_pubkey_format(pubkey) {\n    const pk = serialize_bytes(pubkey);\n    if (pk.length === 33)\n        return 'ecdsa';\n    if (pk.length === 32)\n        return 'bip340';\n    throw new Error('invalid pubkey: ' + String(pubkey));\n}\nexport function serialize_bytes(bytes) {\n    try {\n        return Buff.bytes(bytes);\n    }\n    catch (err) {\n        throw new Error('invalid bytes: ' + String(bytes));\n    }\n}\n", "/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  abytes as abytes_,\n  bytesToHex as bytesToHex_,\n  concatBytes as concatBytes_,\n  hexToBytes as hexToBytes_,\n  isBytes as isBytes_,\n} from '@noble/hashes/utils.js';\nexport {\n  abytes,\n  anumber,\n  bytesToHex,\n  bytesToUtf8,\n  concatBytes,\n  hexToBytes,\n  isBytes,\n  randomBytes,\n  utf8ToBytes,\n} from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nexport function abool(title: string, value: boolean): void {\n  if (typeof value !== 'boolean') throw new Error(title + ' boolean expected, got ' + value);\n}\n\n// tmp name until v2\nexport function _abool2(value: boolean, title: string = ''): boolean {\n  if (typeof value !== 'boolean') {\n    const prefix = title && `\"${title}\"`;\n    throw new Error(prefix + 'expected boolean, got type=' + typeof value);\n  }\n  return value;\n}\n\n// tmp name until v2\n/** Asserts something is Uint8Array. */\nexport function _abytes2(value: Uint8Array, length?: number, title: string = ''): Uint8Array {\n  const bytes = isBytes_(value);\n  const len = value?.length;\n  const needsLen = length !== undefined;\n  if (!bytes || (needsLen && len !== length)) {\n    const prefix = title && `\"${title}\" `;\n    const ofLen = needsLen ? ` of length ${length}` : '';\n    const got = bytes ? `length=${len}` : `type=${typeof value}`;\n    throw new Error(prefix + 'expected Uint8Array' + ofLen + ', got ' + got);\n  }\n  return value;\n}\n\n// Used in weierstrass, der\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? '0' + hex : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  abytes_(bytes);\n  return hexToNumber(bytesToHex_(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes_(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'secret key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes_(hex);\n    } catch (e) {\n      throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n    }\n  } else if (isBytes_(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(title + ' must be hex string or Uint8Array');\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n  return res;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array): boolean {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n/**\n * Copies Uint8Array. We can't use u8a.slice(), because u8a can be Buffer,\n * and Buffer#slice creates mutable copy. Never use Buffers!\n */\nexport function copyBytes(bytes: Uint8Array): Uint8Array {\n  return Uint8Array.from(bytes);\n}\n\n/**\n * Decodes 7-bit ASCII string to Uint8Array, throws on non-ascii symbols\n * Should be safe to use for things expected to be ASCII.\n * Returns exact same result as utf8ToBytes for ASCII or throws.\n */\nexport function asciiToBytes(ascii: string): Uint8Array {\n  return Uint8Array.from(ascii, (c, i) => {\n    const charCode = c.charCodeAt(0);\n    if (c.length !== 1 || charCode > 127) {\n      throw new Error(\n        `string contains non-ASCII character \"${ascii[i]}\" with code ${charCode} at position ${i}`\n      );\n    }\n    return charCode;\n  });\n}\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\n// export const utf8ToBytes: typeof utf8ToBytes_ = utf8ToBytes_;\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\n// export const bytesToUtf8: typeof bytesToUtf8_ = bytesToUtf8_;\n\n// Is positive bigint\nconst isPosBig = (n: bigint) => typeof n === 'bigint' && _0n <= n;\n\nexport function inRange(n: bigint, min: bigint, max: bigint): boolean {\n  return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title: string, n: bigint, min: bigint, max: bigint): void {\n  // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n  // consider P=256n, min=0n, max=P\n  // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n  // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n  // - our way is the cleanest:               `inRange('x', x, 0n, P)\n  if (!inRange(n, min, max))\n    throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n: bigint): number {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number): bigint {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n: bigint, pos: number, value: boolean): bigint {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number): bigint => (_1n << BigInt(n)) - _1n;\n\n// DRBG\n\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  const u8n = (len: number) => new Uint8Array(len); // creates Uint8Array\n  const u8of = (byte: number) => Uint8Array.of(byte); // another shortcut\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n(0)) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8of(0x00), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8of(0x01), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes_(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any): boolean => typeof val === 'bigint',\n  function: (val: any): boolean => typeof val === 'function',\n  boolean: (val: any): boolean => typeof val === 'boolean',\n  string: (val: any): boolean => typeof val === 'string',\n  stringOrUint8Array: (val: any): boolean => typeof val === 'string' || isBytes_(val),\n  isSafeInteger: (val: any): boolean => Number.isSafeInteger(val),\n  array: (val: any): boolean => Array.isArray(val),\n  field: (val: any, object: any): any => (object as any).Fp.isValid(val),\n  hash: (val: any): boolean => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n): T {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error('invalid validator function');\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        'param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n\nexport function isHash(val: CHash): boolean {\n  return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n}\nexport function _validateObject(\n  object: Record<string, any>,\n  fields: Record<string, string>,\n  optFields: Record<string, string> = {}\n): void {\n  if (!object || typeof object !== 'object') throw new Error('expected valid options object');\n  type Item = keyof typeof object;\n  function checkField(fieldName: Item, expectedType: string, isOpt: boolean) {\n    const val = object[fieldName];\n    if (isOpt && val === undefined) return;\n    const current = typeof val;\n    if (current !== expectedType || val === null)\n      throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n  }\n  Object.entries(fields).forEach(([k, v]) => checkField(k, v, false));\n  Object.entries(optFields).forEach(([k, v]) => checkField(k, v, true));\n}\n\n/**\n * throws not implemented error\n */\nexport const notImplemented = (): never => {\n  throw new Error('not implemented');\n};\n\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized<T extends object, R, O extends any[]>(\n  fn: (arg: T, ...args: O) => R\n): (arg: T, ...args: O) => R {\n  const map = new WeakMap<T, R>();\n  return (arg: T, ...args: O): R => {\n    const val = map.get(arg);\n    if (val !== undefined) return val;\n    const computed = fn(arg, ...args);\n    map.set(arg, computed);\n    return computed;\n  };\n}\n", "/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport {\n  _validateObject,\n  anumber,\n  bitMask,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  numberToBytesBE,\n  numberToBytesLE,\n} from '../utils.ts';\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _7n = /* @__PURE__ */ BigInt(7);\n// prettier-ignore\nconst _8n = /* @__PURE__ */ BigInt(8), _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  return FpPow(Field(modulo), num, power);\n}\n\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n) throw new Error('invert: expected non-zero number');\n  if (modulo <= _0n) throw new Error('invert: expected positive modulus, got ' + modulo);\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\nfunction assertIsSquare<T>(Fp: IField<T>, root: T, n: T): void {\n  if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n}\n\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4<T>(Fp: IField<T>, n: T) {\n  const p1div4 = (Fp.ORDER + _1n) / _4n;\n  const root = Fp.pow(n, p1div4);\n  assertIsSquare(Fp, root, n);\n  return root;\n}\n\nfunction sqrt5mod8<T>(Fp: IField<T>, n: T) {\n  const p5div8 = (Fp.ORDER - _5n) / _8n;\n  const n2 = Fp.mul(n, _2n);\n  const v = Fp.pow(n2, p5div8);\n  const nv = Fp.mul(n, v);\n  const i = Fp.mul(Fp.mul(nv, _2n), v);\n  const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n  assertIsSquare(Fp, root, n);\n  return root;\n}\n\n// Based on RFC9380, Kong algorithm\n// prettier-ignore\nfunction sqrt9mod16(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  const Fp_ = Field(P);\n  const tn = tonelliShanks(P);\n  const c1 = tn(Fp_, Fp_.neg(Fp_.ONE));//  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n  const c2 = tn(Fp_, c1);              //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n  const c3 = tn(Fp_, Fp_.neg(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n  const c4 = (P + _7n) / _16n;         //  4. c4 = (q + 7) / 16        # Integer arithmetic\n  return <T>(Fp: IField<T>, n: T) => {\n    let tv1 = Fp.pow(n, c4);           //  1. tv1 = x^c4\n    let tv2 = Fp.mul(tv1, c1);         //  2. tv2 = c1 * tv1\n    const tv3 = Fp.mul(tv1, c2);       //  3. tv3 = c2 * tv1\n    const tv4 = Fp.mul(tv1, c3);       //  4. tv4 = c3 * tv1\n    const e1 = Fp.eql(Fp.sqr(tv2), n); //  5.  e1 = (tv2^2) == x\n    const e2 = Fp.eql(Fp.sqr(tv3), n); //  6.  e2 = (tv3^2) == x\n    tv1 = Fp.cmov(tv1, tv2, e1);       //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n    tv2 = Fp.cmov(tv4, tv3, e2);       //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n    const e3 = Fp.eql(Fp.sqr(tv2), n); //  9.  e3 = (tv2^2) == x\n    const root = Fp.cmov(tv1, tv2, e3);// 10.  z = CMOV(tv1, tv2, e3)   # Select sqrt from tv1 & tv2\n    assertIsSquare(Fp, root, n);\n    return root;\n  };\n}\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // Initialization (precomputation).\n  // Caching initialization could boost perf by 7%.\n  if (P < _3n) throw new Error('sqrt is not defined for small field');\n  // Factor P - 1 = Q * 2^S, where Q is odd\n  let Q = P - _1n;\n  let S = 0;\n  while (Q % _2n === _0n) {\n    Q /= _2n;\n    S++;\n  }\n\n  // Find the first quadratic non-residue Z >= 2\n  let Z = _2n;\n  const _Fp = Field(P);\n  while (FpLegendre(_Fp, Z) === 1) {\n    // Basic primality test for P. After x iterations, chance of\n    // not finding quadratic non-residue is 2^x, so 2^1000.\n    if (Z++ > 1000) throw new Error('Cannot find square root: probably non-prime P');\n  }\n  // Fast-path; usually done before Z, but we do \"primality test\".\n  if (S === 1) return sqrt3mod4;\n\n  // Slow-path\n  // TODO: test on Fp2 and others\n  let cc = _Fp.pow(Z, Q); // c = z^Q\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    if (Fp.is0(n)) return n;\n    // Check if n is a quadratic residue using Legendre symbol\n    if (FpLegendre(Fp, n) !== 1) throw new Error('Cannot find square root');\n\n    // Initialize variables for the main loop\n    let M = S;\n    let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n    let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n    let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n\n    // Main loop\n    // while t != 1\n    while (!Fp.eql(t, Fp.ONE)) {\n      if (Fp.is0(t)) return Fp.ZERO; // if t=0 return R=0\n      let i = 1;\n\n      // Find the smallest i >= 1 such that t^(2^i) \u2261 1 (mod P)\n      let t_tmp = Fp.sqr(t); // t^(2^1)\n      while (!Fp.eql(t_tmp, Fp.ONE)) {\n        i++;\n        t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n        if (i === M) throw new Error('Cannot find square root');\n      }\n\n      // Calculate the exponent for b: 2^(M - i - 1)\n      const exponent = _1n << BigInt(M - i - 1); // bigint is important\n      const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n\n      // Update variables\n      M = i;\n      c = Fp.sqr(b); // c = b^2\n      t = Fp.mul(t, c); // t = (t * b^2)\n      R = Fp.mul(R, b); // R = R*b\n    }\n    return R;\n  };\n}\n\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P \u2261 3 (mod 4)\n * 2. P \u2261 5 (mod 8)\n * 3. P \u2261 9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P: bigint): <T>(Fp: IField<T>, n: T) => T {\n  // P \u2261 3 (mod 4) => \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) return sqrt3mod4;\n  // P \u2261 5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n  if (P % _8n === _5n) return sqrt5mod8;\n  // P \u2261 9 (mod 16) => Kong algorithm, page 11 of https://eprint.iacr.org/2012/685.pdf (algorithm 4)\n  if (P % _16n === _9n) return sqrt9mod16(P);\n  // Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint): boolean =>\n  (mod(num, modulo) & _1n) === _1n;\n\n/** Field is not always over prime: for example, Fp2 has ORDER(q)=p^m. */\nexport interface IField<T> {\n  ORDER: bigint;\n  isLE: boolean;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  isValidNot0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  allowedLengths?: number[];\n  // legendre?(num: T): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array, skipValidation?: boolean): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>): IField<T> {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'number',\n    BITS: 'number',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  _validateObject(field, opts);\n  // const max = 16384;\n  // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n  // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n  return field;\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(Fp: IField<T>, num: T, power: bigint): T {\n  if (power < _0n) throw new Error('invalid exponent, negatives unsupported');\n  if (power === _0n) return Fp.ONE;\n  if (power === _1n) return num;\n  let p = Fp.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = Fp.mul(p, d);\n    d = Fp.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch<T>(Fp: IField<T>, nums: T[], passZero = false): T[] {\n  const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n  // Walk from first to last, multiply them by each other MOD p\n  const multipliedAcc = nums.reduce((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = acc;\n    return Fp.mul(acc, num);\n  }, Fp.ONE);\n  // Invert last element\n  const invertedAcc = Fp.inv(multipliedAcc);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (Fp.is0(num)) return acc;\n    inverted[i] = Fp.mul(acc, inverted[i]);\n    return Fp.mul(acc, num);\n  }, invertedAcc);\n  return inverted;\n}\n\n// TODO: remove\nexport function FpDiv<T>(Fp: IField<T>, lhs: T, rhs: T | bigint): T {\n  return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p) \u2261 1    if a is a square (mod p), quadratic residue\n * * (a | p) \u2261 -1   if a is not a square (mod p), quadratic non residue\n * * (a | p) \u2261 0    if a \u2261 0 (mod p)\n */\nexport function FpLegendre<T>(Fp: IField<T>, n: T): -1 | 0 | 1 {\n  // We can use 3rd argument as optional cache of this value\n  // but seems unneeded for now. The operation is very fast.\n  const p1mod2 = (Fp.ORDER - _1n) / _2n;\n  const powered = Fp.pow(n, p1mod2);\n  const yes = Fp.eql(powered, Fp.ONE);\n  const zero = Fp.eql(powered, Fp.ZERO);\n  const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n  if (!yes && !zero && !no) throw new Error('invalid Legendre symbol result');\n  return yes ? 1 : zero ? 0 : -1;\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(Fp: IField<T>, n: T): boolean {\n  const l = FpLegendre(Fp, n);\n  return l === 1;\n}\n\nexport type NLength = { nByteLength: number; nBitLength: number };\n// CURVE.n lengths\nexport function nLength(n: bigint, nBitLength?: number): NLength {\n  // Bit size, byte size of CURVE.n\n  if (nBitLength !== undefined) anumber(nBitLength);\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\ntype SqrtFn = (n: bigint) => bigint;\ntype FieldOpts = Partial<{\n  sqrt: SqrtFn;\n  isLE: boolean;\n  BITS: number;\n  modFromBytes: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  allowedLengths?: readonly number[]; // for P521 (adds padding for smaller sizes)\n}>;\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLenOrOpts?: number | FieldOpts, // TODO: use opts only in v2?\n  isLE = false,\n  opts: { sqrt?: SqrtFn } = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n  let _nbitLength: number | undefined = undefined;\n  let _sqrt: SqrtFn | undefined = undefined;\n  let modFromBytes: boolean = false;\n  let allowedLengths: undefined | readonly number[] = undefined;\n  if (typeof bitLenOrOpts === 'object' && bitLenOrOpts != null) {\n    if (opts.sqrt || isLE) throw new Error('cannot specify opts in two arguments');\n    const _opts = bitLenOrOpts;\n    if (_opts.BITS) _nbitLength = _opts.BITS;\n    if (_opts.sqrt) _sqrt = _opts.sqrt;\n    if (typeof _opts.isLE === 'boolean') isLE = _opts.isLE;\n    if (typeof _opts.modFromBytes === 'boolean') modFromBytes = _opts.modFromBytes;\n    allowedLengths = _opts.allowedLengths;\n  } else {\n    if (typeof bitLenOrOpts === 'number') _nbitLength = bitLenOrOpts;\n    if (opts.sqrt) _sqrt = opts.sqrt;\n  }\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, _nbitLength);\n  if (BYTES > 2048) throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n  let sqrtP: ReturnType<typeof FpSqrt>; // cached sqrtP\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    isLE,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    allowedLengths: allowedLengths,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error('invalid field element: expected bigint, got ' + typeof num);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    // is valid and invertible\n    isValidNot0: (num: bigint) => !f.is0(num) && f.isValid(num),\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt:\n      _sqrt ||\n      ((n) => {\n        if (!sqrtP) sqrtP = FpSqrt(ORDER);\n        return sqrtP(f, n);\n      }),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes, skipValidation = true) => {\n      if (allowedLengths) {\n        if (!allowedLengths.includes(bytes.length) || bytes.length > BYTES) {\n          throw new Error(\n            'Field.fromBytes: expected ' + allowedLengths + ' bytes, got ' + bytes.length\n          );\n        }\n        const padded = new Uint8Array(BYTES);\n        // isLE add 0 to right, !isLE to the left.\n        padded.set(bytes, isLE ? 0 : padded.length - bytes.length);\n        bytes = padded;\n      }\n      if (bytes.length !== BYTES)\n        throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n      let scalar = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n      if (modFromBytes) scalar = mod(scalar, ORDER);\n      if (!skipValidation)\n        if (!f.isValid(scalar)) throw new Error('invalid field element: outside of range 0..ORDER');\n      // NOTE: we don't validate scalar here, please use isValid. This done such way because some\n      // protocol may allow non-reduced scalar that reduced later or changed some other way.\n      return scalar;\n    },\n    // TODO: we don't need it here, move out to separate fn\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // We can't move this out because Fp6, Fp12 implement it\n    // and it's unclear what to return in there.\n    cmov: (a, b, c) => (c ? b : a),\n  } as FpField);\n  return Object.freeze(f);\n}\n\n// Generic random scalar, we can do same for other fields if via Fp2.mul(Fp2.ONE, Fp2.random)?\n// This allows unsafe methods like ignore bias or zero. These unsafe, but often used in different protocols (if deterministic RNG).\n// which mean we cannot force this via opts.\n// Not sure what to do with randomBytes, we can accept it inside opts if wanted.\n// Probably need to export getMinHashLength somewhere?\n// random(bytes?: Uint8Array, unsafeAllowZero = false, unsafeAllowBias = false) {\n//   const LEN = !unsafeAllowBias ? getMinHashLength(ORDER) : BYTES;\n//   if (bytes === undefined) bytes = randomBytes(LEN); // _opts.randomBytes?\n//   const num = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n//   // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n//   const reduced = unsafeAllowZero ? mod(num, ORDER) : mod(num, ORDER - _1n) + _1n;\n//   return reduced;\n// },\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T): T {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(\n      'hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen\n    );\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n  const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask, validateObject } from '../utils.ts';\nimport { Field, FpInvertBatch, nLength, validateField, type IField } from './modular.ts';\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { Z?: never };\n\n// This was initialy do this way to re-use montgomery ladder in field (add->mul,double->sqr), but\n// that didn't happen and there is probably not much reason to have separate Group like this?\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n  toAffine?(invertedZ?: any): AffinePoint<any>;\n}\n\n// We can't \"abstract out\" coordinates (X, Y, Z; and T in Edwards): argument names of constructor\n// are not accessible. See Typescript gh-56093, gh-41594.\n//\n// We have to use recursive types, so it will return actual point, not constained `CurvePoint`.\n// If, at any point, P is `any`, it will erase all types and replace it\n// with `any`, because of recursion, `any implements CurvePoint`,\n// but we lose all constrains on methods.\n\n/** Base interface for all elliptic curve Points. */\nexport interface CurvePoint<F, P extends CurvePoint<F, P>> extends Group<P> {\n  /** Affine x coordinate. Different from projective / extended X coordinate. */\n  x: F;\n  /** Affine y coordinate. Different from projective / extended Y coordinate. */\n  y: F;\n  Z?: F;\n  double(): P;\n  negate(): P;\n  add(other: P): P;\n  subtract(other: P): P;\n  equals(other: P): boolean;\n  multiply(scalar: bigint): P;\n  assertValidity(): void;\n  clearCofactor(): P;\n  is0(): boolean;\n  isTorsionFree(): boolean;\n  isSmallOrder(): boolean;\n  multiplyUnsafe(scalar: bigint): P;\n  /**\n   * Massively speeds up `p.multiply(n)` by using precompute tables (caching). See {@link wNAF}.\n   * @param isLazy calculate cache now. Default (true) ensures it's deferred to first `multiply()`\n   */\n  precompute(windowSize?: number, isLazy?: boolean): P;\n  /** Converts point to 2D xy affine coordinates */\n  toAffine(invertedZ?: F): AffinePoint<F>;\n  toBytes(): Uint8Array;\n  toHex(): string;\n}\n\n/** Base interface for all elliptic curve Point constructors. */\nexport interface CurvePointCons<P extends CurvePoint<any, P>> {\n  [Symbol.hasInstance]: (item: unknown) => boolean;\n  BASE: P;\n  ZERO: P;\n  /** Field for basic curve math */\n  Fp: IField<P_F<P>>;\n  /** Scalar field, for scalars in multiply and others */\n  Fn: IField<bigint>;\n  /** Creates point from x, y. Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  fromAffine(p: AffinePoint<P_F<P>>): P;\n  fromBytes(bytes: Uint8Array): P;\n  fromHex(hex: Uint8Array | string): P;\n}\n\n// Type inference helpers: PC - PointConstructor, P - Point, Fp - Field element\n// Short names, because we use them a lot in result types:\n// * we can't do 'P = GetCurvePoint<PC>': this is default value and doesn't constrain anything\n// * we can't do 'type X = GetCurvePoint<PC>': it won't be accesible for arguments/return types\n// * `CurvePointCons<P extends CurvePoint<any, P>>` constraints from interface definition\n//   won't propagate, if `PC extends CurvePointCons<any>`: the P would be 'any', which is incorrect\n// * PC could be super specific with super specific P, which implements CurvePoint<any, P>.\n//   this means we need to do stuff like\n//   `function test<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(`\n//   if we want type safety around P, otherwise PC_P<PC> will be any\n\n/** Returns Fp type from Point (P_F<P> == P.F) */\nexport type P_F<P extends CurvePoint<any, P>> = P extends CurvePoint<infer F, P> ? F : never;\n/** Returns Fp type from PointCons (PC_F<PC> == PC.P.F) */\nexport type PC_F<PC extends CurvePointCons<CurvePoint<any, any>>> = PC['Fp']['ZERO'];\n/** Returns Point type from PointCons (PC_P<PC> == PC.P) */\nexport type PC_P<PC extends CurvePointCons<CurvePoint<any, any>>> = PC['ZERO'];\n\n// Ugly hack to get proper type inference, because in typescript fails to infer resursively.\n// The hack allows to do up to 10 chained operations without applying type erasure.\n//\n// Types which won't work:\n// * `CurvePointCons<CurvePoint<any, any>>`, will return `any` after 1 operation\n// * `CurvePointCons<any>: WeierstrassPointCons<bigint> extends CurvePointCons<any> = false`\n// * `P extends CurvePoint, PC extends CurvePointCons<P>`\n//     * It can't infer P from PC alone\n//     * Too many relations between F, P & PC\n//     * It will infer P/F if `arg: CurvePointCons<F, P>`, but will fail if PC is generic\n//     * It will work correctly if there is an additional argument of type P\n//     * But generally, we don't want to parametrize `CurvePointCons` over `F`: it will complicate\n//       types, making them un-inferable\n// prettier-ignore\nexport type PC_ANY = CurvePointCons<\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any,\n  CurvePoint<any, any>\n  >>>>>>>>>\n>;\n\nexport interface CurveLengths {\n  secretKey?: number;\n  publicKey?: number;\n  publicKeyUncompressed?: number;\n  publicKeyHasPrefix?: boolean;\n  signature?: number;\n  seed?: number;\n}\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\n/** @deprecated */\nexport type ExtendedGroupConstructor<T> = GroupConstructor<T> & {\n  Fp: IField<any>;\n  Fn: IField<bigint>;\n  fromAffine(ap: AffinePoint<any>): T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\nexport function negateCt<T extends { negate: () => T }>(condition: boolean, item: T): T {\n  const neg = item.negate();\n  return condition ? neg : item;\n}\n\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  c: PC,\n  points: P[]\n): P[] {\n  const invertedZs = FpInvertBatch(\n    c.Fp,\n    points.map((p) => p.Z!)\n  );\n  return points.map((p, i) => c.fromAffine(p.toAffine(invertedZs[i])));\n}\n\nfunction validateW(W: number, bits: number) {\n  if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n    throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\n\n/** Internal wNAF opts for specific W and scalarBits */\nexport type WOpts = {\n  windows: number;\n  windowSize: number;\n  mask: bigint;\n  maxNumber: number;\n  shiftBy: bigint;\n};\n\nfunction calcWOpts(W: number, scalarBits: number): WOpts {\n  validateW(W, scalarBits);\n  const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n  const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n  const maxNumber = 2 ** W; // W=8 256\n  const mask = bitMask(W); // W=8 255 == mask 0b11111111\n  const shiftBy = BigInt(W); // W=8 8\n  return { windows, windowSize, mask, maxNumber, shiftBy };\n}\n\nfunction calcOffsets(n: bigint, window: number, wOpts: WOpts) {\n  const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n  let wbits = Number(n & mask); // extract W bits.\n  let nextN = n >> shiftBy; // shift number by W bits.\n\n  // What actually happens here:\n  // const highestBit = Number(mask ^ (mask >> 1n));\n  // let wbits2 = wbits - 1; // skip zero\n  // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n\n  // split if bits > max: +224 => 256-32\n  if (wbits > windowSize) {\n    // we skip zero, which means instead of `>= size-1`, we do `> size`\n    wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n    nextN += _1n; // +256 (carry)\n  }\n  const offsetStart = window * windowSize;\n  const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n  const isZero = wbits === 0; // is current window slice a 0?\n  const isNeg = wbits < 0; // is current window slice negative?\n  const isNegF = window % 2 !== 0; // fake random statement for noise\n  const offsetF = offsetStart; // fake offset for noise\n  return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\n\nfunction validateMSMPoints(points: any[], c: any) {\n  if (!Array.isArray(points)) throw new Error('array expected');\n  points.forEach((p, i) => {\n    if (!(p instanceof c)) throw new Error('invalid point at index ' + i);\n  });\n}\nfunction validateMSMScalars(scalars: any[], field: any) {\n  if (!Array.isArray(scalars)) throw new Error('array of scalars expected');\n  scalars.forEach((s, i) => {\n    if (!field.isValid(s)) throw new Error('invalid scalar at index ' + i);\n  });\n}\n\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap<any, any[]>();\nconst pointWindowSizes = new WeakMap<any, number>();\n\nfunction getW(P: any): number {\n  // To disable precomputes:\n  // return 1;\n  return pointWindowSizes.get(P) || 1;\n}\n\nfunction assert0(n: bigint): void {\n  if (n !== _0n) throw new Error('invalid wNAF');\n}\n\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Table generation takes **30MB of ram and 10ms on high-end CPU**,\n * but may take much longer on slow devices. Actual generation will happen on\n * first call of `multiply()`. By default, `BASE` point is precomputed.\n *\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport class wNAF<PC extends PC_ANY> {\n  private readonly BASE: PC_P<PC>;\n  private readonly ZERO: PC_P<PC>;\n  private readonly Fn: PC['Fn'];\n  readonly bits: number;\n\n  // Parametrized with a given Point class (not individual point)\n  constructor(Point: PC, bits: number) {\n    this.BASE = Point.BASE;\n    this.ZERO = Point.ZERO;\n    this.Fn = Point.Fn;\n    this.bits = bits;\n  }\n\n  // non-const time multiplication ladder\n  _unsafeLadder(elm: PC_P<PC>, n: bigint, p: PC_P<PC> = this.ZERO): PC_P<PC> {\n    let d: PC_P<PC> = elm;\n    while (n > _0n) {\n      if (n & _1n) p = p.add(d);\n      d = d.double();\n      n >>= _1n;\n    }\n    return p;\n  }\n\n  /**\n   * Creates a wNAF precomputation window. Used for caching.\n   * Default window size is set by `utils.precompute()` and is equal to 8.\n   * Number of precomputed points depends on the curve size:\n   * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n   * - \uD835\uDC4A is the window size\n   * - \uD835\uDC5B is the bitlength of the curve order.\n   * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n   * @param point Point instance\n   * @param W window size\n   * @returns precomputed point tables flattened to a single array\n   */\n  private precomputeWindow(point: PC_P<PC>, W: number): PC_P<PC>[] {\n    const { windows, windowSize } = calcWOpts(W, this.bits);\n    const points: PC_P<PC>[] = [];\n    let p: PC_P<PC> = point;\n    let base = p;\n    for (let window = 0; window < windows; window++) {\n      base = p;\n      points.push(base);\n      // i=1, bc we skip 0\n      for (let i = 1; i < windowSize; i++) {\n        base = base.add(p);\n        points.push(base);\n      }\n      p = base.double();\n    }\n    return points;\n  }\n\n  /**\n   * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n   * More compact implementation:\n   * https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n   * @returns real and fake (for const-time) points\n   */\n  private wNAF(W: number, precomputes: PC_P<PC>[], n: bigint): { p: PC_P<PC>; f: PC_P<PC> } {\n    // Scalar should be smaller than field order\n    if (!this.Fn.isValid(n)) throw new Error('invalid scalar');\n    // Accumulators\n    let p = this.ZERO;\n    let f = this.BASE;\n    // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n    // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n    // there is negate now: it is possible that negated element from low value\n    // would be the same as high element, which will create carry into next window.\n    // It's not obvious how this can fail, but still worth investigating later.\n    const wo = calcWOpts(W, this.bits);\n    for (let window = 0; window < wo.windows; window++) {\n      // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n      const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n      n = nextN;\n      if (isZero) {\n        // bits are 0: add garbage to fake point\n        // Important part for const-time getPublicKey: add random \"noise\" point to f.\n        f = f.add(negateCt(isNegF, precomputes[offsetF]));\n      } else {\n        // bits are 1: add to result point\n        p = p.add(negateCt(isNeg, precomputes[offset]));\n      }\n    }\n    assert0(n);\n    // Return both real and fake points: JIT won't eliminate f.\n    // At this point there is a way to F be infinity-point even if p is not,\n    // which makes it less const-time: around 1 bigint multiply.\n    return { p, f };\n  }\n\n  /**\n   * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n   * @param acc accumulator point to add result of multiplication\n   * @returns point\n   */\n  private wNAFUnsafe(\n    W: number,\n    precomputes: PC_P<PC>[],\n    n: bigint,\n    acc: PC_P<PC> = this.ZERO\n  ): PC_P<PC> {\n    const wo = calcWOpts(W, this.bits);\n    for (let window = 0; window < wo.windows; window++) {\n      if (n === _0n) break; // Early-exit, skip 0 value\n      const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n      n = nextN;\n      if (isZero) {\n        // Window bits are 0: skip processing.\n        // Move to next window.\n        continue;\n      } else {\n        const item = precomputes[offset];\n        acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n      }\n    }\n    assert0(n);\n    return acc;\n  }\n\n  private getPrecomputes(W: number, point: PC_P<PC>, transform?: Mapper<PC_P<PC>>): PC_P<PC>[] {\n    // Calculate precomputes on a first run, reuse them after\n    let comp = pointPrecomputes.get(point);\n    if (!comp) {\n      comp = this.precomputeWindow(point, W) as PC_P<PC>[];\n      if (W !== 1) {\n        // Doing transform outside of if brings 15% perf hit\n        if (typeof transform === 'function') comp = transform(comp);\n        pointPrecomputes.set(point, comp);\n      }\n    }\n    return comp;\n  }\n\n  cached(\n    point: PC_P<PC>,\n    scalar: bigint,\n    transform?: Mapper<PC_P<PC>>\n  ): { p: PC_P<PC>; f: PC_P<PC> } {\n    const W = getW(point);\n    return this.wNAF(W, this.getPrecomputes(W, point, transform), scalar);\n  }\n\n  unsafe(point: PC_P<PC>, scalar: bigint, transform?: Mapper<PC_P<PC>>, prev?: PC_P<PC>): PC_P<PC> {\n    const W = getW(point);\n    if (W === 1) return this._unsafeLadder(point, scalar, prev); // For W=1 ladder is ~x2 faster\n    return this.wNAFUnsafe(W, this.getPrecomputes(W, point, transform), scalar, prev);\n  }\n\n  // We calculate precomputes for elliptic curve point multiplication\n  // using windowed method. This specifies window size and\n  // stores precomputed values. Usually only base point would be precomputed.\n  createCache(P: PC_P<PC>, W: number): void {\n    validateW(W, this.bits);\n    pointWindowSizes.set(P, W);\n    pointPrecomputes.delete(P);\n  }\n\n  hasCache(elm: PC_P<PC>): boolean {\n    return getW(elm) !== 1;\n  }\n}\n\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  Point: PC,\n  point: P,\n  k1: bigint,\n  k2: bigint\n): { p1: P; p2: P } {\n  let acc = point;\n  let p1 = Point.ZERO;\n  let p2 = Point.ZERO;\n  while (k1 > _0n || k2 > _0n) {\n    if (k1 & _1n) p1 = p1.add(acc);\n    if (k2 & _1n) p2 = p2.add(acc);\n    acc = acc.double();\n    k1 >>= _1n;\n    k2 >>= _1n;\n  }\n  return { p1, p2 };\n}\n\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka secret keys / bigints)\n */\nexport function pippenger<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  c: PC,\n  fieldN: IField<bigint>,\n  points: P[],\n  scalars: bigint[]\n): P {\n  // If we split scalars by some window (let's say 8 bits), every chunk will only\n  // take 256 buckets even if there are 4096 scalars, also re-uses double.\n  // TODO:\n  // - https://eprint.iacr.org/2024/750.pdf\n  // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n  // 0 is accepted in scalars\n  validateMSMPoints(points, c);\n  validateMSMScalars(scalars, fieldN);\n  const plength = points.length;\n  const slength = scalars.length;\n  if (plength !== slength) throw new Error('arrays of points and scalars must have equal length');\n  // if (plength === 0) throw new Error('array must be of length >= 2');\n  const zero = c.ZERO;\n  const wbits = bitLen(BigInt(plength));\n  let windowSize = 1; // bits\n  if (wbits > 12) windowSize = wbits - 3;\n  else if (wbits > 4) windowSize = wbits - 2;\n  else if (wbits > 0) windowSize = 2;\n  const MASK = bitMask(windowSize);\n  const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n  const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n  let sum = zero;\n  for (let i = lastBits; i >= 0; i -= windowSize) {\n    buckets.fill(zero);\n    for (let j = 0; j < slength; j++) {\n      const scalar = scalars[j];\n      const wbits = Number((scalar >> BigInt(i)) & MASK);\n      buckets[wbits] = buckets[wbits].add(points[j]);\n    }\n    let resI = zero; // not using this will do small speed-up, but will lose ct\n    // Skip first bucket, because it is zero\n    for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n      sumI = sumI.add(buckets[j]);\n      resI = resI.add(sumI);\n    }\n    sum = sum.add(resI);\n    if (i !== 0) for (let j = 0; j < windowSize; j++) sum = sum.double();\n  }\n  return sum as P;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe<P extends CurvePoint<any, P>, PC extends CurvePointCons<P>>(\n  c: PC,\n  fieldN: IField<bigint>,\n  points: P[],\n  windowSize: number\n): (scalars: bigint[]) => P {\n  /**\n   * Performance Analysis of Window-based Precomputation\n   *\n   * Base Case (256-bit scalar, 8-bit window):\n   * - Standard precomputation requires:\n   *   - 31 additions per scalar \u00D7 256 scalars = 7,936 ops\n   *   - Plus 255 summary additions = 8,191 total ops\n   *   Note: Summary additions can be optimized via accumulator\n   *\n   * Chunked Precomputation Analysis:\n   * - Using 32 chunks requires:\n   *   - 255 additions per chunk\n   *   - 256 doublings\n   *   - Total: (255 \u00D7 32) + 256 = 8,416 ops\n   *\n   * Memory Usage Comparison:\n   * Window Size | Standard Points | Chunked Points\n   * ------------|-----------------|---------------\n   *     4-bit   |     520         |      15\n   *     8-bit   |    4,224        |     255\n   *    10-bit   |   13,824        |   1,023\n   *    16-bit   |  557,056        |  65,535\n   *\n   * Key Advantages:\n   * 1. Enables larger window sizes due to reduced memory overhead\n   * 2. More efficient for smaller scalar counts:\n   *    - 16 chunks: (16 \u00D7 255) + 256 = 4,336 ops\n   *    - ~2x faster than standard 8,191 ops\n   *\n   * Limitations:\n   * - Not suitable for plain precomputes (requires 256 constant doublings)\n   * - Performance degrades with larger scalar counts:\n   *   - Optimal for ~256 scalars\n   *   - Less efficient for 4096+ scalars (Pippenger preferred)\n   */\n  validateW(windowSize, fieldN.BITS);\n  validateMSMPoints(points, c);\n  const zero = c.ZERO;\n  const tableSize = 2 ** windowSize - 1; // table size (without zero)\n  const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n  const MASK = bitMask(windowSize);\n  const tables = points.map((p: P) => {\n    const res = [];\n    for (let i = 0, acc = p; i < tableSize; i++) {\n      res.push(acc);\n      acc = acc.add(p);\n    }\n    return res;\n  });\n  return (scalars: bigint[]): P => {\n    validateMSMScalars(scalars, fieldN);\n    if (scalars.length > points.length)\n      throw new Error('array of scalars must be smaller than array of points');\n    let res = zero;\n    for (let i = 0; i < chunks; i++) {\n      // No need to double if accumulator is still zero.\n      if (res !== zero) for (let j = 0; j < windowSize; j++) res = res.double();\n      const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n      for (let j = 0; j < scalars.length; j++) {\n        const n = scalars[j];\n        const curr = Number((n >> shiftBy) & MASK);\n        if (!curr) continue; // skip zero scalars chunks\n        res = res.add(tables[j][curr - 1]);\n      }\n    }\n    return res;\n  };\n}\n\n// TODO: remove\n/**\n * Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n * Though generator can be different (Fp2 / Fp6 for BLS).\n */\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\n// TODO: remove\n/** @deprecated */\nexport function validateBasic<FP, T>(\n  curve: BasicCurve<FP> & T\n): Readonly<\n  {\n    readonly nBitLength: number;\n    readonly nByteLength: number;\n  } & BasicCurve<FP> &\n    T & {\n      p: bigint;\n    }\n> {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n\nexport type ValidCurveParams<T> = {\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: T;\n  b?: T;\n  d?: T;\n  Gx: T;\n  Gy: T;\n};\n\nfunction createField<T>(order: bigint, field?: IField<T>, isLE?: boolean): IField<T> {\n  if (field) {\n    if (field.ORDER !== order) throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n    validateField(field);\n    return field;\n  } else {\n    return Field(order, { isLE }) as unknown as IField<T>;\n  }\n}\nexport type FpFn<T> = { Fp: IField<T>; Fn: IField<bigint> };\n\n/** Validates CURVE opts and creates fields */\nexport function _createCurveFields<T>(\n  type: 'weierstrass' | 'edwards',\n  CURVE: ValidCurveParams<T>,\n  curveOpts: Partial<FpFn<T>> = {},\n  FpFnLE?: boolean\n): FpFn<T> & { CURVE: ValidCurveParams<T> } {\n  if (FpFnLE === undefined) FpFnLE = type === 'edwards';\n  if (!CURVE || typeof CURVE !== 'object') throw new Error(`expected valid ${type} CURVE object`);\n  for (const p of ['p', 'n', 'h'] as const) {\n    const val = CURVE[p];\n    if (!(typeof val === 'bigint' && val > _0n))\n      throw new Error(`CURVE.${p} must be positive bigint`);\n  }\n  const Fp = createField(CURVE.p, curveOpts.Fp, FpFnLE);\n  const Fn = createField(CURVE.n, curveOpts.Fn, FpFnLE);\n  const _b: 'b' | 'd' = type === 'weierstrass' ? 'b' : 'd';\n  const params = ['Gx', 'Gy', 'a', _b] as const;\n  for (const p of params) {\n    // @ts-ignore\n    if (!Fp.isValid(CURVE[p]))\n      throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n  }\n  CURVE = Object.freeze(Object.assign({}, CURVE));\n  return { CURVE, Fp, Fn };\n}\n", "/**\n * Short Weierstrass curve methods. The formula is: y\u00B2 = x\u00B3 + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac as nobleHmac } from '@noble/hashes/hmac.js';\nimport { ahash } from '@noble/hashes/utils';\nimport {\n  _validateObject,\n  _abool2 as abool,\n  _abytes2 as abytes,\n  aInRange,\n  bitLen,\n  bitMask,\n  bytesToHex,\n  bytesToNumberBE,\n  concatBytes,\n  createHmacDrbg,\n  ensureBytes,\n  hexToBytes,\n  inRange,\n  isBytes,\n  memoized,\n  numberToHexUnpadded,\n  randomBytes as randomBytesWeb,\n  type CHash,\n  type Hex,\n  type PrivKey,\n} from '../utils.ts';\nimport {\n  _createCurveFields,\n  mulEndoUnsafe,\n  negateCt,\n  normalizeZ,\n  pippenger,\n  wNAF,\n  type AffinePoint,\n  type BasicCurve,\n  type CurveLengths,\n  type CurvePoint,\n  type CurvePointCons,\n} from './curve.ts';\nimport {\n  Field,\n  FpInvertBatch,\n  getMinHashLength,\n  mapHashToField,\n  nLength,\n  validateField,\n  type IField,\n  type NLength,\n} from './modular.ts';\n\nexport type { AffinePoint };\nexport type HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\n\ntype EndoBasis = [[bigint, bigint], [bigint, bigint]];\n/**\n * When Weierstrass curve has `a=0`, it becomes Koblitz curve.\n * Koblitz curves allow using **efficiently-computable GLV endomorphism \u03C8**.\n * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n *\n * Endomorphism consists of beta, lambda and splitScalar:\n *\n * 1. GLV endomorphism \u03C8 transforms a point: `P = (x, y) \u21A6 \u03C8(P) = (\u03B2\u00B7x mod p, y)`\n * 2. GLV scalar decomposition transforms a scalar: `k \u2261 k\u2081 + k\u2082\u00B7\u03BB (mod n)`\n * 3. Then these are combined: `k\u00B7P = k\u2081\u00B7P + k\u2082\u00B7\u03C8(P)`\n * 4. Two 128-bit point-by-scalar multiplications + one point addition is faster than\n *    one 256-bit multiplication.\n *\n * where\n * * beta: \u03B2 \u2208 F\u209A with \u03B2\u00B3 = 1, \u03B2 \u2260 1\n * * lambda: \u03BB \u2208 F\u2099 with \u03BB\u00B3 = 1, \u03BB \u2260 1\n * * splitScalar decomposes k \u21A6 k\u2081, k\u2082, by using reduced basis vectors.\n *   Gauss lattice reduction calculates them from initial basis vectors `(n, 0), (-\u03BB, 0)`\n *\n * Check out `test/misc/endomorphism.js` and\n * [gist](https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066).\n */\nexport type EndomorphismOpts = {\n  beta: bigint;\n  basises?: EndoBasis;\n  splitScalar?: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\n\n// We construct basis in such way that den is always positive and equals n, but num sign depends on basis (not on secret value)\nconst divNearest = (num: bigint, den: bigint) => (num + (num >= 0 ? den : -den) / _2n) / den;\n\nexport type ScalarEndoParts = { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n\n/**\n * Splits scalar for GLV endomorphism.\n */\nexport function _splitEndoScalar(k: bigint, basis: EndoBasis, n: bigint): ScalarEndoParts {\n  // Split scalar into two such that part is ~half bits: `abs(part) < sqrt(N)`\n  // Since part can be negative, we need to do this on point.\n  // TODO: verifyScalar function which consumes lambda\n  const [[a1, b1], [a2, b2]] = basis;\n  const c1 = divNearest(b2 * k, n);\n  const c2 = divNearest(-b1 * k, n);\n  // |k1|/|k2| is < sqrt(N), but can be negative.\n  // If we do `k1 mod N`, we'll get big scalar (`> sqrt(N)`): so, we do cheaper negation instead.\n  let k1 = k - c1 * a1 - c2 * a2;\n  let k2 = -c1 * b1 - c2 * b2;\n  const k1neg = k1 < _0n;\n  const k2neg = k2 < _0n;\n  if (k1neg) k1 = -k1;\n  if (k2neg) k2 = -k2;\n  // Double check that resulting scalar less than half bits of N: otherwise wNAF will fail.\n  // This should only happen on wrong basises. Also, math inside is too complex and I don't trust it.\n  const MAX_NUM = bitMask(Math.ceil(bitLen(n) / 2)) + _1n; // Half bits of N\n  if (k1 < _0n || k1 >= MAX_NUM || k2 < _0n || k2 >= MAX_NUM) {\n    throw new Error('splitScalar (endomorphism): failed, k=' + k);\n  }\n  return { k1neg, k1, k2neg, k2 };\n}\n\nexport type ECDSASigFormat = 'compact' | 'recovered' | 'der';\nexport type ECDSARecoverOpts = {\n  prehash?: boolean;\n};\nexport type ECDSAVerifyOpts = {\n  prehash?: boolean;\n  lowS?: boolean;\n  format?: ECDSASigFormat;\n};\nexport type ECDSASignOpts = {\n  prehash?: boolean;\n  lowS?: boolean;\n  format?: ECDSASigFormat;\n  extraEntropy?: Uint8Array | boolean;\n};\n\nfunction validateSigFormat(format: string): ECDSASigFormat {\n  if (!['compact', 'recovered', 'der'].includes(format))\n    throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');\n  return format as ECDSASigFormat;\n}\n\nfunction validateSigOpts<T extends ECDSASignOpts, D extends Required<ECDSASignOpts>>(\n  opts: T,\n  def: D\n): Required<ECDSASignOpts> {\n  const optsn: ECDSASignOpts = {};\n  for (let optName of Object.keys(def)) {\n    // @ts-ignore\n    optsn[optName] = opts[optName] === undefined ? def[optName] : opts[optName];\n  }\n  abool(optsn.lowS!, 'lowS');\n  abool(optsn.prehash!, 'prehash');\n  if (optsn.format !== undefined) validateSigFormat(optsn.format);\n  return optsn as Required<ECDSASignOpts>;\n}\n\n/** Instance methods for 3D XYZ projective points. */\nexport interface WeierstrassPoint<T> extends CurvePoint<T, WeierstrassPoint<T>> {\n  /** projective X coordinate. Different from affine x. */\n  readonly X: T;\n  /** projective Y coordinate. Different from affine y. */\n  readonly Y: T;\n  /** projective z coordinate */\n  readonly Z: T;\n  /** affine x coordinate. Different from projective X. */\n  get x(): T;\n  /** affine y coordinate. Different from projective Y. */\n  get y(): T;\n  /** Encodes point using IEEE P1363 (DER) encoding. First byte is 2/3/4. Default = isCompressed. */\n  toBytes(isCompressed?: boolean): Uint8Array;\n  toHex(isCompressed?: boolean): string;\n\n  /** @deprecated use `.X` */\n  readonly px: T;\n  /** @deprecated use `.Y` */\n  readonly py: T;\n  /** @deprecated use `.Z` */\n  readonly pz: T;\n  /** @deprecated use `toBytes` */\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n  /** @deprecated use `multiplyUnsafe` */\n  multiplyAndAddUnsafe(\n    Q: WeierstrassPoint<T>,\n    a: bigint,\n    b: bigint\n  ): WeierstrassPoint<T> | undefined;\n  /** @deprecated use `p.y % 2n === 0n` */\n  hasEvenY(): boolean;\n  /** @deprecated use `p.precompute(windowSize)` */\n  _setWindowSize(windowSize: number): void;\n}\n\n/** Static methods for 3D XYZ projective points. */\nexport interface WeierstrassPointCons<T> extends CurvePointCons<WeierstrassPoint<T>> {\n  /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n  new (X: T, Y: T, Z: T): WeierstrassPoint<T>;\n  CURVE(): WeierstrassOpts<T>;\n  /** @deprecated use `Point.BASE.multiply(Point.Fn.fromBytes(privateKey))` */\n  fromPrivateKey(privateKey: PrivKey): WeierstrassPoint<T>;\n  /** @deprecated use `import { normalizeZ } from '@noble/curves/abstract/curve.js';` */\n  normalizeZ(points: WeierstrassPoint<T>[]): WeierstrassPoint<T>[];\n  /** @deprecated use `import { pippenger } from '@noble/curves/abstract/curve.js';` */\n  msm(points: WeierstrassPoint<T>[], scalars: bigint[]): WeierstrassPoint<T>;\n}\n\n/**\n * Weierstrass curve options.\n *\n * * p: prime characteristic (order) of finite field, in which arithmetics is done\n * * n: order of prime subgroup a.k.a total amount of valid curve points\n * * h: cofactor, usually 1. h*n is group order; n is subgroup order\n * * a: formula param, must be in field of p\n * * b: formula param, must be in field of p\n * * Gx: x coordinate of generator point a.k.a. base point\n * * Gy: y coordinate of generator point\n */\nexport type WeierstrassOpts<T> = Readonly<{\n  p: bigint;\n  n: bigint;\n  h: bigint;\n  a: T;\n  b: T;\n  Gx: T;\n  Gy: T;\n}>;\n\n// When a cofactor != 1, there can be an effective methods to:\n// 1. Determine whether a point is torsion-free\n// 2. Clear torsion component\n// wrapPrivateKey: bls12-381 requires mod(n) instead of rejecting keys >= n\nexport type WeierstrassExtraOpts<T> = Partial<{\n  Fp: IField<T>;\n  Fn: IField<bigint>;\n  allowInfinityPoint: boolean;\n  endo: EndomorphismOpts;\n  isTorsionFree: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => boolean;\n  clearCofactor: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => WeierstrassPoint<T>;\n  fromBytes: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes: (\n    c: WeierstrassPointCons<T>,\n    point: WeierstrassPoint<T>,\n    isCompressed: boolean\n  ) => Uint8Array;\n}>;\n\n/**\n * Options for ECDSA signatures over a Weierstrass curve.\n *\n * * lowS: (default: true) whether produced / verified signatures occupy low half of ecdsaOpts.p. Prevents malleability.\n * * hmac: (default: noble-hashes hmac) function, would be used to init hmac-drbg for k generation.\n * * randomBytes: (default: webcrypto os-level CSPRNG) custom method for fetching secure randomness.\n * * bits2int, bits2int_modN: used in sigs, sometimes overridden by curves\n */\nexport type ECDSAOpts = Partial<{\n  lowS: boolean;\n  hmac: HmacFnSync;\n  randomBytes: (bytesLength?: number) => Uint8Array;\n  bits2int: (bytes: Uint8Array) => bigint;\n  bits2int_modN: (bytes: Uint8Array) => bigint;\n}>;\n\n/**\n * Elliptic Curve Diffie-Hellman interface.\n * Provides keygen, secret-to-public conversion, calculating shared secrets.\n */\nexport interface ECDH {\n  keygen: (seed?: Uint8Array) => { secretKey: Uint8Array; publicKey: Uint8Array };\n  getPublicKey: (secretKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (secretKeyA: PrivKey, publicKeyB: Hex, isCompressed?: boolean) => Uint8Array;\n  Point: WeierstrassPointCons<bigint>;\n  utils: {\n    isValidSecretKey: (secretKey: PrivKey) => boolean;\n    isValidPublicKey: (publicKey: Uint8Array, isCompressed?: boolean) => boolean;\n    randomSecretKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `randomSecretKey` */\n    randomPrivateKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `isValidSecretKey` */\n    isValidPrivateKey: (secretKey: PrivKey) => boolean;\n    /** @deprecated use `Point.Fn.fromBytes()` */\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    /** @deprecated use `point.precompute()` */\n    precompute: (windowSize?: number, point?: WeierstrassPoint<bigint>) => WeierstrassPoint<bigint>;\n  };\n  lengths: CurveLengths;\n}\n\n/**\n * ECDSA interface.\n * Only supported for prime fields, not Fp2 (extension fields).\n */\nexport interface ECDSA extends ECDH {\n  sign: (message: Hex, secretKey: PrivKey, opts?: ECDSASignOpts) => ECDSASigRecovered;\n  verify: (\n    signature: Uint8Array,\n    message: Uint8Array,\n    publicKey: Uint8Array,\n    opts?: ECDSAVerifyOpts\n  ) => boolean;\n  recoverPublicKey(signature: Uint8Array, message: Uint8Array, opts?: ECDSARecoverOpts): Uint8Array;\n  Signature: ECDSASignatureCons;\n}\nexport class DERErr extends Error {\n  constructor(m = '') {\n    super(m);\n  }\n}\nexport type IDER = {\n  // asn.1 DER encoding utils\n  Err: typeof DERErr;\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string) => string;\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array };\n  };\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string;\n    decode(data: Uint8Array): bigint;\n  };\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint };\n  hexFromSig(sig: { r: bigint; s: bigint }): string;\n};\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nexport const DER: IDER = {\n  // asn.1 DER encoding utils\n  Err: DERErr,\n  // Basic building block is TLV (Tag-Length-Value)\n  _tlv: {\n    encode: (tag: number, data: string): string => {\n      const { Err: E } = DER;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length & 1) throw new E('tlv.encode: unpadded data');\n      const dataLen = data.length / 2;\n      const len = numberToHexUnpadded(dataLen);\n      if ((len.length / 2) & 0b1000_0000) throw new E('tlv.encode: long form length too big');\n      // length of length with long form flag\n      const lenLen = dataLen > 127 ? numberToHexUnpadded((len.length / 2) | 0b1000_0000) : '';\n      const t = numberToHexUnpadded(tag);\n      return t + lenLen + len + data;\n    },\n    // v - value, l - left bytes (unparsed)\n    decode(tag: number, data: Uint8Array): { v: Uint8Array; l: Uint8Array } {\n      const { Err: E } = DER;\n      let pos = 0;\n      if (tag < 0 || tag > 256) throw new E('tlv.encode: wrong tag');\n      if (data.length < 2 || data[pos++] !== tag) throw new E('tlv.decode: wrong tlv');\n      const first = data[pos++];\n      const isLong = !!(first & 0b1000_0000); // First bit of first length byte is flag for short/long form\n      let length = 0;\n      if (!isLong) length = first;\n      else {\n        // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n        const lenLen = first & 0b0111_1111;\n        if (!lenLen) throw new E('tlv.decode(long): indefinite length not supported');\n        if (lenLen > 4) throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n        const lengthBytes = data.subarray(pos, pos + lenLen);\n        if (lengthBytes.length !== lenLen) throw new E('tlv.decode: length bytes not complete');\n        if (lengthBytes[0] === 0) throw new E('tlv.decode(long): zero leftmost byte');\n        for (const b of lengthBytes) length = (length << 8) | b;\n        pos += lenLen;\n        if (length < 128) throw new E('tlv.decode(long): not minimal encoding');\n      }\n      const v = data.subarray(pos, pos + length);\n      if (v.length !== length) throw new E('tlv.decode: wrong value length');\n      return { v, l: data.subarray(pos + length) };\n    },\n  },\n  // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n  // since we always use positive integers here. It must always be empty:\n  // - add zero byte if exists\n  // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n  _int: {\n    encode(num: bigint): string {\n      const { Err: E } = DER;\n      if (num < _0n) throw new E('integer: negative integers are not allowed');\n      let hex = numberToHexUnpadded(num);\n      // Pad with zero byte if negative flag is present\n      if (Number.parseInt(hex[0], 16) & 0b1000) hex = '00' + hex;\n      if (hex.length & 1) throw new E('unexpected DER parsing assertion: unpadded hex');\n      return hex;\n    },\n    decode(data: Uint8Array): bigint {\n      const { Err: E } = DER;\n      if (data[0] & 0b1000_0000) throw new E('invalid signature integer: negative');\n      if (data[0] === 0x00 && !(data[1] & 0b1000_0000))\n        throw new E('invalid signature integer: unnecessary leading zero');\n      return bytesToNumberBE(data);\n    },\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E, _int: int, _tlv: tlv } = DER;\n    const data = ensureBytes('signature', hex);\n    const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n    if (seqLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n    const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n    if (sLeftBytes.length) throw new E('invalid signature: left bytes after parsing');\n    return { r: int.decode(rBytes), s: int.decode(sBytes) };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    const { _tlv: tlv, _int: int } = DER;\n    const rs = tlv.encode(0x02, int.encode(sig.r));\n    const ss = tlv.encode(0x02, int.encode(sig.s));\n    const seq = rs + ss;\n    return tlv.encode(0x30, seq);\n  },\n};\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\nexport function _normFnElement(Fn: IField<bigint>, key: PrivKey): bigint {\n  const { BYTES: expected } = Fn;\n  let num: bigint;\n  if (typeof key === 'bigint') {\n    num = key;\n  } else {\n    let bytes = ensureBytes('private key', key);\n    try {\n      num = Fn.fromBytes(bytes);\n    } catch (error) {\n      throw new Error(`invalid private key: expected ui8a of size ${expected}, got ${typeof key}`);\n    }\n  }\n  if (!Fn.isValidNot0(num)) throw new Error('invalid private key: out of range [1..N-1]');\n  return num;\n}\n\n/**\n * Creates weierstrass Point constructor, based on specified curve options.\n *\n * @example\n```js\nconst opts = {\n  p: BigInt('0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff'),\n  n: BigInt('0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551'),\n  h: BigInt(1),\n  a: BigInt('0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc'),\n  b: BigInt('0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b'),\n  Gx: BigInt('0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296'),\n  Gy: BigInt('0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5'),\n};\nconst p256_Point = weierstrass(opts);\n```\n */\nexport function weierstrassN<T>(\n  params: WeierstrassOpts<T>,\n  extraOpts: WeierstrassExtraOpts<T> = {}\n): WeierstrassPointCons<T> {\n  const validated = _createCurveFields('weierstrass', params, extraOpts);\n  const { Fp, Fn } = validated;\n  let CURVE = validated.CURVE as WeierstrassOpts<T>;\n  const { h: cofactor, n: CURVE_ORDER } = CURVE;\n  _validateObject(\n    extraOpts,\n    {},\n    {\n      allowInfinityPoint: 'boolean',\n      clearCofactor: 'function',\n      isTorsionFree: 'function',\n      fromBytes: 'function',\n      toBytes: 'function',\n      endo: 'object',\n      wrapPrivateKey: 'boolean',\n    }\n  );\n\n  const { endo } = extraOpts;\n  if (endo) {\n    // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n    if (!Fp.is0(CURVE.a) || typeof endo.beta !== 'bigint' || !Array.isArray(endo.basises)) {\n      throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');\n    }\n  }\n\n  const lengths = getWLengths(Fp, Fn);\n\n  function assertCompressionIsSupported() {\n    if (!Fp.isOdd) throw new Error('compression is not supported: Field does not have .isOdd()');\n  }\n\n  // Implements IEEE P1363 point encoding\n  function pointToBytes(\n    _c: WeierstrassPointCons<T>,\n    point: WeierstrassPoint<T>,\n    isCompressed: boolean\n  ): Uint8Array {\n    const { x, y } = point.toAffine();\n    const bx = Fp.toBytes(x);\n    abool(isCompressed, 'isCompressed');\n    if (isCompressed) {\n      assertCompressionIsSupported();\n      const hasEvenY = !Fp.isOdd!(y);\n      return concatBytes(pprefix(hasEvenY), bx);\n    } else {\n      return concatBytes(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n    }\n  }\n  function pointFromBytes(bytes: Uint8Array) {\n    abytes(bytes, undefined, 'Point');\n    const { publicKey: comp, publicKeyUncompressed: uncomp } = lengths; // e.g. for 32-byte: 33, 65\n    const length = bytes.length;\n    const head = bytes[0];\n    const tail = bytes.subarray(1);\n    // No actual validation is done here: use .assertValidity()\n    if (length === comp && (head === 0x02 || head === 0x03)) {\n      const x = Fp.fromBytes(tail);\n      if (!Fp.isValid(x)) throw new Error('bad point: is not on curve, wrong x');\n      const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n      let y: T;\n      try {\n        y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n      } catch (sqrtError) {\n        const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n        throw new Error('bad point: is not on curve, sqrt error' + err);\n      }\n      assertCompressionIsSupported();\n      const isYOdd = Fp.isOdd!(y); // (y & _1n) === _1n;\n      const isHeadOdd = (head & 1) === 1; // ECDSA-specific\n      if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n      return { x, y };\n    } else if (length === uncomp && head === 0x04) {\n      // TODO: more checks\n      const L = Fp.BYTES;\n      const x = Fp.fromBytes(tail.subarray(0, L));\n      const y = Fp.fromBytes(tail.subarray(L, L * 2));\n      if (!isValidXY(x, y)) throw new Error('bad point: is not on curve');\n      return { x, y };\n    } else {\n      throw new Error(\n        `bad point: got length ${length}, expected compressed=${comp} or uncompressed=${uncomp}`\n      );\n    }\n  }\n\n  const encodePoint = extraOpts.toBytes || pointToBytes;\n  const decodePoint = extraOpts.fromBytes || pointFromBytes;\n  function weierstrassEquation(x: T): T {\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, CURVE.a)), CURVE.b); // x\u00B3 + a * x + b\n  }\n\n  // TODO: move top-level\n  /** Checks whether equation holds for given x, y: y\u00B2 == x\u00B3 + ax + b */\n  function isValidXY(x: T, y: T): boolean {\n    const left = Fp.sqr(y); // y\u00B2\n    const right = weierstrassEquation(x); // x\u00B3 + ax + b\n    return Fp.eql(left, right);\n  }\n\n  // Validate whether the passed curve params are valid.\n  // Test 1: equation y\u00B2 = x\u00B3 + ax + b should work for generator point.\n  if (!isValidXY(CURVE.Gx, CURVE.Gy)) throw new Error('bad curve params: generator point');\n\n  // Test 2: discriminant \u0394 part should be non-zero: 4a\u00B3 + 27b\u00B2 != 0.\n  // Guarantees curve is genus-1, smooth (non-singular).\n  const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n  const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n  if (Fp.is0(Fp.add(_4a3, _27b2))) throw new Error('bad curve params: a or b');\n\n  /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n  function acoord(title: string, n: T, banZero = false) {\n    if (!Fp.isValid(n) || (banZero && Fp.is0(n))) throw new Error(`bad point coordinate ${title}`);\n    return n;\n  }\n\n  function aprjpoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n\n  function splitEndoScalarN(k: bigint) {\n    if (!endo || !endo.basises) throw new Error('no endo');\n    return _splitEndoScalar(k, endo.basises, Fn.ORDER);\n  }\n\n  // Memoized toAffine / validity check. They are heavy. Points are immutable.\n\n  // Converts Projective point to affine (x, y) coordinates.\n  // Can accept precomputed Z^-1 - for example, from invertBatch.\n  // (X, Y, Z) \u220B (x=X/Z, y=Y/Z)\n  const toAffineMemo = memoized((p: Point, iz?: T): AffinePoint<T> => {\n    const { X, Y, Z } = p;\n    // Fast-path for normalized points\n    if (Fp.eql(Z, Fp.ONE)) return { x: X, y: Y };\n    const is0 = p.is0();\n    // If invZ was 0, we return zero point. However we still want to execute\n    // all operations, so we replace invZ with a random number, 1.\n    if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(Z);\n    const x = Fp.mul(X, iz);\n    const y = Fp.mul(Y, iz);\n    const zz = Fp.mul(Z, iz);\n    if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n    if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n    return { x, y };\n  });\n  // NOTE: on exception this will crash 'cached' and no value will be set.\n  // Otherwise true will be return\n  const assertValidMemo = memoized((p: Point) => {\n    if (p.is0()) {\n      // (0, 1, 0) aka ZERO is invalid in most contexts.\n      // In BLS, ZERO can be serialized, so we allow it.\n      // (0, 0, 0) is invalid representation of ZERO.\n      if (extraOpts.allowInfinityPoint && !Fp.is0(p.Y)) return;\n      throw new Error('bad point: ZERO');\n    }\n    // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n    const { x, y } = p.toAffine();\n    if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not field elements');\n    if (!isValidXY(x, y)) throw new Error('bad point: equation left != right');\n    if (!p.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    return true;\n  });\n\n  function finishEndo(\n    endoBeta: EndomorphismOpts['beta'],\n    k1p: Point,\n    k2p: Point,\n    k1neg: boolean,\n    k2neg: boolean\n  ) {\n    k2p = new Point(Fp.mul(k2p.X, endoBeta), k2p.Y, k2p.Z);\n    k1p = negateCt(k1neg, k1p);\n    k2p = negateCt(k2neg, k2p);\n    return k1p.add(k2p);\n  }\n\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z) \u220B (x=X/Z, y=Y/Z).\n   * Default Point works in 2d / affine coordinates: (x, y).\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements WeierstrassPoint<T> {\n    // base / generator point\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    // math field\n    static readonly Fp = Fp;\n    // scalar field\n    static readonly Fn = Fn;\n\n    readonly X: T;\n    readonly Y: T;\n    readonly Z: T;\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    constructor(X: T, Y: T, Z: T) {\n      this.X = acoord('x', X);\n      this.Y = acoord('y', Y, true);\n      this.Z = acoord('z', Z);\n      Object.freeze(this);\n    }\n\n    static CURVE(): WeierstrassOpts<T> {\n      return CURVE;\n    }\n\n    /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n      if (Fp.is0(x) && Fp.is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    static fromBytes(bytes: Uint8Array): Point {\n      const P = Point.fromAffine(decodePoint(abytes(bytes, undefined, 'point')));\n      P.assertValidity();\n      return P;\n    }\n    static fromHex(hex: Hex): Point {\n      return Point.fromBytes(ensureBytes('pointHex', hex));\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    /**\n     *\n     * @param windowSize\n     * @param isLazy true will defer table computation until the first multiplication\n     * @returns\n     */\n    precompute(windowSize: number = 8, isLazy = true): Point {\n      wnaf.createCache(this, windowSize);\n      if (!isLazy) this.multiply(_3n); // random number\n      return this;\n    }\n\n    // TODO: return `this`\n    /** A point on curve is valid if it conforms to equation. */\n    assertValidity(): void {\n      assertValidMemo(this);\n    }\n\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (!Fp.isOdd) throw new Error(\"Field doesn't support isOdd\");\n      return !Fp.isOdd(y);\n    }\n\n    /** Compare one point to another. */\n    equals(other: Point): boolean {\n      aprjpoint(other);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      const { X: X2, Y: Y2, Z: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n    negate(): Point {\n      return new Point(this.X, Fp.neg(this.Y), this.Z);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      aprjpoint(other);\n      const { X: X1, Y: Y1, Z: Z1 } = this;\n      const { X: X2, Y: Y2, Z: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    is0(): boolean {\n      return this.equals(Point.ZERO);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      const { endo } = extraOpts;\n      if (!Fn.isValidNot0(scalar)) throw new Error('invalid scalar: out of range'); // 0 is invalid\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      const mul = (n: bigint) => wnaf.cached(this, n, (p) => normalizeZ(Point, p));\n      /** See docs for {@link EndomorphismOpts} */\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(scalar);\n        const { p: k1p, f: k1f } = mul(k1);\n        const { p: k2p, f: k2f } = mul(k2);\n        fake = k1f.add(k2f);\n        point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n      } else {\n        const { p, f } = mul(scalar);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return normalizeZ(Point, [point, fake])[0];\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed secret key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(sc: bigint): Point {\n      const { endo } = extraOpts;\n      const p = this as Point;\n      if (!Fn.isValid(sc)) throw new Error('invalid scalar: out of range'); // 0 is valid\n      if (sc === _0n || p.is0()) return Point.ZERO;\n      if (sc === _1n) return p; // fast-path\n      if (wnaf.hasCache(this)) return this.multiply(sc);\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(sc);\n        const { p1, p2 } = mulEndoUnsafe(Point, p, k1, k2); // 30% faster vs wnaf.unsafe\n        return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n      } else {\n        return wnaf.unsafe(p, sc);\n      }\n    }\n\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const sum = this.multiplyUnsafe(a).add(Q.multiplyUnsafe(b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    /**\n     * Converts Projective point to affine (x, y) coordinates.\n     * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n     */\n    toAffine(invertedZ?: T): AffinePoint<T> {\n      return toAffineMemo(this, invertedZ);\n    }\n\n    /**\n     * Checks whether Point is free of torsion elements (is in prime subgroup).\n     * Always torsion-free for cofactor=1 curves.\n     */\n    isTorsionFree(): boolean {\n      const { isTorsionFree } = extraOpts;\n      if (cofactor === _1n) return true;\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      return wnaf.unsafe(this, CURVE_ORDER).is0();\n    }\n\n    clearCofactor(): Point {\n      const { clearCofactor } = extraOpts;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(cofactor);\n    }\n\n    isSmallOrder(): boolean {\n      // can we use this.clearCofactor()?\n      return this.multiplyUnsafe(cofactor).is0();\n    }\n\n    toBytes(isCompressed = true): Uint8Array {\n      abool(isCompressed, 'isCompressed');\n      this.assertValidity();\n      return encodePoint(Point, this, isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      return bytesToHex(this.toBytes(isCompressed));\n    }\n\n    toString() {\n      return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n    }\n\n    // TODO: remove\n    get px(): T {\n      return this.X;\n    }\n    get py(): T {\n      return this.X;\n    }\n    get pz(): T {\n      return this.Z;\n    }\n    toRawBytes(isCompressed = true): Uint8Array {\n      return this.toBytes(isCompressed);\n    }\n    _setWindowSize(windowSize: number) {\n      this.precompute(windowSize);\n    }\n    static normalizeZ(points: Point[]): Point[] {\n      return normalizeZ(Point, points);\n    }\n    static msm(points: Point[], scalars: bigint[]): Point {\n      return pippenger(Point, Fn, points, scalars);\n    }\n    static fromPrivateKey(privateKey: PrivKey) {\n      return Point.BASE.multiply(_normFnElement(Fn, privateKey));\n    }\n  }\n  const bits = Fn.BITS;\n  const wnaf = new wNAF(Point, extraOpts.endo ? Math.ceil(bits / 2) : bits);\n  Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n  return Point;\n}\n\n/** Methods of ECDSA signature instance. */\nexport interface ECDSASignature {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  addRecoveryBit(recovery: number): ECDSASigRecovered;\n  hasHighS(): boolean;\n  toBytes(format?: string): Uint8Array;\n  toHex(format?: string): string;\n\n  /** @deprecated */\n  assertValidity(): void;\n  /** @deprecated */\n  normalizeS(): ECDSASignature;\n  /** @deprecated use standalone method `curve.recoverPublicKey(sig.toBytes('recovered'), msg)` */\n  recoverPublicKey(msgHash: Hex): WeierstrassPoint<bigint>;\n  /** @deprecated use `.toBytes('compact')` */\n  toCompactRawBytes(): Uint8Array;\n  /** @deprecated use `.toBytes('compact')` */\n  toCompactHex(): string;\n  /** @deprecated use `.toBytes('der')` */\n  toDERRawBytes(): Uint8Array;\n  /** @deprecated use `.toBytes('der')` */\n  toDERHex(): string;\n}\nexport type ECDSASigRecovered = ECDSASignature & {\n  readonly recovery: number;\n};\n/** Methods of ECDSA signature constructor. */\nexport type ECDSASignatureCons = {\n  new (r: bigint, s: bigint, recovery?: number): ECDSASignature;\n  fromBytes(bytes: Uint8Array, format?: ECDSASigFormat): ECDSASignature;\n  fromHex(hex: string, format?: ECDSASigFormat): ECDSASignature;\n\n  /** @deprecated use `.fromBytes(bytes, 'compact')` */\n  fromCompact(hex: Hex): ECDSASignature;\n  /** @deprecated use `.fromBytes(bytes, 'der')` */\n  fromDER(hex: Hex): ECDSASignature;\n};\n\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY: boolean): Uint8Array {\n  return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(\n  Fp: IField<T>,\n  Z: T\n): (u: T, v: T) => { isValid: boolean; value: T } {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n): (u: T) => { x: T; y: T } {\n  validateField(Fp);\n  const { A, B, Z } = opts;\n  if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n  if (!Fp.isOdd) throw new Error('Field does not have .isOdd()');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    const tv4_inv = FpInvertBatch(Fp, [tv4], true)[0];\n    x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n\nfunction getWLengths<T>(Fp: IField<T>, Fn: IField<bigint>) {\n  return {\n    secretKey: Fn.BYTES,\n    publicKey: 1 + Fp.BYTES,\n    publicKeyUncompressed: 1 + 2 * Fp.BYTES,\n    publicKeyHasPrefix: true,\n    signature: 2 * Fn.BYTES,\n  };\n}\n\n/**\n * Sometimes users only need getPublicKey, getSharedSecret, and secret key handling.\n * This helper ensures no signature functionality is present. Less code, smaller bundle size.\n */\nexport function ecdh(\n  Point: WeierstrassPointCons<bigint>,\n  ecdhOpts: { randomBytes?: (bytesLength?: number) => Uint8Array } = {}\n): ECDH {\n  const { Fn } = Point;\n  const randomBytes_ = ecdhOpts.randomBytes || randomBytesWeb;\n  const lengths = Object.assign(getWLengths(Point.Fp, Fn), { seed: getMinHashLength(Fn.ORDER) });\n\n  function isValidSecretKey(secretKey: PrivKey) {\n    try {\n      return !!_normFnElement(Fn, secretKey);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  function isValidPublicKey(publicKey: Uint8Array, isCompressed?: boolean): boolean {\n    const { publicKey: comp, publicKeyUncompressed } = lengths;\n    try {\n      const l = publicKey.length;\n      if (isCompressed === true && l !== comp) return false;\n      if (isCompressed === false && l !== publicKeyUncompressed) return false;\n      return !!Point.fromBytes(publicKey);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Produces cryptographically secure secret key from random of size\n   * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n   */\n  function randomSecretKey(seed = randomBytes_(lengths.seed)): Uint8Array {\n    return mapHashToField(abytes(seed, lengths.seed, 'seed'), Fn.ORDER);\n  }\n\n  /**\n   * Computes public key for a secret key. Checks for validity of the secret key.\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(secretKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.BASE.multiply(_normFnElement(Fn, secretKey)).toBytes(isCompressed);\n  }\n\n  function keygen(seed?: Uint8Array) {\n    const secretKey = randomSecretKey(seed);\n    return { secretKey, publicKey: getPublicKey(secretKey) };\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean | undefined {\n    if (typeof item === 'bigint') return false;\n    if (item instanceof Point) return true;\n    const { secretKey, publicKey, publicKeyUncompressed } = lengths;\n    if (Fn.allowedLengths || secretKey === publicKey) return undefined;\n    const l = ensureBytes('key', item).length;\n    return l === publicKey || l === publicKeyUncompressed;\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from secret key A and public key B.\n   * Checks: 1) secret key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(secretKeyA: PrivKey, publicKeyB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(secretKeyA) === true) throw new Error('first arg must be private key');\n    if (isProbPub(publicKeyB) === false) throw new Error('second arg must be public key');\n    const s = _normFnElement(Fn, secretKeyA);\n    const b = Point.fromHex(publicKeyB); // checks for being on-curve\n    return b.multiply(s).toBytes(isCompressed);\n  }\n\n  const utils = {\n    isValidSecretKey,\n    isValidPublicKey,\n    randomSecretKey,\n\n    // TODO: remove\n    isValidPrivateKey: isValidSecretKey,\n    randomPrivateKey: randomSecretKey,\n    normPrivateKeyToScalar: (key: PrivKey) => _normFnElement(Fn, key),\n    precompute(windowSize = 8, point = Point.BASE): WeierstrassPoint<bigint> {\n      return point.precompute(windowSize, false);\n    },\n  };\n\n  return Object.freeze({ getPublicKey, getSharedSecret, keygen, Point, utils, lengths });\n}\n\n/**\n * Creates ECDSA signing interface for given elliptic curve `Point` and `hash` function.\n * We need `hash` for 2 features:\n * 1. Message prehash-ing. NOT used if `sign` / `verify` are called with `prehash: false`\n * 2. k generation in `sign`, using HMAC-drbg(hash)\n *\n * ECDSAOpts are only rarely needed.\n *\n * @example\n * ```js\n * const p256_Point = weierstrass(...);\n * const p256_sha256 = ecdsa(p256_Point, sha256);\n * const p256_sha224 = ecdsa(p256_Point, sha224);\n * const p256_sha224_r = ecdsa(p256_Point, sha224, { randomBytes: (length) => { ... } });\n * ```\n */\nexport function ecdsa(\n  Point: WeierstrassPointCons<bigint>,\n  hash: CHash,\n  ecdsaOpts: ECDSAOpts = {}\n): ECDSA {\n  ahash(hash);\n  _validateObject(\n    ecdsaOpts,\n    {},\n    {\n      hmac: 'function',\n      lowS: 'boolean',\n      randomBytes: 'function',\n      bits2int: 'function',\n      bits2int_modN: 'function',\n    }\n  );\n\n  const randomBytes = ecdsaOpts.randomBytes || randomBytesWeb;\n  const hmac: HmacFnSync =\n    ecdsaOpts.hmac ||\n    (((key, ...msgs) => nobleHmac(hash, key, concatBytes(...msgs))) satisfies HmacFnSync);\n\n  const { Fp, Fn } = Point;\n  const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n  const { keygen, getPublicKey, getSharedSecret, utils, lengths } = ecdh(Point, ecdsaOpts);\n  const defaultSigOpts: Required<ECDSASignOpts> = {\n    prehash: false,\n    lowS: typeof ecdsaOpts.lowS === 'boolean' ? ecdsaOpts.lowS : false,\n    format: undefined as any, //'compact' as ECDSASigFormat,\n    extraEntropy: false,\n  };\n  const defaultSigOpts_format = 'compact';\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n  function validateRS(title: string, num: bigint): bigint {\n    if (!Fn.isValidNot0(num))\n      throw new Error(`invalid signature ${title}: out of range 1..Point.Fn.ORDER`);\n    return num;\n  }\n  function validateSigLength(bytes: Uint8Array, format: ECDSASigFormat) {\n    validateSigFormat(format);\n    const size = lengths.signature!;\n    const sizer = format === 'compact' ? size : format === 'recovered' ? size + 1 : undefined;\n    return abytes(bytes, sizer, `${format} signature`);\n  }\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports compact, recovered & DER representations.\n   */\n  class Signature implements ECDSASignature {\n    readonly r: bigint;\n    readonly s: bigint;\n    readonly recovery?: number;\n    constructor(r: bigint, s: bigint, recovery?: number) {\n      this.r = validateRS('r', r); // r in [1..N-1];\n      this.s = validateRS('s', s); // s in [1..N-1];\n      if (recovery != null) this.recovery = recovery;\n      Object.freeze(this);\n    }\n\n    static fromBytes(bytes: Uint8Array, format: ECDSASigFormat = defaultSigOpts_format): Signature {\n      validateSigLength(bytes, format);\n      let recid: number | undefined;\n      if (format === 'der') {\n        const { r, s } = DER.toSig(abytes(bytes));\n        return new Signature(r, s);\n      }\n      if (format === 'recovered') {\n        recid = bytes[0];\n        format = 'compact';\n        bytes = bytes.subarray(1);\n      }\n      const L = Fn.BYTES;\n      const r = bytes.subarray(0, L);\n      const s = bytes.subarray(L, L * 2);\n      return new Signature(Fn.fromBytes(r), Fn.fromBytes(s), recid);\n    }\n\n    static fromHex(hex: string, format?: ECDSASigFormat) {\n      return this.fromBytes(hexToBytes(hex), format);\n    }\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    recoverPublicKey(messageHash: Hex): WeierstrassPoint<bigint> {\n      const FIELD_ORDER = Fp.ORDER;\n      const { r, s, recovery: rec } = this;\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n\n      // ECDSA recovery is hard for cofactor > 1 curves.\n      // In sign, `r = q.x mod n`, and here we recover q.x from r.\n      // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n      // However, for cofactor>1, r+n may not get q.x:\n      // r+n*i would need to be done instead where i is unknown.\n      // To easily get i, we either need to:\n      // a. increase amount of valid recid values (4, 5...); OR\n      // b. prohibit non-prime-order signatures (recid > 1).\n      const hasCofactor = CURVE_ORDER * _2n < FIELD_ORDER;\n      if (hasCofactor && rec > 1) throw new Error('recovery id is ambiguous for h>1 curve');\n\n      const radj = rec === 2 || rec === 3 ? r + CURVE_ORDER : r;\n      if (!Fp.isValid(radj)) throw new Error('recovery id 2 or 3 invalid');\n      const x = Fp.toBytes(radj);\n      const R = Point.fromBytes(concatBytes(pprefix((rec & 1) === 0), x));\n      const ir = Fn.inv(radj); // r^-1\n      const h = bits2int_modN(ensureBytes('msgHash', messageHash)); // Truncate hash\n      const u1 = Fn.create(-h * ir); // -hr^-1\n      const u2 = Fn.create(s * ir); // sr^-1\n      // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n      const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n      if (Q.is0()) throw new Error('point at infinify');\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    toBytes(format: ECDSASigFormat = defaultSigOpts_format) {\n      validateSigFormat(format);\n      if (format === 'der') return hexToBytes(DER.hexFromSig(this));\n      const r = Fn.toBytes(this.r);\n      const s = Fn.toBytes(this.s);\n      if (format === 'recovered') {\n        if (this.recovery == null) throw new Error('recovery bit must be present');\n        return concatBytes(Uint8Array.of(this.recovery), r, s);\n      }\n      return concatBytes(r, s);\n    }\n\n    toHex(format?: ECDSASigFormat) {\n      return bytesToHex(this.toBytes(format));\n    }\n\n    // TODO: remove\n    assertValidity(): void {}\n    static fromCompact(hex: Hex) {\n      return Signature.fromBytes(ensureBytes('sig', hex), 'compact');\n    }\n    static fromDER(hex: Hex) {\n      return Signature.fromBytes(ensureBytes('sig', hex), 'der');\n    }\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, Fn.neg(this.s), this.recovery) : this;\n    }\n    toDERRawBytes() {\n      return this.toBytes('der');\n    }\n    toDERHex() {\n      return bytesToHex(this.toBytes('der'));\n    }\n    toCompactRawBytes() {\n      return this.toBytes('compact');\n    }\n    toCompactHex() {\n      return bytesToHex(this.toBytes('compact'));\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    ecdsaOpts.bits2int ||\n    function bits2int_def(bytes: Uint8Array): bigint {\n      // Our custom check \"just in case\", for protection against DoS\n      if (bytes.length > 8192) throw new Error('input is too large');\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    ecdsaOpts.bits2int_modN ||\n    function bits2int_modN_def(bytes: Uint8Array): bigint {\n      return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // Pads output with zero as per spec\n  const ORDER_MASK = bitMask(fnBits);\n  /** Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`. */\n  function int2octets(num: bigint): Uint8Array {\n    // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n    aInRange('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n    return Fn.toBytes(num);\n  }\n\n  function validateMsgAndHash(message: Uint8Array, prehash: boolean) {\n    abytes(message, undefined, 'message');\n    return prehash ? abytes(hash(message), undefined, 'prehashed message') : message;\n  }\n\n  /**\n   * Steps A, D of RFC6979 3.2.\n   * Creates RFC6979 seed; converts msg/privKey to numbers.\n   * Used only in sign, not in verify.\n   *\n   * Warning: we cannot assume here that message has same amount of bytes as curve order,\n   * this will be invalid at least for P521. Also it can be bigger for P224 + SHA256.\n   */\n  function prepSig(message: Uint8Array, privateKey: PrivKey, opts: ECDSASignOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { lowS, prehash, extraEntropy } = validateSigOpts(opts, defaultSigOpts);\n    message = validateMsgAndHash(message, prehash); // RFC6979 3.2 A: h1 = H(m)\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(message);\n    const d = _normFnElement(Fn, privateKey); // validate secret key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (extraEntropy != null && extraEntropy !== false) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      // gen random bytes OR pass as-is\n      const e = extraEntropy === true ? randomBytes(lengths.secretKey) : extraEntropy;\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    // To transform k => Signature:\n    // q = k\u22C5G\n    // r = q.x mod n\n    // s = k^-1(m + rd) mod n\n    // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n    // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n    // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      // Important: all mod() calls here must be done over N\n      const k = bits2int(kBytes); // mod n, not mod p\n      if (!Fn.isValidNot0(k)) return; // Valid scalars (including k) must be in 1..N-1\n      const ik = Fn.inv(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = k\u22C5G\n      const r = Fn.create(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      const s = Fn.create(ik * Fn.create(m + r * d)); // Not using blinding here, see comment above\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = Fn.neg(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n\n  /**\n   * Signs message hash with a secret key.\n   *\n   * ```\n   * sign(m, d) where\n   *   k = rfc6979_hmac_drbg(m, d)\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr) / k mod n\n   * ```\n   */\n  function sign(message: Hex, secretKey: PrivKey, opts: ECDSASignOpts = {}): RecoveredSignature {\n    message = ensureBytes('message', message);\n    const { seed, k2sig } = prepSig(message, secretKey, opts); // Steps A, D of RFC6979 3.2.\n    const drbg = createHmacDrbg<RecoveredSignature>(hash.outputLen, Fn.BYTES, hmac);\n    const sig = drbg(seed, k2sig); // Steps B, C, D, E, F, G\n    return sig;\n  }\n\n  function tryParsingSig(sg: Hex | SignatureLike) {\n    // Try to deduce format\n    let sig: Signature | undefined = undefined;\n    const isHex = typeof sg === 'string' || isBytes(sg);\n    const isObj =\n      !isHex &&\n      sg !== null &&\n      typeof sg === 'object' &&\n      typeof sg.r === 'bigint' &&\n      typeof sg.s === 'bigint';\n    if (!isHex && !isObj)\n      throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n    if (isObj) {\n      sig = new Signature(sg.r, sg.s);\n    } else if (isHex) {\n      try {\n        sig = Signature.fromBytes(ensureBytes('sig', sg), 'der');\n      } catch (derError) {\n        if (!(derError instanceof DER.Err)) throw derError;\n      }\n      if (!sig) {\n        try {\n          sig = Signature.fromBytes(ensureBytes('sig', sg), 'compact');\n        } catch (error) {\n          return false;\n        }\n      }\n    }\n    if (!sig) return false;\n    return sig;\n  }\n\n  /**\n   * Verifies a signature against message and public key.\n   * Rejects lowS signatures by default: see {@link ECDSAVerifyOpts}.\n   * Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   u1 = hs^-1 mod n\n   *   u2 = rs^-1 mod n\n   *   R = u1\u22C5G + u2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    message: Hex,\n    publicKey: Hex,\n    opts: ECDSAVerifyOpts = {}\n  ): boolean {\n    const { lowS, prehash, format } = validateSigOpts(opts, defaultSigOpts);\n    publicKey = ensureBytes('publicKey', publicKey);\n    message = validateMsgAndHash(ensureBytes('message', message), prehash);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    const sig =\n      format === undefined\n        ? tryParsingSig(signature)\n        : Signature.fromBytes(ensureBytes('sig', signature as Hex), format);\n    if (sig === false) return false;\n    try {\n      const P = Point.fromBytes(publicKey);\n      if (lowS && sig.hasHighS()) return false;\n      const { r, s } = sig;\n      const h = bits2int_modN(message); // mod n, not mod p\n      const is = Fn.inv(s); // s^-1 mod n\n      const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n      const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n      const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2)); // u1\u22C5G + u2\u22C5P\n      if (R.is0()) return false;\n      const v = Fn.create(R.x); // v = r.x mod n\n      return v === r;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function recoverPublicKey(\n    signature: Uint8Array,\n    message: Uint8Array,\n    opts: ECDSARecoverOpts = {}\n  ): Uint8Array {\n    const { prehash } = validateSigOpts(opts, defaultSigOpts);\n    message = validateMsgAndHash(message, prehash);\n    return Signature.fromBytes(signature, 'recovered').recoverPublicKey(message).toBytes();\n  }\n\n  return Object.freeze({\n    keygen,\n    getPublicKey,\n    getSharedSecret,\n    utils,\n    lengths,\n    Point,\n    sign,\n    verify,\n    recoverPublicKey,\n    Signature,\n    hash,\n  });\n}\n\n// TODO: remove everything below\n/** @deprecated use ECDSASignature */\nexport type SignatureType = ECDSASignature;\n/** @deprecated use ECDSASigRecovered */\nexport type RecoveredSignatureType = ECDSASigRecovered;\n/** @deprecated switch to Uint8Array signatures in format 'compact' */\nexport type SignatureLike = { r: bigint; s: bigint };\nexport type ECDSAExtraEntropy = Hex | boolean;\n/** @deprecated use `ECDSAExtraEntropy` */\nexport type Entropy = Hex | boolean;\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts;\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: WeierstrassPointCons<T>, point: WeierstrassPoint<T>) => WeierstrassPoint<T>;\n};\n/** @deprecated use ECDSASignOpts */\nexport type SignOpts = ECDSASignOpts;\n/** @deprecated use ECDSASignOpts */\nexport type VerOpts = ECDSAVerifyOpts;\n\n/** @deprecated use WeierstrassPoint */\nexport type ProjPointType<T> = WeierstrassPoint<T>;\n/** @deprecated use WeierstrassPointCons */\nexport type ProjConstructor<T> = WeierstrassPointCons<T>;\n/** @deprecated use ECDSASignatureCons */\nexport type SignatureConstructor = ECDSASignatureCons;\n\n// TODO: remove\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (\n    c: WeierstrassPointCons<T>,\n    point: WeierstrassPoint<T>,\n    isCompressed: boolean\n  ) => Uint8Array;\n};\n\n// LegacyWeierstrassOpts\nexport type CurvePointsTypeWithLength<T> = Readonly<CurvePointsType<T> & Partial<NLength>>;\n\n// LegacyWeierstrass\nexport type CurvePointsRes<T> = {\n  Point: WeierstrassPointCons<T>;\n\n  /** @deprecated use `Point.CURVE()` */\n  CURVE: CurvePointsType<T>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: WeierstrassPointCons<T>;\n  /** @deprecated use `Point.Fn.fromBytes(privateKey)` */\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  /** @deprecated */\n  weierstrassEquation: (x: T) => T;\n  /** @deprecated use `Point.Fn.isValidNot0(num)` */\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\n// Aliases to legacy types\n// export type CurveType = LegacyECDSAOpts;\n// export type CurveFn = LegacyECDSA;\n// export type CurvePointsRes<T> = LegacyWeierstrass<T>;\n// export type CurvePointsType<T> = LegacyWeierstrassOpts<T>;\n// export type CurvePointsTypeWithLength<T> = LegacyWeierstrassOpts<T>;\n// export type BasicWCurve<T> = LegacyWeierstrassOpts<T>;\n\n/** @deprecated use `Uint8Array` */\nexport type PubKey = Hex | WeierstrassPoint<bigint>;\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac?: HmacFnSync;\n  randomBytes?: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\nexport type CurveFn = {\n  /** @deprecated use `Point.CURVE()` */\n  CURVE: CurvePointsType<bigint>;\n  keygen: ECDSA['keygen'];\n  getPublicKey: ECDSA['getPublicKey'];\n  getSharedSecret: ECDSA['getSharedSecret'];\n  sign: ECDSA['sign'];\n  verify: ECDSA['verify'];\n  Point: WeierstrassPointCons<bigint>;\n  /** @deprecated use `Point` */\n  ProjectivePoint: WeierstrassPointCons<bigint>;\n  Signature: ECDSASignatureCons;\n  utils: ECDSA['utils'];\n  lengths: ECDSA['lengths'];\n};\n/** @deprecated use `weierstrass` in newer releases */\nexport function weierstrassPoints<T>(c: CurvePointsTypeWithLength<T>): CurvePointsRes<T> {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  return _weierstrass_new_output_to_legacy(c, Point);\n}\nexport type WsPointComposed<T> = {\n  CURVE: WeierstrassOpts<T>;\n  curveOpts: WeierstrassExtraOpts<T>;\n};\nexport type WsComposed = {\n  /** @deprecated use `Point.CURVE()` */\n  CURVE: WeierstrassOpts<bigint>;\n  hash: CHash;\n  curveOpts: WeierstrassExtraOpts<bigint>;\n  ecdsaOpts: ECDSAOpts;\n};\nfunction _weierstrass_legacy_opts_to_new<T>(c: CurvePointsType<T>): WsPointComposed<T> {\n  const CURVE: WeierstrassOpts<T> = {\n    a: c.a,\n    b: c.b,\n    p: c.Fp.ORDER,\n    n: c.n,\n    h: c.h,\n    Gx: c.Gx,\n    Gy: c.Gy,\n  };\n  const Fp = c.Fp;\n  let allowedLengths = c.allowedPrivateKeyLengths\n    ? Array.from(new Set(c.allowedPrivateKeyLengths.map((l) => Math.ceil(l / 2))))\n    : undefined;\n  const Fn = Field(CURVE.n, {\n    BITS: c.nBitLength,\n    allowedLengths: allowedLengths,\n    modFromBytes: c.wrapPrivateKey,\n  });\n  const curveOpts: WeierstrassExtraOpts<T> = {\n    Fp,\n    Fn,\n    allowInfinityPoint: c.allowInfinityPoint,\n    endo: c.endo,\n    isTorsionFree: c.isTorsionFree,\n    clearCofactor: c.clearCofactor,\n    fromBytes: c.fromBytes,\n    toBytes: c.toBytes,\n  };\n  return { CURVE, curveOpts };\n}\nfunction _ecdsa_legacy_opts_to_new(c: CurveType): WsComposed {\n  const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n  const ecdsaOpts: ECDSAOpts = {\n    hmac: c.hmac,\n    randomBytes: c.randomBytes,\n    lowS: c.lowS,\n    bits2int: c.bits2int,\n    bits2int_modN: c.bits2int_modN,\n  };\n  return { CURVE, curveOpts, hash: c.hash, ecdsaOpts };\n}\nexport function _legacyHelperEquat<T>(Fp: IField<T>, a: T, b: T): (x: T) => T {\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula. Takes x, returns y\u00B2.\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x\u00B2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x\u00B3 + a * x + b\n  }\n  return weierstrassEquation;\n}\nfunction _weierstrass_new_output_to_legacy<T>(\n  c: CurvePointsType<T>,\n  Point: WeierstrassPointCons<T>\n): CurvePointsRes<T> {\n  const { Fp, Fn } = Point;\n  function isWithinCurveOrder(num: bigint): boolean {\n    return inRange(num, _1n, Fn.ORDER);\n  }\n  const weierstrassEquation = _legacyHelperEquat(Fp, c.a, c.b);\n  return Object.assign(\n    {},\n    {\n      CURVE: c,\n      Point: Point,\n      ProjectivePoint: Point,\n      normPrivateKeyToScalar: (key: PrivKey) => _normFnElement(Fn, key),\n      weierstrassEquation,\n      isWithinCurveOrder,\n    }\n  );\n}\nfunction _ecdsa_new_output_to_legacy(c: CurveType, _ecdsa: ECDSA): CurveFn {\n  const Point = _ecdsa.Point;\n  return Object.assign({}, _ecdsa, {\n    ProjectivePoint: Point,\n    CURVE: Object.assign({}, c, nLength(Point.Fn.ORDER, Point.Fn.BITS)),\n  });\n}\n\n// _ecdsa_legacy\nexport function weierstrass(c: CurveType): CurveFn {\n  const { CURVE, curveOpts, hash, ecdsaOpts } = _ecdsa_legacy_opts_to_new(c);\n  const Point = weierstrassN(CURVE, curveOpts);\n  const signs = ecdsa(Point, hash, ecdsaOpts);\n  return _ecdsa_new_output_to_legacy(c, signs);\n}\n", "/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { type CurveFn, type CurveType, weierstrass } from './abstract/weierstrass.ts';\nimport type { CHash } from './utils.ts';\n\n/** connects noble-curves to noble-hashes */\nexport function getHash(hash: CHash): { hash: CHash } {\n  return { hash };\n}\n/** Same API as @noble/hashes, with ability to create curve with custom hash */\nexport type CurveDef = Readonly<Omit<CurveType, 'hash'>>;\nexport type CurveFnWithCreate = CurveFn & { create: (hash: CHash) => CurveFn };\n\n/** @deprecated use new `weierstrass()` and `ecdsa()` methods */\nexport function createCurve(curveDef: CurveDef, defHash: CHash): CurveFnWithCreate {\n  const create = (hash: CHash): CurveFn => weierstrass({ ...curveDef, hash: hash });\n  return { ...create(defHash), create };\n}\n", "/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism \u03C8,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha2.js';\nimport { randomBytes } from '@noble/hashes/utils.js';\nimport { createCurve, type CurveFnWithCreate } from './_shortw_utils.ts';\nimport type { CurveLengths } from './abstract/curve.ts';\nimport {\n  createHasher,\n  type H2CHasher,\n  type H2CMethod,\n  isogenyMap,\n} from './abstract/hash-to-curve.ts';\nimport { Field, mapHashToField, mod, pow2 } from './abstract/modular.ts';\nimport {\n  _normFnElement,\n  type EndomorphismOpts,\n  mapToCurveSimpleSWU,\n  type WeierstrassPoint as PointType,\n  type WeierstrassOpts,\n  type WeierstrassPointCons,\n} from './abstract/weierstrass.ts';\nimport type { Hex, PrivKey } from './utils.ts';\nimport {\n  bytesToNumberBE,\n  concatBytes,\n  ensureBytes,\n  inRange,\n  numberToBytesBE,\n  utf8ToBytes,\n} from './utils.ts';\n\n// Seems like generator was produced from some seed:\n// `Point.BASE.multiply(Point.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE: WeierstrassOpts<bigint> = {\n  p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n  n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n  h: BigInt(1),\n  a: BigInt(0),\n  b: BigInt(7),\n  Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n  Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\n\nconst secp256k1_ENDO: EndomorphismOpts = {\n  beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n  basises: [\n    [BigInt('0x3086d221a7d46bcde86c90e49284eb15'), -BigInt('0xe4437ed6010e88286f547fa90abfe4c3')],\n    [BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8'), BigInt('0x3086d221a7d46bcde86c90e49284eb15')],\n  ],\n};\n\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1_CURVE.p;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fpk1.eql(Fpk1.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fpk1 = Field(secp256k1_CURVE.p, { sqrt: sqrtMod });\n\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const { secretKey, publicKey } = secp256k1.keygen();\n * const msg = new TextEncoder().encode('hello');\n * const sig = secp256k1.sign(msg, secretKey);\n * const isValid = secp256k1.verify(sig, msg, publicKey) === true;\n * ```\n */\nexport const secp256k1: CurveFnWithCreate = createCurve(\n  { ...secp256k1_CURVE, Fp: Fpk1, lowS: true, endo: secp256k1_ENDO },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(utf8ToBytes(tag));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toBytes(true).slice(1);\nconst Pointk1 = /* @__PURE__ */ (() => secp256k1.Point)();\nconst hasEven = (y: bigint) => y % _2n === _0n;\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  const { Fn, BASE } = Pointk1;\n  const d_ = _normFnElement(Fn, priv);\n  const p = BASE.multiply(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = hasEven(p.y) ? d_ : Fn.neg(d_);\n  return { scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  const Fp = Fpk1;\n  if (!Fp.isValidNot0(x)) throw new Error('invalid x: Fail if x \u2265 p');\n  const xx = Fp.create(x * x);\n  const c = Fp.create(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = Fp.sqrt(c); // Let y = c^(p+1)/4 mod p. Same as sqrt().\n  // Return the unique point P such that x(P) = x and\n  // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  if (!hasEven(y)) y = Fp.neg(y);\n  const p = Pointk1.fromAffine({ x, y });\n  p.assertValidity();\n  return p;\n}\nconst num = bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return Pointk1.Fn.create(num(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(secretKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(secretKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message: Hex, secretKey: PrivKey, auxRand: Hex = randomBytes(32)): Uint8Array {\n  const { Fn } = Pointk1;\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(secretKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = Fn.toBytes(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  // Let k' = int(rand) mod n. Fail if k' = 0. Let R = k'\u22C5G\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(rand);\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(Fn.toBytes(Fn.create(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const { Fn, BASE } = Pointk1;\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!inRange(r, _1n, secp256k1_CURVE.p)) return false;\n    const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!inRange(s, _1n, secp256k1_CURVE.n)) return false;\n    // int(challenge(bytes(r)||bytes(P)||m))%n\n    const e = challenge(Fn.toBytes(r), pointToBytes(P), m);\n    // R = s\u22C5G - e\u22C5P, where -eP == (n-e)P\n    const R = BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(Fn.neg(e)));\n    const { x, y } = R.toAffine();\n    // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n    if (R.is0() || !hasEven(y) || x !== r) return false;\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport type SecpSchnorr = {\n  keygen: (seed?: Uint8Array) => { secretKey: Uint8Array; publicKey: Uint8Array };\n  getPublicKey: typeof schnorrGetPublicKey;\n  sign: typeof schnorrSign;\n  verify: typeof schnorrVerify;\n  Point: WeierstrassPointCons<bigint>;\n  utils: {\n    randomSecretKey: (seed?: Uint8Array) => Uint8Array;\n    pointToBytes: (point: PointType<bigint>) => Uint8Array;\n    lift_x: typeof lift_x;\n    taggedHash: typeof taggedHash;\n\n    /** @deprecated use `randomSecretKey` */\n    randomPrivateKey: (seed?: Uint8Array) => Uint8Array;\n    /** @deprecated use `utils` */\n    numberToBytesBE: typeof numberToBytesBE;\n    /** @deprecated use `utils` */\n    bytesToNumberBE: typeof bytesToNumberBE;\n    /** @deprecated use `modular` */\n    mod: typeof mod;\n  };\n  lengths: CurveLengths;\n};\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const { secretKey, publicKey } = schnorr.keygen();\n * // const publicKey = schnorr.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, secretKey);\n * const isValid = schnorr.verify(sig, msg, publicKey);\n * ```\n */\nexport const schnorr: SecpSchnorr = /* @__PURE__ */ (() => {\n  const size = 32;\n  const seedLength = 48;\n  const randomSecretKey = (seed = randomBytes(seedLength)): Uint8Array => {\n    return mapHashToField(seed, secp256k1_CURVE.n);\n  };\n  // TODO: remove\n  secp256k1.utils.randomSecretKey;\n  function keygen(seed?: Uint8Array) {\n    const secretKey = randomSecretKey(seed);\n    return { secretKey, publicKey: schnorrGetPublicKey(secretKey) };\n  }\n  return {\n    keygen,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    Point: Pointk1,\n    utils: {\n      randomSecretKey: randomSecretKey,\n      randomPrivateKey: randomSecretKey,\n      taggedHash,\n\n      // TODO: remove\n      lift_x,\n      pointToBytes,\n      numberToBytesBE,\n      bytesToNumberBE,\n      mod,\n    },\n    lengths: {\n      secretKey: size,\n      publicKey: size,\n      publicKeyHasPrefix: false,\n      signature: size * 2,\n      seed: seedLength,\n    },\n  };\n})();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fpk1,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n  }))();\n\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nexport const secp256k1_hasher: H2CHasher<bigint> = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.Point,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fpk1.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    }\n  ))();\n\n/** @deprecated use `import { secp256k1_hasher } from '@noble/curves/secp256k1.js';` */\nexport const hashToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.hashToCurve)();\n\n/** @deprecated use `import { secp256k1_hasher } from '@noble/curves/secp256k1.js';` */\nexport const encodeToCurve: H2CMethod<bigint> = /* @__PURE__ */ (() =>\n  secp256k1_hasher.encodeToCurve)();\n", "import { Buff } from '@vbyte/buff';\nimport { hmac as noble_hmac } from '@noble/hashes/hmac';\nimport { pbkdf2 as noble_pbkdf2 } from '@noble/hashes/pbkdf2';\nimport { ripemd160 as noble_r160 } from '@noble/hashes/legacy';\nimport { sha256 as noble_s256, sha512 as noble_s512 } from '@noble/hashes/sha2';\nexport function hash160(...input) {\n    const buffer = Buff.join(input);\n    const digest = noble_r160(noble_s256(buffer));\n    return new Buff(digest);\n}\nexport function sha256(...input) {\n    const buffer = Buff.join(input);\n    const digest = noble_s256(buffer);\n    return new Buff(digest);\n}\nexport function hash256(...input) {\n    const buffer = Buff.join(input);\n    const digest = noble_s256(noble_s256(buffer));\n    return new Buff(digest);\n}\nexport function hashtag(tag) {\n    const hash = sha256(Buff.str(tag));\n    return Buff.join([hash, hash]);\n}\nexport function hash340(tag, ...input) {\n    const htag = hashtag(tag);\n    const data = input.map(e => new Buff(e));\n    const pimg = Buff.join([htag, ...data]);\n    return sha256(pimg);\n}\nexport function hmac256(key, ...input) {\n    const mask = new Buff(key);\n    const buffer = Buff.join(input);\n    const digest = noble_hmac(noble_s256, mask, buffer);\n    return new Buff(digest);\n}\nexport function hmac512(key, ...input) {\n    const mask = new Buff(key);\n    const buffer = Buff.join(input);\n    const digest = noble_hmac(noble_s512, mask, buffer);\n    return new Buff(digest);\n}\nexport function pkdf256(secret, salt, options) {\n    const { c = 1, dk_len = 32 } = options ?? {};\n    const sec_u8 = new Buff(secret);\n    const salt_u8 = new Buff(salt);\n    const digest = noble_pbkdf2(noble_s256, sec_u8, salt_u8, { c, dkLen: dk_len });\n    return new Buff(digest);\n}\nexport function pkdf512(secret, salt, options) {\n    const { c = 1, dk_len = 32 } = options ?? {};\n    const sec_u8 = new Buff(secret);\n    const salt_u8 = new Buff(salt);\n    const digest = noble_pbkdf2(noble_s512, sec_u8, salt_u8, { c, dkLen: dk_len });\n    return new Buff(digest);\n}\n", "/**\n\nSHA1 (RFC 3174), MD5 (RFC 1321) and RIPEMD160 (RFC 2286) legacy, weak hash functions.\nDon't use them in a new protocol. What \"weak\" means:\n\n- Collisions can be made with 2^18 effort in MD5, 2^60 in SHA1, 2^80 in RIPEMD160.\n- No practical pre-image attacks (only theoretical, 2^123.4)\n- HMAC seems kinda ok: https://datatracker.ietf.org/doc/html/rfc6151\n * @module\n */\nimport { Chi, HashMD, Maj } from './_md.ts';\nimport { type CHash, clean, createHasher, rotl } from './utils.ts';\n\n/** Initial SHA1 state */\nconst SHA1_IV = /* @__PURE__ */ Uint32Array.from([\n  0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0,\n]);\n\n// Reusable temporary buffer\nconst SHA1_W = /* @__PURE__ */ new Uint32Array(80);\n\n/** SHA1 legacy hash class. */\nexport class SHA1 extends HashMD<SHA1> {\n  private A = SHA1_IV[0] | 0;\n  private B = SHA1_IV[1] | 0;\n  private C = SHA1_IV[2] | 0;\n  private D = SHA1_IV[3] | 0;\n  private E = SHA1_IV[4] | 0;\n\n  constructor() {\n    super(64, 20, 8, false);\n  }\n  protected get(): [number, number, number, number, number] {\n    const { A, B, C, D, E } = this;\n    return [A, B, C, D, E];\n  }\n  protected set(A: number, B: number, C: number, D: number, E: number): void {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    for (let i = 0; i < 16; i++, offset += 4) SHA1_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 80; i++)\n      SHA1_W[i] = rotl(SHA1_W[i - 3] ^ SHA1_W[i - 8] ^ SHA1_W[i - 14] ^ SHA1_W[i - 16], 1);\n    // Compression function main loop, 80 rounds\n    let { A, B, C, D, E } = this;\n    for (let i = 0; i < 80; i++) {\n      let F, K;\n      if (i < 20) {\n        F = Chi(B, C, D);\n        K = 0x5a827999;\n      } else if (i < 40) {\n        F = B ^ C ^ D;\n        K = 0x6ed9eba1;\n      } else if (i < 60) {\n        F = Maj(B, C, D);\n        K = 0x8f1bbcdc;\n      } else {\n        F = B ^ C ^ D;\n        K = 0xca62c1d6;\n      }\n      const T = (rotl(A, 5) + F + E + K + SHA1_W[i]) | 0;\n      E = D;\n      D = C;\n      C = rotl(B, 30);\n      B = A;\n      A = T;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    this.set(A, B, C, D, E);\n  }\n  protected roundClean(): void {\n    clean(SHA1_W);\n  }\n  destroy(): void {\n    this.set(0, 0, 0, 0, 0);\n    clean(this.buffer);\n  }\n}\n\n/** SHA1 (RFC 3174) legacy hash function. It was cryptographically broken. */\nexport const sha1: CHash = /* @__PURE__ */ createHasher(() => new SHA1());\n\n/** Per-round constants */\nconst p32 = /* @__PURE__ */ Math.pow(2, 32);\nconst K = /* @__PURE__ */ Array.from({ length: 64 }, (_, i) =>\n  Math.floor(p32 * Math.abs(Math.sin(i + 1)))\n);\n\n/** md5 initial state: same as sha1, but 4 u32 instead of 5. */\nconst MD5_IV = /* @__PURE__ */ SHA1_IV.slice(0, 4);\n\n// Reusable temporary buffer\nconst MD5_W = /* @__PURE__ */ new Uint32Array(16);\n/** MD5 legacy hash class. */\nexport class MD5 extends HashMD<MD5> {\n  private A = MD5_IV[0] | 0;\n  private B = MD5_IV[1] | 0;\n  private C = MD5_IV[2] | 0;\n  private D = MD5_IV[3] | 0;\n\n  constructor() {\n    super(64, 16, 8, true);\n  }\n  protected get(): [number, number, number, number] {\n    const { A, B, C, D } = this;\n    return [A, B, C, D];\n  }\n  protected set(A: number, B: number, C: number, D: number): void {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    for (let i = 0; i < 16; i++, offset += 4) MD5_W[i] = view.getUint32(offset, true);\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D } = this;\n    for (let i = 0; i < 64; i++) {\n      let F, g, s;\n      if (i < 16) {\n        F = Chi(B, C, D);\n        g = i;\n        s = [7, 12, 17, 22];\n      } else if (i < 32) {\n        F = Chi(D, B, C);\n        g = (5 * i + 1) % 16;\n        s = [5, 9, 14, 20];\n      } else if (i < 48) {\n        F = B ^ C ^ D;\n        g = (3 * i + 5) % 16;\n        s = [4, 11, 16, 23];\n      } else {\n        F = C ^ (B | ~D);\n        g = (7 * i) % 16;\n        s = [6, 10, 15, 21];\n      }\n      F = F + A + K[i] + MD5_W[g];\n      A = D;\n      D = C;\n      C = B;\n      B = B + rotl(F, s[i % 4]);\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    this.set(A, B, C, D);\n  }\n  protected roundClean(): void {\n    clean(MD5_W);\n  }\n  destroy(): void {\n    this.set(0, 0, 0, 0);\n    clean(this.buffer);\n  }\n}\n\n/**\n * MD5 (RFC 1321) legacy hash function. It was cryptographically broken.\n * MD5 architecture is similar to SHA1, with some differences:\n * - Reduced output length: 16 bytes (128 bit) instead of 20\n * - 64 rounds, instead of 80\n * - Little-endian: could be faster, but will require more code\n * - Non-linear index selection: huge speed-up for unroll\n * - Per round constants: more memory accesses, additional speed-up for unroll\n */\nexport const md5: CHash = /* @__PURE__ */ createHasher(() => new MD5());\n\n// RIPEMD-160\n\nconst Rho160 = /* @__PURE__ */ Uint8Array.from([\n  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,\n]);\nconst Id160 = /* @__PURE__ */ (() => Uint8Array.from(new Array(16).fill(0).map((_, i) => i)))();\nconst Pi160 = /* @__PURE__ */ (() => Id160.map((i) => (9 * i + 5) % 16))();\nconst idxLR = /* @__PURE__ */ (() => {\n  const L = [Id160];\n  const R = [Pi160];\n  const res = [L, R];\n  for (let i = 0; i < 4; i++) for (let j of res) j.push(j[i].map((k) => Rho160[k]));\n  return res;\n})();\nconst idxL = /* @__PURE__ */ (() => idxLR[0])();\nconst idxR = /* @__PURE__ */ (() => idxLR[1])();\n// const [idxL, idxR] = idxLR;\n\nconst shifts160 = /* @__PURE__ */ [\n  [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\n  [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\n  [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\n  [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\n  [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\n].map((i) => Uint8Array.from(i));\nconst shiftsL160 = /* @__PURE__ */ idxL.map((idx, i) => idx.map((j) => shifts160[i][j]));\nconst shiftsR160 = /* @__PURE__ */ idxR.map((idx, i) => idx.map((j) => shifts160[i][j]));\nconst Kl160 = /* @__PURE__ */ Uint32Array.from([\n  0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e,\n]);\nconst Kr160 = /* @__PURE__ */ Uint32Array.from([\n  0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000,\n]);\n// It's called f() in spec.\nfunction ripemd_f(group: number, x: number, y: number, z: number): number {\n  if (group === 0) return x ^ y ^ z;\n  if (group === 1) return (x & y) | (~x & z);\n  if (group === 2) return (x | ~y) ^ z;\n  if (group === 3) return (x & z) | (y & ~z);\n  return x ^ (y | ~z);\n}\n// Reusable temporary buffer\nconst BUF_160 = /* @__PURE__ */ new Uint32Array(16);\nexport class RIPEMD160 extends HashMD<RIPEMD160> {\n  private h0 = 0x67452301 | 0;\n  private h1 = 0xefcdab89 | 0;\n  private h2 = 0x98badcfe | 0;\n  private h3 = 0x10325476 | 0;\n  private h4 = 0xc3d2e1f0 | 0;\n\n  constructor() {\n    super(64, 20, 8, true);\n  }\n  protected get(): [number, number, number, number, number] {\n    const { h0, h1, h2, h3, h4 } = this;\n    return [h0, h1, h2, h3, h4];\n  }\n  protected set(h0: number, h1: number, h2: number, h3: number, h4: number): void {\n    this.h0 = h0 | 0;\n    this.h1 = h1 | 0;\n    this.h2 = h2 | 0;\n    this.h3 = h3 | 0;\n    this.h4 = h4 | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    for (let i = 0; i < 16; i++, offset += 4) BUF_160[i] = view.getUint32(offset, true);\n    // prettier-ignore\n    let al = this.h0 | 0, ar = al,\n        bl = this.h1 | 0, br = bl,\n        cl = this.h2 | 0, cr = cl,\n        dl = this.h3 | 0, dr = dl,\n        el = this.h4 | 0, er = el;\n\n    // Instead of iterating 0 to 80, we split it into 5 groups\n    // And use the groups in constants, functions, etc. Much simpler\n    for (let group = 0; group < 5; group++) {\n      const rGroup = 4 - group;\n      const hbl = Kl160[group], hbr = Kr160[group]; // prettier-ignore\n      const rl = idxL[group], rr = idxR[group]; // prettier-ignore\n      const sl = shiftsL160[group], sr = shiftsR160[group]; // prettier-ignore\n      for (let i = 0; i < 16; i++) {\n        const tl = (rotl(al + ripemd_f(group, bl, cl, dl) + BUF_160[rl[i]] + hbl, sl[i]) + el) | 0;\n        al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n      }\n      // 2 loops are 10% faster\n      for (let i = 0; i < 16; i++) {\n        const tr = (rotl(ar + ripemd_f(rGroup, br, cr, dr) + BUF_160[rr[i]] + hbr, sr[i]) + er) | 0;\n        ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n      }\n    }\n    // Add the compressed chunk to the current hash value\n    this.set(\n      (this.h1 + cl + dr) | 0,\n      (this.h2 + dl + er) | 0,\n      (this.h3 + el + ar) | 0,\n      (this.h4 + al + br) | 0,\n      (this.h0 + bl + cr) | 0\n    );\n  }\n  protected roundClean(): void {\n    clean(BUF_160);\n  }\n  destroy(): void {\n    this.destroyed = true;\n    clean(this.buffer);\n    this.set(0, 0, 0, 0, 0);\n  }\n}\n\n/**\n * RIPEMD-160 - a legacy hash function from 1990s.\n * * https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n * * https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\n */\nexport const ripemd160: CHash = /* @__PURE__ */ createHasher(() => new RIPEMD160());\n", "import { z } from 'zod';\nexport const big = z.bigint();\nexport const bool = z.boolean();\nexport const date = z.date();\nexport const num = z.number().min(Number.MIN_SAFE_INTEGER).max(Number.MAX_SAFE_INTEGER);\nexport const int = num.int();\nexport const u8a = z.instanceof(Uint8Array);\nexport const str = z.string();\nexport const stamp = int.min(500_000_000);\nexport const any = z.any();\nexport const zod = z;\nexport const char = int.min(0).max(0xFF);\nexport const short = int.min(0).max(0xFFFF);\nexport const uint = int.min(0).max(0xFFFFFFFF);\nexport const float = z.number().refine((e) => String(e).includes('.'));\nexport const float2 = float.refine((e) => {\n    const parts = String(e).split('.').at(1);\n    return parts !== undefined && parts.length <= 2;\n});\nexport const hex = z.string()\n    .regex(/^[0-9a-fA-F]*$/)\n    .refine(e => e.length % 2 === 0);\nexport const literal = z.union([\n    z.string(), z.number(), z.boolean(), z.null()\n]);\nexport const json = z.lazy(() => z.union([literal, z.array(json), z.record(str, json)]));\nexport const u8a20 = u8a.refine((e) => e.length === 20);\nexport const u8a32 = u8a.refine((e) => e.length === 32);\nexport const u8a33 = u8a.refine((e) => e.length === 33);\nexport const u8a64 = u8a.refine((e) => e.length === 64);\nexport const hex20 = hex.refine((e) => e.length === 40);\nexport const hex32 = hex.refine((e) => e.length === 64);\nexport const hex33 = hex.refine((e) => e.length === 66);\nexport const hex64 = hex.refine((e) => e.length === 128);\nexport const bytes = z.union([hex, u8a]);\nexport const byte32 = z.union([hex32, u8a32]);\nexport const byte33 = z.union([hex33, u8a33]);\nexport const byte64 = z.union([hex64, u8a64]);\nexport const base58 = z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/);\nexport const base64 = z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/);\nexport const base64url = z.string().regex(/^[a-zA-Z0-9\\-_]+={0,2}$/);\nexport const bech32 = z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/);\n", "export * as core from \"../core/index.js\";\nexport * from \"./schemas.js\";\nexport * from \"./checks.js\";\nexport * from \"./errors.js\";\nexport * from \"./parse.js\";\nexport * from \"./compat.js\";\n// zod-specified\nimport { config } from \"../core/index.js\";\nimport en from \"../locales/en.js\";\nconfig(en());\nexport { globalRegistry, registry, config, function, $output, $input, $brand, clone, regexes, treeifyError, prettifyError, formatError, flattenError, toJSONSchema, TimePrecision, NEVER, } from \"../core/index.js\";\nexport * as locales from \"../locales/index.js\";\n// iso\n// must be exported from top-level\n// https://github.com/colinhacks/zod/issues/4491\nexport { ZodISODateTime, ZodISODate, ZodISOTime, ZodISODuration } from \"./iso.js\";\nexport * as iso from \"./iso.js\";\nexport * as coerce from \"./coerce.js\";\n", "export * from \"./core.js\";\nexport * from \"./parse.js\";\nexport * from \"./errors.js\";\nexport * from \"./schemas.js\";\nexport * from \"./checks.js\";\nexport * from \"./versions.js\";\nexport * as util from \"./util.js\";\nexport * as regexes from \"./regexes.js\";\nexport * as locales from \"../locales/index.js\";\nexport * from \"./registries.js\";\nexport * from \"./doc.js\";\nexport * from \"./function.js\";\nexport * from \"./api.js\";\nexport * from \"./to-json-schema.js\";\nexport * as JSONSchema from \"./json-schema.js\";\n", "/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        var _a;\n        Object.defineProperty(inst, \"_zod\", {\n            value: inst._zod ?? {},\n            enumerable: false,\n        });\n        (_a = inst._zod).traits ?? (_a.traits = new Set());\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        for (const k in _.prototype) {\n            if (!(k in inst))\n                Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });\n        }\n        inst._zod.constr = _;\n        inst._zod.def = def;\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n", "// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error();\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepString = step.toString();\n    let stepDecCount = (stepString.split(\".\")[1] || \"\").length;\n    if (stepDecCount === 0 && /\\d?e-\\d?/.test(stepString)) {\n        const match = stepString.match(/\\d?e-(\\d?)/);\n        if (match?.[1]) {\n            stepDecCount = Number.parseInt(match[1]);\n        }\n    }\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nconst EVALUATING = Symbol(\"evaluating\");\nexport function defineLazy(object, key, getter) {\n    let value = undefined;\n    Object.defineProperty(object, key, {\n        get() {\n            if (value === EVALUATING) {\n                // Circular reference detected, return undefined to break the cycle\n                return undefined;\n            }\n            if (value === undefined) {\n                value = EVALUATING;\n                value = getter();\n            }\n            return value;\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function mergeDefs(...defs) {\n    const mergedDescriptors = {};\n    for (const def of defs) {\n        const descriptors = Object.getOwnPropertyDescriptors(def);\n        Object.assign(mergedDescriptors, descriptors);\n    }\n    return Object.defineProperties({}, mergedDescriptors);\n}\nexport function cloneDef(schema) {\n    return mergeDefs(schema._zod.def);\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport const captureStackTrace = (\"captureStackTrace\" in Error ? Error.captureStackTrace : (..._args) => { });\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    // @ts-ignore\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            // @ts-ignore\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = {};\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                newShape[key] = currDef.shape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function omit(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = { ...schema._zod.def.shape };\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                delete newShape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    const def = mergeDefs(a._zod.def, {\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        get catchall() {\n            return b._zod.def.catchall;\n        },\n        checks: [], // delete existing checks\n    });\n    return clone(a, def);\n}\nexport function partial(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in oldShape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function required(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in shape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\n// invalid_type | too_big | too_small | invalid_format | not_multiple_of | unrecognized_keys | invalid_union | invalid_key | invalid_element | invalid_value | custom\nexport function aborted(x, startIndex = 0) {\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    // @ts-ignore\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n", "import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    inst.message = JSON.stringify(def, util.jsonStringifyReplacer, 2);\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *   \u2716 Expected number, received string at \"username\n * favoriteNumbers[0]\n *   \u2716 Invalid input: expected number\n * ```\n */\nexport function toDotPath(_path) {\n    const segs = [];\n    const path = _path.map((seg) => (typeof seg === \"object\" ? seg.key : seg));\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(`\u2716 ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`  \u2192 at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n", "import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\n", "export const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 9562/4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const idnEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/;\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const hostname = /^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\nexport const e164 = /^\\+(?:[0-9]){6,14}[0-9]$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    // if (args.offset) opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    if (args.offset)\n        opts.push(`([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^\\d+n?$/;\nexport const integer = /^\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?/i;\nexport const boolean = /true|false/i;\nconst _null = /null/i;\nexport { _null as null };\nconst _undefined = /undefined/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n", "// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    continue: false,\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n", "export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n", "export const version = {\n    major: 4,\n    minor: 0,\n    patch: 14,\n};\n", "import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    //\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        inst._zod.run = (payload, ctx) => {\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    inst[\"~standard\"] = {\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    };\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            // Trim whitespace from input\n            const trimmed = payload.value.trim();\n            // @ts-ignore\n            const url = new URL(trimmed);\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: regexes.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // Set the output value based on normalize flag\n            if (def.normalize) {\n                // Use normalized URL\n                payload.value = url.href;\n            }\n            else {\n                // Preserve the original input (trimmed)\n                payload.value = trimmed;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv4`;\n    });\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv6`;\n    });\n    inst._zod.check = (payload) => {\n        try {\n            // @ts-ignore\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const [address, prefix] = payload.value.split(\"/\");\n        try {\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            // @ts-ignore\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        // @ts-ignore\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64url\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        // @ts-ignore\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checksp\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handlePropertyResult(result, final, key, input) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    if (result.value === undefined) {\n        if (key in input) {\n            final.value[key] = undefined;\n        }\n    }\n    else {\n        final.value[key] = result.value;\n    }\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    const _normalized = util.cached(() => {\n        const keys = Object.keys(def.shape);\n        for (const k of keys) {\n            if (!(def.shape[k] instanceof $ZodType)) {\n                throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n            }\n        }\n        const okeys = util.optionalKeys(def.shape);\n        return {\n            shape: def.shape,\n            keys,\n            keySet: new Set(keys),\n            numKeys: keys.length,\n            optionalKeys: new Set(okeys),\n        };\n    });\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {}`);\n        for (const key of normalized.keys) {\n            const id = ids[key];\n            const k = util.esc(key);\n            doc.write(`const ${id} = ${parseStr(key)};`);\n            doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n      `);\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n        }\n        else {\n            payload.value = {};\n            const shape = value.shape;\n            for (const key of value.keys) {\n                const el = shape[key];\n                const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n                if (r instanceof Promise) {\n                    proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n                }\n                else {\n                    handlePropertyResult(r, payload, key, input);\n                }\n            }\n        }\n        if (!catchall) {\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        const unrecognized = [];\n        // iterate over input keys\n        const keySet = value.keySet;\n        const _catchall = catchall._zod;\n        const t = _catchall.def.type;\n        for (const key of Object.keys(input)) {\n            if (keySet.has(key))\n                continue;\n            if (t === \"never\") {\n                unrecognized.push(key);\n                continue;\n            }\n            const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n            }\n            else {\n                handlePropertyResult(r, payload, key, input);\n            }\n        }\n        if (unrecognized.length) {\n            payload.issues.push({\n                code: \"unrecognized_keys\",\n                keys: unrecognized,\n                input,\n                inst,\n            });\n        }\n        if (!proms.length)\n            return payload;\n        return Promise.all(proms).then(() => {\n            return payload;\n        });\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    const nonaborted = results.filter((r) => !util.aborted(r));\n    if (nonaborted.length === 1) {\n        final.value = nonaborted[0].value;\n        return nonaborted[0];\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues?.[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            discriminator: def.discriminator,\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    if (left.issues.length) {\n        result.issues.push(...left.issues);\n    }\n    if (right.issues.length) {\n        result.issues.push(...right.issues);\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    ...(tooBig ? { code: \"too_big\", maximum: items.length } : { code: \"too_small\", minimum: items.length }),\n                    input,\n                    inst,\n                    origin: \"array\",\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (def.keyType._zod.values) {\n            const values = def.keyType._zod.values;\n            payload.value = {};\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!values.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                if (keyResult.issues.length) {\n                    payload.issues.push({\n                        code: \"invalid_key\",\n                        origin: \"record\",\n                        issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        input: key,\n                        path: [key],\n                        inst,\n                    });\n                    payload.value[keyResult.value] = keyResult.value;\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                code: \"invalid_key\",\n                origin: \"map\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    const valuesSet = new Set(values);\n    inst._zod.values = valuesSet;\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (valuesSet.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    if (def.values.length === 0) {\n        throw new Error(\"Cannot create literal schema with no valid values\");\n    }\n    inst._zod.values = new Set(def.values);\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? util.escapeRegex(o.toString()) : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (inst._zod.values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        // @ts-ignore\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const _out = def.transform(payload.value, payload);\n        if (_ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nfunction handleOptionalResult(result, input) {\n    if (result.issues.length && input === undefined) {\n        return { issues: [], value: undefined };\n    }\n    return result;\n}\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            const result = def.innerType._zod.run(payload, ctx);\n            if (result instanceof Promise)\n                return result.then((r) => handleOptionalResult(r, payload.value));\n            return handleOptionalResult(result, payload.value);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault always returns the default value immediately.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def, ctx));\n        }\n        return handlePipeResult(left, def, ctx);\n    };\n});\nfunction handlePipeResult(left, def, ctx) {\n    if (left.issues.length) {\n        return left;\n    }\n    return def.out._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (part instanceof $ZodType) {\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"template_literal\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: def.format ?? \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // let _innerType!: any;\n    // util.defineLazy(def, \"getter\", () => {\n    //   if (!_innerType) {\n    //     _innerType = def.getter();\n    //   }\n    //   return () => _innerType;\n    // });\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType._zod.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType._zod.optin ?? undefined);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType._zod.optout ?? undefined);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n", "export { default as ar } from \"./ar.js\";\nexport { default as az } from \"./az.js\";\nexport { default as be } from \"./be.js\";\nexport { default as ca } from \"./ca.js\";\nexport { default as cs } from \"./cs.js\";\nexport { default as da } from \"./da.js\";\nexport { default as de } from \"./de.js\";\nexport { default as en } from \"./en.js\";\nexport { default as eo } from \"./eo.js\";\nexport { default as es } from \"./es.js\";\nexport { default as fa } from \"./fa.js\";\nexport { default as fi } from \"./fi.js\";\nexport { default as fr } from \"./fr.js\";\nexport { default as frCA } from \"./fr-CA.js\";\nexport { default as he } from \"./he.js\";\nexport { default as hu } from \"./hu.js\";\nexport { default as id } from \"./id.js\";\nexport { default as is } from \"./is.js\";\nexport { default as it } from \"./it.js\";\nexport { default as ja } from \"./ja.js\";\nexport { default as kh } from \"./kh.js\";\nexport { default as ko } from \"./ko.js\";\nexport { default as mk } from \"./mk.js\";\nexport { default as ms } from \"./ms.js\";\nexport { default as nl } from \"./nl.js\";\nexport { default as no } from \"./no.js\";\nexport { default as ota } from \"./ota.js\";\nexport { default as ps } from \"./ps.js\";\nexport { default as pl } from \"./pl.js\";\nexport { default as pt } from \"./pt.js\";\nexport { default as ru } from \"./ru.js\";\nexport { default as sl } from \"./sl.js\";\nexport { default as sv } from \"./sv.js\";\nexport { default as ta } from \"./ta.js\";\nexport { default as th } from \"./th.js\";\nexport { default as tr } from \"./tr.js\";\nexport { default as ua } from \"./ua.js\";\nexport { default as ur } from \"./ur.js\";\nexport { default as vi } from \"./vi.js\";\nexport { default as zhCN } from \"./zh-CN.js\";\nexport { default as zhTW } from \"./zh-TW.js\";\nexport { default as yo } from \"./yo.js\";\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u062D\u0631\u0641\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n        file: { unit: \"\u0628\u0627\u064A\u062A\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n        array: { unit: \"\u0639\u0646\u0635\u0631\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n        set: { unit: \"\u0639\u0646\u0635\u0631\", verb: \"\u0623\u0646 \u064A\u062D\u0648\u064A\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0645\u062F\u062E\u0644\",\n        email: \"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\",\n        url: \"\u0631\u0627\u0628\u0637\",\n        emoji: \"\u0625\u064A\u0645\u0648\u062C\u064A\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        date: \"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        time: \"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        duration: \"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO\",\n        ipv4: \"\u0639\u0646\u0648\u0627\u0646 IPv4\",\n        ipv6: \"\u0639\u0646\u0648\u0627\u0646 IPv6\",\n        cidrv4: \"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4\",\n        cidrv6: \"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6\",\n        base64: \"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded\",\n        base64url: \"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded\",\n        json_string: \"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON\",\n        e164: \"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0645\u062F\u062E\u0644\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${issue.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return ` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue.origin ?? \"\u0627\u0644\u0642\u064A\u0645\u0629\"} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0635\u0631\"}`;\n                return `\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue.origin ?? \"\u0627\u0644\u0642\u064A\u0645\u0629\"} ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 \"${issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;\n            }\n            case \"not_multiple_of\":\n                return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u0645\u0639\u0631\u0641${issue.keys.length > 1 ? \"\u0627\u062A\" : \"\"} \u063A\u0631\u064A\u0628${issue.keys.length > 1 ? \"\u0629\" : \"\"}: ${util.joinValues(issue.keys, \"\u060C \")}`;\n            case \"invalid_key\":\n                return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\";\n            case \"invalid_element\":\n                return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue.origin}`;\n            default:\n                return \"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"simvol\", verb: \"olmal\u0131d\u0131r\" },\n        file: { unit: \"bayt\", verb: \"olmal\u0131d\u0131r\" },\n        array: { unit: \"element\", verb: \"olmal\u0131d\u0131r\" },\n        set: { unit: \"element\", verb: \"olmal\u0131d\u0131r\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Yanl\u0131\u015F d\u0259y\u0259r: g\u00F6zl\u0259nil\u0259n ${issue.expected}, daxil olan ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Yanl\u0131\u015F d\u0259y\u0259r: g\u00F6zl\u0259nil\u0259n ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Yanl\u0131\u015F se\u00E7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ox b\u00F6y\u00FCk: g\u00F6zl\u0259nil\u0259n ${issue.origin ?? \"d\u0259y\u0259r\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\"}`;\n                return `\u00C7ox b\u00F6y\u00FCk: g\u00F6zl\u0259nil\u0259n ${issue.origin ?? \"d\u0259y\u0259r\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ox ki\u00E7ik: g\u00F6zl\u0259nil\u0259n ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                return `\u00C7ox ki\u00E7ik: g\u00F6zl\u0259nil\u0259n ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Yanl\u0131\u015F m\u0259tn: \"${_issue.prefix}\" il\u0259 ba\u015Flamal\u0131d\u0131r`;\n                if (_issue.format === \"ends_with\")\n                    return `Yanl\u0131\u015F m\u0259tn: \"${_issue.suffix}\" il\u0259 bitm\u0259lidir`;\n                if (_issue.format === \"includes\")\n                    return `Yanl\u0131\u015F m\u0259tn: \"${_issue.includes}\" daxil olmal\u0131d\u0131r`;\n                if (_issue.format === \"regex\")\n                    return `Yanl\u0131\u015F m\u0259tn: ${_issue.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;\n                return `Yanl\u0131\u015F ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Yanl\u0131\u015F \u0259d\u0259d: ${issue.divisor} il\u0259 b\u00F6l\u00FCn\u0259 bil\u0259n olmal\u0131d\u0131r`;\n            case \"unrecognized_keys\":\n                return `Tan\u0131nmayan a\u00E7ar${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} daxilind\u0259 yanl\u0131\u015F a\u00E7ar`;\n            case \"invalid_union\":\n                return \"Yanl\u0131\u015F d\u0259y\u0259r\";\n            case \"invalid_element\":\n                return `${issue.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;\n            default:\n                return `Yanl\u0131\u015F d\u0259y\u0259r`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nfunction getBelarusianPlural(count, one, few, many) {\n    const absCount = Math.abs(count);\n    const lastDigit = absCount % 10;\n    const lastTwoDigits = absCount % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n        return many;\n    }\n    if (lastDigit === 1) {\n        return one;\n    }\n    if (lastDigit >= 2 && lastDigit <= 4) {\n        return few;\n    }\n    return many;\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"\u0441\u0456\u043C\u0432\u0430\u043B\",\n                few: \"\u0441\u0456\u043C\u0432\u0430\u043B\u044B\",\n                many: \"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n        array: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n        set: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n        file: {\n            unit: {\n                one: \"\u0431\u0430\u0439\u0442\",\n                few: \"\u0431\u0430\u0439\u0442\u044B\",\n                many: \"\u0431\u0430\u0439\u0442\u0430\u045E\",\n            },\n            verb: \"\u043C\u0435\u0446\u044C\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u043B\u0456\u043A\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043C\u0430\u0441\u0456\u045E\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0443\u0432\u043E\u0434\",\n        email: \"email \u0430\u0434\u0440\u0430\u0441\",\n        url: \"URL\",\n        emoji: \"\u044D\u043C\u043E\u0434\u0437\u0456\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441\",\n        date: \"ISO \u0434\u0430\u0442\u0430\",\n        time: \"ISO \u0447\u0430\u0441\",\n        duration: \"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0430\u0441\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0430\u0441\",\n        cidrv4: \"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D\",\n        cidrv6: \"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D\",\n        base64: \"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64\",\n        base64url: \"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url\",\n        json_string: \"JSON \u0440\u0430\u0434\u043E\u043A\",\n        e164: \"\u043D\u0443\u043C\u0430\u0440 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0443\u0432\u043E\u0434\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${issue.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435\"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435\"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${issue.keys.length > 1 ? \"\u043A\u043B\u044E\u0447\u044B\" : \"\u043A\u043B\u044E\u0447\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434\";\n            case \"invalid_element\":\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${issue.origin}`;\n            default:\n                return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"car\u00E0cters\", verb: \"contenir\" },\n        file: { unit: \"bytes\", verb: \"contenir\" },\n        array: { unit: \"elements\", verb: \"contenir\" },\n        set: { unit: \"elements\", verb: \"contenir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entrada\",\n        email: \"adre\u00E7a electr\u00F2nica\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data i hora ISO\",\n        date: \"data ISO\",\n        time: \"hora ISO\",\n        duration: \"durada ISO\",\n        ipv4: \"adre\u00E7a IPv4\",\n        ipv6: \"adre\u00E7a IPv6\",\n        cidrv4: \"rang IPv4\",\n        cidrv6: \"rang IPv6\",\n        base64: \"cadena codificada en base64\",\n        base64url: \"cadena codificada en base64url\",\n        json_string: \"cadena JSON\",\n        e164: \"n\u00FAmero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Tipus inv\u00E0lid: s'esperava ${issue.expected}, s'ha rebut ${parsedType(issue.input)}`;\n            // return `Tipus inv\u00E0lid: s'esperava ${issue.expected}, s'ha rebut ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Valor inv\u00E0lid: s'esperava ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opci\u00F3 inv\u00E0lida: s'esperava una de ${util.joinValues(issue.values, \" o \")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"com a m\u00E0xim\" : \"menys de\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Massa gran: s'esperava que ${issue.origin ?? \"el valor\"} contingu\u00E9s ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Massa gran: s'esperava que ${issue.origin ?? \"el valor\"} fos ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"com a m\u00EDnim\" : \"m\u00E9s de\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Massa petit: s'esperava que ${issue.origin} contingu\u00E9s ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Massa petit: s'esperava que ${issue.origin} fos ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Format inv\u00E0lid: ha de comen\u00E7ar amb \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Format inv\u00E0lid: ha d'acabar amb \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Format inv\u00E0lid: ha d'incloure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Format inv\u00E0lid: ha de coincidir amb el patr\u00F3 ${_issue.pattern}`;\n                return `Format inv\u00E0lid per a ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `N\u00FAmero inv\u00E0lid: ha de ser m\u00FAltiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Clau${issue.keys.length > 1 ? \"s\" : \"\"} no reconeguda${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Clau inv\u00E0lida a ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inv\u00E0lida\"; // Could also be \"Tipus d'uni\u00F3 inv\u00E0lid\" but \"Entrada inv\u00E0lida\" is more general\n            case \"invalid_element\":\n                return `Element inv\u00E0lid a ${issue.origin}`;\n            default:\n                return `Entrada inv\u00E0lida`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znak\u016F\", verb: \"m\u00EDt\" },\n        file: { unit: \"bajt\u016F\", verb: \"m\u00EDt\" },\n        array: { unit: \"prvk\u016F\", verb: \"m\u00EDt\" },\n        set: { unit: \"prvk\u016F\", verb: \"m\u00EDt\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u010D\u00EDslo\";\n            }\n            case \"string\": {\n                return \"\u0159et\u011Bzec\";\n            }\n            case \"boolean\": {\n                return \"boolean\";\n            }\n            case \"bigint\": {\n                return \"bigint\";\n            }\n            case \"function\": {\n                return \"funkce\";\n            }\n            case \"symbol\": {\n                return \"symbol\";\n            }\n            case \"undefined\": {\n                return \"undefined\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"pole\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"regul\u00E1rn\u00ED v\u00FDraz\",\n        email: \"e-mailov\u00E1 adresa\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"datum a \u010Das ve form\u00E1tu ISO\",\n        date: \"datum ve form\u00E1tu ISO\",\n        time: \"\u010Das ve form\u00E1tu ISO\",\n        duration: \"doba trv\u00E1n\u00ED ISO\",\n        ipv4: \"IPv4 adresa\",\n        ipv6: \"IPv6 adresa\",\n        cidrv4: \"rozsah IPv4\",\n        cidrv6: \"rozsah IPv6\",\n        base64: \"\u0159et\u011Bzec zak\u00F3dovan\u00FD ve form\u00E1tu base64\",\n        base64url: \"\u0159et\u011Bzec zak\u00F3dovan\u00FD ve form\u00E1tu base64url\",\n        json_string: \"\u0159et\u011Bzec ve form\u00E1tu JSON\",\n        e164: \"\u010D\u00EDslo E.164\",\n        jwt: \"JWT\",\n        template_literal: \"vstup\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Neplatn\u00FD vstup: o\u010Dek\u00E1v\u00E1no ${issue.expected}, obdr\u017Eeno ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Neplatn\u00FD vstup: o\u010Dek\u00E1v\u00E1no ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Neplatn\u00E1 mo\u017Enost: o\u010Dek\u00E1v\u00E1na jedna z hodnot ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Hodnota je p\u0159\u00EDli\u0161 velk\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED m\u00EDt ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"prvk\u016F\"}`;\n                }\n                return `Hodnota je p\u0159\u00EDli\u0161 velk\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED b\u00FDt ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Hodnota je p\u0159\u00EDli\u0161 mal\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED m\u00EDt ${adj}${issue.minimum.toString()} ${sizing.unit ?? \"prvk\u016F\"}`;\n                }\n                return `Hodnota je p\u0159\u00EDli\u0161 mal\u00E1: ${issue.origin ?? \"hodnota\"} mus\u00ED b\u00FDt ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED za\u010D\u00EDnat na \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED kon\u010Dit na \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED obsahovat \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Neplatn\u00FD \u0159et\u011Bzec: mus\u00ED odpov\u00EDdat vzoru ${_issue.pattern}`;\n                return `Neplatn\u00FD form\u00E1t ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Neplatn\u00E9 \u010D\u00EDslo: mus\u00ED b\u00FDt n\u00E1sobkem ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nezn\u00E1m\u00E9 kl\u00ED\u010De: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Neplatn\u00FD kl\u00ED\u010D v ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Neplatn\u00FD vstup\";\n            case \"invalid_element\":\n                return `Neplatn\u00E1 hodnota v ${issue.origin}`;\n            default:\n                return `Neplatn\u00FD vstup`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tegn\", verb: \"havde\" },\n        file: { unit: \"bytes\", verb: \"havde\" },\n        array: { unit: \"elementer\", verb: \"indeholdt\" },\n        set: { unit: \"elementer\", verb: \"indeholdt\" },\n    };\n    const TypeNames = {\n        string: \"streng\",\n        number: \"tal\",\n        boolean: \"boolean\",\n        array: \"liste\",\n        object: \"objekt\",\n        set: \"s\u00E6t\",\n        file: \"fil\",\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    function getTypeName(type) {\n        return TypeNames[type] ?? type;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"tal\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"liste\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n                return \"objekt\";\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"e-mailadresse\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dato- og klokkesl\u00E6t\",\n        date: \"ISO-dato\",\n        time: \"ISO-klokkesl\u00E6t\",\n        duration: \"ISO-varighed\",\n        ipv4: \"IPv4-omr\u00E5de\",\n        ipv6: \"IPv6-omr\u00E5de\",\n        cidrv4: \"IPv4-spektrum\",\n        cidrv6: \"IPv6-spektrum\",\n        base64: \"base64-kodet streng\",\n        base64url: \"base64url-kodet streng\",\n        json_string: \"JSON-streng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ugyldigt input: forventede ${getTypeName(issue.expected)}, fik ${getTypeName(parsedType(issue.input))}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ugyldig v\u00E6rdi: forventede ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ugyldigt valg: forventede en af f\u00F8lgende ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                const origin = getTypeName(issue.origin);\n                if (sizing)\n                    return `For stor: forventede ${origin ?? \"value\"} ${sizing.verb} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"elementer\"}`;\n                return `For stor: forventede ${origin ?? \"value\"} havde ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                const origin = getTypeName(issue.origin);\n                if (sizing) {\n                    return `For lille: forventede ${origin} ${sizing.verb} ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `For lille: forventede ${origin} havde ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ugyldig streng: skal starte med \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ugyldig streng: skal ende med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ugyldig streng: skal indeholde \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ugyldig streng: skal matche m\u00F8nsteret ${_issue.pattern}`;\n                return `Ugyldig ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ugyldigt tal: skal v\u00E6re deleligt med ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ukendte n\u00F8gler\" : \"Ukendt n\u00F8gle\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ugyldig n\u00F8gle i ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ugyldigt input: matcher ingen af de tilladte typer\";\n            case \"invalid_element\":\n                return `Ugyldig v\u00E6rdi i ${issue.origin}`;\n            default:\n                return `Ugyldigt input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"Zeichen\", verb: \"zu haben\" },\n        file: { unit: \"Bytes\", verb: \"zu haben\" },\n        array: { unit: \"Elemente\", verb: \"zu haben\" },\n        set: { unit: \"Elemente\", verb: \"zu haben\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"Zahl\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"Array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"Eingabe\",\n        email: \"E-Mail-Adresse\",\n        url: \"URL\",\n        emoji: \"Emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-Datum und -Uhrzeit\",\n        date: \"ISO-Datum\",\n        time: \"ISO-Uhrzeit\",\n        duration: \"ISO-Dauer\",\n        ipv4: \"IPv4-Adresse\",\n        ipv6: \"IPv6-Adresse\",\n        cidrv4: \"IPv4-Bereich\",\n        cidrv6: \"IPv6-Bereich\",\n        base64: \"Base64-codierter String\",\n        base64url: \"Base64-URL-codierter String\",\n        json_string: \"JSON-String\",\n        e164: \"E.164-Nummer\",\n        jwt: \"JWT\",\n        template_literal: \"Eingabe\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ung\u00FCltige Eingabe: erwartet ${issue.expected}, erhalten ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ung\u00FCltige Eingabe: erwartet ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ung\u00FCltige Option: erwartet eine von ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Zu gro\u00DF: erwartet, dass ${issue.origin ?? \"Wert\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"Elemente\"} hat`;\n                return `Zu gro\u00DF: erwartet, dass ${issue.origin ?? \"Wert\"} ${adj}${issue.maximum.toString()} ist`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Zu klein: erwartet, dass ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} hat`;\n                }\n                return `Zu klein: erwartet, dass ${issue.origin} ${adj}${issue.minimum.toString()} ist`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ung\u00FCltiger String: muss mit \"${_issue.prefix}\" beginnen`;\n                if (_issue.format === \"ends_with\")\n                    return `Ung\u00FCltiger String: muss mit \"${_issue.suffix}\" enden`;\n                if (_issue.format === \"includes\")\n                    return `Ung\u00FCltiger String: muss \"${_issue.includes}\" enthalten`;\n                if (_issue.format === \"regex\")\n                    return `Ung\u00FCltiger String: muss dem Muster ${_issue.pattern} entsprechen`;\n                return `Ung\u00FCltig: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ung\u00FCltige Zahl: muss ein Vielfaches von ${issue.divisor} sein`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Unbekannte Schl\u00FCssel\" : \"Unbekannter Schl\u00FCssel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ung\u00FCltiger Schl\u00FCssel in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ung\u00FCltige Eingabe\";\n            case \"invalid_element\":\n                return `Ung\u00FCltiger Wert in ${issue.origin}`;\n            default:\n                return `Ung\u00FCltige Eingabe`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"number\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"characters\", verb: \"to have\" },\n        file: { unit: \"bytes\", verb: \"to have\" },\n        array: { unit: \"items\", verb: \"to have\" },\n        set: { unit: \"items\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Invalid input: expected ${issue.expected}, received ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Invalid option: expected one of ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Too big: expected ${issue.origin ?? \"value\"} to have ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Too big: expected ${issue.origin ?? \"value\"} to be ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Too small: expected ${issue.origin} to have ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Too small: expected ${issue.origin} to be ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Invalid string: must start with \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Invalid string: must end with \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Invalid string: must include \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Invalid string: must match pattern ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Invalid number: must be a multiple of ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Unrecognized key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Invalid key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Invalid input\";\n            case \"invalid_element\":\n                return `Invalid value in ${issue.origin}`;\n            default:\n                return `Invalid input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"nombro\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"tabelo\";\n            }\n            if (data === null) {\n                return \"senvalora\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karaktrojn\", verb: \"havi\" },\n        file: { unit: \"bajtojn\", verb: \"havi\" },\n        array: { unit: \"elementojn\", verb: \"havi\" },\n        set: { unit: \"elementojn\", verb: \"havi\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"enigo\",\n        email: \"retadreso\",\n        url: \"URL\",\n        emoji: \"emo\u011Dio\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-datotempo\",\n        date: \"ISO-dato\",\n        time: \"ISO-tempo\",\n        duration: \"ISO-da\u016Dro\",\n        ipv4: \"IPv4-adreso\",\n        ipv6: \"IPv6-adreso\",\n        cidrv4: \"IPv4-rango\",\n        cidrv6: \"IPv6-rango\",\n        base64: \"64-ume kodita karaktraro\",\n        base64url: \"URL-64-ume kodita karaktraro\",\n        json_string: \"JSON-karaktraro\",\n        e164: \"E.164-nombro\",\n        jwt: \"JWT\",\n        template_literal: \"enigo\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Nevalida enigo: atendi\u011Dis ${issue.expected}, ricevi\u011Dis ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Nevalida enigo: atendi\u011Dis ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Nevalida opcio: atendi\u011Dis unu el ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Tro granda: atendi\u011Dis ke ${issue.origin ?? \"valoro\"} havu ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementojn\"}`;\n                return `Tro granda: atendi\u011Dis ke ${issue.origin ?? \"valoro\"} havu ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Tro malgranda: atendi\u011Dis ke ${issue.origin} havu ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Tro malgranda: atendi\u011Dis ke ${issue.origin} estu ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Nevalida karaktraro: devas komenci\u011Di per \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Nevalida karaktraro: devas fini\u011Di per \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Nevalida karaktraro: devas inkluzivi \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Nevalida karaktraro: devas kongrui kun la modelo ${_issue.pattern}`;\n                return `Nevalida ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nevalida nombro: devas esti oblo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nekonata${issue.keys.length > 1 ? \"j\" : \"\"} \u015Dlosilo${issue.keys.length > 1 ? \"j\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Nevalida \u015Dlosilo en ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Nevalida enigo\";\n            case \"invalid_element\":\n                return `Nevalida valoro en ${issue.origin}`;\n            default:\n                return `Nevalida enigo`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caracteres\", verb: \"tener\" },\n        file: { unit: \"bytes\", verb: \"tener\" },\n        array: { unit: \"elementos\", verb: \"tener\" },\n        set: { unit: \"elementos\", verb: \"tener\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"n\u00FAmero\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"arreglo\";\n                }\n                if (data === null) {\n                    return \"nulo\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entrada\",\n        email: \"direcci\u00F3n de correo electr\u00F3nico\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"fecha y hora ISO\",\n        date: \"fecha ISO\",\n        time: \"hora ISO\",\n        duration: \"duraci\u00F3n ISO\",\n        ipv4: \"direcci\u00F3n IPv4\",\n        ipv6: \"direcci\u00F3n IPv6\",\n        cidrv4: \"rango IPv4\",\n        cidrv6: \"rango IPv6\",\n        base64: \"cadena codificada en base64\",\n        base64url: \"URL codificada en base64\",\n        json_string: \"cadena JSON\",\n        e164: \"n\u00FAmero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Entrada inv\u00E1lida: se esperaba ${issue.expected}, recibido ${parsedType(issue.input)}`;\n            // return `Entrada inv\u00E1lida: se esperaba ${issue.expected}, recibido ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrada inv\u00E1lida: se esperaba ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opci\u00F3n inv\u00E1lida: se esperaba una de ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Demasiado grande: se esperaba que ${issue.origin ?? \"valor\"} tuviera ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementos\"}`;\n                return `Demasiado grande: se esperaba que ${issue.origin ?? \"valor\"} fuera ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Demasiado peque\u00F1o: se esperaba que ${issue.origin} tuviera ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Demasiado peque\u00F1o: se esperaba que ${issue.origin} fuera ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Cadena inv\u00E1lida: debe comenzar con \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Cadena inv\u00E1lida: debe terminar en \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cadena inv\u00E1lida: debe incluir \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cadena inv\u00E1lida: debe coincidir con el patr\u00F3n ${_issue.pattern}`;\n                return `Inv\u00E1lido ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `N\u00FAmero inv\u00E1lido: debe ser m\u00FAltiplo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Llave${issue.keys.length > 1 ? \"s\" : \"\"} desconocida${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Llave inv\u00E1lida en ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inv\u00E1lida\";\n            case \"invalid_element\":\n                return `Valor inv\u00E1lido en ${issue.origin}`;\n            default:\n                return `Entrada inv\u00E1lida`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n        file: { unit: \"\u0628\u0627\u06CC\u062A\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n        array: { unit: \"\u0622\u06CC\u062A\u0645\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n        set: { unit: \"\u0622\u06CC\u062A\u0645\", verb: \"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0639\u062F\u062F\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0622\u0631\u0627\u06CC\u0647\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0648\u0631\u0648\u062F\u06CC\",\n        email: \"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644\",\n        url: \"URL\",\n        emoji: \"\u0627\u06CC\u0645\u0648\u062C\u06CC\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648\",\n        date: \"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648\",\n        time: \"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648\",\n        duration: \"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648\",\n        ipv4: \"IPv4 \u0622\u062F\u0631\u0633\",\n        ipv6: \"IPv6 \u0622\u062F\u0631\u0633\",\n        cidrv4: \"IPv4 \u062F\u0627\u0645\u0646\u0647\",\n        cidrv6: \"IPv6 \u062F\u0627\u0645\u0646\u0647\",\n        base64: \"base64-encoded \u0631\u0634\u062A\u0647\",\n        base64url: \"base64url-encoded \u0631\u0634\u062A\u0647\",\n        json_string: \"JSON \u0631\u0634\u062A\u0647\",\n        e164: \"E.164 \u0639\u062F\u062F\",\n        jwt: \"JWT\",\n        template_literal: \"\u0648\u0631\u0648\u062F\u06CC\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${issue.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${parsedType(issue.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;\n            case \"invalid_value\":\n                if (issue.values.length === 1) {\n                    return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${util.stringifyPrimitive(issue.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;\n                }\n                return `\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${util.joinValues(issue.values, \"|\")} \u0645\u06CC\u200C\u0628\u0648\u062F`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue.origin ?? \"\u0645\u0642\u062F\u0627\u0631\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0635\u0631\"} \u0628\u0627\u0634\u062F`;\n                }\n                return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue.origin ?? \"\u0645\u0642\u062F\u0627\u0631\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} \u0628\u0627\u0634\u062F`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} ${sizing.unit} \u0628\u0627\u0634\u062F`;\n                }\n                return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} \u0628\u0627\u0634\u062F`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \"${_issue.prefix}\" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;\n                }\n                if (_issue.format === \"ends_with\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \"${_issue.suffix}\" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;\n                }\n                if (_issue.format === \"includes\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 \"${_issue.includes}\" \u0628\u0627\u0634\u062F`;\n                }\n                if (_issue.format === \"regex\") {\n                    return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${_issue.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;\n                }\n                return `${Nouns[_issue.format] ?? issue.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;\n            }\n            case \"not_multiple_of\":\n                return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${issue.divisor} \u0628\u0627\u0634\u062F`;\n            case \"unrecognized_keys\":\n                return `\u06A9\u0644\u06CC\u062F${issue.keys.length > 1 ? \"\u0647\u0627\u06CC\" : \"\"} \u0646\u0627\u0634\u0646\u0627\u0633: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${issue.origin}`;\n            case \"invalid_union\":\n                return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;\n            case \"invalid_element\":\n                return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${issue.origin}`;\n            default:\n                return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"merkki\u00E4\", subject: \"merkkijonon\" },\n        file: { unit: \"tavua\", subject: \"tiedoston\" },\n        array: { unit: \"alkiota\", subject: \"listan\" },\n        set: { unit: \"alkiota\", subject: \"joukon\" },\n        number: { unit: \"\", subject: \"luvun\" },\n        bigint: { unit: \"\", subject: \"suuren kokonaisluvun\" },\n        int: { unit: \"\", subject: \"kokonaisluvun\" },\n        date: { unit: \"\", subject: \"p\u00E4iv\u00E4m\u00E4\u00E4r\u00E4n\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"s\u00E4\u00E4nn\u00F6llinen lauseke\",\n        email: \"s\u00E4hk\u00F6postiosoite\",\n        url: \"URL-osoite\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-aikaleima\",\n        date: \"ISO-p\u00E4iv\u00E4m\u00E4\u00E4r\u00E4\",\n        time: \"ISO-aika\",\n        duration: \"ISO-kesto\",\n        ipv4: \"IPv4-osoite\",\n        ipv6: \"IPv6-osoite\",\n        cidrv4: \"IPv4-alue\",\n        cidrv6: \"IPv6-alue\",\n        base64: \"base64-koodattu merkkijono\",\n        base64url: \"base64url-koodattu merkkijono\",\n        json_string: \"JSON-merkkijono\",\n        e164: \"E.164-luku\",\n        jwt: \"JWT\",\n        template_literal: \"templaattimerkkijono\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Virheellinen tyyppi: odotettiin ${issue.expected}, oli ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy olla ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Virheellinen valinta: t\u00E4ytyy olla yksi seuraavista: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Liian suuri: ${sizing.subject} t\u00E4ytyy olla ${adj}${issue.maximum.toString()} ${sizing.unit}`.trim();\n                }\n                return `Liian suuri: arvon t\u00E4ytyy olla ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Liian pieni: ${sizing.subject} t\u00E4ytyy olla ${adj}${issue.minimum.toString()} ${sizing.unit}`.trim();\n                }\n                return `Liian pieni: arvon t\u00E4ytyy olla ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy alkaa \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy loppua \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy sis\u00E4lt\u00E4\u00E4 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\") {\n                    return `Virheellinen sy\u00F6te: t\u00E4ytyy vastata s\u00E4\u00E4nn\u00F6llist\u00E4 lauseketta ${_issue.pattern}`;\n                }\n                return `Virheellinen ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Virheellinen luku: t\u00E4ytyy olla luvun ${issue.divisor} monikerta`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Tuntemattomat avaimet\" : \"Tuntematon avain\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return \"Virheellinen avain tietueessa\";\n            case \"invalid_union\":\n                return \"Virheellinen unioni\";\n            case \"invalid_element\":\n                return \"Virheellinen arvo joukossa\";\n            default:\n                return `Virheellinen sy\u00F6te`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caract\u00E8res\", verb: \"avoir\" },\n        file: { unit: \"octets\", verb: \"avoir\" },\n        array: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n        set: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"nombre\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"tableau\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entr\u00E9e\",\n        email: \"adresse e-mail\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"date et heure ISO\",\n        date: \"date ISO\",\n        time: \"heure ISO\",\n        duration: \"dur\u00E9e ISO\",\n        ipv4: \"adresse IPv4\",\n        ipv6: \"adresse IPv6\",\n        cidrv4: \"plage IPv4\",\n        cidrv6: \"plage IPv6\",\n        base64: \"cha\u00EEne encod\u00E9e en base64\",\n        base64url: \"cha\u00EEne encod\u00E9e en base64url\",\n        json_string: \"cha\u00EEne JSON\",\n        e164: \"num\u00E9ro E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entr\u00E9e\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Entr\u00E9e invalide : ${issue.expected} attendu, ${parsedType(issue.input)} re\u00E7u`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entr\u00E9e invalide : ${util.stringifyPrimitive(issue.values[0])} attendu`;\n                return `Option invalide : une valeur parmi ${util.joinValues(issue.values, \"|\")} attendue`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Trop grand : ${issue.origin ?? \"valeur\"} doit ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u00E9l\u00E9ment(s)\"}`;\n                return `Trop grand : ${issue.origin ?? \"valeur\"} doit \u00EAtre ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Trop petit : ${issue.origin} doit ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Trop petit : ${issue.origin} doit \u00EAtre ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Cha\u00EEne invalide : doit commencer par \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Cha\u00EEne invalide : doit se terminer par \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cha\u00EEne invalide : doit inclure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cha\u00EEne invalide : doit correspondre au mod\u00E8le ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} invalide`;\n            }\n            case \"not_multiple_of\":\n                return `Nombre invalide : doit \u00EAtre un multiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Cl\u00E9${issue.keys.length > 1 ? \"s\" : \"\"} non reconnue${issue.keys.length > 1 ? \"s\" : \"\"} : ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Cl\u00E9 invalide dans ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entr\u00E9e invalide\";\n            case \"invalid_element\":\n                return `Valeur invalide dans ${issue.origin}`;\n            default:\n                return `Entr\u00E9e invalide`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caract\u00E8res\", verb: \"avoir\" },\n        file: { unit: \"octets\", verb: \"avoir\" },\n        array: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n        set: { unit: \"\u00E9l\u00E9ments\", verb: \"avoir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"entr\u00E9e\",\n        email: \"adresse courriel\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"date-heure ISO\",\n        date: \"date ISO\",\n        time: \"heure ISO\",\n        duration: \"dur\u00E9e ISO\",\n        ipv4: \"adresse IPv4\",\n        ipv6: \"adresse IPv6\",\n        cidrv4: \"plage IPv4\",\n        cidrv6: \"plage IPv6\",\n        base64: \"cha\u00EEne encod\u00E9e en base64\",\n        base64url: \"cha\u00EEne encod\u00E9e en base64url\",\n        json_string: \"cha\u00EEne JSON\",\n        e164: \"num\u00E9ro E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entr\u00E9e\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Entr\u00E9e invalide : attendu ${issue.expected}, re\u00E7u ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entr\u00E9e invalide : attendu ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Option invalide : attendu l'une des valeurs suivantes ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\u2264\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Trop grand : attendu que ${issue.origin ?? \"la valeur\"} ait ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                return `Trop grand : attendu que ${issue.origin ?? \"la valeur\"} soit ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\u2265\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Trop petit : attendu que ${issue.origin} ait ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Trop petit : attendu que ${issue.origin} soit ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Cha\u00EEne invalide : doit commencer par \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Cha\u00EEne invalide : doit se terminer par \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cha\u00EEne invalide : doit inclure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cha\u00EEne invalide : doit correspondre au motif ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} invalide`;\n            }\n            case \"not_multiple_of\":\n                return `Nombre invalide : doit \u00EAtre un multiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Cl\u00E9${issue.keys.length > 1 ? \"s\" : \"\"} non reconnue${issue.keys.length > 1 ? \"s\" : \"\"} : ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Cl\u00E9 invalide dans ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entr\u00E9e invalide\";\n            case \"invalid_element\":\n                return `Valeur invalide dans ${issue.origin}`;\n            default:\n                return `Entr\u00E9e invalide`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA\", verb: \"\u05DC\u05DB\u05DC\u05D5\u05DC\" },\n        file: { unit: \"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD\", verb: \"\u05DC\u05DB\u05DC\u05D5\u05DC\" },\n        array: { unit: \"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD\", verb: \"\u05DC\u05DB\u05DC\u05D5\u05DC\" },\n        set: { unit: \"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD\", verb: \"\u05DC\u05DB\u05DC\u05D5\u05DC\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u05E7\u05DC\u05D8\",\n        email: \"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC\",\n        url: \"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA\",\n        emoji: \"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO\",\n        date: \"\u05EA\u05D0\u05E8\u05D9\u05DA ISO\",\n        time: \"\u05D6\u05DE\u05DF ISO\",\n        duration: \"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO\",\n        ipv4: \"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4\",\n        ipv6: \"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6\",\n        cidrv4: \"\u05D8\u05D5\u05D5\u05D7 IPv4\",\n        cidrv6: \"\u05D8\u05D5\u05D5\u05D7 IPv6\",\n        base64: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64\",\n        base64url: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA\",\n        json_string: \"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON\",\n        e164: \"\u05DE\u05E1\u05E4\u05E8 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u05E7\u05DC\u05D8\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${issue.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${parsedType(issue.input)}`;\n            // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue.origin ?? \"value\"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue.origin ?? \"value\"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1\"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;\n            }\n            case \"not_multiple_of\":\n                return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u05DE\u05E4\u05EA\u05D7${issue.keys.length > 1 ? \"\u05D5\u05EA\" : \"\"} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${issue.keys.length > 1 ? \"\u05D9\u05DD\" : \"\u05D4\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF\";\n            case \"invalid_element\":\n                return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue.origin}`;\n            default:\n                return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"legyen\" },\n        file: { unit: \"byte\", verb: \"legyen\" },\n        array: { unit: \"elem\", verb: \"legyen\" },\n        set: { unit: \"elem\", verb: \"legyen\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"sz\u00E1m\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"t\u00F6mb\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"bemenet\",\n        email: \"email c\u00EDm\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO id\u0151b\u00E9lyeg\",\n        date: \"ISO d\u00E1tum\",\n        time: \"ISO id\u0151\",\n        duration: \"ISO id\u0151intervallum\",\n        ipv4: \"IPv4 c\u00EDm\",\n        ipv6: \"IPv6 c\u00EDm\",\n        cidrv4: \"IPv4 tartom\u00E1ny\",\n        cidrv6: \"IPv6 tartom\u00E1ny\",\n        base64: \"base64-k\u00F3dolt string\",\n        base64url: \"base64url-k\u00F3dolt string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 sz\u00E1m\",\n        jwt: \"JWT\",\n        template_literal: \"bemenet\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u00C9rv\u00E9nytelen bemenet: a v\u00E1rt \u00E9rt\u00E9k ${issue.expected}, a kapott \u00E9rt\u00E9k ${parsedType(issue.input)}`;\n            // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u00C9rv\u00E9nytelen bemenet: a v\u00E1rt \u00E9rt\u00E9k ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u00C9rv\u00E9nytelen opci\u00F3: valamelyik \u00E9rt\u00E9k v\u00E1rt ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `T\u00FAl nagy: ${issue.origin ?? \"\u00E9rt\u00E9k\"} m\u00E9rete t\u00FAl nagy ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elem\"}`;\n                return `T\u00FAl nagy: a bemeneti \u00E9rt\u00E9k ${issue.origin ?? \"\u00E9rt\u00E9k\"} t\u00FAl nagy: ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `T\u00FAl kicsi: a bemeneti \u00E9rt\u00E9k ${issue.origin} m\u00E9rete t\u00FAl kicsi ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `T\u00FAl kicsi: a bemeneti \u00E9rt\u00E9k ${issue.origin} t\u00FAl kicsi ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u00C9rv\u00E9nytelen string: \"${_issue.prefix}\" \u00E9rt\u00E9kkel kell kezd\u0151dnie`;\n                if (_issue.format === \"ends_with\")\n                    return `\u00C9rv\u00E9nytelen string: \"${_issue.suffix}\" \u00E9rt\u00E9kkel kell v\u00E9gz\u0151dnie`;\n                if (_issue.format === \"includes\")\n                    return `\u00C9rv\u00E9nytelen string: \"${_issue.includes}\" \u00E9rt\u00E9ket kell tartalmaznia`;\n                if (_issue.format === \"regex\")\n                    return `\u00C9rv\u00E9nytelen string: ${_issue.pattern} mint\u00E1nak kell megfelelnie`;\n                return `\u00C9rv\u00E9nytelen ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u00C9rv\u00E9nytelen sz\u00E1m: ${issue.divisor} t\u00F6bbsz\u00F6r\u00F6s\u00E9nek kell lennie`;\n            case \"unrecognized_keys\":\n                return `Ismeretlen kulcs${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u00C9rv\u00E9nytelen kulcs ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u00C9rv\u00E9nytelen bemenet\";\n            case \"invalid_element\":\n                return `\u00C9rv\u00E9nytelen \u00E9rt\u00E9k: ${issue.origin}`;\n            default:\n                return `\u00C9rv\u00E9nytelen bemenet`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"memiliki\" },\n        file: { unit: \"byte\", verb: \"memiliki\" },\n        array: { unit: \"item\", verb: \"memiliki\" },\n        set: { unit: \"item\", verb: \"memiliki\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"alamat email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"tanggal dan waktu format ISO\",\n        date: \"tanggal format ISO\",\n        time: \"jam format ISO\",\n        duration: \"durasi format ISO\",\n        ipv4: \"alamat IPv4\",\n        ipv6: \"alamat IPv6\",\n        cidrv4: \"rentang alamat IPv4\",\n        cidrv6: \"rentang alamat IPv6\",\n        base64: \"string dengan enkode base64\",\n        base64url: \"string dengan enkode base64url\",\n        json_string: \"string JSON\",\n        e164: \"angka E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Input tidak valid: diharapkan ${issue.expected}, diterima ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input tidak valid: diharapkan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Pilihan tidak valid: diharapkan salah satu dari ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Terlalu besar: diharapkan ${issue.origin ?? \"value\"} memiliki ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elemen\"}`;\n                return `Terlalu besar: diharapkan ${issue.origin ?? \"value\"} menjadi ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Terlalu kecil: diharapkan ${issue.origin} memiliki ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Terlalu kecil: diharapkan ${issue.origin} menjadi ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `String tidak valid: harus dimulai dengan \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `String tidak valid: harus berakhir dengan \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `String tidak valid: harus menyertakan \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `String tidak valid: harus sesuai pola ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} tidak valid`;\n            }\n            case \"not_multiple_of\":\n                return `Angka tidak valid: harus kelipatan dari ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kunci tidak dikenali ${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kunci tidak valid di ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input tidak valid\";\n            case \"invalid_element\":\n                return `Nilai tidak valid di ${issue.origin}`;\n            default:\n                return `Input tidak valid`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"n\u00FAmer\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"fylki\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"stafi\", verb: \"a\u00F0 hafa\" },\n        file: { unit: \"b\u00E6ti\", verb: \"a\u00F0 hafa\" },\n        array: { unit: \"hluti\", verb: \"a\u00F0 hafa\" },\n        set: { unit: \"hluti\", verb: \"a\u00F0 hafa\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"gildi\",\n        email: \"netfang\",\n        url: \"vefsl\u00F3\u00F0\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dagsetning og t\u00EDmi\",\n        date: \"ISO dagsetning\",\n        time: \"ISO t\u00EDmi\",\n        duration: \"ISO t\u00EDmalengd\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded strengur\",\n        base64url: \"base64url-encoded strengur\",\n        json_string: \"JSON strengur\",\n        e164: \"E.164 t\u00F6lugildi\",\n        jwt: \"JWT\",\n        template_literal: \"gildi\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Rangt gildi: \u00DE\u00FA sl\u00F3st inn ${parsedType(issue.input)} \u00FEar sem \u00E1 a\u00F0 vera ${issue.expected}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Rangt gildi: gert r\u00E1\u00F0 fyrir ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u00D3gilt val: m\u00E1 vera eitt af eftirfarandi ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Of st\u00F3rt: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin ?? \"gildi\"} hafi ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"hluti\"}`;\n                return `Of st\u00F3rt: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin ?? \"gildi\"} s\u00E9 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Of l\u00EDti\u00F0: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin} hafi ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Of l\u00EDti\u00F0: gert er r\u00E1\u00F0 fyrir a\u00F0 ${issue.origin} s\u00E9 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 byrja \u00E1 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 enda \u00E1 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 innihalda \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u00D3gildur strengur: ver\u00F0ur a\u00F0 fylgja mynstri ${_issue.pattern}`;\n                return `Rangt ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `R\u00F6ng tala: ver\u00F0ur a\u00F0 vera margfeldi af ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u00D3\u00FEekkt ${issue.keys.length > 1 ? \"ir lyklar\" : \"ur lykill\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Rangur lykill \u00ED ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Rangt gildi\";\n            case \"invalid_element\":\n                return `Rangt gildi \u00ED ${issue.origin}`;\n            default:\n                return `Rangt gildi`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caratteri\", verb: \"avere\" },\n        file: { unit: \"byte\", verb: \"avere\" },\n        array: { unit: \"elementi\", verb: \"avere\" },\n        set: { unit: \"elementi\", verb: \"avere\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"numero\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"vettore\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"indirizzo email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data e ora ISO\",\n        date: \"data ISO\",\n        time: \"ora ISO\",\n        duration: \"durata ISO\",\n        ipv4: \"indirizzo IPv4\",\n        ipv6: \"indirizzo IPv6\",\n        cidrv4: \"intervallo IPv4\",\n        cidrv6: \"intervallo IPv6\",\n        base64: \"stringa codificata in base64\",\n        base64url: \"URL codificata in base64\",\n        json_string: \"stringa JSON\",\n        e164: \"numero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Input non valido: atteso ${issue.expected}, ricevuto ${parsedType(issue.input)}`;\n            // return `Input non valido: atteso ${issue.expected}, ricevuto ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input non valido: atteso ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opzione non valida: atteso uno tra ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Troppo grande: ${issue.origin ?? \"valore\"} deve avere ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementi\"}`;\n                return `Troppo grande: ${issue.origin ?? \"valore\"} deve essere ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Troppo piccolo: ${issue.origin} deve avere ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Troppo piccolo: ${issue.origin} deve essere ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Stringa non valida: deve iniziare con \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Stringa non valida: deve terminare con \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Stringa non valida: deve includere \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Stringa non valida: deve corrispondere al pattern ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Numero non valido: deve essere un multiplo di ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Chiav${issue.keys.length > 1 ? \"i\" : \"e\"} non riconosciut${issue.keys.length > 1 ? \"e\" : \"a\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Chiave non valida in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input non valido\";\n            case \"invalid_element\":\n                return `Valore non valido in ${issue.origin}`;\n            default:\n                return `Input non valido`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u6587\u5B57\", verb: \"\u3067\u3042\u308B\" },\n        file: { unit: \"\u30D0\u30A4\u30C8\", verb: \"\u3067\u3042\u308B\" },\n        array: { unit: \"\u8981\u7D20\", verb: \"\u3067\u3042\u308B\" },\n        set: { unit: \"\u8981\u7D20\", verb: \"\u3067\u3042\u308B\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u6570\u5024\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u914D\u5217\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u5165\u529B\u5024\",\n        email: \"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\",\n        url: \"URL\",\n        emoji: \"\u7D75\u6587\u5B57\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO\u65E5\u6642\",\n        date: \"ISO\u65E5\u4ED8\",\n        time: \"ISO\u6642\u523B\",\n        duration: \"ISO\u671F\u9593\",\n        ipv4: \"IPv4\u30A2\u30C9\u30EC\u30B9\",\n        ipv6: \"IPv6\u30A2\u30C9\u30EC\u30B9\",\n        cidrv4: \"IPv4\u7BC4\u56F2\",\n        cidrv6: \"IPv6\u7BC4\u56F2\",\n        base64: \"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217\",\n        base64url: \"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217\",\n        json_string: \"JSON\u6587\u5B57\u5217\",\n        e164: \"E.164\u756A\u53F7\",\n        jwt: \"JWT\",\n        template_literal: \"\u5165\u529B\u5024\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u7121\u52B9\u306A\u5165\u529B: ${issue.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${parsedType(issue.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u7121\u52B9\u306A\u5165\u529B: ${util.stringifyPrimitive(issue.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;\n                return `\u7121\u52B9\u306A\u9078\u629E: ${util.joinValues(issue.values, \"\u3001\")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\u4EE5\u4E0B\u3067\u3042\u308B\" : \"\u3088\u308A\u5C0F\u3055\u3044\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue.origin ?? \"\u5024\"}\u306F${issue.maximum.toString()}${sizing.unit ?? \"\u8981\u7D20\"}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue.origin ?? \"\u5024\"}\u306F${issue.maximum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\u4EE5\u4E0A\u3067\u3042\u308B\" : \"\u3088\u308A\u5927\u304D\u3044\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue.origin}\u306F${issue.minimum.toString()}${sizing.unit}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue.origin}\u306F${issue.minimum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \"${_issue.prefix}\"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                if (_issue.format === \"ends_with\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \"${_issue.suffix}\"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                if (_issue.format === \"includes\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \"${_issue.includes}\"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                if (_issue.format === \"regex\")\n                    return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${_issue.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n                return `\u7121\u52B9\u306A${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u7121\u52B9\u306A\u6570\u5024: ${issue.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;\n            case \"unrecognized_keys\":\n                return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${issue.keys.length > 1 ? \"\u7FA4\" : \"\"}: ${util.joinValues(issue.keys, \"\u3001\")}`;\n            case \"invalid_key\":\n                return `${issue.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;\n            case \"invalid_union\":\n                return \"\u7121\u52B9\u306A\u5165\u529B\";\n            case \"invalid_element\":\n                return `${issue.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;\n            default:\n                return `\u7121\u52B9\u306A\u5165\u529B`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n        file: { unit: \"\u1794\u17C3\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n        array: { unit: \"\u1792\u17B6\u178F\u17BB\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n        set: { unit: \"\u1792\u17B6\u178F\u17BB\", verb: \"\u1782\u17BD\u179A\u1798\u17B6\u1793\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)\" : \"\u179B\u17C1\u1781\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u17A2\u17B6\u179A\u17C1 (Array)\";\n                }\n                if (data === null) {\n                    return \"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\",\n        email: \"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B\",\n        url: \"URL\",\n        emoji: \"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO\",\n        date: \"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO\",\n        time: \"\u1798\u17C9\u17C4\u1784 ISO\",\n        duration: \"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO\",\n        ipv4: \"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4\",\n        ipv6: \"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6\",\n        cidrv4: \"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4\",\n        cidrv6: \"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6\",\n        base64: \"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64\",\n        base64url: \"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url\",\n        json_string: \"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON\",\n        e164: \"\u179B\u17C1\u1781 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin ?? \"\u178F\u1798\u17D2\u179B\u17C3\"} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"\u1792\u17B6\u178F\u17BB\"}`;\n                return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin ?? \"\u178F\u1798\u17D2\u179B\u17C3\"} ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin} ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue.origin} ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${_issue.pattern}`;\n                return `\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue.origin}`;\n            case \"invalid_union\":\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;\n            case \"invalid_element\":\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue.origin}`;\n            default:\n                return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\uBB38\uC790\", verb: \"to have\" },\n        file: { unit: \"\uBC14\uC774\uD2B8\", verb: \"to have\" },\n        array: { unit: \"\uAC1C\", verb: \"to have\" },\n        set: { unit: \"\uAC1C\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\uC785\uB825\",\n        email: \"\uC774\uBA54\uC77C \uC8FC\uC18C\",\n        url: \"URL\",\n        emoji: \"\uC774\uBAA8\uC9C0\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \uB0A0\uC9DC\uC2DC\uAC04\",\n        date: \"ISO \uB0A0\uC9DC\",\n        time: \"ISO \uC2DC\uAC04\",\n        duration: \"ISO \uAE30\uAC04\",\n        ipv4: \"IPv4 \uC8FC\uC18C\",\n        ipv6: \"IPv6 \uC8FC\uC18C\",\n        cidrv4: \"IPv4 \uBC94\uC704\",\n        cidrv6: \"IPv6 \uBC94\uC704\",\n        base64: \"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4\",\n        base64url: \"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4\",\n        json_string: \"JSON \uBB38\uC790\uC5F4\",\n        e164: \"E.164 \uBC88\uD638\",\n        jwt: \"JWT\",\n        template_literal: \"\uC785\uB825\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${issue.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${parsedType(issue.input)}\uC785\uB2C8\uB2E4`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${util.stringifyPrimitive(issue.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;\n                return `\uC798\uBABB\uB41C \uC635\uC158: ${util.joinValues(issue.values, \"\uB610\uB294 \")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\uC774\uD558\" : \"\uBBF8\uB9CC\";\n                const suffix = adj === \"\uBBF8\uB9CC\" ? \"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4\" : \"\uC5EC\uC57C \uD569\uB2C8\uB2E4\";\n                const sizing = getSizing(issue.origin);\n                const unit = sizing?.unit ?? \"\uC694\uC18C\";\n                if (sizing)\n                    return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue.maximum.toString()}${unit} ${adj}${suffix}`;\n                return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue.maximum.toString()} ${adj}${suffix}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\uC774\uC0C1\" : \"\uCD08\uACFC\";\n                const suffix = adj === \"\uC774\uC0C1\" ? \"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4\" : \"\uC5EC\uC57C \uD569\uB2C8\uB2E4\";\n                const sizing = getSizing(issue.origin);\n                const unit = sizing?.unit ?? \"\uC694\uC18C\";\n                if (sizing) {\n                    return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue.minimum.toString()}${unit} ${adj}${suffix}`;\n                }\n                return `${issue.origin ?? \"\uAC12\"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue.minimum.toString()} ${adj}${suffix}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \"${_issue.prefix}\"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \"${_issue.suffix}\"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;\n                if (_issue.format === \"includes\")\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \"${_issue.includes}\"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;\n                if (_issue.format === \"regex\")\n                    return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${_issue.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;\n                return `\uC798\uBABB\uB41C ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\uC798\uBABB\uB41C \uC22B\uC790: ${issue.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;\n            case \"unrecognized_keys\":\n                return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\uC798\uBABB\uB41C \uD0A4: ${issue.origin}`;\n            case \"invalid_union\":\n                return `\uC798\uBABB\uB41C \uC785\uB825`;\n            case \"invalid_element\":\n                return `\uC798\uBABB\uB41C \uAC12: ${issue.origin}`;\n            default:\n                return `\uC798\uBABB\uB41C \uC785\uB825`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0437\u043D\u0430\u0446\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n        file: { unit: \"\u0431\u0430\u0458\u0442\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n        array: { unit: \"\u0441\u0442\u0430\u0432\u043A\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n        set: { unit: \"\u0441\u0442\u0430\u0432\u043A\u0438\", verb: \"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0431\u0440\u043E\u0458\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043D\u0438\u0437\u0430\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0432\u043D\u0435\u0441\",\n        email: \"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430\",\n        url: \"URL\",\n        emoji: \"\u0435\u043C\u043E\u045F\u0438\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435\",\n        date: \"ISO \u0434\u0430\u0442\u0443\u043C\",\n        time: \"ISO \u0432\u0440\u0435\u043C\u0435\",\n        duration: \"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430\",\n        cidrv4: \"IPv4 \u043E\u043F\u0441\u0435\u0433\",\n        cidrv6: \"IPv6 \u043E\u043F\u0441\u0435\u0433\",\n        base64: \"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430\",\n        base64url: \"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430\",\n        json_string: \"JSON \u043D\u0438\u0437\u0430\",\n        e164: \"E.164 \u0431\u0440\u043E\u0458\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u043D\u0435\u0441\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${parsedType(issue.input)}`;\n            // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin ?? \"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430\"} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438\"}`;\n                return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin ?? \"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430\"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${_issue.pattern}`;\n                return `Invalid ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438\" : \"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441\";\n            case \"invalid_element\":\n                return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${issue.origin}`;\n            default:\n                return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"aksara\", verb: \"mempunyai\" },\n        file: { unit: \"bait\", verb: \"mempunyai\" },\n        array: { unit: \"elemen\", verb: \"mempunyai\" },\n        set: { unit: \"elemen\", verb: \"mempunyai\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"nombor\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"alamat e-mel\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"tarikh masa ISO\",\n        date: \"tarikh ISO\",\n        time: \"masa ISO\",\n        duration: \"tempoh ISO\",\n        ipv4: \"alamat IPv4\",\n        ipv6: \"alamat IPv6\",\n        cidrv4: \"julat IPv4\",\n        cidrv6: \"julat IPv6\",\n        base64: \"string dikodkan base64\",\n        base64url: \"string dikodkan base64url\",\n        json_string: \"string JSON\",\n        e164: \"nombor E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Input tidak sah: dijangka ${issue.expected}, diterima ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input tidak sah: dijangka ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Pilihan tidak sah: dijangka salah satu daripada ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Terlalu besar: dijangka ${issue.origin ?? \"nilai\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elemen\"}`;\n                return `Terlalu besar: dijangka ${issue.origin ?? \"nilai\"} adalah ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Terlalu kecil: dijangka ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Terlalu kecil: dijangka ${issue.origin} adalah ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `String tidak sah: mesti bermula dengan \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `String tidak sah: mesti berakhir dengan \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `String tidak sah: mesti mengandungi \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `String tidak sah: mesti sepadan dengan corak ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} tidak sah`;\n            }\n            case \"not_multiple_of\":\n                return `Nombor tidak sah: perlu gandaan ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kunci tidak dikenali: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kunci tidak sah dalam ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input tidak sah\";\n            case \"invalid_element\":\n                return `Nilai tidak sah dalam ${issue.origin}`;\n            default:\n                return `Input tidak sah`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tekens\" },\n        file: { unit: \"bytes\" },\n        array: { unit: \"elementen\" },\n        set: { unit: \"elementen\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"getal\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"invoer\",\n        email: \"emailadres\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datum en tijd\",\n        date: \"ISO datum\",\n        time: \"ISO tijd\",\n        duration: \"ISO duur\",\n        ipv4: \"IPv4-adres\",\n        ipv6: \"IPv6-adres\",\n        cidrv4: \"IPv4-bereik\",\n        cidrv6: \"IPv6-bereik\",\n        base64: \"base64-gecodeerde tekst\",\n        base64url: \"base64 URL-gecodeerde tekst\",\n        json_string: \"JSON string\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"invoer\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ongeldige invoer: verwacht ${issue.expected}, ontving ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ongeldige invoer: verwacht ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ongeldige optie: verwacht \u00E9\u00E9n van ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Te lang: verwacht dat ${issue.origin ?? \"waarde\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementen\"} bevat`;\n                return `Te lang: verwacht dat ${issue.origin ?? \"waarde\"} ${adj}${issue.maximum.toString()} is`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Te kort: verwacht dat ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} bevat`;\n                }\n                return `Te kort: verwacht dat ${issue.origin} ${adj}${issue.minimum.toString()} is`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ongeldige tekst: moet met \"${_issue.prefix}\" beginnen`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ongeldige tekst: moet op \"${_issue.suffix}\" eindigen`;\n                if (_issue.format === \"includes\")\n                    return `Ongeldige tekst: moet \"${_issue.includes}\" bevatten`;\n                if (_issue.format === \"regex\")\n                    return `Ongeldige tekst: moet overeenkomen met patroon ${_issue.pattern}`;\n                return `Ongeldig: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ongeldig getal: moet een veelvoud van ${issue.divisor} zijn`;\n            case \"unrecognized_keys\":\n                return `Onbekende key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ongeldige key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ongeldige invoer\";\n            case \"invalid_element\":\n                return `Ongeldige waarde in ${issue.origin}`;\n            default:\n                return `Ongeldige invoer`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tegn\", verb: \"\u00E5 ha\" },\n        file: { unit: \"bytes\", verb: \"\u00E5 ha\" },\n        array: { unit: \"elementer\", verb: \"\u00E5 inneholde\" },\n        set: { unit: \"elementer\", verb: \"\u00E5 inneholde\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"tall\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"liste\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"input\",\n        email: \"e-postadresse\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dato- og klokkeslett\",\n        date: \"ISO-dato\",\n        time: \"ISO-klokkeslett\",\n        duration: \"ISO-varighet\",\n        ipv4: \"IPv4-omr\u00E5de\",\n        ipv6: \"IPv6-omr\u00E5de\",\n        cidrv4: \"IPv4-spekter\",\n        cidrv6: \"IPv6-spekter\",\n        base64: \"base64-enkodet streng\",\n        base64url: \"base64url-enkodet streng\",\n        json_string: \"JSON-streng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ugyldig input: forventet ${issue.expected}, fikk ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ugyldig verdi: forventet ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ugyldig valg: forventet en av ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `For stor(t): forventet ${issue.origin ?? \"value\"} til \u00E5 ha ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementer\"}`;\n                return `For stor(t): forventet ${issue.origin ?? \"value\"} til \u00E5 ha ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `For lite(n): forventet ${issue.origin} til \u00E5 ha ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `For lite(n): forventet ${issue.origin} til \u00E5 ha ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ugyldig streng: m\u00E5 starte med \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ugyldig streng: m\u00E5 ende med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ugyldig streng: m\u00E5 inneholde \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ugyldig streng: m\u00E5 matche m\u00F8nsteret ${_issue.pattern}`;\n                return `Ugyldig ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ugyldig tall: m\u00E5 v\u00E6re et multiplum av ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ukjente n\u00F8kler\" : \"Ukjent n\u00F8kkel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ugyldig n\u00F8kkel i ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ugyldig input\";\n            case \"invalid_element\":\n                return `Ugyldig verdi i ${issue.origin}`;\n            default:\n                return `Ugyldig input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"harf\", verb: \"olmal\u0131d\u0131r\" },\n        file: { unit: \"bayt\", verb: \"olmal\u0131d\u0131r\" },\n        array: { unit: \"unsur\", verb: \"olmal\u0131d\u0131r\" },\n        set: { unit: \"unsur\", verb: \"olmal\u0131d\u0131r\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"numara\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"saf\";\n                }\n                if (data === null) {\n                    return \"gayb\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"giren\",\n        email: \"epostag\u00E2h\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO heng\u00E2m\u0131\",\n        date: \"ISO tarihi\",\n        time: \"ISO zaman\u0131\",\n        duration: \"ISO m\u00FCddeti\",\n        ipv4: \"IPv4 ni\u015F\u00E2n\u0131\",\n        ipv6: \"IPv6 ni\u015F\u00E2n\u0131\",\n        cidrv4: \"IPv4 menzili\",\n        cidrv6: \"IPv6 menzili\",\n        base64: \"base64-\u015Fifreli metin\",\n        base64url: \"base64url-\u015Fifreli metin\",\n        json_string: \"JSON metin\",\n        e164: \"E.164 say\u0131s\u0131\",\n        jwt: \"JWT\",\n        template_literal: \"giren\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `F\u00E2sit giren: umulan ${issue.expected}, al\u0131nan ${parsedType(issue.input)}`;\n            // return `F\u00E2sit giren: umulan ${issue.expected}, al\u0131nan ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `F\u00E2sit giren: umulan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `F\u00E2sit tercih: m\u00FBteberler ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Fazla b\u00FCy\u00FCk: ${issue.origin ?? \"value\"}, ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"} sahip olmal\u0131yd\u0131.`;\n                return `Fazla b\u00FCy\u00FCk: ${issue.origin ?? \"value\"}, ${adj}${issue.maximum.toString()} olmal\u0131yd\u0131.`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Fazla k\u00FC\u00E7\u00FCk: ${issue.origin}, ${adj}${issue.minimum.toString()} ${sizing.unit} sahip olmal\u0131yd\u0131.`;\n                }\n                return `Fazla k\u00FC\u00E7\u00FCk: ${issue.origin}, ${adj}${issue.minimum.toString()} olmal\u0131yd\u0131.`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `F\u00E2sit metin: \"${_issue.prefix}\" ile ba\u015Flamal\u0131.`;\n                if (_issue.format === \"ends_with\")\n                    return `F\u00E2sit metin: \"${_issue.suffix}\" ile bitmeli.`;\n                if (_issue.format === \"includes\")\n                    return `F\u00E2sit metin: \"${_issue.includes}\" ihtiv\u00E2 etmeli.`;\n                if (_issue.format === \"regex\")\n                    return `F\u00E2sit metin: ${_issue.pattern} nak\u015F\u0131na uymal\u0131.`;\n                return `F\u00E2sit ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `F\u00E2sit say\u0131: ${issue.divisor} kat\u0131 olmal\u0131yd\u0131.`;\n            case \"unrecognized_keys\":\n                return `Tan\u0131nmayan anahtar ${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} i\u00E7in tan\u0131nmayan anahtar var.`;\n            case \"invalid_union\":\n                return \"Giren tan\u0131namad\u0131.\";\n            case \"invalid_element\":\n                return `${issue.origin} i\u00E7in tan\u0131nmayan k\u0131ymet var.`;\n            default:\n                return `K\u0131ymet tan\u0131namad\u0131.`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u062A\u0648\u06A9\u064A\", verb: \"\u0648\u0644\u0631\u064A\" },\n        file: { unit: \"\u0628\u0627\u06CC\u067C\u0633\", verb: \"\u0648\u0644\u0631\u064A\" },\n        array: { unit: \"\u062A\u0648\u06A9\u064A\", verb: \"\u0648\u0644\u0631\u064A\" },\n        set: { unit: \"\u062A\u0648\u06A9\u064A\", verb: \"\u0648\u0644\u0631\u064A\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0639\u062F\u062F\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0627\u0631\u06D0\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0648\u0631\u0648\u062F\u064A\",\n        email: \"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9\",\n        url: \"\u06CC\u0648 \u0622\u0631 \u0627\u0644\",\n        emoji: \"\u0627\u06CC\u0645\u0648\u062C\u064A\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A\",\n        date: \"\u0646\u06D0\u067C\u0647\",\n        time: \"\u0648\u062E\u062A\",\n        duration: \"\u0645\u0648\u062F\u0647\",\n        ipv4: \"\u062F IPv4 \u067E\u062A\u0647\",\n        ipv6: \"\u062F IPv6 \u067E\u062A\u0647\",\n        cidrv4: \"\u062F IPv4 \u0633\u0627\u062D\u0647\",\n        cidrv6: \"\u062F IPv6 \u0633\u0627\u062D\u0647\",\n        base64: \"base64-encoded \u0645\u062A\u0646\",\n        base64url: \"base64url-encoded \u0645\u062A\u0646\",\n        json_string: \"JSON \u0645\u062A\u0646\",\n        e164: \"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647\",\n        jwt: \"JWT\",\n        template_literal: \"\u0648\u0631\u0648\u062F\u064A\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${issue.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${parsedType(issue.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;\n            case \"invalid_value\":\n                if (issue.values.length === 1) {\n                    return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${util.stringifyPrimitive(issue.values[0])} \u0648\u0627\u06CC`;\n                }\n                return `\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${util.joinValues(issue.values, \"|\")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue.origin ?? \"\u0627\u0631\u0632\u069A\u062A\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0635\u0631\u0648\u0646\u0647\"} \u0648\u0644\u0631\u064A`;\n                }\n                return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue.origin ?? \"\u0627\u0631\u0632\u069A\u062A\"} \u0628\u0627\u06CC\u062F ${adj}${issue.maximum.toString()} \u0648\u064A`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} ${sizing.unit} \u0648\u0644\u0631\u064A`;\n                }\n                return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue.origin} \u0628\u0627\u06CC\u062F ${adj}${issue.minimum.toString()} \u0648\u064A`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F \"${_issue.prefix}\" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;\n                }\n                if (_issue.format === \"ends_with\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F \"${_issue.suffix}\" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;\n                }\n                if (_issue.format === \"includes\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \"${_issue.includes}\" \u0648\u0644\u0631\u064A`;\n                }\n                if (_issue.format === \"regex\") {\n                    return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${_issue.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;\n                }\n                return `${Nouns[_issue.format] ?? issue.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;\n            }\n            case \"not_multiple_of\":\n                return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${issue.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;\n            case \"unrecognized_keys\":\n                return `\u0646\u0627\u0633\u0645 ${issue.keys.length > 1 ? \"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647\" : \"\u06A9\u0644\u06CC\u0689\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${issue.origin} \u06A9\u06D0`;\n            case \"invalid_union\":\n                return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;\n            case \"invalid_element\":\n                return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${issue.origin} \u06A9\u06D0`;\n            default:\n                return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znak\u00F3w\", verb: \"mie\u0107\" },\n        file: { unit: \"bajt\u00F3w\", verb: \"mie\u0107\" },\n        array: { unit: \"element\u00F3w\", verb: \"mie\u0107\" },\n        set: { unit: \"element\u00F3w\", verb: \"mie\u0107\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"liczba\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"tablica\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"wyra\u017Cenie\",\n        email: \"adres email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data i godzina w formacie ISO\",\n        date: \"data w formacie ISO\",\n        time: \"godzina w formacie ISO\",\n        duration: \"czas trwania ISO\",\n        ipv4: \"adres IPv4\",\n        ipv6: \"adres IPv6\",\n        cidrv4: \"zakres IPv4\",\n        cidrv6: \"zakres IPv6\",\n        base64: \"ci\u0105g znak\u00F3w zakodowany w formacie base64\",\n        base64url: \"ci\u0105g znak\u00F3w zakodowany w formacie base64url\",\n        json_string: \"ci\u0105g znak\u00F3w w formacie JSON\",\n        e164: \"liczba E.164\",\n        jwt: \"JWT\",\n        template_literal: \"wej\u015Bcie\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${issue.expected}, otrzymano ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie mie\u0107 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\u00F3w\"}`;\n                }\n                return `Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie wynosi\u0107 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie mie\u0107 ${adj}${issue.minimum.toString()} ${sizing.unit ?? \"element\u00F3w\"}`;\n                }\n                return `Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${issue.origin ?? \"warto\u015B\u0107\"} b\u0119dzie wynosi\u0107 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi zaczyna\u0107 si\u0119 od \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi ko\u0144czy\u0107 si\u0119 na \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi zawiera\u0107 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Nieprawid\u0142owy ci\u0105g znak\u00F3w: musi odpowiada\u0107 wzorcowi ${_issue.pattern}`;\n                return `Nieprawid\u0142ow(y/a/e) ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nierozpoznane klucze${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Nieprawid\u0142owy klucz w ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Nieprawid\u0142owe dane wej\u015Bciowe\";\n            case \"invalid_element\":\n                return `Nieprawid\u0142owa warto\u015B\u0107 w ${issue.origin}`;\n            default:\n                return `Nieprawid\u0142owe dane wej\u015Bciowe`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caracteres\", verb: \"ter\" },\n        file: { unit: \"bytes\", verb: \"ter\" },\n        array: { unit: \"itens\", verb: \"ter\" },\n        set: { unit: \"itens\", verb: \"ter\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"n\u00FAmero\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"nulo\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"padr\u00E3o\",\n        email: \"endere\u00E7o de e-mail\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data e hora ISO\",\n        date: \"data ISO\",\n        time: \"hora ISO\",\n        duration: \"dura\u00E7\u00E3o ISO\",\n        ipv4: \"endere\u00E7o IPv4\",\n        ipv6: \"endere\u00E7o IPv6\",\n        cidrv4: \"faixa de IPv4\",\n        cidrv6: \"faixa de IPv6\",\n        base64: \"texto codificado em base64\",\n        base64url: \"URL codificada em base64\",\n        json_string: \"texto JSON\",\n        e164: \"n\u00FAmero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Tipo inv\u00E1lido: esperado ${issue.expected}, recebido ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrada inv\u00E1lida: esperado ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Op\u00E7\u00E3o inv\u00E1lida: esperada uma das ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Muito grande: esperado que ${issue.origin ?? \"valor\"} tivesse ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementos\"}`;\n                return `Muito grande: esperado que ${issue.origin ?? \"valor\"} fosse ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Muito pequeno: esperado que ${issue.origin} tivesse ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Muito pequeno: esperado que ${issue.origin} fosse ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Texto inv\u00E1lido: deve come\u00E7ar com \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Texto inv\u00E1lido: deve terminar com \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Texto inv\u00E1lido: deve incluir \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Texto inv\u00E1lido: deve corresponder ao padr\u00E3o ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} inv\u00E1lido`;\n            }\n            case \"not_multiple_of\":\n                return `N\u00FAmero inv\u00E1lido: deve ser m\u00FAltiplo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Chave${issue.keys.length > 1 ? \"s\" : \"\"} desconhecida${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Chave inv\u00E1lida em ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inv\u00E1lida\";\n            case \"invalid_element\":\n                return `Valor inv\u00E1lido em ${issue.origin}`;\n            default:\n                return `Campo inv\u00E1lido`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nfunction getRussianPlural(count, one, few, many) {\n    const absCount = Math.abs(count);\n    const lastDigit = absCount % 10;\n    const lastTwoDigits = absCount % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n        return many;\n    }\n    if (lastDigit === 1) {\n        return one;\n    }\n    if (lastDigit >= 2 && lastDigit <= 4) {\n        return few;\n    }\n    return many;\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"\u0441\u0438\u043C\u0432\u043E\u043B\",\n                few: \"\u0441\u0438\u043C\u0432\u043E\u043B\u0430\",\n                many: \"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n        file: {\n            unit: {\n                one: \"\u0431\u0430\u0439\u0442\",\n                few: \"\u0431\u0430\u0439\u0442\u0430\",\n                many: \"\u0431\u0430\u0439\u0442\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n        array: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n        set: {\n            unit: {\n                one: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\",\n                few: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\",\n                many: \"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432\",\n            },\n            verb: \"\u0438\u043C\u0435\u0442\u044C\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0447\u0438\u0441\u043B\u043E\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043C\u0430\u0441\u0441\u0438\u0432\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0432\u0432\u043E\u0434\",\n        email: \"email \u0430\u0434\u0440\u0435\u0441\",\n        url: \"URL\",\n        emoji: \"\u044D\u043C\u043E\u0434\u0437\u0438\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F\",\n        date: \"ISO \u0434\u0430\u0442\u0430\",\n        time: \"ISO \u0432\u0440\u0435\u043C\u044F\",\n        duration: \"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\",\n        ipv4: \"IPv4 \u0430\u0434\u0440\u0435\u0441\",\n        ipv6: \"IPv6 \u0430\u0434\u0440\u0435\u0441\",\n        cidrv4: \"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\",\n        cidrv6: \"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D\",\n        base64: \"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64\",\n        base64url: \"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url\",\n        json_string: \"JSON \u0441\u0442\u0440\u043E\u043A\u0430\",\n        e164: \"\u043D\u043E\u043C\u0435\u0440 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u0432\u043E\u0434\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${issue.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435\"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435\"} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue.origin} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${issue.keys.length > 1 ? \"\u044B\u0435\" : \"\u044B\u0439\"} \u043A\u043B\u044E\u0447${issue.keys.length > 1 ? \"\u0438\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435\";\n            case \"invalid_element\":\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${issue.origin}`;\n            default:\n                return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znakov\", verb: \"imeti\" },\n        file: { unit: \"bajtov\", verb: \"imeti\" },\n        array: { unit: \"elementov\", verb: \"imeti\" },\n        set: { unit: \"elementov\", verb: \"imeti\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0161tevilo\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"tabela\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"vnos\",\n        email: \"e-po\u0161tni naslov\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datum in \u010Das\",\n        date: \"ISO datum\",\n        time: \"ISO \u010Das\",\n        duration: \"ISO trajanje\",\n        ipv4: \"IPv4 naslov\",\n        ipv6: \"IPv6 naslov\",\n        cidrv4: \"obseg IPv4\",\n        cidrv6: \"obseg IPv6\",\n        base64: \"base64 kodiran niz\",\n        base64url: \"base64url kodiran niz\",\n        json_string: \"JSON niz\",\n        e164: \"E.164 \u0161tevilka\",\n        jwt: \"JWT\",\n        template_literal: \"vnos\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Neveljaven vnos: pri\u010Dakovano ${issue.expected}, prejeto ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Neveljaven vnos: pri\u010Dakovano ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Preveliko: pri\u010Dakovano, da bo ${issue.origin ?? \"vrednost\"} imelo ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementov\"}`;\n                return `Preveliko: pri\u010Dakovano, da bo ${issue.origin ?? \"vrednost\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Premajhno: pri\u010Dakovano, da bo ${issue.origin} imelo ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Premajhno: pri\u010Dakovano, da bo ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Neveljaven niz: mora se za\u010Deti z \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Neveljaven niz: mora se kon\u010Dati z \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Neveljaven niz: mora vsebovati \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Neveljaven niz: mora ustrezati vzorcu ${_issue.pattern}`;\n                return `Neveljaven ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Neprepoznan${issue.keys.length > 1 ? \"i klju\u010Di\" : \" klju\u010D\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Neveljaven klju\u010D v ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Neveljaven vnos\";\n            case \"invalid_element\":\n                return `Neveljavna vrednost v ${issue.origin}`;\n            default:\n                return \"Neveljaven vnos\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tecken\", verb: \"att ha\" },\n        file: { unit: \"bytes\", verb: \"att ha\" },\n        array: { unit: \"objekt\", verb: \"att inneh\u00E5lla\" },\n        set: { unit: \"objekt\", verb: \"att inneh\u00E5lla\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"antal\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"lista\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"regulj\u00E4rt uttryck\",\n        email: \"e-postadress\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-datum och tid\",\n        date: \"ISO-datum\",\n        time: \"ISO-tid\",\n        duration: \"ISO-varaktighet\",\n        ipv4: \"IPv4-intervall\",\n        ipv6: \"IPv6-intervall\",\n        cidrv4: \"IPv4-spektrum\",\n        cidrv6: \"IPv6-spektrum\",\n        base64: \"base64-kodad str\u00E4ng\",\n        base64url: \"base64url-kodad str\u00E4ng\",\n        json_string: \"JSON-str\u00E4ng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"mall-literal\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ogiltig inmatning: f\u00F6rv\u00E4ntat ${issue.expected}, fick ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ogiltig inmatning: f\u00F6rv\u00E4ntat ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ogiltigt val: f\u00F6rv\u00E4ntade en av ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `F\u00F6r stor(t): f\u00F6rv\u00E4ntade ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\"}`;\n                }\n                return `F\u00F6r stor(t): f\u00F6rv\u00E4ntat ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `F\u00F6r lite(t): f\u00F6rv\u00E4ntade ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `F\u00F6r lite(t): f\u00F6rv\u00E4ntade ${issue.origin ?? \"v\u00E4rdet\"} att ha ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ogiltig str\u00E4ng: m\u00E5ste b\u00F6rja med \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ogiltig str\u00E4ng: m\u00E5ste sluta med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ogiltig str\u00E4ng: m\u00E5ste inneh\u00E5lla \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ogiltig str\u00E4ng: m\u00E5ste matcha m\u00F6nstret \"${_issue.pattern}\"`;\n                return `Ogiltig(t) ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ogiltigt tal: m\u00E5ste vara en multipel av ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ok\u00E4nda nycklar\" : \"Ok\u00E4nd nyckel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ogiltig nyckel i ${issue.origin ?? \"v\u00E4rdet\"}`;\n            case \"invalid_union\":\n                return \"Ogiltig input\";\n            case \"invalid_element\":\n                return `Ogiltigt v\u00E4rde i ${issue.origin ?? \"v\u00E4rdet\"}`;\n            default:\n                return `Ogiltig input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n        file: { unit: \"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n        array: { unit: \"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n        set: { unit: \"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD\", verb: \"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1\" : \"\u0B8E\u0BA3\u0BCD\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0B85\u0BA3\u0BBF\";\n                }\n                if (data === null) {\n                    return \"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1\",\n        email: \"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD\",\n        date: \"ISO \u0BA4\u0BC7\u0BA4\u0BBF\",\n        time: \"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD\",\n        duration: \"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1\",\n        ipv4: \"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF\",\n        ipv6: \"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF\",\n        cidrv4: \"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1\",\n        cidrv6: \"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1\",\n        base64: \"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD\",\n        base64url: \"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD\",\n        json_string: \"JSON \u0B9A\u0BB0\u0BAE\u0BCD\",\n        e164: \"E.164 \u0B8E\u0BA3\u0BCD\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${util.joinValues(issue.values, \"|\")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin ?? \"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD\"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                }\n                return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin ?? \"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1\"} ${adj}${issue.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`; //\n                }\n                return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue.origin} ${adj}${issue.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: \"${_issue.prefix}\" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                if (_issue.format === \"ends_with\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: \"${_issue.suffix}\" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                if (_issue.format === \"includes\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: \"${_issue.includes}\" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                if (_issue.format === \"regex\")\n                    return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${_issue.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${issue.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;\n            case \"unrecognized_keys\":\n                return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${issue.keys.length > 1 ? \"\u0B95\u0BB3\u0BCD\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;\n            case \"invalid_union\":\n                return \"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1\";\n            case \"invalid_element\":\n                return `${issue.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;\n            default:\n                return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n        file: { unit: \"\u0E44\u0E1A\u0E15\u0E4C\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n        array: { unit: \"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n        set: { unit: \"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\", verb: \"\u0E04\u0E27\u0E23\u0E21\u0E35\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)\" : \"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)\";\n                }\n                if (data === null) {\n                    return \"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19\",\n        email: \"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25\",\n        url: \"URL\",\n        emoji: \"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO\",\n        date: \"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO\",\n        time: \"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO\",\n        duration: \"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO\",\n        ipv4: \"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4\",\n        ipv6: \"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6\",\n        cidrv4: \"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4\",\n        cidrv6: \"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6\",\n        base64: \"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64\",\n        base64url: \"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL\",\n        json_string: \"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON\",\n        e164: \"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)\",\n        jwt: \"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT\",\n        template_literal: \"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${issue.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19\" : \"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin ?? \"\u0E04\u0E48\u0E32\"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\"}`;\n                return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin ?? \"\u0E04\u0E48\u0E32\"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22\" : \"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 \"${_issue.includes}\" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;\n                if (_issue.format === \"regex\")\n                    return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${_issue.pattern}`;\n                return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${issue.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;\n            case \"unrecognized_keys\":\n                return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49\";\n            case \"invalid_element\":\n                return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue.origin}`;\n            default:\n                return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nexport const parsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"NaN\" : \"number\";\n        }\n        case \"object\": {\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                return data.constructor.name;\n            }\n        }\n    }\n    return t;\n};\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"olmal\u0131\" },\n        file: { unit: \"bayt\", verb: \"olmal\u0131\" },\n        array: { unit: \"\u00F6\u011Fe\", verb: \"olmal\u0131\" },\n        set: { unit: \"\u00F6\u011Fe\", verb: \"olmal\u0131\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const Nouns = {\n        regex: \"girdi\",\n        email: \"e-posta adresi\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO tarih ve saat\",\n        date: \"ISO tarih\",\n        time: \"ISO saat\",\n        duration: \"ISO s\u00FCre\",\n        ipv4: \"IPv4 adresi\",\n        ipv6: \"IPv6 adresi\",\n        cidrv4: \"IPv4 aral\u0131\u011F\u0131\",\n        cidrv6: \"IPv6 aral\u0131\u011F\u0131\",\n        base64: \"base64 ile \u015Fifrelenmi\u015F metin\",\n        base64url: \"base64url ile \u015Fifrelenmi\u015F metin\",\n        json_string: \"JSON dizesi\",\n        e164: \"E.164 say\u0131s\u0131\",\n        jwt: \"JWT\",\n        template_literal: \"\u015Eablon dizesi\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `Ge\u00E7ersiz de\u011Fer: beklenen ${issue.expected}, al\u0131nan ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ge\u00E7ersiz de\u011Fer: beklenen ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ge\u00E7ersiz se\u00E7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ok b\u00FCy\u00FCk: beklenen ${issue.origin ?? \"de\u011Fer\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u00F6\u011Fe\"}`;\n                return `\u00C7ok b\u00FCy\u00FCk: beklenen ${issue.origin ?? \"de\u011Fer\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u00C7ok k\u00FC\u00E7\u00FCk: beklenen ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                return `\u00C7ok k\u00FC\u00E7\u00FCk: beklenen ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ge\u00E7ersiz metin: \"${_issue.prefix}\" ile ba\u015Flamal\u0131`;\n                if (_issue.format === \"ends_with\")\n                    return `Ge\u00E7ersiz metin: \"${_issue.suffix}\" ile bitmeli`;\n                if (_issue.format === \"includes\")\n                    return `Ge\u00E7ersiz metin: \"${_issue.includes}\" i\u00E7ermeli`;\n                if (_issue.format === \"regex\")\n                    return `Ge\u00E7ersiz metin: ${_issue.pattern} desenine uymal\u0131`;\n                return `Ge\u00E7ersiz ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ge\u00E7ersiz say\u0131: ${issue.divisor} ile tam b\u00F6l\u00FCnebilmeli`;\n            case \"unrecognized_keys\":\n                return `Tan\u0131nmayan anahtar${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} i\u00E7inde ge\u00E7ersiz anahtar`;\n            case \"invalid_union\":\n                return \"Ge\u00E7ersiz de\u011Fer\";\n            case \"invalid_element\":\n                return `${issue.origin} i\u00E7inde ge\u00E7ersiz de\u011Fer`;\n            default:\n                return `Ge\u00E7ersiz de\u011Fer`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n        file: { unit: \"\u0431\u0430\u0439\u0442\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n        array: { unit: \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n        set: { unit: \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432\", verb: \"\u043C\u0430\u0442\u0438\u043C\u0435\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0447\u0438\u0441\u043B\u043E\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u043C\u0430\u0441\u0438\u0432\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456\",\n        email: \"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438\",\n        url: \"URL\",\n        emoji: \"\u0435\u043C\u043E\u0434\u0437\u0456\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO\",\n        date: \"\u0434\u0430\u0442\u0430 ISO\",\n        time: \"\u0447\u0430\u0441 ISO\",\n        duration: \"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO\",\n        ipv4: \"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4\",\n        ipv6: \"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6\",\n        cidrv4: \"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4\",\n        cidrv6: \"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6\",\n        base64: \"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64\",\n        base64url: \"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url\",\n        json_string: \"\u0440\u044F\u0434\u043E\u043A JSON\",\n        e164: \"\u043D\u043E\u043C\u0435\u0440 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${parsedType(issue.input)}`;\n            // return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${util.getParsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432\"}`;\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin ?? \"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\"} \u0431\u0443\u0434\u0435 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue.origin} \u0431\u0443\u0434\u0435 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${issue.keys.length > 1 ? \"\u0456\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456\";\n            case \"invalid_element\":\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${issue.origin}`;\n            default:\n                return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u062D\u0631\u0648\u0641\", verb: \"\u06C1\u0648\u0646\u0627\" },\n        file: { unit: \"\u0628\u0627\u0626\u0679\u0633\", verb: \"\u06C1\u0648\u0646\u0627\" },\n        array: { unit: \"\u0622\u0626\u0679\u0645\u0632\", verb: \"\u06C1\u0648\u0646\u0627\" },\n        set: { unit: \"\u0622\u0626\u0679\u0645\u0632\", verb: \"\u06C1\u0648\u0646\u0627\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"\u0646\u0645\u0628\u0631\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u0622\u0631\u06D2\";\n                }\n                if (data === null) {\n                    return \"\u0646\u0644\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0627\u0646 \u067E\u0679\",\n        email: \"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633\",\n        url: \"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644\",\n        emoji: \"\u0627\u06CC\u0645\u0648\u062C\u06CC\",\n        uuid: \"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        uuidv4: \"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4\",\n        uuidv6: \"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6\",\n        nanoid: \"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        guid: \"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        cuid: \"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        cuid2: \"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2\",\n        ulid: \"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC\",\n        xid: \"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC\",\n        ksuid: \"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC\",\n        datetime: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645\",\n        date: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E\",\n        time: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A\",\n        duration: \"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A\",\n        ipv4: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633\",\n        ipv6: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633\",\n        cidrv4: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C\",\n        cidrv6: \"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C\",\n        base64: \"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF\",\n        base64url: \"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF\",\n        json_string: \"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF\",\n        e164: \"\u0627\u06CC 164 \u0646\u0645\u0628\u0631\",\n        jwt: \"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC\",\n        template_literal: \"\u0627\u0646 \u067E\u0679\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${issue.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${parsedType(issue.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${util.stringifyPrimitive(issue.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n                return `\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${util.joinValues(issue.values, \"|\")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue.origin ?? \"\u0648\u06CC\u0644\u06CC\u0648\"} \u06A9\u06D2 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u0639\u0646\u0627\u0635\u0631\"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;\n                return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue.origin ?? \"\u0648\u06CC\u0644\u06CC\u0648\"} \u06A9\u0627 ${adj}${issue.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue.origin} \u06A9\u06D2 ${adj}${issue.minimum.toString()} ${sizing.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;\n                }\n                return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue.origin} \u06A9\u0627 ${adj}${issue.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \"${_issue.prefix}\" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \"${_issue.suffix}\" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                if (_issue.format === \"includes\")\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \"${_issue.includes}\" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                if (_issue.format === \"regex\")\n                    return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${_issue.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n                return `\u063A\u0644\u0637 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${issue.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;\n            case \"unrecognized_keys\":\n                return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${issue.keys.length > 1 ? \"\u0632\" : \"\"}: ${util.joinValues(issue.keys, \"\u060C \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;\n            case \"invalid_union\":\n                return \"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679\";\n            case \"invalid_element\":\n                return `${issue.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;\n            default:\n                return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"k\u00FD t\u1EF1\", verb: \"c\u00F3\" },\n        file: { unit: \"byte\", verb: \"c\u00F3\" },\n        array: { unit: \"ph\u1EA7n t\u1EED\", verb: \"c\u00F3\" },\n        set: { unit: \"ph\u1EA7n t\u1EED\", verb: \"c\u00F3\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"s\u1ED1\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"m\u1EA3ng\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u0111\u1EA7u v\u00E0o\",\n        email: \"\u0111\u1ECBa ch\u1EC9 email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ng\u00E0y gi\u1EDD ISO\",\n        date: \"ng\u00E0y ISO\",\n        time: \"gi\u1EDD ISO\",\n        duration: \"kho\u1EA3ng th\u1EDDi gian ISO\",\n        ipv4: \"\u0111\u1ECBa ch\u1EC9 IPv4\",\n        ipv6: \"\u0111\u1ECBa ch\u1EC9 IPv6\",\n        cidrv4: \"d\u1EA3i IPv4\",\n        cidrv6: \"d\u1EA3i IPv6\",\n        base64: \"chu\u1ED7i m\u00E3 h\u00F3a base64\",\n        base64url: \"chu\u1ED7i m\u00E3 h\u00F3a base64url\",\n        json_string: \"chu\u1ED7i JSON\",\n        e164: \"s\u1ED1 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u0111\u1EA7u v\u00E0o\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${issue.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${util.stringifyPrimitive(issue.values[0])}`;\n                return `T\u00F9y ch\u1ECDn kh\u00F4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\u00E1c gi\u00E1 tr\u1ECB ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Qu\u00E1 l\u1EDBn: mong \u0111\u1EE3i ${issue.origin ?? \"gi\u00E1 tr\u1ECB\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"ph\u1EA7n t\u1EED\"}`;\n                return `Qu\u00E1 l\u1EDBn: mong \u0111\u1EE3i ${issue.origin ?? \"gi\u00E1 tr\u1ECB\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Qu\u00E1 nh\u1ECF: mong \u0111\u1EE3i ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Qu\u00E1 nh\u1ECF: mong \u0111\u1EE3i ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\u00FAc b\u1EB1ng \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Chu\u1ED7i kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${_issue.pattern}`;\n                return `${Nouns[_issue.format] ?? issue.format} kh\u00F4ng h\u1EE3p l\u1EC7`;\n            }\n            case \"not_multiple_of\":\n                return `S\u1ED1 kh\u00F4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\u00E0 b\u1ED9i s\u1ED1 c\u1EE7a ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kh\u00F3a kh\u00F4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kh\u00F3a kh\u00F4ng h\u1EE3p l\u1EC7 trong ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7\";\n            case \"invalid_element\":\n                return `Gi\u00E1 tr\u1ECB kh\u00F4ng h\u1EE3p l\u1EC7 trong ${issue.origin}`;\n            default:\n                return `\u0110\u1EA7u v\u00E0o kh\u00F4ng h\u1EE3p l\u1EC7`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u5B57\u7B26\", verb: \"\u5305\u542B\" },\n        file: { unit: \"\u5B57\u8282\", verb: \"\u5305\u542B\" },\n        array: { unit: \"\u9879\", verb: \"\u5305\u542B\" },\n        set: { unit: \"\u9879\", verb: \"\u5305\u542B\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"\u975E\u6570\u5B57(NaN)\" : \"\u6570\u5B57\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"\u6570\u7EC4\";\n                }\n                if (data === null) {\n                    return \"\u7A7A\u503C(null)\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u8F93\u5165\",\n        email: \"\u7535\u5B50\u90AE\u4EF6\",\n        url: \"URL\",\n        emoji: \"\u8868\u60C5\u7B26\u53F7\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO\u65E5\u671F\u65F6\u95F4\",\n        date: \"ISO\u65E5\u671F\",\n        time: \"ISO\u65F6\u95F4\",\n        duration: \"ISO\u65F6\u957F\",\n        ipv4: \"IPv4\u5730\u5740\",\n        ipv6: \"IPv6\u5730\u5740\",\n        cidrv4: \"IPv4\u7F51\u6BB5\",\n        cidrv6: \"IPv6\u7F51\u6BB5\",\n        base64: \"base64\u7F16\u7801\u5B57\u7B26\u4E32\",\n        base64url: \"base64url\u7F16\u7801\u5B57\u7B26\u4E32\",\n        json_string: \"JSON\u5B57\u7B26\u4E32\",\n        e164: \"E.164\u53F7\u7801\",\n        jwt: \"JWT\",\n        template_literal: \"\u8F93\u5165\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${issue.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue.origin ?? \"\u503C\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u4E2A\u5143\u7D20\"}`;\n                return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue.origin ?? \"\u503C\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 \"${_issue.prefix}\" \u5F00\u5934`;\n                if (_issue.format === \"ends_with\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 \"${_issue.suffix}\" \u7ED3\u5C3E`;\n                if (_issue.format === \"includes\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${_issue.pattern}`;\n                return `\u65E0\u6548${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${issue.divisor} \u7684\u500D\u6570`;\n            case \"unrecognized_keys\":\n                return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;\n            case \"invalid_union\":\n                return \"\u65E0\u6548\u8F93\u5165\";\n            case \"invalid_element\":\n                return `${issue.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;\n            default:\n                return `\u65E0\u6548\u8F93\u5165`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u5B57\u5143\", verb: \"\u64C1\u6709\" },\n        file: { unit: \"\u4F4D\u5143\u7D44\", verb: \"\u64C1\u6709\" },\n        array: { unit: \"\u9805\u76EE\", verb: \"\u64C1\u6709\" },\n        set: { unit: \"\u9805\u76EE\", verb: \"\u64C1\u6709\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"number\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"array\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u8F38\u5165\",\n        email: \"\u90F5\u4EF6\u5730\u5740\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO \u65E5\u671F\u6642\u9593\",\n        date: \"ISO \u65E5\u671F\",\n        time: \"ISO \u6642\u9593\",\n        duration: \"ISO \u671F\u9593\",\n        ipv4: \"IPv4 \u4F4D\u5740\",\n        ipv6: \"IPv6 \u4F4D\u5740\",\n        cidrv4: \"IPv4 \u7BC4\u570D\",\n        cidrv6: \"IPv6 \u7BC4\u570D\",\n        base64: \"base64 \u7DE8\u78BC\u5B57\u4E32\",\n        base64url: \"base64url \u7DE8\u78BC\u5B57\u4E32\",\n        json_string: \"JSON \u5B57\u4E32\",\n        e164: \"E.164 \u6578\u503C\",\n        jwt: \"JWT\",\n        template_literal: \"\u8F38\u5165\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${issue.expected}\uFF0C\u4F46\u6536\u5230 ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue.origin ?? \"\u503C\"} \u61C9\u70BA ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"\u500B\u5143\u7D20\"}`;\n                return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue.origin ?? \"\u503C\"} \u61C9\u70BA ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue.origin} \u61C9\u70BA ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue.origin} \u61C9\u70BA ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 \"${_issue.prefix}\" \u958B\u982D`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 \"${_issue.suffix}\" \u7D50\u5C3E`;\n                if (_issue.format === \"includes\")\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${_issue.pattern}`;\n                return `\u7121\u6548\u7684 ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${issue.divisor} \u7684\u500D\u6578`;\n            case \"unrecognized_keys\":\n                return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${issue.keys.length > 1 ? \"\u5011\" : \"\"}\uFF1A${util.joinValues(issue.keys, \"\u3001\")}`;\n            case \"invalid_key\":\n                return `${issue.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;\n            case \"invalid_union\":\n                return \"\u7121\u6548\u7684\u8F38\u5165\u503C\";\n            case \"invalid_element\":\n                return `${issue.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;\n            default:\n                return `\u7121\u6548\u7684\u8F38\u5165\u503C`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"\u00E0mi\", verb: \"n\u00ED\" },\n        file: { unit: \"bytes\", verb: \"n\u00ED\" },\n        array: { unit: \"nkan\", verb: \"n\u00ED\" },\n        set: { unit: \"nkan\", verb: \"n\u00ED\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const parsedType = (data) => {\n        const t = typeof data;\n        switch (t) {\n            case \"number\": {\n                return Number.isNaN(data) ? \"NaN\" : \"n\u1ECD\u0301mb\u00E0\";\n            }\n            case \"object\": {\n                if (Array.isArray(data)) {\n                    return \"akop\u1ECD\";\n                }\n                if (data === null) {\n                    return \"null\";\n                }\n                if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {\n                    return data.constructor.name;\n                }\n            }\n        }\n        return t;\n    };\n    const Nouns = {\n        regex: \"\u1EB9\u0300r\u1ECD \u00ECb\u00E1w\u1ECDl\u00E9\",\n        email: \"\u00E0d\u00EDr\u1EB9\u0301s\u00EC \u00ECm\u1EB9\u0301l\u00EC\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"\u00E0k\u00F3k\u00F2 ISO\",\n        date: \"\u1ECDj\u1ECD\u0301 ISO\",\n        time: \"\u00E0k\u00F3k\u00F2 ISO\",\n        duration: \"\u00E0k\u00F3k\u00F2 t\u00F3 p\u00E9 ISO\",\n        ipv4: \"\u00E0d\u00EDr\u1EB9\u0301s\u00EC IPv4\",\n        ipv6: \"\u00E0d\u00EDr\u1EB9\u0301s\u00EC IPv6\",\n        cidrv4: \"\u00E0gb\u00E8gb\u00E8 IPv4\",\n        cidrv6: \"\u00E0gb\u00E8gb\u00E8 IPv6\",\n        base64: \"\u1ECD\u0300r\u1ECD\u0300 t\u00ED a k\u1ECD\u0301 n\u00ED base64\",\n        base64url: \"\u1ECD\u0300r\u1ECD\u0300 base64url\",\n        json_string: \"\u1ECD\u0300r\u1ECD\u0300 JSON\",\n        e164: \"n\u1ECD\u0301mb\u00E0 E.164\",\n        jwt: \"JWT\",\n        template_literal: \"\u1EB9\u0300r\u1ECD \u00ECb\u00E1w\u1ECDl\u00E9\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\":\n                return `\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e: a n\u00ED l\u00E1ti fi ${issue.expected}, \u00E0m\u1ECD\u0300 a r\u00ED ${parsedType(issue.input)}`;\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e: a n\u00ED l\u00E1ti fi ${util.stringifyPrimitive(issue.values[0])}`;\n                return `\u00C0\u1E63\u00E0y\u00E0n a\u1E63\u00EC\u1E63e: yan \u1ECD\u0300kan l\u00E1ra ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `T\u00F3 p\u1ECD\u0300 j\u00F9: a n\u00ED l\u00E1ti j\u1EB9\u0301 p\u00E9 ${issue.origin ?? \"iye\"} ${sizing.verb} ${adj}${issue.maximum} ${sizing.unit}`;\n                return `T\u00F3 p\u1ECD\u0300 j\u00F9: a n\u00ED l\u00E1ti j\u1EB9\u0301 ${adj}${issue.maximum}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `K\u00E9r\u00E9 ju: a n\u00ED l\u00E1ti j\u1EB9\u0301 p\u00E9 ${issue.origin} ${sizing.verb} ${adj}${issue.minimum} ${sizing.unit}`;\n                return `K\u00E9r\u00E9 ju: a n\u00ED l\u00E1ti j\u1EB9\u0301 ${adj}${issue.minimum}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\u00FA \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\u00ED p\u1EB9\u0300l\u00FA \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\u00ED \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u00E1 \u00E0p\u1EB9\u1EB9r\u1EB9 mu ${_issue.pattern}`;\n                return `A\u1E63\u00EC\u1E63e: ${Nouns[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `N\u1ECD\u0301mb\u00E0 a\u1E63\u00EC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \u00E8y\u00E0 p\u00EDp\u00EDn ti ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `B\u1ECDt\u00ECn\u00EC \u00E0\u00ECm\u1ECD\u0300: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `B\u1ECDt\u00ECn\u00EC a\u1E63\u00EC\u1E63e n\u00EDn\u00FA ${issue.origin}`;\n            case \"invalid_union\":\n                return \"\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e\";\n            case \"invalid_element\":\n                return `Iye a\u1E63\u00EC\u1E63e n\u00EDn\u00FA ${issue.origin}`;\n            default:\n                return \"\u00CCb\u00E1w\u1ECDl\u00E9 a\u1E63\u00EC\u1E63e\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n", "export const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new Map();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            if (this._idmap.has(meta.id)) {\n                throw new Error(`ID ${meta.id} already exists in the registry`);\n            }\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new Map();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            const f = { ...pm, ...this._map.get(schema) };\n            return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\nexport const globalRegistry = /*@__PURE__*/ registry();\n", "import * as checks from \"./checks.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// same as _custom but defaults to abort:false\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\nexport function _superRefine(fn) {\n    const ch = _check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort);\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\nexport function _check(fn, params) {\n    const ch = new checks.$ZodCheck({\n        check: \"custom\",\n        ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Pipe = Classes.Pipe ?? schemas.$ZodPipe;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const _Transform = Classes.Transform ?? schemas.$ZodTransform;\n    const tx = new _Transform({\n        type: \"transform\",\n        transform: (input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: tx,\n                    continue: false,\n                });\n                return {};\n            }\n        },\n        error: params.error,\n    });\n    // params.error;\n    const innerPipe = new _Pipe({\n        type: \"pipe\",\n        in: new _String({ type: \"string\", error: params.error }),\n        out: tx,\n        error: params.error,\n    });\n    const outerPipe = new _Pipe({\n        type: \"pipe\",\n        in: innerPipe,\n        out: new _Boolean({\n            type: \"boolean\",\n            error: params.error,\n        }),\n        error: params.error,\n    });\n    return outerPipe;\n}\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n", "import { _array, _tuple, _unknown } from \"./api.js\";\nimport { parse, parseAsync } from \"./parse.js\";\nimport * as schemas from \"./schemas.js\";\nimport { $ZodTuple } from \"./schemas.js\";\nexport class $ZodFunction {\n    constructor(def) {\n        this._def = def;\n        this.def = def;\n    }\n    implement(func) {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implement() must be called with a function\");\n        }\n        const impl = ((...args) => {\n            const parsedArgs = this._def.input ? parse(this._def.input, args, undefined, { callee: impl }) : args;\n            if (!Array.isArray(parsedArgs)) {\n                throw new Error(\"Invalid arguments schema: not an array or tuple schema.\");\n            }\n            const output = func(...parsedArgs);\n            return this._def.output ? parse(this._def.output, output, undefined, { callee: impl }) : output;\n        });\n        return impl;\n    }\n    implementAsync(func) {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implement() must be called with a function\");\n        }\n        const impl = (async (...args) => {\n            const parsedArgs = this._def.input ? await parseAsync(this._def.input, args, undefined, { callee: impl }) : args;\n            if (!Array.isArray(parsedArgs)) {\n                throw new Error(\"Invalid arguments schema: not an array or tuple schema.\");\n            }\n            const output = await func(...parsedArgs);\n            return this._def.output ? parseAsync(this._def.output, output, undefined, { callee: impl }) : output;\n        });\n        return impl;\n    }\n    input(...args) {\n        const F = this.constructor;\n        if (Array.isArray(args[0])) {\n            return new F({\n                type: \"function\",\n                input: new $ZodTuple({\n                    type: \"tuple\",\n                    items: args[0],\n                    rest: args[1],\n                }),\n                output: this._def.output,\n            });\n        }\n        return new F({\n            type: \"function\",\n            input: args[0],\n            output: this._def.output,\n        });\n    }\n    output(output) {\n        const F = this.constructor;\n        return new F({\n            type: \"function\",\n            input: this._def.input,\n            output,\n        });\n    }\n}\nfunction _function(params) {\n    return new $ZodFunction({\n        type: \"function\",\n        input: Array.isArray(params?.input)\n            ? _tuple(schemas.$ZodTuple, params?.input)\n            : (params?.input ?? _array(schemas.$ZodArray, _unknown(schemas.$ZodUnknown))),\n        output: params?.output ?? _unknown(schemas.$ZodUnknown),\n    });\n}\nexport { _function as function };\n", "import { $ZodRegistry, globalRegistry } from \"./registries.js\";\nimport { getEnumValues } from \"./util.js\";\nexport class JSONSchemaGenerator {\n    constructor(params) {\n        this.counter = 0;\n        this.metadataRegistry = params?.metadata ?? globalRegistry;\n        this.target = params?.target ?? \"draft-2020-12\";\n        this.unrepresentable = params?.unrepresentable ?? \"throw\";\n        this.override = params?.override ?? (() => { });\n        this.io = params?.io ?? \"output\";\n        this.seen = new Map();\n    }\n    process(schema, _params = { path: [], schemaPath: [] }) {\n        var _a;\n        const def = schema._zod.def;\n        const formatMap = {\n            guid: \"uuid\",\n            url: \"uri\",\n            datetime: \"date-time\",\n            json_string: \"json-string\",\n            regex: \"\", // do not set\n        };\n        // check for schema in seens\n        const seen = this.seen.get(schema);\n        if (seen) {\n            seen.count++;\n            // check if cycle\n            const isCycle = _params.schemaPath.includes(schema);\n            if (isCycle) {\n                seen.cycle = _params.path;\n            }\n            return seen.schema;\n        }\n        // initialize\n        const result = { schema: {}, count: 1, cycle: undefined, path: _params.path };\n        this.seen.set(schema, result);\n        // custom method overrides default behavior\n        const overrideSchema = schema._zod.toJSONSchema?.();\n        if (overrideSchema) {\n            result.schema = overrideSchema;\n        }\n        else {\n            const params = {\n                ..._params,\n                schemaPath: [..._params.schemaPath, schema],\n                path: _params.path,\n            };\n            const parent = schema._zod.parent;\n            if (parent) {\n                // schema was cloned from another schema\n                result.ref = parent;\n                this.process(parent, params);\n                this.seen.get(parent).isParent = true;\n            }\n            else {\n                const _json = result.schema;\n                switch (def.type) {\n                    case \"string\": {\n                        const json = _json;\n                        json.type = \"string\";\n                        const { minimum, maximum, format, patterns, contentEncoding } = schema._zod\n                            .bag;\n                        if (typeof minimum === \"number\")\n                            json.minLength = minimum;\n                        if (typeof maximum === \"number\")\n                            json.maxLength = maximum;\n                        // custom pattern overrides format\n                        if (format) {\n                            json.format = formatMap[format] ?? format;\n                            if (json.format === \"\")\n                                delete json.format; // empty format is not valid\n                        }\n                        if (contentEncoding)\n                            json.contentEncoding = contentEncoding;\n                        if (patterns && patterns.size > 0) {\n                            const regexes = [...patterns];\n                            if (regexes.length === 1)\n                                json.pattern = regexes[0].source;\n                            else if (regexes.length > 1) {\n                                result.schema.allOf = [\n                                    ...regexes.map((regex) => ({\n                                        ...(this.target === \"draft-7\" || this.target === \"draft-4\" ? { type: \"string\" } : {}),\n                                        pattern: regex.source,\n                                    })),\n                                ];\n                            }\n                        }\n                        break;\n                    }\n                    case \"number\": {\n                        const json = _json;\n                        const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;\n                        if (typeof format === \"string\" && format.includes(\"int\"))\n                            json.type = \"integer\";\n                        else\n                            json.type = \"number\";\n                        if (typeof exclusiveMinimum === \"number\") {\n                            if (this.target === \"draft-4\") {\n                                json.minimum = exclusiveMinimum;\n                                json.exclusiveMinimum = true;\n                            }\n                            else {\n                                json.exclusiveMinimum = exclusiveMinimum;\n                            }\n                        }\n                        if (typeof minimum === \"number\") {\n                            json.minimum = minimum;\n                            if (typeof exclusiveMinimum === \"number\" && this.target !== \"draft-4\") {\n                                if (exclusiveMinimum >= minimum)\n                                    delete json.minimum;\n                                else\n                                    delete json.exclusiveMinimum;\n                            }\n                        }\n                        if (typeof exclusiveMaximum === \"number\") {\n                            if (this.target === \"draft-4\") {\n                                json.maximum = exclusiveMaximum;\n                                json.exclusiveMaximum = true;\n                            }\n                            else {\n                                json.exclusiveMaximum = exclusiveMaximum;\n                            }\n                        }\n                        if (typeof maximum === \"number\") {\n                            json.maximum = maximum;\n                            if (typeof exclusiveMaximum === \"number\" && this.target !== \"draft-4\") {\n                                if (exclusiveMaximum <= maximum)\n                                    delete json.maximum;\n                                else\n                                    delete json.exclusiveMaximum;\n                            }\n                        }\n                        if (typeof multipleOf === \"number\")\n                            json.multipleOf = multipleOf;\n                        break;\n                    }\n                    case \"boolean\": {\n                        const json = _json;\n                        json.type = \"boolean\";\n                        break;\n                    }\n                    case \"bigint\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"BigInt cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"symbol\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Symbols cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"null\": {\n                        _json.type = \"null\";\n                        break;\n                    }\n                    case \"any\": {\n                        break;\n                    }\n                    case \"unknown\": {\n                        break;\n                    }\n                    case \"undefined\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Undefined cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"void\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Void cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"never\": {\n                        _json.not = {};\n                        break;\n                    }\n                    case \"date\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Date cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"array\": {\n                        const json = _json;\n                        const { minimum, maximum } = schema._zod.bag;\n                        if (typeof minimum === \"number\")\n                            json.minItems = minimum;\n                        if (typeof maximum === \"number\")\n                            json.maxItems = maximum;\n                        json.type = \"array\";\n                        json.items = this.process(def.element, { ...params, path: [...params.path, \"items\"] });\n                        break;\n                    }\n                    case \"object\": {\n                        const json = _json;\n                        json.type = \"object\";\n                        json.properties = {};\n                        const shape = def.shape; // params.shapeCache.get(schema)!;\n                        for (const key in shape) {\n                            json.properties[key] = this.process(shape[key], {\n                                ...params,\n                                path: [...params.path, \"properties\", key],\n                            });\n                        }\n                        // required keys\n                        const allKeys = new Set(Object.keys(shape));\n                        // const optionalKeys = new Set(def.optional);\n                        const requiredKeys = new Set([...allKeys].filter((key) => {\n                            const v = def.shape[key]._zod;\n                            if (this.io === \"input\") {\n                                return v.optin === undefined;\n                            }\n                            else {\n                                return v.optout === undefined;\n                            }\n                        }));\n                        if (requiredKeys.size > 0) {\n                            json.required = Array.from(requiredKeys);\n                        }\n                        // catchall\n                        if (def.catchall?._zod.def.type === \"never\") {\n                            // strict\n                            json.additionalProperties = false;\n                        }\n                        else if (!def.catchall) {\n                            // regular\n                            if (this.io === \"output\")\n                                json.additionalProperties = false;\n                        }\n                        else if (def.catchall) {\n                            json.additionalProperties = this.process(def.catchall, {\n                                ...params,\n                                path: [...params.path, \"additionalProperties\"],\n                            });\n                        }\n                        break;\n                    }\n                    case \"union\": {\n                        const json = _json;\n                        json.anyOf = def.options.map((x, i) => this.process(x, {\n                            ...params,\n                            path: [...params.path, \"anyOf\", i],\n                        }));\n                        break;\n                    }\n                    case \"intersection\": {\n                        const json = _json;\n                        const a = this.process(def.left, {\n                            ...params,\n                            path: [...params.path, \"allOf\", 0],\n                        });\n                        const b = this.process(def.right, {\n                            ...params,\n                            path: [...params.path, \"allOf\", 1],\n                        });\n                        const isSimpleIntersection = (val) => \"allOf\" in val && Object.keys(val).length === 1;\n                        const allOf = [\n                            ...(isSimpleIntersection(a) ? a.allOf : [a]),\n                            ...(isSimpleIntersection(b) ? b.allOf : [b]),\n                        ];\n                        json.allOf = allOf;\n                        break;\n                    }\n                    case \"tuple\": {\n                        const json = _json;\n                        json.type = \"array\";\n                        const prefixItems = def.items.map((x, i) => this.process(x, { ...params, path: [...params.path, \"prefixItems\", i] }));\n                        if (this.target === \"draft-2020-12\") {\n                            json.prefixItems = prefixItems;\n                        }\n                        else {\n                            json.items = prefixItems;\n                        }\n                        if (def.rest) {\n                            const rest = this.process(def.rest, {\n                                ...params,\n                                path: [...params.path, \"items\"],\n                            });\n                            if (this.target === \"draft-2020-12\") {\n                                json.items = rest;\n                            }\n                            else {\n                                json.additionalItems = rest;\n                            }\n                        }\n                        // additionalItems\n                        if (def.rest) {\n                            json.items = this.process(def.rest, {\n                                ...params,\n                                path: [...params.path, \"items\"],\n                            });\n                        }\n                        // length\n                        const { minimum, maximum } = schema._zod.bag;\n                        if (typeof minimum === \"number\")\n                            json.minItems = minimum;\n                        if (typeof maximum === \"number\")\n                            json.maxItems = maximum;\n                        break;\n                    }\n                    case \"record\": {\n                        const json = _json;\n                        json.type = \"object\";\n                        if (this.target !== \"draft-4\") {\n                            json.propertyNames = this.process(def.keyType, {\n                                ...params,\n                                path: [...params.path, \"propertyNames\"],\n                            });\n                        }\n                        json.additionalProperties = this.process(def.valueType, {\n                            ...params,\n                            path: [...params.path, \"additionalProperties\"],\n                        });\n                        break;\n                    }\n                    case \"map\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Map cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"set\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Set cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"enum\": {\n                        const json = _json;\n                        const values = getEnumValues(def.entries);\n                        // Number enums can have both string and number values\n                        if (values.every((v) => typeof v === \"number\"))\n                            json.type = \"number\";\n                        if (values.every((v) => typeof v === \"string\"))\n                            json.type = \"string\";\n                        json.enum = values;\n                        break;\n                    }\n                    case \"literal\": {\n                        const json = _json;\n                        const vals = [];\n                        for (const val of def.values) {\n                            if (val === undefined) {\n                                if (this.unrepresentable === \"throw\") {\n                                    throw new Error(\"Literal `undefined` cannot be represented in JSON Schema\");\n                                }\n                                else {\n                                    // do not add to vals\n                                }\n                            }\n                            else if (typeof val === \"bigint\") {\n                                if (this.unrepresentable === \"throw\") {\n                                    throw new Error(\"BigInt literals cannot be represented in JSON Schema\");\n                                }\n                                else {\n                                    vals.push(Number(val));\n                                }\n                            }\n                            else {\n                                vals.push(val);\n                            }\n                        }\n                        if (vals.length === 0) {\n                            // do nothing (an undefined literal was stripped)\n                        }\n                        else if (vals.length === 1) {\n                            const val = vals[0];\n                            json.type = val === null ? \"null\" : typeof val;\n                            if (this.target === \"draft-4\") {\n                                json.enum = [val];\n                            }\n                            else {\n                                json.const = val;\n                            }\n                        }\n                        else {\n                            if (vals.every((v) => typeof v === \"number\"))\n                                json.type = \"number\";\n                            if (vals.every((v) => typeof v === \"string\"))\n                                json.type = \"string\";\n                            if (vals.every((v) => typeof v === \"boolean\"))\n                                json.type = \"string\";\n                            if (vals.every((v) => v === null))\n                                json.type = \"null\";\n                            json.enum = vals;\n                        }\n                        break;\n                    }\n                    case \"file\": {\n                        const json = _json;\n                        const file = {\n                            type: \"string\",\n                            format: \"binary\",\n                            contentEncoding: \"binary\",\n                        };\n                        const { minimum, maximum, mime } = schema._zod.bag;\n                        if (minimum !== undefined)\n                            file.minLength = minimum;\n                        if (maximum !== undefined)\n                            file.maxLength = maximum;\n                        if (mime) {\n                            if (mime.length === 1) {\n                                file.contentMediaType = mime[0];\n                                Object.assign(json, file);\n                            }\n                            else {\n                                json.anyOf = mime.map((m) => {\n                                    const mFile = { ...file, contentMediaType: m };\n                                    return mFile;\n                                });\n                            }\n                        }\n                        else {\n                            Object.assign(json, file);\n                        }\n                        // if (this.unrepresentable === \"throw\") {\n                        //   throw new Error(\"File cannot be represented in JSON Schema\");\n                        // }\n                        break;\n                    }\n                    case \"transform\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Transforms cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"nullable\": {\n                        const inner = this.process(def.innerType, params);\n                        _json.anyOf = [inner, { type: \"null\" }];\n                        break;\n                    }\n                    case \"nonoptional\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        break;\n                    }\n                    case \"success\": {\n                        const json = _json;\n                        json.type = \"boolean\";\n                        break;\n                    }\n                    case \"default\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        _json.default = JSON.parse(JSON.stringify(def.defaultValue));\n                        break;\n                    }\n                    case \"prefault\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        if (this.io === \"input\")\n                            _json._prefault = JSON.parse(JSON.stringify(def.defaultValue));\n                        break;\n                    }\n                    case \"catch\": {\n                        // use conditionals\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        let catchValue;\n                        try {\n                            catchValue = def.catchValue(undefined);\n                        }\n                        catch {\n                            throw new Error(\"Dynamic catch values are not supported in JSON Schema\");\n                        }\n                        _json.default = catchValue;\n                        break;\n                    }\n                    case \"nan\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"NaN cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    case \"template_literal\": {\n                        const json = _json;\n                        const pattern = schema._zod.pattern;\n                        if (!pattern)\n                            throw new Error(\"Pattern not found in template literal\");\n                        json.type = \"string\";\n                        json.pattern = pattern.source;\n                        break;\n                    }\n                    case \"pipe\": {\n                        const innerType = this.io === \"input\" ? (def.in._zod.def.type === \"transform\" ? def.out : def.in) : def.out;\n                        this.process(innerType, params);\n                        result.ref = innerType;\n                        break;\n                    }\n                    case \"readonly\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        _json.readOnly = true;\n                        break;\n                    }\n                    // passthrough types\n                    case \"promise\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        break;\n                    }\n                    case \"optional\": {\n                        this.process(def.innerType, params);\n                        result.ref = def.innerType;\n                        break;\n                    }\n                    case \"lazy\": {\n                        const innerType = schema._zod.innerType;\n                        this.process(innerType, params);\n                        result.ref = innerType;\n                        break;\n                    }\n                    case \"custom\": {\n                        if (this.unrepresentable === \"throw\") {\n                            throw new Error(\"Custom types cannot be represented in JSON Schema\");\n                        }\n                        break;\n                    }\n                    default: {\n                        def;\n                    }\n                }\n            }\n        }\n        // metadata\n        const meta = this.metadataRegistry.get(schema);\n        if (meta)\n            Object.assign(result.schema, meta);\n        if (this.io === \"input\" && isTransforming(schema)) {\n            // examples/defaults only apply to output type of pipe\n            delete result.schema.examples;\n            delete result.schema.default;\n        }\n        // set prefault as default\n        if (this.io === \"input\" && result.schema._prefault)\n            (_a = result.schema).default ?? (_a.default = result.schema._prefault);\n        delete result.schema._prefault;\n        // pulling fresh from this.seen in case it was overwritten\n        const _result = this.seen.get(schema);\n        return _result.schema;\n    }\n    emit(schema, _params) {\n        const params = {\n            cycles: _params?.cycles ?? \"ref\",\n            reused: _params?.reused ?? \"inline\",\n            // unrepresentable: _params?.unrepresentable ?? \"throw\",\n            // uri: _params?.uri ?? ((id) => `${id}`),\n            external: _params?.external ?? undefined,\n        };\n        // iterate over seen map;\n        const root = this.seen.get(schema);\n        if (!root)\n            throw new Error(\"Unprocessed schema. This is a bug in Zod.\");\n        // initialize result with root schema fields\n        // Object.assign(result, seen.cached);\n        // returns a ref to the schema\n        // defId will be empty if the ref points to an external schema (or #)\n        const makeURI = (entry) => {\n            // comparing the seen objects because sometimes\n            // multiple schemas map to the same seen object.\n            // e.g. lazy\n            // external is configured\n            const defsSegment = this.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n            if (params.external) {\n                const externalId = params.external.registry.get(entry[0])?.id; // ?? \"__shared\";// `__schema${this.counter++}`;\n                // check if schema is in the external registry\n                const uriGenerator = params.external.uri ?? ((id) => id);\n                if (externalId) {\n                    return { ref: uriGenerator(externalId) };\n                }\n                // otherwise, add to __shared\n                const id = entry[1].defId ?? entry[1].schema.id ?? `schema${this.counter++}`;\n                entry[1].defId = id; // set defId so it will be reused if needed\n                return { defId: id, ref: `${uriGenerator(\"__shared\")}#/${defsSegment}/${id}` };\n            }\n            if (entry[1] === root) {\n                return { ref: \"#\" };\n            }\n            // self-contained schema\n            const uriPrefix = `#`;\n            const defUriPrefix = `${uriPrefix}/${defsSegment}/`;\n            const defId = entry[1].schema.id ?? `__schema${this.counter++}`;\n            return { defId, ref: defUriPrefix + defId };\n        };\n        // stored cached version in `def` property\n        // remove all properties, set $ref\n        const extractToDef = (entry) => {\n            // if the schema is already a reference, do not extract it\n            if (entry[1].schema.$ref) {\n                return;\n            }\n            const seen = entry[1];\n            const { ref, defId } = makeURI(entry);\n            seen.def = { ...seen.schema };\n            // defId won't be set if the schema is a reference to an external schema\n            if (defId)\n                seen.defId = defId;\n            // wipe away all properties except $ref\n            const schema = seen.schema;\n            for (const key in schema) {\n                delete schema[key];\n            }\n            schema.$ref = ref;\n        };\n        // throw on cycles\n        // break cycles\n        if (params.cycles === \"throw\") {\n            for (const entry of this.seen.entries()) {\n                const seen = entry[1];\n                if (seen.cycle) {\n                    throw new Error(\"Cycle detected: \" +\n                        `#/${seen.cycle?.join(\"/\")}/<root>` +\n                        '\\n\\nSet the `cycles` parameter to `\"ref\"` to resolve cyclical schemas with defs.');\n                }\n            }\n        }\n        // extract schemas into $defs\n        for (const entry of this.seen.entries()) {\n            const seen = entry[1];\n            // convert root schema to # $ref\n            if (schema === entry[0]) {\n                extractToDef(entry); // this has special handling for the root schema\n                continue;\n            }\n            // extract schemas that are in the external registry\n            if (params.external) {\n                const ext = params.external.registry.get(entry[0])?.id;\n                if (schema !== entry[0] && ext) {\n                    extractToDef(entry);\n                    continue;\n                }\n            }\n            // extract schemas with `id` meta\n            const id = this.metadataRegistry.get(entry[0])?.id;\n            if (id) {\n                extractToDef(entry);\n                continue;\n            }\n            // break cycles\n            if (seen.cycle) {\n                // any\n                extractToDef(entry);\n                continue;\n            }\n            // extract reused schemas\n            if (seen.count > 1) {\n                if (params.reused === \"ref\") {\n                    extractToDef(entry);\n                    // biome-ignore lint:\n                    continue;\n                }\n            }\n        }\n        // flatten _refs\n        const flattenRef = (zodSchema, params) => {\n            const seen = this.seen.get(zodSchema);\n            const schema = seen.def ?? seen.schema;\n            const _cached = { ...schema };\n            // already seen\n            if (seen.ref === null) {\n                return;\n            }\n            // flatten ref if defined\n            const ref = seen.ref;\n            seen.ref = null; // prevent recursion\n            if (ref) {\n                flattenRef(ref, params);\n                // merge referenced schema into current\n                const refSchema = this.seen.get(ref).schema;\n                if (refSchema.$ref && (params.target === \"draft-7\" || params.target === \"draft-4\")) {\n                    schema.allOf = schema.allOf ?? [];\n                    schema.allOf.push(refSchema);\n                }\n                else {\n                    Object.assign(schema, refSchema);\n                    Object.assign(schema, _cached); // prevent overwriting any fields in the original schema\n                }\n            }\n            // execute overrides\n            if (!seen.isParent)\n                this.override({\n                    zodSchema: zodSchema,\n                    jsonSchema: schema,\n                    path: seen.path ?? [],\n                });\n        };\n        for (const entry of [...this.seen.entries()].reverse()) {\n            flattenRef(entry[0], { target: this.target });\n        }\n        const result = {};\n        if (this.target === \"draft-2020-12\") {\n            result.$schema = \"https://json-schema.org/draft/2020-12/schema\";\n        }\n        else if (this.target === \"draft-7\") {\n            result.$schema = \"http://json-schema.org/draft-07/schema#\";\n        }\n        else if (this.target === \"draft-4\") {\n            result.$schema = \"http://json-schema.org/draft-04/schema#\";\n        }\n        else {\n            // @ts-ignore\n            console.warn(`Invalid target: ${this.target}`);\n        }\n        if (params.external?.uri) {\n            const id = params.external.registry.get(schema)?.id;\n            if (!id)\n                throw new Error(\"Schema is missing an `id` property\");\n            result.$id = params.external.uri(id);\n        }\n        Object.assign(result, root.def);\n        // build defs object\n        const defs = params.external?.defs ?? {};\n        for (const entry of this.seen.entries()) {\n            const seen = entry[1];\n            if (seen.def && seen.defId) {\n                defs[seen.defId] = seen.def;\n            }\n        }\n        // set definitions in result\n        if (params.external) {\n        }\n        else {\n            if (Object.keys(defs).length > 0) {\n                if (this.target === \"draft-2020-12\") {\n                    result.$defs = defs;\n                }\n                else {\n                    result.definitions = defs;\n                }\n            }\n        }\n        try {\n            // this \"finalizes\" this schema and ensures all cycles are removed\n            // each call to .emit() is functionally independent\n            // though the seen map is shared\n            return JSON.parse(JSON.stringify(result));\n        }\n        catch (_err) {\n            throw new Error(\"Error converting schema to JSON.\");\n        }\n    }\n}\nexport function toJSONSchema(input, _params) {\n    if (input instanceof $ZodRegistry) {\n        const gen = new JSONSchemaGenerator(_params);\n        const defs = {};\n        for (const entry of input._idmap.entries()) {\n            const [_, schema] = entry;\n            gen.process(schema);\n        }\n        const schemas = {};\n        const external = {\n            registry: input,\n            uri: _params?.uri,\n            defs,\n        };\n        for (const entry of input._idmap.entries()) {\n            const [key, schema] = entry;\n            schemas[key] = gen.emit(schema, {\n                ..._params,\n                external,\n            });\n        }\n        if (Object.keys(defs).length > 0) {\n            const defsSegment = gen.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n            schemas.__shared = {\n                [defsSegment]: defs,\n            };\n        }\n        return { schemas };\n    }\n    const gen = new JSONSchemaGenerator(_params);\n    gen.process(input);\n    return gen.emit(input, _params);\n}\nfunction isTransforming(_schema, _ctx) {\n    const ctx = _ctx ?? { seen: new Set() };\n    if (ctx.seen.has(_schema))\n        return false;\n    ctx.seen.add(_schema);\n    const schema = _schema;\n    const def = schema._zod.def;\n    switch (def.type) {\n        case \"string\":\n        case \"number\":\n        case \"bigint\":\n        case \"boolean\":\n        case \"date\":\n        case \"symbol\":\n        case \"undefined\":\n        case \"null\":\n        case \"any\":\n        case \"unknown\":\n        case \"never\":\n        case \"void\":\n        case \"literal\":\n        case \"enum\":\n        case \"nan\":\n        case \"file\":\n        case \"template_literal\":\n            return false;\n        case \"array\": {\n            return isTransforming(def.element, ctx);\n        }\n        case \"object\": {\n            for (const key in def.shape) {\n                if (isTransforming(def.shape[key], ctx))\n                    return true;\n            }\n            return false;\n        }\n        case \"union\": {\n            for (const option of def.options) {\n                if (isTransforming(option, ctx))\n                    return true;\n            }\n            return false;\n        }\n        case \"intersection\": {\n            return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);\n        }\n        case \"tuple\": {\n            for (const item of def.items) {\n                if (isTransforming(item, ctx))\n                    return true;\n            }\n            if (def.rest && isTransforming(def.rest, ctx))\n                return true;\n            return false;\n        }\n        case \"record\": {\n            return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);\n        }\n        case \"map\": {\n            return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);\n        }\n        case \"set\": {\n            return isTransforming(def.valueType, ctx);\n        }\n        // inner types\n        case \"promise\":\n        case \"optional\":\n        case \"nonoptional\":\n        case \"nullable\":\n        case \"readonly\":\n            return isTransforming(def.innerType, ctx);\n        case \"lazy\":\n            return isTransforming(def.getter(), ctx);\n        case \"default\": {\n            return isTransforming(def.innerType, ctx);\n        }\n        case \"prefault\": {\n            return isTransforming(def.innerType, ctx);\n        }\n        case \"custom\": {\n            return false;\n        }\n        case \"transform\": {\n            return true;\n        }\n        case \"pipe\": {\n            return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);\n        }\n        case \"success\": {\n            return false;\n        }\n        case \"catch\": {\n            return false;\n        }\n        default:\n            def;\n    }\n    throw new Error(`Unknown schema type: ${def.type}`);\n}\n", "export {};\n", "import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n", "import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nimport * as util from \"../core/util.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => {\n                inst.issues.push(issue);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => {\n                inst.issues.push(...issues);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n", "import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n", "import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    inst.def = def;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone({\n            ...def,\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }\n        // { parent: true }\n        );\n    };\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport function hostname(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hostname\", core.regexes.hostname, _params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return literal(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObject.init(inst, def);\n    ZodType.init(inst, def);\n    util.defineLazy(inst, \"shape\", () => def.shape);\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        get shape() {\n            util.assignProp(this, \"shape\", { ...shape });\n            return this.shape;\n        },\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    const k = core.clone(keyType);\n    k._zod.values = undefined;\n    return new ZodRecord({\n        type: \"record\",\n        keyType: k,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                // _issue.continue ??= true;\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    return core._superRefine(fn);\n}\nfunction _instanceof(cls, params = {\n    error: `Input not instance of ${cls.name}`,\n}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Pipe: ZodPipe,\n    Boolean: ZodBoolean,\n    String: ZodString,\n    Transform: ZodTransform,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n", "// Zod 3 compat layer\nimport * as core from \"../core/index.js\";\n/** @deprecated Use the raw string literal codes instead, e.g. \"invalid_type\". */\nexport const ZodIssueCode = {\n    invalid_type: \"invalid_type\",\n    too_big: \"too_big\",\n    too_small: \"too_small\",\n    invalid_format: \"invalid_format\",\n    not_multiple_of: \"not_multiple_of\",\n    unrecognized_keys: \"unrecognized_keys\",\n    invalid_union: \"invalid_union\",\n    invalid_key: \"invalid_key\",\n    invalid_element: \"invalid_element\",\n    invalid_value: \"invalid_value\",\n    custom: \"custom\",\n};\nexport { $brand, config } from \"../core/index.js\";\n/** @deprecated Use `z.config(params)` instead. */\nexport function setErrorMap(map) {\n    core.config({\n        customError: map,\n    });\n}\n/** @deprecated Use `z.config()` instead. */\nexport function getErrorMap() {\n    return core.config().customError;\n}\n/** @deprecated Do not use. Stub definition, only included for zod-to-json-schema compatibility. */\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n", "import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport function string(params) {\n    return core._coercedString(schemas.ZodString, params);\n}\nexport function number(params) {\n    return core._coercedNumber(schemas.ZodNumber, params);\n}\nexport function boolean(params) {\n    return core._coercedBoolean(schemas.ZodBoolean, params);\n}\nexport function bigint(params) {\n    return core._coercedBigint(schemas.ZodBigInt, params);\n}\nexport function date(params) {\n    return core._coercedDate(schemas.ZodDate, params);\n}\n", "/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\nexport interface Coder<F, T> {\n  encode(from: F): T;\n  decode(to: T): F;\n}\n\nexport interface BytesCoder extends Coder<Uint8Array, string> {\n  encode: (data: Uint8Array) => string;\n  decode: (str: string) => Uint8Array;\n}\n\nfunction isBytes(a: unknown): a is Uint8Array {\n  return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is Uint8Array. */\nfunction abytes(b: Uint8Array | undefined, ...lengths: number[]): void {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n\nfunction isArrayOf(isString: boolean, arr: any[]) {\n  if (!Array.isArray(arr)) return false;\n  if (arr.length === 0) return true;\n  if (isString) {\n    return arr.every((item) => typeof item === 'string');\n  } else {\n    return arr.every((item) => Number.isSafeInteger(item));\n  }\n}\n\n// no abytes: seems to have 10% slowdown. Why?!\n\nfunction afn(input: Function): input is Function {\n  if (typeof input !== 'function') throw new Error('function expected');\n  return true;\n}\n\nfunction astr(label: string, input: unknown): input is string {\n  if (typeof input !== 'string') throw new Error(`${label}: string expected`);\n  return true;\n}\n\nfunction anumber(n: number): void {\n  if (!Number.isSafeInteger(n)) throw new Error(`invalid integer: ${n}`);\n}\n\nfunction aArr(input: any[]) {\n  if (!Array.isArray(input)) throw new Error('array expected');\n}\nfunction astrArr(label: string, input: string[]) {\n  if (!isArrayOf(true, input)) throw new Error(`${label}: array of strings expected`);\n}\nfunction anumArr(label: string, input: number[]) {\n  if (!isArrayOf(false, input)) throw new Error(`${label}: array of numbers expected`);\n}\n\n// TODO: some recusive type inference so it would check correct order of input/output inside rest?\n// like <string, number>, <number, bytes>, <bytes, float>\ntype Chain = [Coder<any, any>, ...Coder<any, any>[]];\n// Extract info from Coder type\ntype Input<F> = F extends Coder<infer T, any> ? T : never;\ntype Output<F> = F extends Coder<any, infer T> ? T : never;\n// Generic function for arrays\ntype First<T> = T extends [infer U, ...any[]] ? U : never;\ntype Last<T> = T extends [...any[], infer U] ? U : never;\ntype Tail<T> = T extends [any, ...infer U] ? U : never;\n\ntype AsChain<C extends Chain, Rest = Tail<C>> = {\n  // C[K] = Coder<Input<C[K]>, Input<Rest[k]>>\n  [K in keyof C]: Coder<Input<C[K]>, Input<K extends keyof Rest ? Rest[K] : any>>;\n};\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain<T extends Chain & AsChain<T>>(...args: T): Coder<Input<First<T>>, Output<Last<T>>> {\n  const id = (a: any) => a;\n  // Wrap call in closure so JIT can inline calls\n  const wrap = (a: any, b: any) => (c: any) => a(b(c));\n  // Construct chain of args[-1].encode(args[-2].encode([...]))\n  const encode = args.map((x) => x.encode).reduceRight(wrap, id);\n  // Construct chain of args[0].decode(args[1].decode(...))\n  const decode = args.map((x) => x.decode).reduce(wrap, id);\n  return { encode, decode };\n}\n\n/**\n * Encodes integer radix representation to array of strings using alphabet and back.\n * Could also be array of strings.\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(letters: string | string[]): Coder<number[], string[]> {\n  // mapping 1 to \"b\"\n  const lettersA = typeof letters === 'string' ? letters.split('') : letters;\n  const len = lettersA.length;\n  astrArr('alphabet', lettersA);\n\n  // mapping \"b\" to 1\n  const indexes = new Map(lettersA.map((l, i) => [l, i]));\n  return {\n    encode: (digits: number[]) => {\n      aArr(digits);\n      return digits.map((i) => {\n        if (!Number.isSafeInteger(i) || i < 0 || i >= len)\n          throw new Error(\n            `alphabet.encode: digit index outside alphabet \"${i}\". Allowed: ${letters}`\n          );\n        return lettersA[i]!;\n      });\n    },\n    decode: (input: string[]): number[] => {\n      aArr(input);\n      return input.map((letter) => {\n        astr('alphabet.decode', letter);\n        const i = indexes.get(letter);\n        if (i === undefined) throw new Error(`Unknown letter: \"${letter}\". Allowed: ${letters}`);\n        return i;\n      });\n    },\n  };\n}\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join(separator = ''): Coder<string[], string> {\n  astr('join', separator);\n  return {\n    encode: (from) => {\n      astrArr('join.decode', from);\n      return from.join(separator);\n    },\n    decode: (to) => {\n      astr('join.decode', to);\n      return to.split(separator);\n    },\n  };\n}\n\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits: number, chr = '='): Coder<string[], string[]> {\n  anumber(bits);\n  astr('padding', chr);\n  return {\n    encode(data: string[]): string[] {\n      astrArr('padding.encode', data);\n      while ((data.length * bits) % 8) data.push(chr);\n      return data;\n    },\n    decode(input: string[]): string[] {\n      astrArr('padding.decode', input);\n      let end = input.length;\n      if ((end * bits) % 8)\n        throw new Error('padding: invalid, string should have whole number of bytes');\n      for (; end > 0 && input[end - 1] === chr; end--) {\n        const last = end - 1;\n        const byte = last * bits;\n        if (byte % 8 === 0) throw new Error('padding: invalid, string has too much padding');\n      }\n      return input.slice(0, end);\n    },\n  };\n}\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize<T>(fn: (val: T) => T): Coder<T, T> {\n  afn(fn);\n  return { encode: (from: T) => from, decode: (to: T) => fn(to) };\n}\n\n/**\n * Slow: O(n^2) time complexity\n */\nfunction convertRadix(data: number[], from: number, to: number): number[] {\n  // base 1 is impossible\n  if (from < 2) throw new Error(`convertRadix: invalid from=${from}, base cannot be less than 2`);\n  if (to < 2) throw new Error(`convertRadix: invalid to=${to}, base cannot be less than 2`);\n  aArr(data);\n  if (!data.length) return [];\n  let pos = 0;\n  const res = [];\n  const digits = Array.from(data, (d) => {\n    anumber(d);\n    if (d < 0 || d >= from) throw new Error(`invalid integer: ${d}`);\n    return d;\n  });\n  const dlen = digits.length;\n  while (true) {\n    let carry = 0;\n    let done = true;\n    for (let i = pos; i < dlen; i++) {\n      const digit = digits[i]!;\n      const fromCarry = from * carry;\n      const digitBase = fromCarry + digit;\n      if (\n        !Number.isSafeInteger(digitBase) ||\n        fromCarry / from !== carry ||\n        digitBase - digit !== fromCarry\n      ) {\n        throw new Error('convertRadix: carry overflow');\n      }\n      const div = digitBase / to;\n      carry = digitBase % to;\n      const rounded = Math.floor(div);\n      digits[i] = rounded;\n      if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase)\n        throw new Error('convertRadix: carry overflow');\n      if (!done) continue;\n      else if (!rounded) pos = i;\n      else done = false;\n    }\n    res.push(carry);\n    if (done) break;\n  }\n  for (let i = 0; i < data.length - 1 && data[i] === 0; i++) res.push(0);\n  return res.reverse();\n}\n\nconst gcd = (a: number, b: number): number => (b === 0 ? a : gcd(b, a % b));\nconst radix2carry = /* @__NO_SIDE_EFFECTS__ */ (from: number, to: number) =>\n  from + (to - gcd(from, to));\nconst powers: number[] = /* @__PURE__ */ (() => {\n  let res = [];\n  for (let i = 0; i < 40; i++) res.push(2 ** i);\n  return res;\n})();\n/**\n * Implemented with numbers, because BigInt is 5x slower\n */\nfunction convertRadix2(data: number[], from: number, to: number, padding: boolean): number[] {\n  aArr(data);\n  if (from <= 0 || from > 32) throw new Error(`convertRadix2: wrong from=${from}`);\n  if (to <= 0 || to > 32) throw new Error(`convertRadix2: wrong to=${to}`);\n  if (radix2carry(from, to) > 32) {\n    throw new Error(\n      `convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`\n    );\n  }\n  let carry = 0;\n  let pos = 0; // bitwise position in current element\n  const max = powers[from]!;\n  const mask = powers[to]! - 1;\n  const res: number[] = [];\n  for (const n of data) {\n    anumber(n);\n    if (n >= max) throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n    carry = (carry << from) | n;\n    if (pos + from > 32) throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n    pos += from;\n    for (; pos >= to; pos -= to) res.push(((carry >> (pos - to)) & mask) >>> 0);\n    const pow = powers[pos];\n    if (pow === undefined) throw new Error('invalid carry');\n    carry &= pow - 1; // clean carry, otherwise it will cause overflow\n  }\n  carry = (carry << (to - pos)) & mask;\n  if (!padding && pos >= from) throw new Error('Excess padding');\n  if (!padding && carry > 0) throw new Error(`Non-zero padding: ${carry}`);\n  if (padding && pos > 0) res.push(carry >>> 0);\n  return res;\n}\n\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num: number): Coder<Uint8Array, number[]> {\n  anumber(num);\n  const _256 = 2 ** 8;\n  return {\n    encode: (bytes: Uint8Array) => {\n      if (!isBytes(bytes)) throw new Error('radix.encode input should be Uint8Array');\n      return convertRadix(Array.from(bytes), _256, num);\n    },\n    decode: (digits: number[]) => {\n      anumArr('radix.decode', digits);\n      return Uint8Array.from(convertRadix(digits, num, _256));\n    },\n  };\n}\n\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits: number, revPadding = false): Coder<Uint8Array, number[]> {\n  anumber(bits);\n  if (bits <= 0 || bits > 32) throw new Error('radix2: bits should be in (0..32]');\n  if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n    throw new Error('radix2: carry overflow');\n  return {\n    encode: (bytes: Uint8Array) => {\n      if (!isBytes(bytes)) throw new Error('radix2.encode input should be Uint8Array');\n      return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n    },\n    decode: (digits: number[]) => {\n      anumArr('radix2.decode', digits);\n      return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n    },\n  };\n}\n\ntype ArgumentTypes<F extends Function> = F extends (...args: infer A) => any ? A : never;\nfunction unsafeWrapper<T extends (...args: any) => any>(fn: T) {\n  afn(fn);\n  return function (...args: ArgumentTypes<T>): ReturnType<T> | void {\n    try {\n      return fn.apply(null, args);\n    } catch (e) {}\n  };\n}\n\nfunction checksum(\n  len: number,\n  fn: (data: Uint8Array) => Uint8Array\n): Coder<Uint8Array, Uint8Array> {\n  anumber(len);\n  afn(fn);\n  return {\n    encode(data: Uint8Array) {\n      if (!isBytes(data)) throw new Error('checksum.encode: input should be Uint8Array');\n      const sum = fn(data).slice(0, len);\n      const res = new Uint8Array(data.length + len);\n      res.set(data);\n      res.set(sum, data.length);\n      return res;\n    },\n    decode(data: Uint8Array) {\n      if (!isBytes(data)) throw new Error('checksum.decode: input should be Uint8Array');\n      const payload = data.slice(0, -len);\n      const oldChecksum = data.slice(-len);\n      const newChecksum = fn(payload).slice(0, len);\n      for (let i = 0; i < len; i++)\n        if (newChecksum[i] !== oldChecksum[i]) throw new Error('Invalid checksum');\n      return payload;\n    },\n  };\n}\n\n// prettier-ignore\nexport const utils: { alphabet: typeof alphabet; chain: typeof chain; checksum: typeof checksum; convertRadix: typeof convertRadix; convertRadix2: typeof convertRadix2; radix: typeof radix; radix2: typeof radix2; join: typeof join; padding: typeof padding; } = {\n  alphabet, chain, checksum, convertRadix, convertRadix2, radix, radix2, join, padding,\n};\n\n// RFC 4648 aka RFC 3548\n// ---------------------\n\n/**\n * base16 encoding from RFC 4648.\n * @example\n * ```js\n * base16.encode(Uint8Array.from([0x12, 0xab]));\n * // => '12AB'\n * ```\n */\nexport const base16: BytesCoder = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\n\n/**\n * base32 encoding from RFC 4648. Has padding.\n * Use `base32nopad` for unpadded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ===='\n * base32.decode('CKVQ====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32: BytesCoder = chain(\n  radix2(5),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'),\n  padding(5),\n  join('')\n);\n\n/**\n * base32 encoding from RFC 4648. No padding.\n * Use `base32` for padded version.\n * Also check out `base32hex`, `base32hexnopad`, `base32crockford`.\n * @example\n * ```js\n * base32nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'CKVQ'\n * base32nopad.decode('CKVQ');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32nopad: BytesCoder = chain(\n  radix2(5),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'),\n  join('')\n);\n/**\n * base32 encoding from RFC 4648. Padded. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hexnopad` for unpadded version.\n * @example\n * ```js\n * base32hex.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG===='\n * base32hex.decode('2ALG====');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hex: BytesCoder = chain(\n  radix2(5),\n  alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'),\n  padding(5),\n  join('')\n);\n\n/**\n * base32 encoding from RFC 4648. No padding. Compared to ordinary `base32`, slightly different alphabet.\n * Use `base32hex` for padded version.\n * @example\n * ```js\n * base32hexnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ALG'\n * base32hexnopad.decode('2ALG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32hexnopad: BytesCoder = chain(\n  radix2(5),\n  alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'),\n  join('')\n);\n/**\n * base32 encoding from RFC 4648. Doug Crockford's version.\n * https://www.crockford.com/base32.html\n * @example\n * ```js\n * base32crockford.encode(Uint8Array.from([0x12, 0xab]));\n * // => '2ANG'\n * base32crockford.decode('2ANG');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base32crockford: BytesCoder = chain(\n  radix2(5),\n  alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'),\n  join(''),\n  normalize((s: string) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1'))\n);\n\n// Built-in base64 conversion https://caniuse.com/mdn-javascript_builtins_uint8array_frombase64\n// prettier-ignore\nconst hasBase64Builtin: boolean = /* @__PURE__ */ (() =>\n  typeof (Uint8Array as any).from([]).toBase64 === 'function' &&\n  typeof (Uint8Array as any).fromBase64 === 'function')();\n\nconst decodeBase64Builtin = (s: string, isUrl: boolean) => {\n  astr('base64', s);\n  const re = isUrl ? /^[A-Za-z0-9=_-]+$/ : /^[A-Za-z0-9=+/]+$/;\n  const alphabet = isUrl ? 'base64url' : 'base64';\n  if (s.length > 0 && !re.test(s)) throw new Error('invalid base64');\n  return (Uint8Array as any).fromBase64(s, { alphabet, lastChunkHandling: 'strict' });\n};\n\n/**\n * base64 from RFC 4648. Padded.\n * Use `base64nopad` for unpadded version.\n * Also check out `base64url`, `base64urlnopad`.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64: BytesCoder = hasBase64Builtin ? {\n  encode(b) { abytes(b); return (b as any).toBase64(); },\n  decode(s) { return decodeBase64Builtin(s, false); },\n} : chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'),\n  padding(6),\n  join('')\n);\n/**\n * base64 from RFC 4648. No padding.\n * Use `base64` for padded version.\n * @example\n * ```js\n * base64nopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64nopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64nopad: BytesCoder = chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'),\n  join('')\n);\n\n/**\n * base64 from RFC 4648, using URL-safe alphabet. Padded.\n * Use `base64urlnopad` for unpadded version.\n * Falls back to built-in function, when available.\n * @example\n * ```js\n * base64url.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs='\n * base64url.decode('Eqs=');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\n// prettier-ignore\nexport const base64url: BytesCoder = hasBase64Builtin ? {\n  encode(b) { abytes(b); return (b as any).toBase64({ alphabet: 'base64url' }); },\n  decode(s) { return decodeBase64Builtin(s, true); },\n} : chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'),\n  padding(6),\n  join('')\n);\n\n/**\n * base64 from RFC 4648, using URL-safe alphabet. No padding.\n * Use `base64url` for padded version.\n * @example\n * ```js\n * base64urlnopad.encode(Uint8Array.from([0x12, 0xab]));\n * // => 'Eqs'\n * base64urlnopad.decode('Eqs');\n * // => Uint8Array.from([0x12, 0xab])\n * ```\n */\nexport const base64urlnopad: BytesCoder = chain(\n  radix2(6),\n  alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'),\n  join('')\n);\n\n// base58 code\n// -----------\nconst genBase58 = /* @__NO_SIDE_EFFECTS__ */ (abc: string) =>\n  chain(radix(58), alphabet(abc), join(''));\n\n/**\n * base58: base64 without ambigous characters +, /, 0, O, I, l.\n * Quadratic (O(n^2)) - so, can't be used on large inputs.\n * @example\n * ```js\n * base58.decode('01abcdef');\n * // => '3UhJW'\n * ```\n */\nexport const base58: BytesCoder = genBase58(\n  '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n);\n/**\n * base58: flickr version. Check out `base58`.\n */\nexport const base58flickr: BytesCoder = genBase58(\n  '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n);\n/**\n * base58: XRP version. Check out `base58`.\n */\nexport const base58xrp: BytesCoder = genBase58(\n  'rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz'\n);\n\n// Data len (index) -> encoded block len\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\n\n/**\n * base58: XMR version. Check out `base58`.\n * Done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n * Block encoding significantly reduces quadratic complexity of base58.\n */\nexport const base58xmr: BytesCoder = {\n  encode(data: Uint8Array) {\n    let res = '';\n    for (let i = 0; i < data.length; i += 8) {\n      const block = data.subarray(i, i + 8);\n      res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length]!, '1');\n    }\n    return res;\n  },\n  decode(str: string) {\n    let res: number[] = [];\n    for (let i = 0; i < str.length; i += 11) {\n      const slice = str.slice(i, i + 11);\n      const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n      const block = base58.decode(slice);\n      for (let j = 0; j < block.length - blockLen; j++) {\n        if (block[j] !== 0) throw new Error('base58xmr: wrong padding');\n      }\n      res = res.concat(Array.from(block.slice(block.length - blockLen)));\n    }\n    return Uint8Array.from(res);\n  },\n};\n\n/**\n * Method, which creates base58check encoder.\n * Requires function, calculating sha256.\n */\nexport const createBase58check = (sha256: (data: Uint8Array) => Uint8Array): BytesCoder =>\n  chain(\n    checksum(4, (data) => sha256(sha256(data))),\n    base58\n  );\n\n/**\n * Use `createBase58check` instead.\n * @deprecated\n */\nexport const base58check: (sha256: (data: Uint8Array) => Uint8Array) => BytesCoder =\n  createBase58check;\n\n// Bech32 code\n// -----------\nexport interface Bech32Decoded<Prefix extends string = string> {\n  prefix: Prefix;\n  words: number[];\n}\nexport interface Bech32DecodedWithArray<Prefix extends string = string> {\n  prefix: Prefix;\n  words: number[];\n  bytes: Uint8Array;\n}\n\nconst BECH_ALPHABET: Coder<number[], string> = chain(\n  alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'),\n  join('')\n);\n\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre: number): number {\n  const b = pre >> 25;\n  let chk = (pre & 0x1ffffff) << 5;\n  for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n    if (((b >> i) & 1) === 1) chk ^= POLYMOD_GENERATORS[i]!;\n  }\n  return chk;\n}\n\nfunction bechChecksum(prefix: string, words: number[], encodingConst = 1): string {\n  const len = prefix.length;\n  let chk = 1;\n  for (let i = 0; i < len; i++) {\n    const c = prefix.charCodeAt(i);\n    if (c < 33 || c > 126) throw new Error(`Invalid prefix (${prefix})`);\n    chk = bech32Polymod(chk) ^ (c >> 5);\n  }\n  chk = bech32Polymod(chk);\n  for (let i = 0; i < len; i++) chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n  for (let v of words) chk = bech32Polymod(chk) ^ v;\n  for (let i = 0; i < 6; i++) chk = bech32Polymod(chk);\n  chk ^= encodingConst;\n  return BECH_ALPHABET.encode(convertRadix2([chk % powers[30]!], 30, 5, false));\n}\n\nexport interface Bech32 {\n  encode<Prefix extends string>(\n    prefix: Prefix,\n    words: number[] | Uint8Array,\n    limit?: number | false\n  ): `${Lowercase<Prefix>}1${string}`;\n  decode<Prefix extends string>(\n    str: `${Prefix}1${string}`,\n    limit?: number | false\n  ): Bech32Decoded<Prefix>;\n  encodeFromBytes(prefix: string, bytes: Uint8Array): string;\n  decodeToBytes(str: string): Bech32DecodedWithArray;\n  decodeUnsafe(str: string, limit?: number | false): void | Bech32Decoded<string>;\n  fromWords(to: number[]): Uint8Array;\n  fromWordsUnsafe(to: number[]): void | Uint8Array;\n  toWords(from: Uint8Array): number[];\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding: 'bech32' | 'bech32m'): Bech32 {\n  const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n  const _words = radix2(5);\n  const fromWords = _words.decode;\n  const toWords = _words.encode;\n  const fromWordsUnsafe = unsafeWrapper(fromWords);\n\n  function encode<Prefix extends string>(\n    prefix: Prefix,\n    words: number[] | Uint8Array,\n    limit: number | false = 90\n  ): `${Lowercase<Prefix>}1${string}` {\n    astr('bech32.encode prefix', prefix);\n    if (isBytes(words)) words = Array.from(words);\n    anumArr('bech32.encode', words);\n    const plen = prefix.length;\n    if (plen === 0) throw new TypeError(`Invalid prefix length ${plen}`);\n    const actualLength = plen + 7 + words.length;\n    if (limit !== false && actualLength > limit)\n      throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n    const lowered = prefix.toLowerCase();\n    const sum = bechChecksum(lowered, words, ENCODING_CONST);\n    return `${lowered}1${BECH_ALPHABET.encode(words)}${sum}` as `${Lowercase<Prefix>}1${string}`;\n  }\n\n  function decode<Prefix extends string>(\n    str: `${Prefix}1${string}`,\n    limit?: number | false\n  ): Bech32Decoded<Prefix>;\n  function decode(str: string, limit?: number | false): Bech32Decoded;\n  function decode(str: string, limit: number | false = 90): Bech32Decoded {\n    astr('bech32.decode input', str);\n    const slen = str.length;\n    if (slen < 8 || (limit !== false && slen > limit))\n      throw new TypeError(`invalid string length: ${slen} (${str}). Expected (8..${limit})`);\n    // don't allow mixed case\n    const lowered = str.toLowerCase();\n    if (str !== lowered && str !== str.toUpperCase())\n      throw new Error(`String must be lowercase or uppercase`);\n    const sepIndex = lowered.lastIndexOf('1');\n    if (sepIndex === 0 || sepIndex === -1)\n      throw new Error(`Letter \"1\" must be present between prefix and data only`);\n    const prefix = lowered.slice(0, sepIndex);\n    const data = lowered.slice(sepIndex + 1);\n    if (data.length < 6) throw new Error('Data must be at least 6 characters long');\n    const words = BECH_ALPHABET.decode(data).slice(0, -6);\n    const sum = bechChecksum(prefix, words, ENCODING_CONST);\n    if (!data.endsWith(sum)) throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n    return { prefix, words };\n  }\n\n  const decodeUnsafe = unsafeWrapper(decode);\n\n  function decodeToBytes(str: string): Bech32DecodedWithArray {\n    const { prefix, words } = decode(str, false);\n    return { prefix, words, bytes: fromWords(words) };\n  }\n\n  function encodeFromBytes(prefix: string, bytes: Uint8Array) {\n    return encode(prefix, toWords(bytes));\n  }\n\n  return {\n    encode,\n    decode,\n    encodeFromBytes,\n    decodeToBytes,\n    decodeUnsafe,\n    fromWords,\n    fromWordsUnsafe,\n    toWords,\n  };\n}\n\n/**\n * bech32 from BIP 173. Operates on words.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32: Bech32 = genBech32('bech32');\n\n/**\n * bech32m from BIP 350. Operates on words.\n * It was to mitigate `bech32` weaknesses.\n * For high-level, check out scure-btc-signer:\n * https://github.com/paulmillr/scure-btc-signer.\n */\nexport const bech32m: Bech32 = genBech32('bech32m');\n\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * UTF-8-to-byte decoder. Uses built-in TextDecoder / TextEncoder.\n * @example\n * ```js\n * const b = utf8.decode(\"hey\"); // => new Uint8Array([ 104, 101, 121 ])\n * const str = utf8.encode(b); // \"hey\"\n * ```\n */\nexport const utf8: BytesCoder = {\n  encode: (data) => new TextDecoder().decode(data),\n  decode: (str) => new TextEncoder().encode(str),\n};\n\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\n// prettier-ignore\nconst hasHexBuiltin: boolean = /* @__PURE__ */ (() =>\n  typeof (Uint8Array as any).from([]).toHex === 'function' &&\n  typeof (Uint8Array as any).fromHex === 'function')();\n// prettier-ignore\nconst hexBuiltin: BytesCoder = {\n  encode(data) { abytes(data); return (data as any).toHex(); },\n  decode(s) { astr('hex', s); return (Uint8Array as any).fromHex(s); },\n};\n/**\n * hex string decoder. Uses built-in function, when available.\n * @example\n * ```js\n * const b = hex.decode(\"0102ff\"); // => new Uint8Array([ 1, 2, 255 ])\n * const str = hex.encode(b); // \"0102ff\"\n * ```\n */\nexport const hex: BytesCoder = hasHexBuiltin\n  ? hexBuiltin\n  : chain(\n      radix2(4),\n      alphabet('0123456789abcdef'),\n      join(''),\n      normalize((s: string) => {\n        if (typeof s !== 'string' || s.length % 2 !== 0)\n          throw new TypeError(\n            `hex.decode: expected string, got ${typeof s} with length ${s.length}`\n          );\n        return s.toLowerCase();\n      })\n    );\n\nexport type SomeCoders = {\n  utf8: BytesCoder;\n  hex: BytesCoder;\n  base16: BytesCoder;\n  base32: BytesCoder;\n  base64: BytesCoder;\n  base64url: BytesCoder;\n  base58: BytesCoder;\n  base58xmr: BytesCoder;\n};\n// prettier-ignore\nconst CODERS: SomeCoders = {\n  utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\ntype CoderType = keyof SomeCoders;\nconst coderTypeError =\n  'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\n\n/** @deprecated */\nexport const bytesToString = (type: CoderType, bytes: Uint8Array): string => {\n  if (typeof type !== 'string' || !CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (!isBytes(bytes)) throw new TypeError('bytesToString() expects Uint8Array');\n  return CODERS[type].encode(bytes);\n};\n\n/** @deprecated */\nexport const str: (type: CoderType, bytes: Uint8Array) => string = bytesToString; // as in python, but for bytes only\n\n/** @deprecated */\nexport const stringToBytes = (type: CoderType, str: string): Uint8Array => {\n  if (!CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (typeof str !== 'string') throw new TypeError('stringToBytes() expects string');\n  return CODERS[type].decode(str);\n};\n/** @deprecated */\nexport const bytes: (type: CoderType, str: string) => Uint8Array = stringToBytes;\n", "import { sha256 } from '@noble/hashes/sha2';\nimport { Assert } from './assert.js';\nimport { createBase58check, base64, base64urlnopad, bech32, bech32m } from '@scure/base';\nexport var B58chk;\n(function (B58chk) {\n    B58chk.encode = (data) => {\n        Assert.is_u8a(data);\n        return createBase58check(sha256).encode(data);\n    };\n    B58chk.decode = (data) => {\n        Assert.is_base58(data);\n        return createBase58check(sha256).decode(data);\n    };\n})(B58chk || (B58chk = {}));\nexport var Base64;\n(function (Base64) {\n    Base64.encode = (data) => {\n        Assert.is_u8a(data);\n        return base64.encode(data);\n    };\n    Base64.decode = (data) => {\n        Assert.is_base64(data);\n        return base64.decode(data);\n    };\n})(Base64 || (Base64 = {}));\nexport var B64url;\n(function (B64url) {\n    B64url.encode = (data) => {\n        Assert.is_u8a(data);\n        return base64urlnopad.encode(data);\n    };\n    B64url.decode = (data) => {\n        Assert.is_b64url(data);\n        return base64urlnopad.decode(data);\n    };\n})(B64url || (B64url = {}));\nexport var Bech32;\n(function (Bech32) {\n    Bech32.to_words = bech32.toWords;\n    Bech32.to_bytes = bech32.fromWords;\n    Bech32.encode = (prefix, words, limit = false) => {\n        assert_prefix(prefix);\n        assert_words(words);\n        return bech32.encode(prefix, words, limit);\n    };\n    Bech32.decode = (data, limit = false) => {\n        Assert.is_bech32(data);\n        return bech32.decode(data, limit);\n    };\n})(Bech32 || (Bech32 = {}));\nexport var Bech32m;\n(function (Bech32m) {\n    Bech32m.to_words = bech32m.toWords;\n    Bech32m.to_bytes = bech32m.fromWords;\n    Bech32m.encode = (prefix, words, limit = false) => {\n        assert_prefix(prefix);\n        assert_words(words);\n        return bech32m.encode(prefix, words, limit);\n    };\n    Bech32m.decode = (data, limit = false) => {\n        Assert.is_bech32(data);\n        return bech32m.decode(data, limit);\n    };\n})(Bech32m || (Bech32m = {}));\nfunction assert_prefix(value) {\n    if (typeof value !== 'string' || value.length === 0) {\n        throw new Error(`invalid prefix: ${String(value)}`);\n    }\n}\nfunction assert_words(value) {\n    if (!(Array.isArray(value) &&\n        value.every(word => typeof word === 'number'))) {\n        throw new Error(`invalid words: ${String(value)}`);\n    }\n}\n", "export var Execute;\n(function (Execute) {\n    Execute.fn = wrap_function;\n    Execute.prom = wrap_promise;\n})(Execute || (Execute = {}));\nexport var Result;\n(function (Result) {\n    Result.ok = result_ok;\n    Result.err = result_err;\n})(Result || (Result = {}));\nfunction result_ok(data) {\n    return { ok: true, data, error: null };\n}\nfunction result_err(err) {\n    const msg = (err instanceof Error) ? err.message : String(err);\n    return { ok: false, data: null, error: msg };\n}\nfunction wrap_function(fn) {\n    try {\n        return result_ok(fn());\n    }\n    catch (err) {\n        return result_err(err);\n    }\n}\nasync function wrap_promise(promise, timeout) {\n    let timer;\n    return new Promise((resolve) => {\n        if (timeout) {\n            timer = setTimeout(() => {\n                resolve(result_err('timeout'));\n            }, timeout);\n        }\n        promise\n            .then(data => {\n            clearTimeout(timer);\n            resolve(result_ok(data));\n        })\n            .catch(err => {\n            clearTimeout(timer);\n            resolve(result_err(err));\n        });\n    });\n}\n", "export var Fetch;\n(function (Fetch) {\n    Fetch.json = fetch_json;\n    Fetch.text = fetch_text;\n})(Fetch || (Fetch = {}));\nexport var Resolve;\n(function (Resolve) {\n    Resolve.data = data_response;\n    Resolve.error = error_response;\n})(Resolve || (Resolve = {}));\nexport async function fetch_json(input, init, fetcher = fetch) {\n    const res = await fetcher(input, init);\n    if (!res.ok) {\n        return resolve_error(res);\n    }\n    else {\n        const data = await res.json();\n        return data_response(data, res.status);\n    }\n}\nexport async function fetch_text(input, init, fetcher = fetch) {\n    const res = await fetcher(input, init);\n    if (!res.ok) {\n        return resolve_error(res);\n    }\n    else {\n        const data = await res.text();\n        return data_response(data, res.status);\n    }\n}\nasync function resolve_error(res) {\n    const { status, statusText } = res;\n    let error;\n    try {\n        error = await res.text();\n    }\n    catch {\n        error = statusText;\n    }\n    return { error, status, ok: false };\n}\nfunction data_response(data, status = 200) {\n    return { ok: true, status, data };\n}\nfunction error_response(error, status = 600) {\n    const msg = (error instanceof Error) ? error.message : String(error);\n    return { ok: false, status, error: msg };\n}\n", "import { sort_obj } from './util.js';\nexport var JsonUtil;\n(function (JsonUtil) {\n    JsonUtil.parse = parse_json;\n    JsonUtil.serialize = serialize_json;\n    JsonUtil.copy = deep_copy;\n})(JsonUtil || (JsonUtil = {}));\nconst REPLACER = (_, value) => {\n    if (value === null || value === undefined)\n        return value;\n    if (value instanceof Map) {\n        return { __type: 'map', data: Array.from(value.entries()) };\n    }\n    else if (value instanceof Set) {\n        return { __type: 'set', data: Array.from(value.entries()) };\n    }\n    else if (value instanceof Date) {\n        return { __type: 'date', data: value.toISOString() };\n    }\n    return value;\n};\nconst REVIVER = (_, value) => {\n    if (value === null || value === undefined)\n        return value;\n    if (typeof value === 'object' && value.__type === 'map') {\n        return new Map(value.data);\n    }\n    else if (typeof value === 'object' && value.__type === 'set') {\n        return new Set(value.data);\n    }\n    else if (typeof value === 'object' && value.__type === 'date') {\n        return new Date(value.data);\n    }\n    return value;\n};\nfunction serialize_json(json_obj, replacer = REPLACER) {\n    try {\n        const normalized = sort_obj(json_obj);\n        return JSON.stringify(normalized, replacer);\n    }\n    catch {\n        return null;\n    }\n}\nfunction parse_json(json_str, reviver = REVIVER) {\n    try {\n        const parsed = JSON.parse(json_str, reviver);\n        return sort_obj(parsed);\n    }\n    catch (error) {\n        return null;\n    }\n}\nfunction deep_copy(json_obj, replacer = REPLACER, reviver = REVIVER) {\n    const json_str = JSON.stringify(json_obj, replacer);\n    return JSON.parse(json_str, reviver);\n}\n", "const DEFAULT_CONFIG = {\n    debug: false,\n    width: 6,\n    silent: false,\n    verbose: true,\n};\nexport var Logger;\n(function (Logger) {\n    Logger.init = init_logger;\n    Logger.dump = dump_obj;\n    Logger.json = print_json;\n    Logger.timer = start_timer;\n})(Logger || (Logger = {}));\nfunction init_logger(options) {\n    const config = { ...DEFAULT_CONFIG, ...options };\n    return (label) => {\n        const prefix = `[ ${label} ]`.padEnd(config.width, ' ');\n        const noop = () => { };\n        return {\n            debug: config.debug ? console.debug.bind(console, prefix) : noop,\n            dump: config.debug ? dump_obj : noop,\n            error: !config.silent ? console.error.bind(console, prefix) : noop,\n            log: !config.silent ? console.log.bind(console, prefix) : noop,\n            warn: !config.silent ? console.warn.bind(console, prefix) : noop,\n            json: config.verbose ? print_json : noop,\n            info: config.verbose ? console.info.bind(console, prefix) : noop,\n            timer: config.verbose ? (msg) => start_timer(msg, prefix) : noop,\n        };\n    };\n}\nfunction dump_obj(obj) {\n    return console.dir.bind(console, obj, { depth: null });\n}\nfunction print_json(obj) {\n    return console.log.bind(console, JSON.stringify(obj, null, 2));\n}\nfunction start_timer(msg, prefix) {\n    if (prefix)\n        msg = `${prefix} ${msg}`;\n    console.time(msg);\n    return () => console.timeEnd(msg);\n}\n", "/**\n * Application constants\n *\n * Centralized storage keys and configuration values used throughout the PWA.\n * Using constants prevents typos and makes it easy to refactor storage keys.\n */\n\n// Storage keys\nexport const STORAGE_KEYS = {\n  /** Main settings storage key (localStorage) */\n  SETTINGS: 'igloo-pwa',\n\n  /** Session password storage key (sessionStorage) */\n  SESSION_PASSWORD: 'igloo_session_password',\n\n  /** NIP-55 permissions storage key (localStorage) */\n  PERMISSIONS: 'nip55_permissions_v2',\n} as const\n\n// Application metadata\nexport const APP = {\n  /** Application name */\n  NAME: 'Igloo',\n\n  /** Application version - update on release */\n  VERSION: '0.1.0',\n} as const\n\n// Console logging\n/** Maximum number of log entries to retain */\nexport const LOG_LIMIT = 100\n", "type Subscriber = () => void\n\nexport class StoreController<T> {\n  private readonly _defaults  : T\n  private readonly _store_key : string\n  private readonly _subs      : Set<Subscriber> = new Set()\n\n  constructor (\n    store_key : string,\n    defaults  : T\n  ) {\n    this._defaults  = defaults\n    this._store_key = store_key\n  }\n\n  get defaults () : T {\n    return this._defaults\n  }\n\n  get () : T {\n    try {\n      const item = localStorage.getItem(this._store_key)\n      return item ? JSON.parse(item) : this._defaults\n    } catch {\n      return this._defaults\n    }\n  }\n\n  reset () : void {\n    this.set(this._defaults)\n  }\n\n  set (value : T ) : void {\n    try {\n      localStorage.setItem(this._store_key, JSON.stringify(value))\n      this._notify_subs()\n    } catch (error) {\n      console.error('Error saving to localStorage:', error)\n    }\n  }\n\n  subscribe (callback : Subscriber) : () => void {\n    this._subs.add(callback)\n    return () => this._subs.delete(callback)\n  }\n\n  update (value : Partial<T>) : void {\n    this.set({ ...this.get(), ...value })\n  }\n\n  private _notify_subs(): void {\n    this._subs.forEach(subscriber => subscriber())\n  }\n}\n", "import { StoreController } from '../class/store.js'\nimport { STORAGE_KEYS }    from '@/const.js'\n\nimport {\n  createContext,\n  useContext,\n  useState\n} from 'react'\n\nimport defaults from '@/defaults.json'\n\nimport type { ReactElement } from 'react'\n\nimport type {\n  SettingsData,\n  StoreAPI,\n  ProviderProps\n}  from '@/types/index.js'\n\nexport const DEFAULT_STORE : SettingsData = {\n  group                 : null,\n  share                 : null,\n  peers                 : [],\n  pubkey                : null,\n  relays                : [ ...defaults.relays ],\n  keepAliveInBackground : true  // Always enabled for reliable background signing\n}\n\nconst STORE_KEY  = STORAGE_KEYS.SETTINGS\nconst params     = new URLSearchParams(window.location.search)\nconst username   = params.get('user')\nconst store_key  = username ? `${STORE_KEY}-${username}` : STORE_KEY\n\nconst context    = createContext<StoreAPI<SettingsData> | null>(null)\nconst controller = new StoreController<SettingsData>(store_key, DEFAULT_STORE)\n\nexport const SettingsProvider = ({ children }: ProviderProps): ReactElement => {\n  const [ _store, _setStore ] = useState<SettingsData>(controller.get())\n\n  const reset = () => {\n    controller.reset()\n    _setStore(controller.defaults)\n  }\n\n  const subscribe = (callback: () => void) => {\n    return controller.subscribe(callback)\n  }\n\n  const update = (store: Partial<SettingsData>) => {\n    const new_store = { ..._store, ...store }\n    controller.set(new_store)\n    _setStore(new_store)\n  }\n\n  return (\n    <context.Provider value={{ data : _store, reset, subscribe, update }}>\n      {children}\n    </context.Provider>\n  )\n}\n\nexport const useSettings = () => {\n  const ctx = useContext(context)\n  if (ctx === null) {\n    throw new Error('useSettings must be used within a SettingsProvider')\n  }\n  return ctx\n}\n\n", "{\n  \"permissions\": [\n    { \"type\": \"sign_event\", \"kind\": 0 },\n    { \"type\": \"sign_event\", \"kind\": 1 },\n    { \"type\": \"sign_event\", \"kind\": 3 },\n    { \"type\": \"sign_event\", \"kind\": 4 },\n    { \"type\": \"sign_event\", \"kind\": 5 },\n    { \"type\": \"sign_event\", \"kind\": 6 },\n    { \"type\": \"sign_event\", \"kind\": 7 },\n    { \"type\": \"sign_event\", \"kind\": 13 },\n    { \"type\": \"sign_event\", \"kind\": 14 },\n    { \"type\": \"sign_event\", \"kind\": 22242 },\n    { \"type\": \"nip04_encrypt\" },\n    { \"type\": \"nip04_decrypt\" },\n    { \"type\": \"nip44_encrypt\" },\n    { \"type\": \"nip44_decrypt\" }\n  ],\n  \"relays\": []\n}\n", "export const NodeIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M12 4L20 8L12 12L4 8L12 4Z\" />\n      <path d=\"M4 8V16L12 20V12\" />\n      <path d=\"M20 8V16L12 20\" />\n    </svg>\n  );\n  \n  export const SettingsIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n      <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path>\n    </svg>\n  );\n  \n  export const PermissionsIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n      <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n    </svg>\n  );\n  \n  export const ConsoleIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <polyline points=\"4 17 10 11 4 5\"></polyline>\n      <line x1=\"12\" y1=\"19\" x2=\"20\" y2=\"19\"></line>\n    </svg>\n  );\n\n  export const TrashIcon = () => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <polyline points=\"3 6 5 6 21 6\"></polyline>\n    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n    <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n    <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n  </svg>\n  );\n  \n  export const WalletIcon = () => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <rect x=\"2\" y=\"5\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n      <line x1=\"16\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\n      <path d=\"M22 10V8a2 2 0 0 0-2-2h-1\"></path>\n      <path d=\"M22 14v2a2 2 0 0 1-2 2h-1\"></path>\n    </svg>\n  );\n  \n  export const MempoolIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <ellipse cx=\"12\" cy=\"5\" rx=\"9\" ry=\"3\" />\n      <path d=\"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3\" />\n      <path d=\"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5\" />\n    </svg>\n  );\n  \n  export const OnChainIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"></path>\n      <path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"></path>\n    </svg>\n  );\n  \n  // Info bar icons\n  export const TotalIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M20 7h-9\" />\n      <path d=\"M14 17H5\" />\n      <circle cx=\"5\" cy=\"7\" r=\"2\" />\n      <circle cx=\"20\" cy=\"17\" r=\"2\" />\n    </svg>\n  );\n  \n  export const SentIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M12 19V5\" />\n      <path d=\"m5 12 7-7 7 7\" />\n    </svg>\n  );\n  \n  export const ReceivedIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M12 5v14\" />\n      <path d=\"m19 12-7 7-7-7\" />\n    </svg>\n  );\n  \n  // Add copy, check, and refresh icons\n  \n  // Copy icon for clipboard functionality\n  export const CopyIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n      <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n    </svg>\n  );\n  \n  // Check icon for successful copy operation\n  export const CheckIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <polyline points=\"20 6 9 17 4 12\"></polyline>\n    </svg>\n  );\n  \n  // Refresh icon for refreshing addresses\n  export const RefreshIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M23 4v6h-6\"></path>\n      <path d=\"M1 20v-6h6\"></path>\n      <path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10\"></path>\n      <path d=\"M20.49 15a9 9 0 0 1-14.85 3.36L1 14\"></path>\n    </svg>\n  );\n  \n  // QR Code icon for displaying QR codes\n  export const QrCodeIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect>\n      <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect>\n      <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect>\n      <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect>\n    </svg>\n  );\n\n  // Lock icon for secure actions\n  export const LockIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n      <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n    </svg>\n  );", "import { RefreshIcon }    from '@/components/util/icons.js'\nimport { useBifrostNode } from '@/context/node.js'\n\nexport function PeerInfoView () {\n  const node = useBifrostNode()\n\n  return (\n    <div className=\"dashboard-container\">\n      <h2 className=\"section-header\">Peer Info</h2>\n      {node.status === 'init' && (\n        <p>waiting for node to initialize...</p>\n      )}\n      {node.status === 'locked' && (\n        <p>waiting for node to unlock...</p>\n      )}\n      {node.status === 'online' && node.peers && (\n        <table className=\"peers-table\">\n          <thead>\n            <tr>\n              <th>Pubkey</th>\n              <th>Status</th>\n              <th>Refresh</th>\n            </tr>\n          </thead>\n          <tbody>\n            {node.peers.map((peer) => (\n              <tr key={peer.pubkey}>\n                <td className=\"pubkey-cell\">{peer.pubkey}</td>\n                <td className=\"status-cell\">\n                  <span className={`status-indicator ${peer.status}`}>\n                    {peer.status}\n                  </span>\n                </td>\n                <td className=\"refresh-cell\">\n                  <button\n                    className=\"button\"\n                    onClick={() => node.ping(peer.pubkey)}\n                    disabled={node.status !== 'online'}\n                    title=\"Refresh peer status\"\n                  >\n                    <RefreshIcon />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  )\n}\n", "\nimport { useState }      from 'react'\nimport { TrashIcon }     from '@/components/util/icons.js'\nimport { useWebConsole } from '@/context/console.js'\n\nexport function ConsoleView () {\n  const console = useWebConsole()\n  \n  const [ expandedIdx, setExpandedIdx ] = useState<Record<number, boolean>>({})\n\n  const toggle_expand = (idx: number) => {\n    setExpandedIdx(prev => ({ ...prev, [idx]: !prev[idx] }))\n  }\n\n  // Clear logs handler\n  const clear_logs = async () => {\n    console.clear()\n    setExpandedIdx({})\n  }\n\n  return (\n    <div className=\"console-container\">\n\n      <div className=\"console-header-controls\">\n        <h2 className=\"section-header\">\n          Event Log <span className=\"event-count\">({console.logs.length} events)</span>\n        </h2>\n        <button className=\"button clear-button\" onClick={clear_logs} title=\"Clear logs\">\n          <TrashIcon />\n        </button>\n      </div>\n\n      <p className=\"description\">Monitor events from your node.</p>\n      \n      <div className=\"console-output\">\n        {console.logs.length === 0 ? (\n          <div className=\"console-empty\">No events logged yet</div>\n        ) : (\n          console.logs.map((log, idx) => (\n            <div key={idx} className={`console-entry ${log.payload ? 'expandable' : ''}`}>\n              <div className=\"entry-header\" onClick={() => log.payload && toggle_expand(idx)}>\n                <div className=\"entry-prefix\">\n                  {log.payload && (\n                    <span className={`chevron ${expandedIdx[idx] ? 'expanded' : ''}`}>\n                      {expandedIdx[idx] ? '\u25BC' : '\u25B6'}\n                    </span>\n                  )}\n                  <span className=\"console-timestamp\">\n                    {new Date(log.stamp).toLocaleTimeString()}\n                  </span>\n                  {log.type && <span className={`console-badge console-type-${log.type.toLowerCase()}`}>{log.type}</span>}\n                </div>\n                <span className={`console-message`}>{log.message}</span>\n              </div>\n              {log.payload && expandedIdx[idx] && (\n                <div className=\"console-payload\">\n                  <pre>{JSON.stringify(log.payload, null, 2)}</pre>\n                </div>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  )\n}\n", "import { NodeInfoView } from './node.js'\nimport { PeerInfoView } from './peers.js'\nimport { ConsoleView }  from './console.js'\n\nexport function DashboardView () {\n  return (\n    <>\n      <NodeInfoView />\n      <PeerInfoView />\n      <ConsoleView />\n    </>\n  )\n}\n", "import { useState, useEffect }      from 'react'\nimport { usePermissions } from '@/context/permissions.js'\nimport { getEventKindLabel } from '@/lib/permissions.js'\nimport '@/styles/permissions.css'\n\nimport type { ReactElement } from 'react'\nimport type { Permission }   from '@/types/permissions.js'\n\n/**\n * Simple Permissions Management Component\n *\n * Displays and manages saved permissions (allowed/denied) for NIP-55 operations.\n */\nexport function PermissionsView(): ReactElement {\n  const permissions_api = usePermissions()\n  const [ permissions, set_permissions ] = useState<Permission[]>([])\n  const [ loading, set_loading ] = useState(true)\n  const [ app_filter, set_app_filter ] = useState('')\n\n  const load_permissions = async () => {\n    try {\n      set_loading(true)\n      const all_perms = await permissions_api.list_permissions()\n      set_permissions(all_perms)\n    } catch {\n      // Failed to load permissions\n    } finally {\n      set_loading(false)\n    }\n  }\n\n  useEffect(() => {\n    load_permissions()\n  }, [])\n\n  const handle_revoke_permission = async (permission: Permission) => {\n    try {\n      // IMPORTANT: Pass the kind parameter to properly match kind-specific permissions\n      await permissions_api.revoke_permission(permission.appId, permission.type, permission.kind)\n      await load_permissions() // Refresh the list\n    } catch {\n      // Failed to remove permission\n    }\n  }\n\n  const handle_clear_all_permissions = async () => {\n    if (window.confirm('Clear all saved permissions? Apps will prompt again for future requests.')) {\n      try {\n        // Remove all permissions one by one with proper kind parameter\n        for (const permission of permissions) {\n          await permissions_api.revoke_permission(permission.appId, permission.type, permission.kind)\n        }\n        await load_permissions()\n      } catch {\n        // Failed to clear permissions\n      }\n    }\n  }\n\n  const format_date = (timestamp: number) => {\n    const now = Date.now()\n    const diff = now - timestamp\n    const minutes = Math.floor(diff / 60000)\n    const hours = Math.floor(diff / 3600000)\n    const days = Math.floor(diff / 86400000)\n\n    if (minutes < 1) return 'just now'\n    if (minutes < 60) return `${minutes}m ago`\n    if (hours < 24) return `${hours}h ago`\n    if (days < 7) return `${days}d ago`\n\n    return new Date(timestamp).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  const format_operation_type = (type: string) => {\n    return type.replace(/_/g, ' ').toUpperCase()\n  }\n\n  const format_app_host = (appId: string) => {\n    return appId\n  }\n\n  // Filter permissions based on app ID prefix match\n  const filtered_permissions = permissions.filter(p => {\n    if (app_filter === '') return true\n    return p.appId.toLowerCase().startsWith(app_filter.toLowerCase())\n  })\n\n  if (loading) {\n    return (\n      <div className=\"permissions-view\">\n        <h2>Saved Permissions</h2>\n        <p>Loading permissions...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"permissions-view\">\n      <div className=\"permissions-header\">\n        <h2>Saved Permissions</h2>\n        <p>Apps with saved permissions will be listed here.</p>\n      </div>\n\n      {permissions.length === 0 ? (\n        <div className=\"no-permissions\">\n          <h3>No Saved Permissions</h3>\n        </div>\n      ) : (\n        <div className=\"permissions-list\">\n          <div className=\"permissions-controls\">\n            <div className=\"controls-left\">\n              <input\n                type=\"text\"\n                value={app_filter}\n                onChange={(e) => set_app_filter(e.target.value)}\n                placeholder=\"Filter by app ID...\"\n                className=\"app-filter-input\"\n              />\n            </div>\n            <div className=\"controls-right\">\n              <button\n                className=\"clear-all-button\"\n                onClick={handle_clear_all_permissions}\n                type=\"button\"\n                disabled={permissions.length === 0}\n              >\n                Clear All\n              </button>\n            </div>\n          </div>\n\n          <div className=\"permissions-list-items\">\n            {filtered_permissions.map((permission, index) => (\n              <div key={`${permission.appId}-${permission.type}-${permission.kind}-${index}`} className=\"permission-card\">\n                <div className=\"permission-main\">\n                  <div className=\"permission-info\">\n                    <div className=\"permission-app\">{format_app_host(permission.appId)}</div>\n                    <div className=\"permission-details\">\n                      <span className=\"permission-op\">{format_operation_type(permission.type)}</span>\n                      {permission.kind !== undefined && (\n                        <span className=\"permission-kind\">{getEventKindLabel(permission.kind)}</span>\n                      )}\n                      <span className=\"permission-time\" title={new Date(permission.timestamp).toISOString()}>\n                        {format_date(permission.timestamp)}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"permission-actions\">\n                    <span className={`permission-badge ${permission.allowed ? 'allowed' : 'denied'}`}>\n                      {permission.allowed ? 'Allowed' : 'Denied'}\n                    </span>\n                    <button\n                      className=\"permission-remove\"\n                      onClick={() => handle_revoke_permission(permission)}\n                      type=\"button\"\n                      title=\"Remove saved permission\"\n                    >\n                      \u00D7\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"permissions-footer\">\n            <p className=\"footer-note\">\n              <strong>Note:</strong> Removing permissions returns apps to interactive prompt mode.\n              No data is permanently deleted.\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}", "import {\n  createContext,\n  useContext,\n  useEffect\n} from 'react'\n\nimport type { ReactElement } from 'react'\n\nimport type {\n  ProviderProps\n}  from '@/types/index.js'\n\nimport type {\n  Permission,\n  NIP55OperationType,\n  PermissionRule,\n  PermissionAPI\n} from '@/types/permissions.js'\n\nimport {\n  initPermissionStorage,\n  checkPermission,\n  setPermission,\n  revokePermission,\n  revokeAllForApp,\n  listPermissions,\n  bulkSetPermissions\n} from '@/lib/permissions.js'\n\nconst context = createContext<PermissionAPI | null>(null)\n\nexport const PermissionsProvider = ({ children }: ProviderProps): ReactElement => {\n\n  // Initialize permission storage on mount\n  useEffect(() => {\n    initPermissionStorage()\n  }, [])\n\n  const has_permission = async (host: string, type: string, kind?: number): Promise<boolean> => {\n    const status = checkPermission(host, type as NIP55OperationType, kind)\n    return status === 'allowed'\n  }\n\n  const set_permission = async (host: string, type: string, allowed: boolean, kind?: number): Promise<void> => {\n    setPermission(host, type as NIP55OperationType, allowed, kind)\n  }\n\n  const revoke_permission = async (host: string, type: string, kind?: number): Promise<void> => {\n    revokePermission(host, type as NIP55OperationType, kind)\n  }\n\n  const list_permissions_impl = async (host?: string): Promise<Permission[]> => {\n    const perms = listPermissions(host)\n    // Convert PermissionRule to Permission (compatible types)\n    return perms as Permission[]\n  }\n\n  const bulk_set_permissions = async (rules: Permission[]): Promise<void> => {\n    // Convert Permission[] to the format bulkSetPermissions expects\n    if (rules.length === 0) return\n\n    // Group by appId and allowed status for efficient bulk operations\n    const grouped = rules.reduce((acc, rule) => {\n      const key = `${rule.appId}:${rule.allowed}`\n      if (!acc[key]) {\n        acc[key] = { appId: rule.appId, allowed: rule.allowed, perms: [] }\n      }\n      acc[key].perms.push({ type: rule.type as NIP55OperationType, kind: rule.kind })\n      return acc\n    }, {} as Record<string, { appId: string; allowed: boolean; perms: Array<{ type: NIP55OperationType; kind?: number }> }>)\n\n    // Execute bulk operations for each group\n    for (const group of Object.values(grouped)) {\n      bulkSetPermissions(group.appId, group.perms, group.allowed)\n    }\n  }\n\n  const revoke_all_for_app = async (host: string): Promise<void> => {\n    revokeAllForApp(host)\n  }\n\n  const api: PermissionAPI = {\n    has_permission,\n    set_permission,\n    revoke_permission,\n    list_permissions: list_permissions_impl,\n    bulk_set_permissions,\n    revoke_all_for_app\n  }\n\n  return (\n    <context.Provider value={api}>\n      {children}\n    </context.Provider>\n  )\n}\n\nexport const usePermissions = (): PermissionAPI => {\n  const ctx = useContext(context)\n  if (ctx === null) {\n    throw new Error('usePermissions must be used within a PermissionsProvider')\n  }\n  return ctx\n}\n", "/**\n * NIP-55 Permission Storage System\n *\n * Clean implementation with event kind filtering support.\n * No legacy compatibility code.\n */\n\nimport type { PermissionRule, PermissionStorage, NIP55OperationType, PermissionStatus, BulkPermissionRequest } from '@/types/permissions.js'\nimport { STORAGE_KEYS } from '@/const.js'\n\nconst STORAGE_KEY = STORAGE_KEYS.PERMISSIONS\nconst STORAGE_VERSION = 2\n\n/**\n * Initialize permission storage\n */\nexport function initPermissionStorage(): void {\n  // Initialize new format if not exists\n  const existing = localStorage.getItem(STORAGE_KEY)\n  if (!existing) {\n    const storage: PermissionStorage = {\n      version: STORAGE_VERSION,\n      permissions: []\n    }\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storage))\n  }\n}\n\n/**\n * Get all stored permissions\n */\nfunction getStoredPermissions(): PermissionRule[] {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY)\n    if (!data) return []\n\n    const storage: PermissionStorage = JSON.parse(data)\n    return storage.permissions || []\n  } catch {\n    return []\n  }\n}\n\n/**\n * Save permissions to storage\n */\nfunction savePermissions(permissions: PermissionRule[]): void {\n  try {\n    const storage: PermissionStorage = {\n      version: STORAGE_VERSION,\n      permissions\n    }\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storage))\n  } catch {\n    throw new Error('Permission storage failed')\n  }\n}\n\n/**\n * Check if permission exists for a specific request\n * Implements kind-aware matching with wildcard fallback\n */\nexport function checkPermission(\n  appId: string,\n  type: NIP55OperationType,\n  eventKind?: number\n): PermissionStatus {\n  const permissions = getStoredPermissions()\n\n  // For sign_event, check kind-specific permission first\n  if (type === 'sign_event' && eventKind !== undefined) {\n    const kindSpecific = permissions.find(p =>\n      p.appId === appId &&\n      p.type === type &&\n      p.kind === eventKind\n    )\n\n    if (kindSpecific) {\n      return kindSpecific.allowed ? 'allowed' : 'denied'\n    }\n\n    // Fall back to wildcard permission\n    const wildcard = permissions.find(p =>\n      p.appId === appId &&\n      p.type === type &&\n      p.kind === undefined\n    )\n\n    if (wildcard) {\n      return wildcard.allowed ? 'allowed' : 'denied'\n    }\n  } else {\n    // For non-sign_event operations, simple lookup\n    const permission = permissions.find(p =>\n      p.appId === appId &&\n      p.type === type &&\n      p.kind === undefined\n    )\n\n    if (permission) {\n      return permission.allowed ? 'allowed' : 'denied'\n    }\n  }\n\n  return 'prompt_required'\n}\n\n/**\n * Add or update a single permission\n */\nexport function setPermission(\n  appId: string,\n  type: NIP55OperationType,\n  allowed: boolean,\n  kind?: number\n): void {\n  const permissions = getStoredPermissions()\n\n  // Remove existing permission with same appId + type + kind\n  const filtered = permissions.filter(p =>\n    !(p.appId === appId && p.type === type && p.kind === kind)\n  )\n\n  // Add new permission\n  const newPermission: PermissionRule = {\n    appId,\n    type,\n    kind: kind !== undefined ? kind : undefined,\n    allowed,\n    timestamp: Date.now()\n  }\n\n  filtered.push(newPermission)\n  savePermissions(filtered)\n}\n\n/**\n * Revoke a specific permission\n */\nexport function revokePermission(\n  appId: string,\n  type: NIP55OperationType,\n  kind?: number\n): void {\n  const permissions = getStoredPermissions()\n  const filtered = permissions.filter(p =>\n    !(p.appId === appId && p.type === type && p.kind === kind)\n  )\n\n  savePermissions(filtered)\n}\n\n/**\n * Revoke all permissions for an app\n */\nexport function revokeAllForApp(appId: string): void {\n  const permissions = getStoredPermissions()\n  const filtered = permissions.filter(p => p.appId !== appId)\n\n  savePermissions(filtered)\n}\n\n/**\n * Get all permissions (optionally filtered by app)\n */\nexport function listPermissions(appId?: string): PermissionRule[] {\n  const permissions = getStoredPermissions()\n\n  if (appId) {\n    return permissions.filter(p => p.appId === appId)\n  }\n\n  return permissions\n}\n\n/**\n * Parse NIP-55 permissions array from get_public_key request\n */\nexport function parseNIP55Permissions(\n  permissionsJson: string,\n  appId: string\n): BulkPermissionRequest {\n  try {\n    const parsed = JSON.parse(permissionsJson)\n\n    if (!Array.isArray(parsed)) {\n      throw new Error('Permissions must be an array')\n    }\n\n    const permissions = parsed.map(p => ({\n      type: p.type as NIP55OperationType,\n      kind: p.kind !== undefined ? Number(p.kind) : undefined\n    }))\n\n    return {\n      appId,\n      permissions\n    }\n  } catch {\n    throw new Error('Invalid permissions format')\n  }\n}\n\n/**\n * Bulk add permissions (atomic operation)\n */\nexport function bulkSetPermissions(\n  appId: string,\n  permissionsToAdd: Array<{ type: NIP55OperationType; kind?: number }>,\n  allowed: boolean\n): void {\n  const existing = getStoredPermissions()\n  const timestamp = Date.now()\n\n  // Create new permission rules\n  const newRules: PermissionRule[] = permissionsToAdd.map(p => ({\n    appId,\n    type: p.type,\n    kind: p.kind !== undefined ? p.kind : undefined,\n    allowed,\n    timestamp\n  }))\n\n  // Remove duplicates from existing permissions\n  const filtered = existing.filter(existingPerm =>\n    !newRules.some(newPerm =>\n      newPerm.appId === existingPerm.appId &&\n      newPerm.type === existingPerm.type &&\n      newPerm.kind === existingPerm.kind\n    )\n  )\n\n  // Add new permissions\n  const updated = [...filtered, ...newRules]\n  savePermissions(updated)\n}\n\n/**\n * Get human-readable event kind label\n */\nexport function getEventKindLabel(kind: number): string {\n  const labels: Record<number, string> = {\n    0: 'Metadata',\n    1: 'Text Note',\n    3: 'Contacts',\n    4: 'Direct Message',\n    5: 'Event Deletion',\n    6: 'Repost',\n    7: 'Reaction',\n    22242: 'Relay Authentication',\n    23194: 'Wallet Info',\n    23195: 'Wallet Request',\n    24133: 'Nostr Connect',\n    27235: 'NWC Request',\n    30023: 'Long-form Content',\n    30078: 'App Data'\n  }\n\n  return labels[kind] || `Event Kind ${kind}`\n}\n", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/permissions.css';\n              document.head.appendChild(link);\n            ", "import { useEffect, useState } from 'react'\nimport { useSettings }         from '@/context/settings.js'\nimport { QRScanner }           from '@/components/util/scanner.js'\n\nimport {\n  decode_group_pkg,\n  encode_group_pkg\n} from '@frostr/bifrost/encoder'\n\nimport type { GroupPackage } from '@frostr/bifrost'\n\nexport function GroupConfigField() {\n  const store = useSettings()\n\n  const [ input, setInput ] = useState<string>('')\n  const [ error, setError ] = useState<string | null>(null)\n  const [ show, setShow   ] = useState<boolean>(false)\n  const [ saved, setSaved ] = useState<boolean>(false)\n\n  const [ isScanning, setIsScanning ] = useState<boolean>(false)\n\n  /**\n   * Handle the update of the store.\n   */\n  const update = (input : string) => {\n    // If an error exists, do not update the group.\n    if (error !== null) return\n    // If the input is empty,\n    if (input === '') {\n      store.update({ group : null })\n    } else {\n      try {\n        // Parse the input into a group package.\n        const group = decode_group_pkg(input)\n        // If the group package is invalid, return.\n        if (group === null) return\n        // Update the group in the store.\n        store.update({ group })\n      } catch {\n        setError('failed to decode package data')\n      }\n    }\n    // Set the saved state, and reset it after a short delay.\n    setSaved(true)\n    setTimeout(() => setSaved(false), 1500)\n  }\n\n  useEffect(() => {\n    try {\n      if (store.data.group !== null) {\n        setInput(get_group_str(store.data.group))\n      } else {\n        setInput('')\n      }\n    } catch {\n      setInput('')\n    }\n  }, [ store.data.group ])\n\n  /**\n   * Handle the validation of the input when it changes.\n   */\n  useEffect(() => {\n    // If the input is empty, clear the error.\n    if (input === '') {\n      setError(null)\n    } else if (!input.startsWith('bfgroup')) {\n      // If the input does not start with \"bfgroup\", set an error.\n      setError('input must start with \"bfgroup\"')\n    } else if (!is_group_string(input)) {\n      // If the input contains invalid characters, set an error.\n      setError('input contains invalid characters')\n    } else {\n      // Parse the input into a group package.\n      const pkg = get_group_pkg(input)\n      // If the group package is valid, clear the error.\n      if (pkg !== null) {\n        setError(null)\n      } else {\n        // If the credential package is invalid, set an error.\n        setError('failed to decode package data')\n      }\n    }\n  }, [ input ])\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"section-header\">Group Package</h2>\n      <p className=\"description\">Paste your encoded group string (starts with bfgroup). It contains information about your signing group.</p>\n      <div className=\"content-container\">\n        <div className=\"input-with-button\">\n          <input\n            type={show ? \"text\" : \"password\"}\n            value={input}\n            onChange={e => setInput(e.target.value.trim())}\n            placeholder=\"bfgroup1...\"\n          />\n          <div className=\"input-actions\">\n            <button \n              className=\"button\"\n              onClick={() => setShow(!show)}\n            >\n              {show ? 'hide' : 'show'}\n            </button>\n            <button\n              className=\"button\"\n              onClick={() => setIsScanning(!isScanning)}\n            >\n              {isScanning ? 'stop scan' : 'scan'}\n            </button>\n            <button\n              className={`button action-button ${saved ? 'saved-button' : ''}`} \n              onClick={() => update(input)}\n              disabled={!is_group_changed(input, store.data.group) || error !== null}\n            >\n              {saved ? 'Saved' : 'Save'}\n            </button>\n          </div>\n        </div>\n        \n        {isScanning && (\n          <QRScanner\n            onResult={(result: string) => {\n              setInput(result.trim())\n              setIsScanning(false)\n            }}\n            onError={() => {\n              setIsScanning(false)\n            }}\n          />\n        )}\n        \n        {input !== '' && error === null && show && (\n          <pre className=\"code-display\">\n            {get_group_json(input) ?? 'invalid group package'}\n          </pre>\n        )}\n        <div className=\"notification-container\">\n          {error && <p className=\"error-text\">{error}</p>}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n/**\n * Check if the input is a valid group string.\n */\nfunction is_group_string(input : string) {\n  return /^bfgroup1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(input)\n}\n\n/**\n * Check if the input has changed and is valid.\n */\nfunction is_group_changed (\n  input : string,\n  group : GroupPackage | null\n) {\n  if (group === null) {\n    return input !== ''\n  } else {\n    // Encode the existing group to a string.\n    const group_str = get_group_str(group)\n    // Determine if the group input has changed and is valid.\n    return input !== group_str\n  }\n}\n\n/**\n * Get the group string from the package.\n */\nfunction get_group_str (group : GroupPackage) {\n  try {\n    return (group !== null)\n      ? encode_group_pkg(group)\n      : ''\n  } catch {\n    return ''\n  }\n}\n\n/**\n * Get the group package from the input.\n */\nfunction get_group_pkg (input : string) {\n  try {\n    return (input !== '')\n      ? decode_group_pkg(input)\n      : null\n  } catch {\n    return null\n  }\n}\n\n/**\n * Get the group JSON from the input.\n */\nfunction get_group_json(input : string) {\n  try {\n    const group = decode_group_pkg(input)\n    return JSON.stringify(group, null, 2)\n  } catch (err) {\n    return null\n  }\n}\n\n", "import { useEffect, useRef, useState } from 'react'\n\nimport QrScanner from 'qr-scanner'\n\ninterface QRScannerProps {\n  onResult: (result: string) => void\n  onError?: (error: Error) => void\n}\n\n// Type definition for native Android QR scanner bridge\ninterface QRScannerBridge {\n  scanQRCode: (callbackId: string) => void\n}\n\n// Global callback registry for native scanner\ndeclare global {\n  interface Window {\n    QRScannerBridge?: QRScannerBridge\n    QRScannerCallbacks?: Record<string, {\n      resolve: (data: string) => void\n      reject: (error: string) => void\n    }>\n  }\n}\n\nexport function QRScanner({ onResult, onError }: QRScannerProps) {\n  const videoRef   = useRef<HTMLVideoElement>(null)\n  const scannerRef = useRef<QrScanner | null>(null)\n\n  const [ error,   setError ] = useState<string | null>(null)\n  const [ hasPerm, setPerm  ] = useState<boolean | null>(null)\n\n  useEffect(() => {\n    let scanner: QrScanner | null = null\n\n    const initializeScanner = async () => {\n      // Check for native Android QR scanner bridge (progressive enhancement)\n      if (window.QRScannerBridge) {\n        try {\n          // Initialize callback registry if not exists\n          if (!window.QRScannerCallbacks) {\n            window.QRScannerCallbacks = {}\n          }\n\n          // Generate unique callback ID\n          const callbackId = `qr_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n\n          // Register promise-like callbacks\n          const scanPromise = new Promise<string>((resolve, reject) => {\n            window.QRScannerCallbacks![callbackId] = { resolve, reject }\n          })\n\n          // Call native scanner\n          window.QRScannerBridge.scanQRCode(callbackId)\n\n          // Wait for result\n          const data = await scanPromise\n          onResult(data)\n          return\n        } catch (err) {\n          const error = err instanceof Error ? err : new Error(String(err))\n          setError(error.message)\n          if (onError) {\n            onError(error)\n          }\n          return\n        }\n      }\n\n      // Fallback to web-based QR scanner\n      if (!videoRef.current) {\n        setError('Video element not found')\n        return\n      }\n\n      try {\n        scanner = new QrScanner(\n          videoRef.current,\n          (result : QrScanner.ScanResult) => {\n            if (!result.data) return\n            onResult(result.data)\n            scanner?.stop()\n          },\n          {\n            returnDetailedScanResult: true,\n            highlightScanRegion: true,\n            highlightCodeOutline: true,\n            maxScansPerSecond: 5,\n            preferredCamera: 'environment'\n          }\n        )\n\n        // Start scanning\n        await scanner.start()\n        setError(null)\n        setPerm(true)\n        scannerRef.current = scanner\n      } catch (err) {\n        const error = err instanceof Error ? err : new Error('Failed to initialize scanner')\n        setError(error.message)\n        if (onError) {\n          onError(error)\n        }\n      }\n    }\n\n    initializeScanner()\n\n    return () => {\n      if (scanner) {\n        scanner.stop()\n        scanner.destroy()\n      }\n    }\n  }, [onResult, onError])\n\n  // If native scanner is available, don't show video element\n  if (window.QRScannerBridge) {\n    return (\n      <div className=\"scanner-container\">\n        <div className=\"scanner-native-placeholder\">\n          Opening native QR scanner...\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"scanner-container\">\n      <video\n        ref={videoRef}\n        className=\"scanner-video\"\n        playsInline\n        autoPlay\n        muted\n      />\n      {error && (\n        <div className=\"scanner-error\">\n          {error}\n          {hasPerm === false && (\n            <div className=\"scanner-error-permission\">\n              Please grant camera permissions to use the QR scanner\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n} ", "class QrScanner {\n    static readonly DEFAULT_CANVAS_SIZE = 400;\n    static readonly NO_QR_CODE_FOUND = 'No QR code found';\n    private static _disableBarcodeDetector = false;\n    private static _workerMessageId = 0;\n\n    /** @deprecated */\n    static set WORKER_PATH(workerPath: string) {\n        console.warn('Setting QrScanner.WORKER_PATH is not required and not supported anymore. '\n            + 'Have a look at the README for new setup instructions.');\n    }\n\n    static async hasCamera(): Promise<boolean> {\n        try {\n            return !!(await QrScanner.listCameras(false)).length;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    static async listCameras(requestLabels = false): Promise<Array<QrScanner.Camera>> {\n        if (!navigator.mediaDevices) return [];\n\n        const enumerateCameras = async (): Promise<Array<MediaDeviceInfo>> =>\n            (await navigator.mediaDevices.enumerateDevices()).filter((device) => device.kind === 'videoinput');\n\n        // Note that enumerateDevices can always be called and does not prompt the user for permission.\n        // However, enumerateDevices only includes device labels if served via https and an active media stream exists\n        // or permission to access the camera was given. Therefore, if we're not getting labels but labels are requested\n        // ask for camera permission by opening a stream.\n        let openedStream: MediaStream | undefined;\n        try {\n            if (requestLabels && (await enumerateCameras()).every((camera) => !camera.label)) {\n                openedStream = await navigator.mediaDevices.getUserMedia({ audio: false, video: true });\n            }\n        } catch (e) {\n            // Fail gracefully, especially if the device has no camera or on mobile when the camera is already in use\n            // and some browsers disallow a second stream.\n        }\n\n        try {\n            return (await enumerateCameras()).map((camera, i) => ({\n                id: camera.deviceId,\n                label: camera.label || (i === 0 ? 'Default Camera' : `Camera ${i + 1}`),\n            }));\n        } finally {\n            // close the stream we just opened for getting camera access for listing the device labels\n            if (openedStream) {\n                console.warn('Call listCameras after successfully starting a QR scanner to avoid creating '\n                    + 'a temporary video stream');\n                QrScanner._stopVideoStream(openedStream);\n            }\n        }\n    }\n\n    readonly $video: HTMLVideoElement;\n    readonly $canvas: HTMLCanvasElement;\n    readonly $overlay?: HTMLDivElement;\n    private readonly $codeOutlineHighlight?: SVGSVGElement;\n    private readonly _onDecode?: (result: QrScanner.ScanResult) => void;\n    private readonly _legacyOnDecode?: (result: string) => void;\n    private readonly _legacyCanvasSize: number = QrScanner.DEFAULT_CANVAS_SIZE;\n    private _preferredCamera: QrScanner.FacingMode | QrScanner.DeviceId = 'environment';\n    private readonly _maxScansPerSecond: number = 25;\n    private _lastScanTimestamp: number = -1;\n    private _scanRegion: QrScanner.ScanRegion;\n    private _codeOutlineHighlightRemovalTimeout?: number;\n    private _qrEnginePromise: Promise<Worker | BarcodeDetector>\n    private _active: boolean = false;\n    private _paused: boolean = false;\n    private _flashOn: boolean = false;\n    private _destroyed: boolean = false;\n\n    constructor(\n        video: HTMLVideoElement,\n        onDecode: (result: QrScanner.ScanResult) => void,\n        options: {\n            onDecodeError?: (error: Error | string) => void,\n            calculateScanRegion?: (video: HTMLVideoElement) => QrScanner.ScanRegion,\n            preferredCamera?: QrScanner.FacingMode | QrScanner.DeviceId,\n            maxScansPerSecond?: number;\n            highlightScanRegion?: boolean,\n            highlightCodeOutline?: boolean,\n            overlay?: HTMLDivElement,\n            /** just a temporary flag until we switch entirely to the new api */\n            returnDetailedScanResult?: true,\n        },\n    );\n    /** @deprecated */\n    constructor(\n        video: HTMLVideoElement,\n        onDecode: (result: string) => void,\n        onDecodeError?: (error: Error | string) => void,\n        calculateScanRegion?: (video: HTMLVideoElement) => QrScanner.ScanRegion,\n        preferredCamera?: QrScanner.FacingMode | QrScanner.DeviceId,\n    );\n    /** @deprecated */\n    constructor(\n        video: HTMLVideoElement,\n        onDecode: (result: string) => void,\n        onDecodeError?: (error: Error | string) => void,\n        canvasSize?: number,\n        preferredCamera?: QrScanner.FacingMode | QrScanner.DeviceId,\n    );\n    /** @deprecated */\n    constructor(video: HTMLVideoElement, onDecode: (result: string) => void, canvasSize?: number);\n    constructor(\n        video: HTMLVideoElement,\n        onDecode: ((result: QrScanner.ScanResult) => void) | ((result: string) => void),\n        canvasSizeOrOnDecodeErrorOrOptions?: number | ((error: Error | string) => void) | {\n            onDecodeError?: (error: Error | string) => void,\n            calculateScanRegion?: (video: HTMLVideoElement) => QrScanner.ScanRegion,\n            preferredCamera?: QrScanner.FacingMode | QrScanner.DeviceId,\n            maxScansPerSecond?: number;\n            highlightScanRegion?: boolean,\n            highlightCodeOutline?: boolean,\n            overlay?: HTMLDivElement,\n            /** just a temporary flag until we switch entirely to the new api */\n            returnDetailedScanResult?: true,\n        },\n        canvasSizeOrCalculateScanRegion?: number | ((video: HTMLVideoElement) => QrScanner.ScanRegion),\n        preferredCamera?: QrScanner.FacingMode | QrScanner.DeviceId,\n    ) {\n        this.$video = video;\n        this.$canvas = document.createElement('canvas');\n\n        if (canvasSizeOrOnDecodeErrorOrOptions && typeof canvasSizeOrOnDecodeErrorOrOptions === 'object') {\n            // we got an options object using the new api\n            this._onDecode = onDecode as QrScanner['_onDecode'];\n        } else {\n            if (canvasSizeOrOnDecodeErrorOrOptions || canvasSizeOrCalculateScanRegion || preferredCamera) {\n                console.warn('You\\'re using a deprecated version of the QrScanner constructor which will be removed in '\n                    + 'the future');\n            } else {\n                // Only video and onDecode were specified and we can't distinguish between new or old api usage. For\n                // backwards compatibility we have to assume the old api for now. The options object is marked as non-\n                // optional in the parameter list above to make clear that ScanResult instead of string is only passed\n                // if an options object was provided. However, in the future once legacy support is removed, the options\n                // object should become optional.\n                console.warn('Note that the type of the scan result passed to onDecode will change in the future. '\n                    + 'To already switch to the new api today, you can pass returnDetailedScanResult: true.');\n            }\n            this._legacyOnDecode = onDecode as QrScanner['_legacyOnDecode'];\n        }\n\n        const options = typeof canvasSizeOrOnDecodeErrorOrOptions === 'object'\n            ? canvasSizeOrOnDecodeErrorOrOptions\n            : {};\n        this._onDecodeError = options.onDecodeError || (typeof canvasSizeOrOnDecodeErrorOrOptions === 'function'\n            ? canvasSizeOrOnDecodeErrorOrOptions\n            : this._onDecodeError);\n        this._calculateScanRegion = options.calculateScanRegion || (typeof canvasSizeOrCalculateScanRegion==='function'\n            ? canvasSizeOrCalculateScanRegion\n            : this._calculateScanRegion);\n        this._preferredCamera = options.preferredCamera || preferredCamera || this._preferredCamera;\n        this._legacyCanvasSize = typeof canvasSizeOrOnDecodeErrorOrOptions === 'number'\n            ? canvasSizeOrOnDecodeErrorOrOptions\n            : typeof canvasSizeOrCalculateScanRegion === 'number'\n                ? canvasSizeOrCalculateScanRegion\n                : this._legacyCanvasSize;\n        this._maxScansPerSecond = options.maxScansPerSecond || this._maxScansPerSecond;\n\n        this._onPlay = this._onPlay.bind(this);\n        this._onLoadedMetaData = this._onLoadedMetaData.bind(this);\n        this._onVisibilityChange = this._onVisibilityChange.bind(this);\n        this._updateOverlay = this._updateOverlay.bind(this);\n\n        // @ts-ignore\n        video.disablePictureInPicture = true;\n        // Allow inline playback on iPhone instead of requiring full screen playback,\n        // see https://webkit.org/blog/6784/new-video-policies-for-ios/\n        // @ts-ignore\n        video.playsInline = true;\n        // Allow play() on iPhone without requiring a user gesture. Should not really be needed as camera stream\n        // includes no audio, but just to be safe.\n        video.muted = true;\n\n        // Avoid Safari stopping the video stream on a hidden video.\n        // See https://github.com/cozmo/jsQR/issues/185\n        let shouldHideVideo = false;\n        if (video.hidden) {\n            video.hidden = false;\n            shouldHideVideo = true;\n        }\n        if (!document.body.contains(video)) {\n            document.body.appendChild(video);\n            shouldHideVideo = true;\n        }\n        const videoContainer = video.parentElement!;\n\n        if (options.highlightScanRegion || options.highlightCodeOutline) {\n            const gotExternalOverlay = !!options.overlay;\n            this.$overlay = options.overlay || document.createElement('div');\n            const overlayStyle = this.$overlay.style;\n            overlayStyle.position = 'absolute';\n            overlayStyle.display = 'none';\n            overlayStyle.pointerEvents = 'none';\n            this.$overlay.classList.add('scan-region-highlight');\n            if (!gotExternalOverlay && options.highlightScanRegion) {\n                // default style; can be overwritten via css, e.g. by changing the svg's stroke color, hiding the\n                // .scan-region-highlight-svg, setting a border, outline, background, etc.\n                this.$overlay.innerHTML = '<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" '\n                    + 'preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;'\n                    + 'fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\">'\n                    + '<path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 '\n                    + '0H10a8 8 0 0 1-8-8v-21\"/></svg>';\n                try {\n                    this.$overlay.firstElementChild!.animate({ transform: ['scale(.98)', 'scale(1.01)'] }, {\n                        duration: 400,\n                        iterations: Infinity,\n                        direction: 'alternate',\n                        easing: 'ease-in-out',\n                    });\n                } catch (e) {}\n                videoContainer.insertBefore(this.$overlay, this.$video.nextSibling);\n            }\n            if (options.highlightCodeOutline) {\n                // default style; can be overwritten via css\n                this.$overlay.insertAdjacentHTML(\n                    'beforeend',\n                    '<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;'\n                        + 'height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;'\n                        + 'stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>',\n                );\n                this.$codeOutlineHighlight = this.$overlay.lastElementChild as SVGSVGElement;\n            }\n        }\n        this._scanRegion = this._calculateScanRegion(video);\n\n        requestAnimationFrame(() => {\n            // Checking in requestAnimationFrame which should avoid a potential additional re-flow for getComputedStyle.\n            const videoStyle = window.getComputedStyle(video);\n            if (videoStyle.display === 'none') {\n                video.style.setProperty('display', 'block', 'important');\n                shouldHideVideo = true;\n            }\n            if (videoStyle.visibility !== 'visible') {\n                video.style.setProperty('visibility', 'visible', 'important');\n                shouldHideVideo = true;\n            }\n            if (shouldHideVideo) {\n                // Hide the video in a way that doesn't cause Safari to stop the playback.\n                console.warn('QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.');\n                video.style.opacity = '0';\n                video.style.width = '0';\n                video.style.height = '0';\n                if (this.$overlay && this.$overlay.parentElement) {\n                    this.$overlay.parentElement.removeChild(this.$overlay);\n                }\n                // @ts-ignore\n                delete this.$overlay!;\n                // @ts-ignore\n                delete this.$codeOutlineHighlight!;\n            }\n\n            if (this.$overlay) {\n                this._updateOverlay();\n            }\n        });\n\n        video.addEventListener('play', this._onPlay);\n        video.addEventListener('loadedmetadata', this._onLoadedMetaData);\n        document.addEventListener('visibilitychange', this._onVisibilityChange);\n        window.addEventListener('resize', this._updateOverlay);\n\n        this._qrEnginePromise = QrScanner.createQrEngine();\n    }\n\n    async hasFlash(): Promise<boolean> {\n        let stream: MediaStream | undefined;\n        try {\n            if (this.$video.srcObject) {\n                if (!(this.$video.srcObject instanceof MediaStream)) return false; // srcObject is not a camera stream\n                stream = this.$video.srcObject;\n            } else {\n                stream = (await this._getCameraStream()).stream;\n            }\n            return 'torch' in stream.getVideoTracks()[0].getSettings();\n        } catch (e) {\n            return false;\n        } finally {\n            // close the stream we just opened for detecting whether it supports flash\n            if (stream && stream !== this.$video.srcObject) {\n                console.warn('Call hasFlash after successfully starting the scanner to avoid creating '\n                    + 'a temporary video stream');\n                QrScanner._stopVideoStream(stream);\n            }\n        }\n    }\n\n    isFlashOn(): boolean {\n        return this._flashOn;\n    }\n\n    async toggleFlash(): Promise<void> {\n        if (this._flashOn) {\n            await this.turnFlashOff();\n        } else {\n            await this.turnFlashOn();\n        }\n    }\n\n    async turnFlashOn(): Promise<void> {\n        if (this._flashOn || this._destroyed) return;\n        this._flashOn = true;\n        if (!this._active || this._paused) return; // flash will be turned on later on .start()\n        try {\n            if (!await this.hasFlash()) throw 'No flash available';\n            // Note that the video track is guaranteed to exist and to be a MediaStream due to the check in hasFlash\n            await (this.$video.srcObject as MediaStream).getVideoTracks()[0].applyConstraints({\n                // @ts-ignore: constraint 'torch' is unknown to ts\n                advanced: [{ torch: true }],\n            });\n        } catch (e) {\n            this._flashOn = false;\n            throw e;\n        }\n    }\n\n    async turnFlashOff(): Promise<void> {\n        if (!this._flashOn) return;\n        // applyConstraints with torch: false does not work to turn the flashlight off, as a stream's torch stays\n        // continuously on, see https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints#torch. Therefore,\n        // we have to stop the stream to turn the flashlight off.\n        this._flashOn = false;\n        await this._restartVideoStream();\n    }\n\n    destroy(): void {\n        this.$video.removeEventListener('loadedmetadata', this._onLoadedMetaData);\n        this.$video.removeEventListener('play', this._onPlay);\n        document.removeEventListener('visibilitychange', this._onVisibilityChange);\n        window.removeEventListener('resize', this._updateOverlay);\n\n        this._destroyed = true;\n        this._flashOn = false;\n        this.stop(); // sets this._paused = true and this._active = false\n        QrScanner._postWorkerMessage(this._qrEnginePromise, 'close');\n    }\n\n    async start(): Promise<void> {\n        if (this._destroyed) throw new Error('The QR scanner can not be started as it had been destroyed.');\n        if (this._active && !this._paused) return;\n\n        if (window.location.protocol !== 'https:') {\n            // warn but try starting the camera anyways\n            console.warn('The camera stream is only accessible if the page is transferred via https.');\n        }\n\n        this._active = true;\n        if (document.hidden) return; // camera will be started as soon as tab is in foreground\n        this._paused = false;\n        if (this.$video.srcObject) {\n            // camera stream already/still set\n            await this.$video.play();\n            return;\n        }\n\n        try {\n            const { stream, facingMode } = await this._getCameraStream();\n            if (!this._active || this._paused) {\n                // was stopped in the meantime\n                QrScanner._stopVideoStream(stream);\n                return;\n            }\n            this._setVideoMirror(facingMode);\n            this.$video.srcObject = stream;\n            await this.$video.play();\n\n            // Restart the flash if it was previously on\n            if (this._flashOn) {\n                this._flashOn = false; // force turnFlashOn to restart the flash\n                this.turnFlashOn().catch(() => {});\n            }\n        } catch (e) {\n            if (this._paused) return;\n            this._active = false;\n            throw e;\n        }\n    }\n\n    stop(): void {\n        this.pause();\n        this._active = false;\n    }\n\n    async pause(stopStreamImmediately = false): Promise<boolean> {\n        this._paused = true;\n        if (!this._active) return true;\n        this.$video.pause();\n\n        if (this.$overlay) {\n            this.$overlay.style.display = 'none';\n        }\n\n        const stopStream = () => {\n            if (this.$video.srcObject instanceof MediaStream) {\n                // revoke srcObject only if it's a stream which was likely set by us\n                QrScanner._stopVideoStream(this.$video.srcObject);\n                this.$video.srcObject = null;\n            }\n        };\n\n        if (stopStreamImmediately) {\n            stopStream();\n            return true;\n        }\n\n        await new Promise((resolve) => setTimeout(resolve, 300));\n        if (!this._paused) return false;\n        stopStream();\n        return true;\n    }\n\n    async setCamera(facingModeOrDeviceId: QrScanner.FacingMode | QrScanner.DeviceId): Promise<void> {\n        if (facingModeOrDeviceId === this._preferredCamera) return;\n        this._preferredCamera = facingModeOrDeviceId;\n        // Restart the scanner with the new camera which will also update the video mirror and the scan region.\n        await this._restartVideoStream();\n    }\n\n    static async scanImage(\n        imageOrFileOrBlobOrUrl: HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n            | SVGImageElement | File | Blob | URL | String,\n        options: {\n            scanRegion?: QrScanner.ScanRegion | null,\n            qrEngine?: Worker | BarcodeDetector | Promise<Worker | BarcodeDetector> | null,\n            canvas?: HTMLCanvasElement | null,\n            disallowCanvasResizing?: boolean,\n            alsoTryWithoutScanRegion?: boolean,\n            /** just a temporary flag until we switch entirely to the new api */\n            returnDetailedScanResult?: true,\n        },\n    ): Promise<QrScanner.ScanResult>;\n    /** @deprecated */\n    static async scanImage(\n        imageOrFileOrBlobOrUrl: HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n            | SVGImageElement | File | Blob | URL | String,\n        scanRegion?: QrScanner.ScanRegion | null,\n        qrEngine?: Worker | BarcodeDetector | Promise<Worker | BarcodeDetector> | null,\n        canvas?: HTMLCanvasElement | null,\n        disallowCanvasResizing?: boolean,\n        alsoTryWithoutScanRegion?: boolean,\n    ): Promise<string>;\n    static async scanImage(\n        imageOrFileOrBlobOrUrl: HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n            | SVGImageElement | File | Blob | URL | String,\n        scanRegionOrOptions?: QrScanner.ScanRegion | {\n            scanRegion?: QrScanner.ScanRegion | null,\n            qrEngine?: Worker | BarcodeDetector | Promise<Worker | BarcodeDetector> | null,\n            canvas?: HTMLCanvasElement | null,\n            disallowCanvasResizing?: boolean,\n            alsoTryWithoutScanRegion?: boolean,\n            /** just a temporary flag until we switch entirely to the new api */\n            returnDetailedScanResult?: true,\n        } | null,\n        qrEngine?: Worker | BarcodeDetector | Promise<Worker | BarcodeDetector> | null,\n        canvas?: HTMLCanvasElement | null,\n        disallowCanvasResizing: boolean = false,\n        alsoTryWithoutScanRegion: boolean = false,\n    ): Promise<string | QrScanner.ScanResult> {\n        let scanRegion: QrScanner.ScanRegion | null | undefined;\n        let returnDetailedScanResult = false;\n        if (scanRegionOrOptions && (\n            'scanRegion' in scanRegionOrOptions\n            || 'qrEngine' in scanRegionOrOptions\n            || 'canvas' in scanRegionOrOptions\n            || 'disallowCanvasResizing' in scanRegionOrOptions\n            || 'alsoTryWithoutScanRegion' in scanRegionOrOptions\n            || 'returnDetailedScanResult' in scanRegionOrOptions\n        )) {\n            // we got an options object using the new api\n            scanRegion = scanRegionOrOptions.scanRegion;\n            qrEngine = scanRegionOrOptions.qrEngine;\n            canvas = scanRegionOrOptions.canvas;\n            disallowCanvasResizing = scanRegionOrOptions.disallowCanvasResizing || false;\n            alsoTryWithoutScanRegion = scanRegionOrOptions.alsoTryWithoutScanRegion || false;\n            returnDetailedScanResult = true;\n        } else if (scanRegionOrOptions || qrEngine || canvas || disallowCanvasResizing || alsoTryWithoutScanRegion) {\n            console.warn('You\\'re using a deprecated api for scanImage which will be removed in the future.');\n        } else {\n            // Only imageOrFileOrBlobOrUrl was specified and we can't distinguish between new or old api usage. For\n            // backwards compatibility we have to assume the old api for now. The options object is marked as non-\n            // optional in the parameter list above to make clear that ScanResult instead of string is only returned if\n            // an options object was provided. However, in the future once legacy support is removed, the options object\n            // should become optional.\n            console.warn('Note that the return type of scanImage will change in the future. To already switch to the '\n                + 'new api today, you can pass returnDetailedScanResult: true.');\n        }\n\n        const gotExternalEngine = !!qrEngine;\n\n        try {\n            let image: HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n                | SVGImageElement;\n            let canvasContext: CanvasRenderingContext2D;\n            [qrEngine, image] = await Promise.all([\n                qrEngine || QrScanner.createQrEngine(),\n                QrScanner._loadImage(imageOrFileOrBlobOrUrl),\n            ]);\n            [canvas, canvasContext] = QrScanner._drawToCanvas(image, scanRegion, canvas, disallowCanvasResizing);\n            let detailedScanResult: QrScanner.ScanResult;\n\n            if (qrEngine instanceof Worker) {\n                const qrEngineWorker = qrEngine; // for ts to know that it's still a worker later in the event listeners\n                if (!gotExternalEngine) {\n                    // Enable scanning of inverted color qr codes.\n                    QrScanner._postWorkerMessageSync(qrEngineWorker, 'inversionMode', 'both');\n                }\n                detailedScanResult = await new Promise((resolve, reject) => {\n                    let timeout: number;\n                    let onMessage: (event: MessageEvent) => void;\n                    let onError: (error: ErrorEvent | string) => void;\n                    let expectedResponseId = -1;\n                    onMessage = (event: MessageEvent) => {\n                        if (event.data.id !== expectedResponseId) {\n                            return;\n                        }\n                        qrEngineWorker.removeEventListener('message', onMessage);\n                        qrEngineWorker.removeEventListener('error', onError);\n                        clearTimeout(timeout);\n                        if (event.data.data !== null) {\n                            resolve({\n                                data: event.data.data,\n                                cornerPoints: QrScanner._convertPoints(event.data.cornerPoints, scanRegion),\n                            });\n                        } else {\n                            reject(QrScanner.NO_QR_CODE_FOUND);\n                        }\n                    };\n                    onError = (error: ErrorEvent | string) => {\n                        qrEngineWorker.removeEventListener('message', onMessage);\n                        qrEngineWorker.removeEventListener('error', onError);\n                        clearTimeout(timeout);\n                        const errorMessage = !error ? 'Unknown Error' : ((error as ErrorEvent).message || error);\n                        reject('Scanner error: ' + errorMessage);\n                    };\n                    qrEngineWorker.addEventListener('message', onMessage);\n                    qrEngineWorker.addEventListener('error', onError);\n                    timeout = setTimeout(() => onError('timeout'), 10000);\n                    const imageData = canvasContext.getImageData(0, 0, canvas!.width, canvas!.height);\n                    expectedResponseId = QrScanner._postWorkerMessageSync(\n                        qrEngineWorker,\n                        'decode',\n                        imageData,\n                        [imageData.data.buffer],\n                    );\n                });\n            } else {\n                detailedScanResult = await Promise.race([\n                    new Promise<QrScanner.ScanResult>((resolve, reject) => window.setTimeout(\n                        () => reject('Scanner error: timeout'),\n                        10000,\n                    )),\n                    (async (): Promise<QrScanner.ScanResult> => {\n                        try {\n                            const [scanResult] = await qrEngine.detect(canvas!);\n                            if (!scanResult) throw QrScanner.NO_QR_CODE_FOUND;\n                            return {\n                                data: scanResult.rawValue,\n                                cornerPoints: QrScanner._convertPoints(scanResult.cornerPoints, scanRegion),\n                            };\n                        } catch (e) {\n                            const errorMessage = (e as Error).message || e as string;\n                            if (/not implemented|service unavailable/.test(errorMessage)) {\n                                // Not implemented can apparently for some reason happen even though getSupportedFormats\n                                // in createQrScanner reported that it's supported, see issue #98.\n                                // Service unavailable can happen after some time when the BarcodeDetector crashed and\n                                // can theoretically be recovered from by creating a new BarcodeDetector. However, in\n                                // newer browsers this issue does not seem to be present anymore and therefore we do not\n                                // apply this optimization anymore but just set _disableBarcodeDetector in both cases.\n                                // Also note that if we got an external qrEngine that crashed, we should possibly notify\n                                // the caller about it, but we also don't do this here, as it's such an unlikely case.\n                                QrScanner._disableBarcodeDetector = true;\n                                // retry without passing the broken BarcodeScanner instance\n                                return QrScanner.scanImage(imageOrFileOrBlobOrUrl, {\n                                    scanRegion,\n                                    canvas,\n                                    disallowCanvasResizing,\n                                    alsoTryWithoutScanRegion,\n                                });\n                            }\n                            throw `Scanner error: ${errorMessage}`;\n                        }\n                    })(),\n                ]);\n            }\n            return returnDetailedScanResult ? detailedScanResult : detailedScanResult.data;\n        } catch (e) {\n            if (!scanRegion || !alsoTryWithoutScanRegion) throw e;\n            const detailedScanResult = await QrScanner.scanImage(\n                imageOrFileOrBlobOrUrl,\n                { qrEngine, canvas, disallowCanvasResizing },\n            );\n            return returnDetailedScanResult ? detailedScanResult : detailedScanResult.data;\n        } finally {\n            if (!gotExternalEngine) {\n                QrScanner._postWorkerMessage(qrEngine!, 'close');\n            }\n        }\n    }\n\n    setGrayscaleWeights(red: number, green: number, blue: number, useIntegerApproximation: boolean = true): void {\n        // Note that for the native BarcodeDecoder or if the worker was destroyed, this is a no-op. However, the native\n        // implementations work also well with colored qr codes.\n        QrScanner._postWorkerMessage(\n            this._qrEnginePromise,\n            'grayscaleWeights',\n            { red, green, blue, useIntegerApproximation }\n        );\n    }\n\n    setInversionMode(inversionMode: QrScanner.InversionMode): void {\n        // Note that for the native BarcodeDecoder or if the worker was destroyed, this is a no-op. However, the native\n        // implementations scan normal and inverted qr codes by default\n        QrScanner._postWorkerMessage(this._qrEnginePromise, 'inversionMode', inversionMode);\n    }\n\n    static async createQrEngine(): Promise<Worker | BarcodeDetector>;\n    /** @deprecated */\n    static async createQrEngine(workerPath: string): Promise<Worker | BarcodeDetector>;\n    static async createQrEngine(workerPath?: string): Promise<Worker | BarcodeDetector> {\n        if (workerPath) {\n            console.warn('Specifying a worker path is not required and not supported anymore.');\n        }\n\n        // @ts-ignore no types defined for import\n        const createWorker = () => (import('./qr-scanner-worker.min.js') as Promise<{ createWorker: () => Worker }>)\n            .then((module) => module.createWorker());\n\n        const useBarcodeDetector = !QrScanner._disableBarcodeDetector\n            && 'BarcodeDetector' in window\n            && BarcodeDetector.getSupportedFormats\n            && (await BarcodeDetector.getSupportedFormats()).includes('qr_code');\n\n        if (!useBarcodeDetector) return createWorker();\n\n        // On Macs with an M1/M2 processor and macOS Ventura (macOS version 13), the BarcodeDetector is broken in\n        // Chromium based browsers, regardless of the version. For that constellation, the BarcodeDetector does not\n        // error but does not detect QR codes. Macs without an M1/M2 or before Ventura are fine.\n        // See issue #209 and https://bugs.chromium.org/p/chromium/issues/detail?id=1382442\n        // TODO update this once the issue in macOS is fixed\n        const userAgentData = navigator.userAgentData;\n        const isChromiumOnMacWithArmVentura = userAgentData // all Chromium browsers support userAgentData\n            && userAgentData.brands.some(({ brand }) => /Chromium/i.test(brand))\n            && /mac ?OS/i.test(userAgentData.platform)\n            // Does it have an ARM chip (e.g. M1/M2) and Ventura? Check this last as getHighEntropyValues can\n            // theoretically trigger a browser prompt, although no browser currently does seem to show one.\n            // If browser or user refused to return the requested values, assume broken ARM Ventura, to be safe.\n            && await userAgentData.getHighEntropyValues(['architecture', 'platformVersion'])\n                .then(({ architecture, platformVersion }) =>\n                    /arm/i.test(architecture || 'arm') && parseInt(platformVersion || '13') >= /* Ventura */ 13)\n                .catch(() => true);\n        if (isChromiumOnMacWithArmVentura) return createWorker();\n\n        return new BarcodeDetector({ formats: ['qr_code'] });\n    }\n\n    private _onPlay(): void {\n        this._scanRegion = this._calculateScanRegion(this.$video);\n        this._updateOverlay();\n        if (this.$overlay) {\n            this.$overlay.style.display = '';\n        }\n        this._scanFrame();\n    }\n\n    private _onLoadedMetaData(): void {\n        this._scanRegion = this._calculateScanRegion(this.$video);\n        this._updateOverlay();\n    }\n\n    private _onVisibilityChange(): void {\n        if (document.hidden) {\n            this.pause();\n        } else if (this._active) {\n            this.start();\n        }\n    }\n\n    private _calculateScanRegion(video: HTMLVideoElement): QrScanner.ScanRegion {\n        // Default scan region calculation. Note that this can be overwritten in the constructor.\n        const smallestDimension = Math.min(video.videoWidth, video.videoHeight);\n        const scanRegionSize = Math.round(2 / 3 * smallestDimension);\n        return {\n            x: Math.round((video.videoWidth - scanRegionSize) / 2),\n            y: Math.round((video.videoHeight - scanRegionSize) / 2),\n            width: scanRegionSize,\n            height: scanRegionSize,\n            downScaledWidth: this._legacyCanvasSize,\n            downScaledHeight: this._legacyCanvasSize,\n        };\n    }\n\n    private _updateOverlay(): void {\n        requestAnimationFrame(() => {\n            // Running in requestAnimationFrame which should avoid a potential additional re-flow for getComputedStyle\n            // and offsetWidth, offsetHeight, offsetLeft, offsetTop.\n            if (!this.$overlay) return;\n            const video = this.$video;\n            const videoWidth = video.videoWidth;\n            const videoHeight = video.videoHeight;\n            const elementWidth = video.offsetWidth;\n            const elementHeight = video.offsetHeight;\n            const elementX = video.offsetLeft;\n            const elementY = video.offsetTop;\n\n            const videoStyle = window.getComputedStyle(video);\n            const videoObjectFit = videoStyle.objectFit;\n            const videoAspectRatio = videoWidth / videoHeight;\n            const elementAspectRatio = elementWidth / elementHeight;\n            let videoScaledWidth: number;\n            let videoScaledHeight: number;\n            switch (videoObjectFit) {\n                case 'none':\n                    videoScaledWidth = videoWidth;\n                    videoScaledHeight = videoHeight;\n                    break;\n                case 'fill':\n                    videoScaledWidth = elementWidth;\n                    videoScaledHeight = elementHeight;\n                    break;\n                default: // 'cover', 'contains', 'scale-down'\n                    if (videoObjectFit === 'cover'\n                        ? videoAspectRatio > elementAspectRatio\n                        : videoAspectRatio < elementAspectRatio) {\n                        // The scaled height is the element height\n                        // - for 'cover' if the video aspect ratio is wider than the element aspect ratio\n                        //   (scaled height matches element height and scaled width overflows element width)\n                        // - for 'contains'/'scale-down' if element aspect ratio is wider than the video aspect ratio\n                        //   (scaled height matched element height and element width overflows scaled width)\n                        videoScaledHeight = elementHeight;\n                        videoScaledWidth = videoScaledHeight * videoAspectRatio;\n                    } else {\n                        videoScaledWidth = elementWidth;\n                        videoScaledHeight = videoScaledWidth / videoAspectRatio;\n                    }\n                    if (videoObjectFit === 'scale-down') {\n                        // for 'scale-down' the dimensions are the minimum of 'contains' and 'none'\n                        videoScaledWidth = Math.min(videoScaledWidth, videoWidth);\n                        videoScaledHeight = Math.min(videoScaledHeight, videoHeight);\n                    }\n            }\n\n            // getComputedStyle is so nice to convert keywords (left, center, right, top, bottom) to percent and makes\n            // sure to set the default of 50% if only one or no component was provided, therefore we can be sure that\n            // both components are set. Additionally, it converts units other than px (e.g. rem) to px.\n            const [videoX, videoY] = videoStyle.objectPosition.split(' ').map((length, i) => {\n                const lengthValue = parseFloat(length);\n                return length.endsWith('%')\n                    ? (!i ? elementWidth - videoScaledWidth : elementHeight - videoScaledHeight) * lengthValue / 100\n                    : lengthValue;\n            });\n\n            const regionWidth = this._scanRegion.width || videoWidth;\n            const regionHeight = this._scanRegion.height || videoHeight;\n            const regionX = this._scanRegion.x || 0;\n            const regionY = this._scanRegion.y || 0;\n\n            const overlayStyle = this.$overlay.style;\n            overlayStyle.width = `${regionWidth / videoWidth * videoScaledWidth}px`;\n            overlayStyle.height = `${regionHeight / videoHeight * videoScaledHeight}px`;\n            overlayStyle.top = `${elementY + videoY + regionY / videoHeight * videoScaledHeight}px`;\n            const isVideoMirrored = /scaleX\\(-1\\)/.test(video.style.transform!);\n            overlayStyle.left = `${elementX\n                + (isVideoMirrored ? elementWidth - videoX - videoScaledWidth : videoX)\n                + (isVideoMirrored ? videoWidth - regionX - regionWidth : regionX) / videoWidth * videoScaledWidth}px`;\n            // apply same mirror as on video\n            overlayStyle.transform = video.style.transform;\n        });\n    }\n\n    private static _convertPoints(\n        points: QrScanner.Point[],\n        scanRegion?: QrScanner.ScanRegion | null,\n    ): QrScanner.Point[] {\n        if (!scanRegion) return points;\n        const offsetX = scanRegion.x || 0;\n        const offsetY = scanRegion.y || 0;\n        const scaleFactorX = scanRegion.width && scanRegion.downScaledWidth\n            ? scanRegion.width / scanRegion.downScaledWidth\n            : 1;\n        const scaleFactorY = scanRegion.height && scanRegion.downScaledHeight\n            ? scanRegion.height / scanRegion.downScaledHeight\n            : 1;\n        for (const point of points) {\n            point.x = point.x * scaleFactorX + offsetX;\n            point.y = point.y * scaleFactorY + offsetY;\n        }\n        return points;\n    }\n\n    private _scanFrame(): void {\n        if (!this._active || this.$video.paused || this.$video.ended) return;\n        // If requestVideoFrameCallback is available use that to avoid unnecessary scans on the same frame as the\n        // camera's framerate can be lower than the screen refresh rate and this._maxScansPerSecond, especially in dark\n        // settings where the exposure time is longer. Both, requestVideoFrameCallback and requestAnimationFrame are not\n        // being fired if the tab is in the background, which is what we want.\n        const requestFrame = 'requestVideoFrameCallback' in this.$video\n            // @ts-ignore\n            ? this.$video.requestVideoFrameCallback.bind(this.$video)\n            : requestAnimationFrame;\n        requestFrame(async () => {\n            if (this.$video.readyState <= 1) {\n                // Skip scans until the video is ready as drawImage() only works correctly on a video with readyState\n                // > 1, see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage#Notes.\n                // This also avoids false positives for videos paused after a successful scan which remains visible on\n                // the canvas until the video is started again and ready.\n                this._scanFrame();\n                return;\n            }\n\n            const timeSinceLastScan = Date.now() - this._lastScanTimestamp;\n            const minimumTimeBetweenScans = 1000 / this._maxScansPerSecond;\n            if (timeSinceLastScan < minimumTimeBetweenScans) {\n                await new Promise((resolve) => setTimeout(resolve, minimumTimeBetweenScans - timeSinceLastScan));\n            }\n            // console.log('Scan rate:', Math.round(1000 / (Date.now() - this._lastScanTimestamp)));\n            this._lastScanTimestamp = Date.now();\n\n            let result: QrScanner.ScanResult | undefined;\n            try {\n                result = await QrScanner.scanImage(this.$video, {\n                    scanRegion: this._scanRegion,\n                    qrEngine: this._qrEnginePromise,\n                    canvas: this.$canvas,\n                });\n            } catch (error) {\n                if (!this._active) return;\n                this._onDecodeError(error as Error | string);\n            }\n\n            if (QrScanner._disableBarcodeDetector && !(await this._qrEnginePromise instanceof Worker)) {\n                // replace the disabled BarcodeDetector\n                this._qrEnginePromise = QrScanner.createQrEngine();\n            }\n\n            if (result) {\n                if (this._onDecode) {\n                    this._onDecode(result);\n                } else if (this._legacyOnDecode) {\n                    this._legacyOnDecode(result.data);\n                }\n\n                if (this.$codeOutlineHighlight) {\n                    clearTimeout(this._codeOutlineHighlightRemovalTimeout);\n                    this._codeOutlineHighlightRemovalTimeout = undefined;\n                    this.$codeOutlineHighlight.setAttribute(\n                        'viewBox',\n                        `${this._scanRegion.x || 0} `\n                            + `${this._scanRegion.y || 0} `\n                            + `${this._scanRegion.width || this.$video.videoWidth} `\n                            + `${this._scanRegion.height || this.$video.videoHeight}`,\n                    );\n                    const polygon = this.$codeOutlineHighlight.firstElementChild!;\n                    polygon.setAttribute('points', result.cornerPoints.map(({x, y}) => `${x},${y}`).join(' '));\n                    this.$codeOutlineHighlight.style.display = '';\n                }\n            } else if (this.$codeOutlineHighlight && !this._codeOutlineHighlightRemovalTimeout) {\n                // hide after timeout to make it flash less when on some frames the QR code is detected and on some not\n                this._codeOutlineHighlightRemovalTimeout = setTimeout(\n                    () => this.$codeOutlineHighlight!.style.display = 'none',\n                    100,\n                );\n            }\n\n            this._scanFrame();\n        });\n    }\n\n    private _onDecodeError(error: Error | string): void {\n        // default error handler; can be overwritten in the constructor\n        if (error === QrScanner.NO_QR_CODE_FOUND) return;\n        console.log(error);\n    }\n\n    private async _getCameraStream(): Promise<{ stream: MediaStream, facingMode: QrScanner.FacingMode }> {\n        if (!navigator.mediaDevices) throw 'Camera not found.';\n\n        const preferenceType = /^(environment|user)$/.test(this._preferredCamera)\n            ? 'facingMode'\n            : 'deviceId';\n        const constraintsWithoutCamera: Array<MediaTrackConstraints> = [{\n            width: { min: 1024 }\n        }, {\n            width: { min: 768 }\n        }, {}];\n        const constraintsWithCamera = constraintsWithoutCamera.map((constraint) => Object.assign({}, constraint, {\n            [preferenceType]: { exact: this._preferredCamera },\n        }));\n\n        for (const constraints of [...constraintsWithCamera, ...constraintsWithoutCamera]) {\n            try {\n                const stream = await navigator.mediaDevices.getUserMedia({ video: constraints, audio: false });\n                // Try to determine the facing mode from the stream, otherwise use a guess or 'environment' as\n                // default. Note that the guess is not always accurate as Safari returns cameras of different facing\n                // mode, even for exact facingMode constraints.\n                const facingMode = this._getFacingMode(stream)\n                    || (constraints.facingMode\n                        ? this._preferredCamera as QrScanner.FacingMode // a facing mode we were able to fulfill\n                        : (this._preferredCamera === 'environment'\n                            ? 'user' // switch as _preferredCamera was environment but we are not able to fulfill it\n                            : 'environment' // switch from unfulfilled user facingMode or default to environment\n                        )\n                    );\n                return { stream, facingMode };\n            } catch (e) {}\n        }\n\n        throw 'Camera not found.';\n    }\n\n    private async _restartVideoStream(): Promise<void> {\n        // Note that we always pause the stream and not only if !this._paused as even if this._paused === true, the\n        // stream might still be running, as it's by default only stopped after a delay of 300ms.\n        const wasPaused = this._paused;\n        const paused = await this.pause(true);\n        if (!paused || wasPaused || !this._active) return;\n        await this.start();\n    }\n\n    private static _stopVideoStream(stream : MediaStream): void {\n        for (const track of stream.getTracks()) {\n            track.stop(); //  note that this will also automatically turn the flashlight off\n            stream.removeTrack(track);\n        }\n    }\n\n    private _setVideoMirror(facingMode: QrScanner.FacingMode): void {\n        // in user facing mode mirror the video to make it easier for the user to position the QR code\n        const scaleFactor = facingMode === 'user'? -1 : 1;\n        this.$video.style.transform = 'scaleX(' + scaleFactor + ')';\n    }\n\n    private _getFacingMode(videoStream: MediaStream): QrScanner.FacingMode | null {\n        const videoTrack = videoStream.getVideoTracks()[0];\n        if (!videoTrack) return null; // unknown\n        // inspired by https://github.com/JodusNodus/react-qr-reader/blob/master/src/getDeviceId.js#L13\n        return /rear|back|environment/i.test(videoTrack.label)\n            ? 'environment'\n            : /front|user|face/i.test(videoTrack.label)\n                ? 'user'\n                : null; // unknown\n    }\n\n    private static _drawToCanvas(\n        image: HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n            | SVGImageElement,\n        scanRegion?: QrScanner.ScanRegion | null,\n        canvas?: HTMLCanvasElement | null,\n        disallowCanvasResizing= false,\n    ): [HTMLCanvasElement, CanvasRenderingContext2D] {\n        canvas = canvas || document.createElement('canvas');\n        const scanRegionX = scanRegion && scanRegion.x ? scanRegion.x : 0;\n        const scanRegionY = scanRegion && scanRegion.y ? scanRegion.y : 0;\n        const scanRegionWidth = scanRegion && scanRegion.width\n            ? scanRegion.width\n            : (image as HTMLVideoElement).videoWidth || image.width as number;\n        const scanRegionHeight = scanRegion && scanRegion.height\n            ? scanRegion.height\n            : (image as HTMLVideoElement).videoHeight || image.height as number;\n\n        if (!disallowCanvasResizing) {\n            const canvasWidth = scanRegion && scanRegion.downScaledWidth\n                ? scanRegion.downScaledWidth\n                : scanRegionWidth;\n            const canvasHeight = scanRegion && scanRegion.downScaledHeight\n                ? scanRegion.downScaledHeight\n                : scanRegionHeight;\n            // Setting the canvas width or height clears the canvas, even if the values didn't change, therefore only\n            // set them if they actually changed.\n            if (canvas.width !== canvasWidth) {\n                canvas.width = canvasWidth;\n            }\n            if (canvas.height !== canvasHeight) {\n                canvas.height = canvasHeight;\n            }\n        }\n\n        const context = canvas.getContext('2d', { alpha: false })!;\n        context.imageSmoothingEnabled = false; // gives less blurry images\n        context.drawImage(\n            image,\n            scanRegionX, scanRegionY, scanRegionWidth, scanRegionHeight,\n            0, 0, canvas.width, canvas.height,\n        );\n        return [canvas, context];\n    }\n\n    private static async _loadImage(\n        imageOrFileOrBlobOrUrl: HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n            | SVGImageElement | File | Blob | URL | String,\n    ): Promise<HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | OffscreenCanvas | ImageBitmap\n        | SVGImageElement > {\n        if (imageOrFileOrBlobOrUrl instanceof Image) {\n            await QrScanner._awaitImageLoad(imageOrFileOrBlobOrUrl);\n            return imageOrFileOrBlobOrUrl;\n        } else if (imageOrFileOrBlobOrUrl instanceof HTMLVideoElement\n            || imageOrFileOrBlobOrUrl instanceof HTMLCanvasElement\n            || imageOrFileOrBlobOrUrl instanceof SVGImageElement\n            || 'OffscreenCanvas' in window && imageOrFileOrBlobOrUrl instanceof OffscreenCanvas\n            || 'ImageBitmap' in window && imageOrFileOrBlobOrUrl instanceof ImageBitmap) {\n            return imageOrFileOrBlobOrUrl;\n        } else if (imageOrFileOrBlobOrUrl instanceof File || imageOrFileOrBlobOrUrl instanceof Blob\n            || imageOrFileOrBlobOrUrl instanceof URL || typeof imageOrFileOrBlobOrUrl === 'string') {\n            const image = new Image();\n            if (imageOrFileOrBlobOrUrl instanceof File || imageOrFileOrBlobOrUrl instanceof Blob) {\n                image.src = URL.createObjectURL(imageOrFileOrBlobOrUrl);\n            } else {\n                image.src = imageOrFileOrBlobOrUrl.toString();\n            }\n            try {\n                await QrScanner._awaitImageLoad(image);\n                return image;\n            } finally {\n                if (imageOrFileOrBlobOrUrl instanceof File || imageOrFileOrBlobOrUrl instanceof Blob) {\n                    URL.revokeObjectURL(image.src);\n                }\n            }\n        } else {\n            throw 'Unsupported image type.';\n        }\n    }\n\n    private static async _awaitImageLoad(image: HTMLImageElement): Promise<void> {\n        if (image.complete && image.naturalWidth !== 0) return; // already loaded\n        await new Promise<void>((resolve, reject) => {\n            const listener = (event: ErrorEvent | Event) => {\n                image.removeEventListener('load', listener);\n                image.removeEventListener('error', listener);\n                if (event instanceof ErrorEvent) {\n                    reject('Image load error');\n                } else {\n                    resolve();\n                }\n            };\n            image.addEventListener('load', listener);\n            image.addEventListener('error', listener);\n        });\n    }\n\n    private static async _postWorkerMessage(\n        qrEngineOrQrEnginePromise: Worker | BarcodeDetector | Promise<Worker | BarcodeDetector>,\n        type: string,\n        data?: any,\n        transfer?: Transferable[],\n    ): Promise<number> {\n        return QrScanner._postWorkerMessageSync(await qrEngineOrQrEnginePromise, type, data, transfer);\n    }\n\n    // sync version of _postWorkerMessage without performance overhead of async functions\n    private static _postWorkerMessageSync(\n        qrEngine: Worker | BarcodeDetector,\n        type: string,\n        data?: any,\n        transfer?: Transferable[],\n    ): number {\n        if (!(qrEngine instanceof Worker)) return -1;\n        const id = QrScanner._workerMessageId++;\n        qrEngine.postMessage({\n            id,\n            type,\n            data,\n        }, transfer);\n        return id;\n    }\n}\n\ndeclare namespace QrScanner {\n    export interface ScanRegion {\n        x?: number;\n        y?: number;\n        width?: number;\n        height?: number;\n        downScaledWidth?: number;\n        downScaledHeight?: number;\n    }\n\n    export type FacingMode = 'environment' | 'user';\n    export type DeviceId = string;\n\n    export interface Camera {\n        id: DeviceId;\n        label: string;\n    }\n\n    export type InversionMode = 'original' | 'invert' | 'both';\n\n    export interface Point {\n        x: number;\n        y: number;\n    }\n\n    export interface ScanResult {\n        data: string;\n        // In clockwise order, starting at top left, but this might not be guaranteed in the future.\n        cornerPoints: QrScanner.Point[];\n    }\n}\n\n// simplified from https://wicg.github.io/shape-detection-api/#barcode-detection-api\ndeclare class BarcodeDetector {\n    constructor(options?: { formats: string[] });\n    static getSupportedFormats(): Promise<string[]>;\n    detect(image: ImageBitmapSource): Promise<Array<{ rawValue: string, cornerPoints: QrScanner.Point[] }>>;\n}\n\n// simplified from https://github.com/lukewarlow/user-agent-data-types/blob/master/index.d.ts\ndeclare global {\n    interface Navigator {\n        readonly userAgentData?: {\n            readonly platform: string;\n            readonly brands: Array<{\n                readonly brand: string;\n                readonly version: string;\n            }>;\n            getHighEntropyValues(hints: string[]): Promise<{\n                readonly architecture?: string;\n                readonly platformVersion?: string;\n            }>;\n        };\n    }\n}\n\nexport default QrScanner;\n", "import { useEffect, useState } from 'react'\nimport { useSettings }         from '@/context/settings.js'\n\nimport type { GroupPackage, PeerConfig } from '@frostr/bifrost'\nimport { convert_pubkey } from '@frostr/bifrost/util'\n\nexport function PeerConfigField() {\n  const settings = useSettings()\n\n  const [ peers, setPeers ]     = useState<PeerConfig[]>([])\n  const [ changes, setChanges ] = useState<boolean>(false)\n  const [ saved, setSaved ]     = useState<boolean>(false)\n\n  // Update the peer policies in the store.\n  const update = () => {\n    settings.update({ peers })\n    setChanges(false)\n    setSaved(true)\n    setTimeout(() => setSaved(false), 1500)\n  }\n\n  // Discard changes by resetting local state from store\n  const cancel = () => {\n    setPeers(settings.data.peers)\n    setChanges(false)\n  }\n\n  // Update peer connectivity status locally\n  const update_peer = (idx: number, key: 'send' | 'recv', value: boolean) => {\n    setPeers(prev => {\n      const updated = [ ...prev ?? [] ]\n      updated[idx].policy[key] = value\n      return updated\n    })\n    setChanges(true)\n  }\n\n  useEffect(() => {\n    const { group, peers,pubkey } = settings.data\n    if (group !== null && pubkey !== null) {\n      if (peers.length === 0) {\n        setPeers(init_peers(group, pubkey))\n      } else {\n        setPeers(peers)\n      }\n    }\n  }, [ settings.data ])\n\n  useEffect(() => {\n    if (settings.data.pubkey === null) {\n      setPeers([])\n    } else if (\n      settings.data.peers.length === 0 &&\n      settings.data.group !== null\n    ) {\n      setPeers(init_peers(settings.data.group, settings.data.pubkey))\n    }\n  }, [ settings.data.pubkey ])\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"section-header\">Peer Connections</h2>\n      <p className=\"description\">Configure how you communicate with other peers in your signing group. \"Send\" will send signature requests to that peer, and \"Sign\" will co-sign requests from that peer.</p>\n\n      {peers.length === 0 &&\n        <p className=\"description\">You must configure your node's credentials first.</p>\n      }\n\n      {peers.length > 0 &&\n        <div>\n          <table>\n            <thead>\n              <tr>\n                <th>Peer Public Key</th>\n                <th className=\"checkbox-cell\">Send</th>\n                <th className=\"checkbox-cell\">Sign</th>\n              </tr>\n            </thead>\n            <tbody>\n              {peers.map((peer, idx) => (\n                <tr key={idx}>\n                  <td className=\"pubkey-cell\">{peer.pubkey.slice(2)}</td>\n                  <td className=\"checkbox-cell\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"peer-checkbox\"\n                      checked={peer.policy.send}\n                      onChange={() => update_peer(idx, 'send', !peer.policy.send)}\n                    />\n                  </td>\n                  <td className=\"checkbox-cell\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"peer-checkbox\"\n                      checked={peer.policy.recv}\n                      onChange={() => update_peer(idx, 'recv', !peer.policy.recv)}\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          \n          <div className=\"action-buttons\">\n            <button \n              onClick={update}\n              disabled={!changes}\n              className={`button button-primary action-button ${saved ? 'saved-button' : ''}`}\n            >\n              {saved ? 'Saved' : 'Save'}\n            </button>\n            \n            {changes && (\n              <button \n                onClick={cancel}\n                className=\"button\"\n              >\n                Cancel\n              </button>\n            )}\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nfunction init_peers (\n  group  : GroupPackage,\n  pubkey : string\n) : PeerConfig[] {\n  const filtered = group.commits.filter(commit => convert_pubkey(commit.pubkey, 'bip340') !== pubkey)\n  return filtered.map(commit => ({\n    pubkey : commit.pubkey,\n    policy : { send: false, recv: true }\n  }))\n}\n", "import { useEffect, useState } from 'react'\nimport { useSettings }         from '@/context/settings.js'\n\nimport type { RelayPolicy } from '@/types/index.js'\n\nexport function RelayConfigField() {\n  const store = useSettings()\n\n  const [ relays, setRelays ]   = useState<RelayPolicy[]>(store.data.relays ?? [])\n  const [ relayUrl, setUrl ]    = useState('')\n  const [ changes, setChanges ] = useState<boolean>(false)\n  const [ error, setError ]     = useState<string | null>(null)\n  const [ saved, setSaved ]     = useState<boolean>(false)\n\n  // Update the peer policies in the store.\n  const update = () => {\n    // TODO: PWA storage update\n    store.update({ relays })\n    setChanges(false)\n    setSaved(true)\n    setTimeout(() => setSaved(false), 1500)\n  }\n\n  // Discard changes by resetting local state from store\n  const cancel = () => {\n    setRelays(store.data.relays)\n    setChanges(false)\n  }\n  \n  // Update relay enabled status locally\n  const update_relay = (idx: number, key: 'read' | 'write') => {\n    const policies = [ ...relays ]\n    policies[idx][key] = !policies[idx][key]\n    setRelays(policies)\n    setChanges(true)\n  }\n  \n  // Add a new relay to local state\n  const add_relay = () => {  \n    if (!relayUrl.trim()) return\n    \n    if (!(relayUrl.startsWith('wss://') || relayUrl.startsWith('ws://'))) {\n      setError('Relay URL must start with wss:// or ws://')\n    } else if (!validateUrl(relayUrl)) {\n      setError('Invalid URL format')\n    } else if (relays.some(relay => relay.url === relayUrl)) {\n      setError('Relay already exists')\n    } else {\n      setRelays(prev => [ ...prev, { url: relayUrl, read: true, write: true } ])\n      setUrl('')\n      setChanges(true)\n    }\n  }\n  \n  // Remove a relay from local state\n  const remove_relay = (idx: number) => {\n    const filtered = relays.filter((_, i) => i !== idx)\n    setRelays(filtered)\n    setChanges(true)\n  }\n\n  useEffect(() => {\n    if (error !== null) setError(null)\n  }, [ relayUrl ])\n\n  useEffect(() => {\n    setRelays(store.data.relays ?? [])\n  }, [ store.data.relays ])\n  \n  return (\n    <div className=\"container\">\n      <h2 className=\"section-header\">Relay Connections</h2>\n      <p className=\"description\">Configure which relays your node will use to communicate. \"Read\" will enable listening for inbound requests, and \"Write\" will enable publishing outbound requests.</p>\n      \n      <table>\n        <thead>\n          <tr>\n            <th className=\"url-column\">Relay URL</th>\n            <th className=\"checkbox-cell\">Read</th>\n            <th className=\"checkbox-cell\">Write</th>\n            <th className=\"action-cell\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {relays.map((relay, idx) => (\n            <tr key={idx}>\n              <td>{relay.url}</td>\n              <td className=\"checkbox-cell\">\n                <input\n                  type=\"checkbox\"\n                  className=\"relay-checkbox\"\n                  checked={relay.read}\n                  onChange={() => update_relay(idx, 'read')}\n                />\n              </td>\n              <td className=\"checkbox-cell\">\n                <input\n                  type=\"checkbox\"\n                  className=\"relay-checkbox\"\n                  checked={relay.write}\n                  onChange={() => update_relay(idx, 'write')}\n                />\n              </td>\n              <td className=\"action-cell\">\n                <button \n                  onClick={() => remove_relay(idx)} \n                  className=\"button button-remove\"\n                >\n                  Remove\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      \n      <div className=\"input-group relay-controls\">\n        <input\n          type=\"text\"\n          value={relayUrl}\n          onChange={(e) => setUrl(e.target.value)}\n          placeholder=\"wss://relay.example.com\"\n          className=\"relay-input\"\n        />\n        <button onClick={add_relay} className=\"button add-relay-button\">\n          Add Relay\n        </button>\n      </div>\n      \n      <div className=\"action-buttons\">\n        <button \n          onClick={update}\n          disabled={!changes}\n          className={`button button-primary action-button ${saved ? 'saved-button' : ''}`}\n        >\n          {saved ? 'Saved' : 'Save'}\n        </button>\n        \n        {changes && (\n          <button \n            onClick={cancel}\n            className=\"button\"\n          >\n            Cancel\n          </button>\n        )}\n        <div className=\"notification-container\">\n          {error && <p className=\"error-text\">{error}</p>}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction validateUrl(url: string): boolean {\n  try {\n    new URL(url)\n    return true\n  } catch (e) {\n    return false\n  }\n}", "import { useSettings } from '@/context/settings.js'\n\nexport function ResetStoreField() {\n  const store = useSettings()\n\n  // Update the peer policies in the store.\n  const reset = () => {\n    store.reset()\n  }\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"section-header\">Reset Store</h2>\n      <p className=\"description\">Reset the store to the initial state.</p>\n\n      <button \n        onClick={reset}\n        className=\"button\"\n      >\n        Reset Store\n      </button>\n    </div>\n  )\n}\n", "import { useEffect, useState } from 'react'\nimport { get_pubkey }          from '@frostr/bifrost/util'\nimport { QRScanner }           from '@/components/util/scanner.js'\nimport { useSettings }         from '@/context/settings.js'\nimport { decode_share }        from '@/lib/encoder.js'\n\nimport {\n  decrypt_content,\n  encrypt_content\n} from '@/lib/enclave.js'\n\nexport function ShareConfigField() {\n  const settings = useSettings()\n  const share    = settings.data.share\n\n  const [ input, setInput ] = useState<string>('')\n  const [ error, setError ] = useState<string | null>(null)\n  const [ show, setShow   ] = useState<boolean>(false)\n  const [ saved, setSaved ] = useState<boolean>(false)\n\n  const [ password,   setPassword   ] = useState<string>('')\n  const [ isScanning, setIsScanning ] = useState<boolean>(false)\n\n  const decrypt = () => {\n    const decrypted = decrypt_content(input, password)\n    if (!decrypted) {\n      setError('failed to decrypt secret share')\n      return\n    }\n    if (!is_share_string(decrypted)) {\n      setError('decrypted secret share is invalid')\n      return\n    }\n    setInput(decrypted)\n  }\n\n  /**\n   * Handle the update of the store.\n   */\n  const update = () => {\n    // If an error exists, do not update the group.\n    if (error !== null) return\n    // If the input is empty,\n    if (input === '') {\n      // Update the store and return.\n      settings.update({ pubkey : null, share : null })\n      return\n    }\n    // If the input has invalid characters,\n    if (!is_share_string(input)) {\n      // Set an error and return.\n      setError('invalid share string')\n      return\n    }\n    // If the password is empty,\n    if (password.length < 8) {\n      // Set an error and return.\n      setError('password must be at least 8 characters')\n      return\n    }\n    // Parse the input into a group package.\n    const share = decode_share(input)\n    // If the credentials package is invalid,\n    if (share == null) {\n      // Set an error and return.\n      setError('failed to decode secret share')\n      return\n    }\n    // Get the public key from the secret key.\n    const pubkey    = get_pubkey(share.seckey, 'bip340')\n    // Update the credentials in the store.\n    const encrypted = encrypt_content(input, password)\n    // If encryption fails,\n    if (!encrypted) {\n      // Set an error and return.\n      setError('failed to encrypt secret share')\n      return\n    }\n    // Set the saved state, and reset it after a short delay.\n    settings.update({ pubkey, share : encrypted })\n    setSaved(true)\n    setTimeout(() => setSaved(false), 1500)\n  }\n\n  useEffect(() => {\n    if (settings.data.share === null) {\n      setInput('')\n    } else {\n      setInput(settings.data.share)\n    }\n  }, [ settings.data.share ])\n\n  /**\n   * Handle the validation of the input when it changes.\n   */\n  useEffect(() => {\n    // Once the input changes, clear any errors from submission.\n    if (error !== null) {\n      setError(null)\n    }\n  }, [ input, password ])\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"section-header\">Share Package</h2>\n      <p className=\"description\">Paste your encoded share string (starts with bfshare). It contains secret information about your signing share.</p>\n      <div className=\"content-container\">\n        <div className=\"input-with-button\">\n          <input\n            type={show ? \"text\" : \"password\"}\n            value={input}\n            onChange={e => setInput(e.target.value.trim())}\n            placeholder=\"bfshare...\"\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"enter a password to encrypt your share\"\n            className=\"nsec-input flex-input\"\n          />\n          <div className=\"input-actions\">\n            <button \n              className=\"button\"\n              onClick={() => setShow(!show)}\n            >\n              {show ? 'hide' : 'show'}\n            </button>\n            <button \n              className=\"button\"\n              onClick={() => decrypt()}\n            >\n              decrypt\n            </button>\n            <button\n              className=\"button\"\n              onClick={() => setIsScanning(!isScanning)}\n            >\n              {isScanning ? 'stop scan' : 'scan'}\n            </button>\n            <button\n              className={`button action-button ${saved ? 'saved-button' : ''}`} \n              onClick={update}\n              disabled={input === share || error !== null}\n            >\n              {saved ? 'saved' : 'save'}\n            </button>\n          </div>\n        </div>\n        \n        {isScanning && (\n          <QRScanner\n            onResult={(result: string) => {\n              setInput(result.trim())\n              setIsScanning(false)\n            }}\n            onError={() => {\n              setIsScanning(false)\n            }}\n          />\n        )}\n        \n        {input !== '' && error === null && show && (\n          <pre className=\"code-display\">\n            {get_share_json(input) ?? 'share package is encrypted or invalid'}\n          </pre>\n        )}\n        <div className=\"notification-container\">\n          {error && <p className=\"error-text\">{error}</p>}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n/**\n * Check if the input is a valid credential string.\n */\nfunction is_share_string(input : string) {\n  return /^bfshare1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(input)\n}\n\n/**\n * Get the share JSON from the input.\n */\nfunction get_share_json(input : string) {\n  if (!input.startsWith('bfshare')) return null\n  try {\n    const share = decode_share(input)\n    if (share === null) return null\n    return JSON.stringify(share, null, 2)\n  } catch {\n    return null\n  }\n}\n", "import { PackageEncoder as Encoder } from '@frostr/bifrost'\n\nexport function decode_share (share_str : string) {\n  // Try to decode the package:\n  try {\n    // Return the decoded share package.\n    return Encoder.share.decode(share_str)\n  } catch (err) {\n    // Print error to console.\n    console.error(err)\n    // Return null value.\n    return null\n  }\n}\n", "import { GroupConfigField }  from './group.js'\nimport { PeerConfigField }   from './peers.js'\nimport { RelayConfigField }  from './relays.js'\nimport { ResetStoreField }   from './reset.js'\nimport { ShareConfigField }  from './share.js'\n\nexport function SettingsView () {\n  return (\n    <>\n      <GroupConfigField       />\n      <ShareConfigField       />\n      <PeerConfigField        />\n      <RelayConfigField       />\n      <ResetStoreField        />\n    </>\n  )\n}\n", "import { useEffect, useState }   from 'react'\nimport { useBifrostNode }        from '@/context/node.js'\n\nimport { create_signing_bridge, executeAutoSigning } from '@/lib/signer.js'\n\nimport type { ReactElement } from 'react'\nimport type { NIP55Bridge }  from '@/types/bridge.js'\n\n/**\n * NIP-55 Bridge Component with Content Resolver Support\n *\n * Sets up the window.nostr.nip55 interface when the Bifrost node is ready.\n * Provides automatic permission support for Content Resolver background operations.\n *\n * Note: Android-side NIP55RequestQueue handles all deduplication, caching, and batching.\n * No PWA-side queues needed.\n */\nexport function NIP55Bridge(): ReactElement | null {\n  const node = useBifrostNode()\n  const [ _, set_bridge_ready ] = useState(false)\n\n  useEffect(() => {\n    console.log('[NIP55Bridge] Effect triggered, status:', node.status, 'client:', node.client ? 'EXISTS' : 'NULL')\n\n    // Initialize bridge when node is online, locked, or offline (connecting)\n    // Only disable for 'init' (not configured) or 'disabled' states\n    if (node.status === 'online' || node.status === 'locked' || node.status === 'offline') {\n      try {\n        // Create the enhanced signing bridge function\n        const signing_bridge = create_signing_bridge()\n\n        // Create clean consolidated bridge interface\n        const bridge: NIP55Bridge = {\n          ready: true,\n          nodeClient: node.client || null,  // May be null when locked, set when connecting/online\n          autoSign: executeAutoSigning\n        }\n\n        // Expose clean interface on window.nostr\n        if (!window.nostr) {\n          window.nostr = {}\n        }\n        window.nostr.nip55 = signing_bridge\n        window.nostr.bridge = bridge\n\n        console.log('[NIP55Bridge] Bridge set up, nodeClient:', node.client ? 'EXISTS' : 'NULL')\n        set_bridge_ready(true)\n\n      } catch {\n        set_bridge_ready(false)\n        // Clean up bridge on error\n        if (window.nostr?.bridge) {\n          window.nostr.bridge.ready = false\n          window.nostr.bridge.nodeClient = null\n        }\n      }\n    } else {\n      // Clean up bridge if node is not configured (init/disabled)\n      console.log('[NIP55Bridge] Cleaning up bridge, status:', node.status)\n      if (window.nostr?.nip55) {\n        delete window.nostr.nip55\n        if (window.nostr.bridge) {\n          window.nostr.bridge.ready = false\n          window.nostr.bridge.nodeClient = null\n        }\n        set_bridge_ready(false)\n      }\n    }\n  }, [node.client, node.status])\n\n  // This component doesn't render anything visible\n  // It just manages the global window.nostr.nip55 interface\n  return null\n}\n", "/**\n * Basic utils for ARX (add-rotate-xor) salsa and chacha ciphers.\n\nRFC8439 requires multi-step cipher stream, where\nauthKey starts with counter: 0, actual msg with counter: 1.\n\nFor this, we need a way to re-use nonce / counter:\n\n    const counter = new Uint8Array(4);\n    chacha(..., counter, ...); // counter is now 1\n    chacha(..., counter, ...); // counter is now 2\n\nThis is complicated:\n\n- 32-bit counters are enough, no need for 64-bit: max ArrayBuffer size in JS is 4GB\n- Original papers don't allow mutating counters\n- Counter overflow is undefined [^1]\n- Idea A: allow providing (nonce | counter) instead of just nonce, re-use it\n- Caveat: Cannot be re-used through all cases:\n- * chacha has (counter | nonce)\n- * xchacha has (nonce16 | counter | nonce16)\n- Idea B: separate nonce / counter and provide separate API for counter re-use\n- Caveat: there are different counter sizes depending on an algorithm.\n- salsa & chacha also differ in structures of key & sigma:\n  salsa20:      s[0] | k(4) | s[1] | nonce(2) | ctr(2) | s[2] | k(4) | s[3]\n  chacha:       s(4) | k(8) | ctr(1) | nonce(3)\n  chacha20orig: s(4) | k(8) | ctr(2) | nonce(2)\n- Idea C: helper method such as `setSalsaState(key, nonce, sigma, data)`\n- Caveat: we can't re-use counter array\n\nxchacha [^2] uses the subkey and remaining 8 byte nonce with ChaCha20 as normal\n(prefixed by 4 NUL bytes, since [RFC8439] specifies a 12-byte nonce).\n\n[^1]: https://mailarchive.ietf.org/arch/msg/cfrg/gsOnTJzcbgG6OqD8Sc0GO5aR_tU/\n[^2]: https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha#appendix-A.2\n\n * @module\n */\n// prettier-ignore\nimport {\n  type XorStream, abool, abytes, anumber, checkOpts, clean, copyBytes, u32\n} from './utils.ts';\n\n// We can't make top-level var depend on utils.utf8ToBytes\n// because it's not present in all envs. Creating a similar fn here\nconst _utf8ToBytes = (str: string) => Uint8Array.from(str.split('').map((c) => c.charCodeAt(0)));\nconst sigma16 = _utf8ToBytes('expand 16-byte k');\nconst sigma32 = _utf8ToBytes('expand 32-byte k');\nconst sigma16_32 = u32(sigma16);\nconst sigma32_32 = u32(sigma32);\n\nexport function rotl(a: number, b: number): number {\n  return (a << b) | (a >>> (32 - b));\n}\n\n/** Ciphers must use u32 for efficiency. */\nexport type CipherCoreFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  output: Uint32Array,\n  counter: number,\n  rounds?: number\n) => void;\n\n/** Method which extends key + short nonce into larger nonce / diff key. */\nexport type ExtendNonceFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  input: Uint32Array,\n  output: Uint32Array\n) => void;\n\n/** ARX cipher options.\n * * `allowShortKeys` for 16-byte keys\n * * `counterLength` in bytes\n * * `counterRight`: right: `nonce|counter`; left: `counter|nonce`\n * */\nexport type CipherOpts = {\n  allowShortKeys?: boolean; // Original salsa / chacha allow 16-byte keys\n  extendNonceFn?: ExtendNonceFn;\n  counterLength?: number;\n  counterRight?: boolean;\n  rounds?: number;\n};\n\n// Is byte array aligned to 4 byte offset (u32)?\nfunction isAligned32(b: Uint8Array) {\n  return b.byteOffset % 4 === 0;\n}\n\n// Salsa and Chacha block length is always 512-bit\nconst BLOCK_LEN = 64;\nconst BLOCK_LEN32 = 16;\n\n// new Uint32Array([2**32])   // => Uint32Array(1) [ 0 ]\n// new Uint32Array([2**32-1]) // => Uint32Array(1) [ 4294967295 ]\nconst MAX_COUNTER = 2 ** 32 - 1;\n\nconst U32_EMPTY = new Uint32Array();\nfunction runCipher(\n  core: CipherCoreFn,\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  data: Uint8Array,\n  output: Uint8Array,\n  counter: number,\n  rounds: number\n): void {\n  const len = data.length;\n  const block = new Uint8Array(BLOCK_LEN);\n  const b32 = u32(block);\n  // Make sure that buffers aligned to 4 bytes\n  const isAligned = isAligned32(data) && isAligned32(output);\n  const d32 = isAligned ? u32(data) : U32_EMPTY;\n  const o32 = isAligned ? u32(output) : U32_EMPTY;\n  for (let pos = 0; pos < len; counter++) {\n    core(sigma, key, nonce, b32, counter, rounds);\n    if (counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    const take = Math.min(BLOCK_LEN, len - pos);\n    // aligned to 4 bytes\n    if (isAligned && take === BLOCK_LEN) {\n      const pos32 = pos / 4;\n      if (pos % 4 !== 0) throw new Error('arx: invalid block position');\n      for (let j = 0, posj: number; j < BLOCK_LEN32; j++) {\n        posj = pos32 + j;\n        o32[posj] = d32[posj] ^ b32[j];\n      }\n      pos += BLOCK_LEN;\n      continue;\n    }\n    for (let j = 0, posj; j < take; j++) {\n      posj = pos + j;\n      output[posj] = data[posj] ^ block[j];\n    }\n    pos += take;\n  }\n}\n\n/** Creates ARX-like (ChaCha, Salsa) cipher stream from core function. */\nexport function createCipher(core: CipherCoreFn, opts: CipherOpts): XorStream {\n  const { allowShortKeys, extendNonceFn, counterLength, counterRight, rounds } = checkOpts(\n    { allowShortKeys: false, counterLength: 8, counterRight: false, rounds: 20 },\n    opts\n  );\n  if (typeof core !== 'function') throw new Error('core must be a function');\n  anumber(counterLength);\n  anumber(rounds);\n  abool(counterRight);\n  abool(allowShortKeys);\n  return (\n    key: Uint8Array,\n    nonce: Uint8Array,\n    data: Uint8Array,\n    output?: Uint8Array,\n    counter = 0\n  ): Uint8Array => {\n    abytes(key);\n    abytes(nonce);\n    abytes(data);\n    const len = data.length;\n    if (output === undefined) output = new Uint8Array(len);\n    abytes(output);\n    anumber(counter);\n    if (counter < 0 || counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    if (output.length < len)\n      throw new Error(`arx: output (${output.length}) is shorter than data (${len})`);\n    const toClean = [];\n\n    // Key & sigma\n    // key=16 -> sigma16, k=key|key\n    // key=32 -> sigma32, k=key\n    let l = key.length;\n    let k: Uint8Array;\n    let sigma: Uint32Array;\n    if (l === 32) {\n      toClean.push((k = copyBytes(key)));\n      sigma = sigma32_32;\n    } else if (l === 16 && allowShortKeys) {\n      k = new Uint8Array(32);\n      k.set(key);\n      k.set(key, 16);\n      sigma = sigma16_32;\n      toClean.push(k);\n    } else {\n      throw new Error(`arx: invalid 32-byte key, got length=${l}`);\n    }\n\n    // Nonce\n    // salsa20:      8   (8-byte counter)\n    // chacha20orig: 8   (8-byte counter)\n    // chacha20:     12  (4-byte counter)\n    // xsalsa20:     24  (16 -> hsalsa,  8 -> old nonce)\n    // xchacha20:    24  (16 -> hchacha, 8 -> old nonce)\n    // Align nonce to 4 bytes\n    if (!isAligned32(nonce)) toClean.push((nonce = copyBytes(nonce)));\n\n    const k32 = u32(k);\n    // hsalsa & hchacha: handle extended nonce\n    if (extendNonceFn) {\n      if (nonce.length !== 24) throw new Error(`arx: extended nonce must be 24 bytes`);\n      extendNonceFn(sigma, k32, u32(nonce.subarray(0, 16)), k32);\n      nonce = nonce.subarray(16);\n    }\n\n    // Handle nonce counter\n    const nonceNcLen = 16 - counterLength;\n    if (nonceNcLen !== nonce.length)\n      throw new Error(`arx: nonce must be ${nonceNcLen} or 16 bytes`);\n\n    // Pad counter when nonce is 64 bit\n    if (nonceNcLen !== 12) {\n      const nc = new Uint8Array(12);\n      nc.set(nonce, counterRight ? 0 : 12 - nonce.length);\n      nonce = nc;\n      toClean.push(nonce);\n    }\n    const n32 = u32(nonce);\n    runCipher(core, sigma, k32, n32, data, output, counter, rounds);\n    clean(...toClean);\n    return output;\n  };\n}\n", "/**\n * Poly1305 ([PDF](https://cr.yp.to/mac/poly1305-20050329.pdf),\n * [wiki](https://en.wikipedia.org/wiki/Poly1305))\n * is a fast and parallel secret-key message-authentication code suitable for\n * a wide variety of applications. It was standardized in\n * [RFC 8439](https://datatracker.ietf.org/doc/html/rfc8439) and is now used in TLS 1.3.\n *\n * Polynomial MACs are not perfect for every situation:\n * they lack Random Key Robustness: the MAC can be forged, and can't be used in PAKE schemes.\n * See [invisible salamanders attack](https://keymaterial.net/2020/09/07/invisible-salamanders-in-aes-gcm-siv/).\n * To combat invisible salamanders, `hash(key)` can be included in ciphertext,\n * however, this would violate ciphertext indistinguishability:\n * an attacker would know which key was used - so `HKDF(key, i)`\n * could be used instead.\n *\n * Check out [original website](https://cr.yp.to/mac.html).\n * @module\n */\nimport { Hash, type Input, abytes, aexists, aoutput, clean, toBytes } from './utils.ts';\n\n// Based on Public Domain poly1305-donna https://github.com/floodyberry/poly1305-donna\nconst u8to16 = (a: Uint8Array, i: number) => (a[i++] & 0xff) | ((a[i++] & 0xff) << 8);\nclass Poly1305 implements Hash<Poly1305> {\n  readonly blockLen = 16;\n  readonly outputLen = 16;\n  private buffer = new Uint8Array(16);\n  private r = new Uint16Array(10);\n  private h = new Uint16Array(10);\n  private pad = new Uint16Array(8);\n  private pos = 0;\n  protected finished = false;\n\n  constructor(key: Input) {\n    key = toBytes(key);\n    abytes(key, 32);\n    const t0 = u8to16(key, 0);\n    const t1 = u8to16(key, 2);\n    const t2 = u8to16(key, 4);\n    const t3 = u8to16(key, 6);\n    const t4 = u8to16(key, 8);\n    const t5 = u8to16(key, 10);\n    const t6 = u8to16(key, 12);\n    const t7 = u8to16(key, 14);\n\n    // https://github.com/floodyberry/poly1305-donna/blob/e6ad6e091d30d7f4ec2d4f978be1fcfcbce72781/poly1305-donna-16.h#L47\n    this.r[0] = t0 & 0x1fff;\n    this.r[1] = ((t0 >>> 13) | (t1 << 3)) & 0x1fff;\n    this.r[2] = ((t1 >>> 10) | (t2 << 6)) & 0x1f03;\n    this.r[3] = ((t2 >>> 7) | (t3 << 9)) & 0x1fff;\n    this.r[4] = ((t3 >>> 4) | (t4 << 12)) & 0x00ff;\n    this.r[5] = (t4 >>> 1) & 0x1ffe;\n    this.r[6] = ((t4 >>> 14) | (t5 << 2)) & 0x1fff;\n    this.r[7] = ((t5 >>> 11) | (t6 << 5)) & 0x1f81;\n    this.r[8] = ((t6 >>> 8) | (t7 << 8)) & 0x1fff;\n    this.r[9] = (t7 >>> 5) & 0x007f;\n    for (let i = 0; i < 8; i++) this.pad[i] = u8to16(key, 16 + 2 * i);\n  }\n\n  private process(data: Uint8Array, offset: number, isLast = false) {\n    const hibit = isLast ? 0 : 1 << 11;\n    const { h, r } = this;\n    const r0 = r[0];\n    const r1 = r[1];\n    const r2 = r[2];\n    const r3 = r[3];\n    const r4 = r[4];\n    const r5 = r[5];\n    const r6 = r[6];\n    const r7 = r[7];\n    const r8 = r[8];\n    const r9 = r[9];\n\n    const t0 = u8to16(data, offset + 0);\n    const t1 = u8to16(data, offset + 2);\n    const t2 = u8to16(data, offset + 4);\n    const t3 = u8to16(data, offset + 6);\n    const t4 = u8to16(data, offset + 8);\n    const t5 = u8to16(data, offset + 10);\n    const t6 = u8to16(data, offset + 12);\n    const t7 = u8to16(data, offset + 14);\n\n    let h0 = h[0] + (t0 & 0x1fff);\n    let h1 = h[1] + (((t0 >>> 13) | (t1 << 3)) & 0x1fff);\n    let h2 = h[2] + (((t1 >>> 10) | (t2 << 6)) & 0x1fff);\n    let h3 = h[3] + (((t2 >>> 7) | (t3 << 9)) & 0x1fff);\n    let h4 = h[4] + (((t3 >>> 4) | (t4 << 12)) & 0x1fff);\n    let h5 = h[5] + ((t4 >>> 1) & 0x1fff);\n    let h6 = h[6] + (((t4 >>> 14) | (t5 << 2)) & 0x1fff);\n    let h7 = h[7] + (((t5 >>> 11) | (t6 << 5)) & 0x1fff);\n    let h8 = h[8] + (((t6 >>> 8) | (t7 << 8)) & 0x1fff);\n    let h9 = h[9] + ((t7 >>> 5) | hibit);\n\n    let c = 0;\n\n    let d0 = c + h0 * r0 + h1 * (5 * r9) + h2 * (5 * r8) + h3 * (5 * r7) + h4 * (5 * r6);\n    c = d0 >>> 13;\n    d0 &= 0x1fff;\n    d0 += h5 * (5 * r5) + h6 * (5 * r4) + h7 * (5 * r3) + h8 * (5 * r2) + h9 * (5 * r1);\n    c += d0 >>> 13;\n    d0 &= 0x1fff;\n\n    let d1 = c + h0 * r1 + h1 * r0 + h2 * (5 * r9) + h3 * (5 * r8) + h4 * (5 * r7);\n    c = d1 >>> 13;\n    d1 &= 0x1fff;\n    d1 += h5 * (5 * r6) + h6 * (5 * r5) + h7 * (5 * r4) + h8 * (5 * r3) + h9 * (5 * r2);\n    c += d1 >>> 13;\n    d1 &= 0x1fff;\n\n    let d2 = c + h0 * r2 + h1 * r1 + h2 * r0 + h3 * (5 * r9) + h4 * (5 * r8);\n    c = d2 >>> 13;\n    d2 &= 0x1fff;\n    d2 += h5 * (5 * r7) + h6 * (5 * r6) + h7 * (5 * r5) + h8 * (5 * r4) + h9 * (5 * r3);\n    c += d2 >>> 13;\n    d2 &= 0x1fff;\n\n    let d3 = c + h0 * r3 + h1 * r2 + h2 * r1 + h3 * r0 + h4 * (5 * r9);\n    c = d3 >>> 13;\n    d3 &= 0x1fff;\n    d3 += h5 * (5 * r8) + h6 * (5 * r7) + h7 * (5 * r6) + h8 * (5 * r5) + h9 * (5 * r4);\n    c += d3 >>> 13;\n    d3 &= 0x1fff;\n\n    let d4 = c + h0 * r4 + h1 * r3 + h2 * r2 + h3 * r1 + h4 * r0;\n    c = d4 >>> 13;\n    d4 &= 0x1fff;\n    d4 += h5 * (5 * r9) + h6 * (5 * r8) + h7 * (5 * r7) + h8 * (5 * r6) + h9 * (5 * r5);\n    c += d4 >>> 13;\n    d4 &= 0x1fff;\n\n    let d5 = c + h0 * r5 + h1 * r4 + h2 * r3 + h3 * r2 + h4 * r1;\n    c = d5 >>> 13;\n    d5 &= 0x1fff;\n    d5 += h5 * r0 + h6 * (5 * r9) + h7 * (5 * r8) + h8 * (5 * r7) + h9 * (5 * r6);\n    c += d5 >>> 13;\n    d5 &= 0x1fff;\n\n    let d6 = c + h0 * r6 + h1 * r5 + h2 * r4 + h3 * r3 + h4 * r2;\n    c = d6 >>> 13;\n    d6 &= 0x1fff;\n    d6 += h5 * r1 + h6 * r0 + h7 * (5 * r9) + h8 * (5 * r8) + h9 * (5 * r7);\n    c += d6 >>> 13;\n    d6 &= 0x1fff;\n\n    let d7 = c + h0 * r7 + h1 * r6 + h2 * r5 + h3 * r4 + h4 * r3;\n    c = d7 >>> 13;\n    d7 &= 0x1fff;\n    d7 += h5 * r2 + h6 * r1 + h7 * r0 + h8 * (5 * r9) + h9 * (5 * r8);\n    c += d7 >>> 13;\n    d7 &= 0x1fff;\n\n    let d8 = c + h0 * r8 + h1 * r7 + h2 * r6 + h3 * r5 + h4 * r4;\n    c = d8 >>> 13;\n    d8 &= 0x1fff;\n    d8 += h5 * r3 + h6 * r2 + h7 * r1 + h8 * r0 + h9 * (5 * r9);\n    c += d8 >>> 13;\n    d8 &= 0x1fff;\n\n    let d9 = c + h0 * r9 + h1 * r8 + h2 * r7 + h3 * r6 + h4 * r5;\n    c = d9 >>> 13;\n    d9 &= 0x1fff;\n    d9 += h5 * r4 + h6 * r3 + h7 * r2 + h8 * r1 + h9 * r0;\n    c += d9 >>> 13;\n    d9 &= 0x1fff;\n\n    c = ((c << 2) + c) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = c >>> 13;\n    d1 += c;\n\n    h[0] = d0;\n    h[1] = d1;\n    h[2] = d2;\n    h[3] = d3;\n    h[4] = d4;\n    h[5] = d5;\n    h[6] = d6;\n    h[7] = d7;\n    h[8] = d8;\n    h[9] = d9;\n  }\n\n  private finalize() {\n    const { h, pad } = this;\n    const g = new Uint16Array(10);\n    let c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    for (let i = 2; i < 10; i++) {\n      h[i] += c;\n      c = h[i] >>> 13;\n      h[i] &= 0x1fff;\n    }\n    h[0] += c * 5;\n    c = h[0] >>> 13;\n    h[0] &= 0x1fff;\n    h[1] += c;\n    c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    h[2] += c;\n\n    g[0] = h[0] + 5;\n    c = g[0] >>> 13;\n    g[0] &= 0x1fff;\n    for (let i = 1; i < 10; i++) {\n      g[i] = h[i] + c;\n      c = g[i] >>> 13;\n      g[i] &= 0x1fff;\n    }\n    g[9] -= 1 << 13;\n\n    let mask = (c ^ 1) - 1;\n    for (let i = 0; i < 10; i++) g[i] &= mask;\n    mask = ~mask;\n    for (let i = 0; i < 10; i++) h[i] = (h[i] & mask) | g[i];\n    h[0] = (h[0] | (h[1] << 13)) & 0xffff;\n    h[1] = ((h[1] >>> 3) | (h[2] << 10)) & 0xffff;\n    h[2] = ((h[2] >>> 6) | (h[3] << 7)) & 0xffff;\n    h[3] = ((h[3] >>> 9) | (h[4] << 4)) & 0xffff;\n    h[4] = ((h[4] >>> 12) | (h[5] << 1) | (h[6] << 14)) & 0xffff;\n    h[5] = ((h[6] >>> 2) | (h[7] << 11)) & 0xffff;\n    h[6] = ((h[7] >>> 5) | (h[8] << 8)) & 0xffff;\n    h[7] = ((h[8] >>> 8) | (h[9] << 5)) & 0xffff;\n\n    let f = h[0] + pad[0];\n    h[0] = f & 0xffff;\n    for (let i = 1; i < 8; i++) {\n      f = (((h[i] + pad[i]) | 0) + (f >>> 16)) | 0;\n      h[i] = f & 0xffff;\n    }\n    clean(g);\n  }\n  update(data: Input): this {\n    aexists(this);\n    data = toBytes(data);\n    abytes(data);\n    const { buffer, blockLen } = this;\n    const len = data.length;\n\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input\n      if (take === blockLen) {\n        for (; blockLen <= len - pos; pos += blockLen) this.process(data, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(buffer, 0, false);\n        this.pos = 0;\n      }\n    }\n    return this;\n  }\n  destroy() {\n    clean(this.h, this.r, this.buffer, this.pad);\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { buffer, h } = this;\n    let { pos } = this;\n    if (pos) {\n      buffer[pos++] = 1;\n      for (; pos < 16; pos++) buffer[pos] = 0;\n      this.process(buffer, 0, true);\n    }\n    this.finalize();\n    let opos = 0;\n    for (let i = 0; i < 8; i++) {\n      out[opos++] = h[i] >>> 0;\n      out[opos++] = h[i] >>> 8;\n    }\n    return out;\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n}\n\nexport type CHash = ReturnType<typeof wrapConstructorWithKey>;\nexport function wrapConstructorWithKey<H extends Hash<H>>(\n  hashCons: (key: Input) => Hash<H>\n): {\n  (msg: Input, key: Input): Uint8Array;\n  outputLen: number;\n  blockLen: number;\n  create(key: Input): Hash<H>;\n} {\n  const hashC = (msg: Input, key: Input): Uint8Array => hashCons(key).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(32));\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input) => hashCons(key);\n  return hashC;\n}\n\n/** Poly1305 MAC from RFC 8439. */\nexport const poly1305: CHash = wrapConstructorWithKey((key) => new Poly1305(key));\n", "/**\n * [ChaCha20](https://cr.yp.to/chacha.html) stream cipher, released\n * in 2008. Developed after Salsa20, ChaCha aims to increase diffusion per round.\n * It was standardized in [RFC 8439](https://datatracker.ietf.org/doc/html/rfc8439) and\n * is now used in TLS 1.3.\n *\n * [XChaCha20](https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha)\n * extended-nonce variant is also provided. Similar to XSalsa, it's safe to use with\n * randomly-generated nonces.\n *\n * Check out [PDF](http://cr.yp.to/chacha/chacha-20080128.pdf) and\n * [wiki](https://en.wikipedia.org/wiki/Salsa20).\n * @module\n */\nimport { createCipher, rotl } from './_arx.ts';\nimport { poly1305 } from './_poly1305.ts';\nimport {\n  type ARXCipher,\n  type CipherWithOutput,\n  type XorStream,\n  clean,\n  equalBytes,\n  getOutput,\n  u64Lengths,\n  wrapCipher,\n} from './utils.ts';\n\n/**\n * ChaCha core function.\n */\n// prettier-ignore\nfunction chachaCore(\n  s: Uint32Array, k: Uint32Array, n: Uint32Array, out: Uint32Array, cnt: number, rounds = 20\n): void {\n  let y00 = s[0], y01 = s[1], y02 = s[2], y03 = s[3], // \"expa\"   \"nd 3\"  \"2-by\"  \"te k\"\n    y04 = k[0], y05 = k[1], y06 = k[2], y07 = k[3],   // Key      Key     Key     Key\n    y08 = k[4], y09 = k[5], y10 = k[6], y11 = k[7],   // Key      Key     Key     Key\n    y12 = cnt, y13 = n[0], y14 = n[1], y15 = n[2];    // Counter  Counter\tNonce   Nonce\n  // Save state to temporary variables\n  let x00 = y00, x01 = y01, x02 = y02, x03 = y03,\n      x04 = y04, x05 = y05, x06 = y06, x07 = y07,\n      x08 = y08, x09 = y09, x10 = y10, x11 = y11,\n      x12 = y12, x13 = y13, x14 = y14, x15 = y15;\n  for (let r = 0; r < rounds; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  // Write output\n  let oi = 0;\n  out[oi++] = (y00 + x00) | 0; out[oi++] = (y01 + x01) | 0;\n  out[oi++] = (y02 + x02) | 0; out[oi++] = (y03 + x03) | 0;\n  out[oi++] = (y04 + x04) | 0; out[oi++] = (y05 + x05) | 0;\n  out[oi++] = (y06 + x06) | 0; out[oi++] = (y07 + x07) | 0;\n  out[oi++] = (y08 + x08) | 0; out[oi++] = (y09 + x09) | 0;\n  out[oi++] = (y10 + x10) | 0; out[oi++] = (y11 + x11) | 0;\n  out[oi++] = (y12 + x12) | 0; out[oi++] = (y13 + x13) | 0;\n  out[oi++] = (y14 + x14) | 0; out[oi++] = (y15 + x15) | 0;\n}\n/**\n * hchacha helper method, used primarily in xchacha, to hash\n * key and nonce into key' and nonce'.\n * Same as chachaCore, but there doesn't seem to be a way to move the block\n * out without 25% performance hit.\n */\n// prettier-ignore\nexport function hchacha(\n  s: Uint32Array, k: Uint32Array, i: Uint32Array, o32: Uint32Array\n): void {\n  let x00 = s[0], x01 = s[1], x02 = s[2], x03 = s[3],\n      x04 = k[0], x05 = k[1], x06 = k[2], x07 = k[3],\n      x08 = k[4], x09 = k[5], x10 = k[6], x11 = k[7],\n      x12 = i[0], x13 = i[1], x14 = i[2], x15 = i[3];\n  for (let r = 0; r < 20; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  let oi = 0;\n  o32[oi++] = x00; o32[oi++] = x01;\n  o32[oi++] = x02; o32[oi++] = x03;\n  o32[oi++] = x12; o32[oi++] = x13;\n  o32[oi++] = x14; o32[oi++] = x15;\n}\n/**\n * Original, non-RFC chacha20 from DJB. 8-byte nonce, 8-byte counter.\n */\nexport const chacha20orig: XorStream = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  allowShortKeys: true,\n});\n/**\n * ChaCha stream cipher. Conforms to RFC 8439 (IETF, TLS). 12-byte nonce, 4-byte counter.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20: XorStream = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  allowShortKeys: false,\n});\n\n/**\n * XChaCha eXtended-nonce ChaCha. 24-byte nonce.\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n */\nexport const xchacha20: XorStream = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  extendNonceFn: hchacha,\n  allowShortKeys: false,\n});\n\n/**\n * Reduced 8-round chacha, described in original paper.\n */\nexport const chacha8: XorStream = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 8,\n});\n\n/**\n * Reduced 12-round chacha, described in original paper.\n */\nexport const chacha12: XorStream = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 12,\n});\n\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\n// Pad to digest size with zeros\nconst updatePadded = (h: ReturnType<typeof poly1305.create>, msg: Uint8Array) => {\n  h.update(msg);\n  const left = msg.length % 16;\n  if (left) h.update(ZEROS16.subarray(left));\n};\n\nconst ZEROS32 = /* @__PURE__ */ new Uint8Array(32);\nfunction computeTag(\n  fn: XorStream,\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n): Uint8Array {\n  const authKey = fn(key, nonce, ZEROS32);\n  const h = poly1305.create(authKey);\n  if (AAD) updatePadded(h, AAD);\n  updatePadded(h, data);\n  const num = u64Lengths(data.length, AAD ? AAD.length : 0, true);\n  h.update(num);\n  const res = h.digest();\n  clean(authKey, num);\n  return res;\n}\n\n/**\n * AEAD algorithm from RFC 8439.\n * Salsa20 and chacha (RFC 8439) use poly1305 differently.\n * We could have composed them similar to:\n * https://github.com/paulmillr/scure-base/blob/b266c73dde977b1dd7ef40ef7a23cc15aab526b3/index.ts#L250\n * But it's hard because of authKey:\n * In salsa20, authKey changes position in salsa stream.\n * In chacha, authKey can't be computed inside computeTag, it modifies the counter.\n */\nexport const _poly1305_aead =\n  (xorStream: XorStream) =>\n  (key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): CipherWithOutput => {\n    const tagLength = 16;\n    return {\n      encrypt(plaintext: Uint8Array, output?: Uint8Array) {\n        const plength = plaintext.length;\n        output = getOutput(plength + tagLength, output, false);\n        output.set(plaintext);\n        const oPlain = output.subarray(0, -tagLength);\n        xorStream(key, nonce, oPlain, oPlain, 1);\n        const tag = computeTag(xorStream, key, nonce, oPlain, AAD);\n        output.set(tag, plength); // append tag\n        clean(tag);\n        return output;\n      },\n      decrypt(ciphertext: Uint8Array, output?: Uint8Array) {\n        output = getOutput(ciphertext.length - tagLength, output, false);\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = computeTag(xorStream, key, nonce, data, AAD);\n        if (!equalBytes(passedTag, tag)) throw new Error('invalid tag');\n        output.set(ciphertext.subarray(0, -tagLength));\n        xorStream(key, nonce, output, output, 1); // start stream with i=1\n        clean(tag);\n        return output;\n      },\n    };\n  };\n\n/**\n * ChaCha20-Poly1305 from RFC 8439.\n *\n * Unsafe to use random nonces under the same key, due to collision chance.\n * Prefer XChaCha instead.\n */\nexport const chacha20poly1305: ARXCipher = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 12, tagLength: 16 },\n  _poly1305_aead(chacha20)\n);\n/**\n * XChaCha20-Poly1305 extended-nonce chacha.\n *\n * Can be safely used with random nonces (CSPRNG).\n * See [IRTF draft](https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha).\n */\nexport const xchacha20poly1305: ARXCipher = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 24, tagLength: 16 },\n  _poly1305_aead(xchacha20)\n);\n", "/**\n * HKDF (RFC 5869): extract + expand in one step.\n * See https://soatok.blog/2021/11/17/understanding-hkdf/.\n * @module\n */\nimport { hmac } from './hmac.ts';\nimport { ahash, anumber, type CHash, clean, type Input, toBytes } from './utils.ts';\n\n/**\n * HKDF-extract from spec. Less important part. `HKDF-Extract(IKM, salt) -> PRK`\n * Arguments position differs from spec (IKM is first one, since it is not optional)\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n */\nexport function extract(hash: CHash, ikm: Input, salt?: Input): Uint8Array {\n  ahash(hash);\n  // NOTE: some libraries treat zero-length array as 'not provided';\n  // we don't, since we have undefined as 'not provided'\n  // https://github.com/RustCrypto/KDFs/issues/15\n  if (salt === undefined) salt = new Uint8Array(hash.outputLen);\n  return hmac(hash, toBytes(salt), toBytes(ikm));\n}\n\nconst HKDF_COUNTER = /* @__PURE__ */ Uint8Array.from([0]);\nconst EMPTY_BUFFER = /* @__PURE__ */ Uint8Array.of();\n\n/**\n * HKDF-expand from the spec. The most important part. `HKDF-Expand(PRK, info, L) -> OKM`\n * @param hash - hash function that would be used (e.g. sha256)\n * @param prk - a pseudorandom key of at least HashLen octets (usually, the output from the extract step)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in bytes\n */\nexport function expand(hash: CHash, prk: Input, info?: Input, length: number = 32): Uint8Array {\n  ahash(hash);\n  anumber(length);\n  const olen = hash.outputLen;\n  if (length > 255 * olen) throw new Error('Length should be <= 255*HashLen');\n  const blocks = Math.ceil(length / olen);\n  if (info === undefined) info = EMPTY_BUFFER;\n  // first L(ength) octets of T\n  const okm = new Uint8Array(blocks * olen);\n  // Re-use HMAC instance between blocks\n  const HMAC = hmac.create(hash, prk);\n  const HMACTmp = HMAC._cloneInto();\n  const T = new Uint8Array(HMAC.outputLen);\n  for (let counter = 0; counter < blocks; counter++) {\n    HKDF_COUNTER[0] = counter + 1;\n    // T(0) = empty string (zero length)\n    // T(N) = HMAC-Hash(PRK, T(N-1) | info | N)\n    HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T)\n      .update(info)\n      .update(HKDF_COUNTER)\n      .digestInto(T);\n    okm.set(T, olen * counter);\n    HMAC._cloneInto(HMACTmp);\n  }\n  HMAC.destroy();\n  HMACTmp.destroy();\n  clean(T, HKDF_COUNTER);\n  return okm.slice(0, length);\n}\n\n/**\n * HKDF (RFC 5869): derive keys from an initial input.\n * Combines hkdf_extract + hkdf_expand in one step\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in bytes\n * @example\n * import { hkdf } from '@noble/hashes/hkdf';\n * import { sha256 } from '@noble/hashes/sha2';\n * import { randomBytes } from '@noble/hashes/utils';\n * const inputKey = randomBytes(32);\n * const salt = randomBytes(32);\n * const info = 'application-key';\n * const hk1 = hkdf(sha256, inputKey, salt, info, 32);\n */\nexport const hkdf = (\n  hash: CHash,\n  ikm: Input,\n  salt: Input | undefined,\n  info: Input | undefined,\n  length: number\n): Uint8Array => expand(hash, extract(hash, ikm, salt), info, length);\n", "import { Buff }        from '@cmdcode/buff'\nimport { base64 }      from '@scure/base'\nimport { hmac }        from '@noble/hashes/hmac.js'\nimport { sha256 }      from '@noble/hashes/sha2.js'\nimport { concatBytes } from '@noble/hashes/utils.js'\n\nimport {\n  extract as hkdf_extract,\n  expand as hkdf_expand\n} from '@noble/hashes/hkdf.js'\n\nconst encoder = new TextEncoder()\nconst decoder = new TextDecoder()\n\nconst minPlaintextSize = 0x0001 // 1b msg => padded to 32b\nconst maxPlaintextSize = 0xffff // 65535 (64kb-1) => padded to 64kb\n\nexport function get_conversation_key (shared_secret : string): Uint8Array {\n  const secret = Buff.hex(shared_secret)\n  return hkdf_extract(sha256, secret, Buff.str('nip44-v2'))\n}\n\nexport function get_message_keys (\n  convo_key : Uint8Array,\n  nonce     : Uint8Array,\n): { chacha_key: Uint8Array; chacha_nonce: Uint8Array; hmac_key: Uint8Array } {\n  const keys = hkdf_expand(sha256, convo_key, nonce, 76)\n  return {\n    chacha_key   : keys.subarray(0, 32),\n    chacha_nonce : keys.subarray(32, 44),\n    hmac_key     : keys.subarray(44, 76),\n  }\n}\n\nexport function calc_padded_len (len: number) : number {\n  if (!Number.isSafeInteger(len) || len < 1) throw new Error('expected positive integer')\n  if (len <= 32) return 32\n  const nextPower = 1 << (Math.floor(Math.log2(len - 1)) + 1)\n  const chunk = nextPower <= 256 ? 32 : nextPower / 8\n  return chunk * (Math.floor((len - 1) / chunk) + 1)\n}\n\nexport function write_u16_be (num: number) : Uint8Array {\n  if (!Number.isSafeInteger(num) || num < minPlaintextSize || num > maxPlaintextSize)\n    throw new Error('invalid plaintext size: must be between 1 and 65535 bytes')\n  const arr = new Uint8Array(2)\n  new DataView(arr.buffer).setUint16(0, num, false)\n  return arr\n}\n\nexport function pad (plaintext: string) : Uint8Array {\n  const unpadded    = encoder.encode(plaintext)\n  const unpaddedLen = unpadded.length\n  const prefix = write_u16_be(unpaddedLen)\n  const suffix = new Uint8Array(calc_padded_len(unpaddedLen) - unpaddedLen)\n  return concatBytes(prefix, unpadded, suffix)\n}\n\nexport function unpad (padded: Uint8Array) : string {\n  const unpaddedLen = new DataView(padded.buffer).getUint16(0)\n  const unpadded = padded.subarray(2, 2 + unpaddedLen)\n  if (\n    unpaddedLen < minPlaintextSize ||\n    unpaddedLen > maxPlaintextSize ||\n    unpadded.length !== unpaddedLen ||\n    padded.length !== 2 + calc_padded_len(unpaddedLen)\n  )\n    throw new Error('invalid padding')\n  return decoder.decode(unpadded)\n}\n\nexport function hmac_aad (\n  key     : Uint8Array,\n  message : Uint8Array,\n  aad     : Uint8Array\n) : Uint8Array {\n  if (aad.length !== 32) throw new Error('AAD associated data must be 32 bytes')\n  const combined = concatBytes(aad, message)\n  return hmac(sha256, key, combined)\n}\n\n// metadata: always 65b (version: 1b, nonce: 32b, max: 32b)\n// plaintext: 1b to 0xffff\n// padded plaintext: 32b to 0xffff\n// ciphertext: 32b+2 to 0xffff+2\n// raw payload: 99 (65+32+2) to 65603 (65+0xffff+2)\n// compressed payload (base64): 132b to 87472b\nexport function decode_payload (\n  payload: string\n) : { nonce: Uint8Array; ciphertext: Uint8Array; mac: Uint8Array } {\n  if (typeof payload !== 'string') throw new Error('payload must be a valid string')\n  const plen = payload.length\n  if (plen < 132 || plen > 87472) throw new Error('invalid payload length: ' + plen)\n  if (payload[0] === '#') throw new Error('unknown encryption version')\n  let data: Uint8Array\n  try {\n    data = base64.decode(payload)\n  } catch (error) {\n    throw new Error('invalid base64: ' + (error as any).message)\n  }\n  const dlen = data.length\n  if (dlen < 99 || dlen > 65603) throw new Error('invalid data length: ' + dlen)\n  const vers = data[0]\n  if (vers !== 2) throw new Error('unknown encryption version ' + vers)\n  return {\n    nonce: data.subarray(1, 33),\n    ciphertext: data.subarray(33, -32),\n    mac: data.subarray(-32),\n  }\n}\n", "import { Buff }       from '@cmdcode/buff'\nimport { cbc }        from '@noble/ciphers/aes.js'\nimport { chacha20 }   from '@noble/ciphers/chacha.js'\nimport { equalBytes } from '@noble/ciphers/utils.js'\nimport { base64 }     from '@scure/base'\n\nimport {\n  concatBytes,\n  randomBytes\n} from '@noble/hashes/utils.js'\n\nimport * as utils from './util.js'\n\n/**\n * Encrypts content using the NIP-44 encryption scheme.\n * @param secret The encryption key in hex format\n * @param plaintext The content to encrypt\n * @param nonce The nonce for the encryption (default is a random 32-byte array)\n * @returns The encrypted content in base64url format with the nonce and MAC  \n */\nexport function nip44_encrypt (\n  secret    : string,\n  plaintext : string, \n  nonce     : Uint8Array = randomBytes(32)): string {\n  const convo_key  = utils.get_conversation_key(secret)\n  const ctx        = utils.get_message_keys(convo_key, nonce)\n  const padded     = utils.pad(plaintext)\n  const ciphertext = chacha20(ctx.chacha_key, ctx.chacha_nonce, padded)\n  const mac        = utils.hmac_aad(ctx.hmac_key, ciphertext, nonce)\n  return base64.encode(concatBytes(new Uint8Array([2]), nonce, ciphertext, mac))\n}\n\n/**\n * Decrypts encrypted content using the provided secret.\n * @param secret  Decryption key in hex format\n * @param payload Encrypted content in base64url format\n * @returns       Decrypted content as string\n */\nexport function nip44_decrypt (\n  secret  : string,\n  payload : string\n): string {\n  const { nonce, ciphertext, mac } = utils.decode_payload(payload)\n  const convo_key      = utils.get_conversation_key(secret)\n  const ctx            = utils.get_message_keys(convo_key, nonce)\n  const calculated_mac = utils.hmac_aad(ctx.hmac_key, ciphertext, nonce)\n  if (!equalBytes(calculated_mac, mac)) throw new Error('invalid MAC')\n  const padded = chacha20(ctx.chacha_key, ctx.chacha_nonce, ciphertext)\n  return utils.unpad(padded)\n}\n\n/**\n * Encrypts content using AES-CBC with an optional initialization vector.\n * @param secret    Encryption key in hex format\n * @param content   Content to encrypt\n * @param iv        Optional initialization vector in hex format\n * @returns         Encrypted content in base64url format with IV\n */\nexport function nip04_encrypt (\n  secret  : string,\n  content : string,\n  iv?     : string\n) {\n  const cbytes = Buff.str(content)\n  const sbytes = Buff.hex(secret)\n  const vector = (iv !== undefined)\n    ? Buff.hex(iv, 16)\n    : Buff.random(16)\n  const encrypted = cbc(sbytes, vector).encrypt(cbytes)\n  return new Buff(encrypted).base64 + '?iv=' + vector.base64\n}\n\n/**\n * Decrypts AES-CBC encrypted content using provided secret.\n * @param secret    Decryption key in hex format\n * @param content   Encrypted content in base64url format with IV\n * @returns         Decrypted content as string\n */\nexport function nip04_decrypt (\n  secret  : string,\n  content : string\n) {\n  const [ encryped, iv ] = content.split('?iv=')\n  const cbytes = Buff.base64(encryped)\n  const sbytes = Buff.hex(secret)\n  const vector = Buff.base64(iv)\n  const decrypted = cbc(sbytes, vector).decrypt(cbytes)\n  return new Buff(decrypted).str\n}\n\n", "import { get_event_id }   from '@cmdcode/nostr-p2p/lib'\nimport { BifrostNode }    from '@frostr/bifrost'\nimport { convert_pubkey } from '@frostr/bifrost/util'\nimport * as cipher        from '@/lib/cipher.js'\n\nimport type { EventTemplate } from 'nostr-tools'\nimport type { SignedEvent }   from '@cmdcode/nostr-p2p'\n\nconst SIGN_METHODS : Record<string, string> = {\n  sign_event    : 'sign_event',\n  nip04_encrypt : 'nip04_encrypt',\n  nip04_decrypt : 'nip04_decrypt',\n  nip44_encrypt : 'nip44_encrypt',\n  nip44_decrypt : 'nip44_decrypt'\n}\n\n/**\n * BifrostSignDevice - Direct bifrost signing without PWA-side queuing\n *\n * Android-side NIP55RequestQueue handles all deduplication, caching, and batching.\n * This class now makes direct bifrost calls for simplicity.\n */\nexport class BifrostSignDevice {\n  private _node : BifrostNode\n\n  constructor (node : BifrostNode) {\n    this._node = node\n  }\n\n  get_methods () : string[] {\n    return Object.values(SIGN_METHODS)\n  }\n\n  get_pubkey () {\n    return this._node.group.group_pk.slice(2)\n  }\n\n  /**\n   * Get ECDH shared secret for a pubkey\n   * Direct bifrost call - Android handles all queuing/dedup\n   */\n  private async getECDHSecret (pubkey : string) : Promise<string> {\n    console.log('[BifrostSignDevice] getECDHSecret START for pubkey:', pubkey.slice(0, 16) + '...')\n    const startTime = Date.now()\n\n    try {\n      console.log('[BifrostSignDevice] Calling this._node.req.ecdh...')\n      const res = await this._node.req.ecdh(pubkey)\n      const duration = Date.now() - startTime\n      console.log('[BifrostSignDevice] ECDH response received:', 'ok:', res.ok, 'duration:', duration, 'ms')\n\n      if (!res.ok) {\n        console.error('[BifrostSignDevice] ECDH failed:', res.err)\n        throw new Error(res.err)\n      }\n\n      const secret = convert_pubkey(res.data, 'bip340')\n      console.log('[BifrostSignDevice] getECDHSecret COMPLETE, duration:', duration, 'ms')\n      return secret\n    } catch (error) {\n      const duration = Date.now() - startTime\n      console.error('[BifrostSignDevice] getECDHSecret ERROR after', duration, 'ms:', error)\n      throw error\n    }\n  }\n\n  /**\n   * Sign an event\n   * Direct bifrost call - Android handles all queuing/dedup\n   */\n  async sign_event (event : EventTemplate) : Promise<SignedEvent> {\n    const { content, created_at, kind, tags } = event\n    const pubkey = this._node.group.group_pk.slice(2)\n    const tmpl   = { content, created_at, kind, pubkey, tags }\n    const id     = get_event_id(tmpl)\n\n    console.log('[BifrostSignDevice] sign_event START for event id:', id.slice(0, 16) + '...', 'kind:', kind)\n    const startTime = Date.now()\n\n    try {\n      console.log('[BifrostSignDevice] Calling this._node.req.sign...')\n      const res = await this._node.req.sign(id)\n      const duration = Date.now() - startTime\n      console.log('[BifrostSignDevice] Sign response received:', 'ok:', res.ok, 'duration:', duration, 'ms')\n\n      if (!res.ok) {\n        console.error('[BifrostSignDevice] Sign failed:', res.err)\n        throw new Error(res.err)\n      }\n\n      const payload = res.data.at(0)\n      if (payload?.at(0) !== id) {\n        console.error('[BifrostSignDevice] Event ID mismatch:', payload?.at(0), 'vs', id)\n        throw new Error('event id mismatch')\n      }\n      if (payload?.at(1)?.slice(2) !== pubkey) {\n        console.error('[BifrostSignDevice] Pubkey mismatch')\n        throw new Error('event pubkey mismatch')\n      }\n\n      const sig = payload.at(2)\n      if (!sig) {\n        console.error('[BifrostSignDevice] Signature missing from response')\n        throw new Error('signature missing from response')\n      }\n\n      console.log('[BifrostSignDevice] sign_event COMPLETE, sig:', sig.slice(0, 16) + '...', 'duration:', duration, 'ms')\n      return { ...tmpl, id, sig }\n    } catch (error) {\n      const duration = Date.now() - startTime\n      console.error('[BifrostSignDevice] sign_event ERROR after', duration, 'ms:', error)\n      throw error\n    }\n  }\n\n  async nip04_encrypt (pubkey : string, plaintext : string) : Promise<string> {\n    const secret = await this.getECDHSecret(pubkey)\n    return cipher.nip04_encrypt(secret, plaintext)\n  }\n\n  async nip04_decrypt (pubkey : string, ciphertext : string) : Promise<string> {\n    const secret = await this.getECDHSecret(pubkey)\n    return cipher.nip04_decrypt(secret, ciphertext)\n  }\n\n  async nip44_encrypt (pubkey : string, plaintext : string) : Promise<string> {\n    const secret = await this.getECDHSecret(pubkey)\n    return cipher.nip44_encrypt(secret, plaintext)\n  }\n\n  async nip44_decrypt (pubkey : string, ciphertext : string) : Promise<string> {\n    const secret = await this.getECDHSecret(pubkey)\n    return cipher.nip44_decrypt(secret, ciphertext)\n  }\n}\n", "import { BifrostNode }                from '@frostr/bifrost'\nimport { BifrostSignDevice }         from '@/class/signer.js'\nimport { nip19 }                     from 'nostr-tools'\nimport { STORAGE_KEYS }              from '@/const.js'\n\nimport type {\n  NIP55Request,\n  NIP55WindowAPI,\n  NIP55Result\n} from '@/types/index.js'\n\n\n/**\n * Execute signing operation directly with the BifrostSignDevice\n */\nexport async function executeSigningOperation(signer: BifrostSignDevice, request: NIP55Request): Promise<any> {\n  console.log('[signer] executeSigningOperation START:', request.type, 'id:', request.id)\n  const startTime = Date.now()\n\n  try {\n    let result: any\n    switch (request.type) {\n      case 'get_public_key':\n        result = signer.get_pubkey()\n        break\n      case 'sign_event':\n        console.log('[signer] Calling signer.sign_event...')\n        result = await signer.sign_event(request.event)\n        break\n      case 'nip04_encrypt':\n        console.log('[signer] Calling signer.nip04_encrypt...')\n        result = await signer.nip04_encrypt(request.pubkey, request.plaintext)\n        break\n      case 'nip04_decrypt':\n        console.log('[signer] Calling signer.nip04_decrypt...')\n        result = await signer.nip04_decrypt(request.pubkey, request.ciphertext)\n        break\n      case 'nip44_encrypt':\n        console.log('[signer] Calling signer.nip44_encrypt...')\n        result = await signer.nip44_encrypt(request.pubkey, request.plaintext)\n        break\n      case 'nip44_decrypt':\n        console.log('[signer] Calling signer.nip44_decrypt...')\n        result = await signer.nip44_decrypt(request.pubkey, request.ciphertext)\n        break\n      case 'decrypt_zap_event':\n        throw new Error('decrypt_zap_event not implemented')\n      default:\n        throw new Error(`Unknown request type: ${(request as any).type}`)\n    }\n\n    const duration = Date.now() - startTime\n    console.log('[signer] executeSigningOperation COMPLETE:', request.type, 'duration:', duration, 'ms')\n    return result\n  } catch (error) {\n    const duration = Date.now() - startTime\n    console.error('[signer] executeSigningOperation ERROR:', request.type, 'duration:', duration, 'ms', 'error:', error)\n    throw error\n  }\n}\n\n/**\n * Execute automatic signing operation for Content Resolver requests\n * Clean implementation using bridge interface\n */\n/**\n * Wait for node client to become available (for auto-unlock scenarios)\n * Increased timeout to 10 seconds to allow for bifrost relay connection\n */\nasync function waitForNodeClient(maxWaitMs: number = 10000): Promise<BifrostNode | null> {\n  const startTime = Date.now()\n  console.log('[signer] waitForNodeClient: starting wait, max:', maxWaitMs, 'ms')\n\n  while (Date.now() - startTime < maxWaitMs) {\n    const client = window.nostr?.bridge?.nodeClient\n    if (client) {\n      console.log('[signer] waitForNodeClient: client found after', Date.now() - startTime, 'ms')\n      return client\n    }\n    // Wait 100ms before checking again\n    await new Promise(resolve => setTimeout(resolve, 100))\n  }\n\n  console.log('[signer] waitForNodeClient: timeout after', maxWaitMs, 'ms')\n  return null\n}\n\nexport async function executeAutoSigning(request: NIP55Request): Promise<NIP55Result> {\n  console.log('[signer] executeAutoSigning START:', request.type, 'id:', request.id)\n  const startTime = Date.now()\n\n  try {\n    // Check bridge availability\n    if (!window.nostr?.bridge?.ready) {\n      console.error('[signer] Bridge not ready')\n      throw new Error('NIP-55 bridge not ready')\n    }\n\n    let nodeClient = window.nostr.bridge.nodeClient\n    console.log('[signer] nodeClient available:', !!nodeClient)\n\n    // For get_public_key, we can read from settings even when locked\n    if (!nodeClient && request.type === 'get_public_key') {\n      // Try to get GROUP pubkey from settings (not share pubkey)\n      const stored_settings_json = localStorage.getItem(STORAGE_KEYS.SETTINGS)\n      if (stored_settings_json) {\n        const settings = JSON.parse(stored_settings_json)\n        // Return the FROSTR group pubkey, not the share pubkey\n        // Group pubkey is what signatures are verified against\n        if (settings.group?.group_pk) {\n          // group_pk has \"02\" prefix (compressed key), slice it off for hex pubkey\n          const groupPubkey = settings.group.group_pk.slice(2)\n          // Encode pubkey as npub for Coracle compatibility\n          const npub = nip19.npubEncode(groupPubkey)\n          return {\n            ok: true,\n            type: request.type,\n            id: request.id,\n            result: groupPubkey,  // Hex format for Amethyst - GROUP pubkey\n            npub: npub            // Bech32 format for Coracle\n          } as any\n        }\n      }\n      throw new Error('No public key available')\n    }\n\n    // For signing operations, check if auto-unlock might happen\n    if (!nodeClient && request.type !== 'get_public_key') {\n      // Check if there's a session password (indicates auto-unlock will happen)\n      const sessionPassword = sessionStorage.getItem(STORAGE_KEYS.SESSION_PASSWORD)\n      console.log('[signer] executeAutoSigning: nodeClient null, sessionPassword:', sessionPassword ? 'FOUND' : 'NOT_FOUND')\n\n      if (sessionPassword) {\n        // Wait up to 10 seconds for auto-unlock to complete (bifrost relay connection takes time)\n        nodeClient = await waitForNodeClient(10000)\n\n        if (!nodeClient) {\n          throw new Error('Auto-unlock timed out - node still locked')\n        }\n      } else {\n        throw new Error('Node is locked - please unlock to sign events')\n      }\n    }\n\n    // Node must be available at this point\n    if (!nodeClient) {\n      throw new Error('Node client not available')\n    }\n\n    // Create signer and execute operation\n    const signer = new BifrostSignDevice(nodeClient)\n    const result = await executeSigningOperation(signer, request)\n\n    // For get_public_key, add npub field for Coracle compatibility\n    if (request.type === 'get_public_key') {\n      const npub = nip19.npubEncode(result)\n      const duration = Date.now() - startTime\n      console.log('[signer] executeAutoSigning SUCCESS (get_public_key), duration:', duration, 'ms')\n      return {\n        ok: true,\n        type: request.type,\n        id: request.id,\n        result: result || '',  // Hex format for Amethyst\n        npub: npub             // Bech32 format for Coracle\n      } as any\n    }\n\n    const duration = Date.now() - startTime\n    console.log('[signer] executeAutoSigning SUCCESS:', request.type, 'duration:', duration, 'ms')\n    return {\n      ok: true,\n      type: request.type,\n      id: request.id,\n      result: result || ''\n    }\n\n  } catch (error) {\n    const duration = Date.now() - startTime\n    console.error('[signer] executeAutoSigning ERROR:', request.type, 'duration:', duration, 'ms', 'error:', error)\n    return {\n      ok: false,\n      type: request.type,\n      id: request.id,\n      reason: error instanceof Error ? error.message : 'Unknown signing error'\n    }\n  }\n}\n\n/**\n * NOTE: Manual prompt system removed - Android handles all prompting via native dialogs\n * PWA no longer shows permission prompts - permissions must be pre-approved in localStorage\n */\n\n/**\n * Create the main NIP-55 signing bridge function\n *\n * Pure signing interface - no permission checking\n * Android handles all permission logic via InvisibleNIP55Handler\n */\nexport function create_signing_bridge(): NIP55WindowAPI {\n  return async (request: NIP55Request): Promise<NIP55Result> => {\n    console.log('[signing_bridge] Request received:', request.type, 'id:', request.id)\n    const startTime = Date.now()\n\n    try {\n      // Basic input validation\n      if (!request.id || !request.type) {\n        throw new Error('Invalid request: missing id or type')\n      }\n\n      // Execute signing directly - Android already checked permissions\n      const result = await executeAutoSigning(request)\n\n      const duration = Date.now() - startTime\n      console.log('[signing_bridge] Returning result:', 'ok:', result.ok, 'duration:', duration, 'ms')\n      return result\n\n    } catch (error) {\n      const duration = Date.now() - startTime\n      console.error('[signing_bridge] Returning error:', error, 'duration:', duration, 'ms')\n      return {\n        ok     : false,\n        type   : request.type,\n        id     : request.id,\n        reason : error instanceof Error ? error.message : 'Unknown error'\n      }\n    }\n  }\n}\n", "import { Header }      from '@/components/layout/header.js'\nimport { Tabs }        from '@/components/layout/tabs.js'\nimport { NIP55Bridge } from '@/components/util/nip55.js'\n\n/**\n * Main application component\n *\n * Renders the core UI and initializes the NIP-55 signing bridge\n */\nexport function App () {\n  return (\n    <div className=\"app\">\n      <Header />\n      <Tabs />\n      <NIP55Bridge />\n    </div>\n  )\n}", "import { Component } from 'react'\nimport type { ReactNode } from 'react'\n\ninterface Props {\n  children: ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error: Error | null\n}\n\n/**\n * Error Boundary Component\n *\n * Catches JavaScript errors anywhere in the child component tree,\n * logs the error, and displays a fallback UI.\n */\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false, error: null }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\n    // Log error to console for debugging (kept intentionally for error tracking)\n    console.error('Igloo Error Boundary caught an error:', error, errorInfo)\n  }\n\n  handleReload = (): void => {\n    window.location.reload()\n  }\n\n  handleReset = (): void => {\n    this.setState({ hasError: false, error: null })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100vh',\n          padding: '20px',\n          textAlign: 'center',\n          fontFamily: 'system-ui, -apple-system, sans-serif',\n          backgroundColor: '#1a1a1a',\n          color: '#ffffff'\n        }}>\n          <h1 style={{ fontSize: '24px', marginBottom: '16px' }}>\n            Something went wrong\n          </h1>\n          <p style={{\n            color: '#999',\n            marginBottom: '24px',\n            maxWidth: '400px'\n          }}>\n            The application encountered an unexpected error.\n            Your data is safe - try reloading the page.\n          </p>\n          {this.state.error && (\n            <pre style={{\n              backgroundColor: '#2a2a2a',\n              padding: '12px 16px',\n              borderRadius: '8px',\n              fontSize: '12px',\n              color: '#ff6b6b',\n              marginBottom: '24px',\n              maxWidth: '100%',\n              overflow: 'auto',\n              textAlign: 'left'\n            }}>\n              {this.state.error.message}\n            </pre>\n          )}\n          <div style={{ display: 'flex', gap: '12px' }}>\n            <button\n              onClick={this.handleReload}\n              style={{\n                padding: '12px 24px',\n                fontSize: '14px',\n                backgroundColor: '#4a9eff',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                cursor: 'pointer'\n              }}\n            >\n              Reload Page\n            </button>\n            <button\n              onClick={this.handleReset}\n              style={{\n                padding: '12px 24px',\n                fontSize: '14px',\n                backgroundColor: '#333',\n                color: 'white',\n                border: '1px solid #555',\n                borderRadius: '8px',\n                cursor: 'pointer'\n              }}\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/global.css';\n              document.head.appendChild(link);\n            ", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/layout.css';\n              document.head.appendChild(link);\n            ", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/node.css';\n              document.head.appendChild(link);\n            ", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/console.css';\n              document.head.appendChild(link);\n            ", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/settings.css';\n              document.head.appendChild(link);\n            ", "\n              const link = document.createElement('link');\n              link.rel  = 'stylesheet';\n              link.href = 'styles/scanner.css';\n              document.head.appendChild(link);\n            "],
  "mappings": "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B,GACAkM,GACA5J,GACAyJ,GACAyB,EACA,EACA,GACA,CACF,EACAH,CACF,EACA,MAAM3lC,CACR,CACAkmC,GACER,EACAD,EACA9mB,GACAgmB,GACAD,GACAr/B,EACAizB,GACAkM,GACA5J,GACAyJ,GACAyB,EACA,EACA,GACA,CACF,CACF,CACF,CACA,KACF,OAAS,IACTP,GAAsB9E,CAAa,CACrC,CACA,SAASyF,GACP1gC,EACAw2B,EACAmK,EACAC,EACAC,EACAhhC,EACA0B,EACAC,EACAC,EACAq/B,EACAX,EACAY,EACAC,EACAC,EACA,CAGA,GAFAjhC,EAAK,cAAgB,GACrB+gC,EAAwBvK,EAAa,cAEnCuK,EAAwB,OACVA,EAAwB,YAAtC,YAGIG,GAAiB,CAAE,YAAa,KAAM,MAAO,EAAG,UAAWC,EAAK,EAClEvD,GAAiCpH,CAAY,EAC5CuK,EAAwBK,GAAuB,EACvCL,IAAT,MACA,CACA/gC,EAAK,oBAAsB+gC,EACzBM,GAAW,KACT,KACArhC,EACAw2B,EACA32B,EACA8gC,EACAC,EACAC,EACAt/B,EACAC,EACAC,EACA0+B,EACA,EACAa,EACAC,CACF,CACF,EACAnB,GAAkB9/B,EAAMH,EAAO0B,EAAa,CAACu/B,CAAwB,EACrE,MACF,CACFO,GACErhC,EACAw2B,EACA32B,EACA8gC,EACAC,EACAC,EACAt/B,EACAC,EACAC,CACF,CACF,CACA,SAAS8+B,GAAqC/J,EAAc,CAC1D,QAASz8B,EAAOy8B,IAAkB,CAChC,IAAIz7B,EAAMhB,EAAK,IACf,IACSgB,IAAN,GAAoBA,IAAP,IAAqBA,IAAP,KAC5BhB,EAAK,MAAQ,QACXgB,EAAMhB,EAAK,YACJgB,IAAT,OAAkBA,EAAMA,EAAI,OAAkBA,IAAT,OAErC,QAASlB,EAAI,EAAGA,EAAIkB,EAAI,OAAQlB,IAAK,CACnC,IAAIynC,EAAQvmC,EAAIlB,CAAC,EACfwqB,EAAcid,EAAM,YACtBA,EAAQA,EAAM,MACd,GAAI,CACF,GAAI,CAAC/vB,GAAS8S,EAAY,EAAGid,CAAK,EAAG,MAAO,EAC9C,OAA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EAC/BmpB,EAAW,gBAAgBnpB,CAAG,EAClC,MACF,IAAK,UACL,IAAK,WACIlR,IAAP,GACIq6B,EAAW,aAAanpB,EAAK,EAAE,EACxBlR,IAAP,IACUA,GAAR,MACe,OAAOA,GAAtB,YACa,OAAOA,GAApB,SACAq6B,EAAW,aAAanpB,EAAKlR,CAAK,EAClCq6B,EAAW,gBAAgBnpB,CAAG,EACpC,MACF,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACKlR,GAAR,MACe,OAAOA,GAAtB,YACa,OAAOA,GAApB,UACA,CAAC,MAAMA,CAAK,GACZ,GAAKA,EACDq6B,EAAW,aAAanpB,EAAKlR,CAAK,EAClCq6B,EAAW,gBAAgBnpB,CAAG,EAClC,MACF,IAAK,UACL,IAAK,QACKlR,GAAR,MACe,OAAOA,GAAtB,YACa,OAAOA,GAApB,UACA,MAAMA,CAAK,EACPq6B,EAAW,gBAAgBnpB,CAAG,EAC9BmpB,EAAW,aAAanpB,EAAKlR,CAAK,EACtC,MACF,IAAK,UACHib,GAA0B,eAAgBof,CAAU,EACpDpf,GAA0B,SAAUof,CAAU,EAC9CzyB,GAAqByyB,EAAY,UAAWr6B,CAAK,EACjD,MACF,IAAK,eACHgI,GACEqyB,EACA,+BACA,gBACAr6B,CACF,EACA,MACF,IAAK,eACHgI,GACEqyB,EACA,+BACA,gBACAr6B,CACF,EACA,MACF,IAAK,YACHgI,GACEqyB,EACA,+BACA,aACAr6B,CACF,EACA,MACF,IAAK,YACHgI,GACEqyB,EACA,+BACA,aACAr6B,CACF,EACA,MACF,IAAK,aACHgI,GACEqyB,EACA,+BACA,cACAr6B,CACF,EACA,MACF,IAAK,YACHgI,GACEqyB,EACA,+BACA,aACAr6B,CACF,EACA,MACF,IAAK,UACHgI,GACEqyB,EACA,uCACA,WACAr6B,CACF,EACA,MACF,IAAK,UACHgI,GACEqyB,EACA,uCACA,WACAr6B,CACF,EACA,MACF,IAAK,WACHgI,GACEqyB,EACA,uCACA,YACAr6B,CACF,EACA,MACF,IAAK,KACH4H,GAAqByyB,EAAY,KAAMr6B,CAAK,EAC5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,IAAK,OACL,IAAK,MACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,YACL,IAAK,OACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,gBACL,IAAK,cACL,IAAK,YACL,IAAK,aACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,cACL,IAAK,WACL,IAAK,aACL,IAAK,eACL,IAAK,SACL,IAAK,kBACL,IAAK,YACL,IAAK,mBACL,IAAK,iBACL,IAAK,oBACL,IAAK,aACL,IAAK,YACL,IAAK,cACL,IAAK,OACL,IAAK,mBACL,IAAK,QACL,IAAK,aACL,IAAK,WACL,IAAK,SACL,IAAK,cACH,MAAO,GACT,IAAK,OACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,eACL,IAAK,eACH,MAAO,GACT,IAAK,UACH,OAAQjR,GAAwB,EAAG,CACjC,KAAKC,GACH,MAAO,GACT,KAAKC,GACH,MAAO,GACT,KAAKC,GACL,KAAKC,GACH,MAAO,IACT,KAAKC,GACH,MAAO,WACT,QACE,MAAO,GACX,CACF,QACE,MAAO,GACX,CACF,CACA,IAAI4yC,GAA4B,GAC9BC,GAAc,KACdC,GAAa,KACbC,GAAc,KACdC,GAAiB,IAAI,IACrBC,GAAwB,IAAI,IAC5BC,GAAiC,CAAC,EAClCR,GACE,sPAAsP,MACpP,GACF,EACJ,SAASF,GAAuB5hC,EAAcrF,EAAa,CACzD,OAAQqF,EAAc,CACpB,IAAK,UACL,IAAK,WACHiiC,GAAc,KACd,MACF,IAAK,YACL,IAAK,YACHC,GAAa,KACb,MACF,IAAK,YACL,IAAK,WACHC,GAAc,KACd,MACF,IAAK,cACL,IAAK,aACHC,GAAe,OAAOznC,EAAY,SAAS,EAC3C,MACF,IAAK,oBACL,IAAK,qBACH0nC,GAAsB,OAAO1nC,EAAY,SAAS,CACtD,CACF,CACA,SAAS4nC,GACPC,EACAf,EACAzhC,EACAg4B,EACAc,EACAn+B,EACA,CACA,OACW6nC,IAAT,MACAA,EAAoB,cAAgB7nC,GAGjC6nC,EAAsB,CACrB,UAAWf,EACX,aAAczhC,EACd,iBAAkBg4B,EAClB,YAAar9B,EACb,iBAAkB,CAACm+B,CAAe,CACpC,EACS2I,IAAT,OACIA,EAAYptC,GAAoBotC,CAAS,EAClCA,IAAT,MAAsBD,GAA2BC,CAAS,GAC5De,IAEJA,EAAoB,kBAAoBxK,EACxCyJ,EAAYe,EAAoB,iBACvB1J,IAAT,MACS2I,EAAU,QAAQ3I,CAAe,IAAxC,IACA2I,EAAU,KAAK3I,CAAe,EACzB0J,EACT,CACA,SAASX,GACPJ,EACAzhC,EACAg4B,EACAc,EACAn+B,EACA,CACA,OAAQqF,EAAc,CACpB,IAAK,UACH,OACGiiC,GAAcM,GACbN,GACAR,EACAzhC,EACAg4B,EACAc,EACAn+B,CACF,EACA,GAEJ,IAAK,YACH,OACGunC,GAAaK,GACZL,GACAT,EACAzhC,EACAg4B,EACAc,EACAn+B,CACF,EACA,GAEJ,IAAK,YACH,OACGwnC,GAAcI,GACbJ,GACAV,EACAzhC,EACAg4B,EACAc,EACAn+B,CACF,EACA,GAEJ,IAAK,cACH,IAAI8nC,EAAY9nC,EAAY,UAC5B,OAAAynC,GAAe,IACbK,EACAF,GACEH,GAAe,IAAIK,CAAS,GAAK,KACjChB,EACAzhC,EACAg4B,EACAc,EACAn+B,CACF,CACF,EACO,GACT,IAAK,oBACH,OACG8nC,EAAY9nC,EAAY,UACzB0nC,GAAsB,IACpBI,EACAF,GACEF,GAAsB,IAAII,CAAS,GAAK,KACxChB,EACAzhC,EACAg4B,EACAc,EACAn+B,CACF,CACF,EACA,EAEN,CACA,MAAO,EACT,CACA,SAAS+nC,GAA+BC,EAAc,CACpD,IAAIzuC,EAAaF,GAA2B2uC,EAAa,MAAM,EAC/D,GAAazuC,IAAT,KAAqB,CACvB,IAAI1J,EAAiBF,GAAuB4J,CAAU,EACtD,GAAa1J,IAAT,MACF,GAAM0J,EAAa1J,EAAe,IAAa0J,IAAP,IACtC,GACIA,EAAazJ,GAA6BD,CAAc,EACjD0J,IAAT,KACA,CACAyuC,EAAa,UAAYzuC,EACzBhB,GAAgByvC,EAAa,SAAU,UAAY,CACjD,GAAWn4C,EAAe,MAAtB,GAA2B,CAC7B,IAAIyG,EAAO8oB,GAAkB,EAC7B9oB,EAAO4B,GAAgC5B,CAAI,EAC3C,IAAIX,EAAO+U,GAA+B7a,EAAgByG,CAAI,EACrDX,IAAT,MACEqlB,GAAsBrlB,EAAM9F,EAAgByG,CAAI,EAClDswC,GAA2B/2C,EAAgByG,CAAI,CACjD,CACF,CAAC,EACD,MACF,UAEMiD,IAAN,GACA1J,EAAe,UAAU,QAAQ,cAAc,aAC/C,CACAm4C,EAAa,UACLn4C,EAAe,MAArB,EACIA,EAAe,UAAU,cACzB,KACN,MACF,EACJ,CACAm4C,EAAa,UAAY,IAC3B,CACA,SAASC,GAAmCC,EAAa,CACvD,GAAaA,EAAY,YAArB,KAAgC,MAAO,GAC3C,QACMC,EAAmBD,EAAY,iBACnC,EAAIC,EAAiB,QAErB,CACA,IAAIC,EAAgBrB,GAA0BmB,EAAY,WAAW,EACrE,GAAaE,IAAT,KAAwB,CAC1BA,EAAgBF,EAAY,YAC5B,IAAIG,EAAmB,IAAID,EAAc,YACvCA,EAAc,KACdA,CACF,EACAtoC,GAAwBuoC,EACxBD,EAAc,OAAO,cAAcC,CAAgB,EACnDvoC,GAAwB,IAC1B,KACE,QACGqoC,EAAmBzuC,GAAoB0uC,CAAa,EAC5CD,IAAT,MACEtB,GAA2BsB,CAAgB,EAC5CD,EAAY,UAAYE,EACzB,GAEJD,EAAiB,MAAM,CACzB,CACA,MAAO,EACT,CACA,SAASG,GAAwCJ,EAAajkC,EAAKskC,EAAK,CACtEN,GAAmCC,CAAW,GAAKK,EAAI,OAAOtkC,CAAG,CACnE,CACA,SAASukC,IAAwB,CAC/BnB,GAA4B,GACnBC,KAAT,MACEW,GAAmCX,EAAW,IAC7CA,GAAc,MACRC,KAAT,MACEU,GAAmCV,EAAU,IAC5CA,GAAa,MACPC,KAAT,MACES,GAAmCT,EAAW,IAC7CA,GAAc,MACjBC,GAAe,QAAQa,EAAuC,EAC9DZ,GAAsB,QAAQY,EAAuC,CACvE,CACA,SAASG,GAA4BP,EAAaQ,EAAW,CAC3DR,EAAY,YAAcQ,IACtBR,EAAY,UAAY,KAC1Bb,KACIA,GAA4B,GAC9Bn4C,GAAU,0BACRA,GAAU,wBACVs5C,EACF,GACN,CACA,IAAIG,GAA2B,KAC/B,SAASC,GAA4BC,EAAoB,CACvDF,KAA6BE,IACzBF,GAA2BE,EAC7B35C,GAAU,0BACRA,GAAU,wBACV,UAAY,CACVy5C,KAA6BE,IAC1BF,GAA2B,MAC9B,QAASn5C,EAAI,EAAGA,EAAIq5C,EAAmB,OAAQr5C,GAAK,EAAG,CACrD,IAAImtC,EAAOkM,EAAmBr5C,CAAC,EAC7Bs5C,EAAoBD,EAAmBr5C,EAAI,CAAC,EAC5CgwB,EAAWqpB,EAAmBr5C,EAAI,CAAC,EACrC,GAAmB,OAAOs5C,GAAtB,WACF,IAAa1B,GAA2B0B,GAAqBnM,CAAI,IAA7D,KACF,SACG,MACP,IAAIsG,EAAWvpC,GAAoBijC,CAAI,EAC9BsG,IAAT,OACG4F,EAAmB,OAAOr5C,EAAG,CAAC,EAC9BA,GAAK,EACN8vB,GACE2jB,EACA,CACE,QAAS,GACT,KAAMzjB,EACN,OAAQmd,EAAK,OACb,OAAQmM,CACV,EACAA,EACAtpB,CACF,EACJ,CACF,CACF,EACJ,CACA,SAAS2Q,GAAiBuY,EAAW,CACnC,SAASK,EAAQb,EAAa,CAC5B,OAAOO,GAA4BP,EAAaQ,CAAS,CAC3D,CACSpB,KAAT,MAAwBmB,GAA4BnB,GAAaoB,CAAS,EACjEnB,KAAT,MAAuBkB,GAA4BlB,GAAYmB,CAAS,EAC/DlB,KAAT,MAAwBiB,GAA4BjB,GAAakB,CAAS,EAC1EjB,GAAe,QAAQsB,CAAO,EAC9BrB,GAAsB,QAAQqB,CAAO,EACrC,QAASv5C,EAAI,EAAGA,EAAIm4C,GAA+B,OAAQn4C,IAAK,CAC9D,IAAIw4C,EAAeL,GAA+Bn4C,CAAC,EACnDw4C,EAAa,YAAcU,IAAcV,EAAa,UAAY,KACpE,CACA,KAEE,EAAIL,GAA+B,SACjCn4C,EAAIm4C,GAA+B,CAAC,EAAan4C,EAAE,YAAX,OAG1Cu4C,GAA+Bv4C,CAAC,EACrBA,EAAE,YAAX,MAAwBm4C,GAA+B,MAAM,EAEjE,GADAn4C,GAAKk5C,EAAU,eAAiBA,GAAW,kBAC/Bl5C,GAAR,KACF,IAAKw4C,EAAe,EAAGA,EAAex4C,EAAE,OAAQw4C,GAAgB,EAAG,CACjE,IAAIrL,EAAOntC,EAAEw4C,CAAY,EACvBc,EAAoBt5C,EAAEw4C,EAAe,CAAC,EACtCgB,EAAYrM,EAAK9jC,EAAgB,GAAK,KACxC,GAAmB,OAAOiwC,GAAtB,WACFE,GAAaJ,GAA4Bp5C,CAAC,UACnCw5C,EAAW,CAClB,IAAI/vB,EAAS,KACb,GAAI6vB,GAAqBA,EAAkB,aAAa,YAAY,GAClE,GACInM,EAAOmM,EACRE,EAAYF,EAAkBjwC,EAAgB,GAAK,KAEpDogB,EAAS+vB,EAAU,mBAEN5B,GAA2BzK,CAAI,IAAxC,KAA2C,cAE9C1jB,EAAS+vB,EAAU,OACT,OAAO/vB,GAAtB,WACKzpB,EAAEw4C,EAAe,CAAC,EAAI/uB,GACtBzpB,EAAE,OAAOw4C,EAAc,CAAC,EAAIA,GAAgB,GACjDY,GAA4Bp5C,CAAC,CAC/B,CACF,CACJ,CACA,SAASy5C,GAAaC,EAAc,CAClC,KAAK,cAAgBA,CACvB,CACAC,GAAsB,UAAU,OAASF,GAAa,UAAU,OAC9D,SAAUtqC,EAAU,CAClB,IAAIhJ,EAAO,KAAK,cAChB,GAAaA,IAAT,KAAe,MAAM,MAAMtG,EAAuB,GAAG,CAAC,EAC1D,IAAImc,EAAU7V,EAAK,QACjBW,EAAO8oB,GAAkB,EAC3BsnB,GAAoBl7B,EAASlV,EAAMqI,EAAUhJ,EAAM,KAAM,IAAI,CAC/D,EACFwzC,GAAsB,UAAU,QAAUF,GAAa,UAAU,QAC/D,UAAY,CACV,IAAItzC,EAAO,KAAK,cAChB,GAAaA,IAAT,KAAe,CACjB,KAAK,cAAgB,KACrB,IAAIipC,EAAYjpC,EAAK,cACrB+wC,GAAoB/wC,EAAK,QAAS,EAAG,KAAMA,EAAM,KAAM,IAAI,EAC3DgL,GAAgB,EAChBi+B,EAAU9lC,EAA4B,EAAI,IAC5C,CACF,EACF,SAASqwC,GAAsBD,EAAc,CAC3C,KAAK,cAAgBA,CACvB,CACAC,GAAsB,UAAU,2BAA6B,SAAU/oC,EAAQ,CAC7E,GAAIA,EAAQ,CACV,IAAI/H,EAAiBD,GAAsB,EAC3CgI,EAAS,CAAE,UAAW,KAAM,OAAQA,EAAQ,SAAU/H,CAAe,EACrE,QACM7I,EAAI,EACRA,EAAIm4C,GAA+B,QAC7BtvC,IAAN,GACAA,EAAiBsvC,GAA+Bn4C,CAAC,EAAE,SACnDA,IACD,CACDm4C,GAA+B,OAAOn4C,EAAG,EAAG4Q,CAAM,EAC5C5Q,IAAN,GAAWu4C,GAA+B3nC,CAAM,CAClD,CACF,EACA,IAAIgpC,GAAmDj6C,GAAM,QAC7D,GAEEi6C,KADA,SAGA,MAAM,MACJ/5C,EACE,IACA+5C,GACA,QACF,CACF,EACF92C,GAAwB,YAAc,SAAU+2C,EAAoB,CAClE,IAAIz5C,EAAQy5C,EAAmB,gBAC/B,GAAez5C,IAAX,OACF,MAAmB,OAAOy5C,EAAmB,QAAzC,WACI,MAAMh6C,EAAuB,GAAG,CAAC,GACzCg6C,EAAqB,OAAO,KAAKA,CAAkB,EAAE,KAAK,GAAG,EACvD,MAAMh6C,EAAuB,IAAKg6C,CAAkB,CAAC,GAE7D,OAAAA,EAAqBp5C,GAA8BL,CAAK,EACxDy5C,EACWA,IAAT,KACI54C,GAAyB44C,CAAkB,EAC3C,KACNA,EACWA,IAAT,KAA8B,KAAOA,EAAmB,UACnDA,CACT,EACA,IAAIC,GAA+B,CACjC,WAAY,EACZ,QAAS,SACT,oBAAqB,YACrB,qBAAsBj3C,GACtB,kBAAmB,QACrB,EACA,GAAoB,OAAO,+BAAvB,MACEk3C,GAA0B,+BAE5B,CAACA,GAAwB,YACzBA,GAAwB,eAExB,GAAI,CACD30C,GAAa20C,GAAwB,OACpCD,EACF,EACGz0C,GAAe00C,EACpB,OAASv0C,EAAK,CAAC,CAVb,IAAAu0C,GAYNt6C,GAAQ,WAAa,SAAU2vC,EAAW59B,EAAS,CACjD,GAAI,CAACvR,GAAiBmvC,CAAS,EAAG,MAAM,MAAMvvC,EAAuB,GAAG,CAAC,EACzE,IAAIi3C,EAAe,GACjB1lB,EAAmB,GACnBgF,EAAkBL,GAClBS,EAAgBR,GAChB2U,EAAqB1U,GACrB8gB,EAAsB,KACxB,OAASvlC,GAAT,OAEUA,EAAQ,sBAAf,KAAuCslC,EAAe,IAC5CtlC,EAAQ,mBAAnB,SACG4f,EAAmB5f,EAAQ,kBACnBA,EAAQ,kBAAnB,SACG4kB,EAAkB5kB,EAAQ,iBAClBA,EAAQ,gBAAnB,SAAqCglB,EAAgBhlB,EAAQ,eAClDA,EAAQ,qBAAnB,SACGm5B,EAAqBn5B,EAAQ,oBACrBA,EAAQ,+BAAnB,SACGulC,EAAsBvlC,EAAQ,+BACnCA,EAAUmlC,GACRvH,EACA,EACA,GACA,KACA,KACA0H,EACA1lB,EACAgF,EACAI,EACAmU,EACAoM,EACA,IACF,EACA3H,EAAU9lC,EAA4B,EAAIkI,EAAQ,QAClD4qB,GAA2BgT,CAAS,EAC7B,IAAIqK,GAAajoC,CAAO,CACjC,EACA/R,GAAQ,YAAc,SAAU2vC,EAAWwH,EAAiBplC,EAAS,CACnE,GAAI,CAACvR,GAAiBmvC,CAAS,EAAG,MAAM,MAAMvvC,EAAuB,GAAG,CAAC,EACzE,IAAIi3C,EAAe,GACjB1lB,EAAmB,GACnBgF,EAAkBL,GAClBS,EAAgBR,GAChB2U,EAAqB1U,GACrB8gB,EAAsB,KACtBL,EAAY,KACd,OAASllC,GAAT,OAEUA,EAAQ,sBAAf,KAAuCslC,EAAe,IAC5CtlC,EAAQ,mBAAnB,SACG4f,EAAmB5f,EAAQ,kBACnBA,EAAQ,kBAAnB,SACG4kB,EAAkB5kB,EAAQ,iBAClBA,EAAQ,gBAAnB,SAAqCglB,EAAgBhlB,EAAQ,eAClDA,EAAQ,qBAAnB,SACGm5B,EAAqBn5B,EAAQ,oBACrBA,EAAQ,+BAAnB,SACGulC,EAAsBvlC,EAAQ,8BACtBA,EAAQ,YAAnB,SAAiCklC,EAAYllC,EAAQ,YACvDolC,EAAkBD,GAChBvH,EACA,EACA,GACAwH,EACQplC,GAAR,KAAkBA,EAAU,KAC5BslC,EACA1lB,EACAgF,EACAI,EACAmU,EACAoM,EACAL,CACF,EACAE,EAAgB,QAAUI,GAAqB,IAAI,EACnDxlC,EAAUolC,EAAgB,QAC1BE,EAAelnB,GAAkB,EACjCknB,EAAepuC,GAAgCouC,CAAY,EAC3D1lB,EAAmB/M,GAAayyB,CAAY,EAC5C1lB,EAAiB,SAAW,KAC5B9M,GAAc9S,EAAS4f,EAAkB0lB,CAAY,EACrDtlC,EAAUslC,EACVF,EAAgB,QAAQ,MAAQplC,EAChCnK,GAAkBuvC,EAAiBplC,CAAO,EAC1C00B,GAAsB0Q,CAAe,EACrCxH,EAAU9lC,EAA4B,EAAIstC,EAAgB,QAC1Dxa,GAA2BgT,CAAS,EAC7B,IAAIuK,GAAsB/C,CAAe,CAClD,EACAn3C,GAAQ,QAAU,WChielB,IAAAu6C,GAAAC,GAAA,CAAAC,IAAAC,KAAA,cAEA,SAASC,IAAW,CAElB,GACE,SAAO,+BAAmC,KAC1C,OAAO,+BAA+B,UAAa,YAcrD,GAAI,CAEF,+BAA+B,SAASA,EAAQ,CAClD,OAASC,EAAK,CAGZ,QAAQ,MAAMA,CAAG,CACnB,CACF,CAKED,GAAS,EACTD,GAAO,QAAU,OClCnB,IAAAG,GAAAC,GAAAC,IAAA,cAWA,IAAIC,GAAqB,OAAO,IAAI,4BAA4B,EAC9DC,GAAsB,OAAO,IAAI,gBAAgB,EACnD,SAASC,GAAQC,EAAMC,EAAQC,EAAU,CACvC,IAAIC,EAAM,KAGV,GAFWD,IAAX,SAAwBC,EAAM,GAAKD,GACxBD,EAAO,MAAlB,SAA0BE,EAAM,GAAKF,EAAO,KACxC,QAASA,EAAQ,CACnBC,EAAW,CAAC,EACZ,QAASE,KAAYH,EACTG,IAAV,QAAuBF,EAASE,CAAQ,EAAIH,EAAOG,CAAQ,EAC/D,MAAOF,EAAWD,EAClB,OAAAA,EAASC,EAAS,IACX,CACL,SAAUL,GACV,KAAMG,EACN,IAAKG,EACL,IAAgBF,IAAX,OAAoBA,EAAS,KAClC,MAAOC,CACT,CACF,CACAN,GAAQ,SAAWE,GACnBF,GAAQ,IAAMG,GACdH,GAAQ,KAAOG,KCjCf,IAAAM,GAAAC,GAAA,CAAAC,IAAAC,KAAA,cAGEA,GAAO,QAAU,sECMjBC,IAAAA,IAAYC,OACV,IAAKC,gBACAC,IAAcC,KAAAA,CAAnB,o81CaXJ,IAAAC,GAA2B,SAC3BC,GAA2B,SCCvB,IAAAC,GAAA,SAFG,SAASC,IAAU,CACxB,SACE,SAAC,OAAI,UAAU,cACb,qBAAC,OACC,IAAI,kBACJ,IAAI,aACJ,UAAU,aACZ,KACA,QAAC,OAAI,UAAU,kBACb,oBAAC,MAAG,wBAAY,EAClB,KACA,QAAC,KAAE,yDAA6C,KAChD,QAAC,KACC,KAAK,qBACL,OAAO,SACP,IAAI,sBACL,8BAED,KACA,QAAC,OAAI,UAAU,mCAAmC,yBAAa,GACjE,CAEJ,CCtBA,IAAAC,GAAgC,SCAhC,IAAAC,GAAoC,SCApC,SAASC,GAAOC,EAAS,CACvB,GAAI,CAAC,OAAO,cAAcA,CAAC,GAAKA,EAAI,EAAG,MAAM,IAAI,MAAM,2BAA2B,OAAAA,EAAG,CACvF,CAMA,SAASC,GAAMC,KAA8BC,EAAiB,CAC5D,GAAI,EAAED,aAAa,YAAa,MAAM,IAAI,MAAM,qBAAqB,EACrE,GAAIC,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASD,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAiC,OAAAC,EAAO,oBAAmB,OAAAD,EAAE,OAAQ,CACzF,CAQA,SAASE,GAAKA,EAAU,CACtB,GAAI,OAAOA,GAAS,YAAc,OAAOA,EAAK,QAAW,WACvD,MAAM,IAAI,MAAM,iDAAiD,EACnEC,GAAOD,EAAK,SAAS,EACrBC,GAAOD,EAAK,QAAQ,CACtB,CAEA,SAASE,GAAOC,EAAeC,EAAgB,GAAI,CACjD,GAAID,EAAS,UAAW,MAAM,IAAI,MAAM,kCAAkC,EAC1E,GAAIC,GAAiBD,EAAS,SAAU,MAAM,IAAI,MAAM,uCAAuC,CACjG,CACA,SAASE,GAAOC,EAAUH,EAAa,CACrCN,GAAMS,CAAG,EACT,IAAMC,EAAMJ,EAAS,UACrB,GAAIG,EAAI,OAASC,EACf,MAAM,IAAI,MAAM,yDAAyD,OAAAA,EAAK,CAElF,CClCO,IAAMC,GACX,OAAO,YAAe,UAAY,WAAY,WAAa,WAAW,OAAS,OCUjF,IAAMC,GAAOC,GAA4BA,aAAa,WAO/C,IAAMC,GAAcC,GACzB,IAAI,SAASA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,EAG5CC,GAAO,CAACC,EAAcC,IAAmBD,GAAS,GAAKC,EAAWD,IAASC,EAI3EC,GAAO,IAAI,WAAW,IAAI,YAAY,CAAC,SAAU,CAAC,EAAE,MAAM,EAAE,CAAC,IAAM,GAChF,GAAI,CAACA,GAAM,MAAM,IAAI,MAAM,6CAA6C,EA6DlE,SAAUC,GAAYC,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,oCAAoC,cAAOA,EAAK,EAC7F,OAAO,IAAI,WAAW,IAAI,YAAW,EAAG,OAAOA,CAAG,CAAC,CACrD,CAQM,SAAUC,GAAQC,EAAW,CAEjC,GADI,OAAOA,GAAS,WAAUA,EAAOH,GAAYG,CAAI,GACjD,CAACC,GAAID,CAAI,EAAG,MAAM,IAAI,MAAM,4BAA4B,cAAOA,EAAM,EACzE,OAAOA,CACT,CAKM,SAAUE,MAAeC,EAAoB,CACjD,IAAMC,EAAI,IAAI,WAAWD,EAAO,OAAO,CAACE,EAAKC,IAAMD,EAAMC,EAAE,OAAQ,CAAC,CAAC,EACjEC,EAAM,EACV,OAAAJ,EAAO,QAASG,GAAK,CACnB,GAAI,CAACL,GAAIK,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAClDF,EAAE,IAAIE,EAAGC,CAAG,EACZA,GAAOD,EAAE,MACX,CAAC,EACMF,CACT,CAGM,IAAgBI,GAAhB,KAAoB,CAsBxB,OAAK,CACH,OAAO,KAAK,WAAU,CACxB,GAcIC,IAAQ,CAAA,EAAG,SAcX,SAAUC,GAAmCC,EAAuB,CACxE,IAAMC,EAASC,GAA2BF,EAAQ,EAAG,OAAOG,GAAQD,CAAG,CAAC,EAAE,OAAM,EAC1EE,EAAMJ,EAAQ,EACpB,OAAAC,EAAM,UAAYG,EAAI,UACtBH,EAAM,SAAWG,EAAI,SACrBH,EAAM,OAAS,IAAMD,EAAQ,EACtBC,CACT,CA2BM,SAAUI,GAAYC,EAAc,GAAE,CAC1C,GAAIC,IAAU,OAAOA,GAAO,iBAAoB,WAC9C,OAAOA,GAAO,gBAAgB,IAAI,WAAWD,CAAW,CAAC,EAE3D,MAAM,IAAI,MAAM,wCAAwC,CAC1D,CClNA,SAASE,GAAaC,EAAgBC,EAAoBC,EAAeC,EAAa,CACpF,GAAI,OAAOH,EAAK,cAAiB,WAAY,OAAOA,EAAK,aAAaC,EAAYC,EAAOC,CAAI,EAC7F,IAAMC,EAAO,OAAO,EAAE,EAChBC,EAAW,OAAO,UAAU,EAC5BC,EAAK,OAAQJ,GAASE,EAAQC,CAAQ,EACtCE,EAAK,OAAOL,EAAQG,CAAQ,EAC5BG,EAAIL,EAAO,EAAI,EACfM,EAAIN,EAAO,EAAI,EACrBH,EAAK,UAAUC,EAAaO,EAAGF,EAAIH,CAAI,EACvCH,EAAK,UAAUC,EAAaQ,EAAGF,EAAIJ,CAAI,CACzC,CAGM,IAAgBO,GAAhB,cAAgDC,EAAO,CAc3D,YACWC,EACFC,EACEC,EACAX,EAAa,CAEtB,MAAK,EALI,KAAA,SAAAS,EACF,KAAA,UAAAC,EACE,KAAA,UAAAC,EACA,KAAA,KAAAX,EATD,KAAA,SAAW,GACX,KAAA,OAAS,EACT,KAAA,IAAM,EACN,KAAA,UAAY,GASpB,KAAK,OAAS,IAAI,WAAWS,CAAQ,EACrC,KAAK,KAAOG,GAAW,KAAK,MAAM,CACpC,CACA,OAAOC,EAAW,CAChBC,GAAO,IAAI,EACX,GAAM,CAAE,KAAAjB,EAAM,OAAAkB,EAAQ,SAAAN,CAAQ,EAAK,KACnCI,EAAOG,GAAQH,CAAI,EACnB,IAAMI,EAAMJ,EAAK,OACjB,QAASK,EAAM,EAAGA,EAAMD,GAAO,CAC7B,IAAME,EAAO,KAAK,IAAIV,EAAW,KAAK,IAAKQ,EAAMC,CAAG,EAEpD,GAAIC,IAASV,EAAU,CACrB,IAAMW,EAAWR,GAAWC,CAAI,EAChC,KAAOJ,GAAYQ,EAAMC,EAAKA,GAAOT,EAAU,KAAK,QAAQW,EAAUF,CAAG,EACzE,SAEFH,EAAO,IAAIF,EAAK,SAASK,EAAKA,EAAMC,CAAI,EAAG,KAAK,GAAG,EACnD,KAAK,KAAOA,EACZD,GAAOC,EACH,KAAK,MAAQV,IACf,KAAK,QAAQZ,EAAM,CAAC,EACpB,KAAK,IAAM,GAGf,YAAK,QAAUgB,EAAK,OACpB,KAAK,WAAU,EACR,IACT,CACA,WAAWQ,EAAe,CACxBP,GAAO,IAAI,EACXQ,GAAOD,EAAK,IAAI,EAChB,KAAK,SAAW,GAIhB,GAAM,CAAE,OAAAN,EAAQ,KAAAlB,EAAM,SAAAY,EAAU,KAAAT,CAAI,EAAK,KACrC,CAAE,IAAAkB,CAAG,EAAK,KAEdH,EAAOG,GAAK,EAAI,IAChB,KAAK,OAAO,SAASA,CAAG,EAAE,KAAK,CAAC,EAE5B,KAAK,UAAYT,EAAWS,IAC9B,KAAK,QAAQrB,EAAM,CAAC,EACpBqB,EAAM,GAGR,QAASK,EAAIL,EAAKK,EAAId,EAAUc,IAAKR,EAAOQ,CAAC,EAAI,EAIjD3B,GAAaC,EAAMY,EAAW,EAAG,OAAO,KAAK,OAAS,CAAC,EAAGT,CAAI,EAC9D,KAAK,QAAQH,EAAM,CAAC,EACpB,IAAM2B,EAAQZ,GAAWS,CAAG,EACtBJ,EAAM,KAAK,UAEjB,GAAIA,EAAM,EAAG,MAAM,IAAI,MAAM,6CAA6C,EAC1E,IAAMQ,EAASR,EAAM,EACfS,EAAQ,KAAK,IAAG,EACtB,GAAID,EAASC,EAAM,OAAQ,MAAM,IAAI,MAAM,oCAAoC,EAC/E,QAASH,EAAI,EAAGA,EAAIE,EAAQF,IAAKC,EAAM,UAAU,EAAID,EAAGG,EAAMH,CAAC,EAAGvB,CAAI,CACxE,CACA,QAAM,CACJ,GAAM,CAAE,OAAAe,EAAQ,UAAAL,CAAS,EAAK,KAC9B,KAAK,WAAWK,CAAM,EACtB,IAAMY,EAAMZ,EAAO,MAAM,EAAGL,CAAS,EACrC,YAAK,QAAO,EACLiB,CACT,CACA,WAAWC,EAAM,CACfA,IAAAA,EAAO,IAAK,KAAK,aACjBA,EAAG,IAAI,GAAG,KAAK,IAAG,CAAE,EACpB,GAAM,CAAE,SAAAnB,EAAU,OAAAM,EAAQ,OAAAc,EAAQ,SAAAC,EAAU,UAAAC,EAAW,IAAAb,CAAG,EAAK,KAC/D,OAAAU,EAAG,OAASC,EACZD,EAAG,IAAMV,EACTU,EAAG,SAAWE,EACdF,EAAG,UAAYG,EACXF,EAASpB,GAAUmB,EAAG,OAAO,IAAIb,CAAM,EACpCa,CACT,GC7GF,IAAMI,GAAM,CAACC,EAAWC,EAAWC,IAAeF,EAAIC,EAAM,CAACD,EAAIE,EAE3DC,GAAM,CAACH,EAAWC,EAAWC,IAAeF,EAAIC,EAAMD,EAAIE,EAAMD,EAAIC,EAKpEE,GAA0B,IAAI,YAAY,CAC9C,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WACpF,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UACpF,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UACpF,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACrF,EAIKC,GAAoB,IAAI,YAAY,CACxC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WACrF,EAIKC,GAA2B,IAAI,YAAY,EAAE,EAC7CC,GAAN,cAAqBC,EAAY,CAY/B,aAAA,CACE,MAAM,GAAI,GAAI,EAAG,EAAK,EAVxB,KAAA,EAAIH,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,CAIZ,CACU,KAAG,CACX,GAAM,CAAE,EAAAI,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAK,KACnC,MAAO,CAACP,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,CAAC,CAChC,CAEU,IACRP,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAS,CAEtF,KAAK,EAAIP,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,CACf,CACU,QAAQC,EAAgBC,EAAc,CAE9C,QAASC,EAAI,EAAGA,EAAI,GAAIA,IAAKD,GAAU,EAAGZ,GAASa,CAAC,EAAIF,EAAK,UAAUC,EAAQ,EAAK,EACpF,QAASC,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAC5B,IAAMC,EAAMd,GAASa,EAAI,EAAE,EACrBE,EAAKf,GAASa,EAAI,CAAC,EACnBG,EAAKC,GAAKH,EAAK,CAAC,EAAIG,GAAKH,EAAK,EAAE,EAAKA,IAAQ,EAC7CI,EAAKD,GAAKF,EAAI,EAAE,EAAIE,GAAKF,EAAI,EAAE,EAAKA,IAAO,GACjDf,GAASa,CAAC,EAAKK,EAAKlB,GAASa,EAAI,CAAC,EAAIG,EAAKhB,GAASa,EAAI,EAAE,EAAK,EAGjE,GAAI,CAAE,EAAAV,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAK,KACjC,QAASG,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAMM,EAASF,GAAKV,EAAG,CAAC,EAAIU,GAAKV,EAAG,EAAE,EAAIU,GAAKV,EAAG,EAAE,EAC9Ca,EAAMV,EAAIS,EAAS1B,GAAIc,EAAGC,EAAGC,CAAC,EAAIX,GAASe,CAAC,EAAIb,GAASa,CAAC,EAAK,EAE/DQ,GADSJ,GAAKd,EAAG,CAAC,EAAIc,GAAKd,EAAG,EAAE,EAAIc,GAAKd,EAAG,EAAE,GAC/BN,GAAIM,EAAGC,EAAGC,CAAC,EAAK,EACrCK,EAAID,EACJA,EAAID,EACJA,EAAID,EACJA,EAAKD,EAAIc,EAAM,EACfd,EAAID,EACJA,EAAID,EACJA,EAAID,EACJA,EAAKiB,EAAKC,EAAM,EAGlBlB,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnB,KAAK,IAAIP,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,CAAC,CACjC,CACU,YAAU,CAClBV,GAAS,KAAK,CAAC,CACjB,CACA,SAAO,CACL,KAAK,IAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC/B,KAAK,OAAO,KAAK,CAAC,CACpB,GAsBK,IAAMsB,GAAyBC,GAAgB,IAAM,IAAIC,EAAQ,ECnIxE,IAAAC,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,WAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,eAAAC,GAAA,oBAAAC,GAAA,oBAAAC,GAAA,gBAAAC,GAAA,mBAAAC,GAAA,gBAAAC,GAAA,eAAAC,GAAA,eAAAC,GAAA,gBAAAC,GAAA,oBAAAC,GAAA,oBAAAC,GAAA,wBAAAC,GAAA,uBAAAC,GAAA,gBAAAC,GAAA,mBAAAC,KAKA,IAAMC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAOC,GAA4BA,aAAa,WAWhDC,GAAwB,MAAM,KAAK,CAAE,OAAQ,GAAG,EAAI,CAACC,EAAGC,IAC5DA,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,CAAC,EAK3B,SAAUtB,GAAWuB,EAAiB,CAC1C,GAAI,CAACL,GAAIK,CAAK,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAEtD,IAAIC,EAAM,GACV,QAASF,EAAI,EAAGA,EAAIC,EAAM,OAAQD,IAChCE,GAAOJ,GAAMG,EAAMD,CAAC,CAAC,EAEvB,OAAOE,CACT,CAEM,SAAUb,GAAoBc,EAAoB,CACtD,IAAMD,EAAMC,EAAI,SAAS,EAAE,EAC3B,OAAOD,EAAI,OAAS,EAAI,IAAI,OAAAA,GAAQA,CACtC,CAEM,SAAUhB,GAAYgB,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EAErF,OAAO,OAAOA,IAAQ,GAAK,IAAM,KAAK,OAAAA,EAAK,CAC7C,CAKM,SAAUjB,GAAWiB,EAAW,CACpC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EACrF,IAAME,EAAMF,EAAI,OAChB,GAAIE,EAAM,EAAG,MAAM,IAAI,MAAM,0DAA4DA,CAAG,EAC5F,IAAMC,EAAQ,IAAI,WAAWD,EAAM,CAAC,EACpC,QAASJ,EAAI,EAAGA,EAAIK,EAAM,OAAQL,IAAK,CACrC,IAAMM,EAAIN,EAAI,EACRO,EAAUL,EAAI,MAAMI,EAAGA,EAAI,CAAC,EAC5BE,EAAO,OAAO,SAASD,EAAS,EAAE,EACxC,GAAI,OAAO,MAAMC,CAAI,GAAKA,EAAO,EAAG,MAAM,IAAI,MAAM,uBAAuB,EAC3EH,EAAML,CAAC,EAAIQ,EAEb,OAAOH,CACT,CAGM,SAAU1B,GAAgBsB,EAAiB,CAC/C,OAAOf,GAAYR,GAAWuB,CAAK,CAAC,CACtC,CACM,SAAUrB,GAAgBqB,EAAiB,CAC/C,GAAI,CAACL,GAAIK,CAAK,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACtD,OAAOf,GAAYR,GAAW,WAAW,KAAKuB,CAAK,EAAE,QAAO,CAAE,CAAC,CACjE,CAEM,SAAUd,GAAgBsB,EAAoBL,EAAW,CAC7D,OAAOnB,GAAWwB,EAAE,SAAS,EAAE,EAAE,SAASL,EAAM,EAAG,GAAG,CAAC,CACzD,CACM,SAAUhB,GAAgBqB,EAAoBL,EAAW,CAC7D,OAAOjB,GAAgBsB,EAAGL,CAAG,EAAE,QAAO,CACxC,CAEM,SAAUd,GAAmBmB,EAAkB,CACnD,OAAOxB,GAAWI,GAAoBoB,CAAC,CAAC,CAC1C,CAWM,SAAU1B,GAAY2B,EAAeR,EAAUS,EAAuB,CAC1E,IAAIC,EACJ,GAAI,OAAOV,GAAQ,SACjB,GAAI,CACFU,EAAM3B,GAAWiB,CAAG,QACbW,EAAG,CACV,MAAM,IAAI,MAAM,GAAG,OAAAH,EAAK,oCAAmC,OAAAR,EAAG,cAAa,OAAAW,EAAG,UAEvEjB,GAAIM,CAAG,EAGhBU,EAAM,WAAW,KAAKV,CAAG,MAEzB,OAAM,IAAI,MAAM,GAAG,OAAAQ,EAAK,oCAAmC,EAE7D,IAAMN,EAAMQ,EAAI,OAChB,GAAI,OAAOD,GAAmB,UAAYP,IAAQO,EAChD,MAAM,IAAI,MAAM,GAAG,OAAAD,EAAK,cAAa,OAAAC,EAAc,gBAAe,OAAAP,EAAK,EACzE,OAAOQ,CACT,CAKM,SAAU/B,MAAeiC,EAAoB,CACjD,IAAMC,EAAI,IAAI,WAAWD,EAAO,OAAO,CAACE,EAAKnB,IAAMmB,EAAMnB,EAAE,OAAQ,CAAC,CAAC,EACjEoB,EAAM,EACV,OAAAH,EAAO,QAASjB,GAAK,CACnB,GAAI,CAACD,GAAIC,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAClDkB,EAAE,IAAIlB,EAAGoB,CAAG,EACZA,GAAOpB,EAAE,MACX,CAAC,EACMkB,CACT,CAEM,SAAU/B,GAAWkC,EAAgBC,EAAc,CAEvD,GAAID,EAAG,SAAWC,EAAG,OAAQ,MAAO,GACpC,QAASnB,EAAI,EAAGA,EAAIkB,EAAG,OAAQlB,IAAK,GAAIkB,EAAGlB,CAAC,IAAMmB,EAAGnB,CAAC,EAAG,MAAO,GAChE,MAAO,EACT,CASM,SAAUT,GAAY6B,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,oCAAoC,cAAOA,EAAK,EAC7F,OAAO,IAAI,WAAW,IAAI,YAAW,EAAG,OAAOA,CAAG,CAAC,CACrD,CAQM,SAAU7C,GAAOkC,EAAS,CAC9B,IAAIL,EACJ,IAAKA,EAAM,EAAGK,EAAIhB,GAAKgB,IAAMf,GAAKU,GAAO,EAAE,CAC3C,OAAOA,CACT,CAOM,SAAU9B,GAAOmC,EAAWY,EAAW,CAC3C,OAAQZ,GAAK,OAAOY,CAAG,EAAK3B,EAC9B,CAKO,IAAMjB,GAAS,CAACgC,EAAWY,EAAaC,IACtCb,GAAMa,EAAQ5B,GAAMD,KAAQ,OAAO4B,CAAG,EAOlC7C,GAAWiC,IAAed,IAAO,OAAOc,EAAI,CAAC,GAAKf,GAIzD6B,GAAOC,GAAe,IAAI,WAAWA,CAAI,EACzCC,GAAQC,GAAa,WAAW,KAAKA,CAAG,EASxC,SAAU5C,GACd6C,EACAC,EACAC,EAAkE,CAElE,GAAI,OAAOF,GAAY,UAAYA,EAAU,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAC1F,GAAI,OAAOC,GAAa,UAAYA,EAAW,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAC7F,GAAI,OAAOC,GAAW,WAAY,MAAM,IAAI,MAAM,2BAA2B,EAE7E,IAAIC,EAAIP,GAAII,CAAO,EACfI,EAAIR,GAAII,CAAO,EACf,EAAI,EACFK,EAAQ,IAAK,CACjBF,EAAE,KAAK,CAAC,EACRC,EAAE,KAAK,CAAC,EACR,EAAI,CACN,EACME,EAAI,IAAIC,IAAoBL,EAAOE,EAAGD,EAAG,GAAGI,CAAC,EAC7CC,EAAS,CAACC,EAAOb,GAAG,IAAM,CAE9BQ,EAAIE,EAAER,GAAK,CAAC,CAAI,CAAC,EAAGW,CAAI,EACxBN,EAAIG,EAAC,EACDG,EAAK,SAAW,IACpBL,EAAIE,EAAER,GAAK,CAAC,CAAI,CAAC,EAAGW,CAAI,EACxBN,EAAIG,EAAC,EACP,EACMI,EAAM,IAAK,CAEf,GAAI,KAAO,IAAM,MAAM,IAAI,MAAM,yBAAyB,EAC1D,IAAIjC,EAAM,EACJkC,EAAoB,CAAA,EAC1B,KAAOlC,EAAMwB,GAAU,CACrBE,EAAIG,EAAC,EACL,IAAMM,EAAKT,EAAE,MAAK,EAClBQ,EAAI,KAAKC,CAAE,EACXnC,GAAO0B,EAAE,OAEX,OAAOjD,GAAY,GAAGyD,CAAG,CAC3B,EASA,MARiB,CAACF,EAAkBI,IAAoB,CACtDR,EAAK,EACLG,EAAOC,CAAI,EACX,IAAIxB,EACJ,KAAO,EAAEA,EAAM4B,EAAKH,EAAG,CAAE,IAAIF,EAAM,EACnC,OAAAH,EAAK,EACEpB,CACT,CAEF,CAIA,IAAM6B,GAAe,CACnB,OAASC,GAAa,OAAOA,GAAQ,SACrC,SAAWA,GAAa,OAAOA,GAAQ,WACvC,QAAUA,GAAa,OAAOA,GAAQ,UACtC,OAASA,GAAa,OAAOA,GAAQ,SACrC,mBAAqBA,GAAa,OAAOA,GAAQ,UAAYA,aAAe,WAC5E,cAAgBA,GAAa,OAAO,cAAcA,CAAG,EACrD,MAAQA,GAAa,MAAM,QAAQA,CAAG,EACtC,MAAO,CAACA,EAAUC,IAAiBA,EAAe,GAAG,QAAQD,CAAG,EAChE,KAAOA,GAAa,OAAOA,GAAQ,YAAc,OAAO,cAAcA,EAAI,SAAS,GAM/E,SAAUlD,GACdmD,EACAC,EACAC,EAA2B,CAAA,EAAE,CAE7B,IAAMC,EAAa,CAACC,EAAoBC,EAAiBC,IAAuB,CAC9E,IAAMC,EAAWT,GAAaO,CAAI,EAClC,GAAI,OAAOE,GAAa,WACtB,MAAM,IAAI,MAAM,sBAAsB,OAAAF,EAAI,uBAAsB,EAElE,IAAMN,EAAMC,EAAOI,CAAgC,EACnD,GAAI,EAAAE,GAAcP,IAAQ,SACtB,CAACQ,EAASR,EAAKC,CAAM,EACvB,MAAM,IAAI,MACR,iBAAiB,cAAOI,CAAS,EAAC,KAAI,OAAAL,EAAG,MAAK,cAAOA,EAAG,gBAAe,OAAAM,EAAM,CAGnF,EACA,OAAW,CAACD,EAAWC,CAAI,IAAK,OAAO,QAAQJ,CAAU,EAAGE,EAAWC,EAAWC,EAAO,EAAK,EAC9F,OAAW,CAACD,EAAWC,CAAI,IAAK,OAAO,QAAQH,CAAa,EAAGC,EAAWC,EAAWC,EAAO,EAAI,EAChG,OAAOL,CACT,CC7QA,IAAMQ,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAEjEC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAEhDC,GAAM,OAAO,CAAC,EAAGC,GAAO,OAAO,EAAE,EAGjC,SAAUC,GAAIC,EAAWC,EAAS,CACtC,IAAMC,EAASF,EAAIC,EACnB,OAAOC,GAAUZ,GAAMY,EAASD,EAAIC,CACtC,CAQM,SAAUC,GAAIC,EAAaC,EAAeC,EAAc,CAC5D,GAAIA,GAAUhB,IAAOe,EAAQf,GAAK,MAAM,IAAI,MAAM,2BAA2B,EAC7E,GAAIgB,IAAWf,GAAK,OAAOD,GAC3B,IAAIiB,EAAMhB,GACV,KAAOc,EAAQf,IACTe,EAAQd,KAAKgB,EAAOA,EAAMH,EAAOE,GACrCF,EAAOA,EAAMA,EAAOE,EACpBD,IAAUd,GAEZ,OAAOgB,CACT,CAGM,SAAUC,GAAKC,EAAWJ,EAAeC,EAAc,CAC3D,IAAIC,EAAME,EACV,KAAOJ,KAAUf,IACfiB,GAAOA,EACPA,GAAOD,EAET,OAAOC,CACT,CAGM,SAAUG,GAAOC,EAAgBL,EAAc,CACnD,GAAIK,IAAWrB,IAAOgB,GAAUhB,GAC9B,MAAM,IAAI,MAAM,6CAA6C,OAAAqB,EAAM,SAAQ,OAAAL,EAAQ,EAIrF,IAAIN,EAAID,GAAIY,EAAQL,CAAM,EACtBL,EAAIK,EAEJG,EAAInB,GAAKsB,EAAIrB,GAAKsB,EAAItB,GAAKuB,EAAIxB,GACnC,KAAOU,IAAMV,IAAK,CAEhB,IAAMyB,EAAId,EAAID,EACRgB,EAAIf,EAAID,EACRiB,EAAIR,EAAII,EAAIE,EACZG,EAAIN,EAAIE,EAAIC,EAElBd,EAAID,EAAGA,EAAIgB,EAAGP,EAAII,EAAGD,EAAIE,EAAGD,EAAII,EAAGH,EAAII,EAGzC,GADYjB,IACAV,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACzD,OAAOQ,GAAIU,EAAGH,CAAM,CACtB,CAUM,SAAUa,GAAcC,EAAS,CAMrC,IAAMC,GAAaD,EAAI7B,IAAOC,GAE1B8B,EAAWC,EAAWC,EAG1B,IAAKF,EAAIF,EAAI7B,GAAKgC,EAAI,EAAGD,EAAI9B,KAAQF,GAAKgC,GAAK9B,GAAK+B,IAAI,CAGxD,IAAKC,EAAIhC,GAAKgC,EAAIJ,GAAKjB,GAAIqB,EAAGH,EAAWD,CAAC,IAAMA,EAAI7B,GAAKiC,IAAI,CAG7D,GAAID,IAAM,EAAG,CACX,IAAME,GAAUL,EAAI7B,IAAOG,GAC3B,OAAO,SAAwBgC,EAAeR,EAAI,CAChD,IAAMS,EAAOD,EAAG,IAAIR,EAAGO,CAAM,EAC7B,GAAI,CAACC,EAAG,IAAIA,EAAG,IAAIC,CAAI,EAAGT,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOS,CACT,EAIF,IAAMC,GAAUN,EAAI/B,IAAOC,GAC3B,OAAO,SAAwBkC,EAAeR,EAAI,CAEhD,GAAIQ,EAAG,IAAIR,EAAGG,CAAS,IAAMK,EAAG,IAAIA,EAAG,GAAG,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACtF,IAAIV,EAAIO,EAEJM,EAAIH,EAAG,IAAIA,EAAG,IAAIA,EAAG,IAAKF,CAAC,EAAGF,CAAC,EAC/Bb,EAAIiB,EAAG,IAAIR,EAAGU,CAAM,EACpB3B,EAAIyB,EAAG,IAAIR,EAAGI,CAAC,EAEnB,KAAO,CAACI,EAAG,IAAIzB,EAAGyB,EAAG,GAAG,GAAG,CACzB,GAAIA,EAAG,IAAIzB,EAAGyB,EAAG,IAAI,EAAG,OAAOA,EAAG,KAElC,IAAIT,EAAI,EACR,QAASa,EAAKJ,EAAG,IAAIzB,CAAC,EAAGgB,EAAID,GACvB,CAAAU,EAAG,IAAII,EAAIJ,EAAG,GAAG,EADST,IAE9Ba,EAAKJ,EAAG,IAAII,CAAE,EAGhB,IAAMC,EAAKL,EAAG,IAAIG,EAAGtC,IAAO,OAAOyB,EAAIC,EAAI,CAAC,CAAC,EAC7CY,EAAIH,EAAG,IAAIK,CAAE,EACbtB,EAAIiB,EAAG,IAAIjB,EAAGsB,CAAE,EAChB9B,EAAIyB,EAAG,IAAIzB,EAAG4B,CAAC,EACfb,EAAIC,EAEN,OAAOR,CACT,CACF,CAEM,SAAUuB,GAAOZ,EAAS,CAM9B,GAAIA,EAAI1B,KAAQD,GAAK,CAKnB,IAAMgC,GAAUL,EAAI7B,IAAOG,GAC3B,OAAO,SAAsBgC,EAAeR,EAAI,CAC9C,IAAMS,EAAOD,EAAG,IAAIR,EAAGO,CAAM,EAE7B,GAAI,CAACC,EAAG,IAAIA,EAAG,IAAIC,CAAI,EAAGT,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOS,CACT,EAIF,GAAIP,EAAIxB,KAAQD,GAAK,CACnB,IAAMsC,GAAMb,EAAIzB,IAAOC,GACvB,OAAO,SAAsB8B,EAAeR,EAAI,CAC9C,IAAMgB,EAAKR,EAAG,IAAIR,EAAG1B,EAAG,EAClBsB,EAAIY,EAAG,IAAIQ,EAAID,CAAE,EACjBE,EAAKT,EAAG,IAAIR,EAAGJ,CAAC,EAChBsB,EAAIV,EAAG,IAAIA,EAAG,IAAIS,EAAI3C,EAAG,EAAGsB,CAAC,EAC7Ba,EAAOD,EAAG,IAAIS,EAAIT,EAAG,IAAIU,EAAGV,EAAG,GAAG,CAAC,EACzC,GAAI,CAACA,EAAG,IAAIA,EAAG,IAAIC,CAAI,EAAGT,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOS,CACT,EAIF,OAAIP,EAAItB,GAuBDqB,GAAcC,CAAC,CACxB,CAgDA,IAAMiB,GAAe,CACnB,SAAU,UAAW,MAAO,MAAO,MAAO,OAAQ,MAClD,MAAO,MAAO,MAAO,MAAO,MAAO,MACnC,OAAQ,OAAQ,OAAQ,QAEpB,SAAUC,GAAiBC,EAAgB,CAC/C,IAAMC,EAAU,CACd,MAAO,SACP,KAAM,SACN,MAAO,gBACP,KAAM,iBAEFC,EAAOJ,GAAa,OAAO,CAACK,EAAKC,KACrCD,EAAIC,CAAG,EAAI,WACJD,GACNF,CAAO,EACV,OAAOI,GAAeL,EAAOE,CAAI,CACnC,CAQM,SAAUI,GAASC,EAAcC,EAAQC,EAAa,CAG1D,GAAIA,EAAQC,GAAK,MAAM,IAAI,MAAM,oBAAoB,EACrD,GAAID,IAAUC,GAAK,OAAOH,EAAE,IAC5B,GAAIE,IAAUE,GAAK,OAAOH,EAC1B,IAAII,EAAIL,EAAE,IACNM,EAAIL,EACR,KAAOC,EAAQC,IACTD,EAAQE,KAAKC,EAAIL,EAAE,IAAIK,EAAGC,CAAC,GAC/BA,EAAIN,EAAE,IAAIM,CAAC,EACXJ,IAAUE,GAEZ,OAAOC,CACT,CAMM,SAAUE,GAAiBP,EAAcQ,EAAS,CACtD,IAAMC,EAAM,IAAI,MAAMD,EAAK,MAAM,EAE3BE,EAAiBF,EAAK,OAAO,CAACG,EAAKV,EAAKW,IACxCZ,EAAE,IAAIC,CAAG,EAAUU,GACvBF,EAAIG,CAAC,EAAID,EACFX,EAAE,IAAIW,EAAKV,CAAG,GACpBD,EAAE,GAAG,EAEFa,EAAWb,EAAE,IAAIU,CAAc,EAErC,OAAAF,EAAK,YAAY,CAACG,EAAKV,EAAKW,IACtBZ,EAAE,IAAIC,CAAG,EAAUU,GACvBF,EAAIG,CAAC,EAAIZ,EAAE,IAAIW,EAAKF,EAAIG,CAAC,CAAC,EACnBZ,EAAE,IAAIW,EAAKV,CAAG,GACpBY,CAAQ,EACJJ,CACT,CAgBM,SAAUK,GAAQC,EAAWC,EAAmB,CAEpD,IAAMC,EAAcD,IAAe,OAAYA,EAAaD,EAAE,SAAS,CAAC,EAAE,OACpEG,EAAc,KAAK,KAAKD,EAAc,CAAC,EAC7C,MAAO,CAAE,WAAYA,EAAa,YAAAC,CAAW,CAC/C,CAeM,SAAUC,GACdC,EACAC,EACAC,EAAO,GACPC,EAAiC,CAAA,EAAE,CAEnC,GAAIH,GAASI,GAAK,MAAM,IAAI,MAAM,iCAAiC,OAAAJ,EAAO,EAC1E,GAAM,CAAE,WAAYK,EAAM,YAAaC,CAAK,EAAKZ,GAAQM,EAAOC,CAAM,EACtE,GAAIK,EAAQ,KAAM,MAAM,IAAI,MAAM,iDAAiD,EACnF,IAAMC,EAAQC,GAAOR,CAAK,EACpBS,EAAuB,OAAO,OAAO,CACzC,MAAAT,EACA,KAAAK,EACA,MAAAC,EACA,KAAMI,GAAQL,CAAI,EAClB,KAAMD,GACN,IAAKO,GACL,OAASC,GAAQC,GAAID,EAAKZ,CAAK,EAC/B,QAAUY,GAAO,CACf,GAAI,OAAOA,GAAQ,SACjB,MAAM,IAAI,MAAM,+CAA+C,cAAOA,EAAK,EAC7E,OAAOR,IAAOQ,GAAOA,EAAMZ,CAC7B,EACA,IAAMY,GAAQA,IAAQR,GACtB,MAAQQ,IAASA,EAAMD,MAASA,GAChC,IAAMC,GAAQC,GAAI,CAACD,EAAKZ,CAAK,EAC7B,IAAK,CAACc,EAAKC,IAAQD,IAAQC,EAE3B,IAAMH,GAAQC,GAAID,EAAMA,EAAKZ,CAAK,EAClC,IAAK,CAACc,EAAKC,IAAQF,GAAIC,EAAMC,EAAKf,CAAK,EACvC,IAAK,CAACc,EAAKC,IAAQF,GAAIC,EAAMC,EAAKf,CAAK,EACvC,IAAK,CAACc,EAAKC,IAAQF,GAAIC,EAAMC,EAAKf,CAAK,EACvC,IAAK,CAACY,EAAKI,IAAUC,GAAMR,EAAGG,EAAKI,CAAK,EACxC,IAAK,CAACF,EAAKC,IAAQF,GAAIC,EAAMI,GAAOH,EAAKf,CAAK,EAAGA,CAAK,EAGtD,KAAOY,GAAQA,EAAMA,EACrB,KAAM,CAACE,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAE1B,IAAMH,GAAQM,GAAON,EAAKZ,CAAK,EAC/B,KAAMG,EAAM,OAAUR,GAAMY,EAAME,EAAGd,CAAC,GACtC,YAAcwB,GAAQC,GAAcX,EAAGU,CAAG,EAG1C,KAAM,CAACE,EAAGC,EAAGC,IAAOA,EAAID,EAAID,EAC5B,QAAUT,GAASV,EAAOsB,GAAgBZ,EAAKN,CAAK,EAAImB,GAAgBb,EAAKN,CAAK,EAClF,UAAYoB,GAAS,CACnB,GAAIA,EAAM,SAAWpB,EACnB,MAAM,IAAI,MAAM,0BAA0B,OAAAA,EAAK,UAAS,OAAAoB,EAAM,OAAQ,EACxE,OAAOxB,EAAOyB,GAAgBD,CAAK,EAAIE,GAAgBF,CAAK,CAC9D,EACU,EACZ,OAAO,OAAO,OAAOjB,CAAC,CACxB,CAwCM,SAAUoB,GAAoBC,EAAkB,CACpD,GAAI,OAAOA,GAAe,SAAU,MAAM,IAAI,MAAM,4BAA4B,EAChF,IAAMC,EAAYD,EAAW,SAAS,CAAC,EAAE,OACzC,OAAO,KAAK,KAAKC,EAAY,CAAC,CAChC,CASM,SAAUC,GAAiBF,EAAkB,CACjD,IAAMG,EAASJ,GAAoBC,CAAU,EAC7C,OAAOG,EAAS,KAAK,KAAKA,EAAS,CAAC,CACtC,CAeM,SAAUC,GAAeC,EAAiBL,EAAoBM,EAAO,GAAK,CAC9E,IAAMC,EAAMF,EAAI,OACVG,EAAWT,GAAoBC,CAAU,EACzCS,EAASP,GAAiBF,CAAU,EAE1C,GAAIO,EAAM,IAAMA,EAAME,GAAUF,EAAM,KACpC,MAAM,IAAI,MAAM,YAAY,OAAAE,EAAM,8BAA6B,OAAAF,EAAK,EACtE,IAAMG,EAAMJ,EAAOK,GAAgBN,CAAG,EAAIO,GAAgBP,CAAG,EAEvDQ,EAAUC,GAAIJ,EAAKV,EAAae,EAAG,EAAIA,GAC7C,OAAOT,EAAOU,GAAgBH,EAASL,CAAQ,EAAIS,GAAgBJ,EAASL,CAAQ,CACtF,CC/dA,IAAMU,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EAiCd,SAAUC,GAAyBC,EAAwBC,EAAY,CAC3E,IAAMC,EAAkB,CAACC,EAAoBC,IAAc,CACzD,IAAMC,EAAMD,EAAK,OAAM,EACvB,OAAOD,EAAYE,EAAMD,CAC3B,EACME,EAAQC,GAAa,CACzB,IAAMC,EAAU,KAAK,KAAKP,EAAOM,CAAC,EAAI,EAChCE,EAAa,IAAMF,EAAI,GAC7B,MAAO,CAAE,QAAAC,EAAS,WAAAC,CAAU,CAC9B,EACA,MAAO,CACL,gBAAAP,EAEA,aAAaQ,EAAQC,EAAS,CAC5B,IAAIC,EAAIZ,EAAE,KACNa,EAAOH,EACX,KAAOC,EAAId,IACLc,EAAIb,KAAKc,EAAIA,EAAE,IAAIC,CAAC,GACxBA,EAAIA,EAAE,OAAM,EACZF,IAAMb,GAER,OAAOc,CACT,EAYA,iBAAiBF,EAAQH,EAAS,CAChC,GAAM,CAAE,QAAAC,EAAS,WAAAC,CAAU,EAAKH,EAAKC,CAAC,EAChCO,EAAc,CAAA,EAChBF,EAAOF,EACPK,EAAOH,EACX,QAASI,EAAS,EAAGA,EAASR,EAASQ,IAAU,CAC/CD,EAAOH,EACPE,EAAO,KAAKC,CAAI,EAEhB,QAASE,EAAI,EAAGA,EAAIR,EAAYQ,IAC9BF,EAAOA,EAAK,IAAIH,CAAC,EACjBE,EAAO,KAAKC,CAAI,EAElBH,EAAIG,EAAK,OAAM,EAEjB,OAAOD,CACT,EASA,KAAKP,EAAWW,EAAkBP,EAAS,CAGzC,GAAM,CAAE,QAAAH,EAAS,WAAAC,CAAU,EAAKH,EAAKC,CAAC,EAElCK,EAAIZ,EAAE,KACNmB,EAAInB,EAAE,KAEJoB,EAAO,OAAO,GAAKb,EAAI,CAAC,EACxBc,EAAY,GAAKd,EACjBe,EAAU,OAAOf,CAAC,EAExB,QAASS,EAAS,EAAGA,EAASR,EAASQ,IAAU,CAC/C,IAAMO,EAASP,EAASP,EAEpBe,EAAQ,OAAOb,EAAIS,CAAI,EAG3BT,IAAMW,EAIFE,EAAQf,IACVe,GAASH,EACTV,GAAKb,IAWP,IAAM2B,EAAUF,EACVG,EAAUH,EAAS,KAAK,IAAIC,CAAK,EAAI,EACrCG,EAAQX,EAAS,IAAM,EACvBY,EAAQJ,EAAQ,EAClBA,IAAU,EAEZL,EAAIA,EAAE,IAAIjB,EAAgByB,EAAOT,EAAYO,CAAO,CAAC,CAAC,EAEtDb,EAAIA,EAAE,IAAIV,EAAgB0B,EAAOV,EAAYQ,CAAO,CAAC,CAAC,EAQ1D,MAAO,CAAE,EAAAd,EAAG,EAAAO,CAAC,CACf,EAEA,WAAWU,EAAMC,EAA6BnB,EAAWoB,EAAoB,CAE3E,IAAMxB,EAAYsB,EAAE,cAAgB,EAEhCG,EAAOF,EAAe,IAAID,CAAC,EAC/B,OAAKG,IACHA,EAAO,KAAK,iBAAiBH,EAAGtB,CAAC,EAC7BA,IAAM,GACRuB,EAAe,IAAID,EAAGE,EAAUC,CAAI,CAAC,GAGlC,KAAK,KAAKzB,EAAGyB,EAAMrB,CAAC,CAC7B,EAEJ,CAgBM,SAAUsB,GAAqBC,EAAyB,CAC5D,OAAAC,GAAcD,EAAM,EAAE,EACtBE,GACEF,EACA,CACE,EAAG,SACH,EAAG,SACH,GAAI,QACJ,GAAI,SAEN,CACE,WAAY,gBACZ,YAAa,gBACd,EAGI,OAAO,OAAOG,EAAAC,IAAA,GAChBC,GAAQL,EAAM,EAAGA,EAAM,UAAU,GACjCA,GAFgB,CAGd,EAAGA,EAAM,GAAG,OACT,CACZ,CChHA,SAASM,GAAqBC,EAAyB,CACrD,IAAMC,EAAOC,GAAcF,CAAK,EAC7BG,GACDF,EACA,CACE,EAAG,QACH,EAAG,SAEL,CACE,yBAA0B,QAC1B,eAAgB,UAChB,cAAe,WACf,cAAe,WACf,mBAAoB,UACpB,UAAW,WACX,QAAS,WACV,EAEH,GAAM,CAAE,KAAAG,EAAM,GAAAC,EAAI,EAAAC,CAAC,EAAKL,EACxB,GAAIG,EAAM,CACR,GAAI,CAACC,EAAG,IAAIC,EAAGD,EAAG,IAAI,EACpB,MAAM,IAAI,MAAM,mEAAmE,EAErF,GACE,OAAOD,GAAS,UAChB,OAAOA,EAAK,MAAS,UACrB,OAAOA,EAAK,aAAgB,WAE5B,MAAM,IAAI,MAAM,mEAAmE,EAGvF,OAAO,OAAO,OAAOG,EAAA,GAAKN,EAAe,CAC3C,CAUA,GAAM,CAAE,gBAAiBO,GAAK,WAAYC,EAAG,EAAKC,GACrCC,GAAM,CAEjB,IAAK,cAAqB,KAAK,CAC7B,YAAYC,EAAI,GAAE,CAChB,MAAMA,CAAC,CACT,GAEF,UAAUC,EAAgB,CACxB,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIE,EAAK,OAAS,GAAKA,EAAK,CAAC,IAAM,EAAM,MAAM,IAAIC,EAAE,+BAA+B,EACpF,IAAMC,EAAMF,EAAK,CAAC,EACZG,EAAMH,EAAK,SAAS,EAAGE,EAAM,CAAC,EACpC,GAAI,CAACA,GAAOC,EAAI,SAAWD,EAAK,MAAM,IAAID,EAAE,yCAAyC,EAKrF,GAAIE,EAAI,CAAC,EAAI,IAAY,MAAM,IAAIF,EAAE,qCAAqC,EAC1E,GAAIE,EAAI,CAAC,IAAM,GAAQ,EAAEA,EAAI,CAAC,EAAI,KAChC,MAAM,IAAIF,EAAE,qDAAqD,EACnE,MAAO,CAAE,EAAGN,GAAIQ,CAAG,EAAG,EAAGH,EAAK,SAASE,EAAM,CAAC,CAAC,CACjD,EACA,MAAME,EAAwB,CAE5B,GAAM,CAAE,IAAKH,CAAC,EAAKH,GACbE,EAAO,OAAOI,GAAQ,SAAWR,GAAIQ,CAAG,EAAIA,EAClD,GAAI,EAAEJ,aAAgB,YAAa,MAAM,IAAI,MAAM,eAAe,EAClE,IAAIK,EAAIL,EAAK,OACb,GAAIK,EAAI,GAAKL,EAAK,CAAC,GAAK,GAAM,MAAM,IAAIC,EAAE,uBAAuB,EACjE,GAAID,EAAK,CAAC,IAAMK,EAAI,EAAG,MAAM,IAAIJ,EAAE,qCAAqC,EACxE,GAAM,CAAE,EAAG,EAAG,EAAGK,CAAM,EAAKR,GAAI,UAAUE,EAAK,SAAS,CAAC,CAAC,EACpD,CAAE,EAAG,EAAG,EAAGO,CAAU,EAAKT,GAAI,UAAUQ,CAAM,EACpD,GAAIC,EAAW,OAAQ,MAAM,IAAIN,EAAE,6CAA6C,EAChF,MAAO,CAAE,EAAG,CAAC,CACf,EACA,WAAWO,EAA6B,CAEtC,IAAMC,EAASC,GAAuB,OAAO,SAASA,EAAE,CAAC,EAAG,EAAE,EAAI,EAAS,KAAOA,EAAIA,EAChFC,EAAKC,GAAwB,CACjC,IAAMR,EAAMQ,EAAI,SAAS,EAAE,EAC3B,OAAOR,EAAI,OAAS,EAAI,IAAI,OAAAA,GAAQA,CACtC,EACMM,EAAID,EAAME,EAAEH,EAAI,CAAC,CAAC,EAClB,EAAIC,EAAME,EAAEH,EAAI,CAAC,CAAC,EAClBK,EAAMH,EAAE,OAAS,EACjBI,EAAM,EAAE,OAAS,EACjBC,EAAKJ,EAAEE,CAAG,EACVG,EAAKL,EAAEG,CAAG,EAChB,MAAO,KAAK,OAAAH,EAAEG,EAAMD,EAAM,CAAC,EAAC,MAAK,OAAAG,GAAK,SAAC,MAAK,OAAAD,GAAK,OAAAL,EACnD,GAKIO,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,IAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,IAAM,OAAO,CAAC,EAElF,SAAUC,GAAqBlC,EAAwB,CAC3D,IAAMmC,EAAQrC,GAAkBE,CAAI,EAC9B,CAAE,GAAAI,CAAE,EAAK+B,EAETC,EACJD,EAAM,UACL,CAACE,EAAwBC,EAAyBC,IAA0B,CAC3E,IAAMlC,EAAIiC,EAAM,SAAQ,EACxB,OAAUE,GAAY,WAAW,KAAK,CAAC,CAAI,CAAC,EAAGpC,EAAG,QAAQC,EAAE,CAAC,EAAGD,EAAG,QAAQC,EAAE,CAAC,CAAC,CACjF,GACIoC,EACJN,EAAM,YACJO,GAAqB,CAErB,IAAMC,EAAOD,EAAM,SAAS,CAAC,EAEvBE,EAAIxC,EAAG,UAAUuC,EAAK,SAAS,EAAGvC,EAAG,KAAK,CAAC,EAC3CyC,EAAIzC,EAAG,UAAUuC,EAAK,SAASvC,EAAG,MAAO,EAAIA,EAAG,KAAK,CAAC,EAC5D,MAAO,CAAE,EAAAwC,EAAG,EAAAC,CAAC,CACf,GAMF,SAASC,EAAoBF,EAAI,CAC/B,GAAM,CAAE,EAAAvC,EAAG,EAAA0C,CAAC,EAAKZ,EACXa,EAAK5C,EAAG,IAAIwC,CAAC,EACbK,EAAK7C,EAAG,IAAI4C,EAAIJ,CAAC,EACvB,OAAOxC,EAAG,IAAIA,EAAG,IAAI6C,EAAI7C,EAAG,IAAIwC,EAAGvC,CAAC,CAAC,EAAG0C,CAAC,CAC3C,CAKA,GAAI,CAAC3C,EAAG,IAAIA,EAAG,IAAI+B,EAAM,EAAE,EAAGW,EAAoBX,EAAM,EAAE,CAAC,EACzD,MAAM,IAAI,MAAM,6CAA6C,EAG/D,SAASe,EAAmB1B,EAAW,CACrC,OAAO,OAAOA,GAAQ,UAAYK,GAAML,GAAOA,EAAMW,EAAM,CAC7D,CACA,SAASgB,EAAS3B,EAAW,CAC3B,GAAI,CAAC0B,EAAmB1B,CAAG,EAAG,MAAM,IAAI,MAAM,6CAA6C,CAC7F,CAGA,SAAS4B,EAAuBC,EAAY,CAC1C,GAAM,CAAE,yBAA0BC,EAAS,YAAAC,EAAa,eAAAC,EAAgB,EAAAC,CAAC,EAAKtB,EAC9E,GAAImB,GAAW,OAAOD,GAAQ,SAAU,CAGtC,GAFIA,aAAe,aAAYA,EAASK,GAAWL,CAAG,GAElD,OAAOA,GAAQ,UAAY,CAACC,EAAQ,SAASD,EAAI,MAAM,EAAG,MAAM,IAAI,MAAM,aAAa,EAC3FA,EAAMA,EAAI,SAASE,EAAc,EAAG,GAAG,EAEzC,IAAI/B,EACJ,GAAI,CACFA,EACE,OAAO6B,GAAQ,SACXA,EACGM,GAAgBC,GAAY,cAAeP,EAAKE,CAAW,CAAC,QAC9DM,EAAO,CACd,MAAM,IAAI,MAAM,uBAAuB,OAAAN,EAAW,+BAA8B,cAAOF,EAAK,EAE9F,OAAIG,IAAgBhC,EAAUsC,GAAItC,EAAKiC,CAAC,GACxCN,EAAS3B,CAAG,EACLA,CACT,CAEA,IAAMuC,EAAmB,IAAI,IAC7B,SAASC,EAAeC,EAAc,CACpC,GAAI,EAAEA,aAAiBC,GAAQ,MAAM,IAAI,MAAM,0BAA0B,CAC3E,CAMA,MAAMA,CAAK,CAIT,YAAqBC,EAAgBC,EAAgBC,EAAK,CACxD,GADmB,KAAA,GAAAF,EAAgB,KAAA,GAAAC,EAAgB,KAAA,GAAAC,EAC/CF,GAAM,MAAQ,CAAC/D,EAAG,QAAQ+D,CAAE,EAAG,MAAM,IAAI,MAAM,YAAY,EAC/D,GAAIC,GAAM,MAAQ,CAAChE,EAAG,QAAQgE,CAAE,EAAG,MAAM,IAAI,MAAM,YAAY,EAC/D,GAAIC,GAAM,MAAQ,CAACjE,EAAG,QAAQiE,CAAE,EAAG,MAAM,IAAI,MAAM,YAAY,CACjE,CAIA,OAAO,WAAW,EAAiB,CACjC,GAAM,CAAE,EAAAzB,EAAG,EAAAC,CAAC,EAAK,GAAK,CAAA,EACtB,GAAI,CAAC,GAAK,CAACzC,EAAG,QAAQwC,CAAC,GAAK,CAACxC,EAAG,QAAQyC,CAAC,EAAG,MAAM,IAAI,MAAM,sBAAsB,EAClF,GAAI,aAAaqB,EAAO,MAAM,IAAI,MAAM,8BAA8B,EACtE,IAAMI,EAAOC,GAASnE,EAAG,IAAImE,EAAGnE,EAAG,IAAI,EAEvC,OAAIkE,EAAI1B,CAAC,GAAK0B,EAAIzB,CAAC,EAAUqB,EAAM,KAC5B,IAAIA,EAAMtB,EAAGC,EAAGzC,EAAG,GAAG,CAC/B,CAEA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CACA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CAQA,OAAO,WAAWoE,EAAe,CAC/B,IAAMC,EAAQrE,EAAG,YAAYoE,EAAO,IAAKE,GAAMA,EAAE,EAAE,CAAC,EACpD,OAAOF,EAAO,IAAI,CAACE,EAAGH,IAAMG,EAAE,SAASD,EAAMF,CAAC,CAAC,CAAC,EAAE,IAAIL,EAAM,UAAU,CACxE,CAMA,OAAO,QAAQlD,EAAQ,CACrB,IAAM2D,EAAIT,EAAM,WAAWzB,EAAUmB,GAAY,WAAY5C,CAAG,CAAC,CAAC,EAClE,OAAA2D,EAAE,eAAc,EACTA,CACT,CAGA,OAAO,eAAeC,EAAmB,CACvC,OAAOV,EAAM,KAAK,SAASd,EAAuBwB,CAAU,CAAC,CAC/D,CAQA,eAAeC,EAAkB,CAC/B,KAAK,aAAeA,EACpBd,EAAiB,OAAO,IAAI,CAC9B,CAGA,gBAAc,CACZ,GAAI,KAAK,IAAG,EAAI,CAId,GAAI5B,EAAM,oBAAsB,CAAC/B,EAAG,IAAI,KAAK,EAAE,EAAG,OAClD,MAAM,IAAI,MAAM,iBAAiB,EAGnC,GAAM,CAAE,EAAAwC,EAAG,EAAAC,CAAC,EAAK,KAAK,SAAQ,EAE9B,GAAI,CAACzC,EAAG,QAAQwC,CAAC,GAAK,CAACxC,EAAG,QAAQyC,CAAC,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAChF,IAAMiC,EAAO1E,EAAG,IAAIyC,CAAC,EACfkC,EAAQjC,EAAoBF,CAAC,EACnC,GAAI,CAACxC,EAAG,IAAI0E,EAAMC,CAAK,EAAG,MAAM,IAAI,MAAM,mCAAmC,EAC7E,GAAI,CAAC,KAAK,cAAa,EAAI,MAAM,IAAI,MAAM,wCAAwC,CACrF,CACA,UAAQ,CACN,GAAM,CAAE,EAAAlC,CAAC,EAAK,KAAK,SAAQ,EAC3B,GAAIzC,EAAG,MAAO,MAAO,CAACA,EAAG,MAAMyC,CAAC,EAChC,MAAM,IAAI,MAAM,6BAA6B,CAC/C,CAKA,OAAOoB,EAAY,CACjBD,EAAeC,CAAK,EACpB,GAAM,CAAE,GAAIe,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKpB,EAC7BqB,EAAKlF,EAAG,IAAIA,EAAG,IAAI4E,EAAIK,CAAE,EAAGjF,EAAG,IAAI+E,EAAID,CAAE,CAAC,EAC1CK,EAAKnF,EAAG,IAAIA,EAAG,IAAI6E,EAAII,CAAE,EAAGjF,EAAG,IAAIgF,EAAIF,CAAE,CAAC,EAChD,OAAOI,GAAMC,CACf,CAKA,QAAM,CACJ,OAAO,IAAIrB,EAAM,KAAK,GAAI9D,EAAG,IAAI,KAAK,EAAE,EAAG,KAAK,EAAE,CACpD,CAMA,QAAM,CACJ,GAAM,CAAE,EAAAC,EAAG,EAAA0C,CAAC,EAAKZ,EACXqD,EAAKpF,EAAG,IAAI2C,EAAGf,EAAG,EAClB,CAAE,GAAIgD,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC/BO,EAAKrF,EAAG,KAAMsF,EAAKtF,EAAG,KAAMuF,EAAKvF,EAAG,KACpCwF,EAAKxF,EAAG,IAAI4E,EAAIA,CAAE,EAClBa,EAAKzF,EAAG,IAAI6E,EAAIA,CAAE,EAClBa,EAAK1F,EAAG,IAAI8E,EAAIA,CAAE,EAClBa,EAAK3F,EAAG,IAAI4E,EAAIC,CAAE,EACtB,OAAAc,EAAK3F,EAAG,IAAI2F,EAAIA,CAAE,EAClBJ,EAAKvF,EAAG,IAAI4E,EAAIE,CAAE,EAClBS,EAAKvF,EAAG,IAAIuF,EAAIA,CAAE,EAClBF,EAAKrF,EAAG,IAAIC,EAAGsF,CAAE,EACjBD,EAAKtF,EAAG,IAAIoF,EAAIM,CAAE,EAClBJ,EAAKtF,EAAG,IAAIqF,EAAIC,CAAE,EAClBD,EAAKrF,EAAG,IAAIyF,EAAIH,CAAE,EAClBA,EAAKtF,EAAG,IAAIyF,EAAIH,CAAE,EAClBA,EAAKtF,EAAG,IAAIqF,EAAIC,CAAE,EAClBD,EAAKrF,EAAG,IAAI2F,EAAIN,CAAE,EAClBE,EAAKvF,EAAG,IAAIoF,EAAIG,CAAE,EAClBG,EAAK1F,EAAG,IAAIC,EAAGyF,CAAE,EACjBC,EAAK3F,EAAG,IAAIwF,EAAIE,CAAE,EAClBC,EAAK3F,EAAG,IAAIC,EAAG0F,CAAE,EACjBA,EAAK3F,EAAG,IAAI2F,EAAIJ,CAAE,EAClBA,EAAKvF,EAAG,IAAIwF,EAAIA,CAAE,EAClBA,EAAKxF,EAAG,IAAIuF,EAAIC,CAAE,EAClBA,EAAKxF,EAAG,IAAIwF,EAAIE,CAAE,EAClBF,EAAKxF,EAAG,IAAIwF,EAAIG,CAAE,EAClBL,EAAKtF,EAAG,IAAIsF,EAAIE,CAAE,EAClBE,EAAK1F,EAAG,IAAI6E,EAAIC,CAAE,EAClBY,EAAK1F,EAAG,IAAI0F,EAAIA,CAAE,EAClBF,EAAKxF,EAAG,IAAI0F,EAAIC,CAAE,EAClBN,EAAKrF,EAAG,IAAIqF,EAAIG,CAAE,EAClBD,EAAKvF,EAAG,IAAI0F,EAAID,CAAE,EAClBF,EAAKvF,EAAG,IAAIuF,EAAIA,CAAE,EAClBA,EAAKvF,EAAG,IAAIuF,EAAIA,CAAE,EACX,IAAIzB,EAAMuB,EAAIC,EAAIC,CAAE,CAC7B,CAMA,IAAI1B,EAAY,CACdD,EAAeC,CAAK,EACpB,GAAM,CAAE,GAAIe,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKpB,EAC/BwB,EAAKrF,EAAG,KAAMsF,EAAKtF,EAAG,KAAMuF,EAAKvF,EAAG,KAClCC,EAAI8B,EAAM,EACVqD,EAAKpF,EAAG,IAAI+B,EAAM,EAAGH,EAAG,EAC1B4D,EAAKxF,EAAG,IAAI4E,EAAIG,CAAE,EAClBU,EAAKzF,EAAG,IAAI6E,EAAIG,CAAE,EAClBU,EAAK1F,EAAG,IAAI8E,EAAIG,CAAE,EAClBU,EAAK3F,EAAG,IAAI4E,EAAIC,CAAE,EAClBe,EAAK5F,EAAG,IAAI+E,EAAIC,CAAE,EACtBW,EAAK3F,EAAG,IAAI2F,EAAIC,CAAE,EAClBA,EAAK5F,EAAG,IAAIwF,EAAIC,CAAE,EAClBE,EAAK3F,EAAG,IAAI2F,EAAIC,CAAE,EAClBA,EAAK5F,EAAG,IAAI4E,EAAIE,CAAE,EAClB,IAAIe,EAAK7F,EAAG,IAAI+E,EAAIE,CAAE,EACtB,OAAAW,EAAK5F,EAAG,IAAI4F,EAAIC,CAAE,EAClBA,EAAK7F,EAAG,IAAIwF,EAAIE,CAAE,EAClBE,EAAK5F,EAAG,IAAI4F,EAAIC,CAAE,EAClBA,EAAK7F,EAAG,IAAI6E,EAAIC,CAAE,EAClBO,EAAKrF,EAAG,IAAIgF,EAAIC,CAAE,EAClBY,EAAK7F,EAAG,IAAI6F,EAAIR,CAAE,EAClBA,EAAKrF,EAAG,IAAIyF,EAAIC,CAAE,EAClBG,EAAK7F,EAAG,IAAI6F,EAAIR,CAAE,EAClBE,EAAKvF,EAAG,IAAIC,EAAG2F,CAAE,EACjBP,EAAKrF,EAAG,IAAIoF,EAAIM,CAAE,EAClBH,EAAKvF,EAAG,IAAIqF,EAAIE,CAAE,EAClBF,EAAKrF,EAAG,IAAIyF,EAAIF,CAAE,EAClBA,EAAKvF,EAAG,IAAIyF,EAAIF,CAAE,EAClBD,EAAKtF,EAAG,IAAIqF,EAAIE,CAAE,EAClBE,EAAKzF,EAAG,IAAIwF,EAAIA,CAAE,EAClBC,EAAKzF,EAAG,IAAIyF,EAAID,CAAE,EAClBE,EAAK1F,EAAG,IAAIC,EAAGyF,CAAE,EACjBE,EAAK5F,EAAG,IAAIoF,EAAIQ,CAAE,EAClBH,EAAKzF,EAAG,IAAIyF,EAAIC,CAAE,EAClBA,EAAK1F,EAAG,IAAIwF,EAAIE,CAAE,EAClBA,EAAK1F,EAAG,IAAIC,EAAGyF,CAAE,EACjBE,EAAK5F,EAAG,IAAI4F,EAAIF,CAAE,EAClBF,EAAKxF,EAAG,IAAIyF,EAAIG,CAAE,EAClBN,EAAKtF,EAAG,IAAIsF,EAAIE,CAAE,EAClBA,EAAKxF,EAAG,IAAI6F,EAAID,CAAE,EAClBP,EAAKrF,EAAG,IAAI2F,EAAIN,CAAE,EAClBA,EAAKrF,EAAG,IAAIqF,EAAIG,CAAE,EAClBA,EAAKxF,EAAG,IAAI2F,EAAIF,CAAE,EAClBF,EAAKvF,EAAG,IAAI6F,EAAIN,CAAE,EAClBA,EAAKvF,EAAG,IAAIuF,EAAIC,CAAE,EACX,IAAI1B,EAAMuB,EAAIC,EAAIC,CAAE,CAC7B,CAEA,SAAS1B,EAAY,CACnB,OAAO,KAAK,IAAIA,EAAM,OAAM,CAAE,CAChC,CAEQ,KAAG,CACT,OAAO,KAAK,OAAOC,EAAM,IAAI,CAC/B,CACQ,KAAKT,EAAS,CACpB,OAAOyC,EAAK,WAAW,KAAMnC,EAAkBN,EAAI0C,GAAiB,CAClE,IAAM1B,EAAQrE,EAAG,YAAY+F,EAAK,IAAKzB,GAAMA,EAAE,EAAE,CAAC,EAClD,OAAOyB,EAAK,IAAI,CAACzB,EAAGH,IAAMG,EAAE,SAASD,EAAMF,CAAC,CAAC,CAAC,EAAE,IAAIL,EAAM,UAAU,CACtE,CAAC,CACH,CAOA,eAAeT,EAAS,CACtB,IAAM2C,EAAIlC,EAAM,KAChB,GAAIT,IAAM5B,GAAK,OAAOuE,EAEtB,GADAjD,EAASM,CAAC,EACNA,IAAM3B,GAAK,OAAO,KACtB,GAAM,CAAE,KAAA3B,CAAI,EAAKgC,EACjB,GAAI,CAAChC,EAAM,OAAO+F,EAAK,aAAa,KAAMzC,CAAC,EAG3C,GAAI,CAAE,MAAA4C,EAAO,GAAAC,EAAI,MAAAC,EAAO,GAAAC,CAAE,EAAKrG,EAAK,YAAYsD,CAAC,EAC7CgD,EAAML,EACNM,EAAMN,EACNO,EAAW,KACf,KAAOL,EAAKzE,IAAO2E,EAAK3E,IAClByE,EAAKxE,KAAK2E,EAAMA,EAAI,IAAIE,CAAC,GACzBH,EAAK1E,KAAK4E,EAAMA,EAAI,IAAIC,CAAC,GAC7BA,EAAIA,EAAE,OAAM,EACZL,IAAOxE,GACP0E,IAAO1E,GAET,OAAIuE,IAAOI,EAAMA,EAAI,OAAM,GACvBF,IAAOG,EAAMA,EAAI,OAAM,GAC3BA,EAAM,IAAIxC,EAAM9D,EAAG,IAAIsG,EAAI,GAAIvG,EAAK,IAAI,EAAGuG,EAAI,GAAIA,EAAI,EAAE,EAClDD,EAAI,IAAIC,CAAG,CACpB,CAWA,SAASE,EAAc,CACrBzD,EAASyD,CAAM,EACf,IAAInD,EAAImD,EACJtE,EAAcuE,EACZ,CAAE,KAAA1G,CAAI,EAAKgC,EACjB,GAAIhC,EAAM,CACR,GAAM,CAAE,MAAAkG,EAAO,GAAAC,EAAI,MAAAC,EAAO,GAAAC,CAAE,EAAKrG,EAAK,YAAYsD,CAAC,EAC/C,CAAE,EAAGgD,EAAK,EAAGK,CAAG,EAAK,KAAK,KAAKR,CAAE,EACjC,CAAE,EAAGI,EAAK,EAAGK,CAAG,EAAK,KAAK,KAAKP,CAAE,EACrCC,EAAMP,EAAK,gBAAgBG,EAAOI,CAAG,EACrCC,EAAMR,EAAK,gBAAgBK,EAAOG,CAAG,EACrCA,EAAM,IAAIxC,EAAM9D,EAAG,IAAIsG,EAAI,GAAIvG,EAAK,IAAI,EAAGuG,EAAI,GAAIA,EAAI,EAAE,EACzDpE,EAAQmE,EAAI,IAAIC,CAAG,EACnBG,EAAOC,EAAI,IAAIC,CAAG,MACb,CACL,GAAM,CAAE,EAAArC,EAAG,EAAAsC,CAAC,EAAK,KAAK,KAAKvD,CAAC,EAC5BnB,EAAQoC,EACRmC,EAAOG,EAGT,OAAO9C,EAAM,WAAW,CAAC5B,EAAOuE,CAAI,CAAC,EAAE,CAAC,CAC1C,CAQA,qBAAqBI,EAAU5G,EAAW0C,EAAS,CACjD,IAAMmE,EAAIhD,EAAM,KACViD,EAAM,CACVxC,EACAtE,IACIA,IAAMwB,IAAOxB,IAAMyB,IAAO,CAAC6C,EAAE,OAAOuC,CAAC,EAAIvC,EAAE,eAAetE,CAAC,EAAIsE,EAAE,SAAStE,CAAC,EAC3E+G,EAAMD,EAAI,KAAM9G,CAAC,EAAE,IAAI8G,EAAIF,EAAGlE,CAAC,CAAC,EACtC,OAAOqE,EAAI,IAAG,EAAK,OAAYA,CACjC,CAKA,SAASC,EAAM,CACb,GAAM,CAAE,GAAIzE,EAAG,GAAIC,EAAG,GAAIyE,CAAC,EAAK,KAC1BhD,EAAM,KAAK,IAAG,EAGhB+C,GAAM,OAAMA,EAAK/C,EAAMlE,EAAG,IAAMA,EAAG,IAAIkH,CAAC,GAC5C,IAAMC,EAAKnH,EAAG,IAAIwC,EAAGyE,CAAE,EACjBG,EAAKpH,EAAG,IAAIyC,EAAGwE,CAAE,EACjBI,EAAKrH,EAAG,IAAIkH,EAAGD,CAAE,EACvB,GAAI/C,EAAK,MAAO,CAAE,EAAGlE,EAAG,KAAM,EAAGA,EAAG,IAAI,EACxC,GAAI,CAACA,EAAG,IAAIqH,EAAIrH,EAAG,GAAG,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3D,MAAO,CAAE,EAAGmH,EAAI,EAAGC,CAAE,CACvB,CACA,eAAa,CACX,GAAM,CAAE,EAAGE,EAAU,cAAAC,CAAa,EAAKxF,EACvC,GAAIuF,IAAa5F,GAAK,MAAO,GAC7B,GAAI6F,EAAe,OAAOA,EAAczD,EAAO,IAAI,EACnD,MAAM,IAAI,MAAM,8DAA8D,CAChF,CACA,eAAa,CACX,GAAM,CAAE,EAAGwD,EAAU,cAAAE,CAAa,EAAKzF,EACvC,OAAIuF,IAAa5F,GAAY,KACzB8F,EAAsBA,EAAc1D,EAAO,IAAI,EAC5C,KAAK,eAAe/B,EAAM,CAAC,CACpC,CAEA,WAAW0F,EAAe,GAAI,CAC5B,YAAK,eAAc,EACZzF,EAAQ8B,EAAO,KAAM2D,CAAY,CAC1C,CAEA,MAAMA,EAAe,GAAI,CACvB,OAAUnE,GAAW,KAAK,WAAWmE,CAAY,CAAC,CACpD,EA9UgB3D,EAAA,KAAO,IAAIA,EAAM/B,EAAM,GAAIA,EAAM,GAAI/B,EAAG,GAAG,EAC3C8D,EAAA,KAAO,IAAIA,EAAM9D,EAAG,KAAMA,EAAG,IAAKA,EAAG,IAAI,EA+U3D,IAAM0H,EAAQ3F,EAAM,WACd+D,EAAO6B,GAAK7D,EAAO/B,EAAM,KAAO,KAAK,KAAK2F,EAAQ,CAAC,EAAIA,CAAK,EAElE,MAAO,CACL,MAAA3F,EACA,gBAAiB+B,EACjB,uBAAAd,EACA,oBAAAN,EACA,mBAAAI,EAEJ,CAwCA,SAAS8E,GAAajI,EAAgB,CACpC,IAAMC,EAAOC,GAAcF,CAAK,EAChC,OAAGG,GACDF,EACA,CACE,KAAM,OACN,KAAM,WACN,YAAa,YAEf,CACE,SAAU,WACV,cAAe,WACf,KAAM,UACP,EAEI,OAAO,OAAOM,EAAA,CAAE,KAAM,IAASN,EAAe,CACvD,CAkBM,SAAUiI,GAAYC,EAAmB,CAC7C,IAAM/F,EAAQ6F,GAAaE,CAAQ,EAC7B,CAAE,GAAA9H,EAAI,EAAG+H,CAAW,EAAKhG,EACzBiG,EAAgBhI,EAAG,MAAQ,EAC3BiI,EAAkB,EAAIjI,EAAG,MAAQ,EAEvC,SAASkI,EAAoB9G,EAAW,CACtC,OAAOK,GAAML,GAAOA,EAAMpB,EAAG,KAC/B,CACA,SAASmI,EAAKlI,EAAS,CACrB,OAAWyD,GAAIzD,EAAG8H,CAAW,CAC/B,CACA,SAASK,EAAKnI,EAAS,CACrB,OAAWoI,GAAOpI,EAAG8H,CAAW,CAClC,CAEA,GAAM,CACJ,gBAAiBjE,EACjB,uBAAAd,EACA,oBAAAN,EACA,mBAAAI,CAAkB,EAChBhB,GAAkBwG,EAAApI,EAAA,GACjB6B,GADiB,CAEpB,QAAQE,EAAIC,EAAOuF,EAAqB,CACtC,IAAMxH,EAAIiC,EAAM,SAAQ,EAClBM,EAAIxC,EAAG,QAAQC,EAAE,CAAC,EAClBsI,EAASnG,GACf,OAAIqF,EACKc,EAAI,WAAW,KAAK,CAACrG,EAAM,SAAQ,EAAK,EAAO,CAAI,CAAC,EAAGM,CAAC,EAExD+F,EAAI,WAAW,KAAK,CAAC,CAAI,CAAC,EAAG/F,EAAGxC,EAAG,QAAQC,EAAE,CAAC,CAAC,CAE1D,EACA,UAAUqC,EAAiB,CACzB,IAAM5B,EAAM4B,EAAM,OACZkG,EAAOlG,EAAM,CAAC,EACdC,EAAOD,EAAM,SAAS,CAAC,EAE7B,GAAI5B,IAAQsH,IAAkBQ,IAAS,GAAQA,IAAS,GAAO,CAC7D,IAAMhG,EAAOe,GAAgBhB,CAAI,EACjC,GAAI,CAAC2F,EAAoB1F,CAAC,EAAG,MAAM,IAAI,MAAM,uBAAuB,EACpE,IAAMiG,EAAK/F,EAAoBF,CAAC,EAC5BC,EAAIzC,EAAG,KAAKyI,CAAE,EACZC,GAAUjG,EAAIf,MAASA,GAG7B,OADmB8G,EAAO,KAAO,IACfE,IAAQjG,EAAIzC,EAAG,IAAIyC,CAAC,GAC/B,CAAE,EAAAD,EAAG,EAAAC,CAAC,UACJ/B,IAAQuH,GAAmBO,IAAS,EAAM,CACnD,IAAMhG,EAAIxC,EAAG,UAAUuC,EAAK,SAAS,EAAGvC,EAAG,KAAK,CAAC,EAC3CyC,EAAIzC,EAAG,UAAUuC,EAAK,SAASvC,EAAG,MAAO,EAAIA,EAAG,KAAK,CAAC,EAC5D,MAAO,CAAE,EAAAwC,EAAG,EAAAC,CAAC,MAEb,OAAM,IAAI,MACR,mBAAmB,OAAA/B,EAAG,2BAA0B,OAAAsH,EAAa,yBAAwB,OAAAC,EAAe,sBAAqB,CAG/H,GACD,EACKU,EAAiBvH,GAClBkC,GAAcsF,GAAgBxH,EAAKW,EAAM,WAAW,CAAC,EAE1D,SAAS8G,EAAsBC,EAAc,CAC3C,IAAMC,EAAOhB,GAAerG,GAC5B,OAAOoH,EAASC,CAClB,CAEA,SAASC,EAAW9H,EAAS,CAC3B,OAAO2H,EAAsB3H,CAAC,EAAIiH,EAAK,CAACjH,CAAC,EAAIA,CAC/C,CAEA,IAAM+H,EAAS,CAACtG,EAAeuG,EAAcC,IAAkB5F,GAAgBZ,EAAE,MAAMuG,EAAMC,CAAE,CAAC,EAKhG,MAAMC,CAAS,CACb,YAAqBC,EAAoBnI,EAAoBoI,EAAiB,CAAzD,KAAA,EAAAD,EAAoB,KAAA,EAAAnI,EAAoB,KAAA,SAAAoI,EAC3D,KAAK,eAAc,CACrB,CAGA,OAAO,YAAY1I,EAAQ,CACzB,IAAMC,EAAIkB,EAAM,YAChB,OAAAnB,EAAM4C,GAAY,mBAAoB5C,EAAKC,EAAI,CAAC,EACzC,IAAIuI,EAAUH,EAAOrI,EAAK,EAAGC,CAAC,EAAGoI,EAAOrI,EAAKC,EAAG,EAAIA,CAAC,CAAC,CAC/D,CAIA,OAAO,QAAQD,EAAQ,CACrB,GAAM,CAAE,EAAAyI,EAAG,EAAAnI,CAAC,EAAKZ,GAAI,MAAMkD,GAAY,MAAO5C,CAAG,CAAC,EAClD,OAAO,IAAIwI,EAAUC,EAAGnI,CAAC,CAC3B,CAEA,gBAAc,CAEZ,GAAI,CAAC4B,EAAmB,KAAK,CAAC,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAC5E,GAAI,CAACA,EAAmB,KAAK,CAAC,EAAG,MAAM,IAAI,MAAM,2BAA2B,CAC9E,CAEA,eAAewG,EAAgB,CAC7B,OAAO,IAAIF,EAAU,KAAK,EAAG,KAAK,EAAGE,CAAQ,CAC/C,CAEA,iBAAiBC,EAAY,CAC3B,GAAM,CAAE,EAAAF,EAAG,EAAAnI,EAAG,SAAUsI,CAAG,EAAK,KAC1BrI,EAAIsI,EAAcjG,GAAY,UAAW+F,CAAO,CAAC,EACvD,GAAIC,GAAO,MAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASA,CAAG,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACrF,IAAME,EAAOF,IAAQ,GAAKA,IAAQ,EAAIH,EAAItH,EAAM,EAAIsH,EACpD,GAAIK,GAAQ1J,EAAG,MAAO,MAAM,IAAI,MAAM,4BAA4B,EAClE,IAAM2J,GAAUH,EAAM,KAAO,EAAI,KAAO,KAClCI,EAAI9F,EAAM,QAAQ6F,EAAShB,EAAce,CAAI,CAAC,EAC9CG,EAAKzB,EAAKsB,CAAI,EACdI,EAAK3B,EAAK,CAAChH,EAAI0I,CAAE,EACjBE,EAAK5B,EAAKjH,EAAI2I,CAAE,EAChBhD,GAAI/C,EAAM,KAAK,qBAAqB8F,EAAGE,EAAIC,CAAE,EACnD,GAAI,CAAClD,GAAG,MAAM,IAAI,MAAM,mBAAmB,EAC3C,OAAAA,GAAE,eAAc,EACTA,EACT,CAGA,UAAQ,CACN,OAAOgC,EAAsB,KAAK,CAAC,CACrC,CAEA,YAAU,CACR,OAAO,KAAK,SAAQ,EAAK,IAAIO,EAAU,KAAK,EAAGjB,EAAK,CAAC,KAAK,CAAC,EAAG,KAAK,QAAQ,EAAI,IACjF,CAGA,eAAa,CACX,OAAU6B,GAAW,KAAK,SAAQ,CAAE,CACtC,CACA,UAAQ,CACN,OAAO1J,GAAI,WAAW,CAAE,EAAG,KAAK,EAAG,EAAG,KAAK,CAAC,CAAE,CAChD,CAGA,mBAAiB,CACf,OAAU0J,GAAW,KAAK,aAAY,CAAE,CAC1C,CACA,cAAY,CACV,OAAOrB,EAAc,KAAK,CAAC,EAAIA,EAAc,KAAK,CAAC,CACrD,EAIF,IAAMsB,EAAQ,CACZ,kBAAkBzF,EAAmB,CACnC,GAAI,CACF,OAAAxB,EAAuBwB,CAAU,EAC1B,SACAf,EAAO,CACd,MAAO,GAEX,EACA,uBAAwBT,EAMxB,iBAAkB,IAAiB,CACjC,IAAMkH,EAAaC,GAAiBpI,EAAM,CAAC,EAC3C,OAAWqI,GAAerI,EAAM,YAAYmI,CAAM,EAAGnI,EAAM,CAAC,CAC9D,EAUA,WAAW0C,EAAa,EAAGvC,EAAQ4B,EAAM,KAAI,CAC3C,OAAA5B,EAAM,eAAeuC,CAAU,EAC/BvC,EAAM,SAAS,OAAO,CAAC,CAAC,EACjBA,CACT,GASF,SAASmI,EAAa7F,EAAqBiD,EAAe,GAAI,CAC5D,OAAO3D,EAAM,eAAeU,CAAU,EAAE,WAAWiD,CAAY,CACjE,CAKA,SAAS6C,EAAUC,EAAsB,CACvC,IAAMC,EAAMD,aAAgB,WACtBE,EAAM,OAAOF,GAAS,SACtB7J,GAAO8J,GAAOC,IAASF,EAAa,OAC1C,OAAIC,EAAY9J,IAAQsH,GAAiBtH,IAAQuH,EAC7CwC,EAAY/J,IAAQ,EAAIsH,GAAiBtH,IAAQ,EAAIuH,EACrDsC,aAAgBzG,CAEtB,CAYA,SAAS4G,EAAgBC,EAAmBC,EAAcnD,EAAe,GAAI,CAC3E,GAAI6C,EAAUK,CAAQ,EAAG,MAAM,IAAI,MAAM,+BAA+B,EACxE,GAAI,CAACL,EAAUM,CAAO,EAAG,MAAM,IAAI,MAAM,+BAA+B,EAExE,OADU9G,EAAM,QAAQ8G,CAAO,EACtB,SAAS5H,EAAuB2H,CAAQ,CAAC,EAAE,WAAWlD,CAAY,CAC7E,CAMA,IAAMoD,EACJ9I,EAAM,UACN,SAAUO,EAAiB,CAGzB,IAAMlB,EAASmC,GAAgBjB,CAAK,EAC9BwI,EAAQxI,EAAM,OAAS,EAAIP,EAAM,WACvC,OAAO+I,EAAQ,EAAI1J,GAAO,OAAO0J,CAAK,EAAI1J,CAC5C,EACIqI,EACJ1H,EAAM,eACN,SAAUO,EAAiB,CACzB,OAAO6F,EAAK0C,EAASvI,CAAK,CAAC,CAC7B,EAEIyI,EAAgBC,GAAQjJ,EAAM,UAAU,EAI9C,SAASkJ,EAAW7J,EAAW,CAC7B,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,iBAAiB,EAC9D,GAAI,EAAEK,IAAOL,GAAOA,EAAM2J,GACxB,MAAM,IAAI,MAAM,uBAAuB,OAAAhJ,EAAM,WAAY,EAE3D,OAAU6G,GAAgBxH,EAAKW,EAAM,WAAW,CAClD,CAOA,SAASmJ,EAAQ3B,EAAc/E,EAAqB5E,EAAOuL,EAAc,CACvE,GAAI,CAAC,YAAa,WAAW,EAAE,KAAMC,IAAMA,MAAKxL,CAAI,EAClD,MAAM,IAAI,MAAM,qCAAqC,EACvD,GAAM,CAAE,KAAAyL,EAAM,YAAAC,CAAW,EAAKvJ,EAC1B,CAAE,KAAAwJ,EAAM,QAAAC,EAAS,aAAcC,CAAG,EAAK7L,EACvC2L,GAAQ,OAAMA,EAAO,IACzBhC,EAAU/F,GAAY,UAAW+F,CAAO,EACpCiC,IAASjC,EAAU/F,GAAY,oBAAqB6H,EAAK9B,CAAO,CAAC,GAKrE,IAAMmC,EAAQjC,EAAcF,CAAO,EAC7BhD,EAAIvD,EAAuBwB,CAAU,EACrCmH,EAAW,CAACV,EAAW1E,CAAC,EAAG0E,EAAWS,CAAK,CAAC,EAElD,GAAID,GAAO,KAAM,CAEf,IAAMG,GAAIH,IAAQ,GAAOH,EAAYtL,EAAG,KAAK,EAAIyL,EACjDE,EAAS,KAAKnI,GAAY,eAAgBoI,EAAC,CAAC,EAE9C,IAAMC,EAAUzJ,GAAY,GAAGuJ,CAAQ,EACjCpL,GAAImL,EAEV,SAASI,GAAMC,GAAkB,CAE/B,IAAMX,GAAIP,EAASkB,EAAM,EACzB,GAAI,CAACjJ,EAAmBsI,EAAC,EAAG,OAC5B,IAAMY,GAAK5D,EAAKgD,EAAC,EACXa,GAAInI,EAAM,KAAK,SAASsH,EAAC,EAAE,SAAQ,EACnC/B,GAAIlB,EAAK8D,GAAE,CAAC,EAClB,GAAI5C,KAAM5H,GAAK,OAIf,IAAMP,GAAIiH,EAAK6D,GAAK7D,EAAK5H,GAAI8I,GAAI9C,CAAC,CAAC,EACnC,GAAIrF,KAAMO,GAAK,OACf,IAAI6H,IAAY2C,GAAE,IAAM5C,GAAI,EAAI,GAAK,OAAO4C,GAAE,EAAIvK,EAAG,EACjDwK,GAAQhL,GACZ,OAAIqK,GAAQ1C,EAAsB3H,EAAC,IACjCgL,GAAQlD,EAAW9H,EAAC,EACpBoI,IAAY,GAEP,IAAIF,EAAUC,GAAG6C,GAAO5C,EAAQ,CACzC,CACA,MAAO,CAAE,KAAAuC,EAAM,MAAAC,EAAK,CACtB,CACA,IAAMX,EAA2B,CAAE,KAAMpJ,EAAM,KAAM,QAAS,EAAK,EAC7DoK,EAA0B,CAAE,KAAMpK,EAAM,KAAM,QAAS,EAAK,EAelE,SAASqK,EAAK7C,EAAc8C,EAAkBzM,EAAOuL,EAAc,CACjE,GAAM,CAAE,KAAAU,EAAM,MAAAC,CAAK,EAAKZ,EAAQ3B,EAAS8C,EAASzM,CAAI,EAChD0M,EAAIvK,EAEV,OADgBwK,GAAmCD,EAAE,KAAK,UAAWA,EAAE,YAAaA,EAAE,IAAI,EAC9ET,EAAMC,CAAK,CACzB,CAGAhI,EAAM,KAAK,eAAe,CAAC,EAgB3B,SAAS0I,EACPC,EACAlD,EACAmD,EACA9M,EAAOuM,EAAc,CA/gCzB,IAAAQ,GAihCI,IAAMC,EAAKH,EAGX,GAFAlD,EAAU/F,GAAY,UAAW+F,CAAO,EACxCmD,EAAYlJ,GAAY,YAAakJ,CAAS,EAC1C,WAAY9M,EAAM,MAAM,IAAI,MAAM,oCAAoC,EAC1E,GAAM,CAAE,KAAA2L,EAAM,QAAAC,CAAO,EAAK5L,EAEtBiN,EACAtI,EACJ,GAAI,CACF,GAAI,OAAOqI,GAAO,UAAYA,aAAc,WAG1C,GAAI,CACFC,EAAOzD,EAAU,QAAQwD,CAAE,QACpBE,GAAU,CACjB,GAAI,EAAEA,cAAoBxM,GAAI,KAAM,MAAMwM,GAC1CD,EAAOzD,EAAU,YAAYwD,CAAE,UAExB,OAAOA,GAAO,UAAY,OAAOA,EAAG,GAAM,UAAY,OAAOA,EAAG,GAAM,SAAU,CACzF,GAAM,CAAE,EAAAvD,GAAG,EAAAnI,EAAC,EAAK0L,EACjBC,EAAO,IAAIzD,EAAUC,GAAGnI,EAAC,MAEzB,OAAM,IAAI,MAAM,OAAO,EAEzBqD,EAAIT,EAAM,QAAQ4I,CAAS,QACpBjJ,GAAO,CACd,GAAKA,GAAgB,UAAY,QAC/B,MAAM,IAAI,MAAM,gEAAgE,EAClF,MAAO,GAET,GAAI8H,GAAQsB,EAAK,SAAQ,EAAI,MAAO,GAChCrB,IAASjC,EAAUxH,EAAM,KAAKwH,CAAO,GACzC,GAAM,CAAE,EAAAF,EAAG,EAAAnI,CAAC,EAAK2L,EACX1L,EAAIsI,EAAcF,CAAO,EACzBwD,GAAK3E,EAAKlH,CAAC,EACX4I,GAAK3B,EAAKhH,EAAI4L,EAAE,EAChBhD,GAAK5B,EAAKkB,EAAI0D,EAAE,EAChBnD,IAAI+C,GAAA7I,EAAM,KAAK,qBAAqBS,EAAGuF,GAAIC,EAAE,IAAzC,YAAA4C,GAA4C,WACtD,OAAK/C,GACKzB,EAAKyB,GAAE,CAAC,IACLP,EAFE,EAGjB,CACA,MAAO,CACL,MAAAtH,EACA,aAAAsI,EACA,gBAAAK,EACA,KAAA0B,EACA,OAAAI,EACA,gBAAiB1I,EACjB,UAAAsF,EACA,MAAAa,EAEJ,CClkCM,IAAO+C,GAAP,cAAuCC,EAAa,CAQxD,YAAYC,EAAaC,EAAW,CAClC,MAAK,EAJC,KAAA,SAAW,GACX,KAAA,UAAY,GAIlBD,GAAWA,CAAI,EACf,IAAME,EAAMC,GAAQF,CAAI,EAExB,GADA,KAAK,MAAQD,EAAK,OAAM,EACpB,OAAO,KAAK,MAAM,QAAW,WAC/B,MAAM,IAAI,MAAM,qDAAqD,EACvE,KAAK,SAAW,KAAK,MAAM,SAC3B,KAAK,UAAY,KAAK,MAAM,UAC5B,IAAMI,EAAW,KAAK,SAChBC,EAAM,IAAI,WAAWD,CAAQ,EAEnCC,EAAI,IAAIH,EAAI,OAASE,EAAWJ,EAAK,OAAM,EAAG,OAAOE,CAAG,EAAE,OAAM,EAAKA,CAAG,EACxE,QAASI,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAKD,EAAIC,CAAC,GAAK,GAC/C,KAAK,MAAM,OAAOD,CAAG,EAErB,KAAK,MAAQL,EAAK,OAAM,EAExB,QAASM,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAKD,EAAIC,CAAC,GAAK,IAC/C,KAAK,MAAM,OAAOD,CAAG,EACrBA,EAAI,KAAK,CAAC,CACZ,CACA,OAAOE,EAAU,CACf,OAAAC,GAAa,IAAI,EACjB,KAAK,MAAM,OAAOD,CAAG,EACd,IACT,CACA,WAAWE,EAAe,CACxBD,GAAa,IAAI,EACjBE,GAAYD,EAAK,KAAK,SAAS,EAC/B,KAAK,SAAW,GAChB,KAAK,MAAM,WAAWA,CAAG,EACzB,KAAK,MAAM,OAAOA,CAAG,EACrB,KAAK,MAAM,WAAWA,CAAG,EACzB,KAAK,QAAO,CACd,CACA,QAAM,CACJ,IAAMA,EAAM,IAAI,WAAW,KAAK,MAAM,SAAS,EAC/C,YAAK,WAAWA,CAAG,EACZA,CACT,CACA,WAAWE,EAAY,CAErBA,IAAAA,EAAO,OAAO,OAAO,OAAO,eAAe,IAAI,EAAG,CAAA,CAAE,GACpD,GAAM,CAAE,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,SAAAX,EAAU,UAAAY,CAAS,EAAK,KACnE,OAAAL,EAAKA,EACLA,EAAG,SAAWG,EACdH,EAAG,UAAYI,EACfJ,EAAG,SAAWP,EACdO,EAAG,UAAYK,EACfL,EAAG,MAAQC,EAAM,WAAWD,EAAG,KAAK,EACpCA,EAAG,MAAQE,EAAM,WAAWF,EAAG,KAAK,EAC7BA,CACT,CACA,SAAO,CACL,KAAK,UAAY,GACjB,KAAK,MAAM,QAAO,EAClB,KAAK,MAAM,QAAO,CACpB,GASWM,GAAO,CAACjB,EAAaE,EAAYgB,IAC5C,IAAIpB,GAAUE,EAAME,CAAG,EAAE,OAAOgB,CAAO,EAAE,OAAM,EACjDD,GAAK,OAAS,CAACjB,EAAaE,IAAe,IAAIJ,GAAUE,EAAME,CAAG,ECzE5D,SAAUiB,GAAQC,EAAW,CACjC,MAAO,CACL,KAAAA,EACA,KAAM,CAACC,KAAoBC,IAAuBC,GAAKH,EAAMC,EAAKG,GAAY,GAAGF,CAAI,CAAC,EACtF,YAAAG,GAEJ,CAGM,SAAUC,GAAYC,EAAoBC,EAAc,CAC5D,IAAMC,EAAUT,GAAgBU,GAAYC,IAAA,GAAKJ,GAAaR,GAAQC,CAAI,EAAG,EAC7E,OAAO,OAAO,OAAOY,EAAAD,EAAA,GAAKF,EAAOD,CAAO,GAAnB,CAAsB,OAAAC,CAAM,EAAE,CACrD,CCTA,IAAMI,GAAa,OAAO,oEAAoE,EACxFC,GAAa,OAAO,oEAAoE,EACxFC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAa,CAACC,EAAWC,KAAeD,EAAIC,EAAIH,IAAOG,EAM7D,SAASC,GAAQC,EAAS,CACxB,IAAMC,EAAIT,GAEJU,EAAM,OAAO,CAAC,EAAGC,EAAM,OAAO,CAAC,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAErEC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EACtDC,EAAMT,EAAIA,EAAIA,EAAKC,EACnBS,EAAMD,EAAKA,EAAKT,EAAKC,EACrBU,EAAMC,GAAKF,EAAIR,EAAKD,CAAC,EAAIS,EAAMT,EAC/BY,EAAMD,GAAKD,EAAIT,EAAKD,CAAC,EAAIS,EAAMT,EAC/Ba,EAAOF,GAAKC,EAAIlB,GAAKM,CAAC,EAAIQ,EAAMR,EAChCc,EAAOH,GAAKE,EAAKV,EAAMH,CAAC,EAAIa,EAAOb,EACnCe,EAAOJ,GAAKG,EAAKV,EAAMJ,CAAC,EAAIc,EAAOd,EACnCgB,EAAOL,GAAKI,EAAKT,EAAMN,CAAC,EAAIe,EAAOf,EACnCiB,EAAQN,GAAKK,EAAKT,EAAMP,CAAC,EAAIgB,EAAOhB,EACpCkB,EAAQP,GAAKM,EAAMX,EAAMN,CAAC,EAAIe,EAAOf,EACrCmB,EAAQR,GAAKO,EAAMjB,EAAKD,CAAC,EAAIS,EAAMT,EACnCoB,EAAMT,GAAKQ,EAAMd,EAAML,CAAC,EAAIc,EAAOd,EACnCqB,EAAMV,GAAKS,EAAIlB,EAAKF,CAAC,EAAIQ,EAAMR,EAC/BsB,EAAOX,GAAKU,EAAI3B,GAAKM,CAAC,EAC5B,GAAI,CAACuB,GAAG,IAAIA,GAAG,IAAID,CAAI,EAAGvB,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOuB,CACT,CAEA,IAAMC,GAAKC,GAAMjC,GAAY,OAAW,OAAW,CAAE,KAAMO,EAAO,CAAE,EAEvD2B,GAAYC,GACvB,CACE,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,GAAAH,GACA,EAAG/B,GAEH,GAAI,OAAO,+EAA+E,EAC1F,GAAI,OAAO,+EAA+E,EAC1F,EAAG,OAAO,CAAC,EACX,KAAM,GAON,KAAM,CACJ,KAAM,OAAO,oEAAoE,EACjF,YAAcmC,GAAa,CACzB,IAAMC,EAAIpC,GACJqC,EAAK,OAAO,oCAAoC,EAChDC,EAAK,CAACrC,GAAM,OAAO,oCAAoC,EACvDsC,EAAK,OAAO,qCAAqC,EACjDvB,EAAKqB,EACLG,EAAY,OAAO,qCAAqC,EAExDC,EAAKtC,GAAWa,EAAKmB,EAAGC,CAAC,EACzBM,EAAKvC,GAAW,CAACmC,EAAKH,EAAGC,CAAC,EAC5BO,EAAKC,GAAIT,EAAIM,EAAKJ,EAAKK,EAAKH,EAAIH,CAAC,EACjCS,EAAKD,GAAI,CAACH,EAAKH,EAAKI,EAAK1B,EAAIoB,CAAC,EAC5BU,EAAQH,EAAKH,EACbO,EAAQF,EAAKL,EAGnB,GAFIM,IAAOH,EAAKP,EAAIO,GAChBI,IAAOF,EAAKT,EAAIS,GAChBF,EAAKH,GAAaK,EAAKL,EACzB,MAAM,IAAI,MAAM,uCAAyCL,CAAC,EAE5D,MAAO,CAAE,MAAAW,EAAO,GAAAH,EAAI,MAAAI,EAAO,GAAAF,CAAE,CAC/B,IAGJG,EAAM,EAKFC,GAAM,OAAO,CAAC,EACdC,GAAMC,GAAc,OAAOA,GAAM,UAAYF,GAAME,GAAKA,EAAIpD,GAC5DqD,GAAMD,GAAc,OAAOA,GAAM,UAAYF,GAAME,GAAKA,EAAInD,GAE5DqD,GAAsD,CAAA,EAC5D,SAASC,GAAWC,KAAgBC,EAAsB,CACxD,IAAIC,EAAOJ,GAAqBE,CAAG,EACnC,GAAIE,IAAS,OAAW,CACtB,IAAMC,EAAOV,GAAO,WAAW,KAAKO,EAAMI,GAAMA,EAAE,WAAW,CAAC,CAAC,CAAC,EAChEF,EAAOG,GAAYF,EAAMA,CAAI,EAC7BL,GAAqBE,CAAG,EAAIE,EAE9B,OAAOT,GAAOY,GAAYH,EAAM,GAAGD,CAAQ,CAAC,CAC9C,CAGA,IAAMK,GAAgBC,GAA6BA,EAAM,WAAW,EAAI,EAAE,MAAM,CAAC,EAC3EC,GAAY3B,GAAc4B,GAAgB5B,EAAG,EAAE,EAC/C6B,GAAQd,GAAcP,GAAIO,EAAGpD,EAAU,EACvCmE,GAAQf,GAAcP,GAAIO,EAAGnD,EAAU,EACvCmE,GAAQlC,GAAU,gBAClBmC,GAAU,CAACC,EAAsBjE,EAAWC,IAChD8D,GAAM,KAAK,qBAAqBE,EAAGjE,EAAGC,CAAC,EAGzC,SAASiE,GAAoBC,EAAa,CACxC,IAAIC,EAAKvC,GAAU,MAAM,uBAAuBsC,CAAI,EAChDE,EAAIN,GAAM,eAAeK,CAAE,EAE/B,MAAO,CAAE,OADMC,EAAE,SAAQ,EAAKD,EAAKN,GAAK,CAACM,CAAE,EAClB,MAAOX,GAAaY,CAAC,CAAC,CACjD,CAKA,SAASC,GAAOvB,EAAS,CACvB,GAAI,CAACD,GAAGC,CAAC,EAAG,MAAM,IAAI,MAAM,uBAAuB,EACnD,IAAMwB,EAAKV,GAAKd,EAAIA,CAAC,EACfQ,EAAIM,GAAKU,EAAKxB,EAAI,OAAO,CAAC,CAAC,EAC7B5C,EAAID,GAAQqD,CAAC,EACbpD,EAAIL,KAAQ+C,KAAK1C,EAAI0D,GAAK,CAAC1D,CAAC,GAChC,IAAMkE,EAAI,IAAIN,GAAMhB,EAAG5C,EAAGN,EAAG,EAC7B,OAAAwE,EAAE,eAAc,EACTA,CACT,CAIA,SAASG,MAAaC,EAAkB,CACtC,OAAOX,GAAKY,GAAgBxB,GAAW,oBAAqB,GAAGuB,CAAI,CAAC,CAAC,CACvE,CAKA,SAASE,GAAoBC,EAAe,CAC1C,OAAOV,GAAoBU,CAAU,EAAE,KACzC,CAMA,SAASC,GACPC,EACAF,EACAG,EAAeC,GAAY,EAAE,EAAC,CAE9B,IAAMC,EAAIC,GAAY,UAAWJ,CAAO,EAClC,CAAE,MAAOK,EAAI,OAAQC,CAAC,EAAKlB,GAAoBU,CAAU,EACzD5E,EAAIkF,GAAY,UAAWH,EAAS,EAAE,EACtCM,EAAI1B,GAASyB,EAAIV,GAAgBxB,GAAW,cAAelD,CAAC,CAAC,CAAC,EAC9DsF,EAAOpC,GAAW,gBAAiBmC,EAAGF,EAAIF,CAAC,EAC3CM,EAAKzB,GAAKY,GAAgBY,CAAI,CAAC,EACrC,GAAIC,IAAO1C,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACxD,GAAM,CAAE,MAAO2C,EAAI,OAAQzD,CAAC,EAAKmC,GAAoBqB,CAAE,EACjDE,EAAIjB,GAAUgB,EAAIL,EAAIF,CAAC,EACvBS,EAAM,IAAI,WAAW,EAAE,EAI7B,GAHAA,EAAI,IAAIF,EAAI,CAAC,EACbE,EAAI,IAAI/B,GAASG,GAAK/B,EAAI0D,EAAIL,CAAC,CAAC,EAAG,EAAE,EAEjC,CAACO,GAAcD,EAAKT,EAAGE,CAAE,EAAG,MAAM,IAAI,MAAM,kCAAkC,EAClF,OAAOO,CACT,CAMA,SAASC,GAAcC,EAAgBd,EAAce,EAAc,CACjE,IAAMH,EAAMR,GAAY,YAAaU,EAAW,EAAE,EAC5CX,EAAIC,GAAY,UAAWJ,CAAO,EAClCgB,EAAMZ,GAAY,YAAaW,EAAW,EAAE,EAClD,GAAI,CACF,IAAMzF,EAAIkE,GAAOI,GAAgBoB,CAAG,CAAC,EAC/BC,EAAIrB,GAAgBgB,EAAI,SAAS,EAAG,EAAE,CAAC,EAC7C,GAAI,CAAC5C,GAAGiD,CAAC,EAAG,MAAO,GACnB,IAAMC,EAAItB,GAAgBgB,EAAI,SAAS,GAAI,EAAE,CAAC,EAC9C,GAAI,CAAC1C,GAAGgD,CAAC,EAAG,MAAO,GACnB,IAAMP,EAAIjB,GAAUb,GAASoC,CAAC,EAAGtC,GAAarD,CAAC,EAAG6E,CAAC,EAC7CgB,EAAIjC,GAAQ5D,EAAG4F,EAAGlC,GAAK,CAAC2B,CAAC,CAAC,EAChC,MAAI,GAACQ,GAAK,CAACA,EAAE,SAAQ,GAAMA,EAAE,SAAQ,EAAG,IAAMF,SAEvCG,EAAO,CACd,MAAO,GAEX,CAEO,IAAMC,GAAkC,CAC7C,aAAcxB,GACd,KAAME,GACN,OAAQc,GACR,MAAO,CACL,iBAAkB9D,GAAU,MAAM,iBAClC,OAAAyC,GACA,aAAAb,GACA,gBAAAG,GACA,gBAAAc,GACA,WAAAxB,GACA,IAAAV,KCjNG,IAAM4D,GACX,OAAO,YAAe,UAAY,WAAY,WAAa,WAAW,OAAS,OCUjF,IAAMC,GAAOC,GAA4BA,aAAa,WAO/C,IAAMC,GAAcC,GACzB,IAAI,SAASA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,EAG5CC,GAAO,CAACC,EAAcC,IAAmBD,GAAS,GAAKC,EAAWD,IAASC,EAI3EC,GAAO,IAAI,WAAW,IAAI,YAAY,CAAC,SAAU,CAAC,EAAE,MAAM,EAAE,CAAC,IAAM,GAChF,GAAI,CAACA,GAAM,MAAM,IAAI,MAAM,6CAA6C,EAExE,IAAMC,GAAQ,MAAM,KAAK,CAAE,OAAQ,GAAG,EAAI,CAACC,EAAGC,IAAMA,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,CAAC,EAI7E,SAAUC,GAAWC,EAAiB,CAC1C,GAAI,CAACC,GAAID,CAAK,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAEtD,IAAIE,EAAM,GACV,QAASJ,EAAI,EAAGA,EAAIE,EAAM,OAAQF,IAChCI,GAAON,GAAMI,EAAMF,CAAC,CAAC,EAEvB,OAAOI,CACT,CAKM,SAAUC,GAAWD,EAAW,CACpC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EACrF,IAAME,EAAMF,EAAI,OAChB,GAAIE,EAAM,EAAG,MAAM,IAAI,MAAM,0DAA4DA,CAAG,EAC5F,IAAMC,EAAQ,IAAI,WAAWD,EAAM,CAAC,EACpC,QAASN,EAAI,EAAGA,EAAIO,EAAM,OAAQP,IAAK,CACrC,IAAMQ,EAAIR,EAAI,EACRS,EAAUL,EAAI,MAAMI,EAAGA,EAAI,CAAC,EAC5BE,EAAO,OAAO,SAASD,EAAS,EAAE,EACxC,GAAI,OAAO,MAAMC,CAAI,GAAKA,EAAO,EAAG,MAAM,IAAI,MAAM,uBAAuB,EAC3EH,EAAMP,CAAC,EAAIU,EAEb,OAAOH,CACT,CA2BM,SAAUI,GAAYC,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,oCAAoC,cAAOA,EAAK,EAC7F,OAAO,IAAI,WAAW,IAAI,YAAW,EAAG,OAAOA,CAAG,CAAC,CACrD,CAQM,SAAUC,GAAQC,EAAW,CAEjC,GADI,OAAOA,GAAS,WAAUA,EAAOH,GAAYG,CAAI,GACjD,CAACC,GAAID,CAAI,EAAG,MAAM,IAAI,MAAM,4BAA4B,cAAOA,EAAM,EACzE,OAAOA,CACT,CAKM,SAAUE,MAAeC,EAAoB,CACjD,IAAMC,EAAI,IAAI,WAAWD,EAAO,OAAO,CAACE,EAAKC,IAAMD,EAAMC,EAAE,OAAQ,CAAC,CAAC,EACjEC,EAAM,EACV,OAAAJ,EAAO,QAASG,GAAK,CACnB,GAAI,CAACL,GAAIK,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAClDF,EAAE,IAAIE,EAAGC,CAAG,EACZA,GAAOD,EAAE,MACX,CAAC,EACMF,CACT,CAGM,IAAgBI,GAAhB,KAAoB,CAsBxB,OAAK,CACH,OAAO,KAAK,WAAU,CACxB,GA+BI,SAAUC,GAAmCC,EAAuB,CACxE,IAAMC,EAASC,GAA2BF,EAAQ,EAAG,OAAOG,GAAQD,CAAG,CAAC,EAAE,OAAM,EAC1EE,EAAMJ,EAAQ,EACpB,OAAAC,EAAM,UAAYG,EAAI,UACtBH,EAAM,SAAWG,EAAI,SACrBH,EAAM,OAAS,IAAMD,EAAQ,EACtBC,CACT,CA2BM,SAAUI,GAAYC,EAAc,GAAE,CAC1C,GAAIC,IAAU,OAAOA,GAAO,iBAAoB,WAC9C,OAAOA,GAAO,gBAAgB,IAAI,WAAWD,CAAW,CAAC,EAE3D,MAAM,IAAI,MAAM,wCAAwC,CAC1D,CCvNM,SAAUE,GAAOC,EAAS,CAC9B,GAAI,CAAC,OAAO,cAAcA,CAAC,GAAKA,EAAI,EAAG,MAAM,IAAI,MAAM,2BAA2B,OAAAA,EAAG,CACvF,CAEM,SAAUC,GAAKC,EAAU,CAC7B,GAAI,OAAOA,GAAM,UAAW,MAAM,IAAI,MAAM,yBAAyB,OAAAA,EAAG,CAC1E,CAEM,SAAUC,GAAMD,KAA8BE,EAAiB,CACnE,GAAI,EAAEF,aAAa,YAAa,MAAM,IAAI,MAAM,qBAAqB,EACrE,GAAIE,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASF,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAiC,OAAAE,EAAO,oBAAmB,OAAAF,EAAE,OAAQ,CACzF,CAQM,SAAUG,GAAKA,EAAU,CAC7B,GAAI,OAAOA,GAAS,YAAc,OAAOA,EAAK,QAAW,WACvD,MAAM,IAAI,MAAM,iDAAiD,EACnEN,GAAOM,EAAK,SAAS,EACrBN,GAAOM,EAAK,QAAQ,CACtB,CAEM,SAAUC,GAAOC,EAAeC,EAAgB,GAAI,CACxD,GAAID,EAAS,UAAW,MAAM,IAAI,MAAM,kCAAkC,EAC1E,GAAIC,GAAiBD,EAAS,SAAU,MAAM,IAAI,MAAM,uCAAuC,CACjG,CACM,SAAUE,GAAOC,EAAUH,EAAa,CAC5CJ,GAAMO,CAAG,EACT,IAAMC,EAAMJ,EAAS,UACrB,GAAIG,EAAI,OAASC,EACf,MAAM,IAAI,MAAM,yDAAyD,OAAAA,EAAK,CAElF,CAEA,IAAMC,GAAS,CACb,OAAAb,GACA,KAAAE,GACA,MAAAE,GACA,KAAAE,GACA,OAAAC,GACA,OAAAG,IAGFI,GAAeD,GC5Cf,SAASE,GAAaC,EAAgBC,EAAoBC,EAAeC,EAAa,CACpF,GAAI,OAAOH,EAAK,cAAiB,WAAY,OAAOA,EAAK,aAAaC,EAAYC,EAAOC,CAAI,EAC7F,IAAMC,EAAO,OAAO,EAAE,EAChBC,EAAW,OAAO,UAAU,EAC5BC,EAAK,OAAQJ,GAASE,EAAQC,CAAQ,EACtCE,EAAK,OAAOL,EAAQG,CAAQ,EAC5BG,EAAIL,EAAO,EAAI,EACfM,EAAIN,EAAO,EAAI,EACrBH,EAAK,UAAUC,EAAaO,EAAGF,EAAIH,CAAI,EACvCH,EAAK,UAAUC,EAAaQ,EAAGF,EAAIJ,CAAI,CACzC,CAGM,IAAgBO,GAAhB,cAAgDC,EAAO,CAc3D,YACWC,EACFC,EACEC,EACAX,EAAa,CAEtB,MAAK,EALI,KAAA,SAAAS,EACF,KAAA,UAAAC,EACE,KAAA,UAAAC,EACA,KAAA,KAAAX,EATD,KAAA,SAAW,GACX,KAAA,OAAS,EACT,KAAA,IAAM,EACN,KAAA,UAAY,GASpB,KAAK,OAAS,IAAI,WAAWS,CAAQ,EACrC,KAAK,KAAOG,GAAW,KAAK,MAAM,CACpC,CACA,OAAOC,EAAW,CAChBC,GAAO,OAAO,IAAI,EAClB,GAAM,CAAE,KAAAjB,EAAM,OAAAkB,EAAQ,SAAAN,CAAQ,EAAK,KACnCI,EAAOG,GAAQH,CAAI,EACnB,IAAMI,EAAMJ,EAAK,OACjB,QAASK,EAAM,EAAGA,EAAMD,GAAO,CAC7B,IAAME,EAAO,KAAK,IAAIV,EAAW,KAAK,IAAKQ,EAAMC,CAAG,EAEpD,GAAIC,IAASV,EAAU,CACrB,IAAMW,EAAWR,GAAWC,CAAI,EAChC,KAAOJ,GAAYQ,EAAMC,EAAKA,GAAOT,EAAU,KAAK,QAAQW,EAAUF,CAAG,EACzE,SAEFH,EAAO,IAAIF,EAAK,SAASK,EAAKA,EAAMC,CAAI,EAAG,KAAK,GAAG,EACnD,KAAK,KAAOA,EACZD,GAAOC,EACH,KAAK,MAAQV,IACf,KAAK,QAAQZ,EAAM,CAAC,EACpB,KAAK,IAAM,GAGf,YAAK,QAAUgB,EAAK,OACpB,KAAK,WAAU,EACR,IACT,CACA,WAAWQ,EAAe,CACxBP,GAAO,OAAO,IAAI,EAClBA,GAAO,OAAOO,EAAK,IAAI,EACvB,KAAK,SAAW,GAIhB,GAAM,CAAE,OAAAN,EAAQ,KAAAlB,EAAM,SAAAY,EAAU,KAAAT,CAAI,EAAK,KACrC,CAAE,IAAAkB,CAAG,EAAK,KAEdH,EAAOG,GAAK,EAAI,IAChB,KAAK,OAAO,SAASA,CAAG,EAAE,KAAK,CAAC,EAE5B,KAAK,UAAYT,EAAWS,IAC9B,KAAK,QAAQrB,EAAM,CAAC,EACpBqB,EAAM,GAGR,QAASI,EAAIJ,EAAKI,EAAIb,EAAUa,IAAKP,EAAOO,CAAC,EAAI,EAIjD1B,GAAaC,EAAMY,EAAW,EAAG,OAAO,KAAK,OAAS,CAAC,EAAGT,CAAI,EAC9D,KAAK,QAAQH,EAAM,CAAC,EACpB,IAAM0B,EAAQX,GAAWS,CAAG,EACtBJ,EAAM,KAAK,UAEjB,GAAIA,EAAM,EAAG,MAAM,IAAI,MAAM,6CAA6C,EAC1E,IAAMO,EAASP,EAAM,EACfQ,EAAQ,KAAK,IAAG,EACtB,GAAID,EAASC,EAAM,OAAQ,MAAM,IAAI,MAAM,oCAAoC,EAC/E,QAASH,EAAI,EAAGA,EAAIE,EAAQF,IAAKC,EAAM,UAAU,EAAID,EAAGG,EAAMH,CAAC,EAAGtB,CAAI,CACxE,CACA,QAAM,CACJ,GAAM,CAAE,OAAAe,EAAQ,UAAAL,CAAS,EAAK,KAC9B,KAAK,WAAWK,CAAM,EACtB,IAAMW,EAAMX,EAAO,MAAM,EAAGL,CAAS,EACrC,YAAK,QAAO,EACLgB,CACT,CACA,WAAWC,EAAM,CACfA,IAAAA,EAAO,IAAK,KAAK,aACjBA,EAAG,IAAI,GAAG,KAAK,IAAG,CAAE,EACpB,GAAM,CAAE,SAAAlB,EAAU,OAAAM,EAAQ,OAAAa,EAAQ,SAAAC,EAAU,UAAAC,EAAW,IAAAZ,CAAG,EAAK,KAC/D,OAAAS,EAAG,OAASC,EACZD,EAAG,IAAMT,EACTS,EAAG,SAAWE,EACdF,EAAG,UAAYG,EACXF,EAASnB,GAAUkB,EAAG,OAAO,IAAIZ,CAAM,EACpCY,CACT,GChHF,IAAMI,GAAM,CAACC,EAAWC,EAAWC,IAAeF,EAAIC,EAAM,CAACD,EAAIE,EAE3DC,GAAM,CAACH,EAAWC,EAAWC,IAAeF,EAAIC,EAAMD,EAAIE,EAAMD,EAAIC,EAKpEE,GAAW,IAAI,YAAY,CAC/B,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WACpF,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UACpF,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UACpF,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACrF,EAIKC,GAAK,IAAI,YAAY,CACzB,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WACrF,EAIKC,GAAW,IAAI,YAAY,EAAE,EAC7BC,GAAN,cAAqBC,EAAY,CAY/B,aAAA,CACE,MAAM,GAAI,GAAI,EAAG,EAAK,EAVxB,KAAA,EAAIH,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,EACZ,KAAA,EAAIA,GAAG,CAAC,EAAI,CAIZ,CACU,KAAG,CACX,GAAM,CAAE,EAAAI,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAK,KACnC,MAAO,CAACP,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,CAAC,CAChC,CAEU,IACRP,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAS,CAEtF,KAAK,EAAIP,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,CACf,CACU,QAAQC,EAAgBC,EAAc,CAE9C,QAASC,EAAI,EAAGA,EAAI,GAAIA,IAAKD,GAAU,EAAGZ,GAASa,CAAC,EAAIF,EAAK,UAAUC,EAAQ,EAAK,EACpF,QAASC,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAC5B,IAAMC,EAAMd,GAASa,EAAI,EAAE,EACrBE,EAAKf,GAASa,EAAI,CAAC,EACnBG,EAAKC,GAAKH,EAAK,CAAC,EAAIG,GAAKH,EAAK,EAAE,EAAKA,IAAQ,EAC7CI,EAAKD,GAAKF,EAAI,EAAE,EAAIE,GAAKF,EAAI,EAAE,EAAKA,IAAO,GACjDf,GAASa,CAAC,EAAKK,EAAKlB,GAASa,EAAI,CAAC,EAAIG,EAAKhB,GAASa,EAAI,EAAE,EAAK,EAGjE,GAAI,CAAE,EAAAV,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAK,KACjC,QAASG,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAMM,EAASF,GAAKV,EAAG,CAAC,EAAIU,GAAKV,EAAG,EAAE,EAAIU,GAAKV,EAAG,EAAE,EAC9Ca,EAAMV,EAAIS,EAAS1B,GAAIc,EAAGC,EAAGC,CAAC,EAAIX,GAASe,CAAC,EAAIb,GAASa,CAAC,EAAK,EAE/DQ,GADSJ,GAAKd,EAAG,CAAC,EAAIc,GAAKd,EAAG,EAAE,EAAIc,GAAKd,EAAG,EAAE,GAC/BN,GAAIM,EAAGC,EAAGC,CAAC,EAAK,EACrCK,EAAID,EACJA,EAAID,EACJA,EAAID,EACJA,EAAKD,EAAIc,EAAM,EACfd,EAAID,EACJA,EAAID,EACJA,EAAID,EACJA,EAAKiB,EAAKC,EAAM,EAGlBlB,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnB,KAAK,IAAIP,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,CAAC,CACjC,CACU,YAAU,CAClBV,GAAS,KAAK,CAAC,CACjB,CACA,SAAO,CACL,KAAK,IAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC/B,KAAK,OAAO,KAAK,CAAC,CACpB,GAGIsB,GAAN,cAAqBrB,EAAM,CASzB,aAAA,CACE,MAAK,EATP,KAAA,EAAI,YACJ,KAAA,EAAI,UACJ,KAAA,EAAI,UACJ,KAAA,EAAI,WACJ,KAAA,EAAI,SACJ,KAAA,EAAI,WACJ,KAAA,EAAI,WACJ,KAAA,EAAI,YAGF,KAAK,UAAY,EACnB,GAOWsB,GAASC,GAAgB,IAAM,IAAIvB,EAAQ,EAC3CwB,IAASD,GAAgB,IAAM,IAAIF,EAAQ,EChIjD,SAASI,GAAaC,EAAG,CAC5B,GAAI,CAAC,OAAO,cAAcA,CAAC,EACvB,MAAM,IAAI,MAAM,kBAAkB,OAAAA,EAAG,CAC7C,CACA,SAASC,MAASC,EAAM,CACpB,IAAMC,EAAO,CAACC,EAAGC,IAAOC,GAAMF,EAAEC,EAAEC,CAAC,CAAC,EAC9BC,EAAS,MAAM,KAAKL,CAAI,EACzB,QAAQ,EACR,OAAO,CAACM,EAAK,IAAOA,EAAML,EAAKK,EAAK,EAAE,MAAM,EAAI,EAAE,OAAS,MAAS,EACnEC,EAASP,EAAK,OAAO,CAACM,EAAK,IAAOA,EAAML,EAAKK,EAAK,EAAE,MAAM,EAAI,EAAE,OAAS,MAAS,EACxF,MAAO,CAAE,OAAAD,EAAQ,OAAAE,CAAO,CAC5B,CACA,SAASC,GAASA,EAAU,CACxB,MAAO,CACH,OAASC,GAAW,CAChB,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAMA,EAAO,QAAU,OAAOA,EAAO,CAAC,GAAM,SACjE,MAAM,IAAI,MAAM,qDAAqD,EACzE,OAAOA,EAAO,IAAKC,GAAM,CAErB,GADAb,GAAaa,CAAC,EACVA,EAAI,GAAKA,GAAKF,EAAS,OACvB,MAAM,IAAI,MAAM,iCAAiC,OAAAE,EAAC,gBAAe,OAAAF,EAAS,OAAM,IAAG,EACvF,OAAOA,EAASE,CAAC,CACrB,CAAC,CACL,EACA,OAASC,GAAU,CACf,GAAI,CAAC,MAAM,QAAQA,CAAK,GAAMA,EAAM,QAAU,OAAOA,EAAM,CAAC,GAAM,SAC9D,MAAM,IAAI,MAAM,kDAAkD,EACtE,OAAOA,EAAM,IAAKC,GAAW,CACzB,GAAI,OAAOA,GAAW,SAClB,MAAM,IAAI,MAAM,uCAAuC,OAAAA,EAAQ,EACnE,IAAMC,EAAQL,EAAS,QAAQI,CAAM,EACrC,GAAIC,IAAU,GACV,MAAM,IAAI,MAAM,oBAAoB,OAAAD,EAAM,gBAAe,OAAAJ,EAAU,EACvE,OAAOK,CACX,CAAC,CACL,CACJ,CACJ,CACA,SAASC,GAAKC,EAAY,GAAI,CAC1B,GAAI,OAAOA,GAAc,SACrB,MAAM,IAAI,MAAM,iCAAiC,EACrD,MAAO,CACH,OAASC,GAAS,CACd,GAAI,CAAC,MAAM,QAAQA,CAAI,GAAMA,EAAK,QAAU,OAAOA,EAAK,CAAC,GAAM,SAC3D,MAAM,IAAI,MAAM,8CAA8C,EAClE,QAASN,KAAKM,EACV,GAAI,OAAON,GAAM,SACb,MAAM,IAAI,MAAM,iCAAiC,OAAAA,EAAG,EAC5D,OAAOM,EAAK,KAAKD,CAAS,CAC9B,EACA,OAASE,GAAO,CACZ,GAAI,OAAOA,GAAO,SACd,MAAM,IAAI,MAAM,oCAAoC,EACxD,OAAOA,EAAG,MAAMF,CAAS,CAC7B,CACJ,CACJ,CACA,SAASG,GAAQC,EAAMC,EAAM,IAAK,CAE9B,GADAvB,GAAasB,CAAI,EACb,OAAOC,GAAQ,SACf,MAAM,IAAI,MAAM,8BAA8B,EAClD,MAAO,CACH,OAAOC,EAAM,CACT,GAAI,CAAC,MAAM,QAAQA,CAAI,GAAMA,EAAK,QAAU,OAAOA,EAAK,CAAC,GAAM,SAC3D,MAAM,IAAI,MAAM,iDAAiD,EACrE,QAASX,KAAKW,EACV,GAAI,OAAOX,GAAM,SACb,MAAM,IAAI,MAAM,oCAAoC,OAAAA,EAAG,EAC/D,KAAQW,EAAK,OAASF,EAAQ,GAC1BE,EAAK,KAAKD,CAAG,EACjB,OAAOC,CACX,EACA,OAAOV,EAAO,CACV,GAAI,CAAC,MAAM,QAAQA,CAAK,GAAMA,EAAM,QAAU,OAAOA,EAAM,CAAC,GAAM,SAC9D,MAAM,IAAI,MAAM,iDAAiD,EACrE,QAASD,KAAKC,EACV,GAAI,OAAOD,GAAM,SACb,MAAM,IAAI,MAAM,oCAAoC,OAAAA,EAAG,EAC/D,IAAIY,EAAMX,EAAM,OAChB,GAAKW,EAAMH,EAAQ,EACf,MAAM,IAAI,MAAM,2DAA2D,EAC/E,KAAOG,EAAM,GAAKX,EAAMW,EAAM,CAAC,IAAMF,EAAKE,IACtC,GAAI,GAAIA,EAAM,GAAKH,EAAQ,GACvB,MAAM,IAAI,MAAM,8CAA8C,EAEtE,OAAOR,EAAM,MAAM,EAAGW,CAAG,CAC7B,CACJ,CACJ,CACA,SAASC,GAAUC,EAAI,CACnB,GAAI,OAAOA,GAAO,WACd,MAAM,IAAI,MAAM,iCAAiC,EACrD,MAAO,CAAE,OAASR,GAASA,EAAM,OAASC,GAAOO,EAAGP,CAAE,CAAE,CAC5D,CACA,SAASQ,GAAaJ,EAAML,EAAMC,EAAI,CAClC,GAAID,EAAO,EACP,MAAM,IAAI,MAAM,4BAA4B,OAAAA,EAAI,+BAA8B,EAClF,GAAIC,EAAK,EACL,MAAM,IAAI,MAAM,0BAA0B,OAAAA,EAAE,+BAA8B,EAC9E,GAAI,CAAC,MAAM,QAAQI,CAAI,EACnB,MAAM,IAAI,MAAM,oCAAoC,EACxD,GAAI,CAACA,EAAK,OACN,MAAO,CAAC,EACZ,IAAIK,EAAM,EACJC,EAAM,CAAC,EACPlB,EAAS,MAAM,KAAKY,CAAI,EAM9B,IALAZ,EAAO,QAASmB,GAAM,CAElB,GADA/B,GAAa+B,CAAC,EACVA,EAAI,GAAKA,GAAKZ,EACd,MAAM,IAAI,MAAM,kBAAkB,OAAAY,EAAG,CAC7C,CAAC,IACY,CACT,IAAIC,EAAQ,EACRC,EAAO,GACX,QAASpB,EAAIgB,EAAKhB,EAAID,EAAO,OAAQC,IAAK,CACtC,IAAMqB,EAAQtB,EAAOC,CAAC,EAChBsB,EAAYhB,EAAOa,EAAQE,EACjC,GAAI,CAAC,OAAO,cAAcC,CAAS,GAC9BhB,EAAOa,EAASb,IAASa,GAC1BG,EAAYD,IAAUf,EAAOa,EAC7B,MAAM,IAAI,MAAM,8BAA8B,EAIlD,GAFAA,EAAQG,EAAYf,EACpBR,EAAOC,CAAC,EAAI,KAAK,MAAMsB,EAAYf,CAAE,EACjC,CAAC,OAAO,cAAcR,EAAOC,CAAC,CAAC,GAAKD,EAAOC,CAAC,EAAIO,EAAKY,IAAUG,EAC/D,MAAM,IAAI,MAAM,8BAA8B,EAClD,GAAKF,EAEKrB,EAAOC,CAAC,EAGdoB,EAAO,GAFPJ,EAAMhB,MAFN,SAKR,CAEA,GADAiB,EAAI,KAAKE,CAAK,EACVC,EACA,KACR,CACA,QAASpB,EAAI,EAAGA,EAAIW,EAAK,OAAS,GAAKA,EAAKX,CAAC,IAAM,EAAGA,IAClDiB,EAAI,KAAK,CAAC,EACd,OAAOA,EAAI,QAAQ,CACvB,CACA,IAAMM,GAAM,CAAC/B,EAAGC,IAAQA,EAAQ8B,GAAI9B,EAAGD,EAAIC,CAAC,EAAhBD,EACtBgC,GAAc,CAAClB,EAAMC,IAAOD,GAAQC,EAAKgB,GAAIjB,EAAMC,CAAE,GAC3D,SAASkB,GAAcd,EAAML,EAAMC,EAAIC,EAAS,CAC5C,GAAI,CAAC,MAAM,QAAQG,CAAI,EACnB,MAAM,IAAI,MAAM,qCAAqC,EACzD,GAAIL,GAAQ,GAAKA,EAAO,GACpB,MAAM,IAAI,MAAM,6BAA6B,OAAAA,EAAM,EACvD,GAAIC,GAAM,GAAKA,EAAK,GAChB,MAAM,IAAI,MAAM,2BAA2B,OAAAA,EAAI,EACnD,GAAIiB,GAAYlB,EAAMC,CAAE,EAAI,GACxB,MAAM,IAAI,MAAM,sCAAsC,OAAAD,EAAI,QAAO,OAAAC,EAAE,eAAc,OAAAiB,GAAYlB,EAAMC,CAAE,EAAG,EAE5G,IAAIY,EAAQ,EACRH,EAAM,EACJU,EAAO,GAAKnB,EAAK,EACjBU,EAAM,CAAC,EACb,QAAW7B,KAAKuB,EAAM,CAElB,GADAxB,GAAaC,CAAC,EACVA,GAAK,GAAKkB,EACV,MAAM,IAAI,MAAM,oCAAoC,OAAAlB,EAAC,UAAS,OAAAkB,EAAM,EAExE,GADAa,EAASA,GAASb,EAAQlB,EACtB4B,EAAMV,EAAO,GACb,MAAM,IAAI,MAAM,qCAAqC,OAAAU,EAAG,UAAS,OAAAV,EAAM,EAE3E,IADAU,GAAOV,EACAU,GAAOT,EAAIS,GAAOT,EACrBU,EAAI,MAAOE,GAAUH,EAAMT,EAAOmB,KAAU,CAAC,EACjDP,GAAS,GAAKH,EAAM,CACxB,CAEA,GADAG,EAASA,GAAUZ,EAAKS,EAAQU,EAC5B,CAAClB,GAAWQ,GAAOV,EACnB,MAAM,IAAI,MAAM,gBAAgB,EACpC,GAAI,CAACE,GAAWW,EACZ,MAAM,IAAI,MAAM,qBAAqB,OAAAA,EAAO,EAChD,OAAIX,GAAWQ,EAAM,GACjBC,EAAI,KAAKE,IAAU,CAAC,EACjBF,CACX,CACA,SAASU,GAAMC,EAAK,CAChB,OAAAzC,GAAayC,CAAG,EACT,CACH,OAASC,GAAU,CACf,GAAI,EAAEA,aAAiB,YACnB,MAAM,IAAI,MAAM,yCAAyC,EAC7D,OAAOd,GAAa,MAAM,KAAKc,CAAK,EAAG,GAAK,EAAGD,CAAG,CACtD,EACA,OAAS7B,GAAW,CAChB,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAMA,EAAO,QAAU,OAAOA,EAAO,CAAC,GAAM,SACjE,MAAM,IAAI,MAAM,+CAA+C,EACnE,OAAO,WAAW,KAAKgB,GAAahB,EAAQ6B,EAAK,GAAK,CAAC,CAAC,CAC5D,CACJ,CACJ,CACA,SAASE,GAAOrB,EAAMsB,EAAa,GAAO,CAEtC,GADA5C,GAAasB,CAAI,EACbA,GAAQ,GAAKA,EAAO,GACpB,MAAM,IAAI,MAAM,mCAAmC,EACvD,GAAIe,GAAY,EAAGf,CAAI,EAAI,IAAMe,GAAYf,EAAM,CAAC,EAAI,GACpD,MAAM,IAAI,MAAM,wBAAwB,EAC5C,MAAO,CACH,OAASoB,GAAU,CACf,GAAI,EAAEA,aAAiB,YACnB,MAAM,IAAI,MAAM,0CAA0C,EAC9D,OAAOJ,GAAc,MAAM,KAAKI,CAAK,EAAG,EAAGpB,EAAM,CAACsB,CAAU,CAChE,EACA,OAAShC,GAAW,CAChB,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAMA,EAAO,QAAU,OAAOA,EAAO,CAAC,GAAM,SACjE,MAAM,IAAI,MAAM,gDAAgD,EACpE,OAAO,WAAW,KAAK0B,GAAc1B,EAAQU,EAAM,EAAGsB,CAAU,CAAC,CACrE,CACJ,CACJ,CACA,SAASC,GAAclB,EAAI,CACvB,GAAI,OAAOA,GAAO,WACd,MAAM,IAAI,MAAM,qCAAqC,EACzD,OAAO,YAAaxB,EAAM,CACtB,GAAI,CACA,OAAOwB,EAAG,MAAM,KAAMxB,CAAI,CAC9B,OACO2C,EAAG,CAAE,CAChB,CACJ,CA6BO,IAAMC,GAASC,GAAMC,GAAO,CAAC,EAAGC,GAAS,kBAAkB,EAAGC,GAAK,EAAE,CAAC,EAChEC,GAASJ,GAAMC,GAAO,CAAC,EAAGC,GAAS,kCAAkC,EAAGG,GAAQ,CAAC,EAAGF,GAAK,EAAE,CAAC,EAC5FG,IAAYN,GAAMC,GAAO,CAAC,EAAGC,GAAS,kCAAkC,EAAGG,GAAQ,CAAC,EAAGF,GAAK,EAAE,CAAC,EAC/FI,IAAkBP,GAAMC,GAAO,CAAC,EAAGC,GAAS,kCAAkC,EAAGC,GAAK,EAAE,EAAGK,GAAWC,GAAMA,EAAE,YAAY,EAAE,QAAQ,KAAM,GAAG,EAAE,QAAQ,QAAS,GAAG,CAAC,CAAC,EACrKC,GAASV,GAAMC,GAAO,CAAC,EAAGC,GAAS,kEAAkE,EAAGG,GAAQ,CAAC,EAAGF,GAAK,EAAE,CAAC,EAC5HQ,GAAYX,GAAMC,GAAO,CAAC,EAAGC,GAAS,kEAAkE,EAAGG,GAAQ,CAAC,EAAGF,GAAK,EAAE,CAAC,EACtIS,GAAaC,GAAQb,GAAMc,GAAM,EAAE,EAAGZ,GAASW,CAAG,EAAGV,GAAK,EAAE,CAAC,EACtDY,GAASH,GAAU,4DAA4D,EAC/EI,IAAeJ,GAAU,4DAA4D,EACrFK,IAAYL,GAAU,4DAA4D,EACzFM,GAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAE,EACrCC,GAAY,CACrB,OAAOC,EAAM,CACT,IAAIC,EAAM,GACV,QAASC,EAAI,EAAGA,EAAIF,EAAK,OAAQE,GAAK,EAAG,CACrC,IAAMC,EAAQH,EAAK,SAASE,EAAGA,EAAI,CAAC,EACpCD,GAAON,GAAO,OAAOQ,CAAK,EAAE,SAASL,GAAcK,EAAM,MAAM,EAAG,GAAG,CACzE,CACA,OAAOF,CACX,EACA,OAAOG,EAAK,CACR,IAAIH,EAAM,CAAC,EACX,QAASC,EAAI,EAAGA,EAAIE,EAAI,OAAQF,GAAK,GAAI,CACrC,IAAMG,EAAQD,EAAI,MAAMF,EAAGA,EAAI,EAAE,EAC3BI,EAAWR,GAAc,QAAQO,EAAM,MAAM,EAC7CF,EAAQR,GAAO,OAAOU,CAAK,EACjC,QAASE,EAAI,EAAGA,EAAIJ,EAAM,OAASG,EAAUC,IACzC,GAAIJ,EAAMI,CAAC,IAAM,EACb,MAAM,IAAI,MAAM,0BAA0B,EAElDN,EAAMA,EAAI,OAAO,MAAM,KAAKE,EAAM,MAAMA,EAAM,OAASG,CAAQ,CAAC,CAAC,CACrE,CACA,OAAO,WAAW,KAAKL,CAAG,CAC9B,CACJ,EAEA,IAAMO,GAAgBC,GAAMC,GAAS,kCAAkC,EAAGC,GAAK,EAAE,CAAC,EAC5EC,GAAqB,CAAC,UAAY,UAAY,UAAY,WAAY,SAAU,EACtF,SAASC,GAAcC,EAAK,CACxB,IAAMC,EAAID,GAAO,GACbE,GAAOF,EAAM,WAAc,EAC/B,QAASG,EAAI,EAAGA,EAAIL,GAAmB,OAAQK,KACrCF,GAAKE,EAAK,KAAO,IACnBD,GAAOJ,GAAmBK,CAAC,GAEnC,OAAOD,CACX,CACA,SAASE,GAAaC,EAAQC,EAAOC,EAAgB,EAAG,CACpD,IAAMC,EAAMH,EAAO,OACfH,EAAM,EACV,QAAS,EAAI,EAAG,EAAIM,EAAK,IAAK,CAC1B,IAAMC,EAAIJ,EAAO,WAAW,CAAC,EAC7B,GAAII,EAAI,IAAMA,EAAI,IACd,MAAM,IAAI,MAAM,mBAAmB,OAAAJ,EAAM,IAAG,EAChDH,EAAMH,GAAcG,CAAG,EAAKO,GAAK,CACrC,CACAP,EAAMH,GAAcG,CAAG,EACvB,QAAS,EAAI,EAAG,EAAIM,EAAK,IACrBN,EAAMH,GAAcG,CAAG,EAAKG,EAAO,WAAW,CAAC,EAAI,GACvD,QAASK,KAAKJ,EACVJ,EAAMH,GAAcG,CAAG,EAAIQ,EAC/B,QAAS,EAAI,EAAG,EAAI,EAAG,IACnBR,EAAMH,GAAcG,CAAG,EAC3B,OAAAA,GAAOK,EACAb,GAAc,OAAOiB,GAAc,CAACT,EAAM,GAAK,EAAE,EAAG,GAAI,EAAG,EAAK,CAAC,CAC5E,CACA,SAASU,GAAUC,EAAU,CACzB,IAAMC,EAAiBD,IAAa,SAAW,EAAI,UAC7CE,EAASC,GAAO,CAAC,EACjBC,EAAYF,EAAO,OACnBG,EAAUH,EAAO,OACjBI,EAAkBC,GAAcH,CAAS,EAC/C,SAASI,EAAOhB,EAAQC,EAAOgB,EAAQ,GAAI,CACvC,GAAI,OAAOjB,GAAW,SAClB,MAAM,IAAI,MAAM,8CAA8C,cAAOA,EAAQ,EACjF,GAAI,CAAC,MAAM,QAAQC,CAAK,GAAMA,EAAM,QAAU,OAAOA,EAAM,CAAC,GAAM,SAC9D,MAAM,IAAI,MAAM,uDAAuD,cAAOA,EAAO,EACzF,IAAMiB,EAAelB,EAAO,OAAS,EAAIC,EAAM,OAC/C,GAAIgB,IAAU,IAASC,EAAeD,EAClC,MAAM,IAAI,UAAU,UAAU,OAAAC,EAAY,mBAAkB,OAAAD,EAAO,EACvE,OAAAjB,EAASA,EAAO,YAAY,EACrB,GAAG,OAAAA,EAAM,KAAI,OAAAX,GAAc,OAAOY,CAAK,GAAI,OAAAF,GAAaC,EAAQC,EAAOQ,CAAc,EAChG,CACA,SAASU,EAAOC,EAAKH,EAAQ,GAAI,CAC7B,GAAI,OAAOG,GAAQ,SACf,MAAM,IAAI,MAAM,6CAA6C,cAAOA,EAAK,EAC7E,GAAIA,EAAI,OAAS,GAAMH,IAAU,IAASG,EAAI,OAASH,EACnD,MAAM,IAAI,UAAU,wBAAwB,OAAAG,EAAI,OAAM,MAAK,OAAAA,EAAG,oBAAmB,OAAAH,EAAK,IAAG,EAC7F,IAAMI,EAAUD,EAAI,YAAY,EAChC,GAAIA,IAAQC,GAAWD,IAAQA,EAAI,YAAY,EAC3C,MAAM,IAAI,MAAM,uCAAuC,EAC3DA,EAAMC,EACN,IAAMC,EAAWF,EAAI,YAAY,GAAG,EACpC,GAAIE,IAAa,GAAKA,IAAa,GAC/B,MAAM,IAAI,MAAM,yDAAyD,EAC7E,IAAMtB,EAASoB,EAAI,MAAM,EAAGE,CAAQ,EAC9BZ,EAASU,EAAI,MAAME,EAAW,CAAC,EACrC,GAAIZ,EAAO,OAAS,EAChB,MAAM,IAAI,MAAM,yCAAyC,EAC7D,IAAMT,EAAQZ,GAAc,OAAOqB,CAAM,EAAE,MAAM,EAAG,EAAE,EAChDa,EAAMxB,GAAaC,EAAQC,EAAOQ,CAAc,EACtD,GAAI,CAACC,EAAO,SAASa,CAAG,EACpB,MAAM,IAAI,MAAM,uBAAuB,OAAAH,EAAG,gBAAe,OAAAG,EAAG,IAAG,EACnE,MAAO,CAAE,OAAAvB,EAAQ,MAAAC,CAAM,CAC3B,CACA,IAAMuB,EAAeT,GAAcI,CAAM,EACzC,SAASM,EAAcL,EAAK,CACxB,GAAM,CAAE,OAAApB,EAAQ,MAAAC,CAAM,EAAIkB,EAAOC,EAAK,EAAK,EAC3C,MAAO,CAAE,OAAApB,EAAQ,MAAAC,EAAO,MAAOW,EAAUX,CAAK,CAAE,CACpD,CACA,MAAO,CAAE,OAAAe,EAAQ,OAAAG,EAAQ,cAAAM,EAAe,aAAAD,EAAc,UAAAZ,EAAW,gBAAAE,EAAiB,QAAAD,CAAQ,CAC9F,CACO,IAAMa,GAASnB,GAAU,QAAQ,EAC3BoB,IAAUpB,GAAU,SAAS,EAC7BqB,GAAO,CAChB,OAASC,GAAS,IAAI,YAAY,EAAE,OAAOA,CAAI,EAC/C,OAAST,GAAQ,IAAI,YAAY,EAAE,OAAOA,CAAG,CACjD,EACaU,GAAMxC,GAAMqB,GAAO,CAAC,EAAGpB,GAAS,kBAAkB,EAAGC,GAAK,EAAE,EAAGuC,GAAWC,GAAM,CACzF,GAAI,OAAOA,GAAM,UAAYA,EAAE,OAAS,EACpC,MAAM,IAAI,UAAU,oCAAoC,cAAOA,EAAC,iBAAgB,OAAAA,EAAE,OAAQ,EAC9F,OAAOA,EAAE,YAAY,CACzB,CAAC,CAAC,EACIC,GAAS,CACX,KAAAL,GAAM,IAAAE,GAAK,OAAAI,GAAQ,OAAAC,GAAQ,OAAAC,GAAQ,UAAAC,GAAW,OAAAC,GAAQ,UAAAC,EAC1D,EACMC,IAAiB,2CAA2C,cAAO,KAAKP,EAAM,EAAE,KAAK,IAAI,GCzX/F,SAASQ,GAAOC,EAAS,CACvB,GAAI,CAAC,OAAO,cAAcA,CAAC,GAAKA,EAAI,EAAG,MAAM,IAAI,MAAM,kCAAkC,OAAAA,EAAG,CAC9F,CAEA,SAASC,GAAKC,EAAU,CACtB,GAAI,OAAOA,GAAM,UAAW,MAAM,IAAI,MAAM,yBAAyB,OAAAA,EAAG,CAC1E,CAEM,SAAUC,GAAQC,EAAU,CAChC,OACEA,aAAa,YACZA,GAAK,MAAQ,OAAOA,GAAM,UAAYA,EAAE,YAAY,OAAS,YAElE,CAEA,SAASC,GAAMH,KAA8BI,EAAiB,CAC5D,GAAI,CAACH,GAAQD,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACtD,GAAII,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASJ,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAiC,OAAAI,EAAO,oBAAmB,OAAAJ,EAAE,OAAQ,CACzF,CAeA,SAASK,GAAOC,EAAeC,EAAgB,GAAI,CACjD,GAAID,EAAS,UAAW,MAAM,IAAI,MAAM,kCAAkC,EAC1E,GAAIC,GAAiBD,EAAS,SAAU,MAAM,IAAI,MAAM,uCAAuC,CACjG,CAEA,SAASE,GAAOC,EAAUH,EAAa,CACrCI,GAAMD,CAAG,EACT,IAAME,EAAML,EAAS,UACrB,GAAIG,EAAI,OAASE,EACf,MAAM,IAAI,MAAM,yDAAyD,OAAAA,EAAK,CAElF,CCtCO,IAAMC,GAAMC,GAAoB,IAAI,WAAWA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,EAGzF,IAAMC,GAAOC,GAClB,IAAI,YAAYA,EAAI,OAAQA,EAAI,WAAY,KAAK,MAAMA,EAAI,WAAa,CAAC,CAAC,EAG/DC,GAAcD,GACzB,IAAI,SAASA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,EAI5CE,GAAO,IAAI,WAAW,IAAI,YAAY,CAAC,SAAU,CAAC,EAAE,MAAM,EAAE,CAAC,IAAM,GAChF,GAAI,CAACA,GAAM,MAAM,IAAI,MAAM,6CAA6C,EA0FlE,SAAUC,GAAYC,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,wBAAwB,cAAOA,EAAK,EACjF,OAAO,IAAI,WAAW,IAAI,YAAW,EAAG,OAAOA,CAAG,CAAC,CACrD,CAeM,SAAUC,GAAQC,EAAW,CACjC,GAAI,OAAOA,GAAS,SAAUA,EAAOC,GAAYD,CAAI,UAC5CE,GAAQF,CAAI,EAAGA,EAAOA,EAAK,MAAK,MACpC,OAAM,IAAI,MAAM,4BAA4B,cAAOA,EAAM,EAC9D,OAAOA,CACT,CAsBM,SAAUG,GACdC,EACAC,EAAQ,CAER,GAAIA,GAAQ,MAAQ,OAAOA,GAAS,SAAU,MAAM,IAAI,MAAM,yBAAyB,EAEvF,OADe,OAAO,OAAOD,EAAUC,CAAI,CAE7C,CAGM,SAAUC,GAAWC,EAAeC,EAAa,CACrD,GAAID,EAAE,SAAWC,EAAE,OAAQ,MAAO,GAClC,IAAIC,EAAO,EACX,QAASC,EAAI,EAAGA,EAAIH,EAAE,OAAQG,IAAKD,GAAQF,EAAEG,CAAC,EAAIF,EAAEE,CAAC,EACrD,OAAOD,IAAS,CAClB,CA0CO,IAAME,GAAa,CACxBC,EACAC,KAEA,OAAO,OAAOA,EAAGD,CAAM,EAChBC,GAYH,SAAUC,GACdC,EACAC,EACAC,EACAC,EAAa,CAEb,GAAI,OAAOH,EAAK,cAAiB,WAAY,OAAOA,EAAK,aAAaC,EAAYC,EAAOC,CAAI,EAC7F,IAAMC,EAAO,OAAO,EAAE,EAChBC,EAAW,OAAO,UAAU,EAC5BC,EAAK,OAAQJ,GAASE,EAAQC,CAAQ,EACtCE,EAAK,OAAOL,EAAQG,CAAQ,EAC5BG,EAAIL,EAAO,EAAI,EACfM,EAAIN,EAAO,EAAI,EACrBH,EAAK,UAAUC,EAAaO,EAAGF,EAAIH,CAAI,EACvCH,EAAK,UAAUC,EAAaQ,EAAGF,EAAIJ,CAAI,CACzC,CCzOA,IAAMO,GAAa,GAGbC,GAA0B,IAAI,WAAW,EAAE,EAC3CC,GAAUC,GAAIF,EAAO,EACrBG,GAAO,IAKPC,GAAO,CAACC,EAAYC,EAAYC,EAAYC,IAAc,CAC9D,IAAMC,EAAQD,EAAK,EACnB,MAAO,CACL,GAAKD,GAAM,GAAOC,IAAO,EACzB,GAAKF,GAAM,GAAOC,IAAO,EACzB,GAAKF,GAAM,GAAOC,IAAO,EACzB,GAAKD,IAAO,EAAOF,IAAQ,GAAM,EAAEM,EAAQ,GAE/C,EAEMC,GAAUC,IACXA,IAAM,EAAK,MAAS,IACpBA,IAAM,EAAK,MAAS,IACpBA,IAAM,GAAM,MAAS,EACtBA,IAAM,GAAM,IACd,EAMI,SAAUC,GAAYC,EAAa,CACvCA,EAAE,QAAO,EACT,IAAMJ,EAAQI,EAAE,EAAE,EAAI,EAElBC,EAAQ,EACZ,QAASC,EAAI,EAAGA,EAAIF,EAAE,OAAQE,IAAK,CACjC,IAAMC,EAAIH,EAAEE,CAAC,EACbF,EAAEE,CAAC,EAAKC,IAAM,EAAKF,EACnBA,GAASE,EAAI,IAAM,CACrB,CACA,OAAAH,EAAE,CAAC,GAAK,CAACJ,EAAQ,IACVI,CACT,CAIA,IAAMI,GAAkBC,GAClBA,EAAQ,GAAK,KAAa,EAC1BA,EAAQ,KAAa,EAClB,EAGHC,GAAN,KAAW,CAYT,YAAYC,EAAYC,EAAuB,CAXtC,KAAA,SAAWtB,GACX,KAAA,UAAYA,GACX,KAAA,GAAK,EACL,KAAA,GAAK,EACL,KAAA,GAAK,EACL,KAAA,GAAK,EACL,KAAA,SAAW,GAMnBqB,EAAME,GAAQF,CAAG,EACjBF,GAAOE,EAAK,EAAE,EACd,IAAMG,EAAQC,GAAWJ,CAAG,EACxBK,EAAKF,EAAM,UAAU,EAAG,EAAK,EAC7BG,EAAKH,EAAM,UAAU,EAAG,EAAK,EAC7BI,EAAKJ,EAAM,UAAU,EAAG,EAAK,EAC7BK,EAAKL,EAAM,UAAU,GAAI,EAAK,EAE5BM,EAAmB,CAAA,EACzB,QAASd,EAAI,EAAGA,EAAI,IAAKA,IACvBc,EAAQ,KAAK,CAAE,GAAInB,GAAOe,CAAE,EAAG,GAAIf,GAAOgB,CAAE,EAAG,GAAIhB,GAAOiB,CAAE,EAAG,GAAIjB,GAAOkB,CAAE,CAAC,CAAE,EAC9E,CAAE,GAAIH,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKxB,GAAKqB,EAAIC,EAAIC,EAAIC,CAAE,EAE3D,IAAME,EAAIb,GAAeI,GAAkB,IAAI,EAC/C,GAAI,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASS,CAAC,EAC1B,MAAM,IAAI,MAAM,4BAA4B,OAAAA,EAAC,wBAAuB,EACtE,KAAK,EAAIA,EAET,IAAMC,EADO,IACUD,EACjBE,EAAc,KAAK,WAAa,GAAKF,EACrCG,EAAiB,CAAA,EAEvB,QAASC,EAAI,EAAGA,EAAIH,EAASG,IAE3B,QAASC,EAAO,EAAGA,EAAOH,EAAYG,IAAQ,CAE5C,IAAI9B,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAAGC,EAAK,EACjC,QAAS4B,EAAI,EAAGA,EAAIN,EAAGM,IAAK,CAE1B,GAAI,EADSD,IAAUL,EAAIM,EAAI,EAAM,GAC3B,SACV,GAAM,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKX,EAAQC,EAAII,EAAIE,CAAC,EAC3D/B,GAAMgC,EAAM/B,GAAMgC,EAAM/B,GAAMgC,EAAM/B,GAAMgC,CAC7C,CACAP,EAAM,KAAK,CAAE,GAAA5B,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,CAAE,CAC/B,CAEF,KAAK,EAAIyB,CACX,CACU,aAAa5B,EAAYC,EAAYC,EAAYC,EAAU,CAClEH,GAAM,KAAK,GAAMC,GAAM,KAAK,GAAMC,GAAM,KAAK,GAAMC,GAAM,KAAK,GAC/D,GAAM,CAAE,EAAAsB,EAAG,EAAAd,EAAG,WAAAgB,CAAU,EAAK,KAEzBS,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAC3BC,GAAQ,GAAKf,GAAK,EACpBI,EAAI,EACR,QAAWY,IAAO,CAACzC,EAAIC,EAAIC,EAAIC,CAAE,EAC/B,QAASuC,EAAU,EAAGA,EAAU,EAAGA,IAAW,CAC5C,IAAMZ,EAAQW,IAAS,EAAIC,EAAY,IACvC,QAASC,EAAS,EAAIlB,EAAI,EAAGkB,GAAU,EAAGA,IAAU,CAClD,IAAMC,EAAOd,IAAUL,EAAIkB,EAAWH,EAChC,CAAE,GAAIK,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKrC,EAAEkB,EAAIF,EAAaiB,CAAG,EAChER,GAAMS,EAAMR,GAAMS,EAAMR,GAAMS,EAAMR,GAAMS,EAC3CnB,GAAK,CACP,CACF,CAEF,KAAK,GAAKO,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,CACZ,CACA,OAAOU,EAAW,CAChBA,EAAOhC,GAAQgC,CAAI,EACnBC,GAAQ,IAAI,EACZ,IAAMC,EAAMtD,GAAIoD,CAAI,EACdG,EAAS,KAAK,MAAMH,EAAK,OAASvD,EAAU,EAC5C2D,EAAOJ,EAAK,OAASvD,GAC3B,QAAS,EAAI,EAAG,EAAI0D,EAAQ,IAC1B,KAAK,aAAaD,EAAI,EAAI,EAAI,CAAC,EAAGA,EAAI,EAAI,EAAI,CAAC,EAAGA,EAAI,EAAI,EAAI,CAAC,EAAGA,EAAI,EAAI,EAAI,CAAC,CAAC,EAElF,OAAIE,IACF1D,GAAQ,IAAIsD,EAAK,SAASG,EAAS1D,EAAU,CAAC,EAC9C,KAAK,aAAaE,GAAQ,CAAC,EAAGA,GAAQ,CAAC,EAAGA,GAAQ,CAAC,EAAGA,GAAQ,CAAC,CAAC,EAChEA,GAAQ,KAAK,CAAC,GAET,IACT,CACA,SAAO,CACL,GAAM,CAAE,CAAC,EAAK,KAEd,QAAW0D,KAAO,EACfA,EAAI,GAAK,EAAKA,EAAI,GAAK,EAAKA,EAAI,GAAK,EAAKA,EAAI,GAAK,CAExD,CACA,WAAWC,EAAe,CACxBL,GAAQ,IAAI,EACZM,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAChB,GAAM,CAAE,GAAAvD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KACrBsD,EAAM5D,GAAI0D,CAAG,EACnB,OAAAE,EAAI,CAAC,EAAIzD,EACTyD,EAAI,CAAC,EAAIxD,EACTwD,EAAI,CAAC,EAAIvD,EACTuD,EAAI,CAAC,EAAItD,EACFoD,CACT,CACA,QAAM,CACJ,IAAMG,EAAM,IAAI,WAAWhE,EAAU,EACrC,YAAK,WAAWgE,CAAG,EACnB,KAAK,QAAO,EACLA,CACT,GAGIC,GAAN,cAAsB7C,EAAK,CACzB,YAAYC,EAAYC,EAAuB,CAC7CD,EAAME,GAAQF,CAAG,EACjB,IAAM6C,EAAQrD,GAAYQ,EAAI,MAAK,CAAE,EACrC,MAAM6C,EAAO5C,CAAc,EAC3B4C,EAAM,KAAK,CAAC,CACd,CACA,OAAOX,EAAW,CAChBA,EAAOhC,GAAQgC,CAAI,EACnBC,GAAQ,IAAI,EACZ,IAAMC,EAAMtD,GAAIoD,CAAI,EACdI,EAAOJ,EAAK,OAASvD,GACrB0D,EAAS,KAAK,MAAMH,EAAK,OAASvD,EAAU,EAClD,QAAS,EAAI,EAAG,EAAI0D,EAAQ,IAC1B,KAAK,aACH/C,GAAO8C,EAAI,EAAI,EAAI,CAAC,CAAC,EACrB9C,GAAO8C,EAAI,EAAI,EAAI,CAAC,CAAC,EACrB9C,GAAO8C,EAAI,EAAI,EAAI,CAAC,CAAC,EACrB9C,GAAO8C,EAAI,EAAI,EAAI,CAAC,CAAC,CAAC,EAG1B,OAAIE,IACF1D,GAAQ,IAAIsD,EAAK,SAASG,EAAS1D,EAAU,CAAC,EAC9C,KAAK,aACHW,GAAOT,GAAQ,CAAC,CAAC,EACjBS,GAAOT,GAAQ,CAAC,CAAC,EACjBS,GAAOT,GAAQ,CAAC,CAAC,EACjBS,GAAOT,GAAQ,CAAC,CAAC,CAAC,EAEpBA,GAAQ,KAAK,CAAC,GAET,IACT,CACA,WAAW2D,EAAe,CACxBL,GAAQ,IAAI,EACZM,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAEhB,GAAM,CAAE,GAAAvD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KACrBsD,EAAM5D,GAAI0D,CAAG,EACnB,OAAAE,EAAI,CAAC,EAAIzD,EACTyD,EAAI,CAAC,EAAIxD,EACTwD,EAAI,CAAC,EAAIvD,EACTuD,EAAI,CAAC,EAAItD,EACFoD,EAAI,QAAO,CACpB,GAIF,SAASM,GACPC,EAA0D,CAE1D,IAAMC,EAAQ,CAACC,EAAYjD,IACzB+C,EAAS/C,EAAKiD,EAAI,MAAM,EAAE,OAAO/C,GAAQ+C,CAAG,CAAC,EAAE,OAAM,EACjDC,EAAMH,EAAS,IAAI,WAAW,EAAE,EAAG,CAAC,EAC1C,OAAAC,EAAM,UAAYE,EAAI,UACtBF,EAAM,SAAWE,EAAI,SACrBF,EAAM,OAAS,CAAChD,EAAYC,IAA4B8C,EAAS/C,EAAKC,CAAc,EAC7E+C,CACT,CAEO,IAAMG,GAAQL,GACnB,CAAC9C,EAAKC,IAAmB,IAAIF,GAAMC,EAAKC,CAAc,CAAC,EAE5CmD,GAAUN,GACrB,CAAC9C,EAAKC,IAAmB,IAAI2C,GAAQ5C,EAAKC,CAAc,CAAC,EChO3D,IAAMoD,GAAa,GACbC,GAAe,EACfC,GAAc,IAAI,WAAWF,EAAU,EACvCG,GAAO,IAGb,SAASC,GAAKC,EAAS,CACrB,OAAQA,GAAK,EAAMF,GAAO,EAAEE,GAAK,EACnC,CAEA,SAASC,GAAIC,EAAWC,EAAS,CAC/B,IAAIC,EAAM,EACV,KAAOD,EAAI,EAAGA,IAAM,EAElBC,GAAOF,EAAI,EAAEC,EAAI,GACjBD,EAAIH,GAAKG,CAAC,EAEZ,OAAOE,CACT,CAIA,IAAMC,IAAwB,IAAK,CACjC,IAAIC,EAAI,IAAI,WAAW,GAAG,EAC1B,QAASC,EAAI,EAAGC,EAAI,EAAGD,EAAI,IAAKA,IAAKC,GAAKT,GAAKS,CAAC,EAAGF,EAAEC,CAAC,EAAIC,EAC1D,IAAMC,EAAM,IAAI,WAAW,GAAG,EAC9BA,EAAI,CAAC,EAAI,GACT,QAASF,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC5B,IAAIC,EAAIF,EAAE,IAAMC,CAAC,EACjBC,GAAKA,GAAK,EACVC,EAAIH,EAAEC,CAAC,CAAC,GAAKC,EAAKA,GAAK,EAAMA,GAAK,EAAMA,GAAK,EAAMA,GAAK,EAAK,IAAQ,GACvE,CACA,OAAOC,CACT,GAAE,EAGIC,GAA0BL,GAAK,IAAI,CAACM,EAAGC,IAAMP,GAAK,QAAQO,CAAC,CAAC,EAG5DC,GAAYb,GAAeA,GAAK,GAAOA,IAAM,EAC7Cc,GAAYd,GAAeA,GAAK,EAAMA,IAAM,GAMlD,SAASe,GAAUV,EAAkBW,EAAyB,CAC5D,GAAIX,EAAK,SAAW,IAAK,MAAM,IAAI,MAAM,mBAAmB,EAC5D,IAAMY,EAAK,IAAI,YAAY,GAAG,EAAE,IAAI,CAACN,EAAGC,IAAMI,EAAGX,EAAKO,CAAC,CAAC,CAAC,EACnDM,EAAKD,EAAG,IAAIH,EAAQ,EACpBK,EAAKD,EAAG,IAAIJ,EAAQ,EACpBM,EAAKD,EAAG,IAAIL,EAAQ,EACpBO,EAAM,IAAI,YAAY,IAAM,GAAG,EAC/BC,EAAM,IAAI,YAAY,IAAM,GAAG,EAC/BC,EAAQ,IAAI,YAAY,IAAM,GAAG,EACvC,QAAShB,EAAI,EAAGA,EAAI,IAAKA,IACvB,QAASK,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC5B,IAAMY,EAAMjB,EAAI,IAAMK,EACtBS,EAAIG,CAAG,EAAIP,EAAGV,CAAC,EAAIW,EAAGN,CAAC,EACvBU,EAAIE,CAAG,EAAIL,EAAGZ,CAAC,EAAIa,EAAGR,CAAC,EACvBW,EAAMC,CAAG,EAAKnB,EAAKE,CAAC,GAAK,EAAKF,EAAKO,CAAC,CACtC,CAEF,MAAO,CAAE,KAAAP,EAAM,MAAAkB,EAAO,GAAAN,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,IAAAC,EAAK,IAAAC,CAAG,CAChD,CAEA,IAAMG,GAAgCV,GACpCV,GACCqB,GAAezB,GAAIyB,EAAG,CAAC,GAAK,GAAOA,GAAK,GAAOA,GAAK,EAAKzB,GAAIyB,EAAG,CAAC,CAAC,EAE/DC,GAAgCZ,GACpCL,GACCgB,GAAOzB,GAAIyB,EAAG,EAAE,GAAK,GAAOzB,GAAIyB,EAAG,EAAE,GAAK,GAAOzB,GAAIyB,EAAG,CAAC,GAAK,EAAKzB,GAAIyB,EAAG,EAAE,CAAC,EAG1EE,IAA2B,IAAK,CACpC,IAAMC,EAAI,IAAI,WAAW,EAAE,EAC3B,QAAStB,EAAI,EAAGC,EAAI,EAAGD,EAAI,GAAIA,IAAKC,EAAIT,GAAKS,CAAC,EAAGqB,EAAEtB,CAAC,EAAIC,EACxD,OAAOqB,CACT,GAAE,EAEI,SAAUC,GAAYC,EAAe,CACzCC,GAAOD,CAAG,EACV,IAAME,EAAMF,EAAI,OAChB,GAAI,CAAC,CAAC,GAAI,GAAI,EAAE,EAAE,SAASE,CAAG,EAC5B,MAAM,IAAI,MAAM,qDAAqD,OAAAA,EAAK,EAC5E,GAAM,CAAE,MAAAV,CAAK,EAAKE,GACZS,EAAMC,GAAIJ,CAAG,EACbK,EAAKF,EAAI,OACTG,EAAWrC,GAAcsC,GAAUf,EAAOvB,EAAGA,EAAGA,EAAGA,CAAC,EACpDuC,EAAK,IAAI,YAAYN,EAAM,EAAE,EACnCM,EAAG,IAAIL,CAAG,EAEV,QAAS3B,EAAI6B,EAAI7B,EAAIgC,EAAG,OAAQhC,IAAK,CACnC,IAAID,EAAIiC,EAAGhC,EAAI,CAAC,EACZA,EAAI6B,IAAO,EAAG9B,EAAI+B,EAAQxB,GAASP,CAAC,CAAC,EAAIsB,GAAQrB,EAAI6B,EAAK,CAAC,EACtDA,EAAK,GAAK7B,EAAI6B,IAAO,IAAG9B,EAAI+B,EAAQ/B,CAAC,GAC9CiC,EAAGhC,CAAC,EAAIgC,EAAGhC,EAAI6B,CAAE,EAAI9B,CACvB,CACA,OAAOiC,CACT,CAEM,SAAUC,GAAeT,EAAe,CAC5C,IAAMU,EAASX,GAAYC,CAAG,EACxBQ,EAAKE,EAAO,MAAK,EACjBL,EAAKK,EAAO,OACZ,CAAE,MAAAlB,CAAK,EAAKE,GACZ,CAAE,GAAAR,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKO,GAE3B,QAASpB,EAAI,EAAGA,EAAI6B,EAAI7B,GAAK,EAC3B,QAASK,EAAI,EAAGA,EAAI,EAAGA,IAAK2B,EAAGhC,EAAIK,CAAC,EAAI6B,EAAOL,EAAK7B,EAAI,EAAIK,CAAC,EAE/D6B,EAAO,KAAK,CAAC,EAEb,QAASlC,EAAI,EAAGA,EAAI6B,EAAK,EAAG7B,IAAK,CAC/B,IAAMC,EAAI+B,EAAGhC,CAAC,EACRmC,EAAIJ,GAAUf,EAAOf,EAAGA,EAAGA,EAAGA,CAAC,EACrC+B,EAAGhC,CAAC,EAAIU,EAAGyB,EAAI,GAAI,EAAIxB,EAAIwB,IAAM,EAAK,GAAI,EAAIvB,EAAIuB,IAAM,GAAM,GAAI,EAAItB,EAAGsB,IAAM,EAAE,CACnF,CACA,OAAOH,CACT,CAGA,SAASI,GACPtB,EACAC,EACAsB,EACAC,EACAC,EACAC,EAAU,CAEV,OACE1B,EAAMuB,GAAM,EAAK,MAAYC,IAAO,EAAK,GAAK,EAC9CvB,EAAMwB,IAAO,EAAK,MAAYC,IAAO,GAAM,GAAK,CAEpD,CAEA,SAAST,GAAUf,EAAoBqB,EAAYC,EAAYC,EAAYC,EAAU,CACnF,OACExB,EAAOqB,EAAK,IAASC,EAAK,KAAO,EAChCtB,EAAQuB,IAAO,GAAM,IAAUC,IAAO,GAAM,KAAO,GAAK,EAE7D,CAEA,SAASC,GAAQT,EAAiBK,EAAYC,EAAYC,EAAYC,EAAU,CAC9E,GAAM,CAAE,MAAAxB,EAAO,IAAAF,EAAK,IAAAC,CAAG,EAAKG,GACxBwB,EAAI,EACPL,GAAML,EAAGU,GAAG,EAAKJ,GAAMN,EAAGU,GAAG,EAAKH,GAAMP,EAAGU,GAAG,EAAKF,GAAMR,EAAGU,GAAG,EAChE,IAAMC,EAASX,EAAG,OAAS,EAAI,EAC/B,QAAShC,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAK,CAC/B,IAAM4C,EAAKZ,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKsB,EAAIC,EAAIC,EAAIC,CAAE,EACjDK,EAAKb,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKuB,EAAIC,EAAIC,EAAIH,CAAE,EACjDS,EAAKd,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKwB,EAAIC,EAAIH,EAAIC,CAAE,EACjDS,EAAKf,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKyB,EAAIH,EAAIC,EAAIC,CAAE,EACtDF,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,CACzC,CAEA,IAAMH,EAAKZ,EAAGU,GAAG,EAAIX,GAAUf,EAAOqB,EAAIC,EAAIC,EAAIC,CAAE,EAC9CK,EAAKb,EAAGU,GAAG,EAAIX,GAAUf,EAAOsB,EAAIC,EAAIC,EAAIH,CAAE,EAC9CS,EAAKd,EAAGU,GAAG,EAAIX,GAAUf,EAAOuB,EAAIC,EAAIH,EAAIC,CAAE,EAC9CS,EAAKf,EAAGU,GAAG,EAAIX,GAAUf,EAAOwB,EAAIH,EAAIC,EAAIC,CAAE,EACpD,MAAO,CAAE,GAAIK,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,CACzC,CAEA,SAASC,GAAQhB,EAAiBK,EAAYC,EAAYC,EAAYC,EAAU,CAC9E,GAAM,CAAE,MAAAxB,EAAO,IAAAF,EAAK,IAAAC,CAAG,EAAKK,GACxBsB,EAAI,EACPL,GAAML,EAAGU,GAAG,EAAKJ,GAAMN,EAAGU,GAAG,EAAKH,GAAMP,EAAGU,GAAG,EAAKF,GAAMR,EAAGU,GAAG,EAChE,IAAMC,EAASX,EAAG,OAAS,EAAI,EAC/B,QAAShC,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAK,CAC/B,IAAM4C,EAAKZ,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKsB,EAAIG,EAAID,EAAID,CAAE,EACjDO,EAAKb,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKuB,EAAID,EAAIG,EAAID,CAAE,EACjDO,EAAKd,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKwB,EAAID,EAAID,EAAIG,CAAE,EACjDO,EAAKf,EAAGU,GAAG,EAAIN,GAAUtB,EAAKC,EAAKyB,EAAID,EAAID,EAAID,CAAE,EACtDA,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,CACzC,CAEA,IAAMH,EAAKZ,EAAGU,GAAG,EAAIX,GAAUf,EAAOqB,EAAIG,EAAID,EAAID,CAAE,EAC9CO,EAAKb,EAAGU,GAAG,EAAIX,GAAUf,EAAOsB,EAAID,EAAIG,EAAID,CAAE,EAC9CO,EAAKd,EAAGU,GAAG,EAAIX,GAAUf,EAAOuB,EAAID,EAAID,EAAIG,CAAE,EAC9CO,EAAKf,EAAGU,GAAG,EAAIX,GAAUf,EAAOwB,EAAID,EAAID,EAAID,CAAE,EACpD,MAAO,CAAE,GAAIO,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,CACzC,CAEA,SAASE,GAAOvB,EAAawB,EAAgB,CAC3C,GAAI,CAACA,EAAK,OAAO,IAAI,WAAWxB,CAAG,EAEnC,GADAD,GAAOyB,CAAG,EACNA,EAAI,OAASxB,EACf,MAAM,IAAI,MAAM,oDAAoD,OAAAA,EAAG,WAAU,OAAAwB,EAAI,OAAQ,EAC/F,OAAOA,CACT,CAGA,SAASC,GAAWnB,EAAiBoB,EAAmBC,EAAiBH,EAAgB,CACvFzB,GAAO2B,EAAOhE,EAAU,EACxBqC,GAAO4B,CAAG,EACV,IAAMC,EAASD,EAAI,OACnBH,EAAMD,GAAOK,EAAQJ,CAAG,EACxB,IAAMK,EAAMH,EACNI,EAAM5B,GAAI2B,CAAG,EAEf,CAAE,GAAAlB,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIwB,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAC7DC,EAAQ7B,GAAIyB,CAAG,EACfK,EAAQ9B,GAAIsB,CAAG,EAErB,QAASlD,EAAI,EAAGA,EAAI,GAAKyD,EAAM,OAAQzD,GAAK,EAAG,CAC7C0D,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIqC,EAC9BqB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIsC,EAC9BoB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIuC,EAC9BmB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIwC,EAE9B,IAAImB,EAAQ,EACZ,QAAS3D,EAAIuD,EAAI,OAAS,EAAGvD,GAAK,EAAGA,IACnC2D,EAASA,GAASJ,EAAIvD,CAAC,EAAI,KAAS,EACpCuD,EAAIvD,CAAC,EAAI2D,EAAQ,IACjBA,KAAW,GAEZ,CAAE,GAAAtB,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIwB,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAClE,CAGA,IAAMI,EAAQxE,GAAa,KAAK,MAAMqE,EAAM,OAASpE,EAAY,EACjE,GAAIuE,EAAQN,EAAQ,CAClB,IAAMO,EAAM,IAAI,YAAY,CAACxB,EAAIC,EAAIC,EAAIC,CAAE,CAAC,EACtCsB,EAAMC,GAAGF,CAAG,EAClB,QAAS7D,EAAI4D,EAAOI,EAAM,EAAGhE,EAAIsD,EAAQtD,IAAKgE,IAAOd,EAAIlD,CAAC,EAAIqD,EAAIrD,CAAC,EAAI8D,EAAIE,CAAG,CAChF,CACA,OAAOd,CACT,CAKA,SAASe,GACPjC,EACAkC,EACAd,EACAC,EACAH,EAAgB,CAEhBzB,GAAO2B,EAAOhE,EAAU,EACxBqC,GAAO4B,CAAG,EACVH,EAAMD,GAAOI,EAAI,OAAQH,CAAG,EAC5B,IAAMK,EAAMH,EACNI,EAAM5B,GAAI2B,CAAG,EACbY,EAAOC,GAAWb,CAAG,EACrBE,EAAQ7B,GAAIyB,CAAG,EACfK,EAAQ9B,GAAIsB,CAAG,EACfmB,EAASH,EAAO,EAAI,GACpBZ,EAASD,EAAI,OAEfiB,EAASH,EAAK,UAAUE,EAAQH,CAAI,EACpC,CAAE,GAAA7B,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIwB,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAEnE,QAASxD,EAAI,EAAGA,EAAI,GAAKyD,EAAM,OAAQzD,GAAK,EAC1C0D,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIqC,EAC9BqB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIsC,EAC9BoB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIuC,EAC9BmB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAIwC,EAC9B8B,EAAUA,EAAS,IAAO,EAC1BH,EAAK,UAAUE,EAAQC,EAAQJ,CAAI,EAClC,CAAE,GAAA7B,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIwB,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAGlE,IAAMI,EAAQxE,GAAa,KAAK,MAAMqE,EAAM,OAASpE,EAAY,EACjE,GAAIuE,EAAQN,EAAQ,CAClB,IAAMO,EAAM,IAAI,YAAY,CAACxB,EAAIC,EAAIC,EAAIC,CAAE,CAAC,EACtCsB,EAAMC,GAAGF,CAAG,EAClB,QAAS7D,EAAI4D,EAAOI,EAAM,EAAGhE,EAAIsD,EAAQtD,IAAKgE,IAAOd,EAAIlD,CAAC,EAAIqD,EAAIrD,CAAC,EAAI8D,EAAIE,CAAG,CAChF,CACA,OAAOd,CACT,CAMO,IAAMK,IAAMgB,GACjB,CAAE,UAAW,GAAI,YAAa,EAAE,EAChC,SAAa/C,EAAiB4B,EAAiB,CAC7C3B,GAAOD,CAAG,EACVC,GAAO2B,EAAOhE,EAAU,EACxB,SAASoF,EAAWV,EAAiBZ,EAAgB,CACnD,IAAMlB,EAAKT,GAAYC,CAAG,EACpB/B,EAAI2D,EAAM,MAAK,EACfqB,EAAMtB,GAAWnB,EAAIvC,EAAGqE,EAAKZ,CAAG,EACtC,OAAAlB,EAAG,KAAK,CAAC,EACTvC,EAAE,KAAK,CAAC,EACDgF,CACT,CACA,MAAO,CACL,QAAS,CAACC,EAAuBxB,IAAqBsB,EAAWE,EAAWxB,CAAG,EAC/E,QAAS,CAACyB,EAAwBzB,IAAqBsB,EAAWG,EAAYzB,CAAG,EAErF,CAAC,EAGH,SAAS0B,GAAqBC,EAAgB,CAE5C,GADApD,GAAOoD,CAAI,EACPA,EAAK,OAASzF,KAAe,EAC/B,MAAM,IAAI,MACR,uEAAuE,OAAAA,GAAY,CAGzF,CAEA,SAAS0F,GAAqBJ,EAAuBK,EAAgB7B,EAAgB,CACnF,IAAI8B,EAASN,EAAU,OACjBO,EAAYD,EAAS5F,GAC3B,GAAI,CAAC2F,GAASE,IAAc,EAC1B,MAAM,IAAI,MAAM,yDAAyD,EAC3E,IAAMrF,EAAIgC,GAAI8C,CAAS,EACvB,GAAIK,EAAO,CACT,IAAIG,EAAO9F,GAAa6F,EACnBC,IAAMA,EAAO9F,IAClB4F,EAASA,EAASE,CACpB,CACA,IAAMT,EAAMxB,GAAO+B,EAAQ9B,CAAG,EACxBiC,EAAIvD,GAAI6C,CAAG,EACjB,MAAO,CAAE,EAAA7E,EAAG,EAAAuF,EAAG,IAAAV,CAAG,CACpB,CAEA,SAASW,GAAaP,EAAkBE,EAAc,CACpD,GAAI,CAACA,EAAO,OAAOF,EACnB,IAAMnD,EAAMmD,EAAK,OACjB,GAAI,CAACnD,EAAK,MAAM,IAAI,MAAM,yCAAyC,EACnE,IAAM2D,EAAWR,EAAKnD,EAAM,CAAC,EAC7B,GAAI2D,GAAY,GAAKA,EAAW,GAAI,MAAM,IAAI,MAAM,kCAAkC,OAAAA,EAAU,EAChG,IAAMZ,EAAMI,EAAK,SAAS,EAAG,CAACQ,CAAQ,EACtC,QAAS,EAAI,EAAG,EAAIA,EAAU,IAC5B,GAAIR,EAAKnD,EAAM,EAAI,CAAC,IAAM2D,EAAU,MAAM,IAAI,MAAM,0BAA0B,EAChF,OAAOZ,CACT,CAEA,SAASa,GAAQJ,EAAgB,CAC/B,IAAMK,EAAM,IAAI,WAAW,EAAE,EACvBC,EAAQ5D,GAAI2D,CAAG,EACrBA,EAAI,IAAIL,CAAI,EACZ,IAAMO,EAAcrG,GAAa8F,EAAK,OACtC,QAASlF,EAAIZ,GAAaqG,EAAazF,EAAIZ,GAAYY,IAAKuF,EAAIvF,CAAC,EAAIyF,EACrE,OAAOD,CACT,CAQO,IAAME,IAAMnB,GACjB,CAAE,UAAW,EAAE,EACf,SAAa/C,EAAiBmE,EAAkB,CAAA,EAAE,CAChDlE,GAAOD,CAAG,EACV,IAAMuD,EAAQ,CAACY,EAAK,eACpB,MAAO,CACL,QAAS,CAACjB,EAAuBxB,IAAoB,CACnDzB,GAAOiD,CAAS,EAChB,GAAM,CAAE,EAAA9E,EAAG,EAAAuF,EAAG,IAAKS,CAAI,EAAKd,GAAqBJ,EAAWK,EAAO7B,CAAG,EAChElB,EAAKT,GAAYC,CAAG,EACtBxB,EAAI,EACR,KAAOA,EAAI,GAAKJ,EAAE,QAAU,CAC1B,GAAM,CAAE,GAAAyC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIpC,EAAEI,EAAI,CAAC,EAAGJ,EAAEI,EAAI,CAAC,EAAGJ,EAAEI,EAAI,CAAC,EAAGJ,EAAEI,EAAI,CAAC,CAAC,EAC5EmF,EAAEnF,GAAG,EAAIqC,EAAM8C,EAAEnF,GAAG,EAAIsC,EAAM6C,EAAEnF,GAAG,EAAIuC,EAAM4C,EAAEnF,GAAG,EAAIwC,CACzD,CACA,GAAIuC,EAAO,CACT,IAAMS,EAAQF,GAAQZ,EAAU,SAAS1E,EAAI,CAAC,CAAC,EACzC,CAAE,GAAAqC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIwD,EAAM,CAAC,EAAGA,EAAM,CAAC,EAAGA,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,EAC5EL,EAAEnF,GAAG,EAAIqC,EAAM8C,EAAEnF,GAAG,EAAIsC,EAAM6C,EAAEnF,GAAG,EAAIuC,EAAM4C,EAAEnF,GAAG,EAAIwC,CACzD,CACA,OAAAR,EAAG,KAAK,CAAC,EACF4D,CACT,EACA,QAAS,CAACjB,EAAwBzB,IAAoB,CACpD0B,GAAqBD,CAAU,EAC/B,IAAM3C,EAAKC,GAAeT,CAAG,EACvBiD,EAAMxB,GAAO0B,EAAW,OAAQzB,CAAG,EACnCtD,EAAIgC,GAAI+C,CAAU,EAClBQ,EAAIvD,GAAI6C,CAAG,EACjB,QAASzE,EAAI,EAAGA,EAAI,GAAKJ,EAAE,QAAU,CACnC,GAAM,CAAE,GAAAyC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKQ,GAAQhB,EAAIpC,EAAEI,EAAI,CAAC,EAAGJ,EAAEI,EAAI,CAAC,EAAGJ,EAAEI,EAAI,CAAC,EAAGJ,EAAEI,EAAI,CAAC,CAAC,EAC5EmF,EAAEnF,GAAG,EAAIqC,EAAM8C,EAAEnF,GAAG,EAAIsC,EAAM6C,EAAEnF,GAAG,EAAIuC,EAAM4C,EAAEnF,GAAG,EAAIwC,CACzD,CACA,OAAAR,EAAG,KAAK,CAAC,EACFoD,GAAaX,EAAKM,CAAK,CAChC,EAEJ,CAAC,EAOUc,GAAMtB,GACjB,CAAE,UAAW,GAAI,YAAa,EAAE,EAChC,SAAa/C,EAAiBsE,EAAgBH,EAAkB,CAAA,EAAE,CAChElE,GAAOD,CAAG,EACVC,GAAOqE,EAAI,EAAE,EACb,IAAMf,EAAQ,CAACY,EAAK,eACpB,MAAO,CACL,QAAS,CAACjB,EAAuBxB,IAAoB,CACnD,IAAMlB,EAAKT,GAAYC,CAAG,EACpB,CAAE,EAAA5B,EAAG,EAAAuF,EAAG,IAAKS,CAAI,EAAKd,GAAqBJ,EAAWK,EAAO7B,CAAG,EAChE6C,EAAMnE,GAAIkE,CAAE,EAEdzD,EAAK0D,EAAI,CAAC,EAAGzD,EAAKyD,EAAI,CAAC,EAAGxD,EAAKwD,EAAI,CAAC,EAAGvD,EAAKuD,EAAI,CAAC,EACjD/F,EAAI,EACR,KAAOA,EAAI,GAAKJ,EAAE,QACfyC,GAAMzC,EAAEI,EAAI,CAAC,EAAKsC,GAAM1C,EAAEI,EAAI,CAAC,EAAKuC,GAAM3C,EAAEI,EAAI,CAAC,EAAKwC,GAAM5C,EAAEI,EAAI,CAAC,EACnE,CAAE,GAAAqC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIK,EAAIC,EAAIC,EAAIC,CAAE,EAC/C2C,EAAEnF,GAAG,EAAIqC,EAAM8C,EAAEnF,GAAG,EAAIsC,EAAM6C,EAAEnF,GAAG,EAAIuC,EAAM4C,EAAEnF,GAAG,EAAIwC,EAEzD,GAAIuC,EAAO,CACT,IAAMS,EAAQF,GAAQZ,EAAU,SAAS1E,EAAI,CAAC,CAAC,EAC9CqC,GAAMmD,EAAM,CAAC,EAAKlD,GAAMkD,EAAM,CAAC,EAAKjD,GAAMiD,EAAM,CAAC,EAAKhD,GAAMgD,EAAM,CAAC,EACnE,CAAE,GAAAnD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIK,EAAIC,EAAIC,EAAIC,CAAE,EAC/C2C,EAAEnF,GAAG,EAAIqC,EAAM8C,EAAEnF,GAAG,EAAIsC,EAAM6C,EAAEnF,GAAG,EAAIuC,EAAM4C,EAAEnF,GAAG,EAAIwC,CACzD,CACA,OAAAR,EAAG,KAAK,CAAC,EACF4D,CACT,EACA,QAAS,CAACjB,EAAwBzB,IAAoB,CACpD0B,GAAqBD,CAAU,EAC/B,IAAM3C,EAAKC,GAAeT,CAAG,EACvBuE,EAAMnE,GAAIkE,CAAE,EACZrB,EAAMxB,GAAO0B,EAAW,OAAQzB,CAAG,EACnCtD,EAAIgC,GAAI+C,CAAU,EAClBQ,EAAIvD,GAAI6C,CAAG,EAEbpC,EAAK0D,EAAI,CAAC,EAAGzD,EAAKyD,EAAI,CAAC,EAAGxD,EAAKwD,EAAI,CAAC,EAAGvD,EAAKuD,EAAI,CAAC,EACrD,QAAS/F,EAAI,EAAGA,EAAI,GAAKJ,EAAE,QAAU,CAEnC,IAAMoG,EAAM3D,EAAI4D,EAAM3D,EAAI4D,EAAM3D,EAAI4D,EAAM3D,EACzCH,EAAKzC,EAAEI,EAAI,CAAC,EAAKsC,EAAK1C,EAAEI,EAAI,CAAC,EAAKuC,EAAK3C,EAAEI,EAAI,CAAC,EAAKwC,EAAK5C,EAAEI,EAAI,CAAC,EAChE,GAAM,CAAE,GAAIoG,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKvD,GAAQhB,EAAIK,EAAIC,EAAIC,EAAIC,CAAE,EACpE2C,EAAEnF,GAAG,EAAIoG,EAAKJ,EAAOb,EAAEnF,GAAG,EAAIqG,EAAKJ,EAAOd,EAAEnF,GAAG,EAAIsG,EAAKJ,EAAOf,EAAEnF,GAAG,EAAIuG,EAAKJ,CAChF,CACA,OAAAnE,EAAG,KAAK,CAAC,EACFoD,GAAaX,EAAKM,CAAK,CAChC,EAEJ,CAAC,EAOUyB,IAAMjC,GACjB,CAAE,UAAW,GAAI,YAAa,EAAE,EAChC,SAAa/C,EAAiBsE,EAAc,CAC1CrE,GAAOD,CAAG,EACVC,GAAOqE,EAAI,EAAE,EACb,SAASW,EAAWpD,EAAiBqD,EAAoBxD,EAAgB,CACvE,IAAMlB,EAAKT,GAAYC,CAAG,EACpB8B,EAASD,EAAI,OACnBH,EAAMD,GAAOK,EAAQJ,CAAG,EACxB,IAAMO,EAAQ7B,GAAIyB,CAAG,EACfK,EAAQ9B,GAAIsB,CAAG,EACfyD,EAASD,EAAYhD,EAAQD,EAC7BsC,EAAMnE,GAAIkE,CAAE,EAEdzD,EAAK0D,EAAI,CAAC,EAAGzD,EAAKyD,EAAI,CAAC,EAAGxD,EAAKwD,EAAI,CAAC,EAAGvD,EAAKuD,EAAI,CAAC,EACrD,QAAS/F,EAAI,EAAGA,EAAI,GAAKyD,EAAM,QAAU,CACvC,GAAM,CAAE,GAAImD,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKtE,GAAQT,EAAIK,EAAIC,EAAIC,EAAIC,CAAE,EACrEkB,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAI4G,EAC9BlD,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAI6G,EAC9BnD,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAI8G,EAC9BpD,EAAM1D,EAAI,CAAC,EAAIyD,EAAMzD,EAAI,CAAC,EAAI+G,EAC7B1E,EAAKsE,EAAO3G,GAAG,EAAKsC,EAAKqE,EAAO3G,GAAG,EAAKuC,EAAKoE,EAAO3G,GAAG,EAAKwC,EAAKmE,EAAO3G,GAAG,CAC9E,CAEA,IAAM4D,EAAQxE,GAAa,KAAK,MAAMqE,EAAM,OAASpE,EAAY,EACjE,GAAIuE,EAAQN,EAAQ,EACjB,CAAE,GAAAjB,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQT,EAAIK,EAAIC,EAAIC,EAAIC,CAAE,GAChD,IAAMsB,EAAMC,GAAG,IAAI,YAAY,CAAC1B,EAAIC,EAAIC,EAAIC,CAAE,CAAC,CAAC,EAChD,QAASxC,EAAI4D,EAAOI,EAAM,EAAGhE,EAAIsD,EAAQtD,IAAKgE,IAAOd,EAAIlD,CAAC,EAAIqD,EAAIrD,CAAC,EAAI8D,EAAIE,CAAG,EAC9EF,EAAI,KAAK,CAAC,CACZ,CACA,OAAA9B,EAAG,KAAK,CAAC,EACFkB,CACT,CACA,MAAO,CACL,QAAS,CAACwB,EAAuBxB,IAAqBuD,EAAW/B,EAAW,GAAMxB,CAAG,EACrF,QAAS,CAACyB,EAAwBzB,IAAqBuD,EAAW9B,EAAY,GAAOzB,CAAG,EAE5F,CAAC,EAIH,SAAS8D,GACPvG,EACAyD,EACA1C,EACAqD,EACAoC,EAAgB,CAEhB,IAAMC,EAAIzG,EAAG,OAAOe,EAAKqD,EAAK,SAAUoC,GAAA,YAAAA,EAAK,SAAU,EAAE,EACrDA,GAAKC,EAAE,OAAOD,CAAG,EACrBC,EAAE,OAAOrC,CAAI,EACb,IAAMsC,EAAM,IAAI,WAAW,EAAE,EACvBhD,EAAOC,GAAW+C,CAAG,EAC3B,OAAIF,GAAKG,GAAajD,EAAM,EAAG,OAAO8C,EAAI,OAAS,CAAC,EAAG/C,CAAI,EAC3DkD,GAAajD,EAAM,EAAG,OAAOU,EAAK,OAAS,CAAC,EAAGX,CAAI,EACnDgD,EAAE,OAAOC,CAAG,EACLD,EAAE,OAAM,CACjB,CAOO,IAAMG,IAAM9C,GACjB,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,EAAE,EAC/C,SAAa/C,EAAiB4B,EAAmB6D,EAAgB,CAG/D,GAFAxF,GAAO2B,CAAK,EAERA,EAAM,SAAW,EAAG,MAAM,IAAI,MAAM,sBAAsB,EAC9D,IAAMkE,EAAY,GAClB,SAASC,EAAYC,EAAqBC,EAAqB5C,EAAgB,CAC7E,IAAM6C,EAAMV,GAAWW,GAAO,GAAOH,EAAS3C,EAAMoC,CAAG,EACvD,QAASjH,EAAI,EAAGA,EAAIyH,EAAQ,OAAQzH,IAAK0H,EAAI1H,CAAC,GAAKyH,EAAQzH,CAAC,EAC5D,OAAO0H,CACT,CACA,SAASE,GAAU,CACjB,IAAM5F,EAAKT,GAAYC,CAAG,EACpBgG,EAAUlI,GAAY,MAAK,EAC3BuI,EAAUvI,GAAY,MAAK,EAEjC,GADA2E,GAAMjC,EAAI,GAAO6F,EAASA,EAASL,CAAO,EACtCpE,EAAM,SAAW,GACnByE,EAAQ,IAAIzE,CAAK,MACZ,CAGL,IAAM0E,EAAWxI,GAAY,MAAK,EAC5B6E,EAAOC,GAAW0D,CAAQ,EAChCV,GAAajD,EAAM,EAAG,OAAOf,EAAM,OAAS,CAAC,EAAG,EAAK,EAErDuE,GAAM,OAAOH,CAAO,EAAE,OAAOpE,CAAK,EAAE,OAAO0E,CAAQ,EAAE,WAAWD,CAAO,CACzE,CACA,IAAMJ,EAAUxD,GAAMjC,EAAI,GAAO6F,EAASvI,EAAW,EACrD,MAAO,CAAE,GAAA0C,EAAI,QAAAwF,EAAS,QAAAK,EAAS,QAAAJ,CAAO,CACxC,CACA,MAAO,CACL,QAAU/C,GAAyB,CACjCjD,GAAOiD,CAAS,EAChB,GAAM,CAAE,GAAA1C,EAAI,QAAAwF,EAAS,QAAAK,EAAS,QAAAJ,CAAO,EAAKG,EAAU,EAC9CnD,EAAM,IAAI,WAAWC,EAAU,OAAS4C,CAAS,EACvDrD,GAAMjC,EAAI,GAAO6F,EAASnD,EAAWD,CAAG,EACxC,IAAMiD,EAAMH,EAAYC,EAASC,EAAShD,EAAI,SAAS,EAAGA,EAAI,OAAS6C,CAAS,CAAC,EACjF,OAAA7C,EAAI,IAAIiD,EAAKhD,EAAU,MAAM,EAC7B1C,EAAG,KAAK,CAAC,EACFyC,CACT,EACA,QAAUE,GAA0B,CAElC,GADAlD,GAAOkD,CAAU,EACbA,EAAW,OAAS2C,EACtB,MAAM,IAAI,MAAM,yCAAyC,OAAAA,EAAS,IAAG,EACvE,GAAM,CAAE,GAAAtF,EAAI,QAAAwF,EAAS,QAAAK,EAAS,QAAAJ,CAAO,EAAKG,EAAU,EAC9C/C,EAAOF,EAAW,SAAS,EAAG,CAAC2C,CAAS,EACxCS,EAAYpD,EAAW,SAAS,CAAC2C,CAAS,EAC1CI,EAAMH,EAAYC,EAASC,EAAS5C,CAAI,EAC9C,GAAI,CAACmD,GAAWN,EAAKK,CAAS,EAAG,MAAM,IAAI,MAAM,4BAA4B,EAC7E,IAAMtD,EAAMR,GAAMjC,EAAI,GAAO6F,EAAShD,CAAI,EAC1C,OAAA2C,EAAQ,KAAK,CAAC,EACdC,EAAQ,KAAK,CAAC,EACdzF,EAAG,KAAK,CAAC,EACFyC,CACT,EAEJ,CAAC,EAGGwD,GAAQ,CAACC,EAAcC,EAAaC,IAAiBC,GAAiB,CAC1E,GAAI,CAAC,OAAO,cAAcA,CAAK,GAAKF,EAAME,GAASA,EAAQD,EACzD,MAAM,IAAI,MAAM,GAAG,OAAAF,EAAI,oBAAmB,OAAAG,EAAK,eAAc,OAAAF,EAAG,MAAK,OAAAC,EAAG,IAAG,CAC/E,EAQaE,IAAM/D,GACjB,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,EAAE,EAC/C,SAAa/C,EAAiB4B,EAAmB6D,EAAgB,CAG/D,IAAMsB,EAAYN,GAAM,MAAO,EAAG,WAAO,EACnCO,EAAcP,GAAM,YAAa,EAAG,GAAK,EAAE,EAC3CQ,EAAcR,GAAM,QAAS,GAAI,EAAE,EACnCS,EAAeT,GAAM,aAAc,GAAI,GAAK,GAAK,EAAE,EACzDxG,GAAO2B,CAAK,EACZqF,EAAYrF,EAAM,MAAM,EACpB6D,IACFxF,GAAOwF,CAAG,EACVsB,EAAUtB,EAAI,MAAM,GAEtB,SAASW,GAAU,CACjB,IAAMlG,EAAMF,EAAI,OAChB,GAAIE,IAAQ,IAAMA,IAAQ,IAAMA,IAAQ,GACtC,MAAM,IAAI,MAAM,+CAA+C,OAAAA,EAAG,SAAQ,EAC5E,IAAMM,EAAKT,GAAYC,CAAG,EACpBU,EAAS,IAAI,WAAWR,CAAG,EAC3B8F,EAAU,IAAI,WAAW,EAAE,EAC3BzB,EAAMnE,GAAIwB,CAAK,EAEjBf,EAAK,EAAGC,EAAKyD,EAAI,CAAC,EAAGxD,EAAKwD,EAAI,CAAC,EAAGvD,EAAKuD,EAAI,CAAC,EAC5C8B,EAAU,EACd,QAAWc,IAAc,CAACnB,EAAStF,CAAM,EAAE,IAAIN,EAAG,EAAG,CACnD,IAAMgH,EAAMhH,GAAI+G,CAAU,EAC1B,QAAS3I,EAAI,EAAGA,EAAI4I,EAAI,OAAQ5I,GAAK,EAAG,CAEtC,GAAM,CAAE,GAAIoG,EAAI,GAAIC,CAAE,EAAK5D,GAAQT,EAAIK,EAAIC,EAAIC,EAAIC,CAAE,EACrDoG,EAAI5I,EAAI,CAAC,EAAIoG,EACbwC,EAAI5I,EAAI,CAAC,EAAIqG,EACbhE,EAAK,EAAEwF,CACT,CACF,CACA,OAAA7F,EAAG,KAAK,CAAC,EACF,CAAE,QAAAwF,EAAS,OAAQjG,GAAYW,CAAM,CAAC,CAC/C,CACA,SAASqF,EAAYrF,EAAqBsF,EAAqB3C,EAAgB,CAC7E,IAAM6C,EAAMV,GAAW6B,GAAS,GAAMrB,EAAS3C,EAAMoC,CAAG,EAIxD,QAASjH,EAAI,EAAGA,EAAI,GAAIA,IAAK0H,EAAI1H,CAAC,GAAKoD,EAAMpD,CAAC,EAC9C0H,EAAI,EAAE,GAAK,IAEX,IAAMoB,EAAMlH,GAAI8F,CAAG,EAEfrF,EAAKyG,EAAI,CAAC,EAAGxG,EAAKwG,EAAI,CAAC,EAAGvG,EAAKuG,EAAI,CAAC,EAAGtG,EAAKsG,EAAI,CAAC,EACrD,MAAC,CAAE,GAAAzG,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQP,EAAQG,EAAIC,EAAIC,EAAIC,CAAE,EACnDsG,EAAI,CAAC,EAAIzG,EAAMyG,EAAI,CAAC,EAAIxG,EAAMwG,EAAI,CAAC,EAAIvG,EAAMuG,EAAI,CAAC,EAAItG,EAChDkF,CACT,CAEA,SAASqB,EAAW7G,EAAqBwF,EAAiBsB,EAAiB,CACzE,IAAIC,EAAQvB,EAAI,MAAK,EACrB,OAAAuB,EAAM,EAAE,GAAK,IACNhF,GAAM/B,EAAQ,GAAM+G,EAAOD,CAAK,CACzC,CACA,MAAO,CACL,QAAUtE,GAAyB,CACjCjD,GAAOiD,CAAS,EAChB8D,EAAY9D,EAAU,MAAM,EAC5B,GAAM,CAAE,OAAAxC,EAAQ,QAAAsF,CAAO,EAAKI,EAAU,EAChCF,EAAMH,EAAYrF,EAAQsF,EAAS9C,CAAS,EAC5CD,EAAM,IAAI,WAAWC,EAAU,OAAS,EAAS,EACvD,OAAAD,EAAI,IAAIiD,EAAKhD,EAAU,MAAM,EAC7BD,EAAI,IAAIsE,EAAW7G,EAAQwF,EAAKhD,CAAS,CAAC,EAC1CxC,EAAO,KAAK,CAAC,EACbsF,EAAQ,KAAK,CAAC,EACP/C,CACT,EACA,QAAUE,GAA0B,CAClClD,GAAOkD,CAAU,EACjB+D,EAAa/D,EAAW,MAAM,EAC9B,IAAM+C,EAAM/C,EAAW,SAAS,GAAU,EACpC,CAAE,OAAAzC,EAAQ,QAAAsF,CAAO,EAAKI,EAAU,EAChClD,EAAYqE,EAAW7G,EAAQwF,EAAK/C,EAAW,SAAS,EAAG,GAAU,CAAC,EACtEuE,EAAc3B,EAAYrF,EAAQsF,EAAS9C,CAAS,EAG1D,GAFAxC,EAAO,KAAK,CAAC,EACbsF,EAAQ,KAAK,CAAC,EACV,CAACQ,GAAWN,EAAKwB,CAAW,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACxE,OAAOxE,CACT,EAEJ,CAAC,EC7qBH,IAAMyE,GAAS,CAACC,EAAeC,IAAeD,EAAEC,GAAG,EAAI,KAAUD,EAAEC,GAAG,EAAI,MAAS,EAC7EC,GAAN,KAAc,CAUZ,YAAYC,EAAU,CATb,KAAA,SAAW,GACX,KAAA,UAAY,GACb,KAAA,OAAS,IAAI,WAAW,EAAE,EAC1B,KAAA,EAAI,IAAI,YAAY,EAAE,EACtB,KAAA,EAAI,IAAI,YAAY,EAAE,EACtB,KAAA,IAAM,IAAI,YAAY,CAAC,EACvB,KAAA,IAAM,EACJ,KAAA,SAAW,GAGnBA,EAAMC,GAAQD,CAAG,EACjBE,GAAOF,EAAK,EAAE,EACd,IAAMG,EAAKP,GAAOI,EAAK,CAAC,EAClBI,EAAKR,GAAOI,EAAK,CAAC,EAClBK,EAAKT,GAAOI,EAAK,CAAC,EAClBM,EAAKV,GAAOI,EAAK,CAAC,EAClBO,EAAKX,GAAOI,EAAK,CAAC,EAClBQ,EAAKZ,GAAOI,EAAK,EAAE,EACnBS,EAAKb,GAAOI,EAAK,EAAE,EACnBU,EAAKd,GAAOI,EAAK,EAAE,EAGzB,KAAK,EAAE,CAAC,EAAIG,EAAK,KACjB,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,EAAMC,GAAM,GAAM,KACvC,KAAK,EAAE,CAAC,GAAMA,IAAO,EAAMC,GAAM,IAAO,IACxC,KAAK,EAAE,CAAC,EAAKA,IAAO,EAAK,KACzB,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,EAAMC,GAAM,GAAM,KACvC,KAAK,EAAE,CAAC,EAAKA,IAAO,EAAK,IACzB,QAASZ,EAAI,EAAGA,EAAI,EAAGA,IAAK,KAAK,IAAIA,CAAC,EAAIF,GAAOI,EAAK,GAAK,EAAIF,CAAC,CAClE,CAEQ,QAAQa,EAAkBC,EAAgBC,EAAS,GAAK,CAC9D,IAAMC,EAAQD,EAAS,EAAI,KACrB,CAAE,EAAAE,EAAG,EAAAC,CAAC,EAAK,KACXC,EAAKD,EAAE,CAAC,EACRE,EAAKF,EAAE,CAAC,EACRG,EAAKH,EAAE,CAAC,EACRI,EAAKJ,EAAE,CAAC,EACRK,EAAKL,EAAE,CAAC,EACRM,EAAKN,EAAE,CAAC,EACRO,EAAKP,EAAE,CAAC,EACRQ,EAAKR,EAAE,CAAC,EACRS,EAAKT,EAAE,CAAC,EACRU,EAAKV,EAAE,CAAC,EAERb,EAAKP,GAAOe,EAAMC,EAAS,CAAC,EAC5BR,EAAKR,GAAOe,EAAMC,EAAS,CAAC,EAC5BP,EAAKT,GAAOe,EAAMC,EAAS,CAAC,EAC5BN,EAAKV,GAAOe,EAAMC,EAAS,CAAC,EAC5BL,EAAKX,GAAOe,EAAMC,EAAS,CAAC,EAC5BJ,EAAKZ,GAAOe,EAAMC,EAAS,EAAE,EAC7BH,EAAKb,GAAOe,EAAMC,EAAS,EAAE,EAC7BF,EAAKd,GAAOe,EAAMC,EAAS,EAAE,EAE/Be,EAAKZ,EAAE,CAAC,GAAKZ,EAAK,MAClByB,EAAKb,EAAE,CAAC,IAAOZ,IAAO,GAAOC,GAAM,GAAM,MACzCyB,EAAKd,EAAE,CAAC,IAAOX,IAAO,GAAOC,GAAM,GAAM,MACzCyB,EAAKf,EAAE,CAAC,IAAOV,IAAO,EAAMC,GAAM,GAAM,MACxCyB,EAAKhB,EAAE,CAAC,IAAOT,IAAO,EAAMC,GAAM,IAAO,MACzCyB,EAAKjB,EAAE,CAAC,GAAMR,IAAO,EAAK,MAC1B0B,EAAKlB,EAAE,CAAC,IAAOR,IAAO,GAAOC,GAAM,GAAM,MACzC0B,EAAKnB,EAAE,CAAC,IAAOP,IAAO,GAAOC,GAAM,GAAM,MACzC0B,EAAKpB,EAAE,CAAC,IAAON,IAAO,EAAMC,GAAM,GAAM,MACxC0B,EAAKrB,EAAE,CAAC,GAAML,IAAO,EAAKI,GAE1BuB,EAAI,EAEJC,EAAKD,EAAIV,EAAKV,EAAKW,GAAM,EAAIF,GAAMG,GAAM,EAAIJ,GAAMK,GAAM,EAAIN,GAAMO,GAAM,EAAIR,GACjFc,EAAIC,IAAO,GACXA,GAAM,KACNA,GAAMN,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GAAMa,GAAM,EAAId,GAAMe,GAAM,EAAIhB,GAAMiB,GAAM,EAAIlB,GAChFmB,GAAKC,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKF,EAAIV,EAAKT,EAAKU,EAAKX,EAAKY,GAAM,EAAIH,GAAMI,GAAM,EAAIL,GAAMM,GAAM,EAAIP,GAC3Ea,EAAIE,IAAO,GACXA,GAAM,KACNA,GAAMP,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAAMY,GAAM,EAAIb,GAAMc,GAAM,EAAIf,GAAMgB,GAAM,EAAIjB,GAChFkB,GAAKE,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKH,EAAIV,EAAKR,EAAKS,EAAKV,EAAKW,EAAKZ,EAAKa,GAAM,EAAIJ,GAAMK,GAAM,EAAIN,GACrEY,EAAIG,IAAO,GACXA,GAAM,KACNA,GAAMR,GAAM,EAAIR,GAAMS,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GAAMa,GAAM,EAAId,GAAMe,GAAM,EAAIhB,GAChFiB,GAAKG,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKJ,EAAIV,EAAKP,EAAKQ,EAAKT,EAAKU,EAAKX,EAAKY,EAAKb,EAAKc,GAAM,EAAIL,GAC/DW,EAAII,IAAO,GACXA,GAAM,KACNA,GAAMT,GAAM,EAAIP,GAAMQ,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAAMY,GAAM,EAAIb,GAAMc,GAAM,EAAIf,GAChFgB,GAAKI,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKL,EAAIV,EAAKN,EAAKO,EAAKR,EAAKS,EAAKV,EAAKW,EAAKZ,EAAKa,EAAKd,EAC1DoB,EAAIK,IAAO,GACXA,GAAM,KACNA,GAAMV,GAAM,EAAIN,GAAMO,GAAM,EAAIR,GAAMS,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GAAMa,GAAM,EAAId,GAChFe,GAAKK,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKN,EAAIV,EAAKL,EAAKM,EAAKP,EAAKQ,EAAKT,EAAKU,EAAKX,EAAKY,EAAKb,EAC1DmB,EAAIM,IAAO,GACXA,GAAM,KACNA,GAAMX,EAAKf,EAAKgB,GAAM,EAAIP,GAAMQ,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAAMY,GAAM,EAAIb,GAC1Ec,GAAKM,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKP,EAAIV,EAAKJ,EAAKK,EAAKN,EAAKO,EAAKR,EAAKS,EAAKV,EAAKW,EAAKZ,EAC1DkB,EAAIO,IAAO,GACXA,GAAM,KACNA,GAAMZ,EAAKd,EAAKe,EAAKhB,EAAKiB,GAAM,EAAIR,GAAMS,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GACpEa,GAAKO,IAAO,GACZA,GAAM,KAEN,IAAIC,GAAKR,EAAIV,EAAKH,EAAKI,EAAKL,EAAKM,EAAKP,EAAKQ,EAAKT,EAAKU,EAAKX,EAC1DiB,EAAIQ,KAAO,GACXA,IAAM,KACNA,IAAMb,EAAKb,EAAKc,EAAKf,EAAKgB,EAAKjB,EAAKkB,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAC9DY,GAAKQ,KAAO,GACZA,IAAM,KAEN,IAAIC,GAAKT,EAAIV,EAAKF,EAAKG,EAAKJ,EAAKK,EAAKN,EAAKO,EAAKR,EAAKS,EAAKV,EAC1DgB,EAAIS,KAAO,GACXA,IAAM,KACNA,IAAMd,EAAKZ,EAAKa,EAAKd,EAAKe,EAAKhB,EAAKiB,EAAKlB,EAAKmB,GAAM,EAAIV,GACxDW,GAAKS,KAAO,GACZA,IAAM,KAEN,IAAIC,GAAKV,EAAIV,EAAKD,EAAKE,EAAKH,EAAKI,EAAKL,EAAKM,EAAKP,EAAKQ,EAAKT,EAC1De,EAAIU,KAAO,GACXA,IAAM,KACNA,IAAMf,EAAKX,EAAKY,EAAKb,EAAKc,EAAKf,EAAKgB,EAAKjB,EAAKkB,EAAKnB,EACnDoB,GAAKU,KAAO,GACZA,IAAM,KAENV,GAAMA,GAAK,GAAKA,EAAK,EACrBA,EAAKA,EAAIC,EAAM,EACfA,EAAKD,EAAI,KACTA,EAAIA,IAAM,GACVE,GAAMF,EAENtB,EAAE,CAAC,EAAIuB,EACPvB,EAAE,CAAC,EAAIwB,EACPxB,EAAE,CAAC,EAAIyB,EACPzB,EAAE,CAAC,EAAI0B,EACP1B,EAAE,CAAC,EAAI2B,EACP3B,EAAE,CAAC,EAAI4B,EACP5B,EAAE,CAAC,EAAI6B,EACP7B,EAAE,CAAC,EAAI8B,GACP9B,EAAE,CAAC,EAAI+B,GACP/B,EAAE,CAAC,EAAIgC,EACT,CAEQ,UAAQ,CACd,GAAM,CAAE,EAAAhC,EAAG,IAAAiC,CAAG,EAAK,KACbC,EAAI,IAAI,YAAY,EAAE,EACxBZ,EAAItB,EAAE,CAAC,IAAM,GACjBA,EAAE,CAAC,GAAK,KACR,QAASjB,EAAI,EAAGA,EAAI,GAAIA,IACtBiB,EAAEjB,CAAC,GAAKuC,EACRA,EAAItB,EAAEjB,CAAC,IAAM,GACbiB,EAAEjB,CAAC,GAAK,KAEViB,EAAE,CAAC,GAAKsB,EAAI,EACZA,EAAItB,EAAE,CAAC,IAAM,GACbA,EAAE,CAAC,GAAK,KACRA,EAAE,CAAC,GAAKsB,EACRA,EAAItB,EAAE,CAAC,IAAM,GACbA,EAAE,CAAC,GAAK,KACRA,EAAE,CAAC,GAAKsB,EAERY,EAAE,CAAC,EAAIlC,EAAE,CAAC,EAAI,EACdsB,EAAIY,EAAE,CAAC,IAAM,GACbA,EAAE,CAAC,GAAK,KACR,QAASnD,EAAI,EAAGA,EAAI,GAAIA,IACtBmD,EAAEnD,CAAC,EAAIiB,EAAEjB,CAAC,EAAIuC,EACdA,EAAIY,EAAEnD,CAAC,IAAM,GACbmD,EAAEnD,CAAC,GAAK,KAEVmD,EAAE,CAAC,GAAK,KAER,IAAIC,GAAQb,EAAI,GAAK,EACrB,QAASvC,EAAI,EAAGA,EAAI,GAAIA,IAAKmD,EAAEnD,CAAC,GAAKoD,EACrCA,EAAO,CAACA,EACR,QAASpD,EAAI,EAAGA,EAAI,GAAIA,IAAKiB,EAAEjB,CAAC,EAAKiB,EAAEjB,CAAC,EAAIoD,EAAQD,EAAEnD,CAAC,EACvDiB,EAAE,CAAC,GAAKA,EAAE,CAAC,EAAKA,EAAE,CAAC,GAAK,IAAO,MAC/BA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,IAAO,MACvCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MACtCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MACtCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,GAAOA,EAAE,CAAC,GAAK,EAAMA,EAAE,CAAC,GAAK,IAAO,MACtDA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,IAAO,MACvCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MACtCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MAEtC,IAAIoC,EAAIpC,EAAE,CAAC,EAAIiC,EAAI,CAAC,EACpBjC,EAAE,CAAC,EAAIoC,EAAI,MACX,QAASrD,EAAI,EAAGA,EAAI,EAAGA,IACrBqD,GAAOpC,EAAEjB,CAAC,EAAIkD,EAAIlD,CAAC,EAAK,IAAMqD,IAAM,IAAO,EAC3CpC,EAAEjB,CAAC,EAAIqD,EAAI,KAEf,CACA,OAAOxC,EAAW,CAChByC,GAAQ,IAAI,EACZ,GAAM,CAAE,OAAAC,EAAQ,SAAAC,CAAQ,EAAK,KAC7B3C,EAAOV,GAAQU,CAAI,EACnB,IAAM4C,EAAM5C,EAAK,OAEjB,QAAS6C,EAAM,EAAGA,EAAMD,GAAO,CAC7B,IAAME,EAAO,KAAK,IAAIH,EAAW,KAAK,IAAKC,EAAMC,CAAG,EAEpD,GAAIC,IAASH,EAAU,CACrB,KAAOA,GAAYC,EAAMC,EAAKA,GAAOF,EAAU,KAAK,QAAQ3C,EAAM6C,CAAG,EACrE,QACF,CACAH,EAAO,IAAI1C,EAAK,SAAS6C,EAAKA,EAAMC,CAAI,EAAG,KAAK,GAAG,EACnD,KAAK,KAAOA,EACZD,GAAOC,EACH,KAAK,MAAQH,IACf,KAAK,QAAQD,EAAQ,EAAG,EAAK,EAC7B,KAAK,IAAM,EAEf,CACA,OAAO,IACT,CACA,SAAO,CACL,KAAK,EAAE,KAAK,CAAC,EACb,KAAK,EAAE,KAAK,CAAC,EACb,KAAK,OAAO,KAAK,CAAC,EAClB,KAAK,IAAI,KAAK,CAAC,CACjB,CACA,WAAWK,EAAe,CACxBN,GAAQ,IAAI,EACZO,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAChB,GAAM,CAAE,OAAAL,EAAQ,EAAAtC,CAAC,EAAK,KAClB,CAAE,IAAAyC,CAAG,EAAK,KACd,GAAIA,EAAK,CAGP,IAFAH,EAAOG,GAAK,EAAI,EAETA,EAAM,GAAIA,IAAOH,EAAOG,CAAG,EAAI,EACtC,KAAK,QAAQH,EAAQ,EAAG,EAAI,CAC9B,CACA,KAAK,SAAQ,EACb,IAAIO,EAAO,EACX,QAAS9D,EAAI,EAAGA,EAAI,EAAGA,IACrB4D,EAAIE,GAAM,EAAI7C,EAAEjB,CAAC,IAAM,EACvB4D,EAAIE,GAAM,EAAI7C,EAAEjB,CAAC,IAAM,EAEzB,OAAO4D,CACT,CACA,QAAM,CACJ,GAAM,CAAE,OAAAL,EAAQ,UAAAQ,CAAS,EAAK,KAC9B,KAAK,WAAWR,CAAM,EACtB,IAAMS,EAAMT,EAAO,MAAM,EAAGQ,CAAS,EACrC,YAAK,QAAO,EACLC,CACT,GAII,SAAUC,GAA0CC,EAAiC,CACzF,IAAMC,EAAQ,CAACC,EAAYlE,IAA2BgE,EAAShE,CAAG,EAAE,OAAOC,GAAQiE,CAAG,CAAC,EAAE,OAAM,EACzFC,EAAMH,EAAS,IAAI,WAAW,EAAE,CAAC,EACvC,OAAAC,EAAM,UAAYE,EAAI,UACtBF,EAAM,SAAWE,EAAI,SACrBF,EAAM,OAAUjE,GAAegE,EAAShE,CAAG,EACpCiE,CACT,CAEO,IAAMG,GAAWL,GAAwB/D,GAAQ,IAAID,GAASC,CAAG,CAAC,ECpPzE,IAAMqE,GAAgBC,GAAgB,WAAW,KAAKA,EAAI,MAAM,EAAE,EAAE,IAAKC,GAAMA,EAAE,WAAW,CAAC,CAAC,CAAC,EACzFC,GAAUH,GAAa,kBAAkB,EACzCI,GAAUJ,GAAa,kBAAkB,EACzCK,GAAaC,GAAIH,EAAO,EACxBI,GAAaD,GAAIF,EAAO,EACjBI,IAAQD,GAAW,MAAK,EAE/B,SAAUE,GAAKC,EAAWC,EAAS,CACvC,OAAQD,GAAKC,EAAMD,IAAO,GAAKC,CACjC,CA2BA,SAASC,GAAYD,EAAa,CAChC,OAAOA,EAAE,WAAa,IAAM,CAC9B,CAGA,IAAME,GAAY,GACZC,GAAc,GAIdC,GAAc,GAAK,GAAK,EAExBC,GAAY,IAAI,YACtB,SAASC,GACPC,EACAV,EACAW,EACAC,EACAC,EACAC,EACAC,EACAC,EAAc,CAEd,IAAMC,EAAMJ,EAAK,OACXK,EAAQ,IAAI,WAAWb,EAAS,EAChCc,EAAMrB,GAAIoB,CAAK,EAEfE,EAAYhB,GAAYS,CAAI,GAAKT,GAAYU,CAAM,EACnDO,EAAMD,EAAYtB,GAAIe,CAAI,EAAIL,GAC9Bc,EAAMF,EAAYtB,GAAIgB,CAAM,EAAIN,GACtC,QAASe,EAAM,EAAGA,EAAMN,EAAKF,IAAW,CAEtC,GADAL,EAAKV,EAAOW,EAAKC,EAAOO,EAAKJ,EAASC,CAAM,EACxCD,GAAWR,GAAa,MAAM,IAAI,MAAM,uBAAuB,EACnE,IAAMiB,EAAO,KAAK,IAAInB,GAAWY,EAAMM,CAAG,EAE1C,GAAIH,GAAaI,IAASnB,GAAW,CACnC,IAAMoB,EAAQF,EAAM,EACpB,GAAIA,EAAM,IAAM,EAAG,MAAM,IAAI,MAAM,6BAA6B,EAChE,QAASG,EAAI,EAAGC,EAAcD,EAAIpB,GAAaoB,IAC7CC,EAAOF,EAAQC,EACfJ,EAAIK,CAAI,EAAIN,EAAIM,CAAI,EAAIR,EAAIO,CAAC,EAE/BH,GAAOlB,GACP,QACF,CACA,QAASqB,EAAI,EAAGC,EAAMD,EAAIF,EAAME,IAC9BC,EAAOJ,EAAMG,EACbZ,EAAOa,CAAI,EAAId,EAAKc,CAAI,EAAIT,EAAMQ,CAAC,EAErCH,GAAOC,CACT,CACF,CAEM,SAAUI,GAAalB,EAAoBmB,EAAgB,CAC/D,GAAM,CAAE,eAAAC,EAAgB,cAAAC,EAAe,cAAAC,EAAe,aAAAC,EAAc,OAAAjB,CAAM,EAAKkB,GAC7E,CAAE,eAAgB,GAAO,cAAe,EAAG,aAAc,GAAO,OAAQ,EAAE,EAC1EL,CAAI,EAEN,GAAI,OAAOnB,GAAS,WAAY,MAAM,IAAI,MAAM,yBAAyB,EACzE,OAAAyB,GAAQH,CAAa,EACrBG,GAAQnB,CAAM,EACdoB,GAAMH,CAAY,EAClBG,GAAMN,CAAc,EACb,CACLnB,EACAC,EACAC,EACAC,EACAC,EAAU,IACI,CACdsB,GAAO1B,CAAG,EACV0B,GAAOzB,CAAK,EACZyB,GAAOxB,CAAI,EACX,IAAMI,EAAMJ,EAAK,OAIjB,GAHKC,IAAQA,EAAS,IAAI,WAAWG,CAAG,GACxCoB,GAAOvB,CAAM,EACbqB,GAAQpB,CAAO,EACXA,EAAU,GAAKA,GAAWR,GAAa,MAAM,IAAI,MAAM,uBAAuB,EAClF,GAAIO,EAAO,OAASG,EAClB,MAAM,IAAI,MAAM,gBAAgB,OAAAH,EAAO,OAAM,4BAA2B,OAAAG,EAAG,IAAG,EAChF,IAAMqB,EAAU,CAAA,EAKZC,EAAI5B,EAAI,OACV6B,EACAxC,EACF,GAAIuC,IAAM,GACRC,EAAI7B,EAAI,MAAK,EACb2B,EAAQ,KAAKE,CAAC,EACdxC,EAAQD,WACCwC,IAAM,IAAMT,EACrBU,EAAI,IAAI,WAAW,EAAE,EACrBA,EAAE,IAAI7B,CAAG,EACT6B,EAAE,IAAI7B,EAAK,EAAE,EACbX,EAAQH,GACRyC,EAAQ,KAAKE,CAAC,MAEd,OAAM,IAAI,MAAM,wCAAwC,OAAAD,EAAG,EAUxDnC,GAAYQ,CAAK,IACpBA,EAAQA,EAAM,MAAK,EACnB0B,EAAQ,KAAK1B,CAAK,GAGpB,IAAM6B,EAAM3C,GAAI0C,CAAC,EAEjB,GAAIT,EAAe,CACjB,GAAInB,EAAM,SAAW,GAAI,MAAM,IAAI,MAAM,sCAAsC,EAC/EmB,EAAc/B,EAAOyC,EAAK3C,GAAIc,EAAM,SAAS,EAAG,EAAE,CAAC,EAAG6B,CAAG,EACzD7B,EAAQA,EAAM,SAAS,EAAE,CAC3B,CAGA,IAAM8B,EAAa,GAAKV,EACxB,GAAIU,IAAe9B,EAAM,OACvB,MAAM,IAAI,MAAM,sBAAsB,OAAA8B,EAAU,eAAc,EAGhE,GAAIA,IAAe,GAAI,CACrB,IAAMC,EAAK,IAAI,WAAW,EAAE,EAC5BA,EAAG,IAAI/B,EAAOqB,EAAe,EAAI,GAAKrB,EAAM,MAAM,EAClDA,EAAQ+B,EACRL,EAAQ,KAAK1B,CAAK,CACpB,CACA,IAAMgC,EAAM9C,GAAIc,CAAK,EAErB,IADAH,GAAUC,EAAMV,EAAOyC,EAAKG,EAAK/B,EAAMC,EAAQC,EAASC,CAAM,EACvDsB,EAAQ,OAAS,GAAGA,EAAQ,IAAG,EAAI,KAAK,CAAC,EAChD,OAAOxB,CACT,CACF,CCxMA,SAAS+B,GACPC,EAAgBC,EAAgB,EAAgBC,EAAkBC,EAAaC,EAAS,GAAE,CAE1F,IAAIC,EAAML,EAAE,CAAC,EAAGM,EAAMN,EAAE,CAAC,EAAGO,EAAMP,EAAE,CAAC,EAAGQ,EAAMR,EAAE,CAAC,EAC7CS,EAAMR,EAAE,CAAC,EAAGS,EAAMT,EAAE,CAAC,EAAGU,EAAMV,EAAE,CAAC,EAAGW,EAAMX,EAAE,CAAC,EAC7CY,EAAMZ,EAAE,CAAC,EAAGa,EAAMb,EAAE,CAAC,EAAGc,EAAMd,EAAE,CAAC,EAAGe,EAAMf,EAAE,CAAC,EAC7CgB,EAAMd,EAAMe,EAAM,EAAE,CAAC,EAAGC,EAAM,EAAE,CAAC,EAAGC,EAAM,EAAE,CAAC,EAE7CC,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EACvCiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EACvCiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EACvCiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAC3C,QAASiB,EAAI,EAAGA,EAAIjC,EAAQiC,GAAK,EAC/BhB,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAKZ,EAAK,CAAC,EAC7CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,CAAC,EAE9CX,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,EAAE,EAC/CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,CAAC,EAC9CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,EAAE,EAC/CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,CAAC,EAC9CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,EAAE,EAC/CN,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,CAAC,EAE9CL,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,EAAE,EAC/CN,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,CAAC,EAGhD,IAAIS,EAAK,EACTrC,EAAIqC,GAAI,EAAKlC,EAAMgB,EAAO,EAAGnB,EAAIqC,GAAI,EAAKjC,EAAMgB,EAAO,EACvDpB,EAAIqC,GAAI,EAAKhC,EAAMgB,EAAO,EAAGrB,EAAIqC,GAAI,EAAK/B,EAAMgB,EAAO,EACvDtB,EAAIqC,GAAI,EAAK9B,EAAMgB,EAAO,EAAGvB,EAAIqC,GAAI,EAAK7B,EAAMgB,EAAO,EACvDxB,EAAIqC,GAAI,EAAK5B,EAAMgB,EAAO,EAAGzB,EAAIqC,GAAI,EAAK3B,EAAMgB,EAAO,EACvD1B,EAAIqC,GAAI,EAAK1B,EAAMgB,EAAO,EAAG3B,EAAIqC,GAAI,EAAKzB,EAAMgB,EAAO,EACvD5B,EAAIqC,GAAI,EAAKxB,EAAMgB,EAAO,EAAG7B,EAAIqC,GAAI,EAAKvB,EAAMgB,EAAO,EACvD9B,EAAIqC,GAAI,EAAKtB,EAAMgB,EAAO,EAAG/B,EAAIqC,GAAI,EAAKrB,EAAMgB,EAAO,EACvDhC,EAAIqC,GAAI,EAAKpB,EAAMgB,EAAO,EAAGjC,EAAIqC,GAAI,EAAKnB,EAAMgB,EAAO,CACzD,CAQM,SAAUI,GACdxC,EAAgBC,EAAgBwC,EAAgBC,EAAgB,CAEhE,IAAIrB,EAAMrB,EAAE,CAAC,EAAGsB,EAAMtB,EAAE,CAAC,EAAGuB,EAAMvB,EAAE,CAAC,EAAGwB,EAAMxB,EAAE,CAAC,EAC7CyB,EAAMxB,EAAE,CAAC,EAAGyB,EAAMzB,EAAE,CAAC,EAAG0B,EAAM1B,EAAE,CAAC,EAAG2B,EAAM3B,EAAE,CAAC,EAC7C4B,EAAM5B,EAAE,CAAC,EAAG6B,EAAM7B,EAAE,CAAC,EAAG8B,EAAM9B,EAAE,CAAC,EAAG+B,EAAM/B,EAAE,CAAC,EAC7CgC,EAAMQ,EAAE,CAAC,EAAGP,EAAMO,EAAE,CAAC,EAAGN,EAAMM,EAAE,CAAC,EAAGL,EAAMK,EAAE,CAAC,EACjD,QAASJ,EAAI,EAAGA,EAAI,GAAIA,GAAK,EAC3BhB,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,CAAC,EAE9CX,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,EAAE,EAC/CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,CAAC,EAC9CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,EAAE,EAC/CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,CAAC,EAC9CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,EAAE,EAC/CN,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,CAAC,EAE9CL,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,EAAE,EAC/CN,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,CAAC,EAEhD,IAAIS,EAAK,EACTG,EAAIH,GAAI,EAAIlB,EAAKqB,EAAIH,GAAI,EAAIjB,EAC7BoB,EAAIH,GAAI,EAAIhB,EAAKmB,EAAIH,GAAI,EAAIf,EAC7BkB,EAAIH,GAAI,EAAIN,EAAKS,EAAIH,GAAI,EAAIL,EAC7BQ,EAAIH,GAAI,EAAIJ,EAAKO,EAAIH,GAAI,EAAIH,CAC/B,CAaO,IAAMO,GAA2BC,GAAaC,GAAY,CAC/D,aAAc,GACd,cAAe,EACf,eAAgB,GACjB,EAOYC,GAA4BF,GAAaC,GAAY,CAChE,aAAc,GACd,cAAe,EACf,cAAeE,GACf,eAAgB,GACjB,EAoBD,IAAMC,GAA0B,IAAI,WAAW,EAAE,EAE3CC,GAAe,CAACC,EAAuCC,IAAmB,CAC9ED,EAAE,OAAOC,CAAG,EACZ,IAAMC,EAAOD,EAAI,OAAS,GACtBC,GAAMF,EAAE,OAAOF,GAAQ,SAASI,CAAI,CAAC,CAC3C,EAEMC,GAA0B,IAAI,WAAW,EAAE,EACjD,SAASC,GACPC,EACAC,EACAC,EACAC,EACAC,EAAgB,CAEhB,IAAMC,EAAUL,EAAGC,EAAKC,EAAOJ,EAAO,EAChCH,EAAIW,GAAS,OAAOD,CAAO,EAC7BD,GAAKV,GAAaC,EAAGS,CAAG,EAC5BV,GAAaC,EAAGQ,CAAI,EACpB,IAAMI,EAAM,IAAI,WAAW,EAAE,EACvBC,EAAOC,GAAWF,CAAG,EAC3BG,GAAaF,EAAM,EAAG,OAAOJ,EAAMA,EAAI,OAAS,CAAC,EAAG,EAAI,EACxDM,GAAaF,EAAM,EAAG,OAAOL,EAAK,MAAM,EAAG,EAAI,EAC/CR,EAAE,OAAOY,CAAG,EACZ,IAAMI,EAAMhB,EAAE,OAAM,EACpB,OAAAU,EAAQ,KAAK,CAAC,EACPM,CACT,CAWO,IAAMC,GACVC,GACD,CAACZ,EAAiBC,EAAmBE,KAEnCU,GAAOb,EAAK,EAAE,EACda,GAAOZ,CAAK,EACL,CACL,QAAS,CAACa,EAAuBC,IAAuB,CACtD,IAAMC,EAAUF,EAAU,OACpBG,EAAUD,EAAU,GACtBD,EACFF,GAAOE,EAAQE,CAAO,EAEtBF,EAAS,IAAI,WAAWE,CAAO,EAEjCL,EAAUZ,EAAKC,EAAOa,EAAWC,EAAQ,CAAC,EAC1C,IAAMG,EAAMpB,GAAWc,EAAWZ,EAAKC,EAAOc,EAAO,SAAS,EAAG,GAAU,EAAGZ,CAAG,EACjF,OAAAY,EAAO,IAAIG,EAAKF,CAAO,EAChBD,CACT,EACA,QAAS,CAACI,EAAwBJ,IAAuB,CACvD,IAAME,EAAUE,EAAW,OACrBH,EAAUC,EAAU,GAC1B,GAAIA,EAAU,GACZ,MAAM,IAAI,MAAM,0CAAoD,EAClEF,EACFF,GAAOE,EAAQC,CAAO,EAEtBD,EAAS,IAAI,WAAWC,CAAO,EAEjC,IAAMd,EAAOiB,EAAW,SAAS,EAAG,GAAU,EACxCC,EAAYD,EAAW,SAAS,GAAU,EAC1CD,EAAMpB,GAAWc,EAAWZ,EAAKC,EAAOC,EAAMC,CAAG,EACvD,GAAI,CAACkB,GAAWD,EAAWF,CAAG,EAAG,MAAM,IAAI,MAAM,aAAa,EAC9D,OAAAN,EAAUZ,EAAKC,EAAOC,EAAMa,EAAQ,CAAC,EAC9BA,CACT,IAQOO,IAAmCC,GAC9C,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,EAAE,EAC/CZ,GAAea,EAAQ,CAAC,EAObC,IAAoCF,GAC/C,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,EAAE,EAC/CZ,GAAee,EAAS,CAAC,ECxRrB,IAAOC,GAAP,cAAuCC,EAAa,CAQxD,YAAYC,EAAaC,EAAW,CAClC,MAAK,EAJC,KAAA,SAAW,GACX,KAAA,UAAY,GAIlBC,GAAO,KAAKF,CAAI,EAChB,IAAMG,EAAMC,GAAQH,CAAI,EAExB,GADA,KAAK,MAAQD,EAAK,OAAM,EACpB,OAAO,KAAK,MAAM,QAAW,WAC/B,MAAM,IAAI,MAAM,qDAAqD,EACvE,KAAK,SAAW,KAAK,MAAM,SAC3B,KAAK,UAAY,KAAK,MAAM,UAC5B,IAAMK,EAAW,KAAK,SAChBC,EAAM,IAAI,WAAWD,CAAQ,EAEnCC,EAAI,IAAIH,EAAI,OAASE,EAAWL,EAAK,OAAM,EAAG,OAAOG,CAAG,EAAE,OAAM,EAAKA,CAAG,EACxE,QAASI,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAKD,EAAIC,CAAC,GAAK,GAC/C,KAAK,MAAM,OAAOD,CAAG,EAErB,KAAK,MAAQN,EAAK,OAAM,EAExB,QAASO,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAKD,EAAIC,CAAC,GAAK,IAC/C,KAAK,MAAM,OAAOD,CAAG,EACrBA,EAAI,KAAK,CAAC,CACZ,CACA,OAAOE,EAAU,CACf,OAAAN,GAAO,OAAO,IAAI,EAClB,KAAK,MAAM,OAAOM,CAAG,EACd,IACT,CACA,WAAWC,EAAe,CACxBP,GAAO,OAAO,IAAI,EAClBA,GAAO,MAAMO,EAAK,KAAK,SAAS,EAChC,KAAK,SAAW,GAChB,KAAK,MAAM,WAAWA,CAAG,EACzB,KAAK,MAAM,OAAOA,CAAG,EACrB,KAAK,MAAM,WAAWA,CAAG,EACzB,KAAK,QAAO,CACd,CACA,QAAM,CACJ,IAAMA,EAAM,IAAI,WAAW,KAAK,MAAM,SAAS,EAC/C,YAAK,WAAWA,CAAG,EACZA,CACT,CACA,WAAWC,EAAY,CAErBA,IAAAA,EAAO,OAAO,OAAO,OAAO,eAAe,IAAI,EAAG,CAAA,CAAE,GACpD,GAAM,CAAE,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,SAAAT,EAAU,UAAAU,CAAS,EAAK,KACnE,OAAAL,EAAKA,EACLA,EAAG,SAAWG,EACdH,EAAG,UAAYI,EACfJ,EAAG,SAAWL,EACdK,EAAG,UAAYK,EACfL,EAAG,MAAQC,EAAM,WAAWD,EAAG,KAAK,EACpCA,EAAG,MAAQE,EAAM,WAAWF,EAAG,KAAK,EAC7BA,CACT,CACA,SAAO,CACL,KAAK,UAAY,GACjB,KAAK,MAAM,QAAO,EAClB,KAAK,MAAM,QAAO,CACpB,GASWM,GAAO,CAAChB,EAAaG,EAAYc,IAC5C,IAAInB,GAAUE,EAAMG,CAAG,EAAE,OAAOc,CAAO,EAAE,OAAM,EACjDD,GAAK,OAAS,CAAChB,EAAaG,IAAe,IAAIL,GAAUE,EAAMG,CAAG,ECjE5D,SAAUe,GAAQC,EAAaC,EAAYC,EAAY,CAC3D,OAAAC,GAAO,KAAKH,CAAI,EAIZE,IAAS,SAAWA,EAAO,IAAI,WAAWF,EAAK,SAAS,GACrDI,GAAKJ,EAAMK,GAAQH,CAAI,EAAGG,GAAQJ,CAAG,CAAC,CAC/C,CAGA,IAAMK,GAAe,IAAI,WAAW,CAAC,CAAC,CAAC,EACjCC,GAAe,IAAI,WAQnB,SAAUC,GAAOR,EAAaS,EAAYC,EAAcC,EAAiB,GAAE,CAG/E,GAFAR,GAAO,KAAKH,CAAI,EAChBG,GAAO,OAAOQ,CAAM,EAChBA,EAAS,IAAMX,EAAK,UAAW,MAAM,IAAI,MAAM,iCAAiC,EACpF,IAAMY,EAAS,KAAK,KAAKD,EAASX,EAAK,SAAS,EAC5CU,IAAS,SAAWA,EAAOH,IAE/B,IAAMM,EAAM,IAAI,WAAWD,EAASZ,EAAK,SAAS,EAE5Cc,EAAOV,GAAK,OAAOJ,EAAMS,CAAG,EAC5BM,EAAUD,EAAK,WAAU,EACzBE,EAAI,IAAI,WAAWF,EAAK,SAAS,EACvC,QAASG,EAAU,EAAGA,EAAUL,EAAQK,IACtCX,GAAa,CAAC,EAAIW,EAAU,EAG5BF,EAAQ,OAAOE,IAAY,EAAIV,GAAeS,CAAC,EAC5C,OAAON,CAAI,EACX,OAAOJ,EAAY,EACnB,WAAWU,CAAC,EACfH,EAAI,IAAIG,EAAGhB,EAAK,UAAYiB,CAAO,EACnCH,EAAK,WAAWC,CAAO,EAEzB,OAAAD,EAAK,QAAO,EACZC,EAAQ,QAAO,EACfC,EAAE,KAAK,CAAC,EACRV,GAAa,KAAK,CAAC,EACZO,EAAI,MAAM,EAAGF,CAAM,CAC5B,CC9DA,IAAIO,GAAY,OAAO,eACnBC,GAAW,CAACC,EAAQC,IAAQ,CAC9B,QAASC,KAAQD,EACfH,GAAUE,EAAQE,EAAM,CAAE,IAAKD,EAAIC,CAAI,EAAG,WAAY,EAAK,CAAC,CAChE,EAOIC,GAAiB,OAAO,UAAU,EAClCC,GAAYC,GAAQA,aAAe,OACvC,SAASC,GAAcC,EAAO,CAa5B,GAZI,CAACH,GAASG,CAAK,GAEf,OAAOA,EAAM,MAAS,UAEtB,OAAOA,EAAM,SAAY,UAEzB,OAAOA,EAAM,YAAe,UAE5B,OAAOA,EAAM,QAAW,UAExB,CAACA,EAAM,OAAO,MAAM,gBAAgB,GAEpC,CAAC,MAAM,QAAQA,EAAM,IAAI,EAC3B,MAAO,GACT,QAASC,EAAK,EAAGA,EAAKD,EAAM,KAAK,OAAQC,IAAM,CAC7C,IAAIC,EAAMF,EAAM,KAAKC,CAAE,EACvB,GAAI,CAAC,MAAM,QAAQC,CAAG,EACpB,MAAO,GACT,QAASC,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAC9B,GAAI,OAAOD,EAAIC,CAAC,GAAM,SACpB,MAAO,EAEb,CACA,MAAO,EACT,CAcA,IAAIC,GAAgB,CAAC,EACrBC,GAASD,GAAe,CACtB,MAAO,IAAME,GACb,UAAW,IAAMC,GACjB,aAAc,IAAMC,GACpB,WAAY,IAAMC,GAClB,WAAY,IAAMC,GAClB,6BAA8B,IAAMC,GACpC,8BAA+B,IAAMC,GACrC,aAAc,IAAMC,GACpB,YAAa,IAAMC,GACnB,YAAa,IAAMC,EACrB,CAAC,EAED,IAAID,GAAc,IAAI,YAAY,OAAO,EACrCC,GAAc,IAAI,YACtB,SAASF,GAAaG,EAAK,CACzB,GAAI,CACEA,EAAI,QAAQ,KAAK,IAAM,KACzBA,EAAM,SAAWA,GACnB,IAAIC,EAAI,IAAI,IAAID,CAAG,EACnB,OAAAC,EAAE,SAAWA,EAAE,SAAS,QAAQ,OAAQ,GAAG,EACvCA,EAAE,SAAS,SAAS,GAAG,IACzBA,EAAE,SAAWA,EAAE,SAAS,MAAM,EAAG,EAAE,IACjCA,EAAE,OAAS,MAAQA,EAAE,WAAa,OAASA,EAAE,OAAS,OAASA,EAAE,WAAa,UAChFA,EAAE,KAAO,IACXA,EAAE,aAAa,KAAK,EACpBA,EAAE,KAAO,GACFA,EAAE,SAAS,CACpB,OAASC,EAAG,CACV,MAAM,IAAI,MAAM,gBAAgB,OAAAF,EAAK,CACvC,CACF,CACA,SAASJ,GAA8BO,EAAaC,EAAO,CACzD,GAAM,CAACC,EAAKC,CAAK,EAAId,GAAaW,EAAcI,GAC1CH,EAAM,KAAOG,EAAE,GACV,EACLH,EAAM,aAAeG,EAAE,WAClB,GACFA,EAAE,WAAaH,EAAM,UAC7B,EACD,OAAKE,GACHH,EAAY,OAAOE,EAAK,EAAGD,CAAK,EAE3BD,CACT,CACA,SAASR,GAA6BQ,EAAaC,EAAO,CACxD,GAAM,CAACC,EAAKC,CAAK,EAAId,GAAaW,EAAcI,GAC1CH,EAAM,KAAOG,EAAE,GACV,EACLH,EAAM,aAAeG,EAAE,WAClB,GACFH,EAAM,WAAaG,EAAE,UAC7B,EACD,OAAKD,GACHH,EAAY,OAAOE,EAAK,EAAGD,CAAK,EAE3BD,CACT,CACA,SAASX,GAAagB,EAAKC,EAAS,CAClC,IAAIC,EAAQ,EACRC,EAAMH,EAAI,OAAS,EACvB,KAAOE,GAASC,GAAK,CACnB,IAAMC,EAAM,KAAK,OAAOF,EAAQC,GAAO,CAAC,EAClCE,EAAMJ,EAAQD,EAAII,CAAG,CAAC,EAC5B,GAAIC,IAAQ,EACV,MAAO,CAACD,EAAK,EAAI,EAEfC,EAAM,EACRF,EAAMC,EAAM,EAEZF,EAAQE,EAAM,CAElB,CACA,MAAO,CAACF,EAAO,EAAK,CACtB,CACA,IAAInB,GAAY,KAAM,CAIpB,YAAYuB,EAAS,CAHrBC,GAAA,cACAA,GAAA,YAAO,MACPA,GAAA,YAAO,MAEL,KAAK,MAAQD,CACf,CACF,EACIxB,GAAQ,KAAM,CAGhB,aAAc,CAFdyB,GAAA,cACAA,GAAA,aAEE,KAAK,MAAQ,KACb,KAAK,KAAO,IACd,CACA,QAAQC,EAAO,CACb,IAAMC,EAAU,IAAI1B,GAAUyB,CAAK,EACnC,OAAK,KAAK,KAGC,KAAK,OAAS,KAAK,OAC5B,KAAK,KAAOC,EACZ,KAAK,KAAK,KAAO,KAAK,MACtB,KAAK,MAAM,KAAOA,IAElBA,EAAQ,KAAO,KAAK,KACpB,KAAK,KAAK,KAAOA,EACjB,KAAK,KAAOA,IATZ,KAAK,MAAQA,EACb,KAAK,KAAOA,GAUP,EACT,CACA,SAAU,CACR,GAAI,CAAC,KAAK,MACR,OAAO,KACT,GAAI,KAAK,QAAU,KAAK,KAAM,CAC5B,IAAMC,EAAU,KAAK,MACrB,YAAK,MAAQ,KACb,KAAK,KAAO,KACLA,EAAQ,KACjB,CACA,IAAMC,EAAS,KAAK,MACpB,YAAK,MAAQA,EAAO,KAChB,KAAK,QACP,KAAK,MAAM,KAAO,MAEbA,EAAO,KAChB,CACF,EAGIC,GAAK,KAAM,CACb,mBAAoB,CAClB,OAAOC,GAAQ,MAAM,iBAAiB,CACxC,CACA,aAAaC,EAAW,CACtB,OAAO7B,GAAY4B,GAAQ,aAAaC,CAAS,CAAC,CACpD,CACA,cAAcC,EAAGD,EAAW,CAC1B,IAAMlB,EAAQmB,EACd,OAAAnB,EAAM,OAASX,GAAY4B,GAAQ,aAAaC,CAAS,CAAC,EAC1DlB,EAAM,GAAKoB,GAAapB,CAAK,EAC7BA,EAAM,IAAMX,GAAY4B,GAAQ,KAAKG,GAAapB,CAAK,EAAGkB,CAAS,CAAC,EACpElB,EAAMqB,EAAc,EAAI,GACjBrB,CACT,CACA,YAAYA,EAAO,CACjB,GAAI,OAAOA,EAAMqB,EAAc,GAAM,UACnC,OAAOrB,EAAMqB,EAAc,EAC7B,IAAMC,EAAOF,GAAapB,CAAK,EAC/B,GAAIsB,IAAStB,EAAM,GACjB,OAAAA,EAAMqB,EAAc,EAAI,GACjB,GAET,GAAI,CACF,IAAME,EAAQN,GAAQ,OAAOjB,EAAM,IAAKsB,EAAMtB,EAAM,MAAM,EAC1D,OAAAA,EAAMqB,EAAc,EAAIE,EACjBA,CACT,OAASC,EAAK,CACZ,OAAAxB,EAAMqB,EAAc,EAAI,GACjB,EACT,CACF,CACF,EACA,SAASI,GAAeC,EAAK,CAC3B,GAAI,CAACC,GAAcD,CAAG,EACpB,MAAM,IAAI,MAAM,wDAAwD,EAC1E,OAAO,KAAK,UAAU,CAAC,EAAGA,EAAI,OAAQA,EAAI,WAAYA,EAAI,KAAMA,EAAI,KAAMA,EAAI,OAAO,CAAC,CACxF,CACA,SAASN,GAAapB,EAAO,CAC3B,IAAI4B,EAAYC,GAAOlC,GAAY,OAAO8B,GAAezB,CAAK,CAAC,CAAC,EAChE,OAAOX,GAAYuC,CAAS,CAC9B,CACA,IAAIE,GAAI,IAAId,GACRe,GAAoBD,GAAE,kBACtBE,GAAeF,GAAE,aACjBG,GAAgBH,GAAE,cAClBI,GAAcJ,GAAE,YAGhBK,GAAgB,CAAC,EACrBlD,GAASkD,GAAe,CACtB,YAAa,IAAMC,GACnB,WAAY,IAAMC,GAClB,gBAAiB,IAAMC,GACvB,kBAAmB,IAAMC,GACzB,aAAc,IAAMC,GACpB,aAAc,IAAMC,GACpB,SAAU,IAAMC,GAChB,kBAAmB,IAAMC,GACzB,gBAAiB,IAAMC,GACvB,mBAAoB,IAAMC,GAC1B,eAAgB,IAAMC,GACtB,gBAAiB,IAAMC,GACvB,gBAAiB,IAAMC,GACvB,kBAAmB,IAAMC,GACzB,WAAY,IAAMC,GAClB,gBAAiB,IAAMC,GACvB,oBAAqB,IAAMC,GAC3B,sBAAuB,IAAMC,GAC7B,SAAU,IAAMC,GAChB,sBAAuB,IAAMC,GAC7B,oBAAqB,IAAMC,GAC3B,aAAc,IAAMC,GACpB,KAAM,IAAMC,GACZ,wBAAyB,IAAMC,GAC/B,uBAAwB,IAAMC,GAC9B,UAAW,IAAMC,GACjB,UAAW,IAAMC,GACjB,uBAAwB,IAAMC,GAC9B,cAAe,IAAMC,GACrB,aAAc,IAAMC,GACpB,qBAAsB,IAAMC,GAC5B,WAAY,IAAMC,GAClB,cAAe,IAAMC,GACrB,aAAc,IAAMC,GACpB,SAAU,IAAMC,GAChB,SAAU,IAAMC,GAChB,mBAAoB,IAAMC,GAC1B,sBAAuB,IAAMC,GAC7B,WAAY,IAAMC,GAClB,cAAe,IAAMC,GACrB,aAAc,IAAMC,GACpB,YAAa,IAAMC,GACnB,WAAY,IAAMC,GAClB,UAAW,IAAMC,GACjB,MAAO,IAAMC,GACb,gBAAiB,IAAMC,GACvB,gBAAiB,IAAMC,GACvB,UAAW,IAAMC,GACjB,gBAAiB,IAAMC,GACvB,SAAU,IAAMC,GAChB,SAAU,IAAMC,GAChB,cAAe,IAAMC,GACrB,iBAAkB,IAAMC,GACxB,kBAAmB,IAAMC,GACzB,aAAc,IAAMC,GACpB,eAAgB,IAAMC,GACtB,QAAS,IAAMC,GACf,qBAAsB,IAAMC,GAC5B,eAAgB,IAAMC,GACtB,cAAe,IAAMC,GACrB,gBAAiB,IAAMC,GACvB,SAAU,IAAMC,GAChB,eAAgB,IAAMC,GACtB,UAAW,IAAMC,GACjB,UAAW,IAAMC,GACjB,OAAQ,IAAMC,GACd,UAAW,IAAMC,GACjB,OAAQ,IAAMC,GACd,KAAM,IAAMC,GACZ,iBAAkB,IAAMC,GACxB,cAAe,IAAMC,GACrB,KAAM,IAAMC,GACZ,cAAe,IAAMC,GACrB,aAAc,IAAMC,GACpB,IAAK,IAAMC,GACX,QAAS,IAAMC,GACf,WAAY,IAAMC,GAClB,aAAc,IAAMC,GACpB,kBAAmB,IAAMC,GACzB,gBAAiB,IAAMC,GACvB,OAAQ,IAAMC,GACd,cAAe,IAAMC,GACrB,kBAAmB,IAAMC,EAC3B,CAAC,EACD,SAASD,GAAcE,EAAM,CAC3B,MAAO,MAAOA,GAAQA,EAAO,KAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAE,EAAE,SAASA,CAAI,CACjG,CACA,SAASD,GAAkBC,EAAM,CAC/B,MAAO,CAAC,EAAG,CAAC,EAAE,SAASA,CAAI,GAAK,KAAOA,GAAQA,EAAO,GACxD,CACA,SAASJ,GAAgBI,EAAM,CAC7B,MAAO,MAAOA,GAAQA,EAAO,GAC/B,CACA,SAASL,GAAkBK,EAAM,CAC/B,MAAO,MAAOA,GAAQA,EAAO,GAC/B,CACA,SAASN,GAAaM,EAAM,CAC1B,OAAIF,GAAcE,CAAI,EACb,UACLD,GAAkBC,CAAI,EACjB,cACLJ,GAAgBI,CAAI,EACf,YACLL,GAAkBK,CAAI,EACjB,gBACF,SACT,CACA,SAASH,GAAOpH,EAAOuH,EAAM,CAC3B,IAAMC,EAAcD,aAAgB,MAAQA,EAAO,CAACA,CAAI,EACxD,OAAO5F,GAAc3B,CAAK,GAAKwH,EAAY,SAASxH,EAAM,IAAI,GAAK,EACrE,CACA,IAAIqF,GAAW,EACXqB,GAAgB,EAChBR,GAAiB,EACjB5C,GAAW,EACXS,GAAyB,EACzBC,GAAgB,EAChBuC,GAAS,EACTN,GAAW,EACX5D,GAAa,EACbmE,GAAO,GACPX,GAAuB,GACvBzB,GAAgB,GAChBxB,GAAkB,GAClBG,GAAkB,GAClBD,GAAiB,GACjBD,GAAqB,GACrBG,GAAkB,GAClB2C,GAAiB,KACjBrB,GAAW,KACXL,GAAe,KACfiB,GAAkB,KAClBY,GAAiB,KACjBO,GAAS,KACTC,GAAY,KACZtB,GAAQ,KACR3B,GAAwB,KACxByB,GAAa,KACbC,GAAY,KACZF,GAAc,IACdkC,GAAU,KACVC,GAAa,KACbF,GAAM,KACNpC,GAAa,KACbY,GAAW,IACXM,GAAU,MACVO,GAAY,MACZ3D,GAAe,MACfW,GAAkB,MAClB6C,GAAkB,MAClBzD,GAAoB,MACpBkE,GAAmB,MACnB9B,GAAgB,MAChBiC,GAAgB,MAChBjD,GAA0B,MAC1BO,GAAuB,MACvBqB,GAAgB,MAChBN,GAAkB,KAClB/B,GAAa,MACbsC,GAAmB,MACnBC,GAAoB,MACpBC,GAAe,MACfnB,GAAW,MACXJ,GAAa,IACbE,GAAe,MACf+B,GAAY,MACZ3D,GAAe,MACfgB,GAAe,MACfsC,GAAgB,MAChBzD,GAAkB,MAClBsC,GAAe,MACfpB,GAAsB,MACtBD,GAAwB,MACxB6B,GAAkB,MAClBvB,GAAY,MACZC,GAAY,MACZ1B,GAAc,MACd+C,GAAY,MACZ0B,GAAe,MACf5D,GAAoB,MACpBW,GAAyB,MACzBF,GAAQ,MACRiD,GAAO,MACPjE,GAAW,MACXC,GAAoB,MACpB8B,GAAwB,MACxBD,GAAqB,MACrBpB,GAAsB,MAG1B,SAASqE,GAAYC,EAAQ1H,EAAO,CAOlC,GANI0H,EAAO,KAAOA,EAAO,IAAI,QAAQ1H,EAAM,EAAE,IAAM,IAG/C0H,EAAO,OAASA,EAAO,MAAM,QAAQ1H,EAAM,IAAI,IAAM,IAGrD0H,EAAO,SAAWA,EAAO,QAAQ,QAAQ1H,EAAM,MAAM,IAAM,GAC7D,MAAO,GAET,QAAS2H,KAAKD,EACZ,GAAIC,EAAE,CAAC,IAAM,IAAK,CAChB,IAAIC,EAAUD,EAAE,MAAM,CAAC,EACnBE,EAASH,EAAO,IAAI,OAAAE,EAAS,EACjC,GAAIC,GAAU,CAAC7H,EAAM,KAAK,KAAK,CAAC,CAACmB,EAAG2G,CAAC,IAAM3G,IAAMwG,EAAE,MAAM,CAAC,GAAKE,EAAO,QAAQC,CAAC,IAAM,EAAE,EACrF,MAAO,EACX,CAIF,MAFI,EAAAJ,EAAO,OAAS1H,EAAM,WAAa0H,EAAO,OAE1CA,EAAO,OAAS1H,EAAM,WAAa0H,EAAO,MAGhD,CACA,SAASK,GAAaC,EAAShI,EAAO,CACpC,QAASiI,EAAK,EAAGA,EAAKD,EAAQ,OAAQC,IACpC,GAAIR,GAAYO,EAAQC,CAAE,EAAGjI,CAAK,EAChC,MAAO,GAGX,MAAO,EACT,CA4CA,IAAIkI,GAAmB,CAAC,EACxBC,GAASD,GAAkB,CACzB,SAAU,IAAME,GAChB,OAAQ,IAAMC,GACd,kBAAmB,IAAMC,GACzB,aAAc,IAAMC,GACpB,eAAgB,IAAMC,GACtB,iBAAkB,IAAMC,EAC1B,CAAC,EACD,SAASL,GAASM,EAAMC,EAAO,CAC7B,IAAIC,EAAMD,EAAM,OAAS,EACrBE,EAAMH,EAAK,QAAQ,IAAI,OAAAC,EAAK,KAAI,EAAIC,EACpCE,EAAIJ,EAAK,MAAMG,CAAG,EAAE,QAAQ,GAAG,EAAIA,EAAM,EAC7C,OAAOH,EAAK,MAAMI,EAAGA,EAAI,EAAE,CAC7B,CACA,SAAST,GAAOK,EAAMC,EAAO,CAC3B,IAAIC,EAAMD,EAAM,OACZE,EAAMH,EAAK,QAAQ,IAAI,OAAAC,EAAK,KAAI,EAAIC,EAAM,EAC1CG,EAASL,EAAK,MAAMG,CAAG,EACvBG,EAAM,KAAK,IAAID,EAAO,QAAQ,GAAG,EAAGA,EAAO,QAAQ,GAAG,CAAC,EAC3D,OAAO,SAASA,EAAO,MAAM,EAAGC,CAAG,EAAG,EAAE,CAC1C,CACA,SAASV,GAAkBI,EAAM,CAC/B,IAAIG,EAAMH,EAAK,MAAM,EAAG,EAAE,EAAE,QAAQ,SAAS,EAC7C,GAAIG,IAAQ,GACV,OAAO,KACT,IAAII,EAASP,EAAK,MAAMG,EAAM,EAAI,CAAC,EAAE,QAAQ,GAAG,EAChD,GAAII,IAAW,GACb,OAAO,KACT,IAAIC,EAAQL,EAAM,EAAI,EAAII,EACtBE,EAAOT,EAAK,MAAMQ,EAAQ,EAAG,EAAE,EAAE,QAAQ,GAAG,EAChD,GAAIC,IAAS,GACX,OAAO,KACT,IAAIH,EAAME,EAAQ,EAAIC,EACtB,OAAOT,EAAK,MAAMQ,EAAQ,EAAGF,CAAG,CAClC,CACA,SAAST,GAAaG,EAAMU,EAAI,CAC9B,OAAOA,IAAOhB,GAASM,EAAM,IAAI,CACnC,CACA,SAASD,GAAiBC,EAAMW,EAAQ,CACtC,OAAOA,IAAWjB,GAASM,EAAM,QAAQ,CAC3C,CACA,SAASF,GAAeE,EAAMY,EAAM,CAClC,OAAOA,IAASjB,GAAOK,EAAM,MAAM,CACrC,CAGA,IAAIa,GAAgB,CAAC,EACrBpB,GAASoB,GAAe,CACtB,cAAe,IAAMC,EACvB,CAAC,EACD,SAASA,GAAcC,EAAUC,EAAW,CAC1C,MAAO,CACL,KAAMC,GACN,WAAY,KAAK,MAAM,KAAK,IAAI,EAAI,GAAG,EACvC,KAAM,CACJ,CAAC,QAASF,CAAQ,EAClB,CAAC,YAAaC,CAAS,CACzB,EACA,QAAS,EACX,CACF,CAGA,eAAeE,IAAc,CAC3B,OAAO,IAAI,QAASC,GAAY,CAC9B,IAAMC,EAAK,IAAI,eACTC,EAAU,IAAM,CACpBD,EAAG,MAAM,oBAAoB,UAAWC,CAAO,EAC/CF,EAAQ,CACV,EACAC,EAAG,MAAM,iBAAiB,UAAWC,CAAO,EAC5CD,EAAG,MAAM,YAAY,CAAC,EACtBA,EAAG,MAAM,MAAM,CACjB,CAAC,CACH,CACA,IAAIE,GAAcC,IAChBA,EAAEC,EAAc,EAAI,GACb,IAILC,GAA4B,cAAc,KAAM,CAClD,YAAYC,EAASC,EAAO,CAC1B,MAAM,0BAA0B,OAAAD,EAAO,+BAA8B,OAAAC,EAAK,IAAG,EAC7E,KAAK,KAAO,2BACd,CACF,EACIC,GAAgB,KAAM,CAwBxB,YAAYC,EAAKC,EAAM,CAvBvBC,GAAA,YACAA,GAAA,kBAAa,IACbA,GAAA,eAAU,MACVA,GAAA,gBAAYC,GAAQ,QAAQ,MAAM,eAAe,YAAK,IAAG,MAAK,OAAAA,EAAK,GACnED,GAAA,uBAAkB,MAClBA,GAAA,yBAAoB,MACpBA,GAAA,sBAAiB,MACjBA,GAAA,qBAAgB,KAChBA,GAAA,mBAAc,KACdA,GAAA,gBAA2B,IAAI,KAC/BA,GAAA,mBACAA,GAAA,gCACAA,GAAA,0BACAA,GAAA,yBAAoC,IAAI,KACxCA,GAAA,0BAAqC,IAAI,KACzCA,GAAA,WACAA,GAAA,4BAAuB,IAAIE,IAC3BF,GAAA,oBAAe,IACfA,GAAA,kBACAA,GAAA,oBACAA,GAAA,cAAS,GACTA,GAAA,oBACAA,GAAA,mBAEE,KAAK,IAAMG,GAAaL,CAAG,EAC3B,KAAK,YAAcC,EAAK,YACxB,KAAK,WAAaA,EAAK,yBAA2B,UAClD,KAAK,WAAaA,EAAK,UACzB,CACA,aAAa,QAAQD,EAAKC,EAAM,CAC9B,IAAMH,EAAQ,IAAIC,GAAcC,EAAKC,CAAI,EACzC,aAAMH,EAAM,QAAQ,EACbA,CACT,CACA,sBAAsBQ,EAAQ,CAC5B,OAAS,CAACC,EAAGC,CAAG,IAAK,KAAK,SACxBA,EAAI,MAAMF,CAAM,EAElB,KAAK,SAAS,MAAM,EACpB,OAAS,CAACC,EAAGE,CAAE,IAAK,KAAK,mBACvBA,EAAG,OAAO,IAAI,MAAMH,CAAM,CAAC,EAE7B,KAAK,mBAAmB,MAAM,EAC9B,OAAS,CAACC,EAAGG,CAAE,IAAK,KAAK,kBACvBA,EAAG,OAAO,IAAI,MAAMJ,CAAM,CAAC,EAE7B,KAAK,kBAAkB,MAAM,CAC/B,CACA,IAAI,WAAY,CACd,OAAO,KAAK,UACd,CACA,MAAM,SAAU,CACd,OAAI,KAAK,kBACA,KAAK,mBACd,KAAK,UAAY,OACjB,KAAK,YAAc,OACnB,KAAK,kBAAoB,IAAI,QAAQ,CAAChB,EAASqB,IAAW,CACxD,KAAK,wBAA0B,WAAW,IAAM,CAhoBtD,IAAAC,EAioBQD,EAAO,sBAAsB,EAC7B,KAAK,kBAAoB,QACzBC,EAAA,KAAK,UAAL,MAAAA,EAAA,WACA,KAAK,sBAAsB,4BAA4B,CACzD,EAAG,KAAK,iBAAiB,EACzB,GAAI,CACF,KAAK,GAAK,IAAI,KAAK,WAAW,KAAK,GAAG,CACxC,OAASC,EAAK,CACZ,aAAa,KAAK,uBAAuB,EACzCF,EAAOE,CAAG,EACV,MACF,CACA,KAAK,GAAG,OAAS,IAAM,CACrB,aAAa,KAAK,uBAAuB,EACzC,KAAK,WAAa,GACd,KAAK,YACP,KAAK,SAAS,EAEhBvB,EAAQ,CACV,EACA,KAAK,GAAG,QAAWwB,GAAO,CArpBhC,IAAAF,EAspBQ,aAAa,KAAK,uBAAuB,EACzCD,EAAOG,EAAG,SAAW,iBAAiB,EAClC,KAAK,aACP,KAAK,WAAa,GAClB,KAAK,kBAAoB,QACzBF,EAAA,KAAK,UAAL,MAAAA,EAAA,WACA,KAAK,sBAAsB,0BAA0B,EAEzD,EACA,KAAK,GAAG,QAAWE,GAAO,CA/pBhC,IAAAF,EAgqBQ,aAAa,KAAK,uBAAuB,EACzCD,EAAOG,EAAG,SAAW,kBAAkB,EACnC,KAAK,aACP,KAAK,WAAa,GAClB,KAAK,kBAAoB,QACzBF,EAAA,KAAK,UAAL,MAAAA,EAAA,WACA,KAAK,sBAAsB,yBAAyB,EAExD,EACA,KAAK,GAAG,UAAY,KAAK,WAAW,KAAK,IAAI,CAC/C,CAAC,EACM,KAAK,kBACd,CACA,MAAM,iBAAkB,CACtB,OAAO,IAAI,QAAQ,CAACG,EAAKF,IAAQ,CAE/B,KAAK,IAAM,KAAK,GAAG,IAAM,KAAK,GAAG,GAAG,OAAQ,IAAME,EAAI,EAAI,CAAC,GAAKF,EAAI,0BAA0B,EAC9F,KAAK,IAAM,KAAK,GAAG,MAAQ,KAAK,GAAG,KAAK,CAC1C,CAAC,CACH,CACA,MAAM,iBAAkB,CACtB,OAAO,IAAI,QAAQ,CAACvB,EAASiB,IAAM,CACjC,IAAMC,EAAM,KAAK,UAAU,CAAC,CAAE,IAAK,CAAC,IAAI,OAAO,EAAE,CAAC,CAAE,CAAC,EAAG,CACtD,OAAQ,IAAM,CACZA,EAAI,MAAM,EACVlB,EAAQ,EAAI,CACd,EACA,YAAa,KAAK,YAAc,GAClC,CAAC,CACH,CAAC,CACH,CACA,MAAM,UAAW,CA/rBnB,IAAAsB,EAAAI,EAAAC,IAgsBQL,EAAA,KAAK,KAAL,YAAAA,EAAS,cAAe,IACX,MAAM,QAAQ,IAAI,CAC/B,KAAK,IAAM,KAAK,GAAG,MAAQ,KAAK,GAAG,GAAK,KAAK,gBAAgB,EAAI,KAAK,gBAAgB,EACtF,IAAI,QAASG,GAAQ,WAAW,IAAMA,EAAI,EAAK,EAAG,KAAK,WAAW,CAAC,CACrE,CAAC,EAEC,WAAW,IAAM,KAAK,SAAS,EAAG,KAAK,aAAa,GAEpD,KAAK,sBAAsB,oBAAoB,EAC/C,KAAK,WAAa,IAClBC,EAAA,KAAK,KAAL,MAAAA,EAAS,SACTC,EAAA,KAAK,UAAL,MAAAA,EAAA,YAGN,CACA,MAAM,UAAW,CAEf,IADA,KAAK,aAAe,GAEJ,KAAK,WAAW,IAA1B,IAGJ,MAAM5B,GAAY,EAEpB,KAAK,aAAe,EACtB,CACA,YAAa,CAztBf,IAAAuB,EAAAI,EA0tBI,IAAM7C,EAAO,KAAK,qBAAqB,QAAQ,EAC/C,GAAI,CAACA,EACH,MAAO,GAET,IAAM+C,EAAQnD,GAAkBI,CAAI,EACpC,GAAI+C,EAAO,CACT,IAAMC,EAAK,KAAK,SAAS,IAAID,CAAK,EAClC,GAAI,CAACC,EACH,OAEF,IAAMtC,EAAKhB,GAASM,EAAM,IAAI,EACxBiD,GAAcR,EAAAO,EAAG,mBAAH,YAAAP,EAAA,KAAAO,EAAsBtC,GAE1C,IADAmC,EAAAG,EAAG,gBAAH,MAAAH,EAAA,KAAAG,EAAmB,KAAMtC,GACrBuC,EACF,MAEJ,CACA,GAAI,CACF,IAAIC,EAAO,KAAK,MAAMlD,CAAI,EAC1B,OAAQkD,EAAK,CAAC,EAAG,CACf,IAAK,QAAS,CACZ,IAAMF,EAAK,KAAK,SAAS,IAAIE,EAAK,CAAC,CAAC,EAC9BC,EAAQD,EAAK,CAAC,EAChB,KAAK,YAAYC,CAAK,GAAKC,GAAaJ,EAAG,QAASG,CAAK,GAC3DH,EAAG,QAAQG,CAAK,EAElB,MACF,CACA,IAAK,QAAS,CACZ,IAAMzC,EAAKwC,EAAK,CAAC,EACXG,EAAUH,EAAK,CAAC,EAChBX,EAAK,KAAK,kBAAkB,IAAI7B,CAAE,EACpC6B,IACFA,EAAG,QAAQc,EAAQ,KAAK,EACxB,KAAK,kBAAkB,OAAO3C,CAAE,GAElC,MACF,CACA,IAAK,OAAQ,CACX,IAAMsC,EAAK,KAAK,SAAS,IAAIE,EAAK,CAAC,CAAC,EACpC,GAAI,CAACF,EACH,OACFA,EAAG,aAAa,EAChB,MACF,CACA,IAAK,KAAM,CACT,IAAMtC,EAAKwC,EAAK,CAAC,EACXI,EAAKJ,EAAK,CAAC,EACXf,EAASe,EAAK,CAAC,EACfZ,EAAK,KAAK,mBAAmB,IAAI5B,CAAE,EACrC4B,IACF,aAAaA,EAAG,OAAO,EACnBgB,EACFhB,EAAG,QAAQH,CAAM,EAEjBG,EAAG,OAAO,IAAI,MAAMH,CAAM,CAAC,EAC7B,KAAK,mBAAmB,OAAOzB,CAAE,GAEnC,MACF,CACA,IAAK,SAAU,CACb,IAAMA,EAAKwC,EAAK,CAAC,EACXF,EAAK,KAAK,SAAS,IAAItC,CAAE,EAC/B,GAAI,CAACsC,EACH,OACFA,EAAG,OAAS,GACZA,EAAG,MAAME,EAAK,CAAC,CAAC,EAChB,MACF,CACA,IAAK,SACH,KAAK,SAASA,EAAK,CAAC,CAAC,EACrB,OACF,IAAK,OAAQ,CACX,KAAK,UAAYA,EAAK,CAAC,EACvB,MACF,CACF,CACF,OAASR,EAAK,CACZ,MACF,CACF,CACA,MAAM,KAAKhB,EAAS,CAClB,GAAI,CAAC,KAAK,kBACR,MAAM,IAAID,GAA0BC,EAAS,KAAK,GAAG,EACvD,KAAK,kBAAkB,KAAK,IAAM,CA9yBtC,IAAAe,GA+yBMA,EAAA,KAAK,KAAL,MAAAA,EAAS,KAAKf,EAChB,CAAC,CACH,CACA,MAAM,KAAK6B,EAAe,CACxB,IAAMvC,EAAY,KAAK,UACvB,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,+CAA+C,EACjE,OAAI,KAAK,YACA,KAAK,aACd,KAAK,YAAc,IAAI,QAAQ,MAAOG,EAASqB,IAAW,CACxD,GAAI,CACF,IAAIgB,EAAM,MAAMD,EAAczC,GAAc,KAAK,IAAKE,CAAS,CAAC,EAC5DyC,EAAU,WAAW,IAAM,CAC7B,IAAInB,EAAK,KAAK,mBAAmB,IAAIkB,EAAI,EAAE,EACvClB,IACFA,EAAG,OAAO,IAAI,MAAM,gBAAgB,CAAC,EACrC,KAAK,mBAAmB,OAAOkB,EAAI,EAAE,EAEzC,EAAG,KAAK,cAAc,EACtB,KAAK,mBAAmB,IAAIA,EAAI,GAAI,CAAE,QAAArC,EAAS,OAAAqB,EAAQ,QAAAiB,CAAQ,CAAC,EAChE,KAAK,KAAK,WAAa,KAAK,UAAUD,CAAG,EAAI,GAAG,CAClD,OAASd,EAAK,CACZ,QAAQ,KAAK,kCAAmCA,CAAG,CACrD,CACF,CAAC,EACM,KAAK,YACd,CACA,MAAM,QAAQS,EAAO,CACnB,IAAMO,EAAM,IAAI,QAAQ,CAACvC,EAASqB,IAAW,CAC3C,IAAMiB,EAAU,WAAW,IAAM,CAC/B,IAAMnB,EAAK,KAAK,mBAAmB,IAAIa,EAAM,EAAE,EAC3Cb,IACFA,EAAG,OAAO,IAAI,MAAM,mBAAmB,CAAC,EACxC,KAAK,mBAAmB,OAAOa,EAAM,EAAE,EAE3C,EAAG,KAAK,cAAc,EACtB,KAAK,mBAAmB,IAAIA,EAAM,GAAI,CAAE,QAAAhC,EAAS,OAAAqB,EAAQ,QAAAiB,CAAQ,CAAC,CACpE,CAAC,EACD,YAAK,KAAK,YAAc,KAAK,UAAUN,CAAK,EAAI,GAAG,EAC5CO,CACT,CACA,MAAM,MAAMC,EAASC,EAAQ,CAC3B,KAAK,SACL,IAAMlD,GAAKkD,GAAA,YAAAA,EAAQ,KAAM,SAAW,KAAK,OACnCF,EAAM,IAAI,QAAQ,CAACvC,EAASqB,IAAW,CAC3C,KAAK,kBAAkB,IAAI9B,EAAI,CAAE,QAAAS,EAAS,OAAAqB,CAAO,CAAC,CACpD,CAAC,EACD,YAAK,KAAK,aAAe9B,EAAK,KAAO,KAAK,UAAUiD,CAAO,EAAE,UAAU,CAAC,CAAC,EAClED,CACT,CACA,UAAUC,EAASC,EAAQ,CACzB,IAAMC,EAAe,KAAK,oBAAoBF,EAASC,CAAM,EAC7D,OAAAC,EAAa,KAAK,EACXA,CACT,CACA,oBAAoBF,EAASC,EAAQ,CACnC,KAAK,SACL,IAAMlD,EAAKkD,EAAO,KAAOA,EAAO,MAAQA,EAAO,MAAQ,IAAM,QAAU,KAAK,OACtEC,EAAe,IAAIC,GAAa,KAAMpD,EAAIiD,EAASC,CAAM,EAC/D,YAAK,SAAS,IAAIlD,EAAImD,CAAY,EAC3BA,CACT,CACA,OAAQ,CA72BV,IAAApB,EAAAI,EA82BI,KAAK,sBAAsB,+BAA+B,EAC1D,KAAK,WAAa,IAClBJ,EAAA,KAAK,KAAL,MAAAA,EAAS,SACTI,EAAA,KAAK,UAAL,MAAAA,EAAA,UACF,CACA,WAAWF,EAAI,CACb,KAAK,qBAAqB,QAAQA,EAAG,IAAI,EACpC,KAAK,cACR,KAAK,SAAS,CAElB,CACF,EACImB,GAAe,KAAM,CAavB,YAAYnC,EAAOjB,EAAIiD,EAASC,EAAQ,CAZxC7B,GAAA,cACAA,GAAA,WACAA,GAAA,cAAS,IACTA,GAAA,aAAQ,IACRA,GAAA,gBACAA,GAAA,yBACAA,GAAA,sBACAA,GAAA,gBACAA,GAAA,eACAA,GAAA,gBACAA,GAAA,oBACAA,GAAA,0BAEE,KAAK,MAAQJ,EACb,KAAK,QAAUgC,EACf,KAAK,GAAKjD,EACV,KAAK,iBAAmBkD,EAAO,iBAC/B,KAAK,cAAgBA,EAAO,cAC5B,KAAK,YAAcA,EAAO,aAAejC,EAAM,gBAC/C,KAAK,OAASiC,EAAO,OACrB,KAAK,QAAUA,EAAO,QACtB,KAAK,QAAUA,EAAO,UAAaT,GAAU,CAC3C,QAAQ,KACN,oDAAoD,YAAK,GAAE,eAAc,YAAK,MAAM,IAAG,qBACvFA,CACF,CACF,EACF,CACA,MAAO,CACL,KAAK,MAAM,KAAK,WAAa,KAAK,GAAK,KAAO,KAAK,UAAU,KAAK,OAAO,EAAE,UAAU,CAAC,CAAC,EACvF,KAAK,kBAAoB,WAAW,KAAK,aAAa,KAAK,IAAI,EAAG,KAAK,WAAW,CACpF,CACA,cAAe,CA35BjB,IAAAV,EA45BQ,KAAK,QAET,aAAa,KAAK,iBAAiB,EACnC,KAAK,MAAQ,IACbA,EAAA,KAAK,SAAL,MAAAA,EAAA,WACF,CACA,MAAMN,EAAS,mBAAoB,CAl6BrC,IAAAM,EAm6BI,GAAI,CAAC,KAAK,QAAU,KAAK,MAAM,UAAW,CACxC,GAAI,CACF,KAAK,MAAM,KAAK,YAAc,KAAK,UAAU,KAAK,EAAE,EAAI,GAAG,CAC7D,OAASC,EAAK,CACZ,GAAI,EAAAA,aAAejB,IAEjB,MAAMiB,CAEV,CACA,KAAK,OAAS,EAChB,CACA,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE,GAClCD,EAAA,KAAK,UAAL,MAAAA,EAAA,UAAeN,EACjB,CACF,EAGI4B,GACJ,GAAI,CACFA,GAAa,SACf,OAAQ,GACR,CAaA,IAAIC,GAAqB,KAAM,CAQ7B,YAAYC,EAAM,CAPlBC,GAAA,cAAyB,IAAI,KAC7BA,GAAA,cAAyB,IAAI,KAC7BA,GAAA,mBAAc,IACdA,GAAA,oBACAA,GAAA,mBACAA,GAAA,wBAAmC,IAAI,KACvCA,GAAA,mBAEE,KAAK,YAAcD,EAAK,YACxB,KAAK,WAAaA,EAAK,wBACvB,KAAK,WAAaA,EAAK,UACzB,CACA,MAAM,YAAYE,EAAKC,EAAQ,CAC7BD,EAAME,GAAaF,CAAG,EACtB,IAAIG,EAAQ,KAAK,OAAO,IAAIH,CAAG,EAC/B,OAAKG,IACHA,EAAQ,IAAIC,GAAcJ,EAAK,CAC7B,YAAa,KAAK,iBAAiB,IAAIA,CAAG,EAAIK,GAAa,KAAK,YAChE,wBAAyB,KAAK,WAC9B,WAAY,KAAK,UACnB,CAAC,EACDF,EAAM,QAAU,IAAM,CACpB,KAAK,OAAO,OAAOH,CAAG,CACxB,EACIC,GAAA,MAAAA,EAAQ,oBACVE,EAAM,kBAAoBF,EAAO,mBACnC,KAAK,OAAO,IAAID,EAAKG,CAAK,GAE5B,MAAMA,EAAM,QAAQ,EACbA,CACT,CACA,MAAMG,EAAQ,CACZA,EAAO,IAAIJ,EAAY,EAAE,QAASF,GAAQ,CAt+B9C,IAAAO,GAu+BMA,EAAA,KAAK,OAAO,IAAIP,CAAG,IAAnB,MAAAO,EAAsB,QACtB,KAAK,OAAO,OAAOP,CAAG,CACxB,CAAC,CACH,CACA,UAAUM,EAAQE,EAAQP,EAAQ,CAChCA,EAAO,OAASA,EAAO,QAAUA,EAAO,OACxC,IAAMQ,EAAU,CAAC,EACjB,QAASC,EAAK,EAAGA,EAAKJ,EAAO,OAAQI,IAAM,CACzC,IAAMV,EAAME,GAAaI,EAAOI,CAAE,CAAC,EAC9BD,EAAQ,KAAME,GAAMA,EAAE,MAAQX,CAAG,GACpCS,EAAQ,KAAK,CAAE,IAAAT,EAAK,OAAAQ,CAAO,CAAC,CAEhC,CACA,OAAO,KAAK,aAAaC,EAASR,CAAM,CAC1C,CACA,cAAcK,EAAQM,EAASX,EAAQ,CACrCA,EAAO,OAASA,EAAO,QAAUA,EAAO,OACxC,IAAMQ,EAAU,CAAC,EACXI,EAAW,CAAC,EAClB,QAASH,EAAK,EAAGA,EAAKJ,EAAO,OAAQI,IAAM,CACzC,IAAMV,EAAME,GAAaI,EAAOI,CAAE,CAAC,EACnC,GAAIG,EAAS,QAAQb,CAAG,IAAM,GAC5B,QAASc,EAAI,EAAGA,EAAIF,EAAQ,OAAQE,IAClCL,EAAQ,KAAK,CAAE,IAAAT,EAAK,OAAQY,EAAQE,CAAC,CAAE,CAAC,CAG9C,CACA,OAAO,KAAK,aAAaL,EAASR,CAAM,CAC1C,CACA,aAAac,EAAUd,EAAQ,CAC7BA,EAAO,OAASA,EAAO,QAAUA,EAAO,OACpC,KAAK,cACPA,EAAO,cAAgB,CAACE,EAAOa,IAAO,CACpC,IAAIC,EAAM,KAAK,OAAO,IAAID,CAAE,EACvBC,IACHA,EAAsB,IAAI,IAC1B,KAAK,OAAO,IAAID,EAAIC,CAAG,GAEzBA,EAAI,IAAId,CAAK,CACf,GAEF,IAAMe,EAA4B,IAAI,IAChCC,EAAO,CAAC,EACRC,EAAgB,CAAC,EACnBC,EAAcX,GAAO,CAnhC7B,IAAAH,EAohCUa,EAAcV,CAAE,IAEpBU,EAAcV,CAAE,EAAI,GAChBU,EAAc,OAAQE,GAAMA,CAAC,EAAE,SAAWP,EAAS,UACrDR,EAAAN,EAAO,SAAP,MAAAM,EAAA,KAAAN,GACAoB,EAAa,IAAM,CACnB,GAEJ,EACME,EAAiB,CAAC,EACpBC,EAAc,CAACd,EAAIe,IAAW,CA9hCtC,IAAAlB,EA+hCUgB,EAAeb,CAAE,IAErBW,EAAWX,CAAE,EACba,EAAeb,CAAE,EAAIe,EACjBF,EAAe,OAAQD,GAAMA,CAAC,EAAE,SAAWP,EAAS,UACtDR,EAAAN,EAAO,UAAP,MAAAM,EAAA,KAAAN,EAAiBsB,GACjBC,EAAc,IAAM,CACpB,GAEJ,EACME,EAAgCV,GAAO,CAziCjD,IAAAT,EA0iCM,IAAIA,EAAAN,EAAO,mBAAP,MAAAM,EAAA,KAAAN,EAA0Be,GAC5B,MAAO,GAET,IAAMW,EAAOT,EAAU,IAAIF,CAAE,EAC7B,OAAAE,EAAU,IAAIF,CAAE,EACTW,CACT,EACMC,EAAY,QAAQ,IACxBb,EAAS,IAAI,MAAO,CAAE,IAAAf,EAAK,OAAAQ,CAAO,EAAGE,IAAO,CAC1C,IAAIP,EACJ,GAAI,CACFA,EAAQ,MAAM,KAAK,YAAYH,EAAK,CAClC,kBAAmBC,EAAO,QAAU,KAAK,IAAIA,EAAO,QAAU,GAAKA,EAAO,QAAU,GAAG,EAAI,MAC7F,CAAC,CACH,OAAS4B,EAAK,CACZL,EAAYd,GAAImB,GAAA,YAAAA,EAAK,UAAW,OAAOA,CAAG,CAAC,EAC3C,MACF,CACA,IAAIC,EAAe3B,EAAM,UAAU,CAACK,CAAM,EAAGuB,EAAAC,EAAA,GACxC/B,GADwC,CAE3C,OAAQ,IAAMoB,EAAWX,CAAE,EAC3B,QAAUe,GAAW,CACfA,EAAO,WAAW,iBAAiB,GAAKxB,EAAO,OACjDE,EAAM,KAAKF,EAAO,MAAM,EAAE,KAAK,IAAM,CACnCE,EAAM,UAAU,CAACK,CAAM,EAAGuB,EAAAC,EAAA,GACrB/B,GADqB,CAExB,OAAQ,IAAMoB,EAAWX,CAAE,EAC3B,QAAUuB,GAAY,CACpBT,EAAYd,EAAIuB,CAAO,CACzB,EACA,iBAAkBP,EAClB,YAAazB,EAAO,OACtB,EAAC,CACH,CAAC,EAAE,MAAO4B,GAAQ,CAChBL,EAAYd,EAAI,qDAAqD,OAAAmB,EAAK,CAC5E,CAAC,EAEDL,EAAYd,EAAIe,CAAM,CAE1B,EACA,iBAAkBC,EAClB,YAAazB,EAAO,OACtB,EAAC,EACDkB,EAAK,KAAKW,CAAY,CACxB,CAAC,CACH,EACA,MAAO,CACL,MAAM,MAAML,EAAQ,CAClB,MAAMG,EACNT,EAAK,QAASe,GAAQ,CACpBA,EAAI,MAAMT,CAAM,CAClB,CAAC,CACH,CACF,CACF,CACA,cAAcnB,EAAQE,EAAQP,EAAQ,CACpCA,EAAO,OAASA,EAAO,QAAUA,EAAO,OACxC,IAAMkC,EAAY,KAAK,UAAU7B,EAAQE,EAAQuB,EAAAC,EAAA,GAC5C/B,GAD4C,CAE/C,QAAS,CACPkC,EAAU,MAAM,8BAA8B,CAChD,CACF,EAAC,EACD,OAAOA,CACT,CACA,kBAAkB7B,EAAQM,EAASX,EAAQ,CACzCA,EAAO,OAASA,EAAO,QAAUA,EAAO,OACxC,IAAMkC,EAAY,KAAK,cAAc7B,EAAQM,EAASmB,EAAAC,EAAA,GACjD/B,GADiD,CAEpD,QAAS,CACPkC,EAAU,MAAM,8BAA8B,CAChD,CACF,EAAC,EACD,OAAOA,CACT,CACA,MAAM,UAAU7B,EAAQE,EAAQP,EAAQ,CACtC,OAAO,IAAI,QAAQ,MAAOmC,GAAY,CACpC,IAAMC,EAAS,CAAC,EAChB,KAAK,cAAc/B,EAAQE,EAAQuB,EAAAC,EAAA,GAC9B/B,GAD8B,CAEjC,QAAQqC,EAAO,CACbD,EAAO,KAAKC,CAAK,CACnB,EACA,QAAQC,EAAG,CACTH,EAAQC,CAAM,CAChB,CACF,EAAC,CACH,CAAC,CACH,CACA,MAAM,IAAI/B,EAAQE,EAAQP,EAAQ,CAChCO,EAAO,MAAQ,EACf,IAAM6B,EAAS,MAAM,KAAK,UAAU/B,EAAQE,EAAQP,CAAM,EAC1D,OAAAoC,EAAO,KAAK,CAACf,EAAGkB,IAAMA,EAAE,WAAalB,EAAE,UAAU,EAC1Ce,EAAO,CAAC,GAAK,IACtB,CACA,QAAQ/B,EAAQgC,EAAOG,EAAS,CAC9B,OAAOnC,EAAO,IAAIJ,EAAY,EAAE,IAAI,MAAOF,EAAKU,EAAIgC,IAAQ,CAC1D,GAAIA,EAAI,QAAQ1C,CAAG,IAAMU,EACvB,OAAO,QAAQ,OAAO,eAAe,EAEvC,IAAIC,EAAI,MAAM,KAAK,YAAYX,CAAG,EAClC,OAAOW,EAAE,QAAQ2B,CAAK,EAAE,MAAM,MAAOT,GAAQ,CAC3C,GAAIA,aAAe,OAASA,EAAI,QAAQ,WAAW,iBAAiB,IAAKY,GAAA,MAAAA,EAAS,QAChF,aAAM9B,EAAE,KAAK8B,EAAQ,MAAM,EACpB9B,EAAE,QAAQ2B,CAAK,EAExB,MAAMT,CACR,CAAC,EAAE,KAAMJ,GAAW,CAClB,GAAI,KAAK,YAAa,CACpB,IAAIR,EAAM,KAAK,OAAO,IAAIqB,EAAM,EAAE,EAC7BrB,IACHA,EAAsB,IAAI,IAC1B,KAAK,OAAO,IAAIqB,EAAM,GAAIrB,CAAG,GAE/BA,EAAI,IAAIN,CAAC,CACX,CACA,OAAOc,CACT,CAAC,CACH,CAAC,CACH,CACA,sBAAuB,CACrB,IAAMkB,EAAsB,IAAI,IAChC,YAAK,OAAO,QAAQ,CAACxC,EAAOH,IAAQ2C,EAAI,IAAI3C,EAAKG,EAAM,SAAS,CAAC,EAC1DwC,CACT,CACA,SAAU,CACR,KAAK,OAAO,QAASC,GAASA,EAAK,MAAM,CAAC,EAC1C,KAAK,OAAyB,IAAI,GACpC,CACF,EAGIC,GACJ,GAAI,CACFA,GAAc,SAChB,OAAQ,GACR,CACA,IAAIC,GAAa,cAAcjD,EAAmB,CAChD,YAAY4C,EAAS,CACnB,MAAMT,EAAA,CAAE,YAAAe,GAAa,wBAAyBF,IAAgBJ,EAAS,CACzE,CACF,EAGIO,GAAgB,CAAC,EACrBC,GAASD,GAAe,CACtB,aAAc,IAAME,GACpB,cAAe,IAAMC,GACrB,eAAgB,IAAMC,GACtB,OAAQ,IAAMC,GACd,eAAgB,IAAMC,GACtB,YAAa,IAAMC,GACnB,YAAa,IAAMC,GACnB,aAAc,IAAMC,GACpB,WAAY,IAAMC,GAClB,eAAgB,IAAMC,GACtB,WAAY,IAAMC,GAClB,WAAY,IAAMC,EACpB,CAAC,EAGD,IAAIT,GAAiB,CACnB,WAAaU,GAAU,sBAAsB,KAAKA,GAAS,EAAE,EAC7D,SAAWA,GAAU,oBAAoB,KAAKA,GAAS,EAAE,EACzD,QAAUA,GAAU,mBAAmB,KAAKA,GAAS,EAAE,EACvD,OAASA,GAAU,qBAAqB,KAAKA,GAAS,EAAE,EACxD,OAASA,GAAU,qBAAqB,KAAKA,GAAS,EAAE,EACxD,OAASA,GAAU,kBAAkB,KAAKA,GAAS,EAAE,EACrD,YAAcA,GAAU,uBAAuB,KAAKA,GAAS,EAAE,CACjE,EACIX,GAAgB,IAChBD,GAAe,2DACnB,SAASa,GAAoBC,EAAQ,CACnC,IAAMC,EAAa,IAAI,WAAW,CAAC,EACnC,OAAAA,EAAW,CAAC,EAAID,GAAU,GAAK,IAC/BC,EAAW,CAAC,EAAID,GAAU,GAAK,IAC/BC,EAAW,CAAC,EAAID,GAAU,EAAI,IAC9BC,EAAW,CAAC,EAAID,EAAS,IAClBC,CACT,CACA,SAASX,GAAeY,EAAW,CACjC,GAAI,CACF,OAAIA,EAAU,WAAW,QAAQ,IAC/BA,EAAYA,EAAU,UAAU,CAAC,GAC5Bb,GAAOa,CAAS,CACzB,OAASC,EAAM,CACb,MAAO,CAAE,KAAM,UAAW,KAAM,IAAK,CACvC,CACF,CACA,SAASd,GAAOe,EAAM,CAvuCtB,IAAA7D,EAAA8D,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAwuCE,GAAI,CAAE,OAAAC,EAAQ,MAAAC,CAAM,EAAIC,GAAO,OAAOT,EAAMjB,EAAa,EACrD2B,EAAO,IAAI,WAAWD,GAAO,UAAUD,CAAK,CAAC,EACjD,OAAQD,EAAQ,CACd,IAAK,WAAY,CACf,IAAII,EAAMC,GAASF,CAAI,EACvB,GAAI,GAACvE,EAAAwE,EAAI,CAAC,IAAL,MAAAxE,EAAS,IACZ,MAAM,IAAI,MAAM,4BAA4B,EAC9C,GAAIwE,EAAI,CAAC,EAAE,CAAC,EAAE,SAAW,GACvB,MAAM,IAAI,MAAM,0BAA0B,EAC5C,MAAO,CACL,KAAM,WACN,KAAM,CACJ,OAAQE,GAAYF,EAAI,CAAC,EAAE,CAAC,CAAC,EAC7B,OAAQA,EAAI,CAAC,EAAIA,EAAI,CAAC,EAAE,IAAK,GAAMG,GAAY,OAAO,CAAC,CAAC,EAAI,CAAC,CAC/D,CACF,CACF,CACA,IAAK,SAAU,CACb,IAAIH,EAAMC,GAASF,CAAI,EACvB,GAAI,GAACT,EAAAU,EAAI,CAAC,IAAL,MAAAV,EAAS,IACZ,MAAM,IAAI,MAAM,0BAA0B,EAC5C,GAAIU,EAAI,CAAC,EAAE,CAAC,EAAE,SAAW,GACvB,MAAM,IAAI,MAAM,0BAA0B,EAC5C,GAAIA,EAAI,CAAC,GAAKA,EAAI,CAAC,EAAE,CAAC,EAAE,SAAW,GACjC,MAAM,IAAI,MAAM,0BAA0B,EAC5C,GAAIA,EAAI,CAAC,GAAKA,EAAI,CAAC,EAAE,CAAC,EAAE,SAAW,EACjC,MAAM,IAAI,MAAM,yBAAyB,EAC3C,MAAO,CACL,KAAM,SACN,KAAM,CACJ,GAAIE,GAAYF,EAAI,CAAC,EAAE,CAAC,CAAC,EACzB,OAAQA,EAAI,CAAC,EAAIA,EAAI,CAAC,EAAE,IAAK,GAAMG,GAAY,OAAO,CAAC,CAAC,EAAI,CAAC,EAC7D,QAAQZ,EAAAS,EAAI,CAAC,IAAL,MAAAT,EAAS,GAAKW,GAAYF,EAAI,CAAC,EAAE,CAAC,CAAC,EAAI,OAC/C,MAAMR,EAAAQ,EAAI,CAAC,IAAL,MAAAR,EAAS,GAAK,SAASU,GAAYF,EAAI,CAAC,EAAE,CAAC,CAAC,EAAG,EAAE,EAAI,MAC7D,CACF,CACF,CACA,IAAK,QAAS,CACZ,IAAIA,EAAMC,GAASF,CAAI,EACvB,GAAI,GAACN,EAAAO,EAAI,CAAC,IAAL,MAAAP,EAAS,IACZ,MAAM,IAAI,MAAM,yBAAyB,EAC3C,GAAI,GAACC,EAAAM,EAAI,CAAC,IAAL,MAAAN,EAAS,IACZ,MAAM,IAAI,MAAM,yBAAyB,EAC3C,GAAIM,EAAI,CAAC,EAAE,CAAC,EAAE,SAAW,GACvB,MAAM,IAAI,MAAM,0BAA0B,EAC5C,GAAI,GAACL,EAAAK,EAAI,CAAC,IAAL,MAAAL,EAAS,IACZ,MAAM,IAAI,MAAM,yBAAyB,EAC3C,GAAIK,EAAI,CAAC,EAAE,CAAC,EAAE,SAAW,EACvB,MAAM,IAAI,MAAM,yBAAyB,EAC3C,MAAO,CACL,KAAM,QACN,KAAM,CACJ,WAAYG,GAAY,OAAOH,EAAI,CAAC,EAAE,CAAC,CAAC,EACxC,OAAQE,GAAYF,EAAI,CAAC,EAAE,CAAC,CAAC,EAC7B,KAAM,SAASE,GAAYF,EAAI,CAAC,EAAE,CAAC,CAAC,EAAG,EAAE,EACzC,OAAQA,EAAI,CAAC,EAAIA,EAAI,CAAC,EAAE,IAAK,GAAMG,GAAY,OAAO,CAAC,CAAC,EAAI,CAAC,CAC/D,CACF,CACF,CACA,IAAK,OACH,MAAO,CAAE,KAAMP,EAAQ,KAAAG,CAAK,EAC9B,IAAK,OACL,IAAK,OACH,MAAO,CAAE,KAAMH,EAAQ,KAAMM,GAAYH,CAAI,CAAE,EACjD,QACE,MAAM,IAAI,MAAM,kBAAkB,OAAAH,EAAQ,CAC9C,CACF,CACA,SAASK,GAASF,EAAM,CACtB,IAAIK,EAAS,CAAC,EACVC,EAAON,EACX,KAAOM,EAAK,OAAS,GAAG,CACtB,IAAIC,EAAID,EAAK,CAAC,EACVE,EAAIF,EAAK,CAAC,EACVG,EAAIH,EAAK,MAAM,EAAG,EAAIE,CAAC,EAE3B,GADAF,EAAOA,EAAK,MAAM,EAAIE,CAAC,EACnBC,EAAE,OAASD,EACb,MAAM,IAAI,MAAM,kCAAkC,OAAAD,EAAG,EACvDF,EAAOE,CAAC,EAAIF,EAAOE,CAAC,GAAK,CAAC,EAC1BF,EAAOE,CAAC,EAAE,KAAKE,CAAC,CAClB,CACA,OAAOJ,CACT,CACA,SAAStB,GAAW2B,EAAK,CACvB,OAAOjC,GAAY,OAAQiC,CAAG,CAChC,CACA,SAAS5B,GAAW6B,EAAK,CACvB,OAAOlC,GAAY,OAAQmC,GAAYD,CAAG,CAAC,CAC7C,CACA,SAAS/B,GAAW+B,EAAK,CACvB,OAAOlC,GAAY,OAAQmC,GAAYD,CAAG,CAAC,CAC7C,CACA,SAASE,GAAahB,EAAQG,EAAM,CAClC,IAAIF,EAAQC,GAAO,QAAQC,CAAI,EAC/B,OAAOD,GAAO,OAAOF,EAAQC,EAAOzB,EAAa,CACnD,CACA,SAASI,GAAYoB,EAAQiB,EAAO,CAClC,OAAOD,GAAahB,EAAQiB,CAAK,CACnC,CACA,SAASjC,GAAekC,EAAS,CAC/B,IAAIf,EAAOgB,GAAU,CACnB,EAAG,CAACJ,GAAYG,EAAQ,MAAM,CAAC,EAC/B,GAAIA,EAAQ,QAAU,CAAC,GAAG,IAAK7F,GAAQ+F,GAAY,OAAO/F,CAAG,CAAC,CAChE,CAAC,EACD,OAAO2F,GAAa,WAAYb,CAAI,CACtC,CACA,SAASrB,GAAanB,EAAO,CAC3B,IAAI0D,EACA1D,EAAM,OAAS,SACjB0D,EAAYjC,GAAoBzB,EAAM,IAAI,GAE5C,IAAIwC,EAAOgB,GAAU,CACnB,EAAG,CAACJ,GAAYpD,EAAM,EAAE,CAAC,EACzB,GAAIA,EAAM,QAAU,CAAC,GAAG,IAAKtC,GAAQ+F,GAAY,OAAO/F,CAAG,CAAC,EAC5D,EAAGsC,EAAM,OAAS,CAACoD,GAAYpD,EAAM,MAAM,CAAC,EAAI,CAAC,EACjD,EAAG0D,EAAY,CAAC,IAAI,WAAWA,CAAS,CAAC,EAAI,CAAC,CAChD,CAAC,EACD,OAAOL,GAAa,SAAUb,CAAI,CACpC,CACA,SAAStB,GAAYyC,EAAM,CACzB,IAAIC,EAAO,IAAI,YAAY,CAAC,EAC5B,IAAI,SAASA,CAAI,EAAE,UAAU,EAAGD,EAAK,KAAM,EAAK,EAChD,IAAInB,EAAOgB,GAAU,CACnB,EAAG,CAACC,GAAY,OAAOE,EAAK,UAAU,CAAC,EACvC,GAAIA,EAAK,QAAU,CAAC,GAAG,IAAKjG,GAAQ+F,GAAY,OAAO/F,CAAG,CAAC,EAC3D,EAAG,CAAC0F,GAAYO,EAAK,MAAM,CAAC,EAC5B,EAAG,CAAC,IAAI,WAAWC,CAAI,CAAC,CAC1B,CAAC,EACD,OAAOP,GAAa,QAASb,CAAI,CACnC,CACA,SAASgB,GAAUf,EAAK,CACtB,IAAIoB,EAAU,CAAC,EACf,cAAO,QAAQpB,CAAG,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAACM,EAAGe,CAAE,IAAM,CACjDA,EAAG,QAASb,GAAM,CAChB,IAAIc,EAAQ,IAAI,WAAWd,EAAE,OAAS,CAAC,EACvCc,EAAM,IAAI,CAAC,SAAShB,CAAC,CAAC,EAAG,CAAC,EAC1BgB,EAAM,IAAI,CAACd,EAAE,MAAM,EAAG,CAAC,EACvBc,EAAM,IAAId,EAAG,CAAC,EACdY,EAAQ,KAAKE,CAAK,CACpB,CAAC,CACH,CAAC,EACMC,GAAY,GAAGH,CAAO,CAC/B,CA4FA,IAAII,GAAgB,CAAC,EACrBC,GAASD,GAAe,CACtB,QAAS,IAAME,GACf,QAAS,IAAMC,EACjB,CAAC,EAKD,SAASA,GAAQC,EAAWC,EAAQC,EAAM,CACxC,IAAMC,EAAUH,aAAqB,WAAaI,GAAYJ,CAAS,EAAIA,EACrEK,EAAMC,GAAU,gBAAgBH,EAAS,KAAOF,CAAM,EACtDM,EAAgBC,GAAeH,CAAG,EACpCI,EAAK,WAAW,KAAKC,GAAY,EAAE,CAAC,EACpCC,EAAYC,GAAY,OAAOV,CAAI,EACnCW,EAAaC,GAAIP,EAAeE,CAAE,EAAE,QAAQE,CAAS,EACrDI,EAAQC,GAAO,OAAO,IAAI,WAAWH,CAAU,CAAC,EAChDI,EAAQD,GAAO,OAAO,IAAI,WAAWP,EAAG,MAAM,CAAC,EACnD,MAAO,GAAG,OAAAM,EAAK,QAAO,OAAAE,EACxB,CACA,SAASnB,GAAQE,EAAWC,EAAQiB,EAAM,CACxC,IAAMf,EAAUH,aAAqB,WAAaI,GAAYJ,CAAS,EAAIA,EACvE,CAACe,EAAOE,CAAK,EAAIC,EAAK,MAAM,MAAM,EAClCb,EAAMC,GAAU,gBAAgBH,EAAS,KAAOF,CAAM,EACtDM,EAAgBC,GAAeH,CAAG,EAClCI,EAAKO,GAAO,OAAOC,CAAK,EACxBJ,EAAaG,GAAO,OAAOD,CAAK,EAChCJ,EAAYG,GAAIP,EAAeE,CAAE,EAAE,QAAQI,CAAU,EACzD,OAAOM,GAAY,OAAOR,CAAS,CACrC,CACA,SAASH,GAAeH,EAAK,CAC3B,OAAOA,EAAI,MAAM,EAAG,EAAE,CACxB,CAGA,IAAIe,GAAgB,CAAC,EACrBvB,GAASuB,GAAe,CACtB,YAAa,IAAMC,GACnB,QAAS,IAAMC,GACf,QAAS,IAAMC,GACf,aAAc,IAAMC,GACpB,aAAc,IAAMC,GACpB,uBAAwB,IAAMC,EAChC,CAAC,EACD,IAAIL,GAAc,0CACdC,GAAWK,GAAUN,GAAY,KAAKM,GAAS,EAAE,EACjDC,GACJ,GAAI,CACFA,GAAS,KACX,OAASC,EAAG,CAEZ,CACA,SAASH,GAAuBI,EAAqB,CACnDF,GAASE,CACX,CACA,eAAeL,GAAaM,EAAQC,EAAQ,GAAI,CAC9C,GAAI,CACF,IAAMC,EAAM,WAAW,OAAAF,EAAM,iCAAgC,OAAAC,GACvDE,EAAM,MAAMN,GAAOK,EAAK,CAAE,SAAU,QAAS,CAAC,EACpD,GAAIC,EAAI,SAAW,IACjB,MAAM,MAAM,qBAAqB,EAGnC,OADa,MAAMA,EAAI,KAAK,GAChB,KACd,OAASL,EAAG,CACV,MAAO,CAAC,CACV,CACF,CACA,eAAeL,GAAaW,EAAU,CAthDtC,IAAAC,EAuhDE,IAAMC,EAAQF,EAAS,MAAMd,EAAW,EACxC,GAAI,CAACgB,EACH,OAAO,KACT,GAAM,CAAC,CAAEC,EAAO,IAAKP,CAAM,EAAIM,EAC/B,GAAI,CACF,IAAMJ,EAAM,WAAW,OAAAF,EAAM,iCAAgC,OAAAO,GACvDJ,EAAM,MAAMN,GAAOK,EAAK,CAAE,SAAU,QAAS,CAAC,EACpD,GAAIC,EAAI,SAAW,IACjB,MAAM,MAAM,qBAAqB,EAEnC,IAAMK,EAAO,MAAML,EAAI,KAAK,EACtBjC,EAASsC,EAAK,MAAMD,CAAI,EAC9B,OAAOrC,EAAS,CAAE,OAAAA,EAAQ,QAAQmC,EAAAG,EAAK,SAAL,YAAAH,EAAcnC,EAAQ,EAAI,IAC9D,OAASuC,EAAI,CACX,OAAO,IACT,CACF,CACA,eAAejB,GAAQtB,EAAQwC,EAAO,CACpC,IAAMP,EAAM,MAAMV,GAAaiB,CAAK,EACpC,OAAOP,EAAMA,EAAI,SAAWjC,EAAS,EACvC,CAGA,IAAIyC,GAAgB,CAAC,EACrB7C,GAAS6C,GAAe,CACtB,MAAO,IAAMC,EACf,CAAC,EACD,SAASA,GAAMC,EAAO,CACpB,IAAMC,EAAS,CACb,MAAO,OACP,KAAM,OACN,SAAU,CAAC,EACX,SAAU,CAAC,EACX,OAAQ,CAAC,CACX,EACIC,EACAC,EACJ,QAASC,EAAKJ,EAAM,KAAK,OAAS,EAAGI,GAAM,EAAGA,IAAM,CAClD,IAAMC,EAAML,EAAM,KAAKI,CAAE,EACzB,GAAIC,EAAI,CAAC,IAAM,KAAOA,EAAI,CAAC,EAAG,CAC5B,GAAM,CAACpB,EAAGqB,EAAaC,EAAcC,EAAYC,CAAU,EAAIJ,EACzDK,EAAe,CACnB,GAAIJ,EACJ,OAAQC,EAAe,CAACA,CAAY,EAAI,CAAC,EACzC,OAAQE,CACV,EACA,GAAID,IAAe,OAAQ,CACzBP,EAAO,KAAOS,EACd,QACF,CACA,GAAIF,IAAe,QAAS,CAC1BP,EAAO,MAAQS,EACf,QACF,CACA,GAAIF,IAAe,UAAW,CAC5BP,EAAO,SAAS,KAAKS,CAAY,EACjC,QACF,CACKR,EAGHC,EAAYO,EAFZR,EAAcQ,EAIhBT,EAAO,SAAS,KAAKS,CAAY,EACjC,QACF,CACA,GAAIL,EAAI,CAAC,IAAM,KAAOA,EAAI,CAAC,EAAG,CAC5B,GAAM,CAACpB,EAAGqB,EAAaC,CAAY,EAAIF,EACvCJ,EAAO,OAAO,KAAK,CACjB,GAAIK,EACJ,OAAQC,EAAe,CAACA,CAAY,EAAI,CAAC,CAC3C,CAAC,CACH,CACA,GAAIF,EAAI,CAAC,IAAM,KAAOA,EAAI,CAAC,EAAG,CAC5BJ,EAAO,SAAS,KAAK,CACnB,OAAQI,EAAI,CAAC,EACb,OAAQA,EAAI,CAAC,EAAI,CAACA,EAAI,CAAC,CAAC,EAAI,CAAC,CAC/B,CAAC,EACD,QACF,CACF,CACA,OAAKJ,EAAO,OACVA,EAAO,KAAOE,GAAaD,GAAeD,EAAO,OAE9CA,EAAO,QACVA,EAAO,MAAQC,GAAeD,EAAO,MAGvC,CAACA,EAAO,MAAOA,EAAO,IAAI,EAAE,QAASU,GAAQ,CAC3C,GAAI,CAACA,EACH,OACF,IAAIC,EAAMX,EAAO,SAAS,QAAQU,CAAG,EAIrC,GAHIC,IAAQ,IACVX,EAAO,SAAS,OAAOW,EAAK,CAAC,EAE3BD,EAAI,OAAQ,CACd,IAAIE,EAASZ,EAAO,SAAS,KAAMa,GAAMA,EAAE,SAAWH,EAAI,MAAM,EAC5DE,GAAUA,EAAO,SACdF,EAAI,SACPA,EAAI,OAAS,CAAC,GAEhBE,EAAO,OAAO,QAASxB,GAAQ,CA5nDvC,IAAAG,IA6nDcA,EAAAmB,EAAI,SAAJ,YAAAnB,EAAY,QAAQH,MAAS,IAC/BsB,EAAI,OAAO,KAAKtB,CAAG,CACvB,CAAC,EACDwB,EAAO,OAASF,EAAI,OAExB,CACF,CAAC,EACDV,EAAO,SAAS,QAASU,GAAQ,CAC/B,GAAIA,EAAI,OAAQ,CACd,IAAIE,EAASZ,EAAO,SAAS,KAAMa,GAAMA,EAAE,SAAWH,EAAI,MAAM,EAC5DE,GAAUA,EAAO,SACdF,EAAI,SACPA,EAAI,OAAS,CAAC,GAEhBE,EAAO,OAAO,QAASxB,GAAQ,CACzBsB,EAAI,OAAO,QAAQtB,CAAG,IAAM,IAC9BsB,EAAI,OAAO,KAAKtB,CAAG,CACvB,CAAC,EACDwB,EAAO,OAASF,EAAI,OAExB,CACF,CAAC,EACMV,CACT,CAGA,IAAIc,GAAgB,CAAC,EACrB9D,GAAS8D,GAAe,CACtB,sBAAuB,IAAMC,GAC7B,uBAAwB,IAAMC,EAChC,CAAC,EACD,IAAIC,GACJ,GAAI,CACFA,GAAU,KACZ,OAAQ,GACR,CACA,SAASD,GAAwB/B,EAAqB,CACpDgC,GAAUhC,CACZ,CACA,eAAe8B,GAAsB3B,EAAK,CACxC,OAAO,MAAO,MAAM,MAAMA,EAAI,QAAQ,QAAS,SAAS,EAAE,QAAQ,SAAU,UAAU,EAAG,CACvF,QAAS,CAAE,OAAQ,wBAAyB,CAC9C,CAAC,GAAG,KAAK,CACX,CAGA,IAAI8B,GAAgB,CAAC,EACrBlE,GAASkE,GAAe,CACtB,cAAe,IAAMC,GACrB,OAAQ,IAAMC,GACd,QAAS,IAAMC,EACjB,CAAC,EAGD,SAASD,GAAOE,EAAK,CACnB,IAAIC,EAAQ,EACZ,QAASpB,EAAK,EAAGA,EAAK,GAAIA,GAAM,EAAG,CACjC,IAAMqB,EAAS,SAASF,EAAI,UAAUnB,EAAIA,EAAK,CAAC,EAAG,EAAE,EACrD,GAAIqB,IAAW,EACbD,GAAS,OACJ,CACLA,GAAS,KAAK,MAAMC,CAAM,EAC1B,KACF,CACF,CACA,OAAOD,CACT,CACA,SAASF,GAAQI,EAAUC,EAAY,CACrC,IAAIH,EAAQ,EACNxB,EAAQ0B,EACRrB,EAAM,CAAC,QAASmB,EAAM,SAAS,EAAGG,EAAW,SAAS,CAAC,EAE7D,IADA3B,EAAM,KAAK,KAAKK,CAAG,IACN,CACX,IAAMuB,EAAO,KAAK,MAAM,IAAI,KAAK,EAAE,QAAQ,EAAI,GAAG,EAOlD,GANIA,IAAS5B,EAAM,aACjBwB,EAAQ,EACRxB,EAAM,WAAa4B,GAErBvB,EAAI,CAAC,GAAK,EAAEmB,GAAO,SAAS,EAC5BxB,EAAM,GAAKoB,GAAcpB,CAAK,EAC1BqB,GAAOrB,EAAM,EAAE,GAAK2B,EACtB,KAEJ,CACA,OAAO3B,CACT,CACA,SAASoB,GAAcS,EAAK,CAC1B,OAAOrE,GACLsE,GAAQ9D,GAAY,OAAO,KAAK,UAAU,CAAC,EAAG6D,EAAI,OAAQA,EAAI,WAAYA,EAAI,KAAMA,EAAI,KAAMA,EAAI,OAAO,CAAC,CAAC,CAAC,CAC9G,CACF,CAGA,IAAIE,GAAgB,CAAC,EACrB9E,GAAS8E,GAAe,CACtB,YAAa,IAAMC,GACnB,iBAAkB,IAAMC,GACxB,UAAW,IAAMC,GACjB,eAAgB,IAAMC,EACxB,CAAC,EAGD,IAAIC,GAAgB,CAAC,EACrBnF,GAASmF,GAAe,CACtB,YAAa,IAAMC,GACnB,WAAY,IAAMC,GAClB,WAAY,IAAMC,GAClB,YAAa,IAAMC,GACnB,iBAAkB,IAAMC,GACxB,UAAW,IAAMC,GACjB,eAAgB,IAAMC,EACxB,CAAC,EAGD,IAAIC,GAAgB,CAAC,EACrB3F,GAAS2F,GAAe,CACtB,QAAS,IAAMC,GACf,QAAS,IAAMC,GACf,mBAAoB,IAAMC,GAC1B,GAAI,IAAMC,EACZ,CAAC,EASD,IAAIC,GAAmB,EACnBC,GAAmB,MACvB,SAASH,GAAmBI,EAAUC,EAAS,CAC7C,IAAMC,EAAU3F,GAAW,gBAAgByF,EAAU,KAAOC,CAAO,EAAE,SAAS,EAAG,EAAE,EACnF,OAAOE,GAAaxB,GAASuB,EAAS,UAAU,CAClD,CACA,SAASE,GAAeC,EAAiBC,EAAO,CAC9C,IAAMC,EAAOC,GAAY7B,GAAS0B,EAAiBC,EAAO,EAAE,EAC5D,MAAO,CACL,WAAYC,EAAK,SAAS,EAAG,EAAE,EAC/B,aAAcA,EAAK,SAAS,GAAI,EAAE,EAClC,SAAUA,EAAK,SAAS,GAAI,EAAE,CAChC,CACF,CACA,SAASE,GAAcC,EAAK,CAC1B,GAAI,CAAC,OAAO,cAAcA,CAAG,GAAKA,EAAM,EACtC,MAAM,IAAI,MAAM,2BAA2B,EAC7C,GAAIA,GAAO,GACT,MAAO,IACT,IAAMC,EAAY,GAAK,KAAK,MAAM,KAAK,KAAKD,EAAM,CAAC,CAAC,EAAI,EAClDE,EAAQD,GAAa,IAAM,GAAKA,EAAY,EAClD,OAAOC,GAAS,KAAK,OAAOF,EAAM,GAAKE,CAAK,EAAI,EAClD,CACA,SAASC,GAAWC,EAAK,CACvB,GAAI,CAAC,OAAO,cAAcA,CAAG,GAAKA,EAAMhB,IAAoBgB,EAAMf,GAChE,MAAM,IAAI,MAAM,2DAA2D,EAC7E,IAAMgB,EAAM,IAAI,WAAW,CAAC,EAC5B,WAAI,SAASA,EAAI,MAAM,EAAE,UAAU,EAAGD,EAAK,EAAK,EACzCC,CACT,CACA,SAASC,GAAIpG,EAAW,CACtB,IAAMqG,EAAWpG,GAAY,OAAOD,CAAS,EACvCsG,EAAcD,EAAS,OACvBE,EAASN,GAAWK,CAAW,EAC/BE,EAAS,IAAI,WAAWX,GAAcS,CAAW,EAAIA,CAAW,EACtE,OAAOG,GAAaF,EAAQF,EAAUG,CAAM,CAC9C,CACA,SAASE,GAAMC,EAAQ,CACrB,IAAML,EAAc,IAAI,SAASK,EAAO,MAAM,EAAE,UAAU,CAAC,EACrDN,EAAWM,EAAO,SAAS,EAAG,EAAIL,CAAW,EACnD,GAAIA,EAAcpB,IAAoBoB,EAAcnB,IAAoBkB,EAAS,SAAWC,GAAeK,EAAO,SAAW,EAAId,GAAcS,CAAW,EACxJ,MAAM,IAAI,MAAM,iBAAiB,EACnC,OAAO9F,GAAY,OAAO6F,CAAQ,CACpC,CACA,SAASO,GAAQlH,EAAKmH,EAASC,EAAK,CAClC,GAAIA,EAAI,SAAW,GACjB,MAAM,IAAI,MAAM,sCAAsC,EACxD,IAAMC,EAAWN,GAAaK,EAAKD,CAAO,EAC1C,OAAOG,GAAKjD,GAASrE,EAAKqH,CAAQ,CACpC,CACA,SAASE,GAAcC,EAAS,CAC9B,GAAI,OAAOA,GAAY,SACrB,MAAM,IAAI,MAAM,gCAAgC,EAClD,IAAMC,EAAOD,EAAQ,OACrB,GAAIC,EAAO,KAAOA,EAAO,MACvB,MAAM,IAAI,MAAM,2BAA6BA,CAAI,EACnD,GAAID,EAAQ,CAAC,IAAM,IACjB,MAAM,IAAI,MAAM,4BAA4B,EAC9C,IAAI3G,EACJ,GAAI,CACFA,EAAOF,GAAQ,OAAO6G,CAAO,CAC/B,OAASE,EAAO,CACd,MAAM,IAAI,MAAM,mBAAqBA,EAAM,OAAO,CACpD,CACA,IAAMC,EAAO9G,EAAK,OAClB,GAAI8G,EAAO,IAAMA,EAAO,MACtB,MAAM,IAAI,MAAM,wBAA0BA,CAAI,EAChD,IAAMC,EAAO/G,EAAK,CAAC,EACnB,GAAI+G,IAAS,EACX,MAAM,IAAI,MAAM,8BAAgCA,CAAI,EACtD,MAAO,CACL,MAAO/G,EAAK,SAAS,EAAG,EAAE,EAC1B,WAAYA,EAAK,SAAS,GAAI,GAAG,EACjC,IAAKA,EAAK,SAAS,GAAG,CACxB,CACF,CACA,SAASwE,GAAS/E,EAAWyF,EAAiBC,EAAQ3F,GAAa,EAAE,EAAG,CACtE,GAAM,CAAE,WAAAwH,EAAY,aAAAC,EAAc,SAAAC,CAAS,EAAIjC,GAAeC,EAAiBC,CAAK,EAC9EiB,EAASP,GAAIpG,CAAS,EACtBE,EAAawH,GAASH,EAAYC,EAAcb,CAAM,EACtDgB,EAAMf,GAAQa,EAAUvH,EAAYwF,CAAK,EAC/C,OAAOrF,GAAQ,OAAOoG,GAAa,IAAI,WAAW,CAAC,CAAC,CAAC,EAAGf,EAAOxF,EAAYyH,CAAG,CAAC,CACjF,CACA,SAAS7C,GAASoC,EAASzB,EAAiB,CAC1C,GAAM,CAAE,MAAAC,EAAO,WAAAxF,EAAY,IAAAyH,CAAI,EAAIV,GAAcC,CAAO,EAClD,CAAE,WAAAK,EAAY,aAAAC,EAAc,SAAAC,CAAS,EAAIjC,GAAeC,EAAiBC,CAAK,EAC9EkC,EAAgBhB,GAAQa,EAAUvH,EAAYwF,CAAK,EACzD,GAAI,CAACmC,GAAWD,EAAeD,CAAG,EAChC,MAAM,IAAI,MAAM,aAAa,EAC/B,IAAMhB,EAASe,GAASH,EAAYC,EAActH,CAAU,EAC5D,OAAOwG,GAAMC,CAAM,CACrB,CACA,IAAI1B,GAAK,CACP,MAAO,CACL,mBAAAD,GACA,cAAAa,EACF,EACA,QAASd,GACT,QAASD,EACX,EAGIgD,GAAW,KAAc,GACzBC,GAAM,IAAM,KAAK,MAAM,KAAK,IAAI,EAAI,GAAG,EACvCC,GAAY,IAAM,KAAK,MAAMD,GAAI,EAAI,KAAK,OAAO,EAAID,EAAQ,EAC7DG,GAAuB,CAACC,EAAYC,IAAcnD,GAAmBkD,EAAYC,CAAS,EAC1FC,GAAe,CAAC7H,EAAM2H,EAAYC,IAAcpD,GAAS,KAAK,UAAUxE,CAAI,EAAG0H,GAAqBC,EAAYC,CAAS,CAAC,EAC1HE,GAAe,CAAC9H,EAAM2H,IAAe,KAAK,MAAMpD,GAASvE,EAAK,QAAS0H,GAAqBC,EAAY3H,EAAK,MAAM,CAAC,CAAC,EACzH,SAAS+D,GAAYrC,EAAOiG,EAAY,CACtC,IAAMI,EAAQC,EAAAC,EAAA,CACZ,WAAYT,GAAI,EAChB,QAAS,GACT,KAAM,CAAC,GACJ9F,GAJS,CAKZ,OAAQwG,GAAaP,CAAU,CACjC,GACA,OAAAI,EAAM,GAAKI,GAAaJ,CAAK,EACtBA,CACT,CACA,SAAS/D,GAAW+D,EAAOJ,EAAYS,EAAoB,CACzD,OAAOC,GACL,CACE,KAAMC,GACN,QAAST,GAAaE,EAAOJ,EAAYS,CAAkB,EAC3D,WAAYX,GAAU,EACtB,KAAM,CAAC,CACT,EACAE,CACF,CACF,CACA,SAAS1D,GAAWsE,EAAMH,EAAoB,CAC5C,IAAMI,EAAYC,GAAkB,EACpC,OAAOJ,GACL,CACE,KAAMK,GACN,QAASb,GAAaU,EAAMC,EAAWJ,CAAkB,EACzD,WAAYX,GAAU,EACtB,KAAM,CAAC,CAAC,IAAKW,CAAkB,CAAC,CAClC,EACAI,CACF,CACF,CACA,SAASpE,GAAU1C,EAAOiH,EAAkBP,EAAoB,CAC9D,IAAML,EAAQhE,GAAYrC,EAAOiH,CAAgB,EAC3CJ,EAAOvE,GAAW+D,EAAOY,EAAkBP,CAAkB,EACnE,OAAOnE,GAAWsE,EAAMH,CAAkB,CAC5C,CACA,SAAS/D,GAAe3C,EAAOiH,EAAkBC,EAAsB,CACrE,GAAI,CAACA,GAAwBA,EAAqB,SAAW,EAC3D,MAAM,IAAI,MAAM,qCAAqC,EAEvD,IAAMC,EAAkBX,GAAaS,CAAgB,EAC/CG,EAAW,CAAC1E,GAAU1C,EAAOiH,EAAkBE,CAAe,CAAC,EACrE,OAAAD,EAAqB,QAASR,GAAuB,CACnDU,EAAS,KAAK1E,GAAU1C,EAAOiH,EAAkBP,CAAkB,CAAC,CACtE,CAAC,EACMU,CACT,CACA,SAAS5E,GAAY6E,EAAMC,EAAqB,CAC9C,IAAMC,EAAgBnB,GAAaiB,EAAMC,CAAmB,EAC5D,OAAOlB,GAAamB,EAAeD,CAAmB,CACxD,CACA,SAAS7E,GAAiB+E,EAAeF,EAAqB,CAC5D,IAAIG,EAAkB,CAAC,EACvB,OAAAD,EAAc,QAASE,GAAM,CAC3BD,EAAgB,KAAKjF,GAAYkF,EAAGJ,CAAmB,CAAC,CAC1D,CAAC,EACDG,EAAgB,KAAK,CAACE,EAAGC,IAAMD,EAAE,WAAaC,EAAE,UAAU,EACnDH,CACT,CAGA,SAASI,GAAYC,EAAYlD,EAASmD,EAAmBC,EAAS,CACpE,IAAMC,EAAY,CAChB,WAAY,KAAK,KAAK,KAAK,IAAI,EAAI,GAAG,EACtC,KAAMC,GACN,KAAM,CAAC,EACP,QAAStD,CACX,EAEA,OADwB,MAAM,QAAQkD,CAAU,EAAIA,EAAa,CAACA,CAAU,GAC5D,QAAQ,CAAC,CAAE,UAAA5B,EAAW,SAAAiC,CAAS,IAAM,CACnDF,EAAU,KAAK,KAAKE,EAAW,CAAC,IAAKjC,EAAWiC,CAAQ,EAAI,CAAC,IAAKjC,CAAS,CAAC,CAC9E,CAAC,EACG8B,GACFC,EAAU,KAAK,KAAK,CAAC,IAAKD,EAAQ,QAASA,EAAQ,UAAY,GAAI,OAAO,CAAC,EAEzED,GACFE,EAAU,KAAK,KAAK,CAAC,UAAWF,CAAiB,CAAC,EAE7CE,CACT,CACA,SAAS/F,GAAW+E,EAAkBmB,EAAWxD,EAASmD,EAAmBC,EAAS,CACpF,IAAMhI,EAAQ6H,GAAYO,EAAWxD,EAASmD,EAAmBC,CAAO,EACxE,OAAOtF,GAAU1C,EAAOiH,EAAkBmB,EAAU,SAAS,CAC/D,CACA,SAASjG,GAAgB8E,EAAkBa,EAAYlD,EAASmD,EAAmBC,EAAS,CAC1F,GAAI,CAACF,GAAcA,EAAW,SAAW,EACvC,MAAM,IAAI,MAAM,qCAAqC,EAGvD,MAAO,CAAC,CAAE,UADctB,GAAaS,CAAgB,CAChB,EAAG,GAAGa,CAAU,EAAE,IACpDM,GAAclG,GAAW+E,EAAkBmB,EAAWxD,EAASmD,EAAmBC,CAAO,CAC5F,CACF,CACA,IAAIhG,GAAeQ,GACfP,GAAoBQ,GAGpB4F,GAAgB,CAAC,EACrBpL,GAASoL,GAAe,CACtB,kBAAmB,IAAMC,GACzB,iBAAkB,IAAMC,GACxB,wBAAyB,IAAMC,EACjC,CAAC,EACD,SAASF,GAAkBG,EAAGC,EAAUP,EAAUlC,EAAY,CAp9D9D,IAAAzG,EAAAmJ,EAq9DE,IAAIC,EACEC,EAAO,CAAC,IAAGrJ,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,EAAG,CAAC,IAAKkJ,EAAS,GAAIP,CAAQ,EAAG,CAAC,IAAKO,EAAS,MAAM,CAAC,EACnF,OAAIA,EAAS,OAASI,GACpBF,EAAOG,IAEPH,EAAOI,GACPH,EAAK,KAAK,CAAC,IAAK,OAAOH,EAAS,IAAI,CAAC,CAAC,GAEjC/B,GACL,CACE,KAAAiC,EACA,KAAAC,EACA,QAASJ,EAAE,UAAY,KAAME,EAAAD,EAAS,OAAT,MAAAC,EAAe,KAAMtI,GAAQA,EAAI,CAAC,IAAM,KAAO,GAAK,KAAK,UAAUqI,CAAQ,EACxG,WAAYD,EAAE,UAChB,EACAxC,CACF,CACF,CACA,SAASuC,GAAwBxI,EAAO,CACtC,GAAI,CAAC,CAAC+I,GAAQC,EAAa,EAAE,SAAShJ,EAAM,IAAI,EAC9C,OAEF,IAAIiJ,EACAC,EACJ,QAAS9I,EAAKJ,EAAM,KAAK,OAAS,EAAGI,GAAM,IAAM6I,IAAa,QAAUC,IAAa,QAAS9I,IAAM,CAClG,IAAMC,EAAML,EAAM,KAAKI,CAAE,EACrBC,EAAI,QAAU,IACZA,EAAI,CAAC,IAAM,KAAO4I,IAAa,OACjCA,EAAW5I,EACFA,EAAI,CAAC,IAAM,KAAO6I,IAAa,SACxCA,EAAW7I,GAGjB,CACA,GAAI4I,IAAa,OAGjB,MAAO,CACL,GAAIA,EAAS,CAAC,EACd,OAAQ,CAACA,EAAS,CAAC,EAAGC,GAAA,YAAAA,EAAW,EAAE,EAAE,OAAQC,GAAM,OAAOA,GAAM,QAAQ,EACxE,OAAQD,GAAA,YAAAA,EAAW,EACrB,CACF,CACA,SAASX,GAAiBvI,EAAO,CAAE,iBAAAoJ,CAAiB,EAAI,CAAC,EAAG,CAC1D,IAAMC,EAAUb,GAAwBxI,CAAK,EAC7C,GAAIqJ,IAAY,QAAUrJ,EAAM,UAAY,GAC1C,OAEF,IAAIsJ,EACJ,GAAI,CACFA,EAAgB,KAAK,MAAMtJ,EAAM,OAAO,CAC1C,OAASmF,EAAO,CACd,MACF,CACA,GAAImE,EAAc,KAAOD,EAAQ,IAG7B,GAACD,GAAoB,CAACG,GAAYD,CAAa,GAGnD,OAAOA,CACT,CAGA,IAAIE,GAAgB,CAAC,EACrBvM,GAASuM,GAAe,CACtB,gBAAiB,IAAMC,GACvB,MAAO,IAAMC,GACb,KAAM,IAAMC,EACd,CAAC,EACD,IAAIF,GAAkB,IAAI,OAAO,UAAU,OAAAG,GAAa,OAAM,IAAG,EACjE,SAASD,GAAK5K,EAAO,CACnB,OAAO,OAAOA,GAAU,UAAY,IAAI,OAAO,IAAI,OAAA0K,GAAgB,OAAM,IAAG,EAAE,KAAK1K,CAAK,CAC1F,CACA,SAAS2K,GAAOG,EAAK,CACnB,IAAMpK,EAAQoK,EAAI,MAAM,IAAI,OAAO,IAAI,OAAAJ,GAAgB,OAAM,IAAG,CAAC,EACjE,GAAI,CAAChK,EACH,MAAM,IAAI,MAAM,sBAAsB,OAAAoK,EAAK,EAC7C,MAAO,CACL,IAAKpK,EAAM,CAAC,EACZ,MAAOA,EAAM,CAAC,EACd,QAASqK,GAAOrK,EAAM,CAAC,CAAC,CAC1B,CACF,CAGA,IAAIsK,GAAgB,CAAC,EACrB9M,GAAS8M,GAAe,CACtB,oBAAqB,IAAMC,GAC3B,uBAAwB,IAAMC,EAChC,CAAC,EACD,SAASD,GAAoBvB,EAAGyB,EAASjE,EAAY,CAhjErD,IAAAzG,EAAAmJ,EAijEE,IAAMwB,EAAgBD,EAAQ,KAAK,OAAQ7J,GAAQA,EAAI,QAAU,IAAMA,EAAI,CAAC,IAAM,KAAOA,EAAI,CAAC,IAAM,IAAI,EACxG,OAAOsG,GACLL,EAAAC,EAAA,GACKkC,GADL,CAEE,KAAM2B,GACN,KAAM,CAAC,IAAG5K,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,EAAG,GAAG2K,EAAe,CAAC,IAAKD,EAAQ,EAAE,EAAG,CAAC,IAAKA,EAAQ,MAAM,CAAC,EAClF,SAASvB,EAAAF,EAAE,UAAF,KAAAE,EAAa,GACxB,GACA1C,CACF,CACF,CACA,SAASgE,GAAuBjK,EAAO,CACrC,GAAIA,EAAM,OAASoK,GACjB,OAEF,IAAInB,EACAC,EACJ,QAAS9I,EAAKJ,EAAM,KAAK,OAAS,EAAGI,GAAM,IAAM6I,IAAa,QAAUC,IAAa,QAAS9I,IAAM,CAClG,IAAMC,EAAML,EAAM,KAAKI,CAAE,EACrBC,EAAI,QAAU,IACZA,EAAI,CAAC,IAAM,KAAO4I,IAAa,OACjCA,EAAW5I,EACFA,EAAI,CAAC,IAAM,KAAO6I,IAAa,SACxCA,EAAW7I,GAGjB,CACA,GAAI,EAAA4I,IAAa,QAAUC,IAAa,QAGxC,MAAO,CACL,GAAID,EAAS,CAAC,EACd,OAAQ,CAACA,EAAS,CAAC,EAAGC,EAAS,CAAC,CAAC,EAAE,OAAQC,GAAMA,IAAM,MAAM,EAC7D,OAAQD,EAAS,CAAC,CACpB,CACF,CAGA,IAAImB,GAAgB,CAAC,EACrBpN,GAASoN,GAAe,CACtB,MAAO,IAAMC,EACf,CAAC,EACD,IAAIC,GAAc,MACdC,GAAiB,iBACrB,SAAUF,GAAOG,EAAS,CACxB,IAAMC,EAAMD,EAAQ,OAChBE,EAAY,EACZC,EAAQ,EACZ,KAAOA,EAAQF,GAAK,CAClB,IAAIG,EAAIJ,EAAQ,QAAQ,IAAKG,CAAK,EAClC,GAAIC,IAAM,GACR,MAEF,GAAIJ,EAAQ,UAAUI,EAAI,EAAGA,CAAC,IAAM,QAAS,CAC3C,IAAMC,EAAIL,EAAQ,UAAUI,EAAI,EAAE,EAAE,MAAMN,EAAW,EAC/CQ,EAAMD,EAAID,EAAI,GAAKC,EAAE,MAAQJ,EACnC,GAAI,CACF,IAAIrB,EACA,CAAE,KAAA/K,EAAM,KAAA0M,CAAK,EAAIlB,GAAOW,EAAQ,UAAUI,EAAI,EAAGE,CAAG,CAAC,EACzD,OAAQC,EAAM,CACZ,IAAK,OACH3B,EAAU,CAAE,OAAQ/K,CAAK,EACzB,MACF,IAAK,OACL,IAAK,OACHsM,EAAQG,EAAM,EACd,SACF,QACE1B,EAAU/K,CACd,CACIqM,IAAcE,EAAI,IACpB,KAAM,CAAE,KAAM,OAAQ,KAAMJ,EAAQ,UAAUE,EAAWE,EAAI,CAAC,CAAE,GAElE,KAAM,CAAE,KAAM,YAAa,QAAAxB,CAAQ,EACnCuB,EAAQG,EACRJ,EAAYC,EACZ,QACF,OAASK,EAAM,CACbL,EAAQC,EAAI,EACZ,QACF,CACF,SAAWJ,EAAQ,UAAUI,EAAI,EAAGA,CAAC,IAAM,SAAWJ,EAAQ,UAAUI,EAAI,EAAGA,CAAC,IAAM,OAAQ,CAC5F,IAAMC,EAAIL,EAAQ,UAAUI,EAAI,CAAC,EAAE,MAAML,EAAc,EACjDO,EAAMD,EAAID,EAAI,EAAIC,EAAE,MAAQJ,EAC5BQ,EAAYT,EAAQI,EAAI,CAAC,IAAM,IAAM,EAAI,EAC/C,GAAI,CACF,IAAIxL,EAAM,IAAI,IAAIoL,EAAQ,UAAUI,EAAIK,EAAWH,CAAG,CAAC,EACvD,GAAI1L,EAAI,SAAS,QAAQ,GAAG,IAAM,GAChC,MAAM,IAAI,MAAM,aAAa,EAK/B,GAHIsL,IAAcE,EAAIK,IACpB,KAAM,CAAE,KAAM,OAAQ,KAAMT,EAAQ,UAAUE,EAAWE,EAAIK,CAAS,CAAE,GAEtE7L,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,OAAO,GAAKA,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,OAAO,EAAG,CACvK,KAAM,CAAE,KAAM,QAAS,IAAKA,EAAI,SAAS,CAAE,EAC3CuL,EAAQG,EACRJ,EAAYC,EACZ,QACF,CACA,GAAIvL,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,OAAO,GAAKA,EAAI,SAAS,SAAS,MAAM,EAAG,CACrI,KAAM,CAAE,KAAM,QAAS,IAAKA,EAAI,SAAS,CAAE,EAC3CuL,EAAQG,EACRJ,EAAYC,EACZ,QACF,CACA,GAAIvL,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,MAAM,GAAKA,EAAI,SAAS,SAAS,OAAO,EAAG,CACrI,KAAM,CAAE,KAAM,QAAS,IAAKA,EAAI,SAAS,CAAE,EAC3CuL,EAAQG,EACRJ,EAAYC,EACZ,QACF,CACA,KAAM,CAAE,KAAM,MAAO,IAAKvL,EAAI,SAAS,CAAE,EACzCuL,EAAQG,EACRJ,EAAYC,EACZ,QACF,OAASK,EAAM,CACbL,EAAQG,EAAM,EACd,QACF,CACF,SAAWN,EAAQ,UAAUI,EAAI,EAAGA,CAAC,IAAM,OAASJ,EAAQ,UAAUI,EAAI,EAAGA,CAAC,IAAM,KAAM,CACxF,IAAMC,EAAIL,EAAQ,UAAUI,EAAI,CAAC,EAAE,MAAML,EAAc,EACjDO,EAAMD,EAAID,EAAI,EAAIC,EAAE,MAAQJ,EAC5BQ,EAAYT,EAAQI,EAAI,CAAC,IAAM,IAAM,EAAI,EAC/C,GAAI,CACF,IAAIxL,EAAM,IAAI,IAAIoL,EAAQ,UAAUI,EAAIK,EAAWH,CAAG,CAAC,EACvD,GAAI1L,EAAI,SAAS,QAAQ,GAAG,IAAM,GAChC,MAAM,IAAI,MAAM,gBAAgB,EAE9BsL,IAAcE,EAAIK,IACpB,KAAM,CAAE,KAAM,OAAQ,KAAMT,EAAQ,UAAUE,EAAWE,EAAIK,CAAS,CAAE,GAE1E,KAAM,CAAE,KAAM,QAAS,IAAK7L,EAAI,SAAS,CAAE,EAC3CuL,EAAQG,EACRJ,EAAYC,EACZ,QACF,OAASK,EAAM,CACbL,EAAQG,EAAM,EACd,QACF,CACF,KAAO,CACLH,EAAQC,EAAI,EACZ,QACF,CACF,CACIF,IAAcD,IAChB,KAAM,CAAE,KAAM,OAAQ,KAAMD,EAAQ,UAAUE,CAAS,CAAE,EAE7D,CAGA,IAAIQ,GAAgB,CAAC,EACrBlO,GAASkO,GAAe,CACtB,mBAAoB,IAAMC,GAC1B,wBAAyB,IAAMC,GAC/B,oBAAqB,IAAMC,GAC3B,qBAAsB,IAAMC,GAC5B,qBAAsB,IAAMC,EAC9B,CAAC,EACD,IAAIJ,GAAqB,CAAC3C,EAAGxC,IAAe,CA/sE5C,IAAAzG,EAgtEE,IAAIiL,EACJ,GAAI,OAAOhC,EAAE,SAAY,SACvBgC,EAAU,KAAK,UAAUhC,EAAE,OAAO,UACzB,OAAOA,EAAE,SAAY,SAC9BgC,EAAUhC,EAAE,YAEZ,QAEF,OAAO9B,GACL,CACE,KAAM8E,GACN,KAAM,CAAC,IAAGjM,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,CAAC,EACtB,QAAAiL,EACA,WAAYhC,EAAE,UAChB,EACAxC,CACF,CACF,EACIsF,GAAuB,CAAC9C,EAAGxC,IAAe,CAluE9C,IAAAzG,EAmuEE,IAAIiL,EACJ,GAAI,OAAOhC,EAAE,SAAY,SACvBgC,EAAU,KAAK,UAAUhC,EAAE,OAAO,UACzB,OAAOA,EAAE,SAAY,SAC9BgC,EAAUhC,EAAE,YAEZ,QAEF,OAAO9B,GACL,CACE,KAAM+E,GACN,KAAM,CAAC,CAAC,IAAKjD,EAAE,uBAAuB,EAAG,IAAGjJ,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,CAAC,EACxD,QAAAiL,EACA,WAAYhC,EAAE,UAChB,EACAxC,CACF,CACF,EACIqF,GAAsB,CAAC7C,EAAGxC,IAAe,CArvE7C,IAAAzG,EAsvEE,IAAMqJ,EAAO,CAAC,CAAC,IAAKJ,EAAE,wBAAyBA,EAAE,UAAW,MAAM,CAAC,EACnE,OAAIA,EAAE,mCACJI,EAAK,KAAK,CAAC,IAAKJ,EAAE,kCAAmCA,EAAE,UAAW,OAAO,CAAC,EAErE9B,GACL,CACE,KAAMgF,GACN,KAAM,CAAC,GAAG9C,EAAM,IAAGrJ,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,CAAC,EAC/B,QAASiJ,EAAE,QACX,WAAYA,EAAE,UAChB,EACAxC,CACF,CACF,EACIoF,GAA0B,CAAC5C,EAAGxC,IAAe,CApwEjD,IAAAzG,EAqwEE,IAAIiL,EACJ,GAAI,OAAOhC,EAAE,SAAY,SACvBgC,EAAU,KAAK,UAAUhC,EAAE,OAAO,UACzB,OAAOA,EAAE,SAAY,SAC9BgC,EAAUhC,EAAE,YAEZ,QAEF,OAAO9B,GACL,CACE,KAAMiF,GACN,KAAM,CAAC,CAAC,IAAKnD,EAAE,wBAAwB,EAAG,IAAGjJ,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,CAAC,EACzD,QAAAiL,EACA,WAAYhC,EAAE,UAChB,EACAxC,CACF,CACF,EACIuF,GAAuB,CAAC/C,EAAGxC,IAAe,CAvxE9C,IAAAzG,EAwxEE,IAAIiL,EACJ,GAAI,OAAOhC,EAAE,SAAY,SACvBgC,EAAU,KAAK,UAAUhC,EAAE,OAAO,UACzB,OAAOA,EAAE,SAAY,SAC9BgC,EAAUhC,EAAE,YAEZ,QAEF,OAAO9B,GACL,CACE,KAAMkF,GACN,KAAM,CAAC,CAAC,IAAKpD,EAAE,cAAc,EAAG,IAAGjJ,EAAAiJ,EAAE,OAAF,KAAAjJ,EAAU,CAAC,CAAC,EAC/C,QAAAiL,EACA,WAAYhC,EAAE,UAChB,EACAxC,CACF,CACF,EAGI6F,GAAgB,CAAC,EACrB7O,GAAS6O,GAAe,CACtB,sBAAuB,IAAMC,GAC7B,SAAU,IAAMC,GAChB,MAAO,IAAMC,GACb,WAAY,IAAMC,EACpB,CAAC,EACD,IAAIH,GAAwB,UACxBE,GAAQ,IAAM,IAAI,OAAO,MAAM,OAAAF,GAAsB,OAAM,OAAO,GAAG,EACzE,SAAUC,GAASvB,EAAS,CAC1B,IAAM0B,EAAU1B,EAAQ,SAASwB,GAAM,CAAC,EACxC,QAAWxM,KAAS0M,EAClB,GAAI,CACF,GAAM,CAACC,EAAW1M,CAAI,EAAID,EAC1B,KAAM,CACJ,UAAA2M,EACA,KAAA1M,EACA,MAAOD,EAAM,MACb,IAAKA,EAAM,MAAQ2M,EAAU,MAC/B,CACF,OAASxM,EAAI,CACb,CAEJ,CACA,SAASsM,GAAWzB,EAAS4B,EAAU,CACrC,OAAO5B,EAAQ,WAAWwB,GAAM,EAAG,CAACG,EAAW1M,IACtC2M,EAAS,CACd,UAAAD,EACA,KAAA1M,CACF,CAAC,CACF,CACH,CAGA,IAAI4M,GAAgB,CAAC,EACrBrP,GAASqP,GAAe,CACtB,uBAAwB,IAAMC,GAC9B,eAAgB,IAAMC,EACxB,CAAC,EACD,IAAIC,GACJ,GAAI,CACFA,GAAU,KACZ,OAAQ,GACR,CACA,SAASF,GAAwBrN,EAAqB,CACpDuN,GAAUvN,CACZ,CACA,eAAesN,GAAenP,EAAQqP,EAAUC,EAAO,CACrD,GAAI,CAEF,OADU,MAAO,MAAMF,GAAQ,2BAA2B,OAAAC,EAAQ,KAAI,OAAAC,EAAK,OAAM,GAAG,KAAK,IAC1E,4DAA4D,OAAAtP,EAC7E,OAAS4B,EAAG,CACV,MAAO,EACT,CACF,CAGA,IAAI2N,GAAgB,CAAC,EACrB3P,GAAS2P,GAAe,CACtB,oBAAqB,IAAMC,GAC3B,sBAAuB,IAAMC,EAC/B,CAAC,EACD,SAASA,GAAsBC,EAAkB,CAC/C,GAAM,CAAE,KAAAC,EAAM,SAAAC,EAAU,aAAAC,CAAa,EAAI,IAAI,IAAIH,CAAgB,EAC3D1P,EAAS4P,GAAYD,EACrBG,EAAQD,EAAa,IAAI,OAAO,EAChCE,EAASF,EAAa,IAAI,QAAQ,EACxC,GAAI,CAAC7P,GAAU,CAAC8P,GAAS,CAACC,EACxB,MAAM,IAAI,MAAM,2BAA2B,EAE7C,MAAO,CAAE,OAAA/P,EAAQ,MAAA8P,EAAO,OAAAC,CAAO,CACjC,CACA,eAAeP,GAAoBxP,EAAQD,EAAWiQ,EAAS,CAO7D,IAAMC,EAAmBnQ,GAAQC,EAAWC,EAAQ,KAAK,UANzC,CACd,OAAQ,cACR,OAAQ,CACN,QAAAgQ,CACF,CACF,CAC0E,CAAC,EACrEE,EAAgB,CACpB,KAAMC,GACN,WAAY,KAAK,MAAM,KAAK,IAAI,EAAI,GAAG,EACvC,QAASF,EACT,KAAM,CAAC,CAAC,IAAKjQ,CAAM,CAAC,CACtB,EACA,OAAOsJ,GAAc4G,EAAenQ,CAAS,CAC/C,CAGA,IAAIqQ,GAAgB,CAAC,EACrBxQ,GAASwQ,GAAe,CACtB,oBAAqB,IAAMC,EAC7B,CAAC,EACD,SAASA,GAAoBhO,EAAM,CACjC,OAAAA,EAAOA,EAAK,KAAK,EAAE,YAAY,EAC/BA,EAAOA,EAAK,UAAU,MAAM,EACrB,MAAM,KAAKA,CAAI,EAAE,IAAKiO,GACvB,WAAC,cAAW,GAAC,EAAC,KAAKA,CAAI,GAAK,WAAC,cAAW,GAAC,EAAC,KAAKA,CAAI,EAC9CA,EAEF,GACR,EAAE,KAAK,EAAE,CACZ,CAGA,IAAIC,GAAgB,CAAC,EACrB3Q,GAAS2Q,GAAe,CACtB,4BAA6B,IAAMC,GACnC,eAAgB,IAAMC,GACtB,eAAgB,IAAMC,GACtB,eAAgB,IAAMC,GACtB,uBAAwB,IAAMC,GAC9B,mBAAoB,IAAMC,EAC5B,CAAC,EAED,IAAIC,GACJ,GAAI,CACFA,GAAU,KACZ,OAAQ,GACR,CACA,SAASF,GAAwB/O,EAAqB,CACpDiP,GAAUjP,CACZ,CACA,eAAe4O,GAAeM,EAAU,CACtC,GAAI,CACF,IAAIC,EAAQ,GACR,CAAE,MAAAC,EAAO,MAAAC,CAAM,EAAI,KAAK,MAAMH,EAAS,OAAO,EAClD,GAAIE,EAAO,CACT,GAAI,CAAE,MAAAE,CAAM,EAAIC,GAAQ,OAAOH,EAAO,GAAG,EACrChQ,EAAOmQ,GAAQ,UAAUD,CAAK,EAClCH,EAAQ9P,GAAY,OAAOD,CAAI,CACjC,SAAWiQ,EAAO,CAChB,GAAI,CAAC7O,EAAMP,CAAM,EAAIoP,EAAM,MAAM,GAAG,EACpCF,EAAQ,IAAI,IAAI,uBAAuB,OAAA3O,GAAQ,WAAW,OAAAP,EAAQ,EAAE,SAAS,CAC/E,KACE,QAAO,KAGT,IAAIuP,EAAO,MADD,MAAMP,GAAQE,CAAK,GACR,KAAK,EAC1B,GAAIK,EAAK,aAAeA,EAAK,YAC3B,OAAOA,EAAK,QAEhB,OAASC,EAAK,CACd,CACA,OAAO,IACT,CACA,SAASX,GAAeY,EAAQ,CAC9B,IAAIC,EAAK,CACP,KAAM,KACN,WAAY,KAAK,MAAM,KAAK,IAAI,EAAI,GAAG,EACvC,QAASD,EAAO,SAAW,GAC3B,KAAM,CACJ,CAAC,IAAK,WAAYA,EAASA,EAAO,OAASA,EAAO,MAAM,MAAM,EAC9D,CAAC,SAAUA,EAAO,OAAO,SAAS,CAAC,EACnC,CAAC,SAAU,GAAGA,EAAO,MAAM,CAC7B,CACF,EACA,GAAI,UAAWA,EAAQ,CAErB,GADAC,EAAG,KAAK,KAAK,CAAC,IAAKD,EAAO,MAAM,EAAE,CAAC,EAC/BE,GAAkBF,EAAO,MAAM,IAAI,EAAG,CACxC,IAAMjH,EAAI,CAAC,IAAK,GAAG,OAAAiH,EAAO,MAAM,KAAI,KAAI,OAAAA,EAAO,MAAM,OAAM,IAAG,EAC9DC,EAAG,KAAK,KAAKlH,CAAC,CAChB,SAAWoH,GAAkBH,EAAO,MAAM,IAAI,EAAG,CAC/C,IAAII,EAAIJ,EAAO,MAAM,KAAK,KAAK,CAAC,CAACnG,EAAGwG,CAAC,IAAMxG,IAAM,KAAOwG,CAAC,EACzD,GAAI,CAACD,EACH,MAAM,IAAI,MAAM,6BAA6B,EAC/C,IAAMrH,EAAI,CAAC,IAAK,GAAG,OAAAiH,EAAO,MAAM,KAAI,KAAI,OAAAA,EAAO,MAAM,OAAM,KAAI,OAAAI,EAAE,CAAC,EAAG,EACrEH,EAAG,KAAK,KAAKlH,CAAC,CAChB,CACAkH,EAAG,KAAK,KAAK,CAAC,IAAKD,EAAO,MAAM,KAAK,SAAS,CAAC,CAAC,CAClD,CACA,OAAOC,CACT,CACA,SAASX,GAAmBgB,EAAkB,CAC5C,IAAIC,EACJ,GAAI,CACFA,EAAa,KAAK,MAAMD,CAAgB,CAC1C,OAASP,EAAK,CACZ,MAAO,2BACT,CACA,GAAI,CAACS,GAAcD,CAAU,EAC3B,MAAO,0CACT,GAAI,CAAC5F,GAAY4F,CAAU,EACzB,MAAO,oCACT,IAAIrO,EAAIqO,EAAW,KAAK,KAAK,CAAC,CAAC1G,EAAGwG,CAAC,IAAMxG,IAAM,KAAOwG,CAAC,EACvD,GAAI,CAACnO,EACH,MAAO,sCACT,GAAI,CAACA,EAAE,CAAC,EAAE,MAAM,gBAAgB,EAC9B,MAAO,wCACT,IAAI4G,EAAIyH,EAAW,KAAK,KAAK,CAAC,CAAC1G,EAAGwG,CAAC,IAAMxG,IAAM,KAAOwG,CAAC,EACvD,OAAIvH,GAAK,CAACA,EAAE,CAAC,EAAE,MAAM,gBAAgB,EAC5B,wCACIyH,EAAW,KAAK,KAAK,CAAC,CAAC1G,EAAGwG,CAAC,IAAMxG,IAAM,UAAYwG,CAAC,EAG1D,KADE,0CAEX,CACA,SAASlB,GAAe,CACtB,WAAAoB,EACA,SAAAE,EACA,OAAAC,EACA,OAAAC,CACF,EAAG,CACD,IAAIV,EAAK,KAAK,MAAMM,CAAU,EAC1BK,EAAqBX,EAAG,KAAK,OAAO,CAAC,CAACpG,CAAC,IAAMA,IAAM,KAAOA,IAAM,KAAOA,IAAM,GAAG,EAChFgH,EAAM,CACR,KAAM,KACN,WAAY,KAAK,MAAMF,EAAO,QAAQ,EAAI,GAAG,EAC7C,QAAS,GACT,KAAM,CAAC,GAAGC,EAAoB,CAAC,IAAKX,EAAG,MAAM,EAAG,CAAC,SAAUS,CAAM,EAAG,CAAC,cAAeH,CAAU,CAAC,CACjG,EACA,OAAIE,GACFI,EAAI,KAAK,KAAK,CAAC,WAAYJ,CAAQ,CAAC,EAE/BI,CACT,CACA,SAAS5B,GAA4ByB,EAAQ,CAC3C,GAAIA,EAAO,OAAS,GAClB,MAAO,GAETA,EAASA,EAAO,UAAU,EAAG,EAAE,EAC/B,IAAM1O,EAAM0O,EAAO,YAAY,GAAG,EAClC,GAAI1O,IAAQ,GACV,MAAO,GAET,IAAM8O,EAAMJ,EAAO,UAAU,EAAG1O,CAAG,EACnC,GAAI,CAAC8O,EAAI,WAAW,MAAM,EACxB,MAAO,GAET,IAAMC,EAASD,EAAI,UAAU,CAAC,EAC9B,GAAIC,EAAO,OAAS,EAClB,MAAO,GAET,IAAMhC,EAAOgC,EAAOA,EAAO,OAAS,CAAC,EAC/BC,EAAQjC,EAAK,WAAW,CAAC,EAAI,GAC7BkC,EAAUD,GAAS,GAAKA,GAAS,EACnCE,EAAWH,EAAO,OAAS,EAI/B,GAHIE,GACFC,IAEEA,EAAW,EACb,MAAO,GAET,IAAM7L,EAAM,SAAS0L,EAAO,UAAU,EAAGG,CAAQ,CAAC,EAClD,OAAQnC,EAAM,CACZ,IAAK,IACH,OAAO1J,EAAM,IACf,IAAK,IACH,OAAOA,EAAM,IACf,IAAK,IACH,OAAOA,EAAM,GACf,IAAK,IACH,OAAOA,EAAM,IACf,QACE,OAAOA,EAAM,GACjB,CACF,CAGA,IAAI8L,GAAgB,CAAC,EACrB9S,GAAS8S,GAAe,CACtB,SAAU,IAAMC,GAChB,YAAa,IAAMC,GACnB,qBAAsB,IAAMC,GAC5B,cAAe,IAAMC,GACrB,kBAAmB,IAAMC,GACzB,uBAAwB,IAAMC,GAC9B,wBAAyB,IAAMC,GAC/B,uBAAwB,IAAMC,GAC9B,oBAAqB,IAAMC,GAC3B,cAAe,IAAMC,EACvB,CAAC,EAID,IAAIC,GAAuB,SAC3B,eAAeV,GAASW,EAAUC,EAAYC,EAAMC,EAA6B,GAAO7L,EAAS,CAC/F,IAAMjF,EAAQ,CACZ,KAAM+Q,GACN,KAAM,CACJ,CAAC,IAAKJ,CAAQ,EACd,CAAC,SAAUC,CAAU,CACvB,EACA,WAAY,KAAK,MAAM,IAAI,KAAK,EAAE,QAAQ,EAAI,GAAG,EACjD,QAAS,EACX,EACI3L,GACFjF,EAAM,KAAK,KAAK,CAAC,UAAWiQ,GAAYhL,CAAO,CAAC,CAAC,EAEnD,IAAM+L,EAAc,MAAMH,EAAK7Q,CAAK,EAEpC,OAD4B8Q,EAA6BJ,GAAuB,IACnDtS,GAAQ,OAAOJ,GAAY,OAAO,KAAK,UAAUgT,CAAW,CAAC,CAAC,CAC7F,CACA,eAAeP,GAAcQ,EAAO5R,EAAK6R,EAAQ,CAC/C,IAAMlR,EAAQ,MAAMkQ,GAAqBe,CAAK,EAAE,MAAO9L,GAAU,CAC/D,MAAMA,CACR,CAAC,EAID,OAHc,MAAMgL,GAAenQ,EAAOX,EAAK6R,CAAM,EAAE,MAAO/L,GAAU,CACtE,MAAMA,CACR,CAAC,CAEH,CACA,eAAe+K,GAAqBe,EAAO,CACzC,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,eAAe,EAEjCA,EAAQA,EAAM,QAAQP,GAAsB,EAAE,EAC9C,IAAMS,EAAW5S,GAAY,OAAOH,GAAQ,OAAO6S,CAAK,CAAC,EACzD,GAAI,CAACE,GAAYA,EAAS,SAAW,GAAK,CAACA,EAAS,WAAW,GAAG,EAChE,MAAM,IAAI,MAAM,eAAe,EAGjC,OADc,KAAK,MAAMA,CAAQ,CAEnC,CACA,SAASZ,GAAuBvQ,EAAO,CACrC,OAAKA,EAAM,WAGJ,KAAK,MAAM,IAAI,KAAK,EAAE,QAAQ,EAAI,GAAG,EAAIA,EAAM,WAAa,GAF1D,EAGX,CACA,SAASoQ,GAAkBpQ,EAAO,CAChC,OAAOA,EAAM,OAAS+Q,EACxB,CACA,SAASP,GAAoBxQ,EAAOX,EAAK,CACvC,IAAM+R,EAASpR,EAAM,KAAK,KAAMyI,GAAMA,EAAE,CAAC,IAAM,GAAG,EAClD,OAAK2I,EAGEA,EAAO,OAAS,GAAKA,EAAO,CAAC,IAAM/R,EAFjC,EAGX,CACA,SAASgR,GAAuBrQ,EAAOkR,EAAQ,CAC7C,IAAMG,EAAYrR,EAAM,KAAK,KAAMyI,GAAMA,EAAE,CAAC,IAAM,QAAQ,EAC1D,OAAK4I,EAGEA,EAAU,OAAS,GAAKA,EAAU,CAAC,EAAE,YAAY,IAAMH,EAAO,YAAY,EAFxE,EAGX,CACA,SAASjB,GAAYhL,EAAS,CAC5B,IAAMqM,EAAOxP,GAAQ9D,GAAY,OAAO,KAAK,UAAUiH,CAAO,CAAC,CAAC,EAChE,OAAOzH,GAAY8T,CAAI,CACzB,CACA,SAAShB,GAAwBtQ,EAAOiF,EAAS,CAC/C,IAAMsM,EAAavR,EAAM,KAAK,KAAMyI,GAAMA,EAAE,CAAC,IAAM,SAAS,EAC5D,GAAI,CAAC8I,EACH,MAAO,GAET,IAAMC,EAAcvB,GAAYhL,CAAO,EACvC,OAAOsM,EAAW,OAAS,GAAKA,EAAW,CAAC,IAAMC,CACpD,CACA,eAAerB,GAAenQ,EAAOX,EAAK6R,EAAQxC,EAAM,CACtD,GAAI,CAACnF,GAAYvJ,CAAK,EACpB,MAAM,IAAI,MAAM,wCAAwC,EAE1D,GAAI,CAACoQ,GAAkBpQ,CAAK,EAC1B,MAAM,IAAI,MAAM,mCAAmC,EAErD,GAAI,CAACuQ,GAAuBvQ,CAAK,EAC/B,MAAM,IAAI,MAAM,mDAAmD,EAErE,GAAI,CAACwQ,GAAoBxQ,EAAOX,CAAG,EACjC,MAAM,IAAI,MAAM,sCAAsC,EAExD,GAAI,CAACgR,GAAuBrQ,EAAOkR,CAAM,EACvC,MAAM,IAAI,MAAM,yCAAyC,EAE3D,GAAYxC,GAAS,OAAOA,GAAS,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,GACtE,CAAC4B,GAAwBtQ,EAAO0O,CAAI,EACtC,MAAM,IAAI,MAAM,mEAAmE,EAGvF,MAAO,EACT,CChqFA,IAAA+C,GAA0C,SCA1C,IAAAC,GAA4C,SCOrC,IAAMC,GACX,OAAO,YAAe,UAAY,WAAY,WAAa,WAAW,OAAS,OCO3E,SAAUC,GAAQC,EAAU,CAChC,OAAOA,aAAa,YAAe,YAAY,OAAOA,CAAC,GAAKA,EAAE,YAAY,OAAS,YACrF,CAGM,SAAUC,GAAQC,EAAS,CAC/B,GAAI,CAAC,OAAO,cAAcA,CAAC,GAAKA,EAAI,EAAG,MAAM,IAAI,MAAM,kCAAoCA,CAAC,CAC9F,CAGM,SAAUC,GAAOC,KAA8BC,EAAiB,CACpE,GAAI,CAACN,GAAQK,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACtD,GAAIC,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASD,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAmCC,EAAU,gBAAkBD,EAAE,MAAM,CAC3F,CAGM,SAAUE,GAAMC,EAAQ,CAC5B,GAAI,OAAOA,GAAM,YAAc,OAAOA,EAAE,QAAW,WACjD,MAAM,IAAI,MAAM,8CAA8C,EAChEN,GAAQM,EAAE,SAAS,EACnBN,GAAQM,EAAE,QAAQ,CACpB,CAGM,SAAUC,GAAQC,EAAeC,EAAgB,GAAI,CACzD,GAAID,EAAS,UAAW,MAAM,IAAI,MAAM,kCAAkC,EAC1E,GAAIC,GAAiBD,EAAS,SAAU,MAAM,IAAI,MAAM,uCAAuC,CACjG,CAGM,SAAUE,GAAQC,EAAUH,EAAa,CAC7CN,GAAOS,CAAG,EACV,IAAMC,EAAMJ,EAAS,UACrB,GAAIG,EAAI,OAASC,EACf,MAAM,IAAI,MAAM,yDAA2DA,CAAG,CAElF,CAkBM,SAAUC,MAASC,EAAoB,CAC3C,QAASC,EAAI,EAAGA,EAAID,EAAO,OAAQC,IACjCD,EAAOC,CAAC,EAAE,KAAK,CAAC,CAEpB,CAGM,SAAUC,GAAWC,EAAe,CACxC,OAAO,IAAI,SAASA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,CAChE,CAGM,SAAUC,GAAKC,EAAcC,EAAa,CAC9C,OAAQD,GAAS,GAAKC,EAAWD,IAASC,CAC5C,CAGM,SAAUC,GAAKF,EAAcC,EAAa,CAC9C,OAAQD,GAAQC,EAAWD,IAAU,GAAKC,IAAY,CACxD,CAmCA,IAAME,GAEJ,OAAO,WAAW,KAAK,CAAA,CAAE,EAAE,OAAU,YAAc,OAAO,WAAW,SAAY,WAG7EC,GAAwB,MAAM,KAAK,CAAE,OAAQ,GAAG,EAAI,CAACC,EAAGC,IAC5DA,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,CAAC,EAO3B,SAAUC,GAAWC,EAAiB,CAG1C,GAFAC,GAAOD,CAAK,EAERL,GAAe,OAAOK,EAAM,MAAK,EAErC,IAAIE,EAAM,GACV,QAASJ,EAAI,EAAGA,EAAIE,EAAM,OAAQF,IAChCI,GAAON,GAAMI,EAAMF,CAAC,CAAC,EAEvB,OAAOI,CACT,CAGA,IAAMC,GAAS,CAAE,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAG,EAC5D,SAASC,GAAcC,EAAU,CAC/B,GAAIA,GAAMF,GAAO,IAAME,GAAMF,GAAO,GAAI,OAAOE,EAAKF,GAAO,GAC3D,GAAIE,GAAMF,GAAO,GAAKE,GAAMF,GAAO,EAAG,OAAOE,GAAMF,GAAO,EAAI,IAC9D,GAAIE,GAAMF,GAAO,GAAKE,GAAMF,GAAO,EAAG,OAAOE,GAAMF,GAAO,EAAI,GAEhE,CAMM,SAAUG,GAAWJ,EAAW,CACpC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EAErF,GAAIP,GAAe,OAAO,WAAW,QAAQO,CAAG,EAChD,IAAMK,EAAKL,EAAI,OACTM,EAAKD,EAAK,EAChB,GAAIA,EAAK,EAAG,MAAM,IAAI,MAAM,mDAAqDA,CAAE,EACnF,IAAME,EAAQ,IAAI,WAAWD,CAAE,EAC/B,QAASE,EAAK,EAAGC,EAAK,EAAGD,EAAKF,EAAIE,IAAMC,GAAM,EAAG,CAC/C,IAAMC,EAAKR,GAAcF,EAAI,WAAWS,CAAE,CAAC,EACrCE,EAAKT,GAAcF,EAAI,WAAWS,EAAK,CAAC,CAAC,EAC/C,GAAIC,IAAO,QAAaC,IAAO,OAAW,CACxC,IAAMC,EAAOZ,EAAIS,CAAE,EAAIT,EAAIS,EAAK,CAAC,EACjC,MAAM,IAAI,MAAM,+CAAiDG,EAAO,cAAgBH,CAAE,CAC5F,CACAF,EAAMC,CAAE,EAAIE,EAAK,GAAKC,CACxB,CACA,OAAOJ,CACT,CAkCM,SAAUM,GAAYC,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,iBAAiB,EAC9D,OAAO,IAAI,WAAW,IAAI,YAAW,EAAG,OAAOA,CAAG,CAAC,CACrD,CAiBM,SAAUC,GAAQC,EAAW,CACjC,OAAI,OAAOA,GAAS,WAAUA,EAAOC,GAAYD,CAAI,GACrDE,GAAOF,CAAI,EACJA,CACT,CAQM,SAAUG,GAAgBH,EAAc,CAC5C,OAAI,OAAOA,GAAS,WAAUA,EAAOC,GAAYD,CAAI,GACrDE,GAAOF,CAAI,EACJA,CACT,CAGM,SAAUI,MAAeC,EAAoB,CACjD,IAAIC,EAAM,EACV,QAASC,EAAI,EAAGA,EAAIF,EAAO,OAAQE,IAAK,CACtC,IAAMC,EAAIH,EAAOE,CAAC,EAClBL,GAAOM,CAAC,EACRF,GAAOE,EAAE,MACX,CACA,IAAMC,EAAM,IAAI,WAAWH,CAAG,EAC9B,QAASC,EAAI,EAAGG,EAAM,EAAGH,EAAIF,EAAO,OAAQE,IAAK,CAC/C,IAAMC,EAAIH,EAAOE,CAAC,EAClBE,EAAI,IAAID,EAAGE,CAAG,EACdA,GAAOF,EAAE,MACX,CACA,OAAOC,CACT,CAGM,SAAUE,GACdC,EACAC,EAAS,CAET,GAAIA,IAAS,QAAa,CAAA,EAAG,SAAS,KAAKA,CAAI,IAAM,kBACnD,MAAM,IAAI,MAAM,uCAAuC,EAEzD,OADe,OAAO,OAAOD,EAAUC,CAAI,CAE7C,CAWM,IAAgBC,GAAhB,KAAoB,GA4CpB,SAAUC,GACdC,EAAuB,CAOvB,IAAMC,EAASC,GAA2BF,EAAQ,EAAG,OAAOjB,GAAQmB,CAAG,CAAC,EAAE,OAAM,EAC1EC,EAAMH,EAAQ,EACpB,OAAAC,EAAM,UAAYE,EAAI,UACtBF,EAAM,SAAWE,EAAI,SACrBF,EAAM,OAAS,IAAMD,EAAQ,EACtBC,CACT,CAsCM,SAAUG,GAAYC,EAAc,GAAE,CAC1C,GAAIC,IAAU,OAAOA,GAAO,iBAAoB,WAC9C,OAAOA,GAAO,gBAAgB,IAAI,WAAWD,CAAW,CAAC,EAG3D,GAAIC,IAAU,OAAOA,GAAO,aAAgB,WAC1C,OAAO,WAAW,KAAKA,GAAO,YAAYD,CAAW,CAAC,EAExD,MAAM,IAAI,MAAM,wCAAwC,CAC1D,CCnYM,SAAUE,GACdC,EACAC,EACAC,EACAC,EAAa,CAEb,GAAI,OAAOH,EAAK,cAAiB,WAAY,OAAOA,EAAK,aAAaC,EAAYC,EAAOC,CAAI,EAC7F,IAAMC,EAAO,OAAO,EAAE,EAChBC,EAAW,OAAO,UAAU,EAC5BC,EAAK,OAAQJ,GAASE,EAAQC,CAAQ,EACtCE,EAAK,OAAOL,EAAQG,CAAQ,EAC5BG,EAAIL,EAAO,EAAI,EACfM,EAAIN,EAAO,EAAI,EACrBH,EAAK,UAAUC,EAAaO,EAAGF,EAAIH,CAAI,EACvCH,EAAK,UAAUC,EAAaQ,EAAGF,EAAIJ,CAAI,CACzC,CAGM,SAAUO,GAAIC,EAAWC,EAAWC,EAAS,CACjD,OAAQF,EAAIC,EAAM,CAACD,EAAIE,CACzB,CAGM,SAAUC,GAAIH,EAAWC,EAAWC,EAAS,CACjD,OAAQF,EAAIC,EAAMD,EAAIE,EAAMD,EAAIC,CAClC,CAMM,IAAgBE,GAAhB,cAAoDC,EAAO,CAoB/D,YAAYC,EAAkBC,EAAmBC,EAAmBhB,EAAa,CAC/E,MAAK,EANG,KAAA,SAAW,GACX,KAAA,OAAS,EACT,KAAA,IAAM,EACN,KAAA,UAAY,GAIpB,KAAK,SAAWc,EAChB,KAAK,UAAYC,EACjB,KAAK,UAAYC,EACjB,KAAK,KAAOhB,EACZ,KAAK,OAAS,IAAI,WAAWc,CAAQ,EACrC,KAAK,KAAOG,GAAW,KAAK,MAAM,CACpC,CACA,OAAOC,EAAW,CAChBC,GAAQ,IAAI,EACZD,EAAOE,GAAQF,CAAI,EACnBG,GAAOH,CAAI,EACX,GAAM,CAAE,KAAArB,EAAM,OAAAyB,EAAQ,SAAAR,CAAQ,EAAK,KAC7BS,EAAML,EAAK,OACjB,QAASM,EAAM,EAAGA,EAAMD,GAAO,CAC7B,IAAME,EAAO,KAAK,IAAIX,EAAW,KAAK,IAAKS,EAAMC,CAAG,EAEpD,GAAIC,IAASX,EAAU,CACrB,IAAMY,EAAWT,GAAWC,CAAI,EAChC,KAAOJ,GAAYS,EAAMC,EAAKA,GAAOV,EAAU,KAAK,QAAQY,EAAUF,CAAG,EACzE,QACF,CACAF,EAAO,IAAIJ,EAAK,SAASM,EAAKA,EAAMC,CAAI,EAAG,KAAK,GAAG,EACnD,KAAK,KAAOA,EACZD,GAAOC,EACH,KAAK,MAAQX,IACf,KAAK,QAAQjB,EAAM,CAAC,EACpB,KAAK,IAAM,EAEf,CACA,YAAK,QAAUqB,EAAK,OACpB,KAAK,WAAU,EACR,IACT,CACA,WAAWS,EAAe,CACxBR,GAAQ,IAAI,EACZS,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAIhB,GAAM,CAAE,OAAAL,EAAQ,KAAAzB,EAAM,SAAAiB,EAAU,KAAAd,CAAI,EAAK,KACrC,CAAE,IAAAwB,CAAG,EAAK,KAEdF,EAAOE,GAAK,EAAI,IAChBK,GAAM,KAAK,OAAO,SAASL,CAAG,CAAC,EAG3B,KAAK,UAAYV,EAAWU,IAC9B,KAAK,QAAQ3B,EAAM,CAAC,EACpB2B,EAAM,GAGR,QAASM,EAAIN,EAAKM,EAAIhB,EAAUgB,IAAKR,EAAOQ,CAAC,EAAI,EAIjDlC,GAAaC,EAAMiB,EAAW,EAAG,OAAO,KAAK,OAAS,CAAC,EAAGd,CAAI,EAC9D,KAAK,QAAQH,EAAM,CAAC,EACpB,IAAMkC,EAAQd,GAAWU,CAAG,EACtBJ,EAAM,KAAK,UAEjB,GAAIA,EAAM,EAAG,MAAM,IAAI,MAAM,6CAA6C,EAC1E,IAAMS,EAAST,EAAM,EACfU,EAAQ,KAAK,IAAG,EACtB,GAAID,EAASC,EAAM,OAAQ,MAAM,IAAI,MAAM,oCAAoC,EAC/E,QAASH,EAAI,EAAGA,EAAIE,EAAQF,IAAKC,EAAM,UAAU,EAAID,EAAGG,EAAMH,CAAC,EAAG9B,CAAI,CACxE,CACA,QAAM,CACJ,GAAM,CAAE,OAAAsB,EAAQ,UAAAP,CAAS,EAAK,KAC9B,KAAK,WAAWO,CAAM,EACtB,IAAMY,EAAMZ,EAAO,MAAM,EAAGP,CAAS,EACrC,YAAK,QAAO,EACLmB,CACT,CACA,WAAWC,EAAM,CACfA,IAAAA,EAAO,IAAK,KAAK,aACjBA,EAAG,IAAI,GAAG,KAAK,IAAG,CAAE,EACpB,GAAM,CAAE,SAAArB,EAAU,OAAAQ,EAAQ,OAAAc,EAAQ,SAAAC,EAAU,UAAAC,EAAW,IAAAd,CAAG,EAAK,KAC/D,OAAAW,EAAG,UAAYG,EACfH,EAAG,SAAWE,EACdF,EAAG,OAASC,EACZD,EAAG,IAAMX,EACLY,EAAStB,GAAUqB,EAAG,OAAO,IAAIb,CAAM,EACpCa,CACT,CACA,OAAK,CACH,OAAO,KAAK,WAAU,CACxB,GASWI,GAAyC,YAAY,KAAK,CACrE,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WACrF,EAcM,IAAMC,GAAyC,YAAY,KAAK,CACrE,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UACrF,EC1KD,IAAMC,GAA6B,OAAO,UAAW,EAC/CC,GAAuB,OAAO,EAAE,EAEtC,SAASC,GACPC,EACAC,EAAK,GAAK,CAKV,OAAIA,EAAW,CAAE,EAAG,OAAOD,EAAIH,EAAU,EAAG,EAAG,OAAQG,GAAKF,GAAQD,EAAU,CAAC,EACxE,CAAE,EAAG,OAAQG,GAAKF,GAAQD,EAAU,EAAI,EAAG,EAAG,OAAOG,EAAIH,EAAU,EAAI,CAAC,CACjF,CAEA,SAASK,GAAMC,EAAeF,EAAK,GAAK,CACtC,IAAMG,EAAMD,EAAI,OACZE,EAAK,IAAI,YAAYD,CAAG,EACxBE,EAAK,IAAI,YAAYF,CAAG,EAC5B,QAAS,EAAI,EAAG,EAAIA,EAAK,IAAK,CAC5B,GAAM,CAAE,EAAAG,EAAG,EAAAC,CAAC,EAAKT,GAAQI,EAAI,CAAC,EAAGF,CAAE,EACnC,CAACI,EAAG,CAAC,EAAGC,EAAG,CAAC,CAAC,EAAI,CAACC,EAAGC,CAAC,CACxB,CACA,MAAO,CAACH,EAAIC,CAAE,CAChB,CAIA,IAAMG,GAAQ,CAACC,EAAWC,EAAYC,IAAsBF,IAAME,EAC5DC,GAAQ,CAACH,EAAWI,EAAWF,IAAuBF,GAAM,GAAKE,EAAOE,IAAMF,EAE9EG,GAAS,CAACL,EAAWI,EAAWF,IAAuBF,IAAME,EAAME,GAAM,GAAKF,EAC9EI,GAAS,CAACN,EAAWI,EAAWF,IAAuBF,GAAM,GAAKE,EAAOE,IAAMF,EAE/EK,GAAS,CAACP,EAAWI,EAAWF,IAAuBF,GAAM,GAAKE,EAAOE,IAAOF,EAAI,GACpFM,GAAS,CAACR,EAAWI,EAAWF,IAAuBF,IAAOE,EAAI,GAAQE,GAAM,GAAKF,EAa3F,SAASO,GACPC,EACAC,EACAC,EACAC,EAAU,CAKV,IAAMC,GAAKH,IAAO,IAAME,IAAO,GAC/B,MAAO,CAAE,EAAIH,EAAKE,GAAOE,EAAI,GAAK,GAAM,GAAM,EAAG,EAAGA,EAAI,CAAC,CAC3D,CAEA,IAAMC,GAAQ,CAACJ,EAAYE,EAAYG,KAAwBL,IAAO,IAAME,IAAO,IAAMG,IAAO,GAC1FC,GAAQ,CAACC,EAAaR,EAAYE,EAAYO,IACjDT,EAAKE,EAAKO,GAAOD,EAAM,GAAK,GAAM,GAAM,EACrCE,GAAQ,CAACT,EAAYE,EAAYG,EAAYK,KAChDV,IAAO,IAAME,IAAO,IAAMG,IAAO,IAAMK,IAAO,GAC3CC,GAAQ,CAACJ,EAAaR,EAAYE,EAAYO,EAAYI,IAC7Db,EAAKE,EAAKO,EAAKI,GAAOL,EAAM,GAAK,GAAM,GAAM,EAC1CM,GAAQ,CAACb,EAAYE,EAAYG,EAAYK,EAAYI,KAC5Dd,IAAO,IAAME,IAAO,IAAMG,IAAO,IAAMK,IAAO,IAAMI,IAAO,GACxDC,GAAQ,CAACR,EAAaR,EAAYE,EAAYO,EAAYI,EAAYI,IACzEjB,EAAKE,EAAKO,EAAKI,EAAKI,GAAOT,EAAM,GAAK,GAAM,GAAM,EC3DrD,IAAMU,GAA2B,YAAY,KAAK,CAChD,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WACpF,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UACpF,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UACpF,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACrF,EAGKC,GAA2B,IAAI,YAAY,EAAE,EACtCC,GAAP,cAAsBC,EAAc,CAYxC,YAAYC,EAAoB,GAAE,CAChC,MAAM,GAAIA,EAAW,EAAG,EAAK,EAVrB,KAAA,EAAYC,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,EAC3B,KAAA,EAAYA,GAAU,CAAC,EAAI,CAIrC,CACU,KAAG,CACX,GAAM,CAAE,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAK,KACnC,MAAO,CAACP,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,CAAC,CAChC,CAEU,IACRP,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAWC,EAAS,CAEtF,KAAK,EAAIP,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,EACb,KAAK,EAAIC,EAAI,CACf,CACU,QAAQC,EAAgBC,EAAc,CAE9C,QAASC,EAAI,EAAGA,EAAI,GAAIA,IAAKD,GAAU,EAAGd,GAASe,CAAC,EAAIF,EAAK,UAAUC,EAAQ,EAAK,EACpF,QAASC,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAC5B,IAAMC,EAAMhB,GAASe,EAAI,EAAE,EACrBE,EAAKjB,GAASe,EAAI,CAAC,EACnBG,EAAKC,GAAKH,EAAK,CAAC,EAAIG,GAAKH,EAAK,EAAE,EAAKA,IAAQ,EAC7CI,EAAKD,GAAKF,EAAI,EAAE,EAAIE,GAAKF,EAAI,EAAE,EAAKA,IAAO,GACjDjB,GAASe,CAAC,EAAKK,EAAKpB,GAASe,EAAI,CAAC,EAAIG,EAAKlB,GAASe,EAAI,EAAE,EAAK,CACjE,CAEA,GAAI,CAAE,EAAAV,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAK,KACjC,QAASG,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAMM,EAASF,GAAKV,EAAG,CAAC,EAAIU,GAAKV,EAAG,EAAE,EAAIU,GAAKV,EAAG,EAAE,EAC9Ca,EAAMV,EAAIS,EAASE,GAAId,EAAGC,EAAGC,CAAC,EAAIZ,GAASgB,CAAC,EAAIf,GAASe,CAAC,EAAK,EAE/DS,GADSL,GAAKd,EAAG,CAAC,EAAIc,GAAKd,EAAG,EAAE,EAAIc,GAAKd,EAAG,EAAE,GAC/BoB,GAAIpB,EAAGC,EAAGC,CAAC,EAAK,EACrCK,EAAID,EACJA,EAAID,EACJA,EAAID,EACJA,EAAKD,EAAIc,EAAM,EACfd,EAAID,EACJA,EAAID,EACJA,EAAID,EACJA,EAAKiB,EAAKE,EAAM,CAClB,CAEAnB,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnBC,EAAKA,EAAI,KAAK,EAAK,EACnB,KAAK,IAAIP,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,CAAC,CACjC,CACU,YAAU,CAClBc,GAAM1B,EAAQ,CAChB,CACA,SAAO,CACL,KAAK,IAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAC/B0B,GAAM,KAAK,MAAM,CACnB,GAsBF,IAAMC,GAAkCC,GAAM,CAC5C,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,qBAClE,qBAAsB,qBAAsB,qBAAsB,sBAClE,IAAIC,GAAK,OAAOA,CAAC,CAAC,CAAC,EACfC,GAAmCH,GAAK,CAAC,EACzCI,GAAmCJ,GAAK,CAAC,EAGzCK,GAA6B,IAAI,YAAY,EAAE,EAC/CC,GAA6B,IAAI,YAAY,EAAE,EAExCC,GAAP,cAAsBC,EAAc,CAqBxC,YAAYC,EAAoB,GAAE,CAChC,MAAM,IAAKA,EAAW,GAAI,EAAK,EAlBvB,KAAA,GAAaC,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,CAAC,EAAI,EAC5B,KAAA,GAAaA,GAAU,EAAE,EAAI,EAC7B,KAAA,GAAaA,GAAU,EAAE,EAAI,EAC7B,KAAA,GAAaA,GAAU,EAAE,EAAI,EAC7B,KAAA,GAAaA,GAAU,EAAE,EAAI,EAC7B,KAAA,GAAaA,GAAU,EAAE,EAAI,EAC7B,KAAA,GAAaA,GAAU,EAAE,EAAI,CAIvC,CAEU,KAAG,CAIX,GAAM,CAAE,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KAC3E,MAAO,CAACf,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,CAAE,CACxE,CAEU,IACRf,EAAYC,EAAYC,EAAYC,EAAYC,EAAYC,EAAYC,EAAYC,EACpFC,EAAYC,EAAYC,EAAYC,EAAYC,EAAYC,EAAYC,EAAYC,EAAU,CAE9F,KAAK,GAAKf,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,CACjB,CACU,QAAQC,EAAgBC,EAAc,CAE9C,QAASC,EAAI,EAAGA,EAAI,GAAIA,IAAKD,GAAU,EACrCvB,GAAWwB,CAAC,EAAIF,EAAK,UAAUC,CAAM,EACrCtB,GAAWuB,CAAC,EAAIF,EAAK,UAAWC,GAAU,CAAE,EAE9C,QAASC,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAE5B,IAAMC,EAAOzB,GAAWwB,EAAI,EAAE,EAAI,EAC5BE,EAAOzB,GAAWuB,EAAI,EAAE,EAAI,EAC5BG,EAAUC,GAAOH,EAAMC,EAAM,CAAC,EAAQE,GAAOH,EAAMC,EAAM,CAAC,EAAQG,GAAMJ,EAAMC,EAAM,CAAC,EACrFI,EAAUC,GAAON,EAAMC,EAAM,CAAC,EAAQK,GAAON,EAAMC,EAAM,CAAC,EAAQM,GAAMP,EAAMC,EAAM,CAAC,EAErFO,EAAMjC,GAAWwB,EAAI,CAAC,EAAI,EAC1BU,EAAMjC,GAAWuB,EAAI,CAAC,EAAI,EAC1BW,EAAUP,GAAOK,EAAKC,EAAK,EAAE,EAAQE,GAAOH,EAAKC,EAAK,EAAE,EAAQL,GAAMI,EAAKC,EAAK,CAAC,EACjFG,EAAUN,GAAOE,EAAKC,EAAK,EAAE,EAAQI,GAAOL,EAAKC,EAAK,EAAE,EAAQF,GAAMC,EAAKC,EAAK,CAAC,EAEjFK,EAAWC,GAAMV,EAAKO,EAAKpC,GAAWuB,EAAI,CAAC,EAAGvB,GAAWuB,EAAI,EAAE,CAAC,EAChEiB,EAAWC,GAAMH,EAAMZ,EAAKQ,EAAKnC,GAAWwB,EAAI,CAAC,EAAGxB,GAAWwB,EAAI,EAAE,CAAC,EAC5ExB,GAAWwB,CAAC,EAAIiB,EAAO,EACvBxC,GAAWuB,CAAC,EAAIe,EAAO,CACzB,CACA,GAAI,CAAE,GAAAjC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KAEzE,QAASG,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAE3B,IAAMmB,EAAcf,GAAOd,EAAIC,EAAI,EAAE,EAAQa,GAAOd,EAAIC,EAAI,EAAE,EAAQqB,GAAOtB,EAAIC,EAAI,EAAE,EACjF6B,EAAcb,GAAOjB,EAAIC,EAAI,EAAE,EAAQgB,GAAOjB,EAAIC,EAAI,EAAE,EAAQuB,GAAOxB,EAAIC,EAAI,EAAE,EAEjF8B,EAAQ/B,EAAKE,EAAO,CAACF,EAAKI,EAC1B4B,EAAQ/B,EAAKE,EAAO,CAACF,EAAKI,EAG1B4B,EAAWC,GAAM3B,EAAIuB,EAASE,EAAM/C,GAAUyB,CAAC,EAAGvB,GAAWuB,CAAC,CAAC,EAC/DyB,EAAUC,GAAMH,EAAM3B,EAAIuB,EAASE,EAAM/C,GAAU0B,CAAC,EAAGxB,GAAWwB,CAAC,CAAC,EACpE2B,EAAMJ,EAAO,EAEbK,EAAcxB,GAAOtB,EAAIC,EAAI,EAAE,EAAQ6B,GAAO9B,EAAIC,EAAI,EAAE,EAAQ6B,GAAO9B,EAAIC,EAAI,EAAE,EACjF8C,EAActB,GAAOzB,EAAIC,EAAI,EAAE,EAAQ+B,GAAOhC,EAAIC,EAAI,EAAE,EAAQ+B,GAAOhC,EAAIC,EAAI,EAAE,EACjF+C,EAAQhD,EAAKE,EAAOF,EAAKI,EAAOF,EAAKE,EACrC6C,EAAQhD,EAAKE,EAAOF,EAAKI,EAAOF,EAAKE,EAC3CS,EAAKF,EAAK,EACVG,EAAKF,EAAK,EACVD,EAAKF,EAAK,EACVG,EAAKF,EAAK,EACVD,EAAKF,EAAK,EACVG,EAAKF,EAAK,EACT,CAAE,EAAGD,EAAI,EAAGC,CAAE,EAASyC,GAAI5C,EAAK,EAAGC,EAAK,EAAGoC,EAAM,EAAGE,EAAM,CAAC,EAC5DvC,EAAKF,EAAK,EACVG,EAAKF,EAAK,EACVD,EAAKF,EAAK,EACVG,EAAKF,EAAK,EACVD,EAAKF,EAAK,EACVG,EAAKF,EAAK,EACV,IAAMkD,EAAUC,GAAMP,EAAKE,EAASE,CAAI,EACxCjD,EAASqD,GAAMF,EAAKR,EAAKG,EAASE,CAAI,EACtC/C,EAAKkD,EAAM,CACb,EAEC,CAAE,EAAGnD,EAAI,EAAGC,CAAE,EAASiD,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAGlD,EAAK,EAAGC,EAAK,CAAC,GACnE,CAAE,EAAGC,EAAI,EAAGC,CAAE,EAAS+C,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAGhD,EAAK,EAAGC,EAAK,CAAC,EACnE,CAAE,EAAGC,EAAI,EAAGC,CAAE,EAAS6C,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAG9C,EAAK,EAAGC,EAAK,CAAC,EACnE,CAAE,EAAGC,EAAIC,CAAK,EAAS2C,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAG5C,EAAK,EAAGC,EAAK,CAAC,EACnE,CAAE,EAAGC,EAAI,EAAGC,CAAE,EAASyC,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAG1C,EAAK,EAAGC,EAAK,CAAC,EACnE,CAAEC,EAAO,EAAGC,CAAE,EAASuC,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAGxC,EAAK,EAAGC,EAAK,CAAC,EACnE,CAAE,EAAGC,EAAI,EAAGC,CAAE,EAASqC,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAGtC,EAAK,EAAGC,EAAK,CAAC,EACnE,CAAE,EAAGC,EAAI,EAAGC,CAAE,EAASmC,GAAI,KAAK,GAAK,EAAG,KAAK,GAAK,EAAGpC,EAAK,EAAGC,EAAK,CAAC,EACpE,KAAK,IAAIf,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,CAAE,CACzE,CACU,YAAU,CAClBuC,GAAM5D,GAAYC,EAAU,CAC9B,CACA,SAAO,CACL2D,GAAM,KAAK,MAAM,EACjB,KAAK,IAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CACzD,GAkGK,IAAMC,GAAgCC,GAAa,IAAM,IAAIC,EAAQ,EAKrE,IAAMC,GAAgCC,GAAa,IAAM,IAAIC,EAAQ,ECjXrE,IAAMC,GAAyBA,GCnBtC,IAAAC,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,YAAAC,GAAA,cAAAC,GAAA,gBAAAC,GAAA,gBAAAC,KAAM,SAAUA,GACdC,EACAC,EAAa,CAEb,GAAID,EAAK,OAASC,EAChB,MAAM,IAAI,UAAU,mCAAmC,OAAAD,EAAK,OAAM,OAAM,OAAAC,EAAM,CAElF,CAEM,SAAUN,GAAQO,EAAY,CAClC,GAAIA,EAAI,MAAM,cAAc,IAAM,KAChC,MAAM,IAAI,UAAU,qCAAuCA,CAAG,EAEhE,GAAIA,EAAI,OAAS,IAAM,EACrB,MAAM,IAAI,MAAM,oCAAoC,OAAAA,EAAI,OAAQ,CAEpE,CAEM,SAAUN,GAASO,EAAY,CACnC,GAAI,CACF,KAAK,MAAMA,CAAG,CAChB,OAAQC,EAAA,CACN,MAAM,IAAI,UAAU,yBAAyB,CAC/C,CACF,CAEM,SAAUN,GAAaO,EAAY,CACvC,GAAIA,EAAM,OAAO,iBACf,MAAM,IAAI,UAAU,6BAA6B,CAErD,CAEM,SAAUR,GACdS,EACAC,EAAe,CAEf,GAAID,IAAWC,EACb,MAAM,IAAI,UAAU,iCAAiC,OAAAD,EAAM,SAAQ,OAAAC,EAAQ,CAE/E,CCpCA,IAAMC,GAAM,IAAI,YACVC,GAAM,IAAI,YAEV,SAAUC,GAAYC,EAAY,CACtC,OAAOH,GAAG,OAAOG,CAAG,CACtB,CAEM,SAAUC,GAAYC,EAAkB,CAC5C,OAAOJ,GAAG,OAAOI,CAAK,CACxB,CAEA,SAASC,GACPC,EACAC,EAAgB,CAEhBC,GAAOF,CAAM,EACb,IAAMG,EAAMH,EAAO,OAAS,EAE5B,GADIC,IAAS,SAAWA,EAAOE,GAC3BA,EAAMF,EACP,MAAM,IAAI,UAAU,yCAAyC,OAAAE,EAAG,OAAM,OAAAF,EAAM,EAE/E,OAAOA,CACT,CAEM,SAAUG,GACdJ,EACAC,EACAI,EAAkB,KAAI,CAEtBJ,EAAOF,GAASC,EAAQC,CAAI,EAC5B,IAAMK,EAAYD,IAAW,KACvBE,EAAW,IAAI,YAAYN,CAAI,EAC/BO,EAAW,IAAI,SAASD,CAAM,EAC9BE,EAAYH,EAAU,EAAIL,EAAO,EACvC,QAASS,EAAI,EAAGA,EAAIV,EAAO,OAAQU,GAAK,EAAG,CACzC,IAAMC,EAAOX,EAAO,UAAUU,EAAGA,EAAI,CAAC,EAChCE,EAAO,SAASD,EAAM,EAAE,EAC1BL,EACFE,EAAS,SAASC,IAAUG,CAAG,EAE/BJ,EAAS,SAASC,IAAUG,CAAG,CAEnC,CACA,OAAO,IAAI,WAAWL,CAAM,CAC9B,CAEM,SAAUM,GAAYf,EAAkB,CAC5C,IAAIgB,EAAQ,GACZ,QAASJ,EAAI,EAAGA,EAAIZ,EAAM,OAAQY,IAChCI,GAAShB,EAAMY,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAEhD,OAAOI,CACT,CC3CA,SAASC,GAAQC,EAAU,CACzB,OAAOA,aAAa,YAAe,YAAY,OAAOA,CAAC,GAAKA,EAAE,YAAY,OAAS,YACrF,CAEA,SAASC,GAAOC,KAA8BC,EAAiB,CAC7D,GAAI,CAACJ,GAAQG,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACtD,GAAIC,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASD,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAmCC,EAAU,gBAAkBD,EAAE,MAAM,CAC3F,CAEA,SAASE,GAAUC,EAAmBC,EAAU,CAC9C,OAAK,MAAM,QAAQA,CAAG,EAClBA,EAAI,SAAW,EAAU,GACzBD,EACKC,EAAI,MAAOC,GAAS,OAAOA,GAAS,QAAQ,EAE5CD,EAAI,MAAOC,GAAS,OAAO,cAAcA,CAAI,CAAC,EALvB,EAOlC,CAIA,SAASC,GAAIC,EAAe,CAC1B,GAAI,OAAOA,GAAU,WAAY,MAAM,IAAI,MAAM,mBAAmB,EACpE,MAAO,EACT,CAEA,SAASC,GAAKC,EAAeF,EAAc,CACzC,GAAI,OAAOA,GAAU,SAAU,MAAM,IAAI,MAAM,GAAG,OAAAE,EAAK,oBAAmB,EAC1E,MAAO,EACT,CAEA,SAASC,GAAQC,EAAS,CACxB,GAAI,CAAC,OAAO,cAAcA,CAAC,EAAG,MAAM,IAAI,MAAM,oBAAoB,OAAAA,EAAG,CACvE,CAEA,SAASC,GAAKL,EAAY,CACxB,GAAI,CAAC,MAAM,QAAQA,CAAK,EAAG,MAAM,IAAI,MAAM,gBAAgB,CAC7D,CACA,SAASM,GAAQJ,EAAeF,EAAe,CAC7C,GAAI,CAACL,GAAU,GAAMK,CAAK,EAAG,MAAM,IAAI,MAAM,GAAG,OAAAE,EAAK,8BAA6B,CACpF,CACA,SAASK,GAAQL,EAAeF,EAAe,CAC7C,GAAI,CAACL,GAAU,GAAOK,CAAK,EAAG,MAAM,IAAI,MAAM,GAAG,OAAAE,EAAK,8BAA6B,CACrF,CAqBA,SAASM,MAAuCC,EAAO,CACrD,IAAMC,EAAMnB,GAAWA,EAEjBoB,EAAO,CAACpB,EAAQE,IAAYmB,GAAWrB,EAAEE,EAAEmB,CAAC,CAAC,EAE7CC,EAASJ,EAAK,IAAKK,GAAMA,EAAE,MAAM,EAAE,YAAYH,EAAMD,CAAE,EAEvDK,EAASN,EAAK,IAAKK,GAAMA,EAAE,MAAM,EAAE,OAAOH,EAAMD,CAAE,EACxD,MAAO,CAAE,OAAAG,EAAQ,OAAAE,CAAM,CACzB,CAOA,SAASC,GAASC,EAA0B,CAE1C,IAAMC,EAAW,OAAOD,GAAY,SAAWA,EAAQ,MAAM,EAAE,EAAIA,EAC7DE,EAAMD,EAAS,OACrBZ,GAAQ,WAAYY,CAAQ,EAG5B,IAAME,EAAU,IAAI,IAAIF,EAAS,IAAI,CAACG,EAAG,IAAM,CAACA,EAAG,CAAC,CAAC,CAAC,EACtD,MAAO,CACL,OAASC,IACPjB,GAAKiB,CAAM,EACJA,EAAO,IAAK,GAAK,CACtB,GAAI,CAAC,OAAO,cAAc,CAAC,GAAK,EAAI,GAAK,GAAKH,EAC5C,MAAM,IAAI,MACR,kDAAkD,SAAC,gBAAe,OAAAF,EAAS,EAE/E,OAAOC,EAAS,CAAC,CACnB,CAAC,GAEH,OAASlB,IACPK,GAAKL,CAAK,EACHA,EAAM,IAAKuB,GAAU,CAC1BtB,GAAK,kBAAmBsB,CAAM,EAC9B,IAAMC,EAAIJ,EAAQ,IAAIG,CAAM,EAC5B,GAAIC,IAAM,OAAW,MAAM,IAAI,MAAM,oBAAoB,OAAAD,EAAM,gBAAe,OAAAN,EAAS,EACvF,OAAOO,CACT,CAAC,GAGP,CAKA,SAASC,GAAKC,EAAY,GAAE,CAC1B,OAAAzB,GAAK,OAAQyB,CAAS,EACf,CACL,OAASC,IACPrB,GAAQ,cAAeqB,CAAI,EACpBA,EAAK,KAAKD,CAAS,GAE5B,OAASE,IACP3B,GAAK,cAAe2B,CAAE,EACfA,EAAG,MAAMF,CAAS,GAG/B,CAMA,SAASG,GAAQC,EAAcC,EAAM,IAAG,CACtC,OAAA5B,GAAQ2B,CAAI,EACZ7B,GAAK,UAAW8B,CAAG,EACZ,CACL,OAAOC,EAAc,CAEnB,IADA1B,GAAQ,iBAAkB0B,CAAI,EACtBA,EAAK,OAASF,EAAQ,GAAGE,EAAK,KAAKD,CAAG,EAC9C,OAAOC,CACT,EACA,OAAOhC,EAAe,CACpBM,GAAQ,iBAAkBN,CAAK,EAC/B,IAAIiC,EAAMjC,EAAM,OAChB,GAAKiC,EAAMH,EAAQ,EACjB,MAAM,IAAI,MAAM,4DAA4D,EAC9E,KAAOG,EAAM,GAAKjC,EAAMiC,EAAM,CAAC,IAAMF,EAAKE,IAGxC,IAFaA,EAAM,GACCH,EACT,IAAM,EAAG,MAAM,IAAI,MAAM,+CAA+C,EAErF,OAAO9B,EAAM,MAAM,EAAGiC,CAAG,CAC3B,EAEJ,CAaA,SAASC,GAAaC,EAAgBC,EAAcC,EAAU,CAE5D,GAAID,EAAO,EAAG,MAAM,IAAI,MAAM,8BAA8B,OAAAA,EAAI,+BAA8B,EAC9F,GAAIC,EAAK,EAAG,MAAM,IAAI,MAAM,4BAA4B,OAAAA,EAAE,+BAA8B,EAExF,GADAC,GAAKH,CAAI,EACL,CAACA,EAAK,OAAQ,MAAO,CAAA,EACzB,IAAII,EAAM,EACJC,EAAM,CAAA,EACNC,EAAS,MAAM,KAAKN,EAAOO,GAAK,CAEpC,GADAC,GAAQD,CAAC,EACLA,EAAI,GAAKA,GAAKN,EAAM,MAAM,IAAI,MAAM,oBAAoB,OAAAM,EAAG,EAC/D,OAAOA,CACT,CAAC,EACKE,EAAOH,EAAO,OACpB,OAAa,CACX,IAAII,EAAQ,EACRC,EAAO,GACX,QAASC,EAAIR,EAAKQ,EAAIH,EAAMG,IAAK,CAC/B,IAAMC,EAAQP,EAAOM,CAAC,EAChBE,EAAYb,EAAOS,EACnBK,EAAYD,EAAYD,EAC9B,GACE,CAAC,OAAO,cAAcE,CAAS,GAC/BD,EAAYb,IAASS,GACrBK,EAAYF,IAAUC,EAEtB,MAAM,IAAI,MAAM,8BAA8B,EAEhD,IAAME,EAAMD,EAAYb,EACxBQ,EAAQK,EAAYb,EACpB,IAAMe,EAAU,KAAK,MAAMD,CAAG,EAE9B,GADAV,EAAOM,CAAC,EAAIK,EACR,CAAC,OAAO,cAAcA,CAAO,GAAKA,EAAUf,EAAKQ,IAAUK,EAC7D,MAAM,IAAI,MAAM,8BAA8B,EAChD,GAAKJ,EACKM,EACLN,EAAO,GADOP,EAAMQ,MADd,SAGb,CAEA,GADAP,EAAI,KAAKK,CAAK,EACVC,EAAM,KACZ,CACA,QAASC,EAAI,EAAGA,EAAIZ,EAAK,OAAS,GAAKA,EAAKY,CAAC,IAAM,EAAGA,IAAKP,EAAI,KAAK,CAAC,EACrE,OAAOA,EAAI,QAAO,CACpB,CAEA,IAAMa,GAAM,CAACC,EAAWC,IAAuBA,IAAM,EAAID,EAAID,GAAIE,EAAGD,EAAIC,CAAC,EACnEC,GAAyC,CAACpB,EAAcC,IAC5DD,GAAQC,EAAKgB,GAAIjB,EAAMC,CAAE,GACrBoB,IAAoC,IAAK,CAC7C,IAAIjB,EAAM,CAAA,EACV,QAASO,EAAI,EAAGA,EAAI,GAAIA,IAAKP,EAAI,KAAK,GAAKO,CAAC,EAC5C,OAAOP,CACT,GAAE,EAIF,SAASkB,GAAcvB,EAAgBC,EAAcC,EAAYsB,EAAgB,CAE/E,GADArB,GAAKH,CAAI,EACLC,GAAQ,GAAKA,EAAO,GAAI,MAAM,IAAI,MAAM,6BAA6B,OAAAA,EAAM,EAC/E,GAAIC,GAAM,GAAKA,EAAK,GAAI,MAAM,IAAI,MAAM,2BAA2B,OAAAA,EAAI,EACvE,GAAImB,GAAYpB,EAAMC,CAAE,EAAI,GAC1B,MAAM,IAAI,MACR,sCAAsC,OAAAD,EAAI,QAAO,OAAAC,EAAE,eAAc,OAAAmB,GAAYpB,EAAMC,CAAE,EAAG,EAG5F,IAAIQ,EAAQ,EACRN,EAAM,EACJqB,EAAMH,GAAOrB,CAAI,EACjByB,EAAOJ,GAAOpB,CAAE,EAAK,EACrBG,EAAgB,CAAA,EACtB,QAAWsB,KAAK3B,EAAM,CAEpB,GADAQ,GAAQmB,CAAC,EACLA,GAAKF,EAAK,MAAM,IAAI,MAAM,oCAAoC,OAAAE,EAAC,UAAS,OAAA1B,EAAM,EAElF,GADAS,EAASA,GAAST,EAAQ0B,EACtBvB,EAAMH,EAAO,GAAI,MAAM,IAAI,MAAM,qCAAqC,OAAAG,EAAG,UAAS,OAAAH,EAAM,EAE5F,IADAG,GAAOH,EACAG,GAAOF,EAAIE,GAAOF,EAAIG,EAAI,MAAOK,GAAUN,EAAMF,EAAOwB,KAAU,CAAC,EAC1E,IAAME,EAAMN,GAAOlB,CAAG,EACtB,GAAIwB,IAAQ,OAAW,MAAM,IAAI,MAAM,eAAe,EACtDlB,GAASkB,EAAM,CACjB,CAEA,GADAlB,EAASA,GAAUR,EAAKE,EAAQsB,EAC5B,CAACF,GAAWpB,GAAOH,EAAM,MAAM,IAAI,MAAM,gBAAgB,EAC7D,GAAI,CAACuB,GAAWd,EAAQ,EAAG,MAAM,IAAI,MAAM,qBAAqB,OAAAA,EAAO,EACvE,OAAIc,GAAWpB,EAAM,GAAGC,EAAI,KAAKK,IAAU,CAAC,EACrCL,CACT,CAKA,SAASwB,GAAMC,EAAW,CACxBtB,GAAQsB,CAAG,EACX,IAAMC,EAAO,GAAK,EAClB,MAAO,CACL,OAASC,GAAqB,CAC5B,GAAI,CAACC,GAAQD,CAAK,EAAG,MAAM,IAAI,MAAM,yCAAyC,EAC9E,OAAOjC,GAAa,MAAM,KAAKiC,CAAK,EAAGD,EAAMD,CAAG,CAClD,EACA,OAASxB,IACP4B,GAAQ,eAAgB5B,CAAM,EACvB,WAAW,KAAKP,GAAaO,EAAQwB,EAAKC,CAAI,CAAC,GAG5D,CAOA,SAASI,GAAOC,EAAcC,EAAa,GAAK,CAE9C,GADA7B,GAAQ4B,CAAI,EACRA,GAAQ,GAAKA,EAAO,GAAI,MAAM,IAAI,MAAM,mCAAmC,EAC/E,GAAIf,GAAY,EAAGe,CAAI,EAAI,IAAMf,GAAYe,EAAM,CAAC,EAAI,GACtD,MAAM,IAAI,MAAM,wBAAwB,EAC1C,MAAO,CACL,OAASJ,GAAqB,CAC5B,GAAI,CAACC,GAAQD,CAAK,EAAG,MAAM,IAAI,MAAM,0CAA0C,EAC/E,OAAOT,GAAc,MAAM,KAAKS,CAAK,EAAG,EAAGI,EAAM,CAACC,CAAU,CAC9D,EACA,OAAS/B,IACP4B,GAAQ,gBAAiB5B,CAAM,EACxB,WAAW,KAAKiB,GAAcjB,EAAQ8B,EAAM,EAAGC,CAAU,CAAC,GAGvE,CAGA,SAASC,GAA+CC,EAAK,CAC3D,OAAAC,GAAID,CAAE,EACC,YAAaE,EAAsB,CACxC,GAAI,CACF,OAAOF,EAAG,MAAM,KAAME,CAAI,CAC5B,OAASC,EAAG,CAAC,CACf,CACF,CAEA,SAASC,GACPC,EACAL,EAAoC,CAEpC,OAAA/B,GAAQoC,CAAG,EACXJ,GAAID,CAAE,EACC,CACL,OAAOvC,EAAgB,CACrB,GAAI,CAACiC,GAAQjC,CAAI,EAAG,MAAM,IAAI,MAAM,6CAA6C,EACjF,IAAM6C,EAAMN,EAAGvC,CAAI,EAAE,MAAM,EAAG4C,CAAG,EAC3BvC,EAAM,IAAI,WAAWL,EAAK,OAAS4C,CAAG,EAC5C,OAAAvC,EAAI,IAAIL,CAAI,EACZK,EAAI,IAAIwC,EAAK7C,EAAK,MAAM,EACjBK,CACT,EACA,OAAOL,EAAgB,CACrB,GAAI,CAACiC,GAAQjC,CAAI,EAAG,MAAM,IAAI,MAAM,6CAA6C,EACjF,IAAM8C,EAAU9C,EAAK,MAAM,EAAG,CAAC4C,CAAG,EAC5BG,EAAc/C,EAAK,MAAM,CAAC4C,CAAG,EAC7BI,EAAcT,EAAGO,CAAO,EAAE,MAAM,EAAGF,CAAG,EAC5C,QAAShC,EAAI,EAAGA,EAAIgC,EAAKhC,IACvB,GAAIoC,EAAYpC,CAAC,IAAMmC,EAAYnC,CAAC,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3E,OAAOkC,CACT,EAEJ,CA+GA,IAAMG,GACJ,OAAQ,WAAmB,KAAK,CAAA,CAAE,EAAE,UAAa,YACjD,OAAQ,WAAmB,YAAe,WAgB/BC,GAAqBD,GAAmB,CACnD,OAAOE,EAAC,CAAI,OAAAC,GAAOD,CAAC,EAAWA,EAAU,SAAQ,CAAI,EACrD,OAAOE,EAAC,CACN,OAAAC,GAAK,SAAUD,CAAC,EAAW,WAAmB,WAAWA,EAAG,CAAE,kBAAmB,QAAQ,CAAE,CAC7F,GACEE,GACFC,GAAO,CAAC,EACRC,GAAS,kEAAkE,EAC3EC,GAAQ,CAAC,EACTC,GAAK,EAAE,CAAC,EAqDH,IAAMC,GAA6BC,GACxCC,GAAO,CAAC,EACRC,GAAS,kEAAkE,EAC3EC,GAAK,EAAE,CAAC,EAKJC,GAAwCC,GAC5CL,GAAMM,GAAM,EAAE,EAAGJ,GAASG,CAAG,EAAGF,GAAK,EAAE,CAAC,EAW7BI,GAAqBH,GAChC,4DAA4D,EAmDvD,IAAMI,GAAqBC,GAChCC,GACEC,GAAS,EAAIC,GAASH,EAAOA,EAAOG,CAAI,CAAC,CAAC,EAC1CC,EAAM,EAOGC,GACXN,GAcIO,GAAyCL,GAC7CM,GAAS,kCAAkC,EAC3CC,GAAK,EAAE,CAAC,EAGJC,GAAqB,CAAC,UAAY,UAAY,UAAY,WAAY,SAAU,EACtF,SAASC,GAAcC,EAAW,CAChC,IAAMC,EAAID,GAAO,GACbE,GAAOF,EAAM,WAAc,EAC/B,QAASG,EAAI,EAAGA,EAAIL,GAAmB,OAAQK,KACvCF,GAAKE,EAAK,KAAO,IAAGD,GAAOJ,GAAmBK,CAAC,GAEvD,OAAOD,CACT,CAEA,SAASE,GAAaC,EAAgBC,EAAiBC,EAAgB,EAAC,CACtE,IAAMC,EAAMH,EAAO,OACfH,EAAM,EACV,QAAS,EAAI,EAAG,EAAIM,EAAK,IAAK,CAC5B,IAAMC,EAAIJ,EAAO,WAAW,CAAC,EAC7B,GAAII,EAAI,IAAMA,EAAI,IAAK,MAAM,IAAI,MAAM,mBAAmB,OAAAJ,EAAM,IAAG,EACnEH,EAAMH,GAAcG,CAAG,EAAKO,GAAK,CACnC,CACAP,EAAMH,GAAcG,CAAG,EACvB,QAAS,EAAI,EAAG,EAAIM,EAAK,IAAKN,EAAMH,GAAcG,CAAG,EAAKG,EAAO,WAAW,CAAC,EAAI,GACjF,QAASK,KAAKJ,EAAOJ,EAAMH,GAAcG,CAAG,EAAIQ,EAChD,QAAS,EAAI,EAAG,EAAI,EAAG,IAAKR,EAAMH,GAAcG,CAAG,EACnD,OAAAA,GAAOK,EACAZ,GAAc,OAAOgB,GAAc,CAACT,EAAMU,GAAO,EAAE,CAAE,EAAG,GAAI,EAAG,EAAK,CAAC,CAC9E,CAsBA,SAASC,GAAUC,EAA8B,CAC/C,IAAMC,EAAiBD,IAAa,SAAW,EAAI,UAC7CE,EAASC,GAAO,CAAC,EACjBC,EAAYF,EAAO,OACnBG,EAAUH,EAAO,OACjBI,EAAkBC,GAAcH,CAAS,EAE/C,SAASI,EACPjB,EACAC,EACAiB,EAAwB,GAAE,CAE1BC,GAAK,uBAAwBnB,CAAM,EAC/BoB,GAAQnB,CAAK,IAAGA,EAAQ,MAAM,KAAKA,CAAK,GAC5CoB,GAAQ,gBAAiBpB,CAAK,EAC9B,IAAMqB,EAAOtB,EAAO,OACpB,GAAIsB,IAAS,EAAG,MAAM,IAAI,UAAU,yBAAyB,OAAAA,EAAM,EACnE,IAAMC,EAAeD,EAAO,EAAIrB,EAAM,OACtC,GAAIiB,IAAU,IAASK,EAAeL,EACpC,MAAM,IAAI,UAAU,UAAU,OAAAK,EAAY,mBAAkB,OAAAL,EAAO,EACrE,IAAMM,EAAUxB,EAAO,YAAW,EAC5ByB,EAAM1B,GAAayB,EAASvB,EAAOS,CAAc,EACvD,MAAO,GAAG,OAAAc,EAAO,KAAI,OAAAlC,GAAc,OAAOW,CAAK,GAAI,OAAAwB,EACrD,CAOA,SAASC,EAAOC,EAAaT,EAAwB,GAAE,CACrDC,GAAK,sBAAuBQ,CAAG,EAC/B,IAAMC,EAAOD,EAAI,OACjB,GAAIC,EAAO,GAAMV,IAAU,IAASU,EAAOV,EACzC,MAAM,IAAI,UAAU,0BAA0B,OAAAU,EAAI,MAAK,OAAAD,EAAG,oBAAmB,OAAAT,EAAK,IAAG,EAEvF,IAAMM,EAAUG,EAAI,YAAW,EAC/B,GAAIA,IAAQH,GAAWG,IAAQA,EAAI,YAAW,EAC5C,MAAM,IAAI,MAAM,uCAAuC,EACzD,IAAME,EAAWL,EAAQ,YAAY,GAAG,EACxC,GAAIK,IAAa,GAAKA,IAAa,GACjC,MAAM,IAAI,MAAM,yDAAyD,EAC3E,IAAM7B,EAASwB,EAAQ,MAAM,EAAGK,CAAQ,EAClC1C,EAAOqC,EAAQ,MAAMK,EAAW,CAAC,EACvC,GAAI1C,EAAK,OAAS,EAAG,MAAM,IAAI,MAAM,yCAAyC,EAC9E,IAAMc,EAAQX,GAAc,OAAOH,CAAI,EAAE,MAAM,EAAG,EAAE,EAC9CsC,EAAM1B,GAAaC,EAAQC,EAAOS,CAAc,EACtD,GAAI,CAACvB,EAAK,SAASsC,CAAG,EAAG,MAAM,IAAI,MAAM,uBAAuB,OAAAE,EAAG,gBAAe,OAAAF,EAAG,IAAG,EACxF,MAAO,CAAE,OAAAzB,EAAQ,MAAAC,CAAK,CACxB,CAEA,IAAM6B,EAAed,GAAcU,CAAM,EAEzC,SAASK,EAAcJ,EAAW,CAChC,GAAM,CAAE,OAAA3B,EAAQ,MAAAC,CAAK,EAAKyB,EAAOC,EAAK,EAAK,EAC3C,MAAO,CAAE,OAAA3B,EAAQ,MAAAC,EAAO,MAAOY,EAAUZ,CAAK,CAAC,CACjD,CAEA,SAAS+B,EAAgBhC,EAAgBiC,EAAiB,CACxD,OAAOhB,EAAOjB,EAAQc,EAAQmB,CAAK,CAAC,CACtC,CAEA,MAAO,CACL,OAAAhB,EACA,OAAAS,EACA,gBAAAM,EACA,cAAAD,EACA,aAAAD,EACA,UAAAjB,EACA,gBAAAE,EACA,QAAAD,EAEJ,CAOO,IAAMoB,GAAiB1B,GAAU,QAAQ,EAQnC2B,GAAkB3B,GAAU,SAAS,ECtuB3C,IAAM4B,GAAS,CACpB,OAAUC,GAAsBC,GAAYC,EAAM,EAAE,OAAOF,CAAI,EAC/D,OAAUA,GAAsBC,GAAYC,EAAM,EAAE,OAAOF,CAAI,GAGpDG,GAAS,CACpB,OAAUH,GAAsBI,GAAO,OAAOJ,CAAI,EAClD,OAAUA,GAAsBI,GAAO,OAAOJ,CAAI,GAGvCK,GAAS,CACpB,OAAUL,GAAsBM,GAAe,OAAON,CAAI,EAC1D,OAAUA,GAAsBM,GAAe,OAAON,CAAI,GAG/CO,GAAS,CACpB,SAAWC,GAAO,QAClB,SAAWA,GAAO,UAElB,OAAQ,CACNC,EACAC,EACAC,EAA0B,KAEnBH,GAAO,OAAOC,EAAQC,EAAOC,CAAK,EAE3C,OAAQ,CACNX,EACAW,EAAyB,KACvB,CACF,GAAM,CAAE,OAAAF,EAAQ,MAAAC,CAAK,EAAKF,GAAO,OAAOR,EAAMW,CAAK,EACnD,MAAO,CAAE,OAAAF,EAAQ,MAAAC,CAAK,CACxB,GAGWE,GAAU,CACrB,SAAWC,GAAQ,QACnB,SAAWA,GAAQ,UAEnB,OAAQ,CACNJ,EACAC,EACAC,EAA0B,KAEnBE,GAAQ,OAAOJ,EAAQC,EAAOC,CAAK,EAE5C,OAAQ,CACNX,EACAW,EAAyB,KACvB,CACF,GAAM,CAAE,OAAAF,EAAQ,MAAAC,CAAK,EAAKG,GAAQ,OAAOb,EAAMW,CAAK,EACpD,MAAO,CAAE,OAAAF,EAAQ,MAAAC,CAAK,CACxB,GC7EF,IAAMI,GAAQ,OAAO,CAAC,EAChBC,GAAQ,OAAO,GAAG,EAClBC,GAAQ,OAAO,GAAG,EAExB,SAASC,GACPC,EAAY,CAEZ,GAAIA,GAAO,YAAO,MAAO,GAEzB,GAAIA,GAAO,cAAS,MAAO,GAE3B,GAAIA,GAAO,mBAAa,MAAO,GAE/B,GAAIA,GAAO,6BAAqB,MAAO,GAEvC,GAAIA,GAAO,6CAAqC,MAAO,IAEvD,GAAIA,GAAO,6EACT,MAAO,IAET,MAAM,IAAI,UAAU,qEAAqE,CAC3F,CAEM,SAAUC,GACdD,EACAE,EACAC,EAAkB,KAAI,CAElBD,IAAS,SAAWA,EAAOH,GAASC,CAAG,GAC3C,IAAMI,EAAYD,IAAW,KACvBE,EAAW,IAAI,YAAYH,CAAI,EAC/BI,EAAW,IAAI,SAASD,CAAM,EAC9BE,EAAYH,EAAU,EAAIF,EAAO,EACvC,KAAOF,EAAMJ,IAAK,CAChB,IAAMY,EAAOR,EAAMH,GACbY,EAAO,OAAOD,CAAI,EACpBJ,EACFE,EAAS,SAASC,IAAUE,CAAG,EAE/BH,EAAS,SAASC,IAAUE,CAAG,EAEjCT,GAAOA,EAAMQ,GAAQV,EACvB,CACA,OAAO,IAAI,WAAWO,CAAM,CAC9B,CAEM,SAAUK,GAAYC,EAAkB,CAC5C,IAAIF,EAAM,OAAO,CAAC,EAClB,QAASG,EAAID,EAAM,OAAS,EAAGC,GAAK,EAAGA,IACrCH,EAAOA,EAAMX,GAAS,OAAOa,EAAMC,CAAC,CAAC,EAEvC,OAAO,OAAOH,CAAG,CACnB,CCtDM,SAAUI,GAAYC,EAAe,CACzC,IAAMC,EAAOD,EAAO,MAAM,EAAE,EAAE,IAAI,MAAM,EAExC,GAAIC,EAAK,OAAS,IAAM,EACtB,MAAM,IAAI,MAAM,mCAAmC,OAAAD,EAAO,OAAQ,EAGpE,IAAME,EAAQ,IAAI,WAAWD,EAAK,OAAS,CAAC,EAE5C,QAASE,EAAI,EAAGC,EAAK,EAAGD,EAAIF,EAAK,OAAQE,GAAK,EAAGC,IAAM,CACrD,IAAIC,EAAO,EACX,QAASC,EAAI,EAAGA,EAAI,EAAGA,IACrBD,GAASJ,EAAKE,EAAIG,CAAC,GAAM,EAAIA,EAE/BJ,EAAME,CAAE,EAAIC,CACd,CAEA,OAAOH,CACT,CAEM,SAAUK,GAAYL,EAAkB,CAE5C,IAAMM,EAAM,IAAI,MAAMN,EAAM,OAAS,CAAC,EAElCO,EAAQ,EAGZ,QAAWC,KAAOR,EAAO,CACvB,GAAIQ,EAAM,IAER,MAAM,IAAI,MAAM,uBAAuB,OAAAA,EAAG,2CAA0C,EAItF,QAASP,EAAI,EAAGA,GAAK,EAAGA,IAAKM,IAC3BD,EAAIC,CAAK,EAAKC,GAAOP,EAAK,CAE9B,CAGA,OAAOK,EAAI,KAAK,EAAE,CACpB,CCtCA,SAASG,GACPC,EAAY,CAEZ,GAAIA,GAAO,IAAM,MAAO,GAExB,GAAIA,GAAO,MAAQ,MAAO,GAE1B,GAAIA,GAAO,WAAY,MAAO,GAC9B,MAAM,IAAI,UAAU,wDAAwD,CAC9E,CAEM,SAAUC,GACdD,EACAE,EACAC,EAAkB,KAAI,CAElBD,IAAS,SAAWA,EAAOH,GAASC,CAAG,GAC3C,IAAMI,EAAYD,IAAW,KACvBE,EAAW,IAAI,YAAYH,CAAI,EAC/BI,EAAW,IAAI,SAASD,CAAM,EAC9BE,EAAYH,EAAU,EAAIF,EAAO,EACvC,KAAOF,EAAM,GAAG,CACd,IAAMQ,EAAOR,EAAM,IACfI,EACFE,EAAS,SAASC,IAAUP,CAAG,EAE/BM,EAAS,SAASC,IAAUP,CAAG,EAEjCA,GAAOA,EAAMQ,GAAQ,GACvB,CACA,OAAO,IAAI,WAAWH,CAAM,CAC9B,CAEM,SAAUI,GAAYC,EAAkB,CAC5C,IAAIV,EAAM,EACV,QAASW,EAAID,EAAM,OAAS,EAAGC,GAAK,EAAGA,IACrCX,EAAOA,EAAM,IAAOU,EAAMC,CAAC,EAC3BC,GAAYZ,CAAG,EAEjB,OAAOA,CACT,CC3CA,IAAAa,GAAA,GAAAC,GAAAD,GAAA,qBAAAE,GAAA,mBAAAC,GAAA,aAAAC,GAAA,WAAAC,GAAA,eAAAC,GAAA,eAAAC,GAAA,eAAAC,KAGM,SAAUC,GAAQC,EAAc,CACpC,OACEA,EAAM,MAAM,cAAc,IAAM,MAChCA,EAAM,OAAS,IAAM,CAGzB,CAEM,SAAUC,GAAUD,EAAW,CACnC,OAAI,OAAOA,GAAU,UAAYD,GAAOC,CAAK,GAG3C,OAAOA,GAAU,UACjB,OAAOA,GAAU,UACjBA,aAAiB,WAJV,GAQP,SAAM,QAAQA,CAAK,GACnBA,EAAM,MAAME,GAAK,OAAOA,GAAM,QAAQ,EAM1C,CAEM,SAAUC,GACdC,EACAC,EACAC,EAAkB,KAAI,CAElBD,IAAS,SAAWA,EAAOD,EAAK,QACpCG,GAAYH,EAAMC,CAAI,EACtB,IAAMG,EAAS,IAAI,WAAWH,CAAI,EAAE,KAAK,CAAC,EACpCI,EAAUH,IAAW,KAAQ,EAAID,EAAOD,EAAK,OACnD,OAAAI,EAAO,IAAIJ,EAAMK,CAAM,EAChBD,CACT,CAEM,SAAUE,GACdC,EAAkC,CAElC,IAAIC,EAAGH,EAAS,EACVJ,EAAOM,EAAI,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,OAAQ,CAAC,EACnDG,EAAO,IAAI,WAAWT,CAAI,EAChC,IAAKO,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAK,CAC/B,IAAMG,EAAIJ,EAAIC,CAAC,EACfE,EAAK,IAAIC,EAAGN,CAAM,EAClBA,GAAUM,EAAE,MACd,CACA,OAAOD,CACT,CAEM,SAAUE,GAAiBC,EAASC,EAAO,CAC/C,OAAO,OAAOA,GAAM,SAChB,GAAG,OAAAA,EAAC,KACJA,CACN,CAEM,SAAUC,GAAgBF,EAASC,EAAO,CAC9C,OAAO,OAAOA,GAAM,UAAY,YAAY,KAAKA,CAAC,EAC9C,OAAOA,EAAE,MAAM,EAAG,EAAE,CAAC,EACrBA,CACN,CAEM,SAAUE,GACdC,EACAC,EACAC,EAAmB,CAEnB,IAAMV,EAAQQ,EAAU,OAClBG,EAAQD,EAAaD,EAC3B,GAAIC,EAAaD,IAAe,EAC9B,MAAM,IAAI,UAAU,uBAAuB,OAAAC,EAAU,OAAM,OAAAD,EAAU,SAAQ,EAE/E,GAAIT,IAAQU,EACV,MAAM,IAAI,UAAU,wBAAwB,OAAAV,EAAG,SAAQ,OAAAU,EAAY,EAErE,GAAIV,EAAMS,IAAe,EACvB,MAAM,IAAI,UAAU,wBAAwB,OAAAT,EAAG,OAAM,OAAAS,EAAU,SAAQ,EAEzE,IAAMG,EAAS,IAAI,MAAMD,CAAK,EAC9B,QAASZ,EAAI,EAAGA,EAAIY,EAAOZ,IAAK,CAC9B,IAAMc,EAAMd,EAAIU,EAChBG,EAAOb,CAAC,EAAIS,EAAU,SAASK,EAAKA,EAAMJ,CAAU,CACtD,CACA,OAAOG,CACT,CCpFM,SAAUE,GACdC,EACAC,EACAC,EAAgB,CAEhB,GAAIF,aAAgB,YAClB,OAAO,IAAI,WAAWA,CAAI,EACrB,GAAIA,aAAgB,WACzB,OAAYG,GAAWH,EAAMC,EAAMC,CAAM,EACpC,GAAI,MAAM,QAAQF,CAAI,EAAG,CAC9B,IAAMI,EAAQJ,EAAK,IAAIK,GAAKN,GAAYM,EAAGJ,EAAMC,CAAM,CAAC,EACxD,OAAYI,GAAWF,CAAK,CAC9B,KAAO,IAAI,OAAOJ,GAAS,SACzB,OAAOO,GAAWP,EAAMC,EAAMC,CAAM,EAC/B,GAAI,OAAOF,GAAS,SACzB,OAAOQ,GAAWR,EAAMC,EAAMC,CAAM,EAC/B,GAAI,OAAOF,GAAS,SACzB,OAAOS,GAAWT,EAAMC,EAAMC,CAAM,EAC/B,GAAI,OAAOF,GAAS,UACzB,OAAO,WAAW,GAAGA,EAAO,EAAI,CAAC,EAEnC,MAAM,IAAI,UAAU,sBAA+B,OAAOA,CAAK,CACjE,CCnBM,IAAOU,GAAP,MAAOA,WAAa,UAAU,CAqBlC,OAAO,OAAQC,EAAO,GAAE,CACtB,IAAMC,EAAOC,GAAYF,CAAI,EAC7B,OAAO,IAAID,GAAKE,EAAMD,CAAI,CAC5B,CAEA,OAAO,IAAKA,EAAO,EAAC,CAClB,IAAMG,EAAQ,KAAK,MAAM,KAAK,IAAG,EAAK,GAAI,EAC1C,OAAO,IAAIJ,GAAKI,EAAOH,CAAI,CAC7B,CAEA,YACEI,EACAJ,EACAK,EAAgB,CAEhB,GACED,aAAgBL,IAChBC,IAAS,OAET,OAAOI,EAGT,IAAME,EAAaC,GAAYH,EAAMJ,EAAMK,CAAM,EACjD,MAAMC,CAAM,CACd,CAEA,IAAI,KAAG,CACL,MAAO,CAAE,GAAG,IAAI,CAClB,CAEA,IAAI,KAAG,CACL,OAAO,KAAK,OAAM,CACpB,CAEA,IAAI,KAAG,CACL,OAAO,KAAK,OAAM,CACpB,CAEA,IAAI,KAAG,CACL,OAAO,KAAK,OAAM,CACpB,CAEA,IAAI,KAAG,CACL,OAAO,KAAK,OAAM,CACpB,CAEA,IAAI,KAAG,CACL,OAAO,IAAI,WAAW,IAAI,CAC5B,CAEA,IAAI,KAAG,CACL,OAAO,KAAK,OAAM,CACpB,CAEA,IAAI,QAAM,CACR,OAAO,KAAK,UAAS,CACvB,CAEA,IAAI,QAAM,CACR,OAAO,KAAK,UAAS,CACvB,CAEA,IAAI,QAAM,CACR,OAAO,KAAK,UAAS,CACvB,CAEA,IAAI,QAAM,CACR,OAAO,KAAK,QAAO,CACrB,CAEA,IAAI,IAAE,CACJ,OAAO,KAAK,QAAO,EAAG,GACxB,CAEA,IAAI,QAAM,CACR,OAAO,IAAIE,GAAO,IAAI,CACxB,CAEA,OAAQH,EAAkB,KAAI,CAC5B,IAAMI,EAASJ,IAAW,KACtB,KAAK,QAAO,EACZ,KACJ,OAAWK,GAAWD,CAAK,CAC7B,CAEA,OAAQJ,EAAkB,KAAI,CAC5B,IAAMI,EAASJ,IAAW,KACtB,KAAK,QAAO,EACZ,KACJ,OAAWM,GAAWF,CAAK,CAC7B,CAEA,QAAM,CACJ,OAAWG,GAAW,IAAI,CAC5B,CAEA,SAAO,CACL,IAAMC,EAASC,GAAO,IAAI,EAC1B,OAAO,IAAIf,GAAKc,CAAM,CACxB,CAEA,QAAmBE,EAAkB,CAC/BA,IAAY,SACdA,EAAeC,IAEjB,IAAMC,EAAUC,GAAW,IAAI,EAC/B,OAAO,KAAK,MAAMD,EAAKF,CAAO,CAChC,CAEA,UACEI,EACAC,EAAe,CAEf,GAAM,CAAE,OAAAC,EAAQ,SAAAC,CAAQ,EAAaC,GAC/BC,EAAQF,EAAS,IAAI,EAC3B,OAAOD,EAAOF,EAAQK,EAAOJ,CAAK,CACpC,CAEA,WACED,EACAC,EAAe,CAEf,GAAM,CAAE,OAAAC,EAAQ,SAAAC,CAAQ,EAAaG,GAC/BD,EAAQF,EAAS,IAAI,EAC3B,OAAOD,EAAOF,EAAQK,EAAOJ,CAAK,CACpC,CAEA,QAAM,CAAsB,OAAWF,GAAW,IAAI,CAAE,CACxD,QAAM,CAAsB,OAAWQ,GAAW,IAAI,CAAE,CACxD,UAAQ,CAAoB,OAAO,IAAI,WAAW,IAAI,CAAE,CACxD,WAAS,CAAmB,OAAeC,GAAO,OAAO,IAAI,CAAE,CAC/D,WAAS,CAAmB,OAAeC,GAAO,OAAO,IAAI,CAAE,CAC/D,WAAS,CAAmB,OAAeC,GAAO,OAAO,IAAI,CAAE,CAE/D,OAAQzB,EAAY,CAClB,OAAOL,GAAK,KAAK,CAAE,KAAMA,GAAK,MAAMK,CAAI,CAAC,CAAE,CAC7C,CAEA,OAAQA,EAAY,CAClB,OAAOE,GAAOF,CAAI,EAAE,MAAQ,KAAK,GACnC,CAEA,QAASA,EAAY,CACnB,OAAOL,GAAK,KAAK,CAAEA,GAAK,MAAMK,CAAI,EAAG,IAAI,CAAE,CAC7C,CAEA,SAAO,CACL,IAAM0B,EAAM,IAAI,WAAW,IAAI,EAAE,QAAO,EACxC,OAAO,IAAI/B,GAAK+B,CAAG,CACrB,CAEA,MAAOC,EAAiBC,EAAa,CACnC,IAAMF,EAAM,IAAI,WAAW,IAAI,EAAE,MAAMC,EAAOC,CAAG,EACjD,OAAO,IAAIjC,GAAK+B,CAAG,CACrB,CAEA,IAAKG,EAA2BC,EAAgB,CAC9C,KAAK,IAAID,EAAOC,CAAM,CACxB,CAEA,SAAUC,EAAiBH,EAAa,CACtC,IAAMF,EAAM,IAAI,WAAW,IAAI,EAAE,SAASK,EAAOH,CAAG,EACpD,OAAO,IAAIjC,GAAK+B,CAAG,CACrB,CAEA,MAAOrB,EAAeyB,EAAgB,CACpC,IAAME,EAAIrC,GAAK,MAAMU,CAAK,EAC1B,KAAK,IAAI2B,EAAGF,CAAM,CACpB,CAEA,WAAY7B,EAAgB,CAC1B,IAAML,EAAOD,GAAK,YAAY,KAAK,OAAQM,CAAM,EACjD,OAAON,GAAK,KAAK,CAAEC,EAAM,IAAI,CAAE,CACjC,CAEA,QAAM,CACJ,OAAO,KAAK,GACd,CAEA,UAAQ,CACN,OAAO,KAAK,GACd,CAEA,OAAO,KAAMI,EAA4B,CACvC,OAAO,IAAIL,GAAK,WAAW,KAAKK,CAAI,CAAC,CACvC,CAEA,OAAO,MAAOiC,EAAe,CAC3B,OAAO,IAAItC,GAAK,WAAW,GAAG,GAAGsC,CAAI,CAAC,CACxC,CAEA,OAAO,KAAMP,EAAa,CACxB,IAAMrB,EAASqB,EAAI,IAAIQ,GAAKvC,GAAK,MAAMuC,CAAC,CAAC,EACnCC,EAAcC,GAAW/B,CAAK,EACpC,OAAO,IAAIV,GAAKwC,CAAM,CACxB,CAEA,OAAO,KAAMT,EAAe9B,EAAc,CACxC,IAAMyC,EAAMX,EAAI,IAAIQ,GAAKhC,GAAOgC,EAAGtC,CAAI,EAAE,GAAG,EAC5C,OAAAyC,EAAI,KAAI,EACDA,EAAI,IAAIH,GAAKvC,GAAK,IAAIuC,EAAGtC,CAAI,CAAC,CACvC,CAEA,OAAO,YAAa0C,EAAcrC,EAAgB,CAChD,GAAIqC,EAAM,IACR,OAAO3C,GAAK,IAAI2C,EAAK,CAAC,EACjB,GAAIA,EAAM,MACf,OAAO3C,GAAK,GAAG,IAAM,GAAGA,GAAK,IAAI2C,EAAK,EAAGrC,CAAM,CAAC,EAC3C,GAAIqC,EAAM,WACf,OAAO3C,GAAK,GAAG,IAAM,GAAGA,GAAK,IAAI2C,EAAK,EAAGrC,CAAM,CAAC,EAC3C,GAAI,OAAOqC,CAAG,EAAI,4BACvB,OAAO3C,GAAK,GAAG,IAAM,GAAGA,GAAK,IAAI2C,EAAK,EAAGrC,CAAM,CAAC,EAEhD,MAAM,IAAI,MAAM,uBAAuB,OAAAqC,EAAK,CAEhD,GA3OO3C,GAAA,IAAW4C,GACX5C,GAAA,IAAW6C,GACX7C,GAAA,IAAW8C,GACX9C,GAAA,IAAW+C,GACX/C,GAAA,IAAWgD,GACXhD,GAAA,IAAWiD,GACXjD,GAAA,MAAWO,GACXP,GAAA,KAAWkD,GACXlD,GAAA,OAAWmD,GACXnD,GAAA,OAAWoD,GACXpD,GAAA,OAAWqD,GACXrD,GAAA,QAAWsD,GACXtD,GAAA,OAAWuD,GACXvD,GAAA,OAAewD,GACfxD,GAAA,OAAemB,GACfnB,GAAA,MAAWyD,GACXzD,GAAA,SAAgB0D,GAChB1D,GAAA,OAAgB2D,GAChB3D,GAAA,SAAW4D,GAnBd,IAAOC,EAAP7D,GA+ON,SAAS4C,GACPkB,EACA7D,EACAK,EAAgB,CAEhB,OAAO,IAAIuD,EAAKC,EAAQ7D,EAAMK,CAAM,CACtC,CAEA,SAASwC,GACPzC,EACAJ,EACAK,EAAgB,CAEhB,OAAO,IAAIuD,EAASE,GAAW1D,CAAI,EAAGJ,EAAMK,CAAM,CACpD,CAEA,SAASuC,GACPmB,EACA/D,EACAK,EAAgB,CAEhB,OAAO,IAAIuD,EAAKG,EAAQ/D,EAAMK,CAAM,CACtC,CAEA,SAASyC,GACP1C,EACAJ,EACAK,EAAgB,CAEhB,OAAO,IAAIuD,EAAKxD,EAAMJ,EAAMK,CAAM,CACpC,CAEA,SAAS0C,GACP3C,EACAJ,EACAK,EAAgB,CAEhB,OAAO,IAAIuD,EAASL,GAAWnD,CAAI,EAAGJ,EAAMK,CAAM,CACpD,CAEA,SAAS2C,GACP5C,EACAJ,EACAK,EAAgB,CAEhB,OAAO,IAAIuD,EAAKxD,EAAMJ,EAAMK,CAAM,CACpC,CAEA,SAAS4C,GACP7C,EACA4D,EAAoB,CAEhBA,IAAa,SACfA,EAAgBC,IAElB,IAAMhD,EAAM,KAAK,UAAUb,EAAM4D,CAAQ,EACzC,OAAO,IAAIJ,EAASL,GAAWtC,CAAG,CAAC,CACrC,CAEA,SAASiC,GACP9C,EAAa,CAEb,OAAO,IAAIwD,EAAahC,GAAO,OAAOxB,CAAI,CAAC,CAC7C,CAEA,SAAS+C,GACP/C,EAAa,CAEb,OAAO,IAAIwD,EAAa/B,GAAO,OAAOzB,CAAI,CAAC,CAC7C,CAEA,SAASgD,GACPhD,EACAgB,EACA8C,EAAoB,CAEpB,GAAM,CAAE,OAAAC,EAAQ,SAAAC,CAAQ,EAAa7C,GAC/B,CAAE,OAAAJ,EAAQ,MAAAK,CAAK,EAAK2C,EAAO/D,EAAMgB,CAAK,EACtCX,EAAQ2D,EAAS5C,CAAK,EAC5B,OAAI,OAAO0C,GAAe,UACjBG,GAAUlD,EAAQ+C,CAAU,EAE9B,IAAIN,EAAKnD,CAAK,CACvB,CAEA,SAAS4C,GACPjD,EACAgB,EACA8C,EAAoB,CAEpB,GAAM,CAAE,OAAAC,EAAQ,SAAAC,CAAQ,EAAa3C,GAC/B,CAAE,OAAAN,EAAQ,MAAAK,CAAK,EAAK2C,EAAO/D,EAAMgB,CAAK,EACtCX,EAAQ2D,EAAS5C,CAAK,EAC5B,OAAI,OAAO0C,GAAe,UACjBG,GAAUlD,EAAQ+C,CAAU,EAE9B,IAAIN,EAAKnD,CAAK,CACvB,CAEA,SAAS6C,GACPlD,EAAa,CAEb,OAAO,IAAIwD,EAAajC,GAAO,OAAOvB,CAAI,CAAC,CAC7C,CAEA,SAASoD,GACPc,EACAC,EACAC,EAAmB,CAEnB,IAAM/D,EAAaF,GAAY+D,CAAS,EAExC,OADoBd,GAAW/C,EAAO8D,EAAYC,CAAU,EAC9C,IAAIlC,GAAKsB,EAAK,MAAMtB,CAAC,CAAC,CACtC,CAEA,SAASqB,GAAUc,EAAWrC,EAAS,CACrC,OAAO,IAAIwB,EAAKa,CAAC,EAAE,MAAQ,IAAIb,EAAKxB,CAAC,EAAE,GACzC,CAEM,SAAU9B,GACdG,EACAT,EACAgC,EAAc,CAEd,OAAO,IAAI4B,EAAKnD,EAAOT,EAAMgC,CAAG,CAClC,CAEM,IAAOxB,GAAP,KAAa,CAIjB,YAAaJ,EAAY,CACvB,KAAK,KAAOwD,EAAK,MAAMxD,CAAI,EAC3B,KAAK,KAAO,KAAK,KAAK,MACxB,CAEA,KAAMJ,EAAa,CACjB,GAAIA,EAAO,KAAK,KACd,MAAM,IAAI,MAAM,6BAA6B,OAAAA,EAAI,OAAM,YAAK,KAAM,EAEpE,OAAO,IAAI4D,EAAK,KAAK,KAAK,MAAM,EAAG5D,CAAI,CAAC,CAC1C,CAEA,KAAMA,EAAa,CACjB,IAAM0E,EAAQ,KAAK,KAAK1E,CAAI,EAC5B,YAAK,KAAO,KAAK,KAAK,MAAMA,CAAI,EAChC,KAAK,KAAO,KAAK,KAAK,OACf0E,CACT,CAEA,YAAarE,EAAgB,CAC3B,IAAMqC,EAAM,KAAK,KAAK,CAAC,EAAE,IACzB,OAAQ,GAAM,CACZ,KAAMA,GAAO,GAAKA,EAAM,KACtB,OAAOA,EACT,KAAMA,IAAQ,IACZ,OAAO,KAAK,KAAK,CAAC,EAAE,OAAOrC,CAAM,EACnC,KAAMqC,IAAQ,IACZ,OAAO,KAAK,KAAK,CAAC,EAAE,OAAOrC,CAAM,EACnC,KAAMqC,IAAQ,IACZ,OAAO,KAAK,KAAK,CAAC,EAAE,OAAOrC,CAAM,EACnC,QACE,MAAM,IAAI,MAAM,2BAA2B,OAAAqC,EAAK,CACpD,CACF,GCvZI,IAAOiC,GAAP,cAAuCC,EAAa,CAQxD,YAAYC,EAAaC,EAAW,CAClC,MAAK,EAJC,KAAA,SAAW,GACX,KAAA,UAAY,GAIlBC,GAAMF,CAAI,EACV,IAAMG,EAAMC,GAAQH,CAAI,EAExB,GADA,KAAK,MAAQD,EAAK,OAAM,EACpB,OAAO,KAAK,MAAM,QAAW,WAC/B,MAAM,IAAI,MAAM,qDAAqD,EACvE,KAAK,SAAW,KAAK,MAAM,SAC3B,KAAK,UAAY,KAAK,MAAM,UAC5B,IAAMK,EAAW,KAAK,SAChBC,EAAM,IAAI,WAAWD,CAAQ,EAEnCC,EAAI,IAAIH,EAAI,OAASE,EAAWL,EAAK,OAAM,EAAG,OAAOG,CAAG,EAAE,OAAM,EAAKA,CAAG,EACxE,QAASI,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAKD,EAAIC,CAAC,GAAK,GAC/C,KAAK,MAAM,OAAOD,CAAG,EAErB,KAAK,MAAQN,EAAK,OAAM,EAExB,QAASO,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAKD,EAAIC,CAAC,GAAK,IAC/C,KAAK,MAAM,OAAOD,CAAG,EACrBE,GAAMF,CAAG,CACX,CACA,OAAOG,EAAU,CACf,OAAAC,GAAQ,IAAI,EACZ,KAAK,MAAM,OAAOD,CAAG,EACd,IACT,CACA,WAAWE,EAAe,CACxBD,GAAQ,IAAI,EACZE,GAAOD,EAAK,KAAK,SAAS,EAC1B,KAAK,SAAW,GAChB,KAAK,MAAM,WAAWA,CAAG,EACzB,KAAK,MAAM,OAAOA,CAAG,EACrB,KAAK,MAAM,WAAWA,CAAG,EACzB,KAAK,QAAO,CACd,CACA,QAAM,CACJ,IAAMA,EAAM,IAAI,WAAW,KAAK,MAAM,SAAS,EAC/C,YAAK,WAAWA,CAAG,EACZA,CACT,CACA,WAAWE,EAAY,CAErBA,IAAAA,EAAO,OAAO,OAAO,OAAO,eAAe,IAAI,EAAG,CAAA,CAAE,GACpD,GAAM,CAAE,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,SAAAZ,EAAU,UAAAa,CAAS,EAAK,KACnE,OAAAL,EAAKA,EACLA,EAAG,SAAWG,EACdH,EAAG,UAAYI,EACfJ,EAAG,SAAWR,EACdQ,EAAG,UAAYK,EACfL,EAAG,MAAQC,EAAM,WAAWD,EAAG,KAAK,EACpCA,EAAG,MAAQE,EAAM,WAAWF,EAAG,KAAK,EAC7BA,CACT,CACA,OAAK,CACH,OAAO,KAAK,WAAU,CACxB,CACA,SAAO,CACL,KAAK,UAAY,GACjB,KAAK,MAAM,QAAO,EAClB,KAAK,MAAM,QAAO,CACpB,GAaWM,GAGT,CAACnB,EAAaG,EAAYiB,IAC5B,IAAItB,GAAUE,EAAMG,CAAG,EAAE,OAAOiB,CAAO,EAAE,OAAM,EACjDD,GAAK,OAAS,CAACnB,EAAaG,IAAe,IAAIL,GAAUE,EAAMG,CAAG,ECnFlE,IAAMkB,GAAsB,OAAO,CAAC,EAC9BC,GAAsB,OAAO,CAAC,EAW9B,SAAUC,GAAQC,EAAU,CAChC,OAAOA,aAAa,YAAe,YAAY,OAAOA,CAAC,GAAKA,EAAE,YAAY,OAAS,YACrF,CAEM,SAAUC,GAAOC,EAAa,CAClC,GAAI,CAACH,GAAQG,CAAI,EAAG,MAAM,IAAI,MAAM,qBAAqB,CAC3D,CAEM,SAAUC,GAAMC,EAAeC,EAAc,CACjD,GAAI,OAAOA,GAAU,UAAW,MAAM,IAAI,MAAMD,EAAQ,0BAA4BC,CAAK,CAC3F,CAGM,SAAUC,GAAoBC,EAAoB,CACtD,IAAMC,EAAMD,EAAI,SAAS,EAAE,EAC3B,OAAOC,EAAI,OAAS,EAAI,IAAMA,EAAMA,CACtC,CAEM,SAAUC,GAAYD,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EACrF,OAAOA,IAAQ,GAAKX,GAAM,OAAO,KAAOW,CAAG,CAC7C,CAGA,IAAME,GAEJ,OAAO,WAAW,KAAK,CAAA,CAAE,EAAE,OAAU,YAAc,OAAO,WAAW,SAAY,WAG7EC,GAAwB,MAAM,KAAK,CAAE,OAAQ,GAAG,EAAI,CAACC,EAAGC,IAC5DA,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,CAAC,EAO3B,SAAUC,GAAWC,EAAiB,CAG1C,GAFAd,GAAOc,CAAK,EAERL,GAAe,OAAOK,EAAM,MAAK,EAErC,IAAIP,EAAM,GACV,QAASK,EAAI,EAAGA,EAAIE,EAAM,OAAQF,IAChCL,GAAOG,GAAMI,EAAMF,CAAC,CAAC,EAEvB,OAAOL,CACT,CAGA,IAAMQ,GAAS,CAAE,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAG,EAC5D,SAASC,GAAcC,EAAU,CAC/B,GAAIA,GAAMF,GAAO,IAAME,GAAMF,GAAO,GAAI,OAAOE,EAAKF,GAAO,GAC3D,GAAIE,GAAMF,GAAO,GAAKE,GAAMF,GAAO,EAAG,OAAOE,GAAMF,GAAO,EAAI,IAC9D,GAAIE,GAAMF,GAAO,GAAKE,GAAMF,GAAO,EAAG,OAAOE,GAAMF,GAAO,EAAI,GAEhE,CAMM,SAAUG,GAAWX,EAAW,CACpC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EAErF,GAAIE,GAAe,OAAO,WAAW,QAAQF,CAAG,EAChD,IAAMY,EAAKZ,EAAI,OACTa,EAAKD,EAAK,EAChB,GAAIA,EAAK,EAAG,MAAM,IAAI,MAAM,mDAAqDA,CAAE,EACnF,IAAME,EAAQ,IAAI,WAAWD,CAAE,EAC/B,QAASE,EAAK,EAAGC,EAAK,EAAGD,EAAKF,EAAIE,IAAMC,GAAM,EAAG,CAC/C,IAAMC,EAAKR,GAAcT,EAAI,WAAWgB,CAAE,CAAC,EACrCE,EAAKT,GAAcT,EAAI,WAAWgB,EAAK,CAAC,CAAC,EAC/C,GAAIC,IAAO,QAAaC,IAAO,OAAW,CACxC,IAAMC,EAAOnB,EAAIgB,CAAE,EAAIhB,EAAIgB,EAAK,CAAC,EACjC,MAAM,IAAI,MAAM,+CAAiDG,EAAO,cAAgBH,CAAE,CAC5F,CACAF,EAAMC,CAAE,EAAIE,EAAK,GAAKC,CACxB,CACA,OAAOJ,CACT,CAGM,SAAUM,GAAgBb,EAAiB,CAC/C,OAAON,GAAYK,GAAWC,CAAK,CAAC,CACtC,CACM,SAAUc,GAAgBd,EAAiB,CAC/C,OAAAd,GAAOc,CAAK,EACLN,GAAYK,GAAW,WAAW,KAAKC,CAAK,EAAE,QAAO,CAAE,CAAC,CACjE,CAEM,SAAUe,GAAgBC,EAAoBC,EAAW,CAC7D,OAAOb,GAAWY,EAAE,SAAS,EAAE,EAAE,SAASC,EAAM,EAAG,GAAG,CAAC,CACzD,CACM,SAAUC,GAAgBF,EAAoBC,EAAW,CAC7D,OAAOF,GAAgBC,EAAGC,CAAG,EAAE,QAAO,CACxC,CAeM,SAAUE,GAAYC,EAAeC,EAAUC,EAAuB,CAC1E,IAAIC,EACJ,GAAI,OAAOF,GAAQ,SACjB,GAAI,CACFE,EAAMC,GAAWH,CAAG,CACtB,OAASI,EAAG,CACV,MAAM,IAAI,MAAML,EAAQ,6CAA+CK,CAAC,CAC1E,SACSC,GAAQL,CAAG,EAGpBE,EAAM,WAAW,KAAKF,CAAG,MAEzB,OAAM,IAAI,MAAMD,EAAQ,mCAAmC,EAE7D,IAAMO,EAAMJ,EAAI,OAChB,GAAI,OAAOD,GAAmB,UAAYK,IAAQL,EAChD,MAAM,IAAI,MAAMF,EAAQ,cAAgBE,EAAiB,kBAAoBK,CAAG,EAClF,OAAOJ,CACT,CAKM,SAAUK,MAAeC,EAAoB,CACjD,IAAIC,EAAM,EACV,QAASC,EAAI,EAAGA,EAAIF,EAAO,OAAQE,IAAK,CACtC,IAAMC,EAAIH,EAAOE,CAAC,EAClBE,GAAOD,CAAC,EACRF,GAAOE,EAAE,MACX,CACA,IAAMT,EAAM,IAAI,WAAWO,CAAG,EAC9B,QAASC,EAAI,EAAGG,EAAM,EAAGH,EAAIF,EAAO,OAAQE,IAAK,CAC/C,IAAMC,EAAIH,EAAOE,CAAC,EAClBR,EAAI,IAAIS,EAAGE,CAAG,EACdA,GAAOF,EAAE,MACX,CACA,OAAOT,CACT,CAuBA,IAAMY,GAAYC,GAAc,OAAOA,GAAM,UAAYC,IAAOD,EAE1D,SAAUE,GAAQF,EAAWG,EAAaC,EAAW,CACzD,OAAOL,GAASC,CAAC,GAAKD,GAASI,CAAG,GAAKJ,GAASK,CAAG,GAAKD,GAAOH,GAAKA,EAAII,CAC1E,CAOM,SAAUC,GAASC,EAAeN,EAAWG,EAAaC,EAAW,CAMzE,GAAI,CAACF,GAAQF,EAAGG,EAAKC,CAAG,EACtB,MAAM,IAAI,MAAM,kBAAoBE,EAAQ,KAAOH,EAAM,WAAaC,EAAM,SAAWJ,CAAC,CAC5F,CASM,SAAUO,GAAOP,EAAS,CAC9B,IAAIQ,EACJ,IAAKA,EAAM,EAAGR,EAAIC,GAAKD,IAAMS,GAAKD,GAAO,EAAE,CAC3C,OAAOA,CACT,CAsBO,IAAME,GAAWC,IAAuBC,IAAO,OAAOD,CAAC,GAAKC,GAI7DC,GAAOC,GAAgB,IAAI,WAAWA,CAAG,EACzCC,GAAQC,GAA2B,WAAW,KAAKA,CAAG,EAStD,SAAUC,GACdC,EACAC,EACAC,EAAkE,CAElE,GAAI,OAAOF,GAAY,UAAYA,EAAU,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAC1F,GAAI,OAAOC,GAAa,UAAYA,EAAW,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAC7F,GAAI,OAAOC,GAAW,WAAY,MAAM,IAAI,MAAM,2BAA2B,EAE7E,IAAIC,EAAIR,GAAIK,CAAO,EACfI,EAAIT,GAAIK,CAAO,EACf,EAAI,EACFK,EAAQ,IAAK,CACjBF,EAAE,KAAK,CAAC,EACRC,EAAE,KAAK,CAAC,EACR,EAAI,CACN,EACME,EAAI,IAAIC,IAAoBL,EAAOE,EAAGD,EAAG,GAAGI,CAAC,EAC7CC,EAAS,CAACC,EAAOd,GAAI,CAAC,IAAK,CAE/BS,EAAIE,EAAET,GAAK,CAAC,CAAI,CAAC,EAAGY,CAAI,EACxBN,EAAIG,EAAC,EACDG,EAAK,SAAW,IACpBL,EAAIE,EAAET,GAAK,CAAC,CAAI,CAAC,EAAGY,CAAI,EACxBN,EAAIG,EAAC,EACP,EACMI,EAAM,IAAK,CAEf,GAAI,KAAO,IAAM,MAAM,IAAI,MAAM,yBAAyB,EAC1D,IAAId,EAAM,EACJe,EAAoB,CAAA,EAC1B,KAAOf,EAAMK,GAAU,CACrBE,EAAIG,EAAC,EACL,IAAMM,EAAKT,EAAE,MAAK,EAClBQ,EAAI,KAAKC,CAAE,EACXhB,GAAOO,EAAE,MACX,CACA,OAAOU,GAAY,GAAGF,CAAG,CAC3B,EASA,MARiB,CAACF,EAAkBK,IAAoB,CACtDT,EAAK,EACLG,EAAOC,CAAI,EACX,IAAIM,EACJ,KAAO,EAAEA,EAAMD,EAAKJ,EAAG,CAAE,IAAIF,EAAM,EACnC,OAAAH,EAAK,EACEU,CACT,CAEF,CAIA,IAAMC,GAAe,CACnB,OAASC,GAAsB,OAAOA,GAAQ,SAC9C,SAAWA,GAAsB,OAAOA,GAAQ,WAChD,QAAUA,GAAsB,OAAOA,GAAQ,UAC/C,OAASA,GAAsB,OAAOA,GAAQ,SAC9C,mBAAqBA,GAAsB,OAAOA,GAAQ,UAAYC,GAAQD,CAAG,EACjF,cAAgBA,GAAsB,OAAO,cAAcA,CAAG,EAC9D,MAAQA,GAAsB,MAAM,QAAQA,CAAG,EAC/C,MAAO,CAACA,EAAUE,IAAsBA,EAAe,GAAG,QAAQF,CAAG,EACrE,KAAOA,GAAsB,OAAOA,GAAQ,YAAc,OAAO,cAAcA,EAAI,SAAS,GAMxF,SAAUG,GACdD,EACAE,EACAC,EAA2B,CAAA,EAAE,CAE7B,IAAMC,EAAa,CAACC,EAAoBC,EAAiBC,IAAuB,CAC9E,IAAMC,EAAWX,GAAaS,CAAI,EAClC,GAAI,OAAOE,GAAa,WAAY,MAAM,IAAI,MAAM,4BAA4B,EAEhF,IAAMV,EAAME,EAAOK,CAAgC,EACnD,GAAI,EAAAE,GAAcT,IAAQ,SACtB,CAACU,EAASV,EAAKE,CAAM,EACvB,MAAM,IAAI,MACR,SAAW,OAAOK,CAAS,EAAI,yBAA2BC,EAAO,SAAWR,CAAG,CAGrF,EACA,OAAW,CAACO,EAAWC,CAAI,IAAK,OAAO,QAAQJ,CAAU,EAAGE,EAAWC,EAAWC,EAAO,EAAK,EAC9F,OAAW,CAACD,EAAWC,CAAI,IAAK,OAAO,QAAQH,CAAa,EAAGC,EAAWC,EAAWC,EAAO,EAAI,EAChG,OAAON,CACT,CAqBM,SAAUS,GACdC,EAA6B,CAE7B,IAAMC,EAAM,IAAI,QAChB,MAAO,CAACC,KAAWC,IAAc,CAC/B,IAAMC,EAAMH,EAAI,IAAIC,CAAG,EACvB,GAAIE,IAAQ,OAAW,OAAOA,EAC9B,IAAMC,EAAWL,EAAGE,EAAK,GAAGC,CAAI,EAChC,OAAAF,EAAI,IAAIC,EAAKG,CAAQ,EACdA,CACT,CACF,CC1WA,IAAMC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAEjGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAGhG,SAAUC,GAAIC,EAAWC,EAAS,CACtC,IAAMC,EAASF,EAAIC,EACnB,OAAOC,GAAUV,GAAMU,EAASD,EAAIC,CACtC,CAaM,SAAUC,GAAKC,EAAWC,EAAeC,EAAc,CAC3D,IAAIC,EAAMH,EACV,KAAOC,KAAUG,IACfD,GAAOA,EACPA,GAAOD,EAET,OAAOC,CACT,CAMM,SAAUE,GAAOC,EAAgBJ,EAAc,CACnD,GAAII,IAAWF,GAAK,MAAM,IAAI,MAAM,kCAAkC,EACtE,GAAIF,GAAUE,GAAK,MAAM,IAAI,MAAM,0CAA4CF,CAAM,EAErF,IAAIK,EAAIC,GAAIF,EAAQJ,CAAM,EACtBO,EAAIP,EAEJF,EAAII,GAAKM,EAAIC,GAAKC,EAAID,GAAKE,EAAIT,GACnC,KAAOG,IAAMH,IAAK,CAEhB,IAAMU,EAAIL,EAAIF,EACRQ,EAAIN,EAAIF,EACRS,EAAIhB,EAAIY,EAAIE,EACZG,EAAIP,EAAIG,EAAIC,EAElBL,EAAIF,EAAGA,EAAIQ,EAAGf,EAAIY,EAAGF,EAAIG,EAAGD,EAAII,EAAGH,EAAII,CACzC,CAEA,GADYR,IACAE,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACzD,OAAOH,GAAIR,EAAGE,CAAM,CACtB,CAMA,SAASgB,GAAaC,EAAeF,EAAI,CACvC,IAAMG,GAAUD,EAAG,MAAQR,IAAOU,GAC5BC,EAAOH,EAAG,IAAIF,EAAGG,CAAM,EAE7B,GAAI,CAACD,EAAG,IAAIA,EAAG,IAAIG,CAAI,EAAGL,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOK,CACT,CAEA,SAASC,GAAaJ,EAAeF,EAAI,CACvC,IAAMO,GAAUL,EAAG,MAAQM,IAAOC,GAC5BC,EAAKR,EAAG,IAAIF,EAAGW,EAAG,EAClBf,EAAIM,EAAG,IAAIQ,EAAIH,CAAM,EACrBK,EAAKV,EAAG,IAAIF,EAAGJ,CAAC,EAChBiB,EAAIX,EAAG,IAAIA,EAAG,IAAIU,EAAID,EAAG,EAAGf,CAAC,EAC7BS,EAAOH,EAAG,IAAIU,EAAIV,EAAG,IAAIW,EAAGX,EAAG,GAAG,CAAC,EACzC,GAAI,CAACA,EAAG,IAAIA,EAAG,IAAIG,CAAI,EAAGL,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOK,CACT,CAgCM,SAAUS,GAAcC,EAAS,CAErC,GAAIA,EAAI,OAAO,CAAC,EAAG,MAAM,IAAI,MAAM,qCAAqC,EAExE,IAAIC,EAAID,EAAIrB,GACRuB,EAAI,EACR,KAAOD,EAAIL,KAAQxB,IACjB6B,GAAKL,GACLM,IAIF,IAAIC,EAAIP,GACFQ,EAAMC,GAAML,CAAC,EACnB,KAAOM,GAAWF,EAAKD,CAAC,IAAM,GAG5B,GAAIA,IAAM,IAAM,MAAM,IAAI,MAAM,+CAA+C,EAGjF,GAAID,IAAM,EAAG,OAAOhB,GAIpB,IAAIqB,EAAKH,EAAI,IAAID,EAAGF,CAAC,EACfO,GAAUP,EAAItB,IAAOiB,GAC3B,OAAO,SAAwBT,EAAeF,EAAI,CAChD,GAAIE,EAAG,IAAIF,CAAC,EAAG,OAAOA,EAEtB,GAAIqB,GAAWnB,EAAIF,CAAC,IAAM,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAGtE,IAAIwB,EAAIP,EACJQ,EAAIvB,EAAG,IAAIA,EAAG,IAAKoB,CAAE,EACrBI,EAAIxB,EAAG,IAAIF,EAAGgB,CAAC,EACfW,EAAIzB,EAAG,IAAIF,EAAGuB,CAAM,EAIxB,KAAO,CAACrB,EAAG,IAAIwB,EAAGxB,EAAG,GAAG,GAAG,CACzB,GAAIA,EAAG,IAAIwB,CAAC,EAAG,OAAOxB,EAAG,KACzB,IAAIW,EAAI,EAGJe,EAAQ1B,EAAG,IAAIwB,CAAC,EACpB,KAAO,CAACxB,EAAG,IAAI0B,EAAO1B,EAAG,GAAG,GAG1B,GAFAW,IACAe,EAAQ1B,EAAG,IAAI0B,CAAK,EAChBf,IAAMW,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAIxD,IAAMK,EAAWnC,IAAO,OAAO8B,EAAIX,EAAI,CAAC,EAClCrB,EAAIU,EAAG,IAAIuB,EAAGI,CAAQ,EAG5BL,EAAIX,EACJY,EAAIvB,EAAG,IAAIV,CAAC,EACZkC,EAAIxB,EAAG,IAAIwB,EAAGD,CAAC,EACfE,EAAIzB,EAAG,IAAIyB,EAAGnC,CAAC,CACjB,CACA,OAAOmC,CACT,CACF,CAYM,SAAUG,GAAOf,EAAS,CAE9B,OAAIA,EAAIX,KAAQ2B,GAAY9B,GAExBc,EAAIN,KAAQD,GAAYF,GAGrBQ,GAAcC,CAAC,CACxB,CAiDA,IAAMiB,GAAe,CACnB,SAAU,UAAW,MAAO,MAAO,MAAO,OAAQ,MAClD,MAAO,MAAO,MAAO,MAAO,MAAO,MACnC,OAAQ,OAAQ,OAAQ,QAEpB,SAAUC,GAAiBC,EAAgB,CAC/C,IAAMC,EAAU,CACd,MAAO,SACP,KAAM,SACN,MAAO,gBACP,KAAM,iBAEFC,EAAOJ,GAAa,OAAO,CAACK,EAAKC,KACrCD,EAAIC,CAAG,EAAI,WACJD,GACNF,CAAO,EACV,OAAOI,GAAeL,EAAOE,CAAI,CACnC,CAQM,SAAUI,GAASC,EAAeC,EAAQC,EAAa,CAC3D,GAAIA,EAAQC,GAAK,MAAM,IAAI,MAAM,yCAAyC,EAC1E,GAAID,IAAUC,GAAK,OAAOH,EAAG,IAC7B,GAAIE,IAAUE,GAAK,OAAOH,EAC1B,IAAII,EAAIL,EAAG,IACPM,EAAIL,EACR,KAAOC,EAAQC,IACTD,EAAQE,KAAKC,EAAIL,EAAG,IAAIK,EAAGC,CAAC,GAChCA,EAAIN,EAAG,IAAIM,CAAC,EACZJ,IAAUE,GAEZ,OAAOC,CACT,CAOM,SAAUE,GAAiBP,EAAeQ,EAAWC,EAAW,GAAK,CACzE,IAAMC,EAAW,IAAI,MAAMF,EAAK,MAAM,EAAE,KAAKC,EAAWT,EAAG,KAAO,MAAS,EAErEW,EAAgBH,EAAK,OAAO,CAACI,EAAKX,EAAKY,IACvCb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAID,EACPZ,EAAG,IAAIY,EAAKX,CAAG,GACrBD,EAAG,GAAG,EAEHc,EAAcd,EAAG,IAAIW,CAAa,EAExC,OAAAH,EAAK,YAAY,CAACI,EAAKX,EAAKY,IACtBb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAIb,EAAG,IAAIY,EAAKF,EAASG,CAAC,CAAC,EAC9Bb,EAAG,IAAIY,EAAKX,CAAG,GACrBa,CAAW,EACPJ,CACT,CAgBM,SAAUK,GAAcC,EAAeC,EAAI,CAG/C,IAAMC,GAAUF,EAAG,MAAQG,IAAOC,GAC5BC,EAAUL,EAAG,IAAIC,EAAGC,CAAM,EAC1BI,EAAMN,EAAG,IAAIK,EAASL,EAAG,GAAG,EAC5BO,EAAOP,EAAG,IAAIK,EAASL,EAAG,IAAI,EAC9BQ,EAAKR,EAAG,IAAIK,EAASL,EAAG,IAAIA,EAAG,GAAG,CAAC,EACzC,GAAI,CAACM,GAAO,CAACC,GAAQ,CAACC,EAAI,MAAM,IAAI,MAAM,gCAAgC,EAC1E,OAAOF,EAAM,EAAIC,EAAO,EAAI,EAC9B,CASM,SAAUE,GACdC,EACAC,EAAmB,CAMfA,IAAe,QAAWC,GAAQD,CAAU,EAChD,IAAME,EAAcF,IAAe,OAAYA,EAAaD,EAAE,SAAS,CAAC,EAAE,OACpEI,EAAc,KAAK,KAAKD,EAAc,CAAC,EAC7C,MAAO,CAAE,WAAYA,EAAa,YAAAC,CAAW,CAC/C,CAkBM,SAAUC,GACdC,EACAC,EACAC,EAAO,GACPC,EAAiC,CAAA,EAAE,CAEnC,GAAIH,GAASI,GAAK,MAAM,IAAI,MAAM,0CAA4CJ,CAAK,EACnF,GAAM,CAAE,WAAYK,EAAM,YAAaC,CAAK,EAAKb,GAAQO,EAAOC,CAAM,EACtE,GAAIK,EAAQ,KAAM,MAAM,IAAI,MAAM,gDAAgD,EAClF,IAAIC,EACEC,EAAuB,OAAO,OAAO,CACzC,MAAAR,EACA,KAAAE,EACA,KAAAG,EACA,MAAAC,EACA,KAAMG,GAAQJ,CAAI,EAClB,KAAMD,GACN,IAAKM,GACL,OAASC,GAAQC,GAAID,EAAKX,CAAK,EAC/B,QAAUW,GAAO,CACf,GAAI,OAAOA,GAAQ,SACjB,MAAM,IAAI,MAAM,+CAAiD,OAAOA,CAAG,EAC7E,OAAOP,IAAOO,GAAOA,EAAMX,CAC7B,EACA,IAAMW,GAAQA,IAAQP,GACtB,MAAQO,IAASA,EAAMD,MAASA,GAChC,IAAMC,GAAQC,GAAI,CAACD,EAAKX,CAAK,EAC7B,IAAK,CAACa,EAAKC,IAAQD,IAAQC,EAE3B,IAAMH,GAAQC,GAAID,EAAMA,EAAKX,CAAK,EAClC,IAAK,CAACa,EAAKC,IAAQF,GAAIC,EAAMC,EAAKd,CAAK,EACvC,IAAK,CAACa,EAAKC,IAAQF,GAAIC,EAAMC,EAAKd,CAAK,EACvC,IAAK,CAACa,EAAKC,IAAQF,GAAIC,EAAMC,EAAKd,CAAK,EACvC,IAAK,CAACW,EAAKI,IAAUC,GAAMR,EAAGG,EAAKI,CAAK,EACxC,IAAK,CAACF,EAAKC,IAAQF,GAAIC,EAAMI,GAAOH,EAAKd,CAAK,EAAGA,CAAK,EAGtD,KAAOW,GAAQA,EAAMA,EACrB,KAAM,CAACE,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAE1B,IAAMH,GAAQM,GAAON,EAAKX,CAAK,EAC/B,KACEG,EAAM,OACJT,IACKa,IAAOA,EAAQW,GAAOlB,CAAK,GACzBO,EAAMC,EAAGd,CAAC,IAErB,QAAUiB,GAAST,EAAOiB,GAAgBR,EAAKL,CAAK,EAAIc,GAAgBT,EAAKL,CAAK,EAClF,UAAYe,GAAS,CACnB,GAAIA,EAAM,SAAWf,EACnB,MAAM,IAAI,MAAM,6BAA+BA,EAAQ,eAAiBe,EAAM,MAAM,EACtF,OAAOnB,EAAOoB,GAAgBD,CAAK,EAAIE,GAAgBF,CAAK,CAC9D,EAEA,YAAcG,GAAQC,GAAcjB,EAAGgB,CAAG,EAG1C,KAAM,CAACE,EAAGC,EAAGC,IAAOA,EAAID,EAAID,EAClB,EACZ,OAAO,OAAO,OAAOlB,CAAC,CACxB,CA0CM,SAAUqB,GAAoBC,EAAkB,CACpD,GAAI,OAAOA,GAAe,SAAU,MAAM,IAAI,MAAM,4BAA4B,EAChF,IAAMC,EAAYD,EAAW,SAAS,CAAC,EAAE,OACzC,OAAO,KAAK,KAAKC,EAAY,CAAC,CAChC,CASM,SAAUC,GAAiBF,EAAkB,CACjD,IAAMG,EAASJ,GAAoBC,CAAU,EAC7C,OAAOG,EAAS,KAAK,KAAKA,EAAS,CAAC,CACtC,CAeM,SAAUC,GAAeC,EAAiBL,EAAoBM,EAAO,GAAK,CAC9E,IAAMC,EAAMF,EAAI,OACVG,EAAWT,GAAoBC,CAAU,EACzCS,EAASP,GAAiBF,CAAU,EAE1C,GAAIO,EAAM,IAAMA,EAAME,GAAUF,EAAM,KACpC,MAAM,IAAI,MAAM,YAAcE,EAAS,6BAA+BF,CAAG,EAC3E,IAAMG,EAAMJ,EAAOK,GAAgBN,CAAG,EAAIO,GAAgBP,CAAG,EAEvDQ,EAAUC,GAAIJ,EAAKV,EAAae,EAAG,EAAIA,GAC7C,OAAOT,EAAOU,GAAgBH,EAASL,CAAQ,EAAIS,GAAgBJ,EAASL,CAAQ,CACtF,CC3gBA,IAAMU,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EAsBpB,SAASC,GAAoCC,EAAoBC,EAAO,CACtE,IAAMC,EAAMD,EAAK,OAAM,EACvB,OAAOD,EAAYE,EAAMD,CAC3B,CAEA,SAASE,GAAUC,EAAWC,EAAY,CACxC,GAAI,CAAC,OAAO,cAAcD,CAAC,GAAKA,GAAK,GAAKA,EAAIC,EAC5C,MAAM,IAAI,MAAM,qCAAuCA,EAAO,YAAcD,CAAC,CACjF,CAWA,SAASE,GAAUF,EAAWG,EAAkB,CAC9CJ,GAAUC,EAAGG,CAAU,EACvB,IAAMC,EAAU,KAAK,KAAKD,EAAaH,CAAC,EAAI,EACtCK,EAAa,IAAML,EAAI,GACvBM,EAAY,GAAKN,EACjBO,EAAOC,GAAQR,CAAC,EAChBS,EAAU,OAAOT,CAAC,EACxB,MAAO,CAAE,QAAAI,EAAS,WAAAC,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,CACxD,CAEA,SAASC,GAAYC,EAAWC,EAAgBC,EAAY,CAC1D,GAAM,CAAE,WAAAR,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,EAAKI,EAC7CC,EAAQ,OAAOH,EAAIJ,CAAI,EACvBQ,EAAQJ,GAAKF,EAQbK,EAAQT,IAEVS,GAASR,EACTS,GAASrB,IAEX,IAAMsB,EAAcJ,EAASP,EACvBY,EAASD,EAAc,KAAK,IAAIF,CAAK,EAAI,EACzCI,EAASJ,IAAU,EACnBK,EAAQL,EAAQ,EAChBM,EAASR,EAAS,IAAM,EAE9B,MAAO,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAD/BJ,CACsC,CACxD,CAEA,SAASK,GAAkBC,EAAeC,EAAM,CAC9C,GAAI,CAAC,MAAM,QAAQD,CAAM,EAAG,MAAM,IAAI,MAAM,gBAAgB,EAC5DA,EAAO,QAAQ,CAACE,EAAGC,IAAK,CACtB,GAAI,EAAED,aAAaD,GAAI,MAAM,IAAI,MAAM,0BAA4BE,CAAC,CACtE,CAAC,CACH,CACA,SAASC,GAAmBC,EAAgBC,EAAU,CACpD,GAAI,CAAC,MAAM,QAAQD,CAAO,EAAG,MAAM,IAAI,MAAM,2BAA2B,EACxEA,EAAQ,QAAQ,CAACE,EAAGJ,IAAK,CACvB,GAAI,CAACG,EAAM,QAAQC,CAAC,EAAG,MAAM,IAAI,MAAM,2BAA6BJ,CAAC,CACvE,CAAC,CACH,CAKA,IAAMK,GAAmB,IAAI,QACvBC,GAAmB,IAAI,QAE7B,SAASC,GAAKC,EAAM,CAClB,OAAOF,GAAiB,IAAIE,CAAC,GAAK,CACpC,CA6BM,SAAUC,GAAyBX,EAAwBtB,EAAY,CAC3E,MAAO,CACL,gBAAAN,GAEA,eAAewC,EAAM,CACnB,OAAOH,GAAKG,CAAG,IAAM,CACvB,EAGA,aAAaA,EAAQxB,EAAWa,EAAID,EAAE,KAAI,CACxC,IAAIa,EAAOD,EACX,KAAOxB,EAAIlB,IACLkB,EAAIjB,KAAK8B,EAAIA,EAAE,IAAIY,CAAC,GACxBA,EAAIA,EAAE,OAAM,EACZzB,IAAMjB,GAER,OAAO8B,CACT,EAcA,iBAAiBW,EAAQnC,EAAS,CAChC,GAAM,CAAE,QAAAI,EAAS,WAAAC,CAAU,EAAKH,GAAUF,EAAGC,CAAI,EAC3CqB,EAAc,CAAA,EAChBE,EAAOW,EACPE,EAAOb,EACX,QAASZ,EAAS,EAAGA,EAASR,EAASQ,IAAU,CAC/CyB,EAAOb,EACPF,EAAO,KAAKe,CAAI,EAEhB,QAASZ,EAAI,EAAGA,EAAIpB,EAAYoB,IAC9BY,EAAOA,EAAK,IAAIb,CAAC,EACjBF,EAAO,KAAKe,CAAI,EAElBb,EAAIa,EAAK,OAAM,CACjB,CACA,OAAOf,CACT,EASA,KAAKtB,EAAWsC,EAAkB3B,EAAS,CAOzC,IAAIa,EAAID,EAAE,KACNgB,EAAIhB,EAAE,KAMJiB,EAAKtC,GAAUF,EAAGC,CAAI,EAC5B,QAASW,EAAS,EAAGA,EAAS4B,EAAG,QAAS5B,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAAAqB,CAAO,EAAK/B,GAAYC,EAAGC,EAAQ4B,CAAE,EACnF7B,EAAII,EACAG,EAGFqB,EAAIA,EAAE,IAAI5C,GAAgByB,EAAQkB,EAAYG,CAAO,CAAC,CAAC,EAGvDjB,EAAIA,EAAE,IAAI7B,GAAgBwB,EAAOmB,EAAYrB,CAAM,CAAC,CAAC,CAEzD,CAIA,MAAO,CAAE,EAAAO,EAAG,EAAAe,CAAC,CACf,EAUA,WAAWvC,EAAWsC,EAAkB3B,EAAW+B,EAASnB,EAAE,KAAI,CAChE,IAAMiB,EAAKtC,GAAUF,EAAGC,CAAI,EAC5B,QAASW,EAAS,EAAGA,EAAS4B,EAAG,SAC3B7B,IAAMlB,GAD8BmB,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,CAAK,EAAKT,GAAYC,EAAGC,EAAQ4B,CAAE,EAElE,GADA7B,EAAII,EACA,CAAAG,EAIG,CACL,IAAMrB,EAAOyC,EAAYrB,CAAM,EAC/ByB,EAAMA,EAAI,IAAIvB,EAAQtB,EAAK,OAAM,EAAKA,CAAI,CAC5C,CACF,CACA,OAAO6C,CACT,EAEA,eAAe1C,EAAWiC,EAAMU,EAAoB,CAElD,IAAIC,EAAOd,GAAiB,IAAIG,CAAC,EACjC,OAAKW,IACHA,EAAO,KAAK,iBAAiBX,EAAGjC,CAAC,EAC7BA,IAAM,GAAG8B,GAAiB,IAAIG,EAAGU,EAAUC,CAAI,CAAC,GAE/CA,CACT,EAEA,WAAWX,EAAMtB,EAAWgC,EAAoB,CAC9C,IAAM3C,EAAIgC,GAAKC,CAAC,EAChB,OAAO,KAAK,KAAKjC,EAAG,KAAK,eAAeA,EAAGiC,EAAGU,CAAS,EAAGhC,CAAC,CAC7D,EAEA,iBAAiBsB,EAAMtB,EAAWgC,EAAsBE,EAAQ,CAC9D,IAAM7C,EAAIgC,GAAKC,CAAC,EAChB,OAAIjC,IAAM,EAAU,KAAK,aAAaiC,EAAGtB,EAAGkC,CAAI,EACzC,KAAK,WAAW7C,EAAG,KAAK,eAAeA,EAAGiC,EAAGU,CAAS,EAAGhC,EAAGkC,CAAI,CACzE,EAMA,cAAcZ,EAAMjC,EAAS,CAC3BD,GAAUC,EAAGC,CAAI,EACjB8B,GAAiB,IAAIE,EAAGjC,CAAC,EACzB8B,GAAiB,OAAOG,CAAC,CAC3B,EAEJ,CAYM,SAAUa,GACdvB,EACAwB,EACAzB,EACAK,EAAiB,CAQjBN,GAAkBC,EAAQC,CAAC,EAC3BG,GAAmBC,EAASoB,CAAM,EAClC,IAAMC,EAAU1B,EAAO,OACjB2B,EAAUtB,EAAQ,OACxB,GAAIqB,IAAYC,EAAS,MAAM,IAAI,MAAM,qDAAqD,EAE9F,IAAMC,EAAO3B,EAAE,KACTT,EAAQqC,GAAO,OAAOH,CAAO,CAAC,EAChC3C,EAAa,EACbS,EAAQ,GAAIT,EAAaS,EAAQ,EAC5BA,EAAQ,EAAGT,EAAaS,EAAQ,EAChCA,EAAQ,IAAGT,EAAa,GACjC,IAAM+C,EAAO5C,GAAQH,CAAU,EACzBgD,EAAU,IAAI,MAAM,OAAOD,CAAI,EAAI,CAAC,EAAE,KAAKF,CAAI,EAC/CI,EAAW,KAAK,OAAOP,EAAO,KAAO,GAAK1C,CAAU,EAAIA,EAC1DkD,EAAML,EACV,QAASzB,EAAI6B,EAAU7B,GAAK,EAAGA,GAAKpB,EAAY,CAC9CgD,EAAQ,KAAKH,CAAI,EACjB,QAASM,EAAI,EAAGA,EAAIP,EAASO,IAAK,CAChC,IAAMC,EAAS9B,EAAQ6B,CAAC,EAClB1C,EAAQ,OAAQ2C,GAAU,OAAOhC,CAAC,EAAK2B,CAAI,EACjDC,EAAQvC,CAAK,EAAIuC,EAAQvC,CAAK,EAAE,IAAIQ,EAAOkC,CAAC,CAAC,CAC/C,CACA,IAAIE,EAAOR,EAEX,QAASM,EAAIH,EAAQ,OAAS,EAAGM,EAAOT,EAAMM,EAAI,EAAGA,IACnDG,EAAOA,EAAK,IAAIN,EAAQG,CAAC,CAAC,EAC1BE,EAAOA,EAAK,IAAIC,CAAI,EAGtB,GADAJ,EAAMA,EAAI,IAAIG,CAAI,EACdjC,IAAM,EAAG,QAAS+B,EAAI,EAAGA,EAAInD,EAAYmD,IAAKD,EAAMA,EAAI,OAAM,CACpE,CACA,OAAOA,CACT,CAmGM,SAAUK,GACdC,EAAyB,CAUzB,OAAAC,GAAcD,EAAM,EAAE,EACtBE,GACEF,EACA,CACE,EAAG,SACH,EAAG,SACH,GAAI,QACJ,GAAI,SAEN,CACE,WAAY,gBACZ,YAAa,gBACd,EAGI,OAAO,OAAOG,EAAAC,IAAA,GAChBC,GAAQL,EAAM,EAAGA,EAAM,UAAU,GACjCA,GAFgB,CAGd,EAAGA,EAAM,GAAG,OACT,CACZ,CCxWA,SAASM,GAAmBC,EAAwB,CAC9CA,EAAK,OAAS,QAAWC,GAAM,OAAQD,EAAK,IAAI,EAChDA,EAAK,UAAY,QAAWC,GAAM,UAAWD,EAAK,OAAO,CAC/D,CAyCA,SAASE,GAAqBC,EAAyB,CACrD,IAAMH,EAAOI,GAAcD,CAAK,EAChCE,GACEL,EACA,CACE,EAAG,QACH,EAAG,SAEL,CACE,mBAAoB,UACpB,yBAA0B,QAC1B,cAAe,WACf,UAAW,WACX,cAAe,WACf,QAAS,WACT,eAAgB,UACjB,EAEH,GAAM,CAAE,KAAAM,EAAM,GAAAC,EAAI,EAAAC,CAAC,EAAKR,EACxB,GAAIM,EAAM,CACR,GAAI,CAACC,EAAG,IAAIC,EAAGD,EAAG,IAAI,EACpB,MAAM,IAAI,MAAM,iCAAiC,EAEnD,GACE,OAAOD,GAAS,UAChB,OAAOA,EAAK,MAAS,UACrB,OAAOA,EAAK,aAAgB,WAE5B,MAAM,IAAI,MAAM,mEAAmE,CAEvF,CACA,OAAO,OAAO,OAAOG,EAAA,GAAKT,EAAe,CAC3C,CAUM,IAAOU,GAAP,cAAsB,KAAK,CAC/B,YAAYC,EAAI,GAAE,CAChB,MAAMA,CAAC,CACT,GA6BWC,GAAY,CAEvB,IAAKF,GAEL,KAAM,CACJ,OAAQ,CAACG,EAAaC,IAAwB,CAC5C,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIC,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,EAAG,MAAM,IAAIC,EAAE,2BAA2B,EAC5D,IAAMC,EAAUF,EAAK,OAAS,EACxBG,EAAMC,GAAoBF,CAAO,EACvC,GAAKC,EAAI,OAAS,EAAK,IAAa,MAAM,IAAIF,EAAE,sCAAsC,EAEtF,IAAMI,EAASH,EAAU,IAAME,GAAqBD,EAAI,OAAS,EAAK,GAAW,EAAI,GAErF,OADUC,GAAoBL,CAAG,EACtBM,EAASF,EAAMH,CAC5B,EAEA,OAAOD,EAAaC,EAAgB,CAClC,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACfQ,EAAM,EACV,GAAIP,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,GAAKA,EAAKM,GAAK,IAAMP,EAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC/E,IAAMM,EAAQP,EAAKM,GAAK,EAClBE,EAAS,CAAC,EAAED,EAAQ,KACtBE,EAAS,EACb,GAAI,CAACD,EAAQC,EAASF,MACjB,CAEH,IAAMF,EAASE,EAAQ,IACvB,GAAI,CAACF,EAAQ,MAAM,IAAIJ,EAAE,mDAAmD,EAC5E,GAAII,EAAS,EAAG,MAAM,IAAIJ,EAAE,0CAA0C,EACtE,IAAMS,EAAcV,EAAK,SAASM,EAAKA,EAAMD,CAAM,EACnD,GAAIK,EAAY,SAAWL,EAAQ,MAAM,IAAIJ,EAAE,uCAAuC,EACtF,GAAIS,EAAY,CAAC,IAAM,EAAG,MAAM,IAAIT,EAAE,sCAAsC,EAC5E,QAAWU,KAAKD,EAAaD,EAAUA,GAAU,EAAKE,EAEtD,GADAL,GAAOD,EACHI,EAAS,IAAK,MAAM,IAAIR,EAAE,wCAAwC,CACxE,CACA,IAAMW,EAAIZ,EAAK,SAASM,EAAKA,EAAMG,CAAM,EACzC,GAAIG,EAAE,SAAWH,EAAQ,MAAM,IAAIR,EAAE,gCAAgC,EACrE,MAAO,CAAE,EAAAW,EAAG,EAAGZ,EAAK,SAASM,EAAMG,CAAM,CAAC,CAC5C,GAMF,KAAM,CACJ,OAAOI,EAAW,CAChB,GAAM,CAAE,IAAKZ,CAAC,EAAKH,GACnB,GAAIe,EAAMC,GAAK,MAAM,IAAIb,EAAE,4CAA4C,EACvE,IAAIc,EAAMX,GAAoBS,CAAG,EAGjC,GADI,OAAO,SAASE,EAAI,CAAC,EAAG,EAAE,EAAI,IAAQA,EAAM,KAAOA,GACnDA,EAAI,OAAS,EAAG,MAAM,IAAId,EAAE,gDAAgD,EAChF,OAAOc,CACT,EACA,OAAOf,EAAgB,CACrB,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIE,EAAK,CAAC,EAAI,IAAa,MAAM,IAAIC,EAAE,qCAAqC,EAC5E,GAAID,EAAK,CAAC,IAAM,GAAQ,EAAEA,EAAK,CAAC,EAAI,KAClC,MAAM,IAAIC,EAAE,qDAAqD,EACnE,OAAOe,GAAgBhB,CAAI,CAC7B,GAEF,MAAMe,EAAwB,CAE5B,GAAM,CAAE,IAAKd,EAAG,KAAMgB,EAAK,KAAMC,CAAG,EAAKpB,GACnCE,EAAOmB,GAAY,YAAaJ,CAAG,EACnC,CAAE,EAAGK,EAAU,EAAGC,CAAY,EAAKH,EAAI,OAAO,GAAMlB,CAAI,EAC9D,GAAIqB,EAAa,OAAQ,MAAM,IAAIpB,EAAE,6CAA6C,EAClF,GAAM,CAAE,EAAGqB,EAAQ,EAAGC,CAAU,EAAKL,EAAI,OAAO,EAAME,CAAQ,EACxD,CAAE,EAAGI,EAAQC,CAAa,EAAKP,EAAI,OAAO,EAAMK,CAAU,EAChE,GAAIE,EAAW,OAAQ,MAAM,IAAIxB,EAAE,6CAA6C,EAChF,MAAO,CAAE,EAAGgB,EAAI,OAAOK,CAAM,EAAG,EAAGL,EAAI,OAAOO,CAAM,CAAC,CACvD,EACA,WAAWE,EAA6B,CACtC,GAAM,CAAE,KAAMR,EAAK,KAAMD,CAAG,EAAKnB,GAC3B6B,EAAKT,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCE,EAAKV,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCG,EAAMF,EAAKC,EACjB,OAAOV,EAAI,OAAO,GAAMW,CAAG,CAC7B,GAGF,SAASC,GAAcjB,EAAakB,EAAY,CAC9C,OAAOC,GAAWC,GAAgBpB,EAAKkB,CAAI,CAAC,CAC9C,CAIA,IAAMjB,GAAM,OAAO,CAAC,EAAGoB,GAAM,OAAO,CAAC,EAAGC,IAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAElF,SAAUC,GAAqBpD,EAAwB,CAC3D,IAAMqD,EAAQnD,GAAkBF,CAAI,EAC9B,CAAE,GAAAO,CAAE,EAAK8C,EACTC,EAAKC,GAAMF,EAAM,EAAGA,EAAM,UAAU,EAEpCG,EACJH,EAAM,UACL,CAACI,EAAwBC,EAAyBC,IAA0B,CAC3E,IAAMnD,EAAIkD,EAAM,SAAQ,EACxB,OAAOE,GAAY,WAAW,KAAK,CAAC,CAAI,CAAC,EAAGrD,EAAG,QAAQC,EAAE,CAAC,EAAGD,EAAG,QAAQC,EAAE,CAAC,CAAC,CAC9E,GACIqD,EACJR,EAAM,YACJS,GAAqB,CAErB,IAAMC,EAAOD,EAAM,SAAS,CAAC,EAEvBE,EAAIzD,EAAG,UAAUwD,EAAK,SAAS,EAAGxD,EAAG,KAAK,CAAC,EAC3C0D,EAAI1D,EAAG,UAAUwD,EAAK,SAASxD,EAAG,MAAO,EAAIA,EAAG,KAAK,CAAC,EAC5D,MAAO,CAAE,EAAAyD,EAAG,EAAAC,CAAC,CACf,GAMF,SAASC,EAAoBF,EAAI,CAC/B,GAAM,CAAE,EAAAxD,EAAG,EAAAiB,CAAC,EAAK4B,EACXc,EAAK5D,EAAG,IAAIyD,CAAC,EACbI,EAAK7D,EAAG,IAAI4D,EAAIH,CAAC,EACvB,OAAOzD,EAAG,IAAIA,EAAG,IAAI6D,EAAI7D,EAAG,IAAIyD,EAAGxD,CAAC,CAAC,EAAGiB,CAAC,CAC3C,CAEA,SAAS4C,EAAUL,EAAMC,EAAI,CAC3B,IAAMK,EAAO/D,EAAG,IAAI0D,CAAC,EACfM,EAAQL,EAAoBF,CAAC,EACnC,OAAOzD,EAAG,IAAI+D,EAAMC,CAAK,CAC3B,CAIA,GAAI,CAACF,EAAUhB,EAAM,GAAIA,EAAM,EAAE,EAAG,MAAM,IAAI,MAAM,mCAAmC,EAIvF,IAAMmB,EAAOjE,EAAG,IAAIA,EAAG,IAAI8C,EAAM,EAAGH,EAAG,EAAGC,EAAG,EACvCsB,EAAQlE,EAAG,IAAIA,EAAG,IAAI8C,EAAM,CAAC,EAAG,OAAO,EAAE,CAAC,EAChD,GAAI9C,EAAG,IAAIA,EAAG,IAAIiE,EAAMC,CAAK,CAAC,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAG3E,SAASC,EAAmB/C,EAAW,CACrC,OAAOgD,GAAQhD,EAAKqB,GAAKK,EAAM,CAAC,CAClC,CAGA,SAASuB,EAAuBC,EAAY,CAC1C,GAAM,CAAE,yBAA0BC,EAAS,YAAAC,EAAa,eAAAC,EAAgB,EAAGC,CAAC,EAAK5B,EACjF,GAAIyB,GAAW,OAAOD,GAAQ,SAAU,CAGtC,GAFIK,GAAQL,CAAG,IAAGA,EAAM/B,GAAW+B,CAAG,GAElC,OAAOA,GAAQ,UAAY,CAACC,EAAQ,SAASD,EAAI,MAAM,EACzD,MAAM,IAAI,MAAM,qBAAqB,EACvCA,EAAMA,EAAI,SAASE,EAAc,EAAG,GAAG,CACzC,CACA,IAAIpD,EACJ,GAAI,CACFA,EACE,OAAOkD,GAAQ,SACXA,EACA/C,GAAgBG,GAAY,cAAe4C,EAAKE,CAAW,CAAC,CACpE,OAASI,EAAO,CACd,MAAM,IAAI,MACR,wCAA0CJ,EAAc,eAAiB,OAAOF,CAAG,CAEvF,CACA,OAAIG,IAAgBrD,EAAMyD,GAAIzD,EAAKsD,CAAC,GACpCI,GAAS,cAAe1D,EAAKqB,GAAKiC,CAAC,EAC5BtD,CACT,CAEA,SAAS2D,EAAUC,EAAc,CAC/B,GAAI,EAAEA,aAAiBC,GAAQ,MAAM,IAAI,MAAM,0BAA0B,CAC3E,CAOA,IAAMC,EAAeC,GAAS,CAACC,EAAUC,IAA0B,CACjE,GAAM,CAAE,GAAI5B,EAAG,GAAIC,EAAG,GAAI4B,CAAC,EAAKF,EAEhC,GAAIpF,EAAG,IAAIsF,EAAGtF,EAAG,GAAG,EAAG,MAAO,CAAE,EAAAyD,EAAG,EAAAC,CAAC,EACpC,IAAM6B,EAAMH,EAAE,IAAG,EAGbC,GAAM,OAAMA,EAAKE,EAAMvF,EAAG,IAAMA,EAAG,IAAIsF,CAAC,GAC5C,IAAME,EAAKxF,EAAG,IAAIyD,EAAG4B,CAAE,EACjBI,EAAKzF,EAAG,IAAI0D,EAAG2B,CAAE,EACjBK,EAAK1F,EAAG,IAAIsF,EAAGD,CAAE,EACvB,GAAIE,EAAK,MAAO,CAAE,EAAGvF,EAAG,KAAM,EAAGA,EAAG,IAAI,EACxC,GAAI,CAACA,EAAG,IAAI0F,EAAI1F,EAAG,GAAG,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3D,MAAO,CAAE,EAAGwF,EAAI,EAAGC,CAAE,CACvB,CAAC,EAGKE,EAAkBR,GAAUC,GAAY,CAC5C,GAAIA,EAAE,IAAG,EAAI,CAIX,GAAItC,EAAM,oBAAsB,CAAC9C,EAAG,IAAIoF,EAAE,EAAE,EAAG,OAC/C,MAAM,IAAI,MAAM,iBAAiB,CACnC,CAEA,GAAM,CAAE,EAAA3B,EAAG,EAAAC,CAAC,EAAK0B,EAAE,SAAQ,EAE3B,GAAI,CAACpF,EAAG,QAAQyD,CAAC,GAAK,CAACzD,EAAG,QAAQ0D,CAAC,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAChF,GAAI,CAACI,EAAUL,EAAGC,CAAC,EAAG,MAAM,IAAI,MAAM,mCAAmC,EACzE,GAAI,CAAC0B,EAAE,cAAa,EAAI,MAAM,IAAI,MAAM,wCAAwC,EAChF,MAAO,EACT,CAAC,EAOD,MAAMH,CAAK,CAST,YAAYW,EAAOC,EAAOC,EAAK,CAC7B,GAAIF,GAAM,MAAQ,CAAC5F,EAAG,QAAQ4F,CAAE,EAAG,MAAM,IAAI,MAAM,YAAY,EAC/D,GAAIC,GAAM,MAAQ,CAAC7F,EAAG,QAAQ6F,CAAE,GAAK7F,EAAG,IAAI6F,CAAE,EAAG,MAAM,IAAI,MAAM,YAAY,EAC7E,GAAIC,GAAM,MAAQ,CAAC9F,EAAG,QAAQ8F,CAAE,EAAG,MAAM,IAAI,MAAM,YAAY,EAC/D,KAAK,GAAKF,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,EACV,OAAO,OAAO,IAAI,CACpB,CAIA,OAAO,WAAWV,EAAiB,CACjC,GAAM,CAAE,EAAA3B,EAAG,EAAAC,CAAC,EAAK0B,GAAK,CAAA,EACtB,GAAI,CAACA,GAAK,CAACpF,EAAG,QAAQyD,CAAC,GAAK,CAACzD,EAAG,QAAQ0D,CAAC,EAAG,MAAM,IAAI,MAAM,sBAAsB,EAClF,GAAI0B,aAAaH,EAAO,MAAM,IAAI,MAAM,8BAA8B,EACtE,IAAMM,EAAOQ,GAAS/F,EAAG,IAAI+F,EAAG/F,EAAG,IAAI,EAEvC,OAAIuF,EAAI9B,CAAC,GAAK8B,EAAI7B,CAAC,EAAUuB,EAAM,KAC5B,IAAIA,EAAMxB,EAAGC,EAAG1D,EAAG,GAAG,CAC/B,CAEA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CACA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CAQA,OAAO,WAAWgG,EAAe,CAC/B,IAAMC,EAAQC,GACZlG,EACAgG,EAAO,IAAKZ,GAAMA,EAAE,EAAE,CAAC,EAEzB,OAAOY,EAAO,IAAI,CAACZ,EAAGW,IAAMX,EAAE,SAASa,EAAMF,CAAC,CAAC,CAAC,EAAE,IAAId,EAAM,UAAU,CACxE,CAMA,OAAO,QAAQ3D,EAAQ,CACrB,IAAM6E,EAAIlB,EAAM,WAAW3B,EAAU5B,GAAY,WAAYJ,CAAG,CAAC,CAAC,EAClE,OAAA6E,EAAE,eAAc,EACTA,CACT,CAGA,OAAO,eAAeC,EAAmB,CACvC,OAAOnB,EAAM,KAAK,SAASZ,EAAuB+B,CAAU,CAAC,CAC/D,CAGA,OAAO,IAAIJ,EAAiBK,EAAiB,CAC3C,OAAOC,GAAUrB,EAAOlC,EAAIiD,EAAQK,CAAO,CAC7C,CAGA,eAAeE,EAAkB,CAC/BC,EAAK,cAAc,KAAMD,CAAU,CACrC,CAGA,gBAAc,CACZZ,EAAgB,IAAI,CACtB,CAEA,UAAQ,CACN,GAAM,CAAE,EAAAjC,CAAC,EAAK,KAAK,SAAQ,EAC3B,GAAI1D,EAAG,MAAO,MAAO,CAACA,EAAG,MAAM0D,CAAC,EAChC,MAAM,IAAI,MAAM,6BAA6B,CAC/C,CAKA,OAAOsB,EAAY,CACjBD,EAAUC,CAAK,EACf,GAAM,CAAE,GAAIyB,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK9B,EAC7B+B,EAAK/G,EAAG,IAAIA,EAAG,IAAIyG,EAAIK,CAAE,EAAG9G,EAAG,IAAI4G,EAAID,CAAE,CAAC,EAC1CK,EAAKhH,EAAG,IAAIA,EAAG,IAAI0G,EAAII,CAAE,EAAG9G,EAAG,IAAI6G,EAAIF,CAAE,CAAC,EAChD,OAAOI,GAAMC,CACf,CAKA,QAAM,CACJ,OAAO,IAAI/B,EAAM,KAAK,GAAIjF,EAAG,IAAI,KAAK,EAAE,EAAG,KAAK,EAAE,CACpD,CAMA,QAAM,CACJ,GAAM,CAAE,EAAAC,EAAG,EAAAiB,CAAC,EAAK4B,EACXmE,EAAKjH,EAAG,IAAIkB,EAAGyB,EAAG,EAClB,CAAE,GAAI8D,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC/BO,EAAKlH,EAAG,KAAMmH,EAAKnH,EAAG,KAAMoH,EAAKpH,EAAG,KACpCqH,EAAKrH,EAAG,IAAIyG,EAAIA,CAAE,EAClBa,EAAKtH,EAAG,IAAI0G,EAAIA,CAAE,EAClBa,EAAKvH,EAAG,IAAI2G,EAAIA,CAAE,EAClBa,EAAKxH,EAAG,IAAIyG,EAAIC,CAAE,EACtB,OAAAc,EAAKxH,EAAG,IAAIwH,EAAIA,CAAE,EAClBJ,EAAKpH,EAAG,IAAIyG,EAAIE,CAAE,EAClBS,EAAKpH,EAAG,IAAIoH,EAAIA,CAAE,EAClBF,EAAKlH,EAAG,IAAIC,EAAGmH,CAAE,EACjBD,EAAKnH,EAAG,IAAIiH,EAAIM,CAAE,EAClBJ,EAAKnH,EAAG,IAAIkH,EAAIC,CAAE,EAClBD,EAAKlH,EAAG,IAAIsH,EAAIH,CAAE,EAClBA,EAAKnH,EAAG,IAAIsH,EAAIH,CAAE,EAClBA,EAAKnH,EAAG,IAAIkH,EAAIC,CAAE,EAClBD,EAAKlH,EAAG,IAAIwH,EAAIN,CAAE,EAClBE,EAAKpH,EAAG,IAAIiH,EAAIG,CAAE,EAClBG,EAAKvH,EAAG,IAAIC,EAAGsH,CAAE,EACjBC,EAAKxH,EAAG,IAAIqH,EAAIE,CAAE,EAClBC,EAAKxH,EAAG,IAAIC,EAAGuH,CAAE,EACjBA,EAAKxH,EAAG,IAAIwH,EAAIJ,CAAE,EAClBA,EAAKpH,EAAG,IAAIqH,EAAIA,CAAE,EAClBA,EAAKrH,EAAG,IAAIoH,EAAIC,CAAE,EAClBA,EAAKrH,EAAG,IAAIqH,EAAIE,CAAE,EAClBF,EAAKrH,EAAG,IAAIqH,EAAIG,CAAE,EAClBL,EAAKnH,EAAG,IAAImH,EAAIE,CAAE,EAClBE,EAAKvH,EAAG,IAAI0G,EAAIC,CAAE,EAClBY,EAAKvH,EAAG,IAAIuH,EAAIA,CAAE,EAClBF,EAAKrH,EAAG,IAAIuH,EAAIC,CAAE,EAClBN,EAAKlH,EAAG,IAAIkH,EAAIG,CAAE,EAClBD,EAAKpH,EAAG,IAAIuH,EAAID,CAAE,EAClBF,EAAKpH,EAAG,IAAIoH,EAAIA,CAAE,EAClBA,EAAKpH,EAAG,IAAIoH,EAAIA,CAAE,EACX,IAAInC,EAAMiC,EAAIC,EAAIC,CAAE,CAC7B,CAMA,IAAIpC,EAAY,CACdD,EAAUC,CAAK,EACf,GAAM,CAAE,GAAIyB,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK9B,EAC/BkC,EAAKlH,EAAG,KAAMmH,EAAKnH,EAAG,KAAMoH,EAAKpH,EAAG,KAClCC,EAAI6C,EAAM,EACVmE,EAAKjH,EAAG,IAAI8C,EAAM,EAAGH,EAAG,EAC1B0E,EAAKrH,EAAG,IAAIyG,EAAIG,CAAE,EAClBU,EAAKtH,EAAG,IAAI0G,EAAIG,CAAE,EAClBU,EAAKvH,EAAG,IAAI2G,EAAIG,CAAE,EAClBU,EAAKxH,EAAG,IAAIyG,EAAIC,CAAE,EAClBe,EAAKzH,EAAG,IAAI4G,EAAIC,CAAE,EACtBW,EAAKxH,EAAG,IAAIwH,EAAIC,CAAE,EAClBA,EAAKzH,EAAG,IAAIqH,EAAIC,CAAE,EAClBE,EAAKxH,EAAG,IAAIwH,EAAIC,CAAE,EAClBA,EAAKzH,EAAG,IAAIyG,EAAIE,CAAE,EAClB,IAAIe,EAAK1H,EAAG,IAAI4G,EAAIE,CAAE,EACtB,OAAAW,EAAKzH,EAAG,IAAIyH,EAAIC,CAAE,EAClBA,EAAK1H,EAAG,IAAIqH,EAAIE,CAAE,EAClBE,EAAKzH,EAAG,IAAIyH,EAAIC,CAAE,EAClBA,EAAK1H,EAAG,IAAI0G,EAAIC,CAAE,EAClBO,EAAKlH,EAAG,IAAI6G,EAAIC,CAAE,EAClBY,EAAK1H,EAAG,IAAI0H,EAAIR,CAAE,EAClBA,EAAKlH,EAAG,IAAIsH,EAAIC,CAAE,EAClBG,EAAK1H,EAAG,IAAI0H,EAAIR,CAAE,EAClBE,EAAKpH,EAAG,IAAIC,EAAGwH,CAAE,EACjBP,EAAKlH,EAAG,IAAIiH,EAAIM,CAAE,EAClBH,EAAKpH,EAAG,IAAIkH,EAAIE,CAAE,EAClBF,EAAKlH,EAAG,IAAIsH,EAAIF,CAAE,EAClBA,EAAKpH,EAAG,IAAIsH,EAAIF,CAAE,EAClBD,EAAKnH,EAAG,IAAIkH,EAAIE,CAAE,EAClBE,EAAKtH,EAAG,IAAIqH,EAAIA,CAAE,EAClBC,EAAKtH,EAAG,IAAIsH,EAAID,CAAE,EAClBE,EAAKvH,EAAG,IAAIC,EAAGsH,CAAE,EACjBE,EAAKzH,EAAG,IAAIiH,EAAIQ,CAAE,EAClBH,EAAKtH,EAAG,IAAIsH,EAAIC,CAAE,EAClBA,EAAKvH,EAAG,IAAIqH,EAAIE,CAAE,EAClBA,EAAKvH,EAAG,IAAIC,EAAGsH,CAAE,EACjBE,EAAKzH,EAAG,IAAIyH,EAAIF,CAAE,EAClBF,EAAKrH,EAAG,IAAIsH,EAAIG,CAAE,EAClBN,EAAKnH,EAAG,IAAImH,EAAIE,CAAE,EAClBA,EAAKrH,EAAG,IAAI0H,EAAID,CAAE,EAClBP,EAAKlH,EAAG,IAAIwH,EAAIN,CAAE,EAClBA,EAAKlH,EAAG,IAAIkH,EAAIG,CAAE,EAClBA,EAAKrH,EAAG,IAAIwH,EAAIF,CAAE,EAClBF,EAAKpH,EAAG,IAAI0H,EAAIN,CAAE,EAClBA,EAAKpH,EAAG,IAAIoH,EAAIC,CAAE,EACX,IAAIpC,EAAMiC,EAAIC,EAAIC,CAAE,CAC7B,CAEA,SAASpC,EAAY,CACnB,OAAO,KAAK,IAAIA,EAAM,OAAM,CAAE,CAChC,CAEA,KAAG,CACD,OAAO,KAAK,OAAOC,EAAM,IAAI,CAC/B,CAEQ,KAAK0C,EAAS,CACpB,OAAOnB,EAAK,WAAW,KAAMmB,EAAG1C,EAAM,UAAU,CAClD,CAOA,eAAe2C,EAAU,CACvB,GAAM,CAAE,KAAA7H,EAAM,EAAG2E,CAAC,EAAK5B,EACvBgC,GAAS,SAAU8C,EAAIvG,GAAKqD,CAAC,EAC7B,IAAMmD,EAAI5C,EAAM,KAChB,GAAI2C,IAAOvG,GAAK,OAAOwG,EACvB,GAAI,KAAK,IAAG,GAAMD,IAAOnF,GAAK,OAAO,KAGrC,GAAI,CAAC1C,GAAQyG,EAAK,eAAe,IAAI,EACnC,OAAOA,EAAK,iBAAiB,KAAMoB,EAAI3C,EAAM,UAAU,EAIzD,GAAI,CAAE,MAAA6C,EAAO,GAAAC,EAAI,MAAAC,EAAO,GAAAC,CAAE,EAAKlI,EAAK,YAAY6H,CAAE,EAC9CM,EAAML,EACNM,EAAMN,EACNO,EAAW,KACf,KAAOL,EAAK1G,IAAO4G,EAAK5G,IAClB0G,EAAKtF,KAAKyF,EAAMA,EAAI,IAAIE,CAAC,GACzBH,EAAKxF,KAAK0F,EAAMA,EAAI,IAAIC,CAAC,GAC7BA,EAAIA,EAAE,OAAM,EACZL,IAAOtF,GACPwF,IAAOxF,GAET,OAAIqF,IAAOI,EAAMA,EAAI,OAAM,GACvBF,IAAOG,EAAMA,EAAI,OAAM,GAC3BA,EAAM,IAAIlD,EAAMjF,EAAG,IAAImI,EAAI,GAAIpI,EAAK,IAAI,EAAGoI,EAAI,GAAIA,EAAI,EAAE,EAClDD,EAAI,IAAIC,CAAG,CACpB,CAWA,SAASE,EAAc,CACrB,GAAM,CAAE,KAAAtI,EAAM,EAAG2E,CAAC,EAAK5B,EACvBgC,GAAS,SAAUuD,EAAQ5F,GAAKiC,CAAC,EACjC,IAAIvB,EAAcmF,EAElB,GAAIvI,EAAM,CACR,GAAM,CAAE,MAAA+H,EAAO,GAAAC,EAAI,MAAAC,EAAO,GAAAC,CAAE,EAAKlI,EAAK,YAAYsI,CAAM,EACpD,CAAE,EAAGH,EAAK,EAAGK,CAAG,EAAK,KAAK,KAAKR,CAAE,EACjC,CAAE,EAAGI,EAAK,EAAGK,CAAG,EAAK,KAAK,KAAKP,CAAE,EACrCC,EAAM1B,EAAK,gBAAgBsB,EAAOI,CAAG,EACrCC,EAAM3B,EAAK,gBAAgBwB,EAAOG,CAAG,EACrCA,EAAM,IAAIlD,EAAMjF,EAAG,IAAImI,EAAI,GAAIpI,EAAK,IAAI,EAAGoI,EAAI,GAAIA,EAAI,EAAE,EACzDhF,EAAQ+E,EAAI,IAAIC,CAAG,EACnBG,EAAOC,EAAI,IAAIC,CAAG,CACpB,KAAO,CACL,GAAM,CAAE,EAAApD,EAAG,EAAAqD,CAAC,EAAK,KAAK,KAAKJ,CAAM,EACjClF,EAAQiC,EACRkD,EAAOG,CACT,CAEA,OAAOxD,EAAM,WAAW,CAAC9B,EAAOmF,CAAI,CAAC,EAAE,CAAC,CAC1C,CAQA,qBAAqBI,EAAUzI,EAAWiB,EAAS,CACjD,IAAMyH,EAAI1D,EAAM,KACV2D,EAAM,CACVzC,EACAlG,IACIA,IAAMoB,IAAOpB,IAAMwC,IAAO,CAAC0D,EAAE,OAAOwC,CAAC,EAAIxC,EAAE,eAAelG,CAAC,EAAIkG,EAAE,SAASlG,CAAC,EAC3E4I,EAAMD,EAAI,KAAM3I,CAAC,EAAE,IAAI2I,EAAIF,EAAGxH,CAAC,CAAC,EACtC,OAAO2H,EAAI,IAAG,EAAK,OAAYA,CACjC,CAKA,SAASxD,EAAM,CACb,OAAOH,EAAa,KAAMG,CAAE,CAC9B,CACA,eAAa,CACX,GAAM,CAAE,EAAGyD,EAAU,cAAAC,CAAa,EAAKjG,EACvC,GAAIgG,IAAarG,GAAK,MAAO,GAC7B,GAAIsG,EAAe,OAAOA,EAAc9D,EAAO,IAAI,EACnD,MAAM,IAAI,MAAM,8DAA8D,CAChF,CACA,eAAa,CACX,GAAM,CAAE,EAAG6D,EAAU,cAAAE,CAAa,EAAKlG,EACvC,OAAIgG,IAAarG,GAAY,KACzBuG,EAAsBA,EAAc/D,EAAO,IAAI,EAC5C,KAAK,eAAenC,EAAM,CAAC,CACpC,CAEA,WAAWmG,EAAe,GAAI,CAC5B,OAAAvJ,GAAM,eAAgBuJ,CAAY,EAClC,KAAK,eAAc,EACZhG,EAAQgC,EAAO,KAAMgE,CAAY,CAC1C,CAEA,MAAMA,EAAe,GAAI,CACvB,OAAAvJ,GAAM,eAAgBuJ,CAAY,EAC3B1G,GAAW,KAAK,WAAW0G,CAAY,CAAC,CACjD,EArUgBhE,EAAA,KAAO,IAAIA,EAAMnC,EAAM,GAAIA,EAAM,GAAI9C,EAAG,GAAG,EAE3CiF,EAAA,KAAO,IAAIA,EAAMjF,EAAG,KAAMA,EAAG,IAAKA,EAAG,IAAI,EAqU3D,GAAM,CAAE,KAAAD,EAAM,WAAAmJ,CAAU,EAAKpG,EACvB0D,EAAO2C,GAAKlE,EAAOlF,EAAO,KAAK,KAAKmJ,EAAa,CAAC,EAAIA,CAAU,EACtE,MAAO,CACL,MAAApG,EACA,gBAAiBmC,EACjB,uBAAAZ,EACA,oBAAAV,EACA,mBAAAQ,EAEJ,CAuCA,SAASiF,GACPxJ,EAAgB,CAEhB,IAAMH,EAAOI,GAAcD,CAAK,EAChC,OAAAE,GACEL,EACA,CACE,KAAM,OACN,KAAM,WACN,YAAa,YAEf,CACE,SAAU,WACV,cAAe,WACf,KAAM,UACP,EAEI,OAAO,OAAOS,EAAA,CAAE,KAAM,IAAST,EAAe,CACvD,CAyBM,SAAU4J,GAAYC,EAAmB,CAC7C,IAAMxG,EAAQsG,GAAaE,CAAQ,EAC7B,CAAE,GAAAtJ,EAAI,EAAGuJ,EAAa,YAAA/E,EAAa,WAAA0E,CAAU,EAAKpG,EAClD0G,EAAgBxJ,EAAG,MAAQ,EAC3ByJ,EAAkB,EAAIzJ,EAAG,MAAQ,EAEvC,SAAS0J,EAAKzJ,EAAS,CACrB,OAAO4E,GAAI5E,EAAGsJ,CAAW,CAC3B,CACA,SAASI,EAAK1J,EAAS,CACrB,OAAO2J,GAAO3J,EAAGsJ,CAAW,CAC9B,CAEA,GAAM,CACJ,gBAAiBtE,EACjB,uBAAAZ,EACA,oBAAAV,EACA,mBAAAQ,CAAkB,EAChBtB,GAAkBgH,EAAA3J,EAAA,GACjB4C,GADiB,CAEpB,QAAQI,EAAIC,EAAO8F,EAAqB,CACtC,IAAMhJ,EAAIkD,EAAM,SAAQ,EAClBM,EAAIzD,EAAG,QAAQC,EAAE,CAAC,EAClB6J,EAAMzG,GAEZ,OADA3D,GAAM,eAAgBuJ,CAAY,EAC9BA,EACKa,EAAI,WAAW,KAAK,CAAC3G,EAAM,SAAQ,EAAK,EAAO,CAAI,CAAC,EAAGM,CAAC,EAExDqG,EAAI,WAAW,KAAK,CAAC,CAAI,CAAC,EAAGrG,EAAGzD,EAAG,QAAQC,EAAE,CAAC,CAAC,CAE1D,EACA,UAAUsD,EAAiB,CACzB,IAAM7C,EAAM6C,EAAM,OACZwG,EAAOxG,EAAM,CAAC,EACdC,EAAOD,EAAM,SAAS,CAAC,EAE7B,GAAI7C,IAAQ8I,IAAkBO,IAAS,GAAQA,IAAS,GAAO,CAC7D,IAAMtG,EAAIlC,GAAgBiC,CAAI,EAC9B,GAAI,CAACY,GAAQX,EAAGhB,GAAKzC,EAAG,KAAK,EAAG,MAAM,IAAI,MAAM,uBAAuB,EACvE,IAAMgK,EAAKrG,EAAoBF,CAAC,EAC5BC,EACJ,GAAI,CACFA,EAAI1D,EAAG,KAAKgK,CAAE,CAChB,OAASC,EAAW,CAClB,IAAMC,EAASD,aAAqB,MAAQ,KAAOA,EAAU,QAAU,GACvE,MAAM,IAAI,MAAM,wBAA0BC,CAAM,CAClD,CACA,IAAMC,GAAUzG,EAAIjB,MAASA,GAG7B,OADmBsH,EAAO,KAAO,IACfI,IAAQzG,EAAI1D,EAAG,IAAI0D,CAAC,GAC/B,CAAE,EAAAD,EAAG,EAAAC,CAAC,CACf,SAAWhD,IAAQ+I,GAAmBM,IAAS,EAAM,CACnD,IAAMtG,EAAIzD,EAAG,UAAUwD,EAAK,SAAS,EAAGxD,EAAG,KAAK,CAAC,EAC3C0D,EAAI1D,EAAG,UAAUwD,EAAK,SAASxD,EAAG,MAAO,EAAIA,EAAG,KAAK,CAAC,EAC5D,MAAO,CAAE,EAAAyD,EAAG,EAAAC,CAAC,CACf,KAAO,CACL,IAAM0G,EAAKZ,EACLa,EAAKZ,EACX,MAAM,IAAI,MACR,qCAAuCW,EAAK,qBAAuBC,EAAK,SAAW3J,CAAG,CAE1F,CACF,GACD,EAED,SAAS4J,EAAsBC,EAAc,CAC3C,IAAMC,EAAOjB,GAAe9G,GAC5B,OAAO8H,EAASC,CAClB,CAEA,SAASC,EAAWC,EAAS,CAC3B,OAAOJ,EAAsBI,CAAC,EAAIhB,EAAK,CAACgB,CAAC,EAAIA,CAC/C,CAEA,IAAMC,EAAS,CAACzJ,EAAe0J,EAAcC,IAAetJ,GAAgBL,EAAE,MAAM0J,EAAMC,CAAE,CAAC,EAK7F,MAAMC,CAAS,CAIb,YAAYC,EAAWL,EAAWM,EAAiB,CACjDlG,GAAS,IAAKiG,EAAGtI,GAAK8G,CAAW,EACjCzE,GAAS,IAAK4F,EAAGjI,GAAK8G,CAAW,EACjC,KAAK,EAAIwB,EACT,KAAK,EAAIL,EACLM,GAAY,OAAM,KAAK,SAAWA,GACtC,OAAO,OAAO,IAAI,CACpB,CAGA,OAAO,YAAY1J,EAAQ,CACzB,IAAM2J,EAAIzG,EACV,OAAAlD,EAAMI,GAAY,mBAAoBJ,EAAK2J,EAAI,CAAC,EACzC,IAAIH,EAAUH,EAAOrJ,EAAK,EAAG2J,CAAC,EAAGN,EAAOrJ,EAAK2J,EAAG,EAAIA,CAAC,CAAC,CAC/D,CAIA,OAAO,QAAQ3J,EAAQ,CACrB,GAAM,CAAE,EAAAyJ,EAAG,EAAAL,CAAC,EAAKrK,GAAI,MAAMqB,GAAY,MAAOJ,CAAG,CAAC,EAClD,OAAO,IAAIwJ,EAAUC,EAAGL,CAAC,CAC3B,CAMA,gBAAc,CAAU,CAExB,eAAeM,EAAgB,CAC7B,OAAO,IAAIF,EAAU,KAAK,EAAG,KAAK,EAAGE,CAAQ,CAC/C,CAEA,iBAAiBE,EAAY,CAC3B,GAAM,CAAE,EAAAH,EAAG,EAAAL,EAAG,SAAUS,CAAG,EAAK,KAC1BC,EAAIC,EAAc3J,GAAY,UAAWwJ,CAAO,CAAC,EACvD,GAAIC,GAAO,MAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASA,CAAG,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACrF,IAAMG,EAAOH,IAAQ,GAAKA,IAAQ,EAAIJ,EAAIjI,EAAM,EAAIiI,EACpD,GAAIO,GAAQtL,EAAG,MAAO,MAAM,IAAI,MAAM,4BAA4B,EAClE,IAAMuL,GAAUJ,EAAM,KAAO,EAAI,KAAO,KAClCK,EAAIvG,EAAM,QAAQsG,EAASlJ,GAAciJ,EAAMtL,EAAG,KAAK,CAAC,EACxDyL,EAAK9B,EAAK2B,CAAI,EACdI,EAAKhC,EAAK,CAAC0B,EAAIK,CAAE,EACjBE,EAAKjC,EAAKgB,EAAIe,CAAE,EAChB/C,GAAIzD,EAAM,KAAK,qBAAqBuG,EAAGE,EAAIC,CAAE,EACnD,GAAI,CAACjD,GAAG,MAAM,IAAI,MAAM,mBAAmB,EAC3C,OAAAA,GAAE,eAAc,EACTA,EACT,CAGA,UAAQ,CACN,OAAO4B,EAAsB,KAAK,CAAC,CACrC,CAEA,YAAU,CACR,OAAO,KAAK,SAAQ,EAAK,IAAIQ,EAAU,KAAK,EAAGpB,EAAK,CAAC,KAAK,CAAC,EAAG,KAAK,QAAQ,EAAI,IACjF,CAGA,eAAa,CACX,OAAOkC,GAAW,KAAK,SAAQ,CAAE,CACnC,CACA,UAAQ,CACN,OAAOvL,GAAI,WAAW,IAAI,CAC5B,CAGA,mBAAiB,CACf,OAAOuL,GAAW,KAAK,aAAY,CAAE,CACvC,CACA,cAAY,CACV,IAAMX,EAAIzG,EACV,OAAOnC,GAAc,KAAK,EAAG4I,CAAC,EAAI5I,GAAc,KAAK,EAAG4I,CAAC,CAC3D,EAIF,IAAMY,EAAQ,CACZ,kBAAkBzF,EAAmB,CACnC,GAAI,CACF,OAAA/B,EAAuB+B,CAAU,EAC1B,EACT,OAASxB,EAAO,CACd,MAAO,EACT,CACF,EACA,uBAAwBP,EAMxB,iBAAkB,IAAiB,CACjC,IAAMrD,EAAS8K,GAAiBhJ,EAAM,CAAC,EACvC,OAAOiJ,GAAejJ,EAAM,YAAY9B,CAAM,EAAG8B,EAAM,CAAC,CAC1D,EAUA,WAAWyD,EAAa,EAAGpD,EAAQ8B,EAAM,KAAI,CAC3C,OAAA9B,EAAM,eAAeoD,CAAU,EAC/BpD,EAAM,SAAS,OAAO,CAAC,CAAC,EACjBA,CACT,GASF,SAAS6I,EAAa5F,EAAqB6C,EAAe,GAAI,CAC5D,OAAOhE,EAAM,eAAemB,CAAU,EAAE,WAAW6C,CAAY,CACjE,CAKA,SAASgD,EAAUC,EAAsB,CACvC,GAAI,OAAOA,GAAS,SAAU,MAAO,GACrC,GAAIA,aAAgBjH,EAAO,MAAO,GAElC,IAAMvE,EADMgB,GAAY,MAAOwK,CAAI,EACnB,OACVC,EAAMnM,EAAG,MACToM,EAAUD,EAAM,EAChBE,EAAY,EAAIF,EAAM,EAC5B,GAAI,EAAArJ,EAAM,0BAA4B0B,IAAgB4H,GAGpD,OAAO1L,IAAQ0L,GAAW1L,IAAQ2L,CAEtC,CAYA,SAASC,EAAgBC,EAAmBC,EAAcvD,EAAe,GAAI,CAC3E,GAAIgD,EAAUM,CAAQ,IAAM,GAAM,MAAM,IAAI,MAAM,+BAA+B,EACjF,GAAIN,EAAUO,CAAO,IAAM,GAAO,MAAM,IAAI,MAAM,+BAA+B,EAEjF,OADUvH,EAAM,QAAQuH,CAAO,EACtB,SAASnI,EAAuBkI,CAAQ,CAAC,EAAE,WAAWtD,CAAY,CAC7E,CAMA,IAAMwD,EACJ3J,EAAM,UACN,SAAUS,EAAiB,CAEzB,GAAIA,EAAM,OAAS,KAAM,MAAM,IAAI,MAAM,oBAAoB,EAG7D,IAAMnC,EAAMG,GAAgBgC,CAAK,EAC3BmJ,EAAQnJ,EAAM,OAAS,EAAI2F,EACjC,OAAOwD,EAAQ,EAAItL,GAAO,OAAOsL,CAAK,EAAItL,CAC5C,EACIiK,EACJvI,EAAM,eACN,SAAUS,EAAiB,CACzB,OAAOmG,EAAK+C,EAASlJ,CAAK,CAAC,CAC7B,EAEIoJ,EAAaC,GAAQ1D,CAAU,EAIrC,SAAS2D,EAAWzL,EAAW,CAC7B,OAAA0D,GAAS,WAAaoE,EAAY9H,EAAKC,GAAKsL,CAAU,EAE/CnK,GAAgBpB,EAAKoD,CAAW,CACzC,CAOA,SAASsI,EAAQ5B,EAAc9E,EAAqB3G,EAAOsN,EAAc,CACvE,GAAI,CAAC,YAAa,WAAW,EAAE,KAAMC,IAAMA,MAAKvN,CAAI,EAClD,MAAM,IAAI,MAAM,qCAAqC,EACvD,GAAM,CAAE,KAAAwN,EAAM,YAAAC,CAAW,EAAKpK,EAC1B,CAAE,KAAAqK,EAAM,QAAAC,EAAS,aAAcC,CAAG,EAAK5N,EACvC0N,GAAQ,OAAMA,EAAO,IACzBjC,EAAUxJ,GAAY,UAAWwJ,CAAO,EACxC1L,GAAmBC,CAAI,EACnB2N,IAASlC,EAAUxJ,GAAY,oBAAqBuL,EAAK/B,CAAO,CAAC,GAKrE,IAAMoC,EAAQjC,EAAcH,CAAO,EAC7B9C,EAAI/D,EAAuB+B,CAAU,EACrCmH,EAAW,CAACV,EAAWzE,CAAC,EAAGyE,EAAWS,CAAK,CAAC,EAElD,GAAID,GAAO,MAAQA,IAAQ,GAAO,CAEhC,IAAMG,GAAIH,IAAQ,GAAOH,EAAYlN,EAAG,KAAK,EAAIqN,EACjDE,EAAS,KAAK7L,GAAY,eAAgB8L,EAAC,CAAC,CAC9C,CACA,IAAMC,EAAOpK,GAAY,GAAGkK,CAAQ,EAC9BnN,GAAIkN,EAEV,SAASI,GAAMC,GAAkB,CAE/B,IAAMX,GAAIP,EAASkB,EAAM,EACzB,GAAI,CAACxJ,EAAmB6I,EAAC,EAAG,OAC5B,IAAMY,GAAKjE,EAAKqD,EAAC,EACXa,GAAI5I,EAAM,KAAK,SAAS+H,EAAC,EAAE,SAAQ,EACnCjC,GAAIrB,EAAKmE,GAAE,CAAC,EAClB,GAAI9C,KAAM1J,GAAK,OAIf,IAAMqJ,GAAIhB,EAAKkE,GAAKlE,EAAKtJ,GAAI2K,GAAI3C,CAAC,CAAC,EACnC,GAAIsC,KAAMrJ,GAAK,OACf,IAAI2J,IAAY6C,GAAE,IAAM9C,GAAI,EAAI,GAAK,OAAO8C,GAAE,EAAIpL,EAAG,EACjDqL,GAAQpD,GACZ,OAAIyC,GAAQ7C,EAAsBI,EAAC,IACjCoD,GAAQrD,EAAWC,EAAC,EACpBM,IAAY,GAEP,IAAIF,EAAUC,GAAG+C,GAAO9C,EAAQ,CACzC,CACA,MAAO,CAAE,KAAAyC,EAAM,MAAAC,EAAK,CACtB,CACA,IAAMX,EAA2B,CAAE,KAAMjK,EAAM,KAAM,QAAS,EAAK,EAC7DiL,EAA0B,CAAE,KAAMjL,EAAM,KAAM,QAAS,EAAK,EAelE,SAASkL,EAAK9C,EAAc+C,EAAkBxO,EAAOsN,EAAc,CACjE,GAAM,CAAE,KAAAU,EAAM,MAAAC,CAAK,EAAKZ,EAAQ5B,EAAS+C,EAASxO,CAAI,EAChDyO,EAAIpL,EAEV,OADaqL,GAAmCD,EAAE,KAAK,UAAWA,EAAE,YAAaA,EAAE,IAAI,EAC3ET,EAAMC,CAAK,CACzB,CAGAzI,EAAM,KAAK,eAAe,CAAC,EAgB3B,SAASmJ,EACPC,EACAnD,EACAoD,EACA7O,EAAOsO,EAAc,CAxtCzB,IAAAQ,GA0tCI,IAAMC,EAAKH,EACXnD,EAAUxJ,GAAY,UAAWwJ,CAAO,EACxCoD,EAAY5M,GAAY,YAAa4M,CAAS,EAC9C,GAAM,CAAE,KAAAnB,EAAM,QAAAC,EAAS,OAAAqB,CAAM,EAAKhP,EAIlC,GADAD,GAAmBC,CAAI,EACnB,WAAYA,EAAM,MAAM,IAAI,MAAM,oCAAoC,EAC1E,GAAIgP,IAAW,QAAaA,IAAW,WAAaA,IAAW,MAC7D,MAAM,IAAI,MAAM,+BAA+B,EACjD,IAAMC,EAAQ,OAAOF,GAAO,UAAY7J,GAAQ6J,CAAE,EAC5CG,EACJ,CAACD,GACD,CAACD,GACD,OAAOD,GAAO,UACdA,IAAO,MACP,OAAOA,EAAG,GAAM,UAChB,OAAOA,EAAG,GAAM,SAClB,GAAI,CAACE,GAAS,CAACC,EACb,MAAM,IAAI,MAAM,0EAA0E,EAE5F,IAAIC,EACAzI,EACJ,GAAI,CAEF,GADIwI,IAAOC,EAAO,IAAI9D,EAAU0D,EAAG,EAAGA,EAAG,CAAC,GACtCE,EAAO,CAGT,GAAI,CACED,IAAW,YAAWG,EAAO9D,EAAU,QAAQ0D,CAAE,EACvD,OAASK,GAAU,CACjB,GAAI,EAAEA,cAAoBxO,GAAI,KAAM,MAAMwO,EAC5C,CACI,CAACD,GAAQH,IAAW,QAAOG,EAAO9D,EAAU,YAAY0D,CAAE,EAChE,CACArI,EAAIlB,EAAM,QAAQqJ,CAAS,CAC7B,OAAS1J,GAAO,CACd,MAAO,EACT,CAEA,GADI,CAACgK,GACDzB,GAAQyB,EAAK,SAAQ,EAAI,MAAO,GAChCxB,IAASlC,EAAUpI,EAAM,KAAKoI,CAAO,GACzC,GAAM,CAAE,EAAAH,GAAG,EAAAL,EAAC,EAAKkE,EACXxD,GAAIC,EAAcH,CAAO,EACzB4D,GAAKnF,EAAKe,EAAC,EACXgB,GAAKhC,EAAK0B,GAAI0D,EAAE,EAChBnD,GAAKjC,EAAKqB,GAAI+D,EAAE,EAChBtD,IAAI+C,GAAAtJ,EAAM,KAAK,qBAAqBkB,EAAGuF,GAAIC,EAAE,IAAzC,YAAA4C,GAA4C,WACtD,OAAK/C,GACK9B,EAAK8B,GAAE,CAAC,IACLT,GAFE,EAGjB,CACA,MAAO,CACL,MAAAjI,EACA,aAAAkJ,EACA,gBAAAM,EACA,KAAA0B,EACA,OAAAI,EACA,gBAAiBnJ,EACjB,UAAA6F,EACA,MAAAe,EAEJ,CC7wCM,SAAUkD,GAAQC,EAAW,CAKjC,MAAO,CACL,KAAAA,EACA,KAAM,CAACC,KAAoBC,IAAuBC,GAAKH,EAAMC,EAAKG,GAAY,GAAGF,CAAI,CAAC,EACtF,YAAAG,GAEJ,CAKM,SAAUC,GAAYC,EAAoBC,EAAc,CAC5D,IAAMC,EAAUT,GAAyBU,GAAYC,IAAA,GAAKJ,GAAaR,GAAQC,CAAI,EAAG,EACtF,OAAOY,EAAAD,EAAA,GAAKF,EAAOD,CAAO,GAAnB,CAAsB,OAAAC,CAAM,EACrC,CCAA,IAAMI,GAAa,OAAO,oEAAoE,EACxFC,GAAa,OAAO,oEAAoE,EACxFC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAa,CAACC,EAAWC,KAAeD,EAAIC,EAAIH,IAAOG,EAM7D,SAASC,GAAQC,EAAS,CACxB,IAAMC,EAAIV,GAEJW,EAAM,OAAO,CAAC,EAAGC,EAAM,OAAO,CAAC,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAErEC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EACtDC,EAAMT,EAAIA,EAAIA,EAAKC,EACnBS,EAAMD,EAAKA,EAAKT,EAAKC,EACrBU,EAAMC,GAAKF,EAAIR,EAAKD,CAAC,EAAIS,EAAMT,EAC/BY,EAAMD,GAAKD,EAAIT,EAAKD,CAAC,EAAIS,EAAMT,EAC/Ba,EAAOF,GAAKC,EAAIlB,GAAKM,CAAC,EAAIQ,EAAMR,EAChCc,EAAOH,GAAKE,EAAKV,EAAMH,CAAC,EAAIa,EAAOb,EACnCe,EAAOJ,GAAKG,EAAKV,EAAMJ,CAAC,EAAIc,EAAOd,EACnCgB,EAAOL,GAAKI,EAAKT,EAAMN,CAAC,EAAIe,EAAOf,EACnCiB,EAAQN,GAAKK,EAAKT,EAAMP,CAAC,EAAIgB,EAAOhB,EACpCkB,EAAQP,GAAKM,EAAMX,EAAMN,CAAC,EAAIe,EAAOf,EACrCmB,EAAQR,GAAKO,EAAMjB,EAAKD,CAAC,EAAIS,EAAMT,EACnCoB,EAAMT,GAAKQ,EAAMd,EAAML,CAAC,EAAIc,EAAOd,EACnCqB,EAAMV,GAAKS,EAAIlB,EAAKF,CAAC,EAAIQ,EAAMR,EAC/BsB,EAAOX,GAAKU,EAAI3B,GAAKM,CAAC,EAC5B,GAAI,CAACuB,GAAK,IAAIA,GAAK,IAAID,CAAI,EAAGvB,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAC3E,OAAOuB,CACT,CAEA,IAAMC,GAAOC,GAAMlC,GAAY,OAAW,OAAW,CAAE,KAAMQ,EAAO,CAAE,EAiBzD2B,GAA+BC,GAC1C,CACE,EAAGlC,GACH,EAAG,OAAO,CAAC,EACX,GAAI+B,GACJ,EAAGhC,GACH,GAAI,OAAO,+EAA+E,EAC1F,GAAI,OAAO,+EAA+E,EAC1F,EAAG,OAAO,CAAC,EACX,KAAM,GACN,KAAM,CAEJ,KAAM,OAAO,oEAAoE,EACjF,YAAcoC,GAAa,CACzB,IAAMC,EAAIrC,GACJsC,EAAK,OAAO,oCAAoC,EAChDC,EAAK,CAACrC,GAAM,OAAO,oCAAoC,EACvDsC,EAAK,OAAO,qCAAqC,EACjDvB,EAAKqB,EACLG,EAAY,OAAO,qCAAqC,EAExDC,EAAKtC,GAAWa,EAAKmB,EAAGC,CAAC,EACzBM,EAAKvC,GAAW,CAACmC,EAAKH,EAAGC,CAAC,EAC5BO,EAAKC,GAAIT,EAAIM,EAAKJ,EAAKK,EAAKH,EAAIH,CAAC,EACjCS,EAAKD,GAAI,CAACH,EAAKH,EAAKI,EAAK1B,EAAIoB,CAAC,EAC5BU,EAAQH,EAAKH,EACbO,EAAQF,EAAKL,EAGnB,GAFIM,IAAOH,EAAKP,EAAIO,GAChBI,IAAOF,EAAKT,EAAIS,GAChBF,EAAKH,GAAaK,EAAKL,EACzB,MAAM,IAAI,MAAM,uCAAyCL,CAAC,EAE5D,MAAO,CAAE,MAAAW,EAAO,GAAAH,EAAI,MAAAI,EAAO,GAAAF,CAAE,CAC/B,IAGJG,EAAM,EAMFC,GAAsD,CAAA,EAC5D,SAASC,GAAWC,KAAgBC,EAAsB,CACxD,IAAIC,EAAOJ,GAAqBE,CAAG,EACnC,GAAIE,IAAS,OAAW,CACtB,IAAMC,EAAON,GAAO,WAAW,KAAKG,EAAMI,GAAMA,EAAE,WAAW,CAAC,CAAC,CAAC,EAChEF,EAAOG,GAAYF,EAAMA,CAAI,EAC7BL,GAAqBE,CAAG,EAAIE,CAC9B,CACA,OAAOL,GAAOQ,GAAYH,EAAM,GAAGD,CAAQ,CAAC,CAC9C,CAGA,IAAMK,GAAgBC,GAA6BA,EAAM,WAAW,EAAI,EAAE,MAAM,CAAC,EAC3EC,GAAYvB,GAAcwB,GAAgBxB,EAAG,EAAE,EAC/CyB,GAAQC,GAAclB,GAAIkB,EAAGhE,EAAU,EACvCiE,GAAQD,GAAclB,GAAIkB,EAAG/D,EAAU,EACvCiE,GAA+B/B,GAAU,gBACzCgC,GAAU,CAACC,EAAsB9D,EAAWC,IAChD2D,GAAM,KAAK,qBAAqBE,EAAG9D,EAAGC,CAAC,EAGzC,SAAS8D,GAAoBC,EAAa,CACxC,IAAIC,EAAKpC,GAAU,MAAM,uBAAuBmC,CAAI,EAChDE,EAAIN,GAAM,eAAeK,CAAE,EAE/B,MAAO,CAAE,OADMC,EAAE,SAAQ,EAAKD,EAAKN,GAAK,CAACM,CAAE,EAClB,MAAOZ,GAAaa,CAAC,CAAC,CACjD,CAKA,SAASC,GAAOT,EAAS,CACvBU,GAAS,IAAKV,EAAG7D,GAAKH,EAAU,EAChC,IAAM2E,EAAKZ,GAAKC,EAAIA,CAAC,EACfP,EAAIM,GAAKY,EAAKX,EAAI,OAAO,CAAC,CAAC,EAC7BvD,EAAID,GAAQiD,CAAC,EACbhD,EAAIL,KAAQF,KAAKO,EAAIsD,GAAK,CAACtD,CAAC,GAChC,IAAM+D,EAAI,IAAIN,GAAMF,EAAGvD,EAAGN,EAAG,EAC7B,OAAAqE,EAAE,eAAc,EACTA,CACT,CACA,IAAMI,GAAMC,GAIZ,SAASC,MAAaC,EAAkB,CACtC,OAAOd,GAAKW,GAAIxB,GAAW,oBAAqB,GAAG2B,CAAI,CAAC,CAAC,CAC3D,CAKA,SAASC,GAAoBC,EAAe,CAC1C,OAAOZ,GAAoBY,CAAU,EAAE,KACzC,CAMA,SAASC,GACPC,EACAF,EACAG,EAAeC,GAAY,EAAE,EAAC,CAE9B,IAAMC,EAAIC,GAAY,UAAWJ,CAAO,EAClC,CAAE,MAAOK,EAAI,OAAQC,CAAC,EAAKpB,GAAoBY,CAAU,EACzD3E,EAAIiF,GAAY,UAAWH,EAAS,EAAE,EACtCM,EAAI7B,GAAS4B,EAAIb,GAAIxB,GAAW,cAAe9C,CAAC,CAAC,CAAC,EAClDqF,EAAOvC,GAAW,gBAAiBsC,EAAGF,EAAIF,CAAC,EAC3CM,EAAK3B,GAAKW,GAAIe,CAAI,CAAC,EACzB,GAAIC,IAAO1F,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACxD,GAAM,CAAE,MAAO2F,EAAI,OAAQxD,CAAC,EAAKgC,GAAoBuB,CAAE,EACjDE,EAAIhB,GAAUe,EAAIL,EAAIF,CAAC,EACvBS,EAAM,IAAI,WAAW,EAAE,EAI7B,GAHAA,EAAI,IAAIF,EAAI,CAAC,EACbE,EAAI,IAAIlC,GAASI,GAAK5B,EAAIyD,EAAIL,CAAC,CAAC,EAAG,EAAE,EAEjC,CAACO,GAAcD,EAAKT,EAAGE,CAAE,EAAG,MAAM,IAAI,MAAM,kCAAkC,EAClF,OAAOO,CACT,CAMA,SAASC,GAAcC,EAAgBd,EAAce,EAAc,CACjE,IAAMH,EAAMR,GAAY,YAAaU,EAAW,EAAE,EAC5CX,EAAIC,GAAY,UAAWJ,CAAO,EAClCgB,EAAMZ,GAAY,YAAaW,EAAW,EAAE,EAClD,GAAI,CACF,IAAMxF,EAAI+D,GAAOG,GAAIuB,CAAG,CAAC,EACnBC,EAAIxB,GAAImB,EAAI,SAAS,EAAG,EAAE,CAAC,EACjC,GAAI,CAACM,GAAQD,EAAGjG,GAAKH,EAAU,EAAG,MAAO,GACzC,IAAMsG,EAAI1B,GAAImB,EAAI,SAAS,GAAI,EAAE,CAAC,EAClC,GAAI,CAACM,GAAQC,EAAGnG,GAAKF,EAAU,EAAG,MAAO,GACzC,IAAM6F,EAAIhB,GAAUjB,GAASuC,CAAC,EAAGzC,GAAajD,CAAC,EAAG4E,CAAC,EAC7CiB,EAAIpC,GAAQzD,EAAG4F,EAAGrC,GAAK,CAAC6B,CAAC,CAAC,EAChC,MAAI,GAACS,GAAK,CAACA,EAAE,SAAQ,GAAMA,EAAE,SAAQ,EAAG,IAAMH,EAEhD,OAASI,EAAO,CACd,MAAO,EACT,CACF,CA6BO,IAAMC,GAA+C,CAC1D,aAAczB,GACd,KAAME,GACN,OAAQc,GACR,MAAO,CACL,iBAAkB7D,GAAU,MAAM,iBAClC,OAAAsC,GACA,aAAAd,GACA,gBAAAG,GACA,gBAAAe,GACA,WAAAzB,GACA,IAAAN,KCnQE,SAAU4D,GAAQC,EAAU,CAChC,OAAOA,aAAa,YAAe,YAAY,OAAOA,CAAC,GAAKA,EAAE,YAAY,OAAS,YACrF,CAGM,SAAUC,GAAMC,EAAU,CAC9B,GAAI,OAAOA,GAAM,UAAW,MAAM,IAAI,MAAM,yBAAyB,OAAAA,EAAG,CAC1E,CAGM,SAAUC,GAAQC,EAAS,CAC/B,GAAI,CAAC,OAAO,cAAcA,CAAC,GAAKA,EAAI,EAAG,MAAM,IAAI,MAAM,kCAAoCA,CAAC,CAC9F,CAGM,SAAUC,GAAOH,KAA8BI,EAAiB,CACpE,GAAI,CAACP,GAAQG,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACtD,GAAII,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASJ,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAmCI,EAAU,gBAAkBJ,EAAE,MAAM,CAC3F,CAeM,SAAUK,GAAQC,EAAeC,EAAgB,GAAI,CACzD,GAAID,EAAS,UAAW,MAAM,IAAI,MAAM,kCAAkC,EAC1E,GAAIC,GAAiBD,EAAS,SAAU,MAAM,IAAI,MAAM,uCAAuC,CACjG,CAGM,SAAUE,GAAQC,EAAUH,EAAa,CAC7CI,GAAOD,CAAG,EACV,IAAME,EAAML,EAAS,UACrB,GAAIG,EAAI,OAASE,EACf,MAAM,IAAI,MAAM,yDAA2DA,CAAG,CAElF,CAeM,SAAUC,GAAGC,EAAe,CAChC,OAAO,IAAI,WAAWA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,CAClE,CAGM,SAAUC,GAAID,EAAe,CACjC,OAAO,IAAI,YAAYA,EAAI,OAAQA,EAAI,WAAY,KAAK,MAAMA,EAAI,WAAa,CAAC,CAAC,CACnF,CAGM,SAAUE,MAASC,EAAoB,CAC3C,QAASC,EAAI,EAAGA,EAAID,EAAO,OAAQC,IACjCD,EAAOC,CAAC,EAAE,KAAK,CAAC,CAEpB,CAGM,SAAUC,GAAWL,EAAe,CACxC,OAAO,IAAI,SAASA,EAAI,OAAQA,EAAI,WAAYA,EAAI,UAAU,CAChE,CAGO,IAAMM,GACX,IAAI,WAAW,IAAI,YAAY,CAAC,SAAU,CAAC,EAAE,MAAM,EAAE,CAAC,IAAM,GA4FxD,SAAUC,GAAYC,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,iBAAiB,EAC9D,OAAO,IAAI,WAAW,IAAI,YAAW,EAAG,OAAOA,CAAG,CAAC,CACrD,CAiBM,SAAUC,GAAQC,EAAyB,CAC/C,GAAI,OAAOA,GAAS,SAAUA,EAAOC,GAAYD,CAAI,UAC5CE,GAAQF,CAAI,EAAGA,EAAOG,GAAUH,CAAI,MACxC,OAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAI,EAC9D,OAAOA,CACT,CAMM,SAAUI,GAAaC,EAAeC,EAAa,CACvD,OACED,EAAE,SAAWC,EAAE,QACfD,EAAE,WAAaC,EAAE,WAAaA,EAAE,YAChCA,EAAE,WAAaD,EAAE,WAAaA,EAAE,UAEpC,CAMM,SAAUE,GAAoBC,EAAmBC,EAAkB,CAGvE,GAAIL,GAAaI,EAAOC,CAAM,GAAKD,EAAM,WAAaC,EAAO,WAC3D,MAAM,IAAI,MAAM,sDAAsD,CAC1E,CAuBM,SAAUC,GACdC,EACAC,EAAQ,CAER,GAAIA,GAAQ,MAAQ,OAAOA,GAAS,SAAU,MAAM,IAAI,MAAM,yBAAyB,EAEvF,OADe,OAAO,OAAOD,EAAUC,CAAI,CAE7C,CAGM,SAAUC,GAAWC,EAAeC,EAAa,CACrD,GAAID,EAAE,SAAWC,EAAE,OAAQ,MAAO,GAClC,IAAIC,EAAO,EACX,QAASC,EAAI,EAAGA,EAAIH,EAAE,OAAQG,IAAKD,GAAQF,EAAEG,CAAC,EAAIF,EAAEE,CAAC,EACrD,OAAOD,IAAS,CAClB,CAiEO,IAAME,GAAa,CACxBC,EACAC,IACS,CACT,SAASC,EAAcC,KAAoBC,EAAW,CAKpD,GAHAC,GAAOF,CAAG,EAGN,CAACG,GAAM,MAAM,IAAI,MAAM,iDAAiD,EAG5E,GAAIN,EAAO,cAAgB,OAAW,CACpC,IAAMO,EAAQH,EAAK,CAAC,EACpB,GAAI,CAACG,EAAO,MAAM,IAAI,MAAM,qBAAqB,EAC7CP,EAAO,aAAcK,GAAOE,CAAK,EAChCF,GAAOE,EAAOP,EAAO,WAAW,CACvC,CAGA,IAAMQ,EAAOR,EAAO,UAChBQ,GAAQJ,EAAK,CAAC,IAAM,QACtBC,GAAOD,EAAK,CAAC,CAAC,EAGhB,IAAMK,EAASR,EAAYE,EAAK,GAAGC,CAAI,EACjCM,EAAc,CAACC,EAAkBC,IAAuB,CAC5D,GAAIA,IAAW,OAAW,CACxB,GAAID,IAAa,EAAG,MAAM,IAAI,MAAM,6BAA6B,EACjEN,GAAOO,CAAM,CACf,CACF,EAEIC,EAAS,GAkBb,MAjBiB,CACf,QAAQC,EAAkBF,EAAmB,CAC3C,GAAIC,EAAQ,MAAM,IAAI,MAAM,8CAA8C,EAC1E,OAAAA,EAAS,GACTR,GAAOS,CAAI,EACXJ,EAAYD,EAAO,QAAQ,OAAQG,CAAM,EACjCH,EAA4B,QAAQK,EAAMF,CAAM,CAC1D,EACA,QAAQE,EAAkBF,EAAmB,CAE3C,GADAP,GAAOS,CAAI,EACPN,GAAQM,EAAK,OAASN,EACxB,MAAM,IAAI,MAAM,qDAAuDA,CAAI,EAC7E,OAAAE,EAAYD,EAAO,QAAQ,OAAQG,CAAM,EACjCH,EAA4B,QAAQK,EAAMF,CAAM,CAC1D,EAIJ,CAEA,cAAO,OAAOV,EAAeF,CAAM,EAC5BE,CACT,EAeM,SAAUa,GACdC,EACAC,EACAC,EAAc,GAAI,CAElB,GAAID,IAAQ,OAAW,OAAO,IAAI,WAAWD,CAAc,EAC3D,GAAIC,EAAI,SAAWD,EACjB,MAAM,IAAI,MAAM,mCAAqCA,EAAiB,UAAYC,EAAI,MAAM,EAC9F,GAAIC,GAAe,CAACC,GAAYF,CAAG,EAAG,MAAM,IAAI,MAAM,iCAAiC,EACvF,OAAOA,CACT,CAGM,SAAUG,GACdC,EACAC,EACAC,EACAjB,EAAa,CAEb,GAAI,OAAOe,EAAK,cAAiB,WAAY,OAAOA,EAAK,aAAaC,EAAYC,EAAOjB,CAAI,EAC7F,IAAMkB,EAAO,OAAO,EAAE,EAChBC,EAAW,OAAO,UAAU,EAC5BC,EAAK,OAAQH,GAASC,EAAQC,CAAQ,EACtCE,EAAK,OAAOJ,EAAQE,CAAQ,EAC5BG,EAAItB,EAAO,EAAI,EACfuB,EAAIvB,EAAO,EAAI,EACrBe,EAAK,UAAUC,EAAaM,EAAGF,EAAIpB,CAAI,EACvCe,EAAK,UAAUC,EAAaO,EAAGF,EAAIrB,CAAI,CACzC,CAEM,SAAUwB,GAAWC,EAAoBC,EAAmB1B,EAAa,CAC7E2B,GAAM3B,CAAI,EACV,IAAM4B,EAAM,IAAI,WAAW,EAAE,EACvBb,EAAOc,GAAWD,CAAG,EAC3B,OAAAd,GAAaC,EAAM,EAAG,OAAOW,CAAS,EAAG1B,CAAI,EAC7Cc,GAAaC,EAAM,EAAG,OAAOU,CAAU,EAAGzB,CAAI,EACvC4B,CACT,CAGM,SAAUf,GAAYiB,EAAiB,CAC3C,OAAOA,EAAM,WAAa,IAAM,CAClC,CAGM,SAAUC,GAAUD,EAAiB,CACzC,OAAO,WAAW,KAAKA,CAAK,CAC9B,CChbA,IAAME,GAAa,GAGbC,GAA0B,IAAI,WAAW,EAAE,EAC3CC,GAAUC,GAAIF,EAAO,EACrBG,GAAO,IAKPC,GAAO,CAACC,EAAYC,EAAYC,EAAYC,IAAc,CAC9D,IAAMC,EAAQD,EAAK,EACnB,MAAO,CACL,GAAKD,GAAM,GAAOC,IAAO,EACzB,GAAKF,GAAM,GAAOC,IAAO,EACzB,GAAKF,GAAM,GAAOC,IAAO,EACzB,GAAKD,IAAO,EAAOF,IAAQ,GAAM,EAAEM,EAAQ,GAE/C,EAEMC,GAAUC,IACXA,IAAM,EAAK,MAAS,IACpBA,IAAM,EAAK,MAAS,IACpBA,IAAM,GAAM,MAAS,EACtBA,IAAM,GAAM,IACd,EAMI,SAAUC,GAAYC,EAAa,CACvCA,EAAE,QAAO,EACT,IAAMJ,EAAQI,EAAE,EAAE,EAAI,EAElBC,EAAQ,EACZ,QAASC,EAAI,EAAGA,EAAIF,EAAE,OAAQE,IAAK,CACjC,IAAMC,EAAIH,EAAEE,CAAC,EACbF,EAAEE,CAAC,EAAKC,IAAM,EAAKF,EACnBA,GAASE,EAAI,IAAM,CACrB,CACA,OAAAH,EAAE,CAAC,GAAK,CAACJ,EAAQ,IACVI,CACT,CAIA,IAAMI,GAAkBC,GAClBA,EAAQ,GAAK,KAAa,EAC1BA,EAAQ,KAAa,EAClB,EAGHC,GAAN,KAAW,CAYT,YAAYC,EAAYC,EAAuB,CAXtC,KAAA,SAAWtB,GACX,KAAA,UAAYA,GACX,KAAA,GAAK,EACL,KAAA,GAAK,EACL,KAAA,GAAK,EACL,KAAA,GAAK,EACL,KAAA,SAAW,GAMnBqB,EAAME,GAAQF,CAAG,EACjBG,GAAOH,EAAK,EAAE,EACd,IAAMI,EAAQC,GAAWL,CAAG,EACxBM,EAAKF,EAAM,UAAU,EAAG,EAAK,EAC7BG,EAAKH,EAAM,UAAU,EAAG,EAAK,EAC7BI,EAAKJ,EAAM,UAAU,EAAG,EAAK,EAC7BK,EAAKL,EAAM,UAAU,GAAI,EAAK,EAE5BM,EAAmB,CAAA,EACzB,QAASf,EAAI,EAAGA,EAAI,IAAKA,IACvBe,EAAQ,KAAK,CAAE,GAAIpB,GAAOgB,CAAE,EAAG,GAAIhB,GAAOiB,CAAE,EAAG,GAAIjB,GAAOkB,CAAE,EAAG,GAAIlB,GAAOmB,CAAE,CAAC,CAAE,EAC9E,CAAE,GAAIH,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKzB,GAAKsB,EAAIC,EAAIC,EAAIC,CAAE,EAE3D,IAAME,EAAId,GAAeI,GAAkB,IAAI,EAC/C,GAAI,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASU,CAAC,EAC1B,MAAM,IAAI,MAAM,gDAAgD,EAClE,KAAK,EAAIA,EAET,IAAMC,EADO,IACUD,EACjBE,EAAc,KAAK,WAAa,GAAKF,EACrCG,EAAiB,CAAA,EAEvB,QAASC,EAAI,EAAGA,EAAIH,EAASG,IAE3B,QAASC,EAAO,EAAGA,EAAOH,EAAYG,IAAQ,CAE5C,IAAI/B,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAAGC,EAAK,EACjC,QAAS6B,EAAI,EAAGA,EAAIN,EAAGM,IAAK,CAE1B,GAAI,EADSD,IAAUL,EAAIM,EAAI,EAAM,GAC3B,SACV,GAAM,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKX,EAAQC,EAAII,EAAIE,CAAC,EAC3DhC,GAAMiC,EAAMhC,GAAMiC,EAAMhC,GAAMiC,EAAMhC,GAAMiC,CAC7C,CACAP,EAAM,KAAK,CAAE,GAAA7B,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,CAAE,CAC/B,CAEF,KAAK,EAAI0B,CACX,CACU,aAAa7B,EAAYC,EAAYC,EAAYC,EAAU,CAClEH,GAAM,KAAK,GAAMC,GAAM,KAAK,GAAMC,GAAM,KAAK,GAAMC,GAAM,KAAK,GAC/D,GAAM,CAAE,EAAAuB,EAAG,EAAAf,EAAG,WAAAiB,CAAU,EAAK,KAEzBS,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAC3BC,GAAQ,GAAKf,GAAK,EACpBI,EAAI,EACR,QAAWY,IAAO,CAAC1C,EAAIC,EAAIC,EAAIC,CAAE,EAC/B,QAASwC,EAAU,EAAGA,EAAU,EAAGA,IAAW,CAC5C,IAAMZ,EAAQW,IAAS,EAAIC,EAAY,IACvC,QAASC,EAAS,EAAIlB,EAAI,EAAGkB,GAAU,EAAGA,IAAU,CAClD,IAAMC,EAAOd,IAAUL,EAAIkB,EAAWH,EAChC,CAAE,GAAIK,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKtC,EAAEmB,EAAIF,EAAaiB,CAAG,EAChER,GAAMS,EAAMR,GAAMS,EAAMR,GAAMS,EAAMR,GAAMS,EAC3CnB,GAAK,CACP,CACF,CAEF,KAAK,GAAKO,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,EACV,KAAK,GAAKC,CACZ,CACA,OAAOU,EAAW,CAChBC,GAAQ,IAAI,EACZD,EAAOjC,GAAQiC,CAAI,EACnBhC,GAAOgC,CAAI,EACX,IAAME,EAAMvD,GAAIqD,CAAI,EACdG,EAAS,KAAK,MAAMH,EAAK,OAASxD,EAAU,EAC5C4D,EAAOJ,EAAK,OAASxD,GAC3B,QAAS,EAAI,EAAG,EAAI2D,EAAQ,IAC1B,KAAK,aAAaD,EAAI,EAAI,EAAI,CAAC,EAAGA,EAAI,EAAI,EAAI,CAAC,EAAGA,EAAI,EAAI,EAAI,CAAC,EAAGA,EAAI,EAAI,EAAI,CAAC,CAAC,EAElF,OAAIE,IACF3D,GAAQ,IAAIuD,EAAK,SAASG,EAAS3D,EAAU,CAAC,EAC9C,KAAK,aAAaE,GAAQ,CAAC,EAAGA,GAAQ,CAAC,EAAGA,GAAQ,CAAC,EAAGA,GAAQ,CAAC,CAAC,EAChE2D,GAAM3D,EAAO,GAER,IACT,CACA,SAAO,CACL,GAAM,CAAE,CAAC,EAAK,KAEd,QAAW4D,KAAO,EACfA,EAAI,GAAK,EAAKA,EAAI,GAAK,EAAKA,EAAI,GAAK,EAAKA,EAAI,GAAK,CAExD,CACA,WAAWC,EAAe,CACxBN,GAAQ,IAAI,EACZO,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAChB,GAAM,CAAE,GAAAzD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KACrBwD,EAAM9D,GAAI4D,CAAG,EACnB,OAAAE,EAAI,CAAC,EAAI3D,EACT2D,EAAI,CAAC,EAAI1D,EACT0D,EAAI,CAAC,EAAIzD,EACTyD,EAAI,CAAC,EAAIxD,EACFsD,CACT,CACA,QAAM,CACJ,IAAMG,EAAM,IAAI,WAAWlE,EAAU,EACrC,YAAK,WAAWkE,CAAG,EACnB,KAAK,QAAO,EACLA,CACT,GAGIC,GAAN,cAAsB/C,EAAK,CACzB,YAAYC,EAAYC,EAAuB,CAC7CD,EAAME,GAAQF,CAAG,EACjBG,GAAOH,CAAG,EACV,IAAM+C,EAAQvD,GAAYwD,GAAUhD,CAAG,CAAC,EACxC,MAAM+C,EAAO9C,CAAc,EAC3BuC,GAAMO,CAAK,CACb,CACA,OAAOZ,EAAW,CAChBA,EAAOjC,GAAQiC,CAAI,EACnBC,GAAQ,IAAI,EACZ,IAAMC,EAAMvD,GAAIqD,CAAI,EACdI,EAAOJ,EAAK,OAASxD,GACrB2D,EAAS,KAAK,MAAMH,EAAK,OAASxD,EAAU,EAClD,QAAS,EAAI,EAAG,EAAI2D,EAAQ,IAC1B,KAAK,aACHhD,GAAO+C,EAAI,EAAI,EAAI,CAAC,CAAC,EACrB/C,GAAO+C,EAAI,EAAI,EAAI,CAAC,CAAC,EACrB/C,GAAO+C,EAAI,EAAI,EAAI,CAAC,CAAC,EACrB/C,GAAO+C,EAAI,EAAI,EAAI,CAAC,CAAC,CAAC,EAG1B,OAAIE,IACF3D,GAAQ,IAAIuD,EAAK,SAASG,EAAS3D,EAAU,CAAC,EAC9C,KAAK,aACHW,GAAOT,GAAQ,CAAC,CAAC,EACjBS,GAAOT,GAAQ,CAAC,CAAC,EACjBS,GAAOT,GAAQ,CAAC,CAAC,EACjBS,GAAOT,GAAQ,CAAC,CAAC,CAAC,EAEpB2D,GAAM3D,EAAO,GAER,IACT,CACA,WAAW6D,EAAe,CACxBN,GAAQ,IAAI,EACZO,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAEhB,GAAM,CAAE,GAAAzD,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KACrBwD,EAAM9D,GAAI4D,CAAG,EACnB,OAAAE,EAAI,CAAC,EAAI3D,EACT2D,EAAI,CAAC,EAAI1D,EACT0D,EAAI,CAAC,EAAIzD,EACTyD,EAAI,CAAC,EAAIxD,EACFsD,EAAI,QAAO,CACpB,GAIF,SAASO,GACPC,EAA0D,CAO1D,IAAMC,EAAQ,CAACC,EAAYpD,IACzBkD,EAASlD,EAAKoD,EAAI,MAAM,EAAE,OAAOlD,GAAQkD,CAAG,CAAC,EAAE,OAAM,EACjDC,EAAMH,EAAS,IAAI,WAAW,EAAE,EAAG,CAAC,EAC1C,OAAAC,EAAM,UAAYE,EAAI,UACtBF,EAAM,SAAWE,EAAI,SACrBF,EAAM,OAAS,CAACnD,EAAYC,IAA4BiD,EAASlD,EAAKC,CAAc,EAC7EkD,CACT,CAGO,IAAMG,GAAiBL,GAC5B,CAACjD,EAAKC,IAAmB,IAAIF,GAAMC,EAAKC,CAAc,CAAC,EAI5CsD,GAAmBN,GAC9B,CAACjD,EAAKC,IAAmB,IAAI6C,GAAQ9C,EAAKC,CAAc,CAAC,EChP3D,IAAMuD,GAAa,GACbC,GAAe,EACfC,GAA8B,IAAI,WAAWF,EAAU,EACvDG,GAAO,IAGb,SAASC,GAAKC,EAAS,CACrB,OAAQA,GAAK,EAAMF,GAAO,EAAEE,GAAK,EACnC,CAEA,SAASC,GAAIC,EAAWC,EAAS,CAC/B,IAAIC,EAAM,EACV,KAAOD,EAAI,EAAGA,IAAM,EAElBC,GAAOF,EAAI,EAAEC,EAAI,GACjBD,EAAIH,GAAKG,CAAC,EAEZ,OAAOE,CACT,CAIA,IAAMC,IAAwB,IAAK,CACjC,IAAMC,EAAI,IAAI,WAAW,GAAG,EAC5B,QAASC,EAAI,EAAGC,EAAI,EAAGD,EAAI,IAAKA,IAAKC,GAAKT,GAAKS,CAAC,EAAGF,EAAEC,CAAC,EAAIC,EAC1D,IAAMC,EAAM,IAAI,WAAW,GAAG,EAC9BA,EAAI,CAAC,EAAI,GACT,QAASF,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC5B,IAAIC,EAAIF,EAAE,IAAMC,CAAC,EACjBC,GAAKA,GAAK,EACVC,EAAIH,EAAEC,CAAC,CAAC,GAAKC,EAAKA,GAAK,EAAMA,GAAK,EAAMA,GAAK,EAAMA,GAAK,EAAK,IAAQ,GACvE,CACA,OAAAE,GAAMJ,CAAC,EACAG,CACT,GAAE,EAGIE,GAA0BN,GAAK,IAAI,CAACO,EAAGC,IAAMR,GAAK,QAAQQ,CAAC,CAAC,EAG5DC,GAAYd,GAAeA,GAAK,GAAOA,IAAM,EAC7Ce,GAAYf,GAAeA,GAAK,EAAMA,IAAM,GAYlD,SAASgB,GAAUC,EAAkBC,EAAyB,CAC5D,GAAID,EAAK,SAAW,IAAK,MAAM,IAAI,MAAM,mBAAmB,EAC5D,IAAME,EAAK,IAAI,YAAY,GAAG,EAAE,IAAI,CAACC,EAAGC,IAAMH,EAAGD,EAAKI,CAAC,CAAC,CAAC,EACnDC,EAAKH,EAAG,IAAII,EAAQ,EACpBC,EAAKF,EAAG,IAAIC,EAAQ,EACpBE,EAAKD,EAAG,IAAID,EAAQ,EACpBG,EAAM,IAAI,YAAY,IAAM,GAAG,EAC/BC,EAAM,IAAI,YAAY,IAAM,GAAG,EAC/BC,EAAQ,IAAI,YAAY,IAAM,GAAG,EACvC,QAASC,EAAI,EAAGA,EAAI,IAAKA,IACvB,QAASR,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC5B,IAAMS,EAAMD,EAAI,IAAMR,EACtBK,EAAII,CAAG,EAAIX,EAAGU,CAAC,EAAIP,EAAGD,CAAC,EACvBM,EAAIG,CAAG,EAAIN,EAAGK,CAAC,EAAIJ,EAAGJ,CAAC,EACvBO,EAAME,CAAG,EAAKb,EAAKY,CAAC,GAAK,EAAKZ,EAAKI,CAAC,CACtC,CAEF,MAAO,CAAE,KAAAJ,EAAM,MAAAW,EAAO,GAAAT,EAAI,GAAAG,EAAI,GAAAE,EAAI,GAAAC,EAAI,IAAAC,EAAK,IAAAC,CAAG,CAChD,CAEA,IAAMI,GAAgCf,GACpCC,GACCe,GAAeC,GAAID,EAAG,CAAC,GAAK,GAAOA,GAAK,GAAOA,GAAK,EAAKC,GAAID,EAAG,CAAC,CAAC,EAE/DE,GAAgClB,GACpCmB,GACCH,GAAOC,GAAID,EAAG,EAAE,GAAK,GAAOC,GAAID,EAAG,EAAE,GAAK,GAAOC,GAAID,EAAG,CAAC,GAAK,EAAKC,GAAID,EAAG,EAAE,CAAC,EAG1EI,IAA2B,IAAK,CACpC,IAAMC,EAAI,IAAI,WAAW,EAAE,EAC3B,QAASR,EAAI,EAAGS,EAAI,EAAGT,EAAI,GAAIA,IAAKS,EAAIC,GAAKD,CAAC,EAAGD,EAAER,CAAC,EAAIS,EACxD,OAAOD,CACT,GAAE,EAGF,SAASG,GAAYC,EAAe,CAClCC,GAAOD,CAAG,EACV,IAAME,EAAMF,EAAI,OAChB,GAAI,CAAC,CAAC,GAAI,GAAI,EAAE,EAAE,SAASE,CAAG,EAC5B,MAAM,IAAI,MAAM,sDAAwDA,CAAG,EAC7E,GAAM,CAAE,MAAAf,CAAK,EAAKG,GACZa,EAAU,CAAA,EACXC,GAAYJ,CAAG,GAAGG,EAAQ,KAAMH,EAAMK,GAAUL,CAAG,CAAE,EAC1D,IAAMM,EAAMC,GAAIP,CAAG,EACbQ,EAAKF,EAAI,OACTG,EAAWC,GAAcC,GAAUxB,EAAOuB,EAAGA,EAAGA,EAAGA,CAAC,EACpDE,EAAK,IAAI,YAAYV,EAAM,EAAE,EACnCU,EAAG,IAAIN,CAAG,EAEV,QAASlB,EAAIoB,EAAIpB,EAAIwB,EAAG,OAAQxB,IAAK,CACnC,IAAIyB,EAAID,EAAGxB,EAAI,CAAC,EACZA,EAAIoB,IAAO,EAAGK,EAAIJ,EAAQK,GAASD,CAAC,CAAC,EAAIlB,GAAQP,EAAIoB,EAAK,CAAC,EACtDA,EAAK,GAAKpB,EAAIoB,IAAO,IAAGK,EAAIJ,EAAQI,CAAC,GAC9CD,EAAGxB,CAAC,EAAIwB,EAAGxB,EAAIoB,CAAE,EAAIK,CACvB,CACA,OAAAE,GAAM,GAAGZ,CAAO,EACTS,CACT,CAEA,SAASI,GAAehB,EAAe,CACrC,IAAMiB,EAASlB,GAAYC,CAAG,EACxBY,EAAKK,EAAO,MAAK,EACjBT,EAAKS,EAAO,OACZ,CAAE,MAAA9B,CAAK,EAAKG,GACZ,CAAE,GAAAZ,EAAI,GAAAG,EAAI,GAAAE,EAAI,GAAAC,CAAE,EAAKS,GAE3B,QAASL,EAAI,EAAGA,EAAIoB,EAAIpB,GAAK,EAC3B,QAASR,EAAI,EAAGA,EAAI,EAAGA,IAAKgC,EAAGxB,EAAIR,CAAC,EAAIqC,EAAOT,EAAKpB,EAAI,EAAIR,CAAC,EAE/DmC,GAAME,CAAM,EAEZ,QAAS7B,EAAI,EAAGA,EAAIoB,EAAK,EAAGpB,IAAK,CAC/B,IAAMS,EAAIe,EAAGxB,CAAC,EACR8B,EAAIP,GAAUxB,EAAOU,EAAGA,EAAGA,EAAGA,CAAC,EACrCe,EAAGxB,CAAC,EAAIV,EAAGwC,EAAI,GAAI,EAAIrC,EAAIqC,IAAM,EAAK,GAAI,EAAInC,EAAImC,IAAM,GAAM,GAAI,EAAIlC,EAAGkC,IAAM,EAAE,CACnF,CACA,OAAON,CACT,CAGA,SAASO,GACPlC,EACAC,EACAkC,EACAC,EACAC,EACAC,EAAU,CAEV,OACEtC,EAAMmC,GAAM,EAAK,MAAYC,IAAO,EAAK,GAAK,EAC9CnC,EAAMoC,IAAO,EAAK,MAAYC,IAAO,GAAM,GAAK,CAEpD,CAEA,SAASZ,GAAUxB,EAAoBiC,EAAYC,EAAYC,EAAYC,EAAU,CACnF,OACEpC,EAAOiC,EAAK,IAASC,EAAK,KAAO,EAChClC,EAAQmC,IAAO,GAAM,IAAUC,IAAO,GAAM,KAAO,GAAK,EAE7D,CAEA,SAASC,GACPZ,EACAQ,EACAC,EACAC,EACAC,EAAU,CAEV,GAAM,CAAE,MAAApC,EAAO,IAAAF,EAAK,IAAAC,CAAG,EAAKI,GACxBmC,EAAI,EACPL,GAAMR,EAAGa,GAAG,EAAKJ,GAAMT,EAAGa,GAAG,EAAKH,GAAMV,EAAGa,GAAG,EAAKF,GAAMX,EAAGa,GAAG,EAChE,IAAMC,EAASd,EAAG,OAAS,EAAI,EAC/B,QAASxB,EAAI,EAAGA,EAAIsC,EAAQtC,IAAK,CAC/B,IAAMuC,EAAKf,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKkC,EAAIC,EAAIC,EAAIC,CAAE,EACjDK,EAAKhB,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKmC,EAAIC,EAAIC,EAAIH,CAAE,EACjDS,EAAKjB,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKoC,EAAIC,EAAIH,EAAIC,CAAE,EACjDS,EAAKlB,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKqC,EAAIH,EAAIC,EAAIC,CAAE,EACtDF,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,CACzC,CAEA,IAAMH,EAAKf,EAAGa,GAAG,EAAId,GAAUxB,EAAOiC,EAAIC,EAAIC,EAAIC,CAAE,EAC9CK,EAAKhB,EAAGa,GAAG,EAAId,GAAUxB,EAAOkC,EAAIC,EAAIC,EAAIH,CAAE,EAC9CS,EAAKjB,EAAGa,GAAG,EAAId,GAAUxB,EAAOmC,EAAIC,EAAIH,EAAIC,CAAE,EAC9CS,EAAKlB,EAAGa,GAAG,EAAId,GAAUxB,EAAOoC,EAAIH,EAAIC,EAAIC,CAAE,EACpD,MAAO,CAAE,GAAIK,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,CACzC,CAGA,SAASC,GACPnB,EACAQ,EACAC,EACAC,EACAC,EAAU,CAOV,GAAM,CAAE,MAAApC,EAAO,IAAAF,EAAK,IAAAC,CAAG,EAAKO,GACxBgC,EAAI,EACPL,GAAMR,EAAGa,GAAG,EAAKJ,GAAMT,EAAGa,GAAG,EAAKH,GAAMV,EAAGa,GAAG,EAAKF,GAAMX,EAAGa,GAAG,EAChE,IAAMC,EAASd,EAAG,OAAS,EAAI,EAC/B,QAASxB,EAAI,EAAGA,EAAIsC,EAAQtC,IAAK,CAC/B,IAAMuC,EAAKf,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKkC,EAAIG,EAAID,EAAID,CAAE,EACjDO,EAAKhB,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKmC,EAAID,EAAIG,EAAID,CAAE,EACjDO,EAAKjB,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKoC,EAAID,EAAID,EAAIG,CAAE,EACjDO,EAAKlB,EAAGa,GAAG,EAAIN,GAAUlC,EAAKC,EAAKqC,EAAID,EAAID,EAAID,CAAE,EACtDA,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,EAAMN,EAAKO,CACzC,CAEA,IAAMH,EAAaf,EAAGa,GAAG,EAAId,GAAUxB,EAAOiC,EAAIG,EAAID,EAAID,CAAE,EACtDO,EAAahB,EAAGa,GAAG,EAAId,GAAUxB,EAAOkC,EAAID,EAAIG,EAAID,CAAE,EACtDO,EAAajB,EAAGa,GAAG,EAAId,GAAUxB,EAAOmC,EAAID,EAAID,EAAIG,CAAE,EACtDO,EAAalB,EAAGa,GAAG,EAAId,GAAUxB,EAAOoC,EAAID,EAAID,EAAID,CAAE,EAC5D,MAAO,CAAE,GAAIO,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,CACzC,CAkDA,SAASE,GACPC,EACAC,EACAC,EACAC,EACAC,EAAgB,CAEhBC,GAAOH,EAAOI,EAAU,EACxBD,GAAOF,CAAG,EACVC,EAAMG,GAAUJ,EAAI,OAAQC,CAAG,EAC/B,IAAMI,EAAMN,EACNO,EAAMC,GAAIF,CAAG,EACbG,EAAOC,GAAWJ,CAAG,EACrBK,EAAQH,GAAIP,CAAG,EACfW,EAAQJ,GAAIN,CAAG,EACfW,EAASd,EAAO,EAAI,GACpBe,EAASb,EAAI,OAEfc,EAASN,EAAK,UAAUI,EAAQd,CAAI,EACpC,CAAE,GAAAiB,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQtB,EAAIS,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAEnE,QAASc,EAAI,EAAGA,EAAI,GAAKV,EAAM,OAAQU,GAAK,EAC1CT,EAAMS,EAAI,CAAC,EAAIV,EAAMU,EAAI,CAAC,EAAIL,EAC9BJ,EAAMS,EAAI,CAAC,EAAIV,EAAMU,EAAI,CAAC,EAAIJ,EAC9BL,EAAMS,EAAI,CAAC,EAAIV,EAAMU,EAAI,CAAC,EAAIH,EAC9BN,EAAMS,EAAI,CAAC,EAAIV,EAAMU,EAAI,CAAC,EAAIF,EAC9BJ,EAAUA,EAAS,IAAO,EAC1BN,EAAK,UAAUI,EAAQE,EAAQhB,CAAI,EAClC,CAAE,GAAAiB,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAQtB,EAAIS,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,EAAGA,EAAI,CAAC,CAAC,EAGlE,IAAMe,EAAQlB,GAAa,KAAK,MAAMO,EAAM,OAASY,EAAY,EACjE,GAAID,EAAQR,EAAQ,CAClB,IAAMU,EAAM,IAAI,YAAY,CAACR,EAAIC,EAAIC,EAAIC,CAAE,CAAC,EACtCM,EAAMC,GAAGF,CAAG,EAClB,QAASH,EAAIC,EAAOK,EAAM,EAAGN,EAAIP,EAAQO,IAAKM,IAAOzB,EAAImB,CAAC,EAAIpB,EAAIoB,CAAC,EAAII,EAAIE,CAAG,EAC9EC,GAAMJ,CAAG,CACX,CACA,OAAOtB,CACT,CAiCA,SAAS2B,GAAqBC,EAAgB,CAE5C,GADAC,GAAOD,CAAI,EACPA,EAAK,OAASE,KAAe,EAC/B,MAAM,IAAI,MACR,uEAAyEA,EAAU,CAGzF,CAEA,SAASC,GAAqBC,EAAuBC,EAAgBC,EAAgB,CACnFL,GAAOG,CAAS,EAChB,IAAIG,EAASH,EAAU,OACjBI,EAAYD,EAASL,GAC3B,GAAI,CAACG,GAASG,IAAc,EAC1B,MAAM,IAAI,MAAM,yDAAyD,EACtEC,GAAYL,CAAS,IAAGA,EAAYM,GAAUN,CAAS,GAC5D,IAAMO,EAAIC,GAAIR,CAAS,EACvB,GAAIC,EAAO,CACT,IAAIQ,EAAOX,GAAaM,EACnBK,IAAMA,EAAOX,IAClBK,EAASA,EAASM,CACpB,CACAP,EAAMQ,GAAUP,EAAQD,CAAG,EAC3BS,GAAoBX,EAAWE,CAAG,EAClC,IAAMU,EAAIJ,GAAIN,CAAG,EACjB,MAAO,CAAE,EAAAK,EAAG,EAAAK,EAAG,IAAKV,CAAG,CACzB,CAEA,SAASW,GAAajB,EAAkBK,EAAc,CACpD,GAAI,CAACA,EAAO,OAAOL,EACnB,IAAMkB,EAAMlB,EAAK,OACjB,GAAI,CAACkB,EAAK,MAAM,IAAI,MAAM,yCAAyC,EACnE,IAAMC,EAAWnB,EAAKkB,EAAM,CAAC,EAC7B,GAAIC,GAAY,GAAKA,EAAW,GAAI,MAAM,IAAI,MAAM,0BAA0B,EAC9E,IAAMC,EAAMpB,EAAK,SAAS,EAAG,CAACmB,CAAQ,EACtC,QAAS,EAAI,EAAG,EAAIA,EAAU,IAC5B,GAAInB,EAAKkB,EAAM,EAAI,CAAC,IAAMC,EAAU,MAAM,IAAI,MAAM,0BAA0B,EAChF,OAAOC,CACT,CAEA,SAASC,GAAQR,EAAgB,CAC/B,IAAMS,EAAM,IAAI,WAAW,EAAE,EACvBC,EAAQX,GAAIU,CAAG,EACrBA,EAAI,IAAIT,CAAI,EACZ,IAAMW,EAActB,GAAaW,EAAK,OACtC,QAASY,EAAIvB,GAAasB,EAAaC,EAAIvB,GAAYuB,IAAKH,EAAIG,CAAC,EAAID,EACrE,OAAOD,CACT,CAwDO,IAAMG,GAGOC,GAClB,CAAE,UAAW,GAAI,YAAa,EAAE,EAChC,SAAgBC,EAAiBC,EAAgBC,EAAkB,CAAA,EAAE,CACnE,IAAMC,EAAQ,CAACD,EAAK,eACpB,MAAO,CACL,QAAQE,EAAuBC,EAAgB,CAC7C,IAAMC,EAAKC,GAAYP,CAAG,EACpB,CAAE,EAAAQ,EAAG,EAAAC,EAAG,IAAKC,CAAI,EAAKC,GAAqBP,EAAWD,EAAOE,CAAG,EAClEO,EAAMX,EACJY,EAAwC,CAACP,CAAE,EAC5CQ,GAAYF,CAAG,GAAGC,EAAQ,KAAMD,EAAMG,GAAUH,CAAG,CAAE,EAC1D,IAAMI,EAAMC,GAAIL,CAAG,EAEfM,EAAKF,EAAI,CAAC,EAAGG,EAAKH,EAAI,CAAC,EAAGI,EAAKJ,EAAI,CAAC,EAAGK,EAAKL,EAAI,CAAC,EACjDM,EAAI,EACR,KAAOA,EAAI,GAAKd,EAAE,QACfU,GAAMV,EAAEc,EAAI,CAAC,EAAKH,GAAMX,EAAEc,EAAI,CAAC,EAAKF,GAAMZ,EAAEc,EAAI,CAAC,EAAKD,GAAMb,EAAEc,EAAI,CAAC,EACnE,CAAE,GAAAJ,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKE,GAAQjB,EAAIY,EAAIC,EAAIC,EAAIC,CAAE,EAC/CZ,EAAEa,GAAG,EAAIJ,EAAMT,EAAEa,GAAG,EAAIH,EAAMV,EAAEa,GAAG,EAAIF,EAAMX,EAAEa,GAAG,EAAID,EAEzD,GAAIlB,EAAO,CACT,IAAMqB,EAAQC,GAAQrB,EAAU,SAASkB,EAAI,CAAC,CAAC,EAC9CJ,GAAMM,EAAM,CAAC,EAAKL,GAAMK,EAAM,CAAC,EAAKJ,GAAMI,EAAM,CAAC,EAAKH,GAAMG,EAAM,CAAC,EACnE,CAAE,GAAAN,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAKE,GAAQjB,EAAIY,EAAIC,EAAIC,EAAIC,CAAE,EAC/CZ,EAAEa,GAAG,EAAIJ,EAAMT,EAAEa,GAAG,EAAIH,EAAMV,EAAEa,GAAG,EAAIF,EAAMX,EAAEa,GAAG,EAAID,CACzD,CACA,OAAAK,GAAM,GAAGb,CAAO,EACTH,CACT,EACA,QAAQiB,EAAwBtB,EAAgB,CAC9CuB,GAAqBD,CAAU,EAC/B,IAAMrB,EAAKuB,GAAe7B,CAAG,EACzBY,EAAMX,EACJY,EAAwC,CAACP,CAAE,EAC5CQ,GAAYF,CAAG,GAAGC,EAAQ,KAAMD,EAAMG,GAAUH,CAAG,CAAE,EAC1D,IAAMI,EAAMC,GAAIL,CAAG,EACnBP,EAAMyB,GAAUH,EAAW,OAAQtB,CAAG,EACjCS,GAAYa,CAAU,GAAGd,EAAQ,KAAMc,EAAaZ,GAAUY,CAAU,CAAE,EAC/EI,GAAoBJ,EAAYtB,CAAG,EACnC,IAAMG,EAAIS,GAAIU,CAAU,EAClBlB,EAAIQ,GAAIZ,CAAG,EAEba,EAAKF,EAAI,CAAC,EAAGG,EAAKH,EAAI,CAAC,EAAGI,EAAKJ,EAAI,CAAC,EAAGK,EAAKL,EAAI,CAAC,EACrD,QAASM,EAAI,EAAGA,EAAI,GAAKd,EAAE,QAAU,CAEnC,IAAMwB,EAAMd,EAAIe,EAAMd,EAAIe,EAAMd,EAAIe,EAAMd,EACzCH,EAAKV,EAAEc,EAAI,CAAC,EAAKH,EAAKX,EAAEc,EAAI,CAAC,EAAKF,EAAKZ,EAAEc,EAAI,CAAC,EAAKD,EAAKb,EAAEc,EAAI,CAAC,EAChE,GAAM,CAAE,GAAIc,EAAI,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKC,GAAQlC,EAAIY,EAAIC,EAAIC,EAAIC,CAAE,EACpEZ,EAAEa,GAAG,EAAIc,EAAKJ,EAAOvB,EAAEa,GAAG,EAAIe,EAAKJ,EAAOxB,EAAEa,GAAG,EAAIgB,EAAKJ,EAAOzB,EAAEa,GAAG,EAAIiB,EAAKJ,CAChF,CACA,OAAAT,GAAM,GAAGb,CAAO,EACT4B,GAAapC,EAAKF,CAAK,CAChC,EAEJ,CAAC,EAwDH,SAASuC,GACPC,EACAC,EACAC,EACAC,EACAC,EAAgB,CAEhB,IAAMC,EAAYD,EAAMA,EAAI,OAAS,EAC/BE,EAAIN,EAAG,OAAOE,EAAKC,EAAK,OAASE,CAAS,EAC5CD,GAAKE,EAAE,OAAOF,CAAG,EACrB,IAAMG,EAAMC,GAAW,EAAIL,EAAK,OAAQ,EAAIE,EAAWJ,CAAI,EAC3DK,EAAE,OAAOH,CAAI,EACbG,EAAE,OAAOC,CAAG,EACZ,IAAME,EAAMH,EAAE,OAAM,EACpB,OAAAI,GAAMH,CAAG,EACFE,CACT,CASO,IAAME,GAKOC,GAClB,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,GAAI,aAAc,EAAI,EACnE,SAAgBV,EAAiBW,EAAmBT,EAAgB,CAIlE,GAAIS,EAAM,OAAS,EAAG,MAAM,IAAI,MAAM,+BAA+B,EACrE,IAAMC,EAAY,GAClB,SAASC,EAAYC,EAAqBC,EAAqBd,EAAgB,CAC7E,IAAMe,EAAMnB,GAAWoB,GAAO,GAAOH,EAASb,EAAMC,CAAG,EACvD,QAASgB,EAAI,EAAGA,EAAIH,EAAQ,OAAQG,IAAKF,EAAIE,CAAC,GAAKH,EAAQG,CAAC,EAC5D,OAAOF,CACT,CACA,SAASG,GAAU,CACjB,IAAMC,EAAKC,GAAYrB,CAAG,EACpBc,EAAUQ,GAAY,MAAK,EAC3BC,EAAUD,GAAY,MAAK,EAGjC,GAFAE,GAAMJ,EAAI,GAAOG,EAASA,EAAST,CAAO,EAEtCH,EAAM,SAAW,GACnBY,EAAQ,IAAIZ,CAAK,MACZ,CACL,IAAMc,EAAWH,GAAY,MAAK,EAC5BI,EAAOC,GAAWF,CAAQ,EAChCG,GAAaF,EAAM,EAAG,OAAOf,EAAM,OAAS,CAAC,EAAG,EAAK,EAErD,IAAMkB,EAAIZ,GAAM,OAAOH,CAAO,EAAE,OAAOH,CAAK,EAAE,OAAOc,CAAQ,EAC7DI,EAAE,WAAWN,CAAO,EACpBM,EAAE,QAAO,CACX,CACA,IAAMd,EAAUS,GAAMJ,EAAI,GAAOG,EAASD,EAAW,EACrD,MAAO,CAAE,GAAAF,EAAI,QAAAN,EAAS,QAAAS,EAAS,QAAAR,CAAO,CACxC,CACA,MAAO,CACL,QAAQe,EAAqB,CAC3B,GAAM,CAAE,GAAAV,EAAI,QAAAN,EAAS,QAAAS,EAAS,QAAAR,CAAO,EAAKI,EAAU,EAC9CY,EAAM,IAAI,WAAWD,EAAU,OAASlB,CAAS,EACjDoB,EAAwC,CAACZ,EAAIN,EAASS,EAASR,CAAO,EACvEkB,GAAYH,CAAS,GAAGE,EAAQ,KAAMF,EAAYI,GAAUJ,CAAS,CAAE,EAC5EN,GAAMJ,EAAI,GAAOG,EAASO,EAAWC,EAAI,SAAS,EAAGD,EAAU,MAAM,CAAC,EACtE,IAAMd,EAAMH,EAAYC,EAASC,EAASgB,EAAI,SAAS,EAAGA,EAAI,OAASnB,CAAS,CAAC,EACjF,OAAAoB,EAAQ,KAAKhB,CAAG,EAChBe,EAAI,IAAIf,EAAKc,EAAU,MAAM,EAC7BtB,GAAM,GAAGwB,CAAO,EACTD,CACT,EACA,QAAQI,EAAsB,CAC5B,GAAM,CAAE,GAAAf,EAAI,QAAAN,EAAS,QAAAS,EAAS,QAAAR,CAAO,EAAKI,EAAU,EAC9Ca,EAAwC,CAACZ,EAAIN,EAASC,EAASQ,CAAO,EACvEU,GAAYE,CAAU,GAAGH,EAAQ,KAAMG,EAAaD,GAAUC,CAAU,CAAE,EAC/E,IAAMlC,EAAOkC,EAAW,SAAS,EAAG,CAACvB,CAAS,EACxCwB,EAAYD,EAAW,SAAS,CAACvB,CAAS,EAC1CI,EAAMH,EAAYC,EAASC,EAASd,CAAI,EAE9C,GADA+B,EAAQ,KAAKhB,CAAG,EACZ,CAACqB,GAAWrB,EAAKoB,CAAS,EAAG,MAAM,IAAI,MAAM,4BAA4B,EAC7E,IAAML,EAAMP,GAAMJ,EAAI,GAAOG,EAAStB,CAAI,EAC1C,OAAAO,GAAM,GAAGwB,CAAO,EACTD,CACT,EAEJ,CAAC,EC7oBI,SAASO,GAAWC,EAAQ,CAC/B,IAAMC,EAASC,GAAQ,aAAaF,CAAM,EAC1C,OAAO,IAAIG,EAAKF,CAAM,EAAE,GAC5B,CACO,SAASG,GAAkBJ,EAAQK,EAAS,CAC/C,IAAMC,EAAUD,EAAQ,SAAW,GAC7BA,EACA,KAAOA,EACPE,EAASC,GAAU,gBAAgBR,EAAQM,EAAQ,EAAI,EAC7D,OAAO,IAAIH,EAAKI,CAAM,EAAE,MAAM,CAAC,EAAE,GACrC,CACO,SAASE,GAAST,EAAQU,EAAS,CACtC,IAAMC,EAAMT,GAAQ,KAAKQ,EAASV,CAAM,EACxC,OAAO,IAAIG,EAAKQ,CAAG,EAAE,GACzB,CACO,SAASC,GAAWF,EAASJ,EAAQO,EAAW,CACnD,OAAOX,GAAQ,OAAOW,EAAWH,EAASJ,CAAM,CACpD,CACO,SAASQ,GAAgBC,EAAQC,EAASC,EAAI,CACjD,IAAMC,EAASf,EAAK,IAAIa,CAAO,EACzBT,EAASJ,EAAK,IAAIY,CAAM,EACxBI,EAAUF,IAAO,OACjBd,EAAK,IAAIc,EAAI,EAAE,EACfd,EAAK,OAAO,EAAE,EACdiB,EAAYC,GAAId,EAAQY,CAAM,EAAE,QAAQD,CAAM,EACpD,OAAO,IAAIf,EAAKiB,CAAS,EAAE,OAAS,OAASD,EAAO,MACxD,CACO,SAASG,GAAgBP,EAAQC,EAAS,CAC7C,GAAM,CAACO,EAAUN,CAAE,EAAID,EAAQ,MAAM,MAAM,EACrCE,EAASf,EAAK,OAAOoB,CAAQ,EAC7BhB,EAASJ,EAAK,IAAIY,CAAM,EACxBI,EAAShB,EAAK,OAAOc,CAAE,EACvBO,EAAYH,GAAId,EAAQY,CAAM,EAAE,QAAQD,CAAM,EACpD,OAAO,IAAIf,EAAKqB,CAAS,EAAE,GAC/B,CC5CO,SAASC,IAAiB,CAC7B,OAAOC,EAAK,OAAO,EAAE,EAAE,GAC3B,CACO,SAASC,GAAaC,EAAU,CACnC,IAAMC,EAAS,KAAK,UAAU,CAC1B,EACAD,EAAS,OACTA,EAAS,WACTA,EAAS,KACTA,EAAS,KACTA,EAAS,OACb,CAAC,EACD,OAAOF,EAAK,IAAIG,CAAM,EAAE,OAAO,GACnC,CACO,SAASC,GAASC,EAAOC,EAAK,CACjC,OAAOD,EAAM,KAAK,OAAOE,GAAKA,EAAE,GAAG,CAAC,IAAMD,CAAG,CACjD,CACO,SAASE,GAAaH,EAAOI,EAAQ,CAExC,OADcL,GAASC,EAAO,GAAG,EACpB,KAAKE,GAAKA,EAAE,CAAC,IAAME,CAAM,CAC1C,CCrBA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,WAAAE,GAAA,UAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,OAAAC,GAAA,gBAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,eAAAC,GAAA,eAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,0BAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,0BAAAC,GAAA,gBAAAC,GAAA,oBAAAC,GAAA,iBAAAC,EAAA,YAAAC,GAAA,eAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,kBAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,cAAAC,GAAA,gBAAAC,GAAA,kBAAAC,GAAA,gBAAAC,GAAA,eAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,cAAAhC,GAAA,WAAAiC,GAAA,cAAAC,GAAA,cAAAC,GAAA,mBAAAzB,GAAA,aAAA0B,GAAA,YAAApC,GAAA,iBAAAqC,GAAA,aAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,sBAAAC,EAAA,QAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,kBAAAC,GAAA,oBAAAC,GAAA,uBAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,gBAAAC,GAAA,kBAAAC,GAAA,eAAAC,GAAA,iBAAAC,GAAA,cAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,YAAAC,GAAA,cAAAC,GAAA,QAAAC,GAAA,QAAAC,GAAA,eAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,eAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,kBAAAC,GAAA,WAAAC,GAAA,QAAAC,GAAA,gBAAAC,GAAA,iBAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,gBAAArC,GAAA,UAAAsC,GAAA,cAAAC,GAAA,UAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,SAAAC,KCAO,IAAIC,IACV,SAAUA,EAAM,CACbA,EAAK,YAAeC,GAAM,CAAE,EAC5B,SAASC,EAASC,EAAM,CAAE,CAC1BH,EAAK,SAAWE,EAChB,SAASE,EAAYC,EAAI,CACrB,MAAM,IAAI,KACd,CACAL,EAAK,YAAcI,EACnBJ,EAAK,YAAeM,GAAU,CAC1B,IAAMC,EAAM,CAAC,EACb,QAAWC,KAAQF,EACfC,EAAIC,CAAI,EAAIA,EAEhB,OAAOD,CACX,EACAP,EAAK,mBAAsBO,GAAQ,CAC/B,IAAME,EAAYT,EAAK,WAAWO,CAAG,EAAE,OAAQG,GAAM,OAAOH,EAAIA,EAAIG,CAAC,CAAC,GAAM,QAAQ,EAC9EC,EAAW,CAAC,EAClB,QAAWD,KAAKD,EACZE,EAASD,CAAC,EAAIH,EAAIG,CAAC,EAEvB,OAAOV,EAAK,aAAaW,CAAQ,CACrC,EACAX,EAAK,aAAgBO,GACVP,EAAK,WAAWO,CAAG,EAAE,IAAI,SAAUK,EAAG,CACzC,OAAOL,EAAIK,CAAC,CAChB,CAAC,EAELZ,EAAK,WAAa,OAAO,OAAO,MAAS,WAClCO,GAAQ,OAAO,KAAKA,CAAG,EACvBM,GAAW,CACV,IAAMC,EAAO,CAAC,EACd,QAAWC,KAAOF,EACV,OAAO,UAAU,eAAe,KAAKA,EAAQE,CAAG,GAChDD,EAAK,KAAKC,CAAG,EAGrB,OAAOD,CACX,EACJd,EAAK,KAAO,CAACgB,EAAKC,IAAY,CAC1B,QAAWT,KAAQQ,EACf,GAAIC,EAAQT,CAAI,EACZ,OAAOA,CAGnB,EACAR,EAAK,UAAY,OAAO,OAAO,WAAc,WACtCkB,GAAQ,OAAO,UAAUA,CAAG,EAC5BA,GAAQ,OAAOA,GAAQ,UAAY,OAAO,SAASA,CAAG,GAAK,KAAK,MAAMA,CAAG,IAAMA,EACtF,SAASC,EAAWC,EAAOC,EAAY,MAAO,CAC1C,OAAOD,EAAM,IAAKF,GAAS,OAAOA,GAAQ,SAAW,IAAI,OAAAA,EAAG,KAAMA,CAAI,EAAE,KAAKG,CAAS,CAC1F,CACArB,EAAK,WAAamB,EAClBnB,EAAK,sBAAwB,CAACC,EAAGqB,IACzB,OAAOA,GAAU,SACVA,EAAM,SAAS,EAEnBA,CAEf,GAAGtB,KAASA,GAAO,CAAC,EAAE,EACf,IAAIuB,IACV,SAAUA,EAAY,CACnBA,EAAW,YAAc,CAACC,EAAOC,IACtBC,IAAA,GACAF,GACAC,EAGf,GAAGF,KAAeA,GAAa,CAAC,EAAE,EAC3B,IAAMI,GAAgB3B,GAAK,YAAY,CAC1C,SACA,MACA,SACA,UACA,QACA,UACA,OACA,SACA,SACA,WACA,YACA,OACA,QACA,SACA,UACA,UACA,OACA,QACA,MACA,KACJ,CAAC,EACY4B,GAAiBC,GAAS,CAEnC,OADU,OAAOA,EACN,CACP,IAAK,YACD,OAAOF,GAAc,UACzB,IAAK,SACD,OAAOA,GAAc,OACzB,IAAK,SACD,OAAO,OAAO,MAAME,CAAI,EAAIF,GAAc,IAAMA,GAAc,OAClE,IAAK,UACD,OAAOA,GAAc,QACzB,IAAK,WACD,OAAOA,GAAc,SACzB,IAAK,SACD,OAAOA,GAAc,OACzB,IAAK,SACD,OAAOA,GAAc,OACzB,IAAK,SACD,OAAI,MAAM,QAAQE,CAAI,EACXF,GAAc,MAErBE,IAAS,KACFF,GAAc,KAErBE,EAAK,MAAQ,OAAOA,EAAK,MAAS,YAAcA,EAAK,OAAS,OAAOA,EAAK,OAAU,WAC7EF,GAAc,QAErB,OAAO,IAAQ,KAAeE,aAAgB,IACvCF,GAAc,IAErB,OAAO,IAAQ,KAAeE,aAAgB,IACvCF,GAAc,IAErB,OAAO,KAAS,KAAeE,aAAgB,KACxCF,GAAc,KAElBA,GAAc,OACzB,QACI,OAAOA,GAAc,OAC7B,CACJ,ECnIO,IAAMG,EAAeC,GAAK,YAAY,CACzC,eACA,kBACA,SACA,gBACA,8BACA,qBACA,oBACA,oBACA,sBACA,eACA,iBACA,YACA,UACA,6BACA,kBACA,YACJ,CAAC,EACYC,GAAiBC,GACb,KAAK,UAAUA,EAAK,KAAM,CAAC,EAC5B,QAAQ,cAAe,KAAK,EAE/BC,GAAN,MAAMC,UAAiB,KAAM,CAChC,IAAI,QAAS,CACT,OAAO,KAAK,MAChB,CACA,YAAYC,EAAQ,CAChB,MAAM,EACN,KAAK,OAAS,CAAC,EACf,KAAK,SAAYC,GAAQ,CACrB,KAAK,OAAS,CAAC,GAAG,KAAK,OAAQA,CAAG,CACtC,EACA,KAAK,UAAY,CAACC,EAAO,CAAC,IAAM,CAC5B,KAAK,OAAS,CAAC,GAAG,KAAK,OAAQ,GAAGA,CAAI,CAC1C,EACA,IAAMC,EAAc,WAAW,UAC3B,OAAO,eAEP,OAAO,eAAe,KAAMA,CAAW,EAGvC,KAAK,UAAYA,EAErB,KAAK,KAAO,WACZ,KAAK,OAASH,CAClB,CACA,OAAOI,EAAS,CACZ,IAAMC,EAASD,GACX,SAAUE,EAAO,CACb,OAAOA,EAAM,OACjB,EACEC,EAAc,CAAE,QAAS,CAAC,CAAE,EAC5BC,EAAgBC,GAAU,CAC5B,QAAWH,KAASG,EAAM,OACtB,GAAIH,EAAM,OAAS,gBACfA,EAAM,YAAY,IAAIE,CAAY,UAE7BF,EAAM,OAAS,sBACpBE,EAAaF,EAAM,eAAe,UAE7BA,EAAM,OAAS,oBACpBE,EAAaF,EAAM,cAAc,UAE5BA,EAAM,KAAK,SAAW,EAC3BC,EAAY,QAAQ,KAAKF,EAAOC,CAAK,CAAC,MAErC,CACD,IAAII,EAAOH,EACPI,EAAI,EACR,KAAOA,EAAIL,EAAM,KAAK,QAAQ,CAC1B,IAAMM,EAAKN,EAAM,KAAKK,CAAC,EACNA,IAAML,EAAM,KAAK,OAAS,GAYvCI,EAAKE,CAAE,EAAIF,EAAKE,CAAE,GAAK,CAAE,QAAS,CAAC,CAAE,EACrCF,EAAKE,CAAE,EAAE,QAAQ,KAAKP,EAAOC,CAAK,CAAC,GAXnCI,EAAKE,CAAE,EAAIF,EAAKE,CAAE,GAAK,CAAE,QAAS,CAAC,CAAE,EAazCF,EAAOA,EAAKE,CAAE,EACdD,GACJ,CACJ,CAER,EACA,OAAAH,EAAa,IAAI,EACVD,CACX,CACA,OAAO,OAAOM,EAAO,CACjB,GAAI,EAAEA,aAAiBd,GACnB,MAAM,IAAI,MAAM,mBAAmB,OAAAc,EAAO,CAElD,CACA,UAAW,CACP,OAAO,KAAK,OAChB,CACA,IAAI,SAAU,CACV,OAAO,KAAK,UAAU,KAAK,OAAQlB,GAAK,sBAAuB,CAAC,CACpE,CACA,IAAI,SAAU,CACV,OAAO,KAAK,OAAO,SAAW,CAClC,CACA,QAAQU,EAAUC,GAAUA,EAAM,QAAS,CACvC,IAAMC,EAAc,CAAC,EACfO,EAAa,CAAC,EACpB,QAAWb,KAAO,KAAK,OACfA,EAAI,KAAK,OAAS,GAClBM,EAAYN,EAAI,KAAK,CAAC,CAAC,EAAIM,EAAYN,EAAI,KAAK,CAAC,CAAC,GAAK,CAAC,EACxDM,EAAYN,EAAI,KAAK,CAAC,CAAC,EAAE,KAAKI,EAAOJ,CAAG,CAAC,GAGzCa,EAAW,KAAKT,EAAOJ,CAAG,CAAC,EAGnC,MAAO,CAAE,WAAAa,EAAY,YAAAP,CAAY,CACrC,CACA,IAAI,YAAa,CACb,OAAO,KAAK,QAAQ,CACxB,CACJ,EACAT,GAAS,OAAUE,GACD,IAAIF,GAASE,CAAM,EC/HrC,IAAMe,GAAW,CAACC,EAAOC,IAAS,CAC9B,IAAIC,EACJ,OAAQF,EAAM,KAAM,CAChB,KAAKG,EAAa,aACVH,EAAM,WAAaI,GAAc,UACjCF,EAAU,WAGVA,EAAU,YAAY,OAAAF,EAAM,SAAQ,eAAc,OAAAA,EAAM,UAE5D,MACJ,KAAKG,EAAa,gBACdD,EAAU,mCAAmC,YAAK,UAAUF,EAAM,SAAUK,GAAK,qBAAqB,GACtG,MACJ,KAAKF,EAAa,kBACdD,EAAU,kCAAkC,OAAAG,GAAK,WAAWL,EAAM,KAAM,IAAI,GAC5E,MACJ,KAAKG,EAAa,cACdD,EAAU,gBACV,MACJ,KAAKC,EAAa,4BACdD,EAAU,yCAAyC,OAAAG,GAAK,WAAWL,EAAM,OAAO,GAChF,MACJ,KAAKG,EAAa,mBACdD,EAAU,gCAAgC,OAAAG,GAAK,WAAWL,EAAM,OAAO,EAAC,gBAAe,OAAAA,EAAM,SAAQ,KACrG,MACJ,KAAKG,EAAa,kBACdD,EAAU,6BACV,MACJ,KAAKC,EAAa,oBACdD,EAAU,+BACV,MACJ,KAAKC,EAAa,aACdD,EAAU,eACV,MACJ,KAAKC,EAAa,eACV,OAAOH,EAAM,YAAe,SACxB,aAAcA,EAAM,YACpBE,EAAU,gCAAgC,OAAAF,EAAM,WAAW,SAAQ,KAC/D,OAAOA,EAAM,WAAW,UAAa,WACrCE,EAAU,GAAG,OAAAA,EAAO,uDAAsD,OAAAF,EAAM,WAAW,YAG1F,eAAgBA,EAAM,WAC3BE,EAAU,mCAAmC,OAAAF,EAAM,WAAW,WAAU,KAEnE,aAAcA,EAAM,WACzBE,EAAU,iCAAiC,OAAAF,EAAM,WAAW,SAAQ,KAGpEK,GAAK,YAAYL,EAAM,UAAU,EAGhCA,EAAM,aAAe,QAC1BE,EAAU,WAAW,OAAAF,EAAM,YAG3BE,EAAU,UAEd,MACJ,KAAKC,EAAa,UACVH,EAAM,OAAS,QACfE,EAAU,sBAAsB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,WAAa,YAAW,KAAI,OAAAA,EAAM,QAAO,eAChHA,EAAM,OAAS,SACpBE,EAAU,uBAAuB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,WAAa,OAAM,KAAI,OAAAA,EAAM,QAAO,iBAC5GA,EAAM,OAAS,SACpBE,EAAU,kBAAkB,OAAAF,EAAM,MAAQ,oBAAsBA,EAAM,UAAY,4BAA8B,iBAAkB,OAAAA,EAAM,SACnIA,EAAM,OAAS,OACpBE,EAAU,gBAAgB,OAAAF,EAAM,MAAQ,oBAAsBA,EAAM,UAAY,4BAA8B,iBAAkB,WAAI,KAAK,OAAOA,EAAM,OAAO,CAAC,GAE9JE,EAAU,gBACd,MACJ,KAAKC,EAAa,QACVH,EAAM,OAAS,QACfE,EAAU,sBAAsB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,UAAY,YAAW,KAAI,OAAAA,EAAM,QAAO,eAC/GA,EAAM,OAAS,SACpBE,EAAU,uBAAuB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,UAAY,QAAO,KAAI,OAAAA,EAAM,QAAO,iBAC5GA,EAAM,OAAS,SACpBE,EAAU,kBAAkB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,wBAA0B,YAAW,KAAI,OAAAA,EAAM,SAClHA,EAAM,OAAS,SACpBE,EAAU,kBAAkB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,wBAA0B,YAAW,KAAI,OAAAA,EAAM,SAClHA,EAAM,OAAS,OACpBE,EAAU,gBAAgB,OAAAF,EAAM,MAAQ,UAAYA,EAAM,UAAY,2BAA6B,eAAc,KAAI,WAAI,KAAK,OAAOA,EAAM,OAAO,CAAC,GAEnJE,EAAU,gBACd,MACJ,KAAKC,EAAa,OACdD,EAAU,gBACV,MACJ,KAAKC,EAAa,2BACdD,EAAU,2CACV,MACJ,KAAKC,EAAa,gBACdD,EAAU,gCAAgC,OAAAF,EAAM,YAChD,MACJ,KAAKG,EAAa,WACdD,EAAU,wBACV,MACJ,QACIA,EAAUD,EAAK,aACfI,GAAK,YAAYL,CAAK,CAC9B,CACA,MAAO,CAAE,QAAAE,CAAQ,CACrB,EACOI,GAAQP,GCzGf,IAAIQ,GAAmBC,GAEhB,SAASC,GAAYC,EAAK,CAC7BC,GAAmBD,CACvB,CACO,SAASE,IAAc,CAC1B,OAAOD,EACX,CCNO,IAAME,GAAaC,GAAW,CACjC,GAAM,CAAE,KAAAC,EAAM,KAAAC,EAAM,UAAAC,EAAW,UAAAC,CAAU,EAAIJ,EACvCK,EAAW,CAAC,GAAGH,EAAM,GAAIE,EAAU,MAAQ,CAAC,CAAE,EAC9CE,EAAYC,EAAAC,EAAA,GACXJ,GADW,CAEd,KAAMC,CACV,GACA,GAAID,EAAU,UAAY,OACtB,OAAOG,EAAAC,EAAA,GACAJ,GADA,CAEH,KAAMC,EACN,QAASD,EAAU,OACvB,GAEJ,IAAIK,EAAe,GACbC,EAAOP,EACR,OAAQQ,GAAM,CAAC,CAACA,CAAC,EACjB,MAAM,EACN,QAAQ,EACb,QAAWC,KAAOF,EACdD,EAAeG,EAAIN,EAAW,CAAE,KAAAL,EAAM,aAAcQ,CAAa,CAAC,EAAE,QAExE,OAAOF,EAAAC,EAAA,GACAJ,GADA,CAEH,KAAMC,EACN,QAASI,CACb,EACJ,EACaI,GAAa,CAAC,EACpB,SAASC,EAAkBC,EAAKX,EAAW,CAC9C,IAAMY,EAAcC,GAAY,EAC1BC,EAAQnB,GAAU,CACpB,UAAWK,EACX,KAAMW,EAAI,KACV,KAAMA,EAAI,KACV,UAAW,CACPA,EAAI,OAAO,mBACXA,EAAI,eACJC,EACAA,IAAgBG,GAAkB,OAAYA,EAClD,EAAE,OAAQC,GAAM,CAAC,CAACA,CAAC,CACvB,CAAC,EACDL,EAAI,OAAO,OAAO,KAAKG,CAAK,CAChC,CACO,IAAMG,GAAN,MAAMC,CAAY,CACrB,aAAc,CACV,KAAK,MAAQ,OACjB,CACA,OAAQ,CACA,KAAK,QAAU,UACf,KAAK,MAAQ,QACrB,CACA,OAAQ,CACA,KAAK,QAAU,YACf,KAAK,MAAQ,UACrB,CACA,OAAO,WAAWC,EAAQC,EAAS,CAC/B,IAAMC,EAAa,CAAC,EACpB,QAAWC,KAAKF,EAAS,CACrB,GAAIE,EAAE,SAAW,UACb,OAAOC,GACPD,EAAE,SAAW,SACbH,EAAO,MAAM,EACjBE,EAAW,KAAKC,EAAE,KAAK,CAC3B,CACA,MAAO,CAAE,OAAQH,EAAO,MAAO,MAAOE,CAAW,CACrD,CACA,aAAa,iBAAiBF,EAAQK,EAAO,CACzC,IAAMC,EAAY,CAAC,EACnB,QAAWC,KAAQF,EAAO,CACtB,IAAMG,EAAM,MAAMD,EAAK,IACjBE,EAAQ,MAAMF,EAAK,MACzBD,EAAU,KAAK,CACX,IAAAE,EACA,MAAAC,CACJ,CAAC,CACL,CACA,OAAOV,EAAY,gBAAgBC,EAAQM,CAAS,CACxD,CACA,OAAO,gBAAgBN,EAAQK,EAAO,CAClC,IAAMK,EAAc,CAAC,EACrB,QAAWH,KAAQF,EAAO,CACtB,GAAM,CAAE,IAAAG,EAAK,MAAAC,CAAM,EAAIF,EAGvB,GAFIC,EAAI,SAAW,WAEfC,EAAM,SAAW,UACjB,OAAOL,GACPI,EAAI,SAAW,SACfR,EAAO,MAAM,EACbS,EAAM,SAAW,SACjBT,EAAO,MAAM,EACbQ,EAAI,QAAU,cAAgB,OAAOC,EAAM,MAAU,KAAeF,EAAK,aACzEG,EAAYF,EAAI,KAAK,EAAIC,EAAM,MAEvC,CACA,MAAO,CAAE,OAAQT,EAAO,MAAO,MAAOU,CAAY,CACtD,CACJ,EACaN,GAAU,OAAO,OAAO,CACjC,OAAQ,SACZ,CAAC,EACYO,GAASF,IAAW,CAAE,OAAQ,QAAS,MAAAA,CAAM,GAC7CG,GAAMH,IAAW,CAAE,OAAQ,QAAS,MAAAA,CAAM,GAC1CI,GAAahB,GAAMA,EAAE,SAAW,UAChCiB,GAAWjB,GAAMA,EAAE,SAAW,QAC9BkB,GAAWlB,GAAMA,EAAE,SAAW,QAC9BmB,GAAWnB,GAAM,OAAO,QAAY,KAAeA,aAAa,QC5GtE,IAAIoB,IACV,SAAUA,EAAW,CAClBA,EAAU,SAAYC,GAAY,OAAOA,GAAY,SAAW,CAAE,QAAAA,CAAQ,EAAIA,GAAW,CAAC,EAE1FD,EAAU,SAAYC,GAAY,OAAOA,GAAY,SAAWA,EAAUA,GAAA,YAAAA,EAAS,OACvF,GAAGD,KAAcA,GAAY,CAAC,EAAE,ECAhC,IAAME,GAAN,KAAyB,CACrB,YAAYC,EAAQC,EAAOC,EAAMC,EAAK,CAClC,KAAK,YAAc,CAAC,EACpB,KAAK,OAASH,EACd,KAAK,KAAOC,EACZ,KAAK,MAAQC,EACb,KAAK,KAAOC,CAChB,CACA,IAAI,MAAO,CACP,OAAK,KAAK,YAAY,SACd,MAAM,QAAQ,KAAK,IAAI,EACvB,KAAK,YAAY,KAAK,GAAG,KAAK,MAAO,GAAG,KAAK,IAAI,EAGjD,KAAK,YAAY,KAAK,GAAG,KAAK,MAAO,KAAK,IAAI,GAG/C,KAAK,WAChB,CACJ,EACMC,GAAe,CAACC,EAAKC,IAAW,CAClC,GAAIC,GAAQD,CAAM,EACd,MAAO,CAAE,QAAS,GAAM,KAAMA,EAAO,KAAM,EAG3C,GAAI,CAACD,EAAI,OAAO,OAAO,OACnB,MAAM,IAAI,MAAM,2CAA2C,EAE/D,MAAO,CACH,QAAS,GACT,IAAI,OAAQ,CACR,GAAI,KAAK,OACL,OAAO,KAAK,OAChB,IAAMG,EAAQ,IAAIC,GAASJ,EAAI,OAAO,MAAM,EAC5C,YAAK,OAASG,EACP,KAAK,MAChB,CACJ,CAER,EACA,SAASE,GAAoBC,EAAQ,CACjC,GAAI,CAACA,EACD,MAAO,CAAC,EACZ,GAAM,CAAE,SAAAC,EAAU,mBAAAC,EAAoB,eAAAC,EAAgB,YAAAC,CAAY,EAAIJ,EACtE,GAAIC,IAAaC,GAAsBC,GACnC,MAAM,IAAI,MAAM,2FAA0F,EAE9G,OAAIF,EACO,CAAE,SAAUA,EAAU,YAAAG,CAAY,EAatC,CAAE,SAZS,CAACC,EAAKX,IAAQ,CAtDpC,IAAAY,EAAAC,EAuDQ,GAAM,CAAE,QAAAC,CAAQ,EAAIR,EACpB,OAAIK,EAAI,OAAS,qBACN,CAAE,QAASG,GAAA,KAAAA,EAAWd,EAAI,YAAa,EAE9C,OAAOA,EAAI,KAAS,IACb,CAAE,SAASY,EAAAE,GAAA,KAAAA,EAAWL,IAAX,KAAAG,EAA6BZ,EAAI,YAAa,EAEhEW,EAAI,OAAS,eACN,CAAE,QAASX,EAAI,YAAa,EAChC,CAAE,SAASa,EAAAC,GAAA,KAAAA,EAAWN,IAAX,KAAAK,EAAiCb,EAAI,YAAa,CACxE,EAC8B,YAAAU,CAAY,CAC9C,CACO,IAAMK,GAAN,KAAc,CACjB,IAAI,aAAc,CACd,OAAO,KAAK,KAAK,WACrB,CACA,SAASC,EAAO,CACZ,OAAOC,GAAcD,EAAM,IAAI,CACnC,CACA,gBAAgBA,EAAOhB,EAAK,CACxB,OAAQA,GAAO,CACX,OAAQgB,EAAM,OAAO,OACrB,KAAMA,EAAM,KACZ,WAAYC,GAAcD,EAAM,IAAI,EACpC,eAAgB,KAAK,KAAK,SAC1B,KAAMA,EAAM,KACZ,OAAQA,EAAM,MAClB,CACJ,CACA,oBAAoBA,EAAO,CACvB,MAAO,CACH,OAAQ,IAAIE,GACZ,IAAK,CACD,OAAQF,EAAM,OAAO,OACrB,KAAMA,EAAM,KACZ,WAAYC,GAAcD,EAAM,IAAI,EACpC,eAAgB,KAAK,KAAK,SAC1B,KAAMA,EAAM,KACZ,OAAQA,EAAM,MAClB,CACJ,CACJ,CACA,WAAWA,EAAO,CACd,IAAMf,EAAS,KAAK,OAAOe,CAAK,EAChC,GAAIG,GAAQlB,CAAM,EACd,MAAM,IAAI,MAAM,wCAAwC,EAE5D,OAAOA,CACX,CACA,YAAYe,EAAO,CACf,IAAMf,EAAS,KAAK,OAAOe,CAAK,EAChC,OAAO,QAAQ,QAAQf,CAAM,CACjC,CACA,MAAMmB,EAAMd,EAAQ,CAChB,IAAML,EAAS,KAAK,UAAUmB,EAAMd,CAAM,EAC1C,GAAIL,EAAO,QACP,OAAOA,EAAO,KAClB,MAAMA,EAAO,KACjB,CACA,UAAUmB,EAAMd,EAAQ,CAnH5B,IAAAM,EAoHQ,IAAMZ,EAAM,CACR,OAAQ,CACJ,OAAQ,CAAC,EACT,OAAOY,EAAAN,GAAA,YAAAA,EAAQ,QAAR,KAAAM,EAAiB,GACxB,mBAAoBN,GAAA,YAAAA,EAAQ,QAChC,EACA,MAAMA,GAAA,YAAAA,EAAQ,OAAQ,CAAC,EACvB,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAAc,EACA,WAAYH,GAAcG,CAAI,CAClC,EACMnB,EAAS,KAAK,WAAW,CAAE,KAAAmB,EAAM,KAAMpB,EAAI,KAAM,OAAQA,CAAI,CAAC,EACpE,OAAOD,GAAaC,EAAKC,CAAM,CACnC,CACA,YAAYmB,EAAM,CAnItB,IAAAR,EAAAC,EAoIQ,IAAMb,EAAM,CACR,OAAQ,CACJ,OAAQ,CAAC,EACT,MAAO,CAAC,CAAC,KAAK,WAAW,EAAE,KAC/B,EACA,KAAM,CAAC,EACP,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAAoB,EACA,WAAYH,GAAcG,CAAI,CAClC,EACA,GAAI,CAAC,KAAK,WAAW,EAAE,MACnB,GAAI,CACA,IAAMnB,EAAS,KAAK,WAAW,CAAE,KAAAmB,EAAM,KAAM,CAAC,EAAG,OAAQpB,CAAI,CAAC,EAC9D,OAAOE,GAAQD,CAAM,EACf,CACE,MAAOA,EAAO,KAClB,EACE,CACE,OAAQD,EAAI,OAAO,MACvB,CACR,OACOqB,EAAK,EACJR,GAAAD,EAAAS,GAAA,YAAAA,EAAK,UAAL,YAAAT,EAAc,gBAAd,MAAAC,EAA6B,SAAS,iBACtC,KAAK,WAAW,EAAE,MAAQ,IAE9Bb,EAAI,OAAS,CACT,OAAQ,CAAC,EACT,MAAO,EACX,CACJ,CAEJ,OAAO,KAAK,YAAY,CAAE,KAAAoB,EAAM,KAAM,CAAC,EAAG,OAAQpB,CAAI,CAAC,EAAE,KAAMC,GAAWC,GAAQD,CAAM,EAClF,CACE,MAAOA,EAAO,KAClB,EACE,CACE,OAAQD,EAAI,OAAO,MACvB,CAAC,CACT,CACA,MAAM,WAAWoB,EAAMd,EAAQ,CAC3B,IAAML,EAAS,MAAM,KAAK,eAAemB,EAAMd,CAAM,EACrD,GAAIL,EAAO,QACP,OAAOA,EAAO,KAClB,MAAMA,EAAO,KACjB,CACA,MAAM,eAAemB,EAAMd,EAAQ,CAC/B,IAAMN,EAAM,CACR,OAAQ,CACJ,OAAQ,CAAC,EACT,mBAAoBM,GAAA,YAAAA,EAAQ,SAC5B,MAAO,EACX,EACA,MAAMA,GAAA,YAAAA,EAAQ,OAAQ,CAAC,EACvB,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAAc,EACA,WAAYH,GAAcG,CAAI,CAClC,EACME,EAAmB,KAAK,OAAO,CAAE,KAAAF,EAAM,KAAMpB,EAAI,KAAM,OAAQA,CAAI,CAAC,EACpEC,EAAS,MAAOkB,GAAQG,CAAgB,EAAIA,EAAmB,QAAQ,QAAQA,CAAgB,GACrG,OAAOvB,GAAaC,EAAKC,CAAM,CACnC,CACA,OAAOsB,EAAOT,EAAS,CACnB,IAAMU,EAAsBC,GACpB,OAAOX,GAAY,UAAY,OAAOA,EAAY,IAC3C,CAAE,QAAAA,CAAQ,EAEZ,OAAOA,GAAY,WACjBA,EAAQW,CAAG,EAGXX,EAGf,OAAO,KAAK,YAAY,CAACW,EAAKzB,IAAQ,CAClC,IAAMC,EAASsB,EAAME,CAAG,EAClBC,EAAW,IAAM1B,EAAI,SAAS2B,EAAA,CAChC,KAAMC,EAAa,QAChBJ,EAAmBC,CAAG,EAC5B,EACD,OAAI,OAAO,QAAY,KAAexB,aAAkB,QAC7CA,EAAO,KAAMmB,GACXA,EAKM,IAJPM,EAAS,EACF,GAKd,EAEAzB,EAKM,IAJPyB,EAAS,EACF,GAKf,CAAC,CACL,CACA,WAAWH,EAAOM,EAAgB,CAC9B,OAAO,KAAK,YAAY,CAACJ,EAAKzB,IACrBuB,EAAME,CAAG,EAKH,IAJPzB,EAAI,SAAS,OAAO6B,GAAmB,WAAaA,EAAeJ,EAAKzB,CAAG,EAAI6B,CAAc,EACtF,GAKd,CACL,CACA,YAAYC,EAAY,CACpB,OAAO,IAAIC,GAAW,CAClB,OAAQ,KACR,SAAUC,GAAsB,WAChC,OAAQ,CAAE,KAAM,aAAc,WAAAF,CAAW,CAC7C,CAAC,CACL,CACA,YAAYA,EAAY,CACpB,OAAO,KAAK,YAAYA,CAAU,CACtC,CACA,YAAYG,EAAK,CAEb,KAAK,IAAM,KAAK,eAChB,KAAK,KAAOA,EACZ,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EACzC,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,eAAiB,KAAK,eAAe,KAAK,IAAI,EACnD,KAAK,IAAM,KAAK,IAAI,KAAK,IAAI,EAC7B,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EACnC,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EACrC,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EACrC,KAAK,GAAK,KAAK,GAAG,KAAK,IAAI,EAC3B,KAAK,IAAM,KAAK,IAAI,KAAK,IAAI,EAC7B,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EACzC,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EACrC,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,KAAO,KAAK,KAAK,KAAK,IAAI,EAC/B,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,WAAW,EAAI,CAChB,QAAS,EACT,OAAQ,MACR,SAAWb,GAAS,KAAK,WAAW,EAAEA,CAAI,CAC9C,CACJ,CACA,UAAW,CACP,OAAOc,GAAY,OAAO,KAAM,KAAK,IAAI,CAC7C,CACA,UAAW,CACP,OAAOC,GAAY,OAAO,KAAM,KAAK,IAAI,CAC7C,CACA,SAAU,CACN,OAAO,KAAK,SAAS,EAAE,SAAS,CACpC,CACA,OAAQ,CACJ,OAAOC,GAAS,OAAO,IAAI,CAC/B,CACA,SAAU,CACN,OAAOC,GAAW,OAAO,KAAM,KAAK,IAAI,CAC5C,CACA,GAAGC,EAAQ,CACP,OAAOC,GAAS,OAAO,CAAC,KAAMD,CAAM,EAAG,KAAK,IAAI,CACpD,CACA,IAAIE,EAAU,CACV,OAAOC,GAAgB,OAAO,KAAMD,EAAU,KAAK,IAAI,CAC3D,CACA,UAAUE,EAAW,CACjB,OAAO,IAAIX,GAAWY,EAAAhB,EAAA,GACftB,GAAoB,KAAK,IAAI,GADd,CAElB,OAAQ,KACR,SAAU2B,GAAsB,WAChC,OAAQ,CAAE,KAAM,YAAa,UAAAU,CAAU,CAC3C,EAAC,CACL,CACA,QAAQT,EAAK,CACT,IAAMW,EAAmB,OAAOX,GAAQ,WAAaA,EAAM,IAAMA,EACjE,OAAO,IAAIY,GAAWF,EAAAhB,EAAA,GACftB,GAAoB,KAAK,IAAI,GADd,CAElB,UAAW,KACX,aAAcuC,EACd,SAAUZ,GAAsB,UACpC,EAAC,CACL,CACA,OAAQ,CACJ,OAAO,IAAIc,GAAWnB,EAAA,CAClB,SAAUK,GAAsB,WAChC,KAAM,MACH3B,GAAoB,KAAK,IAAI,EACnC,CACL,CACA,MAAM4B,EAAK,CACP,IAAMc,EAAiB,OAAOd,GAAQ,WAAaA,EAAM,IAAMA,EAC/D,OAAO,IAAIe,GAASL,EAAAhB,EAAA,GACbtB,GAAoB,KAAK,IAAI,GADhB,CAEhB,UAAW,KACX,WAAY0C,EACZ,SAAUf,GAAsB,QACpC,EAAC,CACL,CACA,SAAStB,EAAa,CAClB,IAAMuC,EAAO,KAAK,YAClB,OAAO,IAAIA,EAAKN,EAAAhB,EAAA,GACT,KAAK,MADI,CAEZ,YAAAjB,CACJ,EAAC,CACL,CACA,KAAKwC,EAAQ,CACT,OAAOC,GAAY,OAAO,KAAMD,CAAM,CAC1C,CACA,UAAW,CACP,OAAOE,GAAY,OAAO,IAAI,CAClC,CACA,YAAa,CACT,OAAO,KAAK,UAAU,MAAS,EAAE,OACrC,CACA,YAAa,CACT,OAAO,KAAK,UAAU,IAAI,EAAE,OAChC,CACJ,EACMC,GAAY,iBACZC,GAAa,cACbC,GAAY,4BAGZC,GAAY,yFACZC,GAAc,oBACdC,GAAW,mDACXC,GAAgB,2SAahBC,GAAa,qFAIbC,GAAc,uDAChBC,GAEEC,GAAY,sHACZC,GAAgB,2IAGhBC,GAAY,wpBACZC,GAAgB,0rBAEhBC,GAAc,mEAEdC,GAAiB,yEAMjBC,GAAkB,oMAClBC,GAAY,IAAI,OAAO,IAAI,OAAAD,GAAe,IAAG,EACnD,SAASE,GAAgBC,EAAM,CAC3B,IAAIC,EAAqB,WACrBD,EAAK,UACLC,EAAqB,GAAG,OAAAA,EAAkB,WAAU,OAAAD,EAAK,UAAS,KAE7DA,EAAK,WAAa,OACvBC,EAAqB,GAAG,OAAAA,EAAkB,eAE9C,IAAMC,EAAoBF,EAAK,UAAY,IAAM,IACjD,MAAO,8BAA8B,OAAAC,EAAkB,KAAI,OAAAC,EAC/D,CACA,SAASC,GAAUH,EAAM,CACrB,OAAO,IAAI,OAAO,IAAI,OAAAD,GAAgBC,CAAI,EAAC,IAAG,CAClD,CAEO,SAASI,GAAcJ,EAAM,CAChC,IAAIK,EAAQ,GAAG,OAAAR,GAAe,KAAI,OAAAE,GAAgBC,CAAI,GAChDM,EAAO,CAAC,EACd,OAAAA,EAAK,KAAKN,EAAK,MAAQ,KAAO,GAAG,EAC7BA,EAAK,QACLM,EAAK,KAAK,sBAAsB,EACpCD,EAAQ,GAAG,OAAAA,EAAK,KAAI,OAAAC,EAAK,KAAK,GAAG,EAAC,KAC3B,IAAI,OAAO,IAAI,OAAAD,EAAK,IAAG,CAClC,CACA,SAASE,GAAUC,EAAIC,EAAS,CAI5B,MAHK,IAAAA,IAAY,MAAQ,CAACA,IAAYlB,GAAU,KAAKiB,CAAE,IAGlDC,IAAY,MAAQ,CAACA,IAAYhB,GAAU,KAAKe,CAAE,EAI3D,CACA,SAASE,GAAWC,EAAKC,EAAK,CAC1B,GAAI,CAAC1B,GAAS,KAAKyB,CAAG,EAClB,MAAO,GACX,GAAI,CACA,GAAM,CAACE,CAAM,EAAIF,EAAI,MAAM,GAAG,EAExBG,EAASD,EACV,QAAQ,KAAM,GAAG,EACjB,QAAQ,KAAM,GAAG,EACjB,OAAOA,EAAO,QAAW,EAAKA,EAAO,OAAS,GAAM,EAAI,GAAG,EAC1DE,EAAU,KAAK,MAAM,KAAKD,CAAM,CAAC,EAOvC,MANI,SAAOC,GAAY,UAAYA,IAAY,MAE3C,QAASA,IAAWA,GAAA,YAAAA,EAAS,OAAQ,OAErC,CAACA,EAAQ,KAETH,GAAOG,EAAQ,MAAQH,EAG/B,OACMI,EAAA,CACF,MAAO,EACX,CACJ,CACA,SAASC,GAAYT,EAAIC,EAAS,CAI9B,MAHK,IAAAA,IAAY,MAAQ,CAACA,IAAYjB,GAAc,KAAKgB,CAAE,IAGtDC,IAAY,MAAQ,CAACA,IAAYf,GAAc,KAAKc,CAAE,EAI/D,CACO,IAAMU,GAAN,MAAMC,UAAkB5E,EAAQ,CACnC,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,OAAOA,EAAM,IAAI,GAEf,KAAK,SAASA,CAAK,IACnB4E,GAAc,OAAQ,CACrC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,IAAMC,EAAS,IAAI7E,GACflB,EACJ,QAAWuB,KAAS,KAAK,KAAK,OAC1B,GAAIA,EAAM,OAAS,MACXP,EAAM,KAAK,OAASO,EAAM,QAC1BvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAASL,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,MAChBP,EAAM,KAAK,OAASO,EAAM,QAC1BvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAASL,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,SAAU,CAC9B,IAAMyE,EAAShF,EAAM,KAAK,OAASO,EAAM,MACnC0E,EAAWjF,EAAM,KAAK,OAASO,EAAM,OACvCyE,GAAUC,KACVjG,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACjCgG,EACAH,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAASL,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OACnB,CAAC,EAEI0E,GACLJ,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAASL,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OACnB,CAAC,EAELwE,EAAO,MAAM,EAErB,SACSxE,EAAM,OAAS,QACfqC,GAAW,KAAK5C,EAAM,IAAI,IAC3BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,QACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,QACfuC,KACDA,GAAa,IAAI,OAAOD,GAAa,GAAG,GAEvCC,GAAW,KAAK9C,EAAM,IAAI,IAC3BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,QACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,OACfiC,GAAU,KAAKxC,EAAM,IAAI,IAC1BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,OACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,SACfkC,GAAY,KAAKzC,EAAM,IAAI,IAC5BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,SACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,OACf8B,GAAU,KAAKrC,EAAM,IAAI,IAC1BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,OACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,QACf+B,GAAW,KAAKtC,EAAM,IAAI,IAC3BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,QACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,OACfgC,GAAU,KAAKvC,EAAM,IAAI,IAC1BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,OACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,WAGZxE,EAAM,OAAS,MACpB,GAAI,CACA,IAAI,IAAIP,EAAM,IAAI,CACtB,OACMwE,EAAA,CACFxF,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,MACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,CACjB,MAEKxE,EAAM,OAAS,SACpBA,EAAM,MAAM,UAAY,EACLA,EAAM,MAAM,KAAKP,EAAM,IAAI,IAE1ChB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,QACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,IAGZxE,EAAM,OAAS,OACpBP,EAAM,KAAOA,EAAM,KAAK,KAAK,EAExBO,EAAM,OAAS,WACfP,EAAM,KAAK,SAASO,EAAM,MAAOA,EAAM,QAAQ,IAChDvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,eACnB,WAAY,CAAE,SAAUL,EAAM,MAAO,SAAUA,EAAM,QAAS,EAC9D,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,cACpBP,EAAM,KAAOA,EAAM,KAAK,YAAY,EAE/BO,EAAM,OAAS,cACpBP,EAAM,KAAOA,EAAM,KAAK,YAAY,EAE/BO,EAAM,OAAS,aACfP,EAAM,KAAK,WAAWO,EAAM,KAAK,IAClCvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,eACnB,WAAY,CAAE,WAAYL,EAAM,KAAM,EACtC,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,WACfP,EAAM,KAAK,SAASO,EAAM,KAAK,IAChCvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,eACnB,WAAY,CAAE,SAAUL,EAAM,KAAM,EACpC,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,WACNqD,GAAcrD,CAAK,EACtB,KAAKP,EAAM,IAAI,IACtBhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,eACnB,WAAY,WACZ,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,OACN+C,GACH,KAAKtD,EAAM,IAAI,IACtBhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,eACnB,WAAY,OACZ,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,OACNoD,GAAUpD,CAAK,EAClB,KAAKP,EAAM,IAAI,IACtBhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,eACnB,WAAY,OACZ,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,WACfoC,GAAc,KAAK3C,EAAM,IAAI,IAC9BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,WACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,KACfwD,GAAU/D,EAAM,KAAMO,EAAM,OAAO,IACpCvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,KACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,MACf2D,GAAWlE,EAAM,KAAMO,EAAM,GAAG,IACjCvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,MACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,OACfkE,GAAYzE,EAAM,KAAMO,EAAM,OAAO,IACtCvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,OACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,SACf4C,GAAY,KAAKnD,EAAM,IAAI,IAC5BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,SACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,YACf6C,GAAe,KAAKpD,EAAM,IAAI,IAC/BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,WAAY,YACZ,KAAM4B,EAAa,eACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAIjBG,GAAK,YAAY3E,CAAK,EAG9B,MAAO,CAAE,OAAQwE,EAAO,MAAO,MAAO/E,EAAM,IAAK,CACrD,CACA,OAAO6D,EAAOsB,EAAYrF,EAAS,CAC/B,OAAO,KAAK,WAAYM,GAASyD,EAAM,KAAKzD,CAAI,EAAGO,EAAA,CAC/C,WAAAwE,EACA,KAAMvE,EAAa,gBAChBwE,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,UAAUS,EAAO,CACb,OAAO,IAAIoE,EAAUhD,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQJ,CAAK,CACvC,EAAC,CACL,CACA,MAAMT,EAAS,CACX,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,SAAYyE,GAAU,SAAStF,CAAO,EAAG,CAC3E,CACA,IAAIA,EAAS,CACT,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,OAAUyE,GAAU,SAAStF,CAAO,EAAG,CACzE,CACA,MAAMA,EAAS,CACX,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,SAAYyE,GAAU,SAAStF,CAAO,EAAG,CAC3E,CACA,KAAKA,EAAS,CACV,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,QAAWyE,GAAU,SAAStF,CAAO,EAAG,CAC1E,CACA,OAAOA,EAAS,CACZ,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,UAAayE,GAAU,SAAStF,CAAO,EAAG,CAC5E,CACA,KAAKA,EAAS,CACV,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,QAAWyE,GAAU,SAAStF,CAAO,EAAG,CAC1E,CACA,MAAMA,EAAS,CACX,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,SAAYyE,GAAU,SAAStF,CAAO,EAAG,CAC3E,CACA,KAAKA,EAAS,CACV,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,QAAWyE,GAAU,SAAStF,CAAO,EAAG,CAC1E,CACA,OAAOA,EAAS,CACZ,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,UAAayE,GAAU,SAAStF,CAAO,EAAG,CAC5E,CACA,UAAUA,EAAS,CAEf,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,aACHyE,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,IAAIuF,EAAS,CACT,OAAO,KAAK,UAAU1E,EAAA,CAAE,KAAM,OAAUyE,GAAU,SAASC,CAAO,EAAG,CACzE,CACA,GAAGA,EAAS,CACR,OAAO,KAAK,UAAU1E,EAAA,CAAE,KAAM,MAASyE,GAAU,SAASC,CAAO,EAAG,CACxE,CACA,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU1E,EAAA,CAAE,KAAM,QAAWyE,GAAU,SAASC,CAAO,EAAG,CAC1E,CACA,SAASA,EAAS,CA71BtB,IAAAzF,EAAAC,EA81BQ,OAAI,OAAOwF,GAAY,SACZ,KAAK,UAAU,CAClB,KAAM,WACN,UAAW,KACX,OAAQ,GACR,MAAO,GACP,QAASA,CACb,CAAC,EAEE,KAAK,UAAU1E,EAAA,CAClB,KAAM,WACN,UAAW,OAAO0E,GAAA,YAAAA,EAAS,WAAc,IAAc,KAAOA,GAAA,YAAAA,EAAS,UACvE,QAAQzF,EAAAyF,GAAA,YAAAA,EAAS,SAAT,KAAAzF,EAAmB,GAC3B,OAAOC,EAAAwF,GAAA,YAAAA,EAAS,QAAT,KAAAxF,EAAkB,IACtBuF,GAAU,SAASC,GAAA,YAAAA,EAAS,OAAO,EACzC,CACL,CACA,KAAKvF,EAAS,CACV,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,QAAAA,CAAQ,CAAC,CACnD,CACA,KAAKuF,EAAS,CACV,OAAI,OAAOA,GAAY,SACZ,KAAK,UAAU,CAClB,KAAM,OACN,UAAW,KACX,QAASA,CACb,CAAC,EAEE,KAAK,UAAU1E,EAAA,CAClB,KAAM,OACN,UAAW,OAAO0E,GAAA,YAAAA,EAAS,WAAc,IAAc,KAAOA,GAAA,YAAAA,EAAS,WACpED,GAAU,SAASC,GAAA,YAAAA,EAAS,OAAO,EACzC,CACL,CACA,SAASvF,EAAS,CACd,OAAO,KAAK,UAAUa,EAAA,CAAE,KAAM,YAAeyE,GAAU,SAAStF,CAAO,EAAG,CAC9E,CACA,MAAM+D,EAAO/D,EAAS,CAClB,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,QACN,MAAOkD,GACJuB,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,SAASlB,EAAOyG,EAAS,CACrB,OAAO,KAAK,UAAU1E,EAAA,CAClB,KAAM,WACN,MAAO/B,EACP,SAAUyG,GAAA,YAAAA,EAAS,UAChBD,GAAU,SAASC,GAAA,YAAAA,EAAS,OAAO,EACzC,CACL,CACA,WAAWzG,EAAOkB,EAAS,CACvB,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,aACN,MAAO/B,GACJwG,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,SAASlB,EAAOkB,EAAS,CACrB,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,WACN,MAAO/B,GACJwG,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,IAAIwF,EAAWxF,EAAS,CACpB,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,MACN,MAAO2E,GACJF,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,IAAIyF,EAAWzF,EAAS,CACpB,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,MACN,MAAO4E,GACJH,GAAU,SAAStF,CAAO,EAChC,CACL,CACA,OAAO0F,EAAK1F,EAAS,CACjB,OAAO,KAAK,UAAUa,EAAA,CAClB,KAAM,SACN,MAAO6E,GACJJ,GAAU,SAAStF,CAAO,EAChC,CACL,CAIA,SAASA,EAAS,CACd,OAAO,KAAK,IAAI,EAAGsF,GAAU,SAAStF,CAAO,CAAC,CAClD,CACA,MAAO,CACH,OAAO,IAAI6E,EAAUhD,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,MAAO,CAAC,CAClD,EAAC,CACL,CACA,aAAc,CACV,OAAO,IAAIgE,EAAUhD,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,aAAc,CAAC,CACzD,EAAC,CACL,CACA,aAAc,CACV,OAAO,IAAIgE,EAAUhD,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,aAAc,CAAC,CACzD,EAAC,CACL,CACA,IAAI,YAAa,CACb,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAM8E,GAAOA,EAAG,OAAS,UAAU,CACjE,CACA,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CAC7D,CACA,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CAC7D,CACA,IAAI,YAAa,CACb,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,UAAU,CACjE,CACA,IAAI,SAAU,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,OAAO,CAC9D,CACA,IAAI,OAAQ,CACR,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,KAAK,CAC5D,CACA,IAAI,SAAU,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,OAAO,CAC9D,CACA,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CAC7D,CACA,IAAI,UAAW,CACX,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,QAAQ,CAC/D,CACA,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CAC7D,CACA,IAAI,SAAU,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,OAAO,CAC9D,CACA,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CAC7D,CACA,IAAI,MAAO,CACP,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,IAAI,CAC3D,CACA,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CAC7D,CACA,IAAI,UAAW,CACX,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,QAAQ,CAC/D,CACA,IAAI,aAAc,CAEd,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,WAAW,CAClE,CACA,IAAI,WAAY,CACZ,IAAIC,EAAM,KACV,QAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,CACX,CACA,IAAI,WAAY,CACZ,IAAIC,EAAM,KACV,QAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,CACX,CACJ,EACAjB,GAAU,OAAUpF,GAAW,CAnhC/B,IAAAM,EAohCI,OAAO,IAAI8E,GAAU/D,EAAA,CACjB,OAAQ,CAAC,EACT,SAAUK,GAAsB,UAChC,QAAQpB,EAAAN,GAAA,YAAAA,EAAQ,SAAR,KAAAM,EAAkB,IACvBP,GAAoBC,CAAM,EAChC,CACL,EAEA,SAASsG,GAAmBnF,EAAKoF,EAAM,CACnC,IAAMC,GAAerF,EAAI,SAAS,EAAE,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OACnDsF,GAAgBF,EAAK,SAAS,EAAE,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OACrDG,EAAWF,EAAcC,EAAeD,EAAcC,EACtDE,EAAS,OAAO,SAASxF,EAAI,QAAQuF,CAAQ,EAAE,QAAQ,IAAK,EAAE,CAAC,EAC/DE,EAAU,OAAO,SAASL,EAAK,QAAQG,CAAQ,EAAE,QAAQ,IAAK,EAAE,CAAC,EACvE,OAAQC,EAASC,EAAW,IAAMF,CACtC,CACO,IAAMG,GAAN,MAAMC,UAAkBrG,EAAQ,CACnC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,IAAM,KAAK,IAChB,KAAK,IAAM,KAAK,IAChB,KAAK,KAAO,KAAK,UACrB,CACA,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,OAAOA,EAAM,IAAI,GAEf,KAAK,SAASA,CAAK,IACnB4E,GAAc,OAAQ,CACrC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,IAAI9F,EACE+F,EAAS,IAAI7E,GACnB,QAAWK,KAAS,KAAK,KAAK,OACtBA,EAAM,OAAS,MACV2E,GAAK,UAAUlF,EAAM,IAAI,IAC1BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAU,UACV,SAAU,QACV,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,OACHA,EAAM,UAAYP,EAAM,KAAOO,EAAM,MAAQP,EAAM,MAAQO,EAAM,SAE9EvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAASL,EAAM,MACf,KAAM,SACN,UAAWA,EAAM,UACjB,MAAO,GACP,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,OACLA,EAAM,UAAYP,EAAM,KAAOO,EAAM,MAAQP,EAAM,MAAQO,EAAM,SAE5EvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAASL,EAAM,MACf,KAAM,SACN,UAAWA,EAAM,UACjB,MAAO,GACP,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,aAChBqF,GAAmB5F,EAAM,KAAMO,EAAM,KAAK,IAAM,IAChDvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,gBACnB,WAAYL,EAAM,MAClB,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,SACf,OAAO,SAASP,EAAM,IAAI,IAC3BhB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,WACnB,QAASL,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAIjBG,GAAK,YAAY3E,CAAK,EAG9B,MAAO,CAAE,OAAQwE,EAAO,MAAO,MAAO/E,EAAM,IAAK,CACrD,CACA,IAAIpB,EAAOkB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAMwG,GAAU,SAAStF,CAAO,CAAC,CACxE,CACA,GAAGlB,EAAOkB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAOwG,GAAU,SAAStF,CAAO,CAAC,CACzE,CACA,IAAIlB,EAAOkB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAMwG,GAAU,SAAStF,CAAO,CAAC,CACxE,CACA,GAAGlB,EAAOkB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAOwG,GAAU,SAAStF,CAAO,CAAC,CACzE,CACA,SAASuG,EAAMzH,EAAO0H,EAAWxG,EAAS,CACtC,OAAO,IAAIsG,EAAUzE,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CACJ,GAAG,KAAK,KAAK,OACb,CACI,KAAA0F,EACA,MAAAzH,EACA,UAAA0H,EACA,QAASlB,GAAU,SAAStF,CAAO,CACvC,CACJ,CACJ,EAAC,CACL,CACA,UAAUS,EAAO,CACb,OAAO,IAAI6F,EAAUzE,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQJ,CAAK,CACvC,EAAC,CACL,CACA,IAAIT,EAAS,CACT,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,SAASA,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,SAASA,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,WAAWlB,EAAOkB,EAAS,CACvB,OAAO,KAAK,UAAU,CAClB,KAAM,aACN,MAAOlB,EACP,QAASwG,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,OAAOA,EAAS,CACZ,OAAO,KAAK,UAAU,CAClB,KAAM,SACN,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,UAAW,GACX,MAAO,OAAO,iBACd,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,EAAE,UAAU,CACT,KAAM,MACN,UAAW,GACX,MAAO,OAAO,iBACd,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,IAAI,UAAW,CACX,IAAI4F,EAAM,KACV,QAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,CACX,CACA,IAAI,UAAW,CACX,IAAIC,EAAM,KACV,QAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,CACX,CACA,IAAI,OAAQ,CACR,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMF,GAAOA,EAAG,OAAS,OAAUA,EAAG,OAAS,cAAgBP,GAAK,UAAUO,EAAG,KAAK,CAAE,CACtH,CACA,IAAI,UAAW,CACX,IAAIE,EAAM,KACND,EAAM,KACV,QAAWD,KAAM,KAAK,KAAK,OAAQ,CAC/B,GAAIA,EAAG,OAAS,UAAYA,EAAG,OAAS,OAASA,EAAG,OAAS,aACzD,MAAO,GAEFA,EAAG,OAAS,OACbC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAERA,EAAG,OAAS,QACbE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,MAErB,CACA,OAAO,OAAO,SAASC,CAAG,GAAK,OAAO,SAASC,CAAG,CACtD,CACJ,EACAQ,GAAU,OAAU7G,GACT,IAAI6G,GAAUxF,EAAA,CACjB,OAAQ,CAAC,EACT,SAAUK,GAAsB,UAChC,QAAQ1B,GAAA,YAAAA,EAAQ,SAAU,IACvBD,GAAoBC,CAAM,EAChC,EAEE,IAAMiH,GAAN,MAAMC,UAAkBzG,EAAQ,CACnC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,IAAM,KAAK,IAChB,KAAK,IAAM,KAAK,GACpB,CACA,OAAOC,EAAO,CACV,GAAI,KAAK,KAAK,OACV,GAAI,CACAA,EAAM,KAAO,OAAOA,EAAM,IAAI,CAClC,OACMwE,EAAA,CACF,OAAO,KAAK,iBAAiBxE,CAAK,CACtC,CAGJ,GADmB,KAAK,SAASA,CAAK,IACnB4E,GAAc,OAC7B,OAAO,KAAK,iBAAiB5E,CAAK,EAEtC,IAAIhB,EACE+F,EAAS,IAAI7E,GACnB,QAAWK,KAAS,KAAK,KAAK,OACtBA,EAAM,OAAS,OACEA,EAAM,UAAYP,EAAM,KAAOO,EAAM,MAAQP,EAAM,MAAQO,EAAM,SAE9EvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,KAAM,SACN,QAASL,EAAM,MACf,UAAWA,EAAM,UACjB,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,OACLA,EAAM,UAAYP,EAAM,KAAOO,EAAM,MAAQP,EAAM,MAAQO,EAAM,SAE5EvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,KAAM,SACN,QAASL,EAAM,MACf,UAAWA,EAAM,UACjB,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,aAChBP,EAAM,KAAOO,EAAM,QAAU,OAAO,CAAC,IACrCvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,gBACnB,WAAYL,EAAM,MAClB,QAASA,EAAM,OACnB,CAAC,EACDwE,EAAO,MAAM,GAIjBG,GAAK,YAAY3E,CAAK,EAG9B,MAAO,CAAE,OAAQwE,EAAO,MAAO,MAAO/E,EAAM,IAAK,CACrD,CACA,iBAAiBA,EAAO,CACpB,IAAMhB,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,IAAIlG,EAAOkB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAMwG,GAAU,SAAStF,CAAO,CAAC,CACxE,CACA,GAAGlB,EAAOkB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAOwG,GAAU,SAAStF,CAAO,CAAC,CACzE,CACA,IAAIlB,EAAOkB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAMwG,GAAU,SAAStF,CAAO,CAAC,CACxE,CACA,GAAGlB,EAAOkB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOlB,EAAO,GAAOwG,GAAU,SAAStF,CAAO,CAAC,CACzE,CACA,SAASuG,EAAMzH,EAAO0H,EAAWxG,EAAS,CACtC,OAAO,IAAI0G,EAAU7E,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CACJ,GAAG,KAAK,KAAK,OACb,CACI,KAAA0F,EACA,MAAAzH,EACA,UAAA0H,EACA,QAASlB,GAAU,SAAStF,CAAO,CACvC,CACJ,CACJ,EAAC,CACL,CACA,UAAUS,EAAO,CACb,OAAO,IAAIiG,EAAU7E,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQJ,CAAK,CACvC,EAAC,CACL,CACA,SAAST,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,SAASA,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASsF,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,WAAWlB,EAAOkB,EAAS,CACvB,OAAO,KAAK,UAAU,CAClB,KAAM,aACN,MAAAlB,EACA,QAASwG,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,IAAI,UAAW,CACX,IAAI4F,EAAM,KACV,QAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,CACX,CACA,IAAI,UAAW,CACX,IAAIC,EAAM,KACV,QAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,CACX,CACJ,EACAY,GAAU,OAAUjH,GAAW,CA37C/B,IAAAM,EA47CI,OAAO,IAAI2G,GAAU5F,EAAA,CACjB,OAAQ,CAAC,EACT,SAAUK,GAAsB,UAChC,QAAQpB,EAAAN,GAAA,YAAAA,EAAQ,SAAR,KAAAM,EAAkB,IACvBP,GAAoBC,CAAM,EAChC,CACL,EACO,IAAMmH,GAAN,cAAyB1G,EAAQ,CACpC,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,EAAQA,EAAM,MAEZ,KAAK,SAASA,CAAK,IACnB4E,GAAc,QAAS,CACtC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,QACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACAyG,GAAW,OAAUnH,GACV,IAAImH,GAAW9F,EAAA,CAClB,SAAUK,GAAsB,WAChC,QAAQ1B,GAAA,YAAAA,EAAQ,SAAU,IACvBD,GAAoBC,CAAM,EAChC,EAEE,IAAMqH,GAAN,MAAMC,UAAgB7G,EAAQ,CACjC,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,IAAI,KAAKA,EAAM,IAAI,GAEjB,KAAK,SAASA,CAAK,IACnB4E,GAAc,KAAM,CACnC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,KACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,GAAI,OAAO,MAAM9E,EAAM,KAAK,QAAQ,CAAC,EAAG,CACpC,IAAMhB,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,YACvB,CAAC,EACMkE,EACX,CACA,IAAMC,EAAS,IAAI7E,GACflB,EACJ,QAAWuB,KAAS,KAAK,KAAK,OACtBA,EAAM,OAAS,MACXP,EAAM,KAAK,QAAQ,EAAIO,EAAM,QAC7BvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAASL,EAAM,QACf,UAAW,GACX,MAAO,GACP,QAASA,EAAM,MACf,KAAM,MACV,CAAC,EACDwE,EAAO,MAAM,GAGZxE,EAAM,OAAS,MAChBP,EAAM,KAAK,QAAQ,EAAIO,EAAM,QAC7BvB,EAAM,KAAK,gBAAgBgB,EAAOhB,CAAG,EACrC6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAASL,EAAM,QACf,UAAW,GACX,MAAO,GACP,QAASA,EAAM,MACf,KAAM,MACV,CAAC,EACDwE,EAAO,MAAM,GAIjBG,GAAK,YAAY3E,CAAK,EAG9B,MAAO,CACH,OAAQwE,EAAO,MACf,MAAO,IAAI,KAAK/E,EAAM,KAAK,QAAQ,CAAC,CACxC,CACJ,CACA,UAAUO,EAAO,CACb,OAAO,IAAIqG,EAAQjF,EAAAhB,EAAA,GACZ,KAAK,MADO,CAEf,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQJ,CAAK,CACvC,EAAC,CACL,CACA,IAAIsG,EAAS/G,EAAS,CAClB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO+G,EAAQ,QAAQ,EACvB,QAASzB,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,IAAIgH,EAAShH,EAAS,CAClB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAOgH,EAAQ,QAAQ,EACvB,QAAS1B,GAAU,SAAStF,CAAO,CACvC,CAAC,CACL,CACA,IAAI,SAAU,CACV,IAAI4F,EAAM,KACV,QAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,GAAO,KAAO,IAAI,KAAKA,CAAG,EAAI,IACzC,CACA,IAAI,SAAU,CACV,IAAIC,EAAM,KACV,QAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,GAAO,KAAO,IAAI,KAAKA,CAAG,EAAI,IACzC,CACJ,EACAgB,GAAQ,OAAUrH,GACP,IAAIqH,GAAQhG,EAAA,CACf,OAAQ,CAAC,EACT,QAAQrB,GAAA,YAAAA,EAAQ,SAAU,GAC1B,SAAU0B,GAAsB,SAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAMyH,GAAN,cAAwBhH,EAAQ,CACnC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnB4E,GAAc,OAAQ,CACrC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACA+G,GAAU,OAAUzH,GACT,IAAIyH,GAAUpG,EAAA,CACjB,SAAUK,GAAsB,WAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM0H,GAAN,cAA2BjH,EAAQ,CACtC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnB4E,GAAc,UAAW,CACxC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,UACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACAgH,GAAa,OAAU1H,GACZ,IAAI0H,GAAarG,EAAA,CACpB,SAAUK,GAAsB,cAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM2H,GAAN,cAAsBlH,EAAQ,CACjC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnB4E,GAAc,KAAM,CACnC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,KACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACAiH,GAAQ,OAAU3H,GACP,IAAI2H,GAAQtG,EAAA,CACf,SAAUK,GAAsB,SAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM4H,GAAN,cAAqBnH,EAAQ,CAChC,aAAc,CACV,MAAM,GAAG,SAAS,EAElB,KAAK,KAAO,EAChB,CACA,OAAOC,EAAO,CACV,OAAO0G,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACAkH,GAAO,OAAU5H,GACN,IAAI4H,GAAOvG,EAAA,CACd,SAAUK,GAAsB,QAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM6H,GAAN,cAAyBpH,EAAQ,CACpC,aAAc,CACV,MAAM,GAAG,SAAS,EAElB,KAAK,SAAW,EACpB,CACA,OAAOC,EAAO,CACV,OAAO0G,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACAmH,GAAW,OAAU7H,GACV,IAAI6H,GAAWxG,EAAA,CAClB,SAAUK,GAAsB,YAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM8H,GAAN,cAAuBrH,EAAQ,CAClC,OAAOC,EAAO,CACV,IAAMhB,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,MACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACJ,EACAsC,GAAS,OAAU9H,GACR,IAAI8H,GAASzG,EAAA,CAChB,SAAUK,GAAsB,UAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM+H,GAAN,cAAsBtH,EAAQ,CACjC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnB4E,GAAc,UAAW,CACxC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,KACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACJ,EACAqH,GAAQ,OAAU/H,GACP,IAAI+H,GAAQ1G,EAAA,CACf,SAAUK,GAAsB,SAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM8B,GAAN,MAAMkG,UAAiBvH,EAAQ,CAClC,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAhB,EAAK,OAAA+F,CAAO,EAAI,KAAK,oBAAoB/E,CAAK,EAChDiB,EAAM,KAAK,KACjB,GAAIjC,EAAI,aAAe4F,GAAc,MACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,MACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,GAAI7D,EAAI,cAAgB,KAAM,CAC1B,IAAM+D,EAAShG,EAAI,KAAK,OAASiC,EAAI,YAAY,MAC3CgE,EAAWjG,EAAI,KAAK,OAASiC,EAAI,YAAY,OAC/C+D,GAAUC,KACVJ,EAAkB7F,EAAK,CACnB,KAAMgG,EAASpE,EAAa,QAAUA,EAAa,UACnD,QAAUqE,EAAWhE,EAAI,YAAY,MAAQ,OAC7C,QAAU+D,EAAS/D,EAAI,YAAY,MAAQ,OAC3C,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,YAAY,OAC7B,CAAC,EACD8D,EAAO,MAAM,EAErB,CA2BA,GA1BI9D,EAAI,YAAc,MACdjC,EAAI,KAAK,OAASiC,EAAI,UAAU,QAChC4D,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAASK,EAAI,UAAU,MACvB,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,UAAU,OAC3B,CAAC,EACD8D,EAAO,MAAM,GAGjB9D,EAAI,YAAc,MACdjC,EAAI,KAAK,OAASiC,EAAI,UAAU,QAChC4D,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAASK,EAAI,UAAU,MACvB,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,UAAU,OAC3B,CAAC,EACD8D,EAAO,MAAM,GAGjB/F,EAAI,OAAO,MACX,OAAO,QAAQ,IAAI,CAAC,GAAGA,EAAI,IAAI,EAAE,IAAI,CAACuI,EAAMC,IACjCvG,EAAI,KAAK,YAAY,IAAIvC,GAAmBM,EAAKuI,EAAMvI,EAAI,KAAMwI,CAAC,CAAC,CAC7E,CAAC,EAAE,KAAMvI,GACCiB,GAAY,WAAW6E,EAAQ9F,CAAM,CAC/C,EAEL,IAAMA,EAAS,CAAC,GAAGD,EAAI,IAAI,EAAE,IAAI,CAACuI,EAAMC,IAC7BvG,EAAI,KAAK,WAAW,IAAIvC,GAAmBM,EAAKuI,EAAMvI,EAAI,KAAMwI,CAAC,CAAC,CAC5E,EACD,OAAOtH,GAAY,WAAW6E,EAAQ9F,CAAM,CAChD,CACA,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,IACrB,CACA,IAAIqG,EAAWxF,EAAS,CACpB,OAAO,IAAIwH,EAAS3F,EAAAhB,EAAA,GACb,KAAK,MADQ,CAEhB,UAAW,CAAE,MAAO2E,EAAW,QAASF,GAAU,SAAStF,CAAO,CAAE,CACxE,EAAC,CACL,CACA,IAAIyF,EAAWzF,EAAS,CACpB,OAAO,IAAIwH,EAAS3F,EAAAhB,EAAA,GACb,KAAK,MADQ,CAEhB,UAAW,CAAE,MAAO4E,EAAW,QAASH,GAAU,SAAStF,CAAO,CAAE,CACxE,EAAC,CACL,CACA,OAAO0F,EAAK1F,EAAS,CACjB,OAAO,IAAIwH,EAAS3F,EAAAhB,EAAA,GACb,KAAK,MADQ,CAEhB,YAAa,CAAE,MAAO6E,EAAK,QAASJ,GAAU,SAAStF,CAAO,CAAE,CACpE,EAAC,CACL,CACA,SAASA,EAAS,CACd,OAAO,KAAK,IAAI,EAAGA,CAAO,CAC9B,CACJ,EACAsB,GAAS,OAAS,CAACqG,EAAQnI,IAChB,IAAI8B,GAAST,EAAA,CAChB,KAAM8G,EACN,UAAW,KACX,UAAW,KACX,YAAa,KACb,SAAUzG,GAAsB,UAC7B3B,GAAoBC,CAAM,EAChC,EAEL,SAASoI,GAAeD,EAAQ,CAC5B,GAAIA,aAAkBE,GAAW,CAC7B,IAAMC,EAAW,CAAC,EAClB,QAAW9I,KAAO2I,EAAO,MAAO,CAC5B,IAAMI,EAAcJ,EAAO,MAAM3I,CAAG,EACpC8I,EAAS9I,CAAG,EAAIoC,GAAY,OAAOwG,GAAeG,CAAW,CAAC,CAClE,CACA,OAAO,IAAIF,GAAUhG,EAAAhB,EAAA,GACd8G,EAAO,MADO,CAEjB,MAAO,IAAMG,CACjB,EAAC,CACL,KACK,QAAIH,aAAkBrG,GAChB,IAAIA,GAASO,EAAAhB,EAAA,GACb8G,EAAO,MADM,CAEhB,KAAMC,GAAeD,EAAO,OAAO,CACvC,EAAC,EAEIA,aAAkBvG,GAChBA,GAAY,OAAOwG,GAAeD,EAAO,OAAO,CAAC,CAAC,EAEpDA,aAAkBtG,GAChBA,GAAY,OAAOuG,GAAeD,EAAO,OAAO,CAAC,CAAC,EAEpDA,aAAkBK,GAChBA,GAAS,OAAOL,EAAO,MAAM,IAAKF,GAASG,GAAeH,CAAI,CAAC,CAAC,EAGhEE,CAEf,CACO,IAAME,GAAN,MAAMI,UAAkBhI,EAAQ,CACnC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,KAKf,KAAK,UAAY,KAAK,YAqCtB,KAAK,QAAU,KAAK,MACxB,CACA,YAAa,CACT,GAAI,KAAK,UAAY,KACjB,OAAO,KAAK,QAChB,IAAMiI,EAAQ,KAAK,KAAK,MAAM,EACxBC,EAAO/C,GAAK,WAAW8C,CAAK,EAClC,YAAK,QAAU,CAAE,MAAAA,EAAO,KAAAC,CAAK,EACtB,KAAK,OAChB,CACA,OAAOjI,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnB4E,GAAc,OAAQ,CACrC,IAAM5F,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,EACX,CACA,GAAM,CAAE,OAAAC,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAChD,CAAE,MAAAgI,EAAO,KAAME,CAAU,EAAI,KAAK,WAAW,EAC7CC,EAAY,CAAC,EACnB,GAAI,EAAE,KAAK,KAAK,oBAAoBf,IAAY,KAAK,KAAK,cAAgB,SACtE,QAAWtI,KAAOE,EAAI,KACbkJ,EAAU,SAASpJ,CAAG,GACvBqJ,EAAU,KAAKrJ,CAAG,EAI9B,IAAMsJ,EAAQ,CAAC,EACf,QAAWtJ,KAAOoJ,EAAW,CACzB,IAAMG,EAAeL,EAAMlJ,CAAG,EACxBF,EAAQI,EAAI,KAAKF,CAAG,EAC1BsJ,EAAM,KAAK,CACP,IAAK,CAAE,OAAQ,QAAS,MAAOtJ,CAAI,EACnC,MAAOuJ,EAAa,OAAO,IAAI3J,GAAmBM,EAAKJ,EAAOI,EAAI,KAAMF,CAAG,CAAC,EAC5E,UAAWA,KAAOE,EAAI,IAC1B,CAAC,CACL,CACA,GAAI,KAAK,KAAK,oBAAoBoI,GAAU,CACxC,IAAMkB,EAAc,KAAK,KAAK,YAC9B,GAAIA,IAAgB,cAChB,QAAWxJ,KAAOqJ,EACdC,EAAM,KAAK,CACP,IAAK,CAAE,OAAQ,QAAS,MAAOtJ,CAAI,EACnC,MAAO,CAAE,OAAQ,QAAS,MAAOE,EAAI,KAAKF,CAAG,CAAE,CACnD,CAAC,UAGAwJ,IAAgB,SACjBH,EAAU,OAAS,IACnBtD,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,kBACnB,KAAMuH,CACV,CAAC,EACDpD,EAAO,MAAM,WAGZuD,IAAgB,QAGrB,MAAM,IAAI,MAAM,sDAAsD,CAE9E,KACK,CAED,IAAMC,EAAW,KAAK,KAAK,SAC3B,QAAWzJ,KAAOqJ,EAAW,CACzB,IAAMvJ,EAAQI,EAAI,KAAKF,CAAG,EAC1BsJ,EAAM,KAAK,CACP,IAAK,CAAE,OAAQ,QAAS,MAAOtJ,CAAI,EACnC,MAAOyJ,EAAS,OAAO,IAAI7J,GAAmBM,EAAKJ,EAAOI,EAAI,KAAMF,CAAG,CACvE,EACA,UAAWA,KAAOE,EAAI,IAC1B,CAAC,CACL,CACJ,CACA,OAAIA,EAAI,OAAO,MACJ,QAAQ,QAAQ,EAClB,KAAK,SAAY,CAClB,IAAMwJ,EAAY,CAAC,EACnB,QAAWC,KAAQL,EAAO,CACtB,IAAMtJ,EAAM,MAAM2J,EAAK,IACjB7J,EAAQ,MAAM6J,EAAK,MACzBD,EAAU,KAAK,CACX,IAAA1J,EACA,MAAAF,EACA,UAAW6J,EAAK,SACpB,CAAC,CACL,CACA,OAAOD,CACX,CAAC,EACI,KAAMA,GACAtI,GAAY,gBAAgB6E,EAAQyD,CAAS,CACvD,EAGMtI,GAAY,gBAAgB6E,EAAQqD,CAAK,CAExD,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,KAAK,MAAM,CAC3B,CACA,OAAOtI,EAAS,CACZ,OAAAsF,GAAU,SACH,IAAI2C,EAAUpH,EAAAgB,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,YAAa,WACTb,IAAY,OACV,CACE,SAAU,CAAC4I,EAAO1J,IAAQ,CAj/D9C,IAAAY,EAAAC,EAAA8I,EAAAC,EAk/DwB,IAAMC,GAAeF,GAAA9I,GAAAD,EAAA,KAAK,MAAK,WAAV,YAAAC,EAAA,KAAAD,EAAqB8I,EAAO1J,GAAK,UAAjC,KAAA2J,EAA4C3J,EAAI,aACrE,OAAI0J,EAAM,OAAS,oBACR,CACH,SAASE,EAAAxD,GAAU,SAAStF,CAAO,EAAE,UAA5B,KAAA8I,EAAuCC,CACpD,EACG,CACH,QAASA,CACb,CACJ,CACJ,EACE,CAAC,EACV,CACL,CACA,OAAQ,CACJ,OAAO,IAAId,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,YAAa,OACjB,EAAC,CACL,CACA,aAAc,CACV,OAAO,IAAIoH,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,YAAa,aACjB,EAAC,CACL,CAkBA,OAAOmI,EAAc,CACjB,OAAO,IAAIf,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,MAAO,IAAOA,IAAA,GACP,KAAK,KAAK,MAAM,GAChBmI,EAEX,EAAC,CACL,CAMA,MAAMC,EAAS,CAUX,OATe,IAAIhB,EAAU,CACzB,YAAagB,EAAQ,KAAK,YAC1B,SAAUA,EAAQ,KAAK,SACvB,MAAO,IAAOpI,IAAA,GACP,KAAK,KAAK,MAAM,GAChBoI,EAAQ,KAAK,MAAM,GAE1B,SAAU/H,GAAsB,SACpC,CAAC,CAEL,CAoCA,OAAOlC,EAAK2I,EAAQ,CAChB,OAAO,KAAK,QAAQ,CAAE,CAAC3I,CAAG,EAAG2I,CAAO,CAAC,CACzC,CAsBA,SAASuB,EAAO,CACZ,OAAO,IAAIjB,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,SAAUqI,CACd,EAAC,CACL,CACA,KAAKC,EAAM,CACP,IAAMjB,EAAQ,CAAC,EACf,QAAWlJ,KAAOoG,GAAK,WAAW+D,CAAI,EAC9BA,EAAKnK,CAAG,GAAK,KAAK,MAAMA,CAAG,IAC3BkJ,EAAMlJ,CAAG,EAAI,KAAK,MAAMA,CAAG,GAGnC,OAAO,IAAIiJ,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,MAAO,IAAMqH,CACjB,EAAC,CACL,CACA,KAAKiB,EAAM,CACP,IAAMjB,EAAQ,CAAC,EACf,QAAWlJ,KAAOoG,GAAK,WAAW,KAAK,KAAK,EACnC+D,EAAKnK,CAAG,IACTkJ,EAAMlJ,CAAG,EAAI,KAAK,MAAMA,CAAG,GAGnC,OAAO,IAAIiJ,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,MAAO,IAAMqH,CACjB,EAAC,CACL,CAIA,aAAc,CACV,OAAON,GAAe,IAAI,CAC9B,CACA,QAAQuB,EAAM,CACV,IAAMrB,EAAW,CAAC,EAClB,QAAW9I,KAAOoG,GAAK,WAAW,KAAK,KAAK,EAAG,CAC3C,IAAM2C,EAAc,KAAK,MAAM/I,CAAG,EAC9BmK,GAAQ,CAACA,EAAKnK,CAAG,EACjB8I,EAAS9I,CAAG,EAAI+I,EAGhBD,EAAS9I,CAAG,EAAI+I,EAAY,SAAS,CAE7C,CACA,OAAO,IAAIE,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,MAAO,IAAMiH,CACjB,EAAC,CACL,CACA,SAASqB,EAAM,CACX,IAAMrB,EAAW,CAAC,EAClB,QAAW9I,KAAOoG,GAAK,WAAW,KAAK,KAAK,EACxC,GAAI+D,GAAQ,CAACA,EAAKnK,CAAG,EACjB8I,EAAS9I,CAAG,EAAI,KAAK,MAAMA,CAAG,MAE7B,CAED,IAAIoK,EADgB,KAAK,MAAMpK,CAAG,EAElC,KAAOoK,aAAoBhI,IACvBgI,EAAWA,EAAS,KAAK,UAE7BtB,EAAS9I,CAAG,EAAIoK,CACpB,CAEJ,OAAO,IAAInB,EAAUpG,EAAAhB,EAAA,GACd,KAAK,MADS,CAEjB,MAAO,IAAMiH,CACjB,EAAC,CACL,CACA,OAAQ,CACJ,OAAOuB,GAAcjE,GAAK,WAAW,KAAK,KAAK,CAAC,CACpD,CACJ,EACAyC,GAAU,OAAS,CAACK,EAAO1I,IAChB,IAAIqI,GAAUhH,EAAA,CACjB,MAAO,IAAMqH,EACb,YAAa,QACb,SAAUZ,GAAS,OAAO,EAC1B,SAAUpG,GAAsB,WAC7B3B,GAAoBC,CAAM,EAChC,EAELqI,GAAU,aAAe,CAACK,EAAO1I,IACtB,IAAIqI,GAAUhH,EAAA,CACjB,MAAO,IAAMqH,EACb,YAAa,SACb,SAAUZ,GAAS,OAAO,EAC1B,SAAUpG,GAAsB,WAC7B3B,GAAoBC,CAAM,EAChC,EAELqI,GAAU,WAAa,CAACK,EAAO1I,IACpB,IAAIqI,GAAUhH,EAAA,CACjB,MAAAqH,EACA,YAAa,QACb,SAAUZ,GAAS,OAAO,EAC1B,SAAUpG,GAAsB,WAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAMiC,GAAN,cAAuBxB,EAAQ,CAClC,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAhB,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EACxCqF,EAAU,KAAK,KAAK,QAC1B,SAAS+D,EAAcC,EAAS,CAE5B,QAAWpK,KAAUoK,EACjB,GAAIpK,EAAO,OAAO,SAAW,QACzB,OAAOA,EAAO,OAGtB,QAAWA,KAAUoK,EACjB,GAAIpK,EAAO,OAAO,SAAW,QAEzB,OAAAD,EAAI,OAAO,OAAO,KAAK,GAAGC,EAAO,IAAI,OAAO,MAAM,EAC3CA,EAAO,OAItB,IAAMqK,EAAcD,EAAQ,IAAKpK,GAAW,IAAIG,GAASH,EAAO,IAAI,OAAO,MAAM,CAAC,EAClF,OAAA4F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,cACnB,YAAA0I,CACJ,CAAC,EACMxE,EACX,CACA,GAAI9F,EAAI,OAAO,MACX,OAAO,QAAQ,IAAIqG,EAAQ,IAAI,MAAO/D,GAAW,CAC7C,IAAMiI,EAAW5H,EAAAhB,EAAA,GACV3B,GADU,CAEb,OAAQ2C,EAAAhB,EAAA,GACD3B,EAAI,QADH,CAEJ,OAAQ,CAAC,CACb,GACA,OAAQ,IACZ,GACA,MAAO,CACH,OAAQ,MAAMsC,EAAO,YAAY,CAC7B,KAAMtC,EAAI,KACV,KAAMA,EAAI,KACV,OAAQuK,CACZ,CAAC,EACD,IAAKA,CACT,CACJ,CAAC,CAAC,EAAE,KAAKH,CAAa,EAErB,CACD,IAAII,EACEC,EAAS,CAAC,EAChB,QAAWnI,KAAU+D,EAAS,CAC1B,IAAMkE,EAAW5H,EAAAhB,EAAA,GACV3B,GADU,CAEb,OAAQ2C,EAAAhB,EAAA,GACD3B,EAAI,QADH,CAEJ,OAAQ,CAAC,CACb,GACA,OAAQ,IACZ,GACMC,EAASqC,EAAO,WAAW,CAC7B,KAAMtC,EAAI,KACV,KAAMA,EAAI,KACV,OAAQuK,CACZ,CAAC,EACD,GAAItK,EAAO,SAAW,QAClB,OAAOA,EAEFA,EAAO,SAAW,SAAW,CAACuK,IACnCA,EAAQ,CAAE,OAAAvK,EAAQ,IAAKsK,CAAS,GAEhCA,EAAS,OAAO,OAAO,QACvBE,EAAO,KAAKF,EAAS,OAAO,MAAM,CAE1C,CACA,GAAIC,EACA,OAAAxK,EAAI,OAAO,OAAO,KAAK,GAAGwK,EAAM,IAAI,OAAO,MAAM,EAC1CA,EAAM,OAEjB,IAAMF,EAAcG,EAAO,IAAKA,GAAW,IAAIrK,GAASqK,CAAM,CAAC,EAC/D,OAAA5E,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,cACnB,YAAA0I,CACJ,CAAC,EACMxE,EACX,CACJ,CACA,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,OACrB,CACJ,EACAvD,GAAS,OAAS,CAACmI,EAAOpK,IACf,IAAIiC,GAASZ,EAAA,CAChB,QAAS+I,EACT,SAAU1I,GAAsB,UAC7B3B,GAAoBC,CAAM,EAChC,EASL,IAAMqK,GAAoBC,GAClBA,aAAgBC,GACTF,GAAiBC,EAAK,MAAM,EAE9BA,aAAgB7I,GACd4I,GAAiBC,EAAK,UAAU,CAAC,EAEnCA,aAAgBE,GACd,CAACF,EAAK,KAAK,EAEbA,aAAgBG,GACdH,EAAK,QAEPA,aAAgBI,GAEd9E,GAAK,aAAa0E,EAAK,IAAI,EAE7BA,aAAgB/H,GACd8H,GAAiBC,EAAK,KAAK,SAAS,EAEtCA,aAAgB5C,GACd,CAAC,MAAS,EAEZ4C,aAAgB3C,GACd,CAAC,IAAI,EAEP2C,aAAgB1I,GACd,CAAC,OAAW,GAAGyI,GAAiBC,EAAK,OAAO,CAAC,CAAC,EAEhDA,aAAgBzI,GACd,CAAC,KAAM,GAAGwI,GAAiBC,EAAK,OAAO,CAAC,CAAC,EAE3CA,aAAgB9H,IAGhB8H,aAAgBxH,GAFduH,GAAiBC,EAAK,OAAO,CAAC,EAKhCA,aAAgB5H,GACd2H,GAAiBC,EAAK,KAAK,SAAS,EAGpC,CAAC,EAGHK,GAAN,MAAMC,UAA8BnK,EAAQ,CAC/C,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAhB,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAC9C,GAAIhB,EAAI,aAAe4F,GAAc,OACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,IAAMqF,EAAgB,KAAK,cACrBC,EAAqBpL,EAAI,KAAKmL,CAAa,EAC3C7I,EAAS,KAAK,WAAW,IAAI8I,CAAkB,EACrD,OAAK9I,EAQDtC,EAAI,OAAO,MACJsC,EAAO,YAAY,CACtB,KAAMtC,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EAGMsC,EAAO,WAAW,CACrB,KAAMtC,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,GAnBD6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,4BACnB,QAAS,MAAM,KAAK,KAAK,WAAW,KAAK,CAAC,EAC1C,KAAM,CAACuJ,CAAa,CACxB,CAAC,EACMrF,GAgBf,CACA,IAAI,eAAgB,CAChB,OAAO,KAAK,KAAK,aACrB,CACA,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,OACrB,CACA,IAAI,YAAa,CACb,OAAO,KAAK,KAAK,UACrB,CASA,OAAO,OAAOqF,EAAe9E,EAAS/F,EAAQ,CAE1C,IAAM+K,EAAa,IAAI,IAEvB,QAAWT,KAAQvE,EAAS,CACxB,IAAMiF,EAAsBX,GAAiBC,EAAK,MAAMO,CAAa,CAAC,EACtE,GAAI,CAACG,EAAoB,OACrB,MAAM,IAAI,MAAM,kCAAmC,OAAAH,EAAa,mDAAmD,EAEvH,QAAWvL,KAAS0L,EAAqB,CACrC,GAAID,EAAW,IAAIzL,CAAK,EACpB,MAAM,IAAI,MAAM,0BAA0B,cAAOuL,CAAa,EAAC,yBAAwB,cAAOvL,CAAK,EAAG,EAE1GyL,EAAW,IAAIzL,EAAOgL,CAAI,CAC9B,CACJ,CACA,OAAO,IAAIM,EAAsBvJ,EAAA,CAC7B,SAAUK,GAAsB,sBAChC,cAAAmJ,EACA,QAAA9E,EACA,WAAAgF,GACGhL,GAAoBC,CAAM,EAChC,CACL,CACJ,EACA,SAASiL,GAAYC,EAAGC,EAAG,CACvB,IAAMC,EAAQzK,GAAcuK,CAAC,EACvBG,EAAQ1K,GAAcwK,CAAC,EAC7B,GAAID,IAAMC,EACN,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAE,EAE7B,GAAIE,IAAU9F,GAAc,QAAU+F,IAAU/F,GAAc,OAAQ,CACvE,IAAMgG,EAAQ1F,GAAK,WAAWuF,CAAC,EACzBI,EAAa3F,GAAK,WAAWsF,CAAC,EAAE,OAAQ1L,GAAQ8L,EAAM,QAAQ9L,CAAG,IAAM,EAAE,EACzEgM,EAASnK,IAAA,GAAK6J,GAAMC,GAC1B,QAAW3L,KAAO+L,EAAY,CAC1B,IAAME,EAAcR,GAAYC,EAAE1L,CAAG,EAAG2L,EAAE3L,CAAG,CAAC,EAC9C,GAAI,CAACiM,EAAY,MACb,MAAO,CAAE,MAAO,EAAM,EAE1BD,EAAOhM,CAAG,EAAIiM,EAAY,IAC9B,CACA,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAO,CACvC,SACSJ,IAAU9F,GAAc,OAAS+F,IAAU/F,GAAc,MAAO,CACrE,GAAI4F,EAAE,SAAWC,EAAE,OACf,MAAO,CAAE,MAAO,EAAM,EAE1B,IAAMO,EAAW,CAAC,EAClB,QAAShC,EAAQ,EAAGA,EAAQwB,EAAE,OAAQxB,IAAS,CAC3C,IAAMiC,EAAQT,EAAExB,CAAK,EACfkC,EAAQT,EAAEzB,CAAK,EACf+B,EAAcR,GAAYU,EAAOC,CAAK,EAC5C,GAAI,CAACH,EAAY,MACb,MAAO,CAAE,MAAO,EAAM,EAE1BC,EAAS,KAAKD,EAAY,IAAI,CAClC,CACA,MAAO,CAAE,MAAO,GAAM,KAAMC,CAAS,CACzC,KACK,QAAIN,IAAU9F,GAAc,MAAQ+F,IAAU/F,GAAc,MAAQ,CAAC4F,GAAM,CAACC,EACtE,CAAE,MAAO,GAAM,KAAMD,CAAE,EAGvB,CAAE,MAAO,EAAM,CAE9B,CACO,IAAM/I,GAAN,cAA8B1B,EAAQ,CACzC,OAAOC,EAAO,CACV,GAAM,CAAE,OAAA+E,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAChDmL,EAAe,CAACC,EAAYC,IAAgB,CAC9C,GAAIC,GAAUF,CAAU,GAAKE,GAAUD,CAAW,EAC9C,OAAOvG,GAEX,IAAMyG,EAAShB,GAAYa,EAAW,MAAOC,EAAY,KAAK,EAC9D,OAAKE,EAAO,QAMRC,GAAQJ,CAAU,GAAKI,GAAQH,CAAW,IAC1CtG,EAAO,MAAM,EAEV,CAAE,OAAQA,EAAO,MAAO,MAAOwG,EAAO,IAAK,IAR9C1G,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,0BACvB,CAAC,EACMkE,GAMf,EACA,OAAI9F,EAAI,OAAO,MACJ,QAAQ,IAAI,CACf,KAAK,KAAK,KAAK,YAAY,CACvB,KAAMA,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,KAAK,KAAK,MAAM,YAAY,CACxB,KAAMA,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,CACL,CAAC,EAAE,KAAK,CAAC,CAACyM,EAAMC,CAAK,IAAMP,EAAaM,EAAMC,CAAK,CAAC,EAG7CP,EAAa,KAAK,KAAK,KAAK,WAAW,CAC1C,KAAMnM,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EAAG,KAAK,KAAK,MAAM,WAAW,CAC3B,KAAMA,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,CAAC,CAEV,CACJ,EACAyC,GAAgB,OAAS,CAACgK,EAAMC,EAAOpM,IAC5B,IAAImC,GAAgBd,EAAA,CACvB,KAAM8K,EACN,MAAOC,EACP,SAAU1K,GAAsB,iBAC7B3B,GAAoBC,CAAM,EAChC,EAGE,IAAMwI,GAAN,MAAM6D,UAAiB5L,EAAQ,CAClC,OAAOC,EAAO,CACV,GAAM,CAAE,OAAA+E,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EACtD,GAAIhB,EAAI,aAAe4F,GAAc,MACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,MACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,GAAI9F,EAAI,KAAK,OAAS,KAAK,KAAK,MAAM,OAClC,OAAA6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAAS,KAAK,KAAK,MAAM,OACzB,UAAW,GACX,MAAO,GACP,KAAM,OACV,CAAC,EACMkE,GAGP,CADS,KAAK,KAAK,MACV9F,EAAI,KAAK,OAAS,KAAK,KAAK,MAAM,SAC3C6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAAS,KAAK,KAAK,MAAM,OACzB,UAAW,GACX,MAAO,GACP,KAAM,OACV,CAAC,EACDmE,EAAO,MAAM,GAEjB,IAAM6G,EAAQ,CAAC,GAAG5M,EAAI,IAAI,EACrB,IAAI,CAACuI,EAAMsE,IAAc,CAC1B,IAAMpE,EAAS,KAAK,KAAK,MAAMoE,CAAS,GAAK,KAAK,KAAK,KACvD,OAAKpE,EAEEA,EAAO,OAAO,IAAI/I,GAAmBM,EAAKuI,EAAMvI,EAAI,KAAM6M,CAAS,CAAC,EADhE,IAEf,CAAC,EACI,OAAQC,GAAM,CAAC,CAACA,CAAC,EACtB,OAAI9M,EAAI,OAAO,MACJ,QAAQ,IAAI4M,CAAK,EAAE,KAAMvC,GACrBnJ,GAAY,WAAW6E,EAAQsE,CAAO,CAChD,EAGMnJ,GAAY,WAAW6E,EAAQ6G,CAAK,CAEnD,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,KAAK,KACrB,CACA,KAAKG,EAAM,CACP,OAAO,IAAIJ,EAAShK,EAAAhB,EAAA,GACb,KAAK,MADQ,CAEhB,KAAAoL,CACJ,EAAC,CACL,CACJ,EACAjE,GAAS,OAAS,CAACkE,EAAS1M,IAAW,CACnC,GAAI,CAAC,MAAM,QAAQ0M,CAAO,EACtB,MAAM,IAAI,MAAM,uDAAuD,EAE3E,OAAO,IAAIlE,GAASnH,EAAA,CAChB,MAAOqL,EACP,SAAUhL,GAAsB,SAChC,KAAM,MACH3B,GAAoBC,CAAM,EAChC,CACL,EACO,IAAM2M,GAAN,MAAMC,UAAkBnM,EAAQ,CACnC,IAAI,WAAY,CACZ,OAAO,KAAK,KAAK,OACrB,CACA,IAAI,aAAc,CACd,OAAO,KAAK,KAAK,SACrB,CACA,OAAOC,EAAO,CACV,GAAM,CAAE,OAAA+E,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EACtD,GAAIhB,EAAI,aAAe4F,GAAc,OACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,OACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,IAAMsD,EAAQ,CAAC,EACT+D,EAAU,KAAK,KAAK,QACpBC,EAAY,KAAK,KAAK,UAC5B,QAAWtN,KAAOE,EAAI,KAClBoJ,EAAM,KAAK,CACP,IAAK+D,EAAQ,OAAO,IAAIzN,GAAmBM,EAAKF,EAAKE,EAAI,KAAMF,CAAG,CAAC,EACnE,MAAOsN,EAAU,OAAO,IAAI1N,GAAmBM,EAAKA,EAAI,KAAKF,CAAG,EAAGE,EAAI,KAAMF,CAAG,CAAC,EACjF,UAAWA,KAAOE,EAAI,IAC1B,CAAC,EAEL,OAAIA,EAAI,OAAO,MACJkB,GAAY,iBAAiB6E,EAAQqD,CAAK,EAG1ClI,GAAY,gBAAgB6E,EAAQqD,CAAK,CAExD,CACA,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,SACrB,CACA,OAAO,OAAOiE,EAAOC,EAAQC,EAAO,CAChC,OAAID,aAAkBvM,GACX,IAAImM,EAAUvL,EAAA,CACjB,QAAS0L,EACT,UAAWC,EACX,SAAUtL,GAAsB,WAC7B3B,GAAoBkN,CAAK,EAC/B,EAEE,IAAIL,EAAUvL,EAAA,CACjB,QAAS+D,GAAU,OAAO,EAC1B,UAAW2H,EACX,SAAUrL,GAAsB,WAC7B3B,GAAoBiN,CAAM,EAChC,CACL,CACJ,EACaE,GAAN,cAAqBzM,EAAQ,CAChC,IAAI,WAAY,CACZ,OAAO,KAAK,KAAK,OACrB,CACA,IAAI,aAAc,CACd,OAAO,KAAK,KAAK,SACrB,CACA,OAAOC,EAAO,CACV,GAAM,CAAE,OAAA+E,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EACtD,GAAIhB,EAAI,aAAe4F,GAAc,IACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,IACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,IAAMqH,EAAU,KAAK,KAAK,QACpBC,EAAY,KAAK,KAAK,UACtBhE,EAAQ,CAAC,GAAGpJ,EAAI,KAAK,QAAQ,CAAC,EAAE,IAAI,CAAC,CAACF,EAAKF,CAAK,EAAGoK,KAC9C,CACH,IAAKmD,EAAQ,OAAO,IAAIzN,GAAmBM,EAAKF,EAAKE,EAAI,KAAM,CAACgK,EAAO,KAAK,CAAC,CAAC,EAC9E,MAAOoD,EAAU,OAAO,IAAI1N,GAAmBM,EAAKJ,EAAOI,EAAI,KAAM,CAACgK,EAAO,OAAO,CAAC,CAAC,CAC1F,EACH,EACD,GAAIhK,EAAI,OAAO,MAAO,CAClB,IAAMyN,EAAW,IAAI,IACrB,OAAO,QAAQ,QAAQ,EAAE,KAAK,SAAY,CACtC,QAAWhE,KAAQL,EAAO,CACtB,IAAMtJ,EAAM,MAAM2J,EAAK,IACjB7J,EAAQ,MAAM6J,EAAK,MACzB,GAAI3J,EAAI,SAAW,WAAaF,EAAM,SAAW,UAC7C,OAAOkG,IAEPhG,EAAI,SAAW,SAAWF,EAAM,SAAW,UAC3CmG,EAAO,MAAM,EAEjB0H,EAAS,IAAI3N,EAAI,MAAOF,EAAM,KAAK,CACvC,CACA,MAAO,CAAE,OAAQmG,EAAO,MAAO,MAAO0H,CAAS,CACnD,CAAC,CACL,KACK,CACD,IAAMA,EAAW,IAAI,IACrB,QAAWhE,KAAQL,EAAO,CACtB,IAAMtJ,EAAM2J,EAAK,IACX7J,EAAQ6J,EAAK,MACnB,GAAI3J,EAAI,SAAW,WAAaF,EAAM,SAAW,UAC7C,OAAOkG,IAEPhG,EAAI,SAAW,SAAWF,EAAM,SAAW,UAC3CmG,EAAO,MAAM,EAEjB0H,EAAS,IAAI3N,EAAI,MAAOF,EAAM,KAAK,CACvC,CACA,MAAO,CAAE,OAAQmG,EAAO,MAAO,MAAO0H,CAAS,CACnD,CACJ,CACJ,EACAD,GAAO,OAAS,CAACL,EAASC,EAAW9M,IAC1B,IAAIkN,GAAO7L,EAAA,CACd,UAAAyL,EACA,QAAAD,EACA,SAAUnL,GAAsB,QAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAMoN,GAAN,MAAMC,UAAe5M,EAAQ,CAChC,OAAOC,EAAO,CACV,GAAM,CAAE,OAAA+E,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EACtD,GAAIhB,EAAI,aAAe4F,GAAc,IACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,IACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,IAAM7D,EAAM,KAAK,KACbA,EAAI,UAAY,MACZjC,EAAI,KAAK,KAAOiC,EAAI,QAAQ,QAC5B4D,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,UACnB,QAASK,EAAI,QAAQ,MACrB,KAAM,MACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,QAAQ,OACzB,CAAC,EACD8D,EAAO,MAAM,GAGjB9D,EAAI,UAAY,MACZjC,EAAI,KAAK,KAAOiC,EAAI,QAAQ,QAC5B4D,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,QACnB,QAASK,EAAI,QAAQ,MACrB,KAAM,MACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,QAAQ,OACzB,CAAC,EACD8D,EAAO,MAAM,GAGrB,IAAMqH,EAAY,KAAK,KAAK,UAC5B,SAASQ,EAAYC,EAAU,CAC3B,IAAMC,EAAY,IAAI,IACtB,QAAWC,KAAWF,EAAU,CAC5B,GAAIE,EAAQ,SAAW,UACnB,OAAOjI,GACPiI,EAAQ,SAAW,SACnBhI,EAAO,MAAM,EACjB+H,EAAU,IAAIC,EAAQ,KAAK,CAC/B,CACA,MAAO,CAAE,OAAQhI,EAAO,MAAO,MAAO+H,CAAU,CACpD,CACA,IAAMD,EAAW,CAAC,GAAG7N,EAAI,KAAK,OAAO,CAAC,EAAE,IAAI,CAACuI,EAAMC,IAAM4E,EAAU,OAAO,IAAI1N,GAAmBM,EAAKuI,EAAMvI,EAAI,KAAMwI,CAAC,CAAC,CAAC,EACzH,OAAIxI,EAAI,OAAO,MACJ,QAAQ,IAAI6N,CAAQ,EAAE,KAAMA,GAAaD,EAAYC,CAAQ,CAAC,EAG9DD,EAAYC,CAAQ,CAEnC,CACA,IAAIG,EAASlN,EAAS,CAClB,OAAO,IAAI6M,EAAOhL,EAAAhB,EAAA,GACX,KAAK,MADM,CAEd,QAAS,CAAE,MAAOqM,EAAS,QAAS5H,GAAU,SAAStF,CAAO,CAAE,CACpE,EAAC,CACL,CACA,IAAImN,EAASnN,EAAS,CAClB,OAAO,IAAI6M,EAAOhL,EAAAhB,EAAA,GACX,KAAK,MADM,CAEd,QAAS,CAAE,MAAOsM,EAAS,QAAS7H,GAAU,SAAStF,CAAO,CAAE,CACpE,EAAC,CACL,CACA,KAAKoN,EAAMpN,EAAS,CAChB,OAAO,KAAK,IAAIoN,EAAMpN,CAAO,EAAE,IAAIoN,EAAMpN,CAAO,CACpD,CACA,SAASA,EAAS,CACd,OAAO,KAAK,IAAI,EAAGA,CAAO,CAC9B,CACJ,EACA4M,GAAO,OAAS,CAACN,EAAW9M,IACjB,IAAIoN,GAAO/L,EAAA,CACd,UAAAyL,EACA,QAAS,KACT,QAAS,KACT,SAAUpL,GAAsB,QAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM6N,GAAN,MAAMC,UAAoBrN,EAAQ,CACrC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,SAAW,KAAK,SACzB,CACA,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAhB,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAC9C,GAAIhB,EAAI,aAAe4F,GAAc,SACjC,OAAAC,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,SACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,SAASuI,EAAc7J,EAAMrE,EAAO,CAChC,OAAOmO,GAAU,CACb,KAAM9J,EACN,KAAMxE,EAAI,KACV,UAAW,CAACA,EAAI,OAAO,mBAAoBA,EAAI,eAAgBuO,GAAY,EAAGC,EAAe,EAAE,OAAQ1B,GAAM,CAAC,CAACA,CAAC,EAChH,UAAW,CACP,KAAMlL,EAAa,kBACnB,eAAgBzB,CACpB,CACJ,CAAC,CACL,CACA,SAASsO,EAAiBC,EAASvO,EAAO,CACtC,OAAOmO,GAAU,CACb,KAAMI,EACN,KAAM1O,EAAI,KACV,UAAW,CAACA,EAAI,OAAO,mBAAoBA,EAAI,eAAgBuO,GAAY,EAAGC,EAAe,EAAE,OAAQ1B,GAAM,CAAC,CAACA,CAAC,EAChH,UAAW,CACP,KAAMlL,EAAa,oBACnB,gBAAiBzB,CACrB,CACJ,CAAC,CACL,CACA,IAAMG,EAAS,CAAE,SAAUN,EAAI,OAAO,kBAAmB,EACnD2O,EAAK3O,EAAI,KACf,GAAI,KAAK,KAAK,mBAAmBqC,GAAY,CAIzC,IAAMuM,EAAK,KACX,OAAOlH,GAAG,kBAAmBlD,EAAM,CAC/B,IAAMrE,EAAQ,IAAIC,GAAS,CAAC,CAAC,EACvByO,EAAa,MAAMD,EAAG,KAAK,KAAK,WAAWpK,EAAMlE,CAAM,EAAE,MAAOkF,GAAM,CACxE,MAAArF,EAAM,SAASkO,EAAc7J,EAAMgB,CAAC,CAAC,EAC/BrF,CACV,CAAC,EACKF,EAAS,MAAM,QAAQ,MAAM0O,EAAI,KAAME,CAAU,EAOvD,OANsB,MAAMD,EAAG,KAAK,QAAQ,KAAK,KAC5C,WAAW3O,EAAQK,CAAM,EACzB,MAAOkF,GAAM,CACd,MAAArF,EAAM,SAASsO,EAAiBxO,EAAQuF,CAAC,CAAC,EACpCrF,CACV,CAAC,CAEL,CAAC,CACL,KACK,CAID,IAAMyO,EAAK,KACX,OAAOlH,GAAG,YAAalD,EAAM,CACzB,IAAMqK,EAAaD,EAAG,KAAK,KAAK,UAAUpK,EAAMlE,CAAM,EACtD,GAAI,CAACuO,EAAW,QACZ,MAAM,IAAIzO,GAAS,CAACiO,EAAc7J,EAAMqK,EAAW,KAAK,CAAC,CAAC,EAE9D,IAAM5O,EAAS,QAAQ,MAAM0O,EAAI,KAAME,EAAW,IAAI,EAChDC,EAAgBF,EAAG,KAAK,QAAQ,UAAU3O,EAAQK,CAAM,EAC9D,GAAI,CAACwO,EAAc,QACf,MAAM,IAAI1O,GAAS,CAACqO,EAAiBxO,EAAQ6O,EAAc,KAAK,CAAC,CAAC,EAEtE,OAAOA,EAAc,IACzB,CAAC,CACL,CACJ,CACA,YAAa,CACT,OAAO,KAAK,KAAK,IACrB,CACA,YAAa,CACT,OAAO,KAAK,KAAK,OACrB,CACA,QAAQlC,EAAO,CACX,OAAO,IAAIwB,EAAYzL,EAAAhB,EAAA,GAChB,KAAK,MADW,CAEnB,KAAMmH,GAAS,OAAO8D,CAAK,EAAE,KAAKzE,GAAW,OAAO,CAAC,CACzD,EAAC,CACL,CACA,QAAQ4G,EAAY,CAChB,OAAO,IAAIX,EAAYzL,EAAAhB,EAAA,GAChB,KAAK,MADW,CAEnB,QAASoN,CACb,EAAC,CACL,CACA,UAAUC,EAAM,CAEZ,OADsB,KAAK,MAAMA,CAAI,CAEzC,CACA,gBAAgBA,EAAM,CAElB,OADsB,KAAK,MAAMA,CAAI,CAEzC,CACA,OAAO,OAAOxK,EAAMkK,EAASpO,EAAQ,CACjC,OAAO,IAAI8N,EAAYzM,EAAA,CACnB,KAAO6C,GAAcsE,GAAS,OAAO,CAAC,CAAC,EAAE,KAAKX,GAAW,OAAO,CAAC,EACjE,QAASuG,GAAWvG,GAAW,OAAO,EACtC,SAAUnG,GAAsB,aAC7B3B,GAAoBC,CAAM,EAChC,CACL,CACJ,EACauK,GAAN,cAAsB9J,EAAQ,CACjC,IAAI,QAAS,CACT,OAAO,KAAK,KAAK,OAAO,CAC5B,CACA,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAhB,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAE9C,OADmB,KAAK,KAAK,OAAO,EAClB,OAAO,CAAE,KAAMhB,EAAI,KAAM,KAAMA,EAAI,KAAM,OAAQA,CAAI,CAAC,CAC5E,CACJ,EACA6K,GAAQ,OAAS,CAACoE,EAAQ3O,IACf,IAAIuK,GAAQlJ,EAAA,CACf,OAAQsN,EACR,SAAUjN,GAAsB,SAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAMwK,GAAN,cAAyB/J,EAAQ,CACpC,OAAOC,EAAO,CACV,GAAIA,EAAM,OAAS,KAAK,KAAK,MAAO,CAChC,IAAMhB,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,OAAA6E,EAAkB7F,EAAK,CACnB,SAAUA,EAAI,KACd,KAAM4B,EAAa,gBACnB,SAAU,KAAK,KAAK,KACxB,CAAC,EACMkE,EACX,CACA,MAAO,CAAE,OAAQ,QAAS,MAAO9E,EAAM,IAAK,CAChD,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,KAAK,KACrB,CACJ,EACA8J,GAAW,OAAS,CAAClL,EAAOU,IACjB,IAAIwK,GAAWnJ,EAAA,CAClB,MAAO/B,EACP,SAAUoC,GAAsB,YAC7B3B,GAAoBC,CAAM,EAChC,EAEL,SAAS6J,GAAc+E,EAAQ5O,EAAQ,CACnC,OAAO,IAAIyK,GAAQpJ,EAAA,CACf,OAAAuN,EACA,SAAUlN,GAAsB,SAC7B3B,GAAoBC,CAAM,EAChC,CACL,CACO,IAAMyK,GAAN,MAAMoE,UAAgBpO,EAAQ,CACjC,OAAOC,EAAO,CACV,GAAI,OAAOA,EAAM,MAAS,SAAU,CAChC,IAAMhB,EAAM,KAAK,gBAAgBgB,CAAK,EAChCoO,EAAiB,KAAK,KAAK,OACjC,OAAAvJ,EAAkB7F,EAAK,CACnB,SAAUkG,GAAK,WAAWkJ,CAAc,EACxC,SAAUpP,EAAI,WACd,KAAM4B,EAAa,YACvB,CAAC,EACMkE,EACX,CAIA,GAHK,KAAK,SACN,KAAK,OAAS,IAAI,IAAI,KAAK,KAAK,MAAM,GAEtC,CAAC,KAAK,OAAO,IAAI9E,EAAM,IAAI,EAAG,CAC9B,IAAMhB,EAAM,KAAK,gBAAgBgB,CAAK,EAChCoO,EAAiB,KAAK,KAAK,OACjC,OAAAvJ,EAAkB7F,EAAK,CACnB,SAAUA,EAAI,KACd,KAAM4B,EAAa,mBACnB,QAASwN,CACb,CAAC,EACMtJ,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACA,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,MACrB,CACA,IAAI,MAAO,CACP,IAAMqO,EAAa,CAAC,EACpB,QAAW5N,KAAO,KAAK,KAAK,OACxB4N,EAAW5N,CAAG,EAAIA,EAEtB,OAAO4N,CACX,CACA,IAAI,QAAS,CACT,IAAMA,EAAa,CAAC,EACpB,QAAW5N,KAAO,KAAK,KAAK,OACxB4N,EAAW5N,CAAG,EAAIA,EAEtB,OAAO4N,CACX,CACA,IAAI,MAAO,CACP,IAAMA,EAAa,CAAC,EACpB,QAAW5N,KAAO,KAAK,KAAK,OACxB4N,EAAW5N,CAAG,EAAIA,EAEtB,OAAO4N,CACX,CACA,QAAQH,EAAQI,EAAS,KAAK,KAAM,CAChC,OAAOH,EAAQ,OAAOD,EAAQvN,IAAA,GACvB,KAAK,MACL2N,EACN,CACL,CACA,QAAQJ,EAAQI,EAAS,KAAK,KAAM,CAChC,OAAOH,EAAQ,OAAO,KAAK,QAAQ,OAAQI,GAAQ,CAACL,EAAO,SAASK,CAAG,CAAC,EAAG5N,IAAA,GACpE,KAAK,MACL2N,EACN,CACL,CACJ,EACAvE,GAAQ,OAASZ,GACV,IAAMa,GAAN,cAA4BjK,EAAQ,CACvC,OAAOC,EAAO,CACV,IAAMwO,EAAmBtJ,GAAK,mBAAmB,KAAK,KAAK,MAAM,EAC3DlG,EAAM,KAAK,gBAAgBgB,CAAK,EACtC,GAAIhB,EAAI,aAAe4F,GAAc,QAAU5F,EAAI,aAAe4F,GAAc,OAAQ,CACpF,IAAMwJ,EAAiBlJ,GAAK,aAAasJ,CAAgB,EACzD,OAAA3J,EAAkB7F,EAAK,CACnB,SAAUkG,GAAK,WAAWkJ,CAAc,EACxC,SAAUpP,EAAI,WACd,KAAM4B,EAAa,YACvB,CAAC,EACMkE,EACX,CAIA,GAHK,KAAK,SACN,KAAK,OAAS,IAAI,IAAII,GAAK,mBAAmB,KAAK,KAAK,MAAM,CAAC,GAE/D,CAAC,KAAK,OAAO,IAAIlF,EAAM,IAAI,EAAG,CAC9B,IAAMoO,EAAiBlJ,GAAK,aAAasJ,CAAgB,EACzD,OAAA3J,EAAkB7F,EAAK,CACnB,SAAUA,EAAI,KACd,KAAM4B,EAAa,mBACnB,QAASwN,CACb,CAAC,EACMtJ,EACX,CACA,OAAO4B,GAAG1G,EAAM,IAAI,CACxB,CACA,IAAI,MAAO,CACP,OAAO,KAAK,KAAK,MACrB,CACJ,EACAgK,GAAc,OAAS,CAACkE,EAAQ5O,IACrB,IAAI0K,GAAcrJ,EAAA,CACrB,OAAQuN,EACR,SAAUlN,GAAsB,eAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAM+B,GAAN,cAAyBtB,EAAQ,CACpC,QAAS,CACL,OAAO,KAAK,KAAK,IACrB,CACA,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAhB,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAC9C,GAAIhB,EAAI,aAAe4F,GAAc,SAAW5F,EAAI,OAAO,QAAU,GACjE,OAAA6F,EAAkB7F,EAAK,CACnB,KAAM4B,EAAa,aACnB,SAAUgE,GAAc,QACxB,SAAU5F,EAAI,UAClB,CAAC,EACM8F,GAEX,IAAM2J,EAAczP,EAAI,aAAe4F,GAAc,QAAU5F,EAAI,KAAO,QAAQ,QAAQA,EAAI,IAAI,EAClG,OAAO0H,GAAG+H,EAAY,KAAMrO,GACjB,KAAK,KAAK,KAAK,WAAWA,EAAM,CACnC,KAAMpB,EAAI,KACV,SAAUA,EAAI,OAAO,kBACzB,CAAC,CACJ,CAAC,CACN,CACJ,EACAqC,GAAW,OAAS,CAACoG,EAAQnI,IAClB,IAAI+B,GAAWV,EAAA,CAClB,KAAM8G,EACN,SAAUzG,GAAsB,YAC7B3B,GAAoBC,CAAM,EAChC,EAEE,IAAMyB,GAAN,cAAyBhB,EAAQ,CACpC,WAAY,CACR,OAAO,KAAK,KAAK,MACrB,CACA,YAAa,CACT,OAAO,KAAK,KAAK,OAAO,KAAK,WAAaiB,GAAsB,WAC1D,KAAK,KAAK,OAAO,WAAW,EAC5B,KAAK,KAAK,MACpB,CACA,OAAOhB,EAAO,CACV,GAAM,CAAE,OAAA+E,EAAQ,IAAA/F,CAAI,EAAI,KAAK,oBAAoBgB,CAAK,EAChD0O,EAAS,KAAK,KAAK,QAAU,KAC7BC,EAAW,CACb,SAAWC,GAAQ,CACf/J,EAAkB7F,EAAK4P,CAAG,EACtBA,EAAI,MACJ7J,EAAO,MAAM,EAGbA,EAAO,MAAM,CAErB,EACA,IAAI,MAAO,CACP,OAAO/F,EAAI,IACf,CACJ,EAEA,GADA2P,EAAS,SAAWA,EAAS,SAAS,KAAKA,CAAQ,EAC/CD,EAAO,OAAS,aAAc,CAC9B,IAAMG,EAAYH,EAAO,UAAU1P,EAAI,KAAM2P,CAAQ,EACrD,GAAI3P,EAAI,OAAO,MACX,OAAO,QAAQ,QAAQ6P,CAAS,EAAE,KAAK,MAAOA,GAAc,CACxD,GAAI9J,EAAO,QAAU,UACjB,OAAOD,GACX,IAAM7F,EAAS,MAAM,KAAK,KAAK,OAAO,YAAY,CAC9C,KAAM4P,EACN,KAAM7P,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,OAAIC,EAAO,SAAW,UACX6F,GACP7F,EAAO,SAAW,QACX6P,GAAM7P,EAAO,KAAK,EACzB8F,EAAO,QAAU,QACV+J,GAAM7P,EAAO,KAAK,EACtBA,CACX,CAAC,EAEA,CACD,GAAI8F,EAAO,QAAU,UACjB,OAAOD,GACX,IAAM7F,EAAS,KAAK,KAAK,OAAO,WAAW,CACvC,KAAM4P,EACN,KAAM7P,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,OAAIC,EAAO,SAAW,UACX6F,GACP7F,EAAO,SAAW,QACX6P,GAAM7P,EAAO,KAAK,EACzB8F,EAAO,QAAU,QACV+J,GAAM7P,EAAO,KAAK,EACtBA,CACX,CACJ,CACA,GAAIyP,EAAO,OAAS,aAAc,CAC9B,IAAMK,EAAqBC,GAAQ,CAC/B,IAAM/P,EAASyP,EAAO,WAAWM,EAAKL,CAAQ,EAC9C,GAAI3P,EAAI,OAAO,MACX,OAAO,QAAQ,QAAQC,CAAM,EAEjC,GAAIA,aAAkB,QAClB,MAAM,IAAI,MAAM,2FAA2F,EAE/G,OAAO+P,CACX,EACA,GAAIhQ,EAAI,OAAO,QAAU,GAAO,CAC5B,IAAMiQ,EAAQ,KAAK,KAAK,OAAO,WAAW,CACtC,KAAMjQ,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,OAAIiQ,EAAM,SAAW,UACVnK,IACPmK,EAAM,SAAW,SACjBlK,EAAO,MAAM,EAEjBgK,EAAkBE,EAAM,KAAK,EACtB,CAAE,OAAQlK,EAAO,MAAO,MAAOkK,EAAM,KAAM,EACtD,KAEI,QAAO,KAAK,KAAK,OAAO,YAAY,CAAE,KAAMjQ,EAAI,KAAM,KAAMA,EAAI,KAAM,OAAQA,CAAI,CAAC,EAAE,KAAMiQ,GACnFA,EAAM,SAAW,UACVnK,IACPmK,EAAM,SAAW,SACjBlK,EAAO,MAAM,EACVgK,EAAkBE,EAAM,KAAK,EAAE,KAAK,KAChC,CAAE,OAAQlK,EAAO,MAAO,MAAOkK,EAAM,KAAM,EACrD,EACJ,CAET,CACA,GAAIP,EAAO,OAAS,YAChB,GAAI1P,EAAI,OAAO,QAAU,GAAO,CAC5B,IAAMkQ,EAAO,KAAK,KAAK,OAAO,WAAW,CACrC,KAAMlQ,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,GAAI,CAACE,GAAQgQ,CAAI,EACb,OAAOpK,GACX,IAAM7F,EAASyP,EAAO,UAAUQ,EAAK,MAAOP,CAAQ,EACpD,GAAI1P,aAAkB,QAClB,MAAM,IAAI,MAAM,iGAAiG,EAErH,MAAO,CAAE,OAAQ8F,EAAO,MAAO,MAAO9F,CAAO,CACjD,KAEI,QAAO,KAAK,KAAK,OAAO,YAAY,CAAE,KAAMD,EAAI,KAAM,KAAMA,EAAI,KAAM,OAAQA,CAAI,CAAC,EAAE,KAAMkQ,GAClFhQ,GAAQgQ,CAAI,EAEV,QAAQ,QAAQR,EAAO,UAAUQ,EAAK,MAAOP,CAAQ,CAAC,EAAE,KAAM1P,IAAY,CAC7E,OAAQ8F,EAAO,MACf,MAAO9F,CACX,EAAE,EAJS6F,EAKd,EAGTI,GAAK,YAAYwJ,CAAM,CAC3B,CACJ,EACA3N,GAAW,OAAS,CAAC0G,EAAQiH,EAAQpP,IAC1B,IAAIyB,GAAWJ,EAAA,CAClB,OAAA8G,EACA,SAAUzG,GAAsB,WAChC,OAAA0N,GACGrP,GAAoBC,CAAM,EAChC,EAELyB,GAAW,qBAAuB,CAACoO,EAAY1H,EAAQnI,IAC5C,IAAIyB,GAAWJ,EAAA,CAClB,OAAA8G,EACA,OAAQ,CAAE,KAAM,aAAc,UAAW0H,CAAW,EACpD,SAAUnO,GAAsB,YAC7B3B,GAAoBC,CAAM,EAChC,EAGE,IAAM8P,GAAN,cAA0BC,EAAQ,CACrC,OAAOC,EAAO,CAEV,OADmB,KAAK,SAASA,CAAK,IACnBC,GAAc,UACtBC,GAAG,MAAS,EAEhB,KAAK,KAAK,UAAU,OAAOF,CAAK,CAC3C,CACA,QAAS,CACL,OAAO,KAAK,KAAK,SACrB,CACJ,EACAF,GAAY,OAAS,CAACK,EAAMC,IACjB,IAAIN,GAAYO,EAAA,CACnB,UAAWF,EACX,SAAUG,GAAsB,aAC7BC,GAAoBH,CAAM,EAChC,EAEE,IAAMI,GAAN,cAA0BT,EAAQ,CACrC,OAAOC,EAAO,CAEV,OADmB,KAAK,SAASA,CAAK,IACnBC,GAAc,KACtBC,GAAG,IAAI,EAEX,KAAK,KAAK,UAAU,OAAOF,CAAK,CAC3C,CACA,QAAS,CACL,OAAO,KAAK,KAAK,SACrB,CACJ,EACAQ,GAAY,OAAS,CAACL,EAAMC,IACjB,IAAII,GAAYH,EAAA,CACnB,UAAWF,EACX,SAAUG,GAAsB,aAC7BC,GAAoBH,CAAM,EAChC,EAEE,IAAMK,GAAN,cAAyBV,EAAQ,CACpC,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAU,CAAI,EAAI,KAAK,oBAAoBV,CAAK,EAC1CW,EAAOD,EAAI,KACf,OAAIA,EAAI,aAAeT,GAAc,YACjCU,EAAO,KAAK,KAAK,aAAa,GAE3B,KAAK,KAAK,UAAU,OAAO,CAC9B,KAAAA,EACA,KAAMD,EAAI,KACV,OAAQA,CACZ,CAAC,CACL,CACA,eAAgB,CACZ,OAAO,KAAK,KAAK,SACrB,CACJ,EACAD,GAAW,OAAS,CAACN,EAAMC,IAChB,IAAIK,GAAWJ,EAAA,CAClB,UAAWF,EACX,SAAUG,GAAsB,WAChC,aAAc,OAAOF,EAAO,SAAY,WAAaA,EAAO,QAAU,IAAMA,EAAO,SAChFG,GAAoBH,CAAM,EAChC,EAEE,IAAMQ,GAAN,cAAuBb,EAAQ,CAClC,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAU,CAAI,EAAI,KAAK,oBAAoBV,CAAK,EAExCa,EAASC,EAAAT,EAAA,GACRK,GADQ,CAEX,OAAQI,EAAAT,EAAA,GACDK,EAAI,QADH,CAEJ,OAAQ,CAAC,CACb,EACJ,GACMK,EAAS,KAAK,KAAK,UAAU,OAAO,CACtC,KAAMF,EAAO,KACb,KAAMA,EAAO,KACb,OAAQR,EAAA,GACDQ,EAEX,CAAC,EACD,OAAIG,GAAQD,CAAM,EACPA,EAAO,KAAMA,IACT,CACH,OAAQ,QACR,MAAOA,EAAO,SAAW,QACnBA,EAAO,MACP,KAAK,KAAK,WAAW,CACnB,IAAI,OAAQ,CACR,OAAO,IAAIE,GAASJ,EAAO,OAAO,MAAM,CAC5C,EACA,MAAOA,EAAO,IAClB,CAAC,CACT,EACH,EAGM,CACH,OAAQ,QACR,MAAOE,EAAO,SAAW,QACnBA,EAAO,MACP,KAAK,KAAK,WAAW,CACnB,IAAI,OAAQ,CACR,OAAO,IAAIE,GAASJ,EAAO,OAAO,MAAM,CAC5C,EACA,MAAOA,EAAO,IAClB,CAAC,CACT,CAER,CACA,aAAc,CACV,OAAO,KAAK,KAAK,SACrB,CACJ,EACAD,GAAS,OAAS,CAACT,EAAMC,IACd,IAAIQ,GAASP,EAAA,CAChB,UAAWF,EACX,SAAUG,GAAsB,SAChC,WAAY,OAAOF,EAAO,OAAU,WAAaA,EAAO,MAAQ,IAAMA,EAAO,OAC1EG,GAAoBH,CAAM,EAChC,EAEE,IAAMc,GAAN,cAAqBnB,EAAQ,CAChC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBC,GAAc,IAAK,CAClC,IAAMS,EAAM,KAAK,gBAAgBV,CAAK,EACtC,OAAAmB,EAAkBT,EAAK,CACnB,KAAMU,EAAa,aACnB,SAAUnB,GAAc,IACxB,SAAUS,EAAI,UAClB,CAAC,EACMW,EACX,CACA,MAAO,CAAE,OAAQ,QAAS,MAAOrB,EAAM,IAAK,CAChD,CACJ,EACAkB,GAAO,OAAUd,GACN,IAAIc,GAAOb,EAAA,CACd,SAAUC,GAAsB,QAC7BC,GAAoBH,CAAM,EAChC,EAEE,IAAMkB,GAAQ,OAAO,WAAW,EAC1BC,GAAN,cAAyBxB,EAAQ,CACpC,OAAOC,EAAO,CACV,GAAM,CAAE,IAAAU,CAAI,EAAI,KAAK,oBAAoBV,CAAK,EACxCW,EAAOD,EAAI,KACjB,OAAO,KAAK,KAAK,KAAK,OAAO,CACzB,KAAAC,EACA,KAAMD,EAAI,KACV,OAAQA,CACZ,CAAC,CACL,CACA,QAAS,CACL,OAAO,KAAK,KAAK,IACrB,CACJ,EACac,GAAN,MAAMC,UAAoB1B,EAAQ,CACrC,OAAOC,EAAO,CACV,GAAM,CAAE,OAAA0B,EAAQ,IAAAhB,CAAI,EAAI,KAAK,oBAAoBV,CAAK,EACtD,GAAIU,EAAI,OAAO,MAqBX,OApBoB,SAAY,CAC5B,IAAMiB,EAAW,MAAM,KAAK,KAAK,GAAG,YAAY,CAC5C,KAAMjB,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,OAAIiB,EAAS,SAAW,UACbN,GACPM,EAAS,SAAW,SACpBD,EAAO,MAAM,EACNE,GAAMD,EAAS,KAAK,GAGpB,KAAK,KAAK,IAAI,YAAY,CAC7B,KAAMA,EAAS,MACf,KAAMjB,EAAI,KACV,OAAQA,CACZ,CAAC,CAET,GACmB,EAElB,CACD,IAAMiB,EAAW,KAAK,KAAK,GAAG,WAAW,CACrC,KAAMjB,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACZ,CAAC,EACD,OAAIiB,EAAS,SAAW,UACbN,GACPM,EAAS,SAAW,SACpBD,EAAO,MAAM,EACN,CACH,OAAQ,QACR,MAAOC,EAAS,KACpB,GAGO,KAAK,KAAK,IAAI,WAAW,CAC5B,KAAMA,EAAS,MACf,KAAMjB,EAAI,KACV,OAAQA,CACZ,CAAC,CAET,CACJ,CACA,OAAO,OAAOmB,EAAGC,EAAG,CAChB,OAAO,IAAIL,EAAY,CACnB,GAAII,EACJ,IAAKC,EACL,SAAUxB,GAAsB,WACpC,CAAC,CACL,CACJ,EACayB,GAAN,cAA0BhC,EAAQ,CACrC,OAAOC,EAAO,CACV,IAAMe,EAAS,KAAK,KAAK,UAAU,OAAOf,CAAK,EACzCgC,EAAUrB,IACRsB,GAAQtB,CAAI,IACZA,EAAK,MAAQ,OAAO,OAAOA,EAAK,KAAK,GAElCA,GAEX,OAAOK,GAAQD,CAAM,EAAIA,EAAO,KAAMJ,GAASqB,EAAOrB,CAAI,CAAC,EAAIqB,EAAOjB,CAAM,CAChF,CACA,QAAS,CACL,OAAO,KAAK,KAAK,SACrB,CACJ,EACAgB,GAAY,OAAS,CAAC5B,EAAMC,IACjB,IAAI2B,GAAY1B,EAAA,CACnB,UAAWF,EACX,SAAUG,GAAsB,aAC7BC,GAAoBH,CAAM,EAChC,EASL,SAAS8B,GAAY9B,EAAQO,EAAM,CAC/B,IAAMwB,EAAI,OAAO/B,GAAW,WAAaA,EAAOO,CAAI,EAAI,OAAOP,GAAW,SAAW,CAAE,QAASA,CAAO,EAAIA,EAE3G,OADW,OAAO+B,GAAM,SAAW,CAAE,QAASA,CAAE,EAAIA,CAExD,CACO,SAASC,GAAOC,EAAOC,EAAU,CAAC,EAWzCC,EAAO,CACH,OAAIF,EACOG,GAAO,OAAO,EAAE,YAAY,CAAC7B,EAAMD,IAAQ,CAl/G1D,IAAA+B,EAAAC,EAm/GY,IAAMC,EAAIN,EAAM1B,CAAI,EACpB,GAAIgC,aAAa,QACb,OAAOA,EAAE,KAAMA,GAAM,CAr/GrC,IAAAF,EAAAC,EAs/GoB,GAAI,CAACC,EAAG,CACJ,IAAMvC,EAAS8B,GAAYI,EAAS3B,CAAI,EAClCiC,GAASF,GAAAD,EAAArC,EAAO,QAAP,KAAAqC,EAAgBF,IAAhB,KAAAG,EAAyB,GACxChC,EAAI,SAASI,EAAAT,EAAA,CAAE,KAAM,UAAaD,GAArB,CAA6B,MAAOwC,CAAO,EAAC,CAC7D,CACJ,CAAC,EAEL,GAAI,CAACD,EAAG,CACJ,IAAMvC,EAAS8B,GAAYI,EAAS3B,CAAI,EAClCiC,GAASF,GAAAD,EAAArC,EAAO,QAAP,KAAAqC,EAAgBF,IAAhB,KAAAG,EAAyB,GACxChC,EAAI,SAASI,EAAAT,EAAA,CAAE,KAAM,UAAaD,GAArB,CAA6B,MAAOwC,CAAO,EAAC,CAC7D,CAEJ,CAAC,EACEJ,GAAO,OAAO,CACzB,CAEO,IAAMK,GAAO,CAChB,OAAQC,GAAU,UACtB,EACWC,IACV,SAAUA,EAAuB,CAC9BA,EAAsB,UAAe,YACrCA,EAAsB,UAAe,YACrCA,EAAsB,OAAY,SAClCA,EAAsB,UAAe,YACrCA,EAAsB,WAAgB,aACtCA,EAAsB,QAAa,UACnCA,EAAsB,UAAe,YACrCA,EAAsB,aAAkB,eACxCA,EAAsB,QAAa,UACnCA,EAAsB,OAAY,SAClCA,EAAsB,WAAgB,aACtCA,EAAsB,SAAc,WACpCA,EAAsB,QAAa,UACnCA,EAAsB,SAAc,WACpCA,EAAsB,UAAe,YACrCA,EAAsB,SAAc,WACpCA,EAAsB,sBAA2B,wBACjDA,EAAsB,gBAAqB,kBAC3CA,EAAsB,SAAc,WACpCA,EAAsB,UAAe,YACrCA,EAAsB,OAAY,SAClCA,EAAsB,OAAY,SAClCA,EAAsB,YAAiB,cACvCA,EAAsB,QAAa,UACnCA,EAAsB,WAAgB,aACtCA,EAAsB,QAAa,UACnCA,EAAsB,WAAgB,aACtCA,EAAsB,cAAmB,gBACzCA,EAAsB,YAAiB,cACvCA,EAAsB,YAAiB,cACvCA,EAAsB,WAAgB,aACtCA,EAAsB,SAAc,WACpCA,EAAsB,WAAgB,aACtCA,EAAsB,WAAgB,aACtCA,EAAsB,YAAiB,cACvCA,EAAsB,YAAiB,aAC3C,GAAGA,KAA0BA,GAAwB,CAAC,EAAE,EAKxD,IAAMC,GAAiB,CAEvBC,EAAKC,EAAS,CACV,QAAS,yBAAyB,OAAAD,EAAI,KAC1C,IAAME,GAAQC,GAASA,aAAgBH,EAAKC,CAAM,EAC5CG,GAAaC,GAAU,OACvBC,GAAaC,GAAU,OACvBC,GAAUC,GAAO,OACjBC,GAAaC,GAAU,OACvBC,GAAcC,GAAW,OACzBC,GAAWC,GAAQ,OACnBC,GAAaC,GAAU,OACvBC,GAAgBC,GAAa,OAC7BC,GAAWC,GAAQ,OACnBC,GAAUC,GAAO,OACjBC,GAAcC,GAAW,OACzBC,GAAYC,GAAS,OACrBC,GAAWC,GAAQ,OACnBC,GAAYC,GAAS,OACrBC,GAAaC,GAAU,OACvBC,GAAmBD,GAAU,aAC7BE,GAAYC,GAAS,OACrBC,GAAyBC,GAAsB,OAC/CC,GAAmBC,GAAgB,OACnCC,GAAYC,GAAS,OACrBC,GAAaC,GAAU,OACvBC,GAAUC,GAAO,OACjBC,GAAUC,GAAO,OACjBC,GAAeC,GAAY,OAC3BC,GAAWC,GAAQ,OACnBC,GAAcC,GAAW,OACzBC,GAAWC,GAAQ,OACnBC,GAAiBC,GAAc,OAC/BC,GAAcC,GAAW,OACzBC,GAAcC,GAAW,OACzBC,GAAeC,GAAY,OAC3BC,GAAeC,GAAY,OAC3BC,GAAiBL,GAAW,qBAC5BM,GAAeC,GAAY,OAC3BC,GAAU,IAAMlE,GAAW,EAAE,SAAS,EACtCmE,GAAU,IAAMjE,GAAW,EAAE,SAAS,EACtCkE,GAAW,IAAM5D,GAAY,EAAE,SAAS,EACjC6D,GAAS,CAClB,QAAUC,GAAQrE,GAAU,OAAOsE,EAAAC,EAAA,GAAKF,GAAL,CAAU,OAAQ,EAAK,EAAC,GAC3D,QAAUA,GAAQnE,GAAU,OAAOoE,EAAAC,EAAA,GAAKF,GAAL,CAAU,OAAQ,EAAK,EAAC,GAC3D,SAAWA,GAAQ7D,GAAW,OAAO8D,EAAAC,EAAA,GAC9BF,GAD8B,CAEjC,OAAQ,EACZ,EAAC,GACD,QAAUA,GAAQ/D,GAAU,OAAOgE,EAAAC,EAAA,GAAKF,GAAL,CAAU,OAAQ,EAAK,EAAC,GAC3D,MAAQA,GAAQ3D,GAAQ,OAAO4D,EAAAC,EAAA,GAAKF,GAAL,CAAU,OAAQ,EAAK,EAAC,EAC3D,EAEO,IAAMG,GAAQC,GCvmHrB,IAAOC,GAAQC,GCDf,IAAOC,GAAQC,GCDf,IAAMC,GAAMC,GAAE,OAAO,EAAGC,GAAOD,GAAE,QAAQ,EAAGE,GAAOF,GAAE,KAAK,EAAGG,GAAMH,GAAE,OAAO,EAAGI,GAAOJ,GAAE,OAAO,EAAE,IAAI,OAAO,gBAAgB,EAAGK,GAAML,GAAE,OAAO,EAAGM,GAAQN,GAAE,OAAO,EAAE,IAAI,GAAW,EAAE,IAAI,OAAO,gBAAgB,EAAGO,GAAMP,GAAE,OAAO,EAAE,IAAI,EAAGQ,GAAMR,GAAE,IAAI,EACjPS,GAAMT,GAAE,OAAO,EAChB,MAAM,gBAAgB,EACtB,OAAO,GAAK,EAAE,OAAS,IAAM,CAAC,EAC7BU,GAAUV,GAAE,MAAM,CAACA,GAAE,OAAO,EAAGA,GAAE,OAAO,EAAGA,GAAE,QAAQ,EAAGA,GAAE,KAAK,CAAC,CAAC,EACjEW,GAAQF,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCG,GAAQH,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCI,GAAQJ,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCK,GAAQL,GAAI,OAAQ,GAAM,EAAE,SAAW,GAAG,EAC1CM,GAASN,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EAC1CO,GAAShB,GAAE,OAAO,EAAE,MAAM,yBAAyB,EACnDiB,GAASjB,GAAE,OAAO,EAAE,MAAM,wBAAwB,EAClDkB,GAASlB,GAAE,OAAO,EAAE,MAAM,yBAAyB,EACnDmB,GAASnB,GAAE,OAAO,EAAE,MAAM,8CAA8C,EACvEoB,GAAQ,CACX,IAAAZ,GACA,OAAAQ,GACA,OAAAC,GACA,OAAAC,GACA,OAAAC,GACA,IAAApB,GACA,KAAAE,GACA,KAAAC,GACA,MAAAW,GACA,MAAAF,GACA,MAAAC,GACA,MAAAE,GACA,IAAAL,GACA,QAAAC,GACA,IAAAP,GACA,OAAAY,GACA,IAAAV,GACA,MAAAC,GACA,KAAAF,GACA,IAAAG,EACJ,EClCA,IAAMc,GAAOC,GAAK,IAAI,MAAM,EACtBC,GAAWC,GAAE,OAAO,CACtB,QAASF,GAAK,IACd,WAAYA,GAAK,MACjB,KAAMA,GAAK,IACX,OAAQA,GAAK,MACb,KAAMD,GAAK,MAAM,CACrB,CAAC,EACKI,GAAWF,GAAS,OAAO,CAC7B,GAAID,GAAK,KACb,CAAC,EACKI,GAASD,GAAS,OAAO,CAC3B,IAAKH,GAAK,KACd,CAAC,EACMK,GAAQ,CAAE,OAAAD,GAAQ,KAAAL,GAAM,SAAAE,GAAU,SAAAE,EAAS,ECdlD,IAAMG,GAAMC,GAAK,MACXC,GAAUD,GAAK,IACfE,GAAQF,GAAK,IAAI,IAAI,CAAC,EAAE,IAAI,GAAG,EAC/BG,GAAWC,GAAE,MAAM,CAACF,GAAOH,GAAKE,EAAO,CAAC,EACvCI,GAAQ,CAAE,SAAAF,EAAS,ECH1B,IAAOG,GAAQ,CAAE,KAAAC,GAAM,MAAAC,GAAO,IAAAC,EAAI,ECF3B,IAAIC,IACV,SAAUA,EAAQ,CACf,SAASC,EAAGC,EAAOC,EAAS,CACxB,GAAID,IAAU,GACV,MAAM,IAAI,MAAMC,GAAA,KAAAA,EAAW,mBAAmB,CACtD,CACAH,EAAO,GAAKC,EACZ,SAASG,EAAOC,EAAOC,EAAS,CAC5B,GAAI,OAAOD,EAAU,IACjB,MAAM,IAAI,UAAUC,GAAA,KAAAA,EAAW,qBAAqB,EAExD,GAAID,IAAU,KACV,MAAM,IAAI,UAAUC,GAAA,KAAAA,EAAW,gBAAgB,CAEvD,CACAN,EAAO,OAASI,EAChB,SAASG,EAAKF,EAAOE,EAAMD,EAAS,CAChC,IAAME,EAAQC,EAAK,MAAMJ,CAAK,EAC9B,GAAIG,EAAM,SAAWD,EACjB,MAAM,IAAI,MAAMD,GAAA,KAAAA,EAAW,sBAAsB,OAAAE,EAAM,IAAG,SAAQ,OAAAD,EAAM,EAE5E,MAAO,EACX,CACAP,EAAO,KAAOO,CAClB,GAAGP,KAAWA,GAAS,CAAC,EAAE,ECzBnB,IAAMU,GAAM,IAAM,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,EAE9C,SAASC,GAAYC,EAAK,CAC7B,OAAIA,aAAe,MACRA,EAAI,QACX,OAAOA,GAAQ,SACRA,EACJ,OAAOA,CAAG,CACrB,CCJO,SAASC,GAAaC,EAAQC,EAASC,EAASC,EAAQ,CAJ/D,IAAAC,EAKI,IAAMC,GAAaD,EAAAJ,EAAO,aAAP,KAAAI,EAA0BE,GAAI,EAC3CC,EAASC,GAAWL,CAAM,EAC1BM,EAASC,GAAkBP,EAAQD,CAAO,EAC1CS,EAAUC,GAAgBH,EAAQR,CAAO,EACzCY,EAAQC,EAAAC,EAAA,GAAKf,GAAL,CAAa,OAAAO,EAAQ,QAAAI,EAAS,WAAAN,CAAW,GACvD,OAAAQ,EAAM,KAAK,KAAK,CAAC,IAAKX,CAAO,CAAC,EACvBc,GAAWb,EAAQU,CAAK,CACnC,CACO,SAASG,GAAWb,EAAQc,EAAU,CACzC,IAAMC,EAAKC,GAAaF,CAAQ,EAC1BG,EAAMC,GAASlB,EAAQe,CAAE,EAC/B,OAAOJ,EAAAC,EAAA,GAAKE,GAAL,CAAe,GAAAC,EAAI,IAAAE,CAAI,EAClC,CACO,SAASE,GAAaT,EAAO,CAChC,IAAiCT,EAAAS,EAAzB,IAAAK,EAAI,IAAAE,CAnBhB,EAmBqChB,EAAba,EAAAM,GAAanB,EAAb,CAAZ,KAAI,QAENoB,EADSC,GAAO,MAAM,OACN,UAAUZ,CAAK,EAC/Ba,EAAMP,GAAaF,CAAQ,EACjC,OAAKO,EAAO,QAGHN,IAAOQ,EACL,oBAEDC,GAAWT,EAAIL,EAAM,OAAQO,CAAG,EAI/B,KAHA,0BANA,gCAWf,CC9BO,SAASQ,GAAgBC,EAAOC,EAAQ,CAC3C,IAAMC,EAAQC,GAAaH,CAAK,EAChC,GAAIE,IAAU,KACV,MAAM,IAAI,MAAMA,CAAK,EAEzB,IAAME,EAASC,GAAWJ,CAAM,EAChC,GAAI,CAACK,GAAaN,EAAOI,CAAM,EAC3B,MAAM,IAAI,MAAM,0BAA0B,EAE9C,IAAMG,EAASC,GAAkBP,EAAQD,EAAM,MAAM,EAC/CS,EAAUC,GAAgBH,EAAQP,EAAM,OAAO,EAErD,OADgB,KAAK,MAAMS,CAAO,CAEtC,CACO,SAASE,GAAiBC,EAAU,CAnB3C,IAAAC,EAoBI,IAAMC,GAAKD,EAAAD,EAAS,KAAT,KAAAC,EAAeE,GAAe,EACzC,OAAOC,EAAAC,EAAA,GAAKL,GAAL,CAAe,GAAAE,CAAG,EAC7B,CACO,SAASI,GAAeC,EAAKC,EAAMN,EAAI,CAC1C,GAAI,CACA,OAAO,KAAK,UAAU,CAACK,EAAKL,EAAIM,CAAI,CAAC,CACzC,OACOC,EAAK,CACR,MAAM,IAAI,MAAM,kCAAkC,CACtD,CACJ,CACO,SAASC,GAAeC,EAAUvB,EAAO,CAE5C,IAAMwB,EADSC,GAAO,IAAI,SACJ,UAAUF,CAAQ,EACxC,GAAI,CAACC,EAAO,QACR,KAAU,GAEJ,IAAI,MAAM,mCAAmC,EAEvD,GAAM,CAACL,EAAKL,EAAIM,CAAI,EAAII,EAAO,KAC/B,MAAO,CAAE,IAAKxB,EAAO,KAAAoB,EAAM,GAAAN,EAAI,IAAAK,CAAI,CACvC,CCxCO,SAASO,GAAcC,EAAQ,CAGlC,GAAI,CAFWC,GAAO,KAAK,IAAI,MAAM,EACf,UAAUD,CAAM,EAC1B,QACR,MAAM,IAAI,MAAM,sBAAwBA,CAAM,CAEtD,CACO,SAASE,GAAcC,EAAQ,CAGlC,GAAI,CAFWF,GAAO,KAAK,MACL,UAAUE,CAAM,EAC1B,QACR,MAAM,IAAI,MAAM,uBAAyBA,CAAM,CAIvD,CChBA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,QAAAE,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,KCuBA,IAAMC,GAAsB,OAAO,CAAC,EAC9BC,GAAsB,OAAO,CAAC,EAW9B,SAAUC,GAAMC,EAAeC,EAAc,CACjD,GAAI,OAAOA,GAAU,UAAW,MAAM,IAAI,MAAMD,EAAQ,0BAA4BC,CAAK,CAC3F,CAGM,SAAUC,GAAoBC,EAAoB,CACtD,IAAMC,EAAMD,EAAI,SAAS,EAAE,EAC3B,OAAOC,EAAI,OAAS,EAAI,IAAMA,EAAMA,CACtC,CAEM,SAAUC,GAAYD,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EACrF,OAAOA,IAAQ,GAAKP,GAAM,OAAO,KAAOO,CAAG,CAC7C,CAGM,SAAUE,GAAgBC,EAAiB,CAC/C,OAAOF,GAAYG,GAAYD,CAAK,CAAC,CACvC,CACM,SAAUE,GAAgBF,EAAiB,CAC/C,OAAAG,GAAQH,CAAK,EACNF,GAAYG,GAAY,WAAW,KAAKD,CAAK,EAAE,QAAO,CAAE,CAAC,CAClE,CAEM,SAAUI,GAAgBC,EAAoBC,EAAW,CAC7D,OAAOC,GAAYF,EAAE,SAAS,EAAE,EAAE,SAASC,EAAM,EAAG,GAAG,CAAC,CAC1D,CACM,SAAUE,GAAgBH,EAAoBC,EAAW,CAC7D,OAAOF,GAAgBC,EAAGC,CAAG,EAAE,QAAO,CACxC,CAeM,SAAUG,GAAYC,EAAeC,EAAUC,EAAuB,CAC1E,IAAIC,EACJ,GAAI,OAAOF,GAAQ,SACjB,GAAI,CACFE,EAAMC,GAAYH,CAAG,CACvB,OAASI,EAAG,CACV,MAAM,IAAI,MAAML,EAAQ,6CAA+CK,CAAC,CAC1E,SACSC,GAASL,CAAG,EAGrBE,EAAM,WAAW,KAAKF,CAAG,MAEzB,OAAM,IAAI,MAAMD,EAAQ,mCAAmC,EAE7D,IAAMO,EAAMJ,EAAI,OAChB,GAAI,OAAOD,GAAmB,UAAYK,IAAQL,EAChD,MAAM,IAAI,MAAMF,EAAQ,cAAgBE,EAAiB,kBAAoBK,CAAG,EAClF,OAAOJ,CACT,CAqBA,IAAMK,GAAYC,GAAc,OAAOA,GAAM,UAAYC,IAAOD,EAE1D,SAAUE,GAAQF,EAAWG,EAAaC,EAAW,CACzD,OAAOL,GAASC,CAAC,GAAKD,GAASI,CAAG,GAAKJ,GAASK,CAAG,GAAKD,GAAOH,GAAKA,EAAII,CAC1E,CAOM,SAAUC,GAASC,EAAeN,EAAWG,EAAaC,EAAW,CAMzE,GAAI,CAACF,GAAQF,EAAGG,EAAKC,CAAG,EACtB,MAAM,IAAI,MAAM,kBAAoBE,EAAQ,KAAOH,EAAM,WAAaC,EAAM,SAAWJ,CAAC,CAC5F,CASM,SAAUO,GAAOP,EAAS,CAC9B,IAAIQ,EACJ,IAAKA,EAAM,EAAGR,EAAIC,GAAKD,IAAMS,GAAKD,GAAO,EAAE,CAC3C,OAAOA,CACT,CAsBO,IAAME,GAAWC,IAAuBC,IAAO,OAAOD,CAAC,GAAKC,GAY7D,SAAUC,GACdC,EACAC,EACAC,EAAkE,CAElE,GAAI,OAAOF,GAAY,UAAYA,EAAU,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAC1F,GAAI,OAAOC,GAAa,UAAYA,EAAW,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAC7F,GAAI,OAAOC,GAAW,WAAY,MAAM,IAAI,MAAM,2BAA2B,EAE7E,IAAMC,EAAOC,GAAgB,IAAI,WAAWA,CAAG,EACzCC,EAAQC,GAAiB,WAAW,GAAGA,CAAI,EAC7CC,EAAIJ,EAAIH,CAAO,EACfQ,EAAIL,EAAIH,CAAO,EACfS,EAAI,EACFC,EAAQ,IAAK,CACjBH,EAAE,KAAK,CAAC,EACRC,EAAE,KAAK,CAAC,EACRC,EAAI,CACN,EACME,EAAI,IAAIC,IAAoBV,EAAOM,EAAGD,EAAG,GAAGK,CAAC,EAC7CC,EAAS,CAACC,EAAOX,EAAI,CAAC,IAAK,CAE/BK,EAAIG,EAAEN,EAAK,CAAI,EAAGS,CAAI,EACtBP,EAAII,EAAC,EACDG,EAAK,SAAW,IACpBN,EAAIG,EAAEN,EAAK,CAAI,EAAGS,CAAI,EACtBP,EAAII,EAAC,EACP,EACMI,EAAM,IAAK,CAEf,GAAIN,KAAO,IAAM,MAAM,IAAI,MAAM,yBAAyB,EAC1D,IAAIL,EAAM,EACJY,EAAoB,CAAA,EAC1B,KAAOZ,EAAMH,GAAU,CACrBM,EAAII,EAAC,EACL,IAAMM,EAAKV,EAAE,MAAK,EAClBS,EAAI,KAAKC,CAAE,EACXb,GAAOG,EAAE,MACX,CACA,OAAOW,GAAa,GAAGF,CAAG,CAC5B,EASA,MARiB,CAACF,EAAkBK,IAAoB,CACtDT,EAAK,EACLG,EAAOC,CAAI,EACX,IAAIM,EACJ,KAAO,EAAEA,EAAMD,EAAKJ,EAAG,CAAE,IAAIF,EAAM,EACnC,OAAAH,EAAK,EACEU,CACT,CAEF,CAiDM,SAAUC,GAAOC,EAAU,CAC/B,OAAO,OAAOA,GAAQ,YAAc,OAAO,cAAcA,EAAI,SAAS,CACxE,CACM,SAAUC,GACdC,EACAC,EACAC,EAAoC,CAAA,EAAE,CAEtC,GAAI,CAACF,GAAU,OAAOA,GAAW,SAAU,MAAM,IAAI,MAAM,+BAA+B,EAE1F,SAASG,EAAWC,EAAiBC,EAAsBC,EAAc,CACvE,IAAMR,EAAME,EAAOI,CAAS,EAC5B,GAAIE,GAASR,IAAQ,OAAW,OAChC,IAAMS,EAAU,OAAOT,EACvB,GAAIS,IAAYF,GAAgBP,IAAQ,KACtC,MAAM,IAAI,MAAM,UAAU,OAAAM,EAAS,2BAA0B,OAAAC,EAAY,UAAS,OAAAE,EAAS,CAC/F,CACA,OAAO,QAAQN,CAAM,EAAE,QAAQ,CAAC,CAACO,EAAGC,CAAC,IAAMN,EAAWK,EAAGC,EAAG,EAAK,CAAC,EAClE,OAAO,QAAQP,CAAS,EAAE,QAAQ,CAAC,CAACM,EAAGC,CAAC,IAAMN,EAAWK,EAAGC,EAAG,EAAI,CAAC,CACtE,CAaM,SAAUC,GACdC,EAA6B,CAE7B,IAAMC,EAAM,IAAI,QAChB,MAAO,CAACC,KAAWC,IAAc,CAC/B,IAAMC,EAAMH,EAAI,IAAIC,CAAG,EACvB,GAAIE,IAAQ,OAAW,OAAOA,EAC9B,IAAMC,EAAWL,EAAGE,EAAK,GAAGC,CAAI,EAChC,OAAAF,EAAI,IAAIC,EAAKG,CAAQ,EACdA,CACT,CACF,CCpTA,IAAMC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAEjGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAC/DC,GAAsB,OAAO,CAAC,EAG9B,SAAUC,GAAIC,EAAWC,EAAS,CACtC,IAAMC,EAASF,EAAIC,EACnB,OAAOC,GAAUV,GAAMU,EAASD,EAAIC,CACtC,CAYM,SAAUC,GAAKC,EAAWC,EAAeC,EAAc,CAC3D,IAAIC,EAAMH,EACV,KAAOC,KAAUG,IACfD,GAAOA,EACPA,GAAOD,EAET,OAAOC,CACT,CAMM,SAAUE,GAAOC,EAAgBJ,EAAc,CACnD,GAAII,IAAWF,GAAK,MAAM,IAAI,MAAM,kCAAkC,EACtE,GAAIF,GAAUE,GAAK,MAAM,IAAI,MAAM,0CAA4CF,CAAM,EAErF,IAAIK,EAAIC,GAAIF,EAAQJ,CAAM,EACtBO,EAAIP,EAEJF,EAAII,GAAKM,EAAIC,GAAKC,EAAID,GAAKE,EAAIT,GACnC,KAAOG,IAAMH,IAAK,CAEhB,IAAMU,EAAIL,EAAIF,EACRQ,EAAIN,EAAIF,EACRS,EAAIhB,EAAIY,EAAIE,EACZG,EAAIP,EAAIG,EAAIC,EAElBL,EAAIF,EAAGA,EAAIQ,EAAGf,EAAIY,EAAGF,EAAIG,EAAGD,EAAII,EAAGH,EAAII,CACzC,CAEA,GADYR,IACAE,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACzD,OAAOH,GAAIR,EAAGE,CAAM,CACtB,CAMA,SAASgB,GAAaC,EAAeF,EAAI,CACvC,IAAMG,GAAUD,EAAG,MAAQR,IAAOU,GAC5BC,EAAOH,EAAG,IAAIF,EAAGG,CAAM,EAE7B,GAAI,CAACD,EAAG,IAAIA,EAAG,IAAIG,CAAI,EAAGL,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOK,CACT,CAEA,SAASC,GAAaJ,EAAeF,EAAI,CACvC,IAAMO,GAAUL,EAAG,MAAQM,IAAOC,GAC5BC,EAAKR,EAAG,IAAIF,EAAGW,EAAG,EAClBf,EAAIM,EAAG,IAAIQ,EAAIH,CAAM,EACrBK,EAAKV,EAAG,IAAIF,EAAGJ,CAAC,EAChBiB,EAAIX,EAAG,IAAIA,EAAG,IAAIU,EAAID,EAAG,EAAGf,CAAC,EAC7BS,EAAOH,EAAG,IAAIU,EAAIV,EAAG,IAAIW,EAAGX,EAAG,GAAG,CAAC,EACzC,GAAI,CAACA,EAAG,IAAIA,EAAG,IAAIG,CAAI,EAAGL,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOK,CACT,CAgCM,SAAUS,GAAcC,EAAS,CAGrC,GAAIA,EAAI,OAAO,CAAC,EAAG,MAAM,IAAI,MAAM,qCAAqC,EAExE,IAAIC,EAAID,EAAIrB,GACRuB,EAAI,EACR,KAAOD,EAAIL,KAAQxB,IACjB6B,GAAKL,GACLM,IAIF,IAAIC,EAAIP,GACFQ,EAAMC,GAAML,CAAC,EACnB,KAAOM,GAAWF,EAAKD,CAAC,IAAM,GAG5B,GAAIA,IAAM,IAAM,MAAM,IAAI,MAAM,+CAA+C,EAGjF,GAAID,IAAM,EAAG,OAAOhB,GAIpB,IAAIqB,EAAKH,EAAI,IAAID,EAAGF,CAAC,EACfO,GAAUP,EAAItB,IAAOiB,GAC3B,OAAO,SAAwBT,EAAeF,EAAI,CAChD,GAAIE,EAAG,IAAIF,CAAC,EAAG,OAAOA,EAEtB,GAAIqB,GAAWnB,EAAIF,CAAC,IAAM,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAGtE,IAAIwB,EAAIP,EACJQ,EAAIvB,EAAG,IAAIA,EAAG,IAAKoB,CAAE,EACrBI,EAAIxB,EAAG,IAAIF,EAAGgB,CAAC,EACfW,EAAIzB,EAAG,IAAIF,EAAGuB,CAAM,EAIxB,KAAO,CAACrB,EAAG,IAAIwB,EAAGxB,EAAG,GAAG,GAAG,CACzB,GAAIA,EAAG,IAAIwB,CAAC,EAAG,OAAOxB,EAAG,KACzB,IAAIW,EAAI,EAGJe,EAAQ1B,EAAG,IAAIwB,CAAC,EACpB,KAAO,CAACxB,EAAG,IAAI0B,EAAO1B,EAAG,GAAG,GAG1B,GAFAW,IACAe,EAAQ1B,EAAG,IAAI0B,CAAK,EAChBf,IAAMW,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAIxD,IAAMK,EAAWnC,IAAO,OAAO8B,EAAIX,EAAI,CAAC,EAClCrB,EAAIU,EAAG,IAAIuB,EAAGI,CAAQ,EAG5BL,EAAIX,EACJY,EAAIvB,EAAG,IAAIV,CAAC,EACZkC,EAAIxB,EAAG,IAAIwB,EAAGD,CAAC,EACfE,EAAIzB,EAAG,IAAIyB,EAAGnC,CAAC,CACjB,CACA,OAAOmC,CACT,CACF,CAYM,SAAUG,GAAOf,EAAS,CAE9B,OAAIA,EAAIX,KAAQ2B,GAAY9B,GAExBc,EAAIN,KAAQD,GAAYF,GAGrBQ,GAAcC,CAAC,CACxB,CAkDA,IAAMiB,GAAe,CACnB,SAAU,UAAW,MAAO,MAAO,MAAO,OAAQ,MAClD,MAAO,MAAO,MAAO,MAAO,MAAO,MACnC,OAAQ,OAAQ,OAAQ,QAEpB,SAAUC,GAAiBC,EAAgB,CAC/C,IAAMC,EAAU,CACd,MAAO,SACP,KAAM,SACN,MAAO,SACP,KAAM,UAEFC,EAAOJ,GAAa,OAAO,CAACK,EAAKC,KACrCD,EAAIC,CAAG,EAAI,WACJD,GACNF,CAAO,EACV,OAAAI,GAAgBL,EAAOE,CAAI,EAIpBF,CACT,CAQM,SAAUM,GAASC,EAAeC,EAAQC,EAAa,CAC3D,GAAIA,EAAQC,GAAK,MAAM,IAAI,MAAM,yCAAyC,EAC1E,GAAID,IAAUC,GAAK,OAAOH,EAAG,IAC7B,GAAIE,IAAUE,GAAK,OAAOH,EAC1B,IAAII,EAAIL,EAAG,IACPM,EAAIL,EACR,KAAOC,EAAQC,IACTD,EAAQE,KAAKC,EAAIL,EAAG,IAAIK,EAAGC,CAAC,GAChCA,EAAIN,EAAG,IAAIM,CAAC,EACZJ,IAAUE,GAEZ,OAAOC,CACT,CAOM,SAAUE,GAAiBP,EAAeQ,EAAWC,EAAW,GAAK,CACzE,IAAMC,EAAW,IAAI,MAAMF,EAAK,MAAM,EAAE,KAAKC,EAAWT,EAAG,KAAO,MAAS,EAErEW,EAAgBH,EAAK,OAAO,CAACI,EAAKX,EAAKY,IACvCb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAID,EACPZ,EAAG,IAAIY,EAAKX,CAAG,GACrBD,EAAG,GAAG,EAEHc,EAAcd,EAAG,IAAIW,CAAa,EAExC,OAAAH,EAAK,YAAY,CAACI,EAAKX,EAAKY,IACtBb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAIb,EAAG,IAAIY,EAAKF,EAASG,CAAC,CAAC,EAC9Bb,EAAG,IAAIY,EAAKX,CAAG,GACrBa,CAAW,EACPJ,CACT,CAgBM,SAAUK,GAAcC,EAAeC,EAAI,CAG/C,IAAMC,GAAUF,EAAG,MAAQG,IAAOC,GAC5BC,EAAUL,EAAG,IAAIC,EAAGC,CAAM,EAC1BI,EAAMN,EAAG,IAAIK,EAASL,EAAG,GAAG,EAC5BO,EAAOP,EAAG,IAAIK,EAASL,EAAG,IAAI,EAC9BQ,EAAKR,EAAG,IAAIK,EAASL,EAAG,IAAIA,EAAG,GAAG,CAAC,EACzC,GAAI,CAACM,GAAO,CAACC,GAAQ,CAACC,EAAI,MAAM,IAAI,MAAM,gCAAgC,EAC1E,OAAOF,EAAM,EAAIC,EAAO,EAAI,EAC9B,CAUM,SAAUE,GAAQC,EAAWC,EAAmB,CAEhDA,IAAe,QAAWC,GAAQD,CAAU,EAChD,IAAME,EAAcF,IAAe,OAAYA,EAAaD,EAAE,SAAS,CAAC,EAAE,OACpEI,EAAc,KAAK,KAAKD,EAAc,CAAC,EAC7C,MAAO,CAAE,WAAYA,EAAa,YAAAC,CAAW,CAC/C,CAwBM,SAAUC,GACdC,EACAC,EACAC,EAAO,GACPC,EAA0B,CAAA,EAAE,CAE5B,GAAIH,GAASI,GAAK,MAAM,IAAI,MAAM,0CAA4CJ,CAAK,EACnF,IAAIK,EACAC,EACJ,GAAI,OAAOL,GAAiB,UAAYA,GAAgB,KAAM,CAC5D,GAAIE,EAAK,MAAQD,EAAM,MAAM,IAAI,MAAM,sCAAsC,EAC7E,IAAMK,EAAQN,EACVM,EAAM,OAAMF,EAAcE,EAAM,MAChCA,EAAM,OAAMD,EAAQC,EAAM,MAC1B,OAAOA,EAAM,MAAS,YAAWL,EAAOK,EAAM,KACpD,MACM,OAAON,GAAiB,WAAUI,EAAcJ,GAChDE,EAAK,OAAMG,EAAQH,EAAK,MAE9B,GAAM,CAAE,WAAYK,EAAM,YAAaC,CAAK,EAAKhB,GAAQO,EAAOK,CAAW,EAC3E,GAAII,EAAQ,KAAM,MAAM,IAAI,MAAM,gDAAgD,EAClF,IAAIC,EACEC,EAAuB,OAAO,OAAO,CACzC,MAAAX,EACA,KAAAE,EACA,KAAAM,EACA,MAAAC,EACA,KAAMG,GAAQJ,CAAI,EAClB,KAAMJ,GACN,IAAKS,GACL,OAASC,GAAQC,GAAID,EAAKd,CAAK,EAC/B,QAAUc,GAAO,CACf,GAAI,OAAOA,GAAQ,SACjB,MAAM,IAAI,MAAM,+CAAiD,OAAOA,CAAG,EAC7E,OAAOV,IAAOU,GAAOA,EAAMd,CAC7B,EACA,IAAMc,GAAQA,IAAQV,GAEtB,YAAcU,GAAgB,CAACH,EAAE,IAAIG,CAAG,GAAKH,EAAE,QAAQG,CAAG,EAC1D,MAAQA,IAASA,EAAMD,MAASA,GAChC,IAAMC,GAAQC,GAAI,CAACD,EAAKd,CAAK,EAC7B,IAAK,CAACgB,EAAKC,IAAQD,IAAQC,EAE3B,IAAMH,GAAQC,GAAID,EAAMA,EAAKd,CAAK,EAClC,IAAK,CAACgB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKjB,CAAK,EACvC,IAAK,CAACgB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKjB,CAAK,EACvC,IAAK,CAACgB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKjB,CAAK,EACvC,IAAK,CAACc,EAAKI,IAAUC,GAAMR,EAAGG,EAAKI,CAAK,EACxC,IAAK,CAACF,EAAKC,IAAQF,GAAIC,EAAMI,GAAOH,EAAKjB,CAAK,EAAGA,CAAK,EAGtD,KAAOc,GAAQA,EAAMA,EACrB,KAAM,CAACE,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAE1B,IAAMH,GAAQM,GAAON,EAAKd,CAAK,EAC/B,KACEM,IACEZ,IACKgB,IAAOA,EAAQW,GAAOrB,CAAK,GACzBU,EAAMC,EAAGjB,CAAC,IAErB,QAAUoB,GAASZ,EAAOoB,GAAgBR,EAAKL,CAAK,EAAIc,GAAgBT,EAAKL,CAAK,EAClF,UAAYe,GAAS,CACnB,GAAIA,EAAM,SAAWf,EACnB,MAAM,IAAI,MAAM,6BAA+BA,EAAQ,eAAiBe,EAAM,MAAM,EACtF,OAAOtB,EAAOuB,GAAgBD,CAAK,EAAIE,GAAgBF,CAAK,CAC9D,EAEA,YAAcG,GAAQC,GAAcjB,EAAGgB,CAAG,EAG1C,KAAM,CAACE,EAAGC,EAAGC,IAAOA,EAAID,EAAID,EAClB,EACZ,OAAO,OAAO,OAAOlB,CAAC,CACxB,CA0CM,SAAUqB,GAAoBC,EAAkB,CACpD,GAAI,OAAOA,GAAe,SAAU,MAAM,IAAI,MAAM,4BAA4B,EAChF,IAAMC,EAAYD,EAAW,SAAS,CAAC,EAAE,OACzC,OAAO,KAAK,KAAKC,EAAY,CAAC,CAChC,CASM,SAAUC,GAAiBF,EAAkB,CACjD,IAAMG,EAASJ,GAAoBC,CAAU,EAC7C,OAAOG,EAAS,KAAK,KAAKA,EAAS,CAAC,CACtC,CAeM,SAAUC,GAAeC,EAAiBL,EAAoBM,EAAO,GAAK,CAC9E,IAAMC,EAAMF,EAAI,OACVG,EAAWT,GAAoBC,CAAU,EACzCS,EAASP,GAAiBF,CAAU,EAE1C,GAAIO,EAAM,IAAMA,EAAME,GAAUF,EAAM,KACpC,MAAM,IAAI,MAAM,YAAcE,EAAS,6BAA+BF,CAAG,EAC3E,IAAMG,EAAMJ,EAAOK,GAAgBN,CAAG,EAAIO,GAAgBP,CAAG,EAEvDQ,EAAUC,GAAIJ,EAAKV,EAAae,EAAG,EAAIA,GAC7C,OAAOT,EAAOU,GAAgBH,EAASL,CAAQ,EAAIS,GAAgBJ,EAASL,CAAQ,CACtF,CChiBA,IAAMU,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EA4Bd,SAAUC,GAA6BC,EAAoBC,EAAO,CACtE,IAAMC,EAAMD,EAAK,OAAM,EACvB,OAAOD,EAAYE,EAAMD,CAC3B,CAQM,SAAUE,GACdC,EACAC,EACAC,EAAW,CAEX,IAAMC,EAAOF,IAAa,KAAQG,GAAWA,EAAE,GAAMA,GAAWA,EAAE,GAC5DC,EAAQC,GAAcN,EAAE,GAAIE,EAAO,IAAIC,CAAI,CAAC,EAGlD,OADgBD,EAAO,IAAI,CAACE,EAAGG,IAAMH,EAAE,SAASC,EAAME,CAAC,CAAC,CAAC,EAC1C,IAAIP,EAAE,UAAU,CACjC,CAEA,SAASQ,GAAUC,EAAWC,EAAY,CACxC,GAAI,CAAC,OAAO,cAAcD,CAAC,GAAKA,GAAK,GAAKA,EAAIC,EAC5C,MAAM,IAAI,MAAM,qCAAuCA,EAAO,YAAcD,CAAC,CACjF,CAWA,SAASE,GAAUF,EAAWG,EAAkB,CAC9CJ,GAAUC,EAAGG,CAAU,EACvB,IAAMC,EAAU,KAAK,KAAKD,EAAaH,CAAC,EAAI,EACtCK,EAAa,IAAML,EAAI,GACvBM,EAAY,GAAKN,EACjBO,EAAOC,GAAQR,CAAC,EAChBS,EAAU,OAAOT,CAAC,EACxB,MAAO,CAAE,QAAAI,EAAS,WAAAC,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,CACxD,CAEA,SAASC,GAAYC,EAAWC,EAAgBC,EAAY,CAC1D,GAAM,CAAE,WAAAR,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,EAAKI,EAC7CC,EAAQ,OAAOH,EAAIJ,CAAI,EACvBQ,EAAQJ,GAAKF,EAQbK,EAAQT,IAEVS,GAASR,EACTS,GAAS9B,IAEX,IAAM+B,EAAcJ,EAASP,EACvBY,EAASD,EAAc,KAAK,IAAIF,CAAK,EAAI,EACzCI,EAASJ,IAAU,EACnBK,EAAQL,EAAQ,EAChBM,EAASR,EAAS,IAAM,EAE9B,MAAO,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAD/BJ,CACsC,CACxD,CAEA,SAASK,GAAkB5B,EAAeF,EAAM,CAC9C,GAAI,CAAC,MAAM,QAAQE,CAAM,EAAG,MAAM,IAAI,MAAM,gBAAgB,EAC5DA,EAAO,QAAQ,CAACE,EAAGG,IAAK,CACtB,GAAI,EAAEH,aAAaJ,GAAI,MAAM,IAAI,MAAM,0BAA4BO,CAAC,CACtE,CAAC,CACH,CACA,SAASwB,GAAmBC,EAAgBC,EAAU,CACpD,GAAI,CAAC,MAAM,QAAQD,CAAO,EAAG,MAAM,IAAI,MAAM,2BAA2B,EACxEA,EAAQ,QAAQ,CAACE,EAAG3B,IAAK,CACvB,GAAI,CAAC0B,EAAM,QAAQC,CAAC,EAAG,MAAM,IAAI,MAAM,2BAA6B3B,CAAC,CACvE,CAAC,CACH,CAKA,IAAM4B,GAAmB,IAAI,QACvBC,GAAmB,IAAI,QAE7B,SAASC,GAAKC,EAAM,CAClB,OAAOF,GAAiB,IAAIE,CAAC,GAAK,CACpC,CAEA,SAASC,GAAQnB,EAAS,CACxB,GAAIA,IAAM3B,GAAK,MAAM,IAAI,MAAM,cAAc,CAC/C,CA6BM,SAAU+C,GAAyBxC,EAAwBU,EAAY,CAC3E,MAAO,CACL,gBAAiBf,GAEjB,eAAe8C,EAAM,CACnB,OAAOJ,GAAKI,CAAG,IAAM,CACvB,EAGA,aAAaA,EAAQrB,EAAWhB,EAAIJ,EAAE,KAAI,CACxC,IAAI0C,EAAOD,EACX,KAAOrB,EAAI3B,IACL2B,EAAI1B,KAAKU,EAAIA,EAAE,IAAIsC,CAAC,GACxBA,EAAIA,EAAE,OAAM,EACZtB,IAAM1B,GAER,OAAOU,CACT,EAcA,iBAAiBqC,EAAQhC,EAAS,CAChC,GAAM,CAAE,QAAAI,EAAS,WAAAC,CAAU,EAAKH,GAAUF,EAAGC,CAAI,EAC3CR,EAAc,CAAA,EAChBE,EAAOqC,EACPE,EAAOvC,EACX,QAASiB,EAAS,EAAGA,EAASR,EAASQ,IAAU,CAC/CsB,EAAOvC,EACPF,EAAO,KAAKyC,CAAI,EAEhB,QAASpC,EAAI,EAAGA,EAAIO,EAAYP,IAC9BoC,EAAOA,EAAK,IAAIvC,CAAC,EACjBF,EAAO,KAAKyC,CAAI,EAElBvC,EAAIuC,EAAK,OAAM,CACjB,CACA,OAAOzC,CACT,EASA,KAAKO,EAAWmC,EAAkBxB,EAAS,CAOzC,IAAIhB,EAAIJ,EAAE,KACN6C,EAAI7C,EAAE,KAMJ8C,EAAKnC,GAAUF,EAAGC,CAAI,EAC5B,QAASW,EAAS,EAAGA,EAASyB,EAAG,QAASzB,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAAAkB,CAAO,EAAK5B,GAAYC,EAAGC,EAAQyB,CAAE,EACnF1B,EAAII,EACAG,EAGFkB,EAAIA,EAAE,IAAIlD,GAASkC,EAAQe,EAAYG,CAAO,CAAC,CAAC,EAGhD3C,EAAIA,EAAE,IAAIT,GAASiC,EAAOgB,EAAYlB,CAAM,CAAC,CAAC,CAElD,CACA,OAAAa,GAAQnB,CAAC,EAIF,CAAE,EAAAhB,EAAG,EAAAyC,CAAC,CACf,EAUA,WAAWpC,EAAWmC,EAAkBxB,EAAW4B,EAAShD,EAAE,KAAI,CAChE,IAAM8C,EAAKnC,GAAUF,EAAGC,CAAI,EAC5B,QAASW,EAAS,EAAGA,EAASyB,EAAG,SAC3B1B,IAAM3B,GAD8B4B,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,CAAK,EAAKT,GAAYC,EAAGC,EAAQyB,CAAE,EAElE,GADA1B,EAAII,EACA,CAAAG,EAIG,CACL,IAAM9B,EAAO+C,EAAYlB,CAAM,EAC/BsB,EAAMA,EAAI,IAAIpB,EAAQ/B,EAAK,OAAM,EAAKA,CAAI,CAC5C,CACF,CACA,OAAA0C,GAAQnB,CAAC,EACF4B,CACT,EAEA,eAAevC,EAAW6B,EAAMW,EAAqB,CAEnD,IAAIC,EAAOf,GAAiB,IAAIG,CAAC,EACjC,OAAKY,IACHA,EAAO,KAAK,iBAAiBZ,EAAG7B,CAAC,EAC7BA,IAAM,IAEJ,OAAOwC,GAAc,aAAYC,EAAOD,EAAUC,CAAI,GAC1Df,GAAiB,IAAIG,EAAGY,CAAI,IAGzBA,CACT,EAEA,WAAWZ,EAAMlB,EAAW6B,EAAqB,CAC/C,IAAMxC,EAAI4B,GAAKC,CAAC,EAChB,OAAO,KAAK,KAAK7B,EAAG,KAAK,eAAeA,EAAG6B,EAAGW,CAAS,EAAG7B,CAAC,CAC7D,EAEA,iBAAiBkB,EAAMlB,EAAW6B,EAAuBE,EAAQ,CAC/D,IAAM1C,EAAI4B,GAAKC,CAAC,EAChB,OAAI7B,IAAM,EAAU,KAAK,aAAa6B,EAAGlB,EAAG+B,CAAI,EACzC,KAAK,WAAW1C,EAAG,KAAK,eAAeA,EAAG6B,EAAGW,CAAS,EAAG7B,EAAG+B,CAAI,CACzE,EAMA,cAAcb,EAAM7B,EAAS,CAC3BD,GAAUC,EAAGC,CAAI,EACjB0B,GAAiB,IAAIE,EAAG7B,CAAC,EACzB0B,GAAiB,OAAOG,CAAC,CAC3B,EAEJ,CAMM,SAAUc,GACdpD,EACAqD,EACAC,EACAC,EAAU,CAEV,IAAIP,EAAMK,EACNG,EAAKxD,EAAE,KACPyD,EAAKzD,EAAE,KACX,KAAOsD,EAAK7D,IAAO8D,EAAK9D,IAClB6D,EAAK5D,KAAK8D,EAAKA,EAAG,IAAIR,CAAG,GACzBO,EAAK7D,KAAK+D,EAAKA,EAAG,IAAIT,CAAG,GAC7BA,EAAMA,EAAI,OAAM,EAChBM,IAAO5D,GACP6D,IAAO7D,GAET,MAAO,CAAE,GAAA8D,EAAI,GAAAC,CAAE,CACjB,CAYM,SAAUC,GACd1D,EACA2D,EACAzD,EACA8B,EAAiB,CAQjBF,GAAkB5B,EAAQF,CAAC,EAC3B+B,GAAmBC,EAAS2B,CAAM,EAClC,IAAMC,EAAU1D,EAAO,OACjB2D,EAAU7B,EAAQ,OACxB,GAAI4B,IAAYC,EAAS,MAAM,IAAI,MAAM,qDAAqD,EAE9F,IAAMC,EAAO9D,EAAE,KACTuB,EAAQwC,GAAO,OAAOH,CAAO,CAAC,EAChC9C,EAAa,EACbS,EAAQ,GAAIT,EAAaS,EAAQ,EAC5BA,EAAQ,EAAGT,EAAaS,EAAQ,EAChCA,EAAQ,IAAGT,EAAa,GACjC,IAAMkD,EAAO/C,GAAQH,CAAU,EACzBmD,EAAU,IAAI,MAAM,OAAOD,CAAI,EAAI,CAAC,EAAE,KAAKF,CAAI,EAC/CI,EAAW,KAAK,OAAOP,EAAO,KAAO,GAAK7C,CAAU,EAAIA,EAC1DqD,EAAML,EACV,QAASvD,EAAI2D,EAAU3D,GAAK,EAAGA,GAAKO,EAAY,CAC9CmD,EAAQ,KAAKH,CAAI,EACjB,QAASM,EAAI,EAAGA,EAAIP,EAASO,IAAK,CAChC,IAAMC,EAASrC,EAAQoC,CAAC,EAClB7C,EAAQ,OAAQ8C,GAAU,OAAO9D,CAAC,EAAKyD,CAAI,EACjDC,EAAQ1C,CAAK,EAAI0C,EAAQ1C,CAAK,EAAE,IAAIrB,EAAOkE,CAAC,CAAC,CAC/C,CACA,IAAIE,EAAOR,EAEX,QAASM,EAAIH,EAAQ,OAAS,EAAGM,EAAOT,EAAMM,EAAI,EAAGA,IACnDG,EAAOA,EAAK,IAAIN,EAAQG,CAAC,CAAC,EAC1BE,EAAOA,EAAK,IAAIC,CAAI,EAGtB,GADAJ,EAAMA,EAAI,IAAIG,CAAI,EACd/D,IAAM,EAAG,QAAS6D,EAAI,EAAGA,EAAItD,EAAYsD,IAAKD,EAAMA,EAAI,OAAM,CACpE,CACA,OAAOA,CACT,CA+IA,SAASK,GAAeC,EAAeC,EAAiB,CACtD,GAAIA,EAAO,CACT,GAAIA,EAAM,QAAUD,EAAO,MAAM,IAAI,MAAM,gDAAgD,EAC3F,OAAAE,GAAcD,CAAK,EACZA,CACT,KACE,QAAOE,GAAMH,CAAK,CAEtB,CAGM,SAAUI,GACdC,EACAC,EACAC,EAA8B,CAAA,EAAE,CAEhC,GAAI,CAACD,GAAS,OAAOA,GAAU,SAAU,MAAM,IAAI,MAAM,kBAAkB,OAAAD,EAAI,gBAAe,EAC9F,QAAWG,IAAK,CAAC,IAAK,IAAK,GAAG,EAAY,CACxC,IAAMC,EAAMH,EAAME,CAAC,EACnB,GAAI,EAAE,OAAOC,GAAQ,UAAYA,EAAMC,IACrC,MAAM,IAAI,MAAM,SAAS,OAAAF,EAAC,2BAA0B,CACxD,CACA,IAAMG,EAAKZ,GAAYO,EAAM,EAAGC,EAAU,EAAE,EACtCK,EAAKb,GAAYO,EAAM,EAAGC,EAAU,EAAE,EAEtCM,EAAS,CAAC,KAAM,KAAM,IADNR,IAAS,cAAgB,IAAM,GAClB,EACnC,QAAWG,KAAKK,EAEd,GAAI,CAACF,EAAG,QAAQL,EAAME,CAAC,CAAC,EACtB,MAAM,IAAI,MAAM,SAAS,OAAAA,EAAC,2CAA0C,EAExE,MAAO,CAAE,GAAAG,EAAI,GAAAC,CAAE,CACjB,CChcA,SAASE,GAAmBC,EAAwB,CAC9CA,EAAK,OAAS,QAAWC,GAAM,OAAQD,EAAK,IAAI,EAChDA,EAAK,UAAY,QAAWC,GAAM,UAAWD,EAAK,OAAO,CAC/D,CAgKM,IAAOE,GAAP,cAAsB,KAAK,CAC/B,YAAYC,EAAI,GAAE,CAChB,MAAMA,CAAC,CACT,GA6BWC,GAAY,CAEvB,IAAKF,GAEL,KAAM,CACJ,OAAQ,CAACG,EAAaC,IAAwB,CAC5C,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIC,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,EAAG,MAAM,IAAIC,EAAE,2BAA2B,EAC5D,IAAMC,EAAUF,EAAK,OAAS,EACxBG,EAAMC,GAAoBF,CAAO,EACvC,GAAKC,EAAI,OAAS,EAAK,IAAa,MAAM,IAAIF,EAAE,sCAAsC,EAEtF,IAAMI,EAASH,EAAU,IAAME,GAAqBD,EAAI,OAAS,EAAK,GAAW,EAAI,GAErF,OADUC,GAAoBL,CAAG,EACtBM,EAASF,EAAMH,CAC5B,EAEA,OAAOD,EAAaC,EAAgB,CAClC,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACfQ,EAAM,EACV,GAAIP,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,GAAKA,EAAKM,GAAK,IAAMP,EAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC/E,IAAMM,EAAQP,EAAKM,GAAK,EAClBE,EAAS,CAAC,EAAED,EAAQ,KACtBE,EAAS,EACb,GAAI,CAACD,EAAQC,EAASF,MACjB,CAEH,IAAMF,EAASE,EAAQ,IACvB,GAAI,CAACF,EAAQ,MAAM,IAAIJ,EAAE,mDAAmD,EAC5E,GAAII,EAAS,EAAG,MAAM,IAAIJ,EAAE,0CAA0C,EACtE,IAAMS,EAAcV,EAAK,SAASM,EAAKA,EAAMD,CAAM,EACnD,GAAIK,EAAY,SAAWL,EAAQ,MAAM,IAAIJ,EAAE,uCAAuC,EACtF,GAAIS,EAAY,CAAC,IAAM,EAAG,MAAM,IAAIT,EAAE,sCAAsC,EAC5E,QAAWU,KAAKD,EAAaD,EAAUA,GAAU,EAAKE,EAEtD,GADAL,GAAOD,EACHI,EAAS,IAAK,MAAM,IAAIR,EAAE,wCAAwC,CACxE,CACA,IAAMW,EAAIZ,EAAK,SAASM,EAAKA,EAAMG,CAAM,EACzC,GAAIG,EAAE,SAAWH,EAAQ,MAAM,IAAIR,EAAE,gCAAgC,EACrE,MAAO,CAAE,EAAAW,EAAG,EAAGZ,EAAK,SAASM,EAAMG,CAAM,CAAC,CAC5C,GAMF,KAAM,CACJ,OAAOI,EAAW,CAChB,GAAM,CAAE,IAAKZ,CAAC,EAAKH,GACnB,GAAIe,EAAMC,GAAK,MAAM,IAAIb,EAAE,4CAA4C,EACvE,IAAIc,EAAMX,GAAoBS,CAAG,EAGjC,GADI,OAAO,SAASE,EAAI,CAAC,EAAG,EAAE,EAAI,IAAQA,EAAM,KAAOA,GACnDA,EAAI,OAAS,EAAG,MAAM,IAAId,EAAE,gDAAgD,EAChF,OAAOc,CACT,EACA,OAAOf,EAAgB,CACrB,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIE,EAAK,CAAC,EAAI,IAAa,MAAM,IAAIC,EAAE,qCAAqC,EAC5E,GAAID,EAAK,CAAC,IAAM,GAAQ,EAAEA,EAAK,CAAC,EAAI,KAClC,MAAM,IAAIC,EAAE,qDAAqD,EACnE,OAAOe,GAAgBhB,CAAI,CAC7B,GAEF,MAAMe,EAAwB,CAE5B,GAAM,CAAE,IAAKd,EAAG,KAAMgB,EAAK,KAAMC,CAAG,EAAKpB,GACnCE,EAAOmB,GAAY,YAAaJ,CAAG,EACnC,CAAE,EAAGK,EAAU,EAAGC,CAAY,EAAKH,EAAI,OAAO,GAAMlB,CAAI,EAC9D,GAAIqB,EAAa,OAAQ,MAAM,IAAIpB,EAAE,6CAA6C,EAClF,GAAM,CAAE,EAAGqB,EAAQ,EAAGC,CAAU,EAAKL,EAAI,OAAO,EAAME,CAAQ,EACxD,CAAE,EAAGI,EAAQC,CAAa,EAAKP,EAAI,OAAO,EAAMK,CAAU,EAChE,GAAIE,EAAW,OAAQ,MAAM,IAAIxB,EAAE,6CAA6C,EAChF,MAAO,CAAE,EAAGgB,EAAI,OAAOK,CAAM,EAAG,EAAGL,EAAI,OAAOO,CAAM,CAAC,CACvD,EACA,WAAWE,EAA6B,CACtC,GAAM,CAAE,KAAMR,EAAK,KAAMD,CAAG,EAAKnB,GAC3B6B,EAAKT,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCE,EAAKV,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCG,EAAMF,EAAKC,EACjB,OAAOV,EAAI,OAAO,GAAMW,CAAG,CAC7B,GAKIf,GAAM,OAAO,CAAC,EAAGgB,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAGlF,SAAUC,GAAsBC,EAAeC,EAAMzB,EAAI,CAK7D,SAAS0B,EAAoBC,EAAI,CAC/B,IAAMC,EAAKJ,EAAG,IAAIG,CAAC,EACbE,EAAKL,EAAG,IAAII,EAAID,CAAC,EACvB,OAAOH,EAAG,IAAIA,EAAG,IAAIK,EAAIL,EAAG,IAAIG,EAAGF,CAAC,CAAC,EAAGzB,CAAC,CAC3C,CACA,OAAO0B,CACT,CACM,SAAUI,GACdC,EACAC,EACAC,EAAwB,CAExB,GAAM,CAAE,MAAOC,CAAQ,EAAKH,EAE5B,SAASI,EAAuBC,EAAY,CAC1C,IAAIlC,EACJ,GAAI,OAAOkC,GAAQ,SACjBlC,EAAMkC,MACD,CACL,IAAIC,EAAQ7B,GAAY,cAAe4B,CAAG,EAC1C,GAAIJ,EAA0B,CAC5B,GAAI,CAACA,EAAyB,SAASK,EAAM,OAAS,CAAC,EACrD,MAAM,IAAI,MAAM,qBAAqB,EACvC,IAAMC,EAAS,IAAI,WAAWJ,CAAQ,EACtCI,EAAO,IAAID,EAAOC,EAAO,OAASD,EAAM,MAAM,EAC9CA,EAAQC,CACV,CACA,GAAI,CACFpC,EAAM6B,EAAG,UAAUM,CAAK,CAC1B,OAASE,EAAO,CACd,MAAM,IAAI,MACR,8CAA8C,OAAAL,EAAQ,UAAS,cAAOE,EAAK,CAE/E,CACF,CAEA,GADIH,IAAgB/B,EAAM6B,EAAG,OAAO7B,CAAG,GACnC,CAAC6B,EAAG,YAAY7B,CAAG,EAAG,MAAM,IAAI,MAAM,4CAA4C,EACtF,OAAOA,CACT,CACA,OAAOiC,CACT,CAEM,SAAUK,GACdC,EACAC,EAAqC,CAAA,EAAE,CAEvC,GAAM,CAAE,GAAAlB,EAAI,GAAAO,CAAE,EAAKY,GAAmB,cAAeF,EAAOC,CAAS,EAC/D,CAAE,EAAGE,EAAU,EAAGC,CAAW,EAAKJ,EACxCK,GACEJ,EACA,CAAA,EACA,CACE,mBAAoB,UACpB,cAAe,WACf,cAAe,WACf,UAAW,WACX,QAAS,WACT,KAAM,SACN,eAAgB,UACjB,EAGH,GAAM,CAAE,KAAAK,CAAI,EAAKL,EACjB,GAAIK,IAGA,CAACvB,EAAG,IAAIiB,EAAM,CAAC,GACf,OAAOM,EAAK,MAAS,UACrB,OAAOA,EAAK,aAAgB,YAE5B,MAAM,IAAI,MAAM,mEAAmE,EAIvF,SAASC,GAA4B,CACnC,GAAI,CAACxB,EAAG,MAAO,MAAM,IAAI,MAAM,4DAA4D,CAC7F,CAGA,SAASyB,EACPC,EACAC,EACAC,EAAqB,CAErB,GAAM,CAAE,EAAAzB,EAAG,EAAA0B,CAAC,EAAKF,EAAM,SAAQ,EACzBG,EAAK9B,EAAG,QAAQG,CAAC,EAEvB,GADA3C,GAAM,eAAgBoE,CAAY,EAC9BA,EAAc,CAChBJ,EAA4B,EAC5B,IAAMO,EAAW,CAAC/B,EAAG,MAAO6B,CAAC,EAC7B,OAAOG,GAAYC,GAAQF,CAAQ,EAAGD,CAAE,CAC1C,KACE,QAAOE,GAAY,WAAW,GAAG,CAAI,EAAGF,EAAI9B,EAAG,QAAQ6B,CAAC,CAAC,CAE7D,CACA,SAASK,EAAerB,EAAiB,CACvCsB,GAAOtB,CAAK,EACZ,IAAMuB,EAAIpC,EAAG,MACPqC,EAAKD,EAAI,EACTE,EAAK,EAAIF,EAAI,EACb9D,EAASuC,EAAM,OACf0B,EAAO1B,EAAM,CAAC,EACd2B,EAAO3B,EAAM,SAAS,CAAC,EAE7B,GAAIvC,IAAW+D,IAAOE,IAAS,GAAQA,IAAS,GAAO,CACrD,IAAM,EAAIvC,EAAG,UAAUwC,CAAI,EAC3B,GAAI,CAACxC,EAAG,QAAQ,CAAC,EAAG,MAAM,IAAI,MAAM,qCAAqC,EACzE,IAAMyC,EAAKvC,EAAoB,CAAC,EAC5B2B,EACJ,GAAI,CACFA,EAAI7B,EAAG,KAAKyC,CAAE,CAChB,OAASC,EAAW,CAClB,IAAMC,EAAMD,aAAqB,MAAQ,KAAOA,EAAU,QAAU,GACpE,MAAM,IAAI,MAAM,yCAA2CC,CAAG,CAChE,CACAnB,EAA4B,EAC5B,IAAMoB,EAAS5C,EAAG,MAAO6B,CAAC,EAE1B,OADmBU,EAAO,KAAO,IACfK,IAAQf,EAAI7B,EAAG,IAAI6B,CAAC,GAC/B,CAAE,EAAG,EAAAA,CAAC,CACf,SAAWvD,IAAWgE,GAAMC,IAAS,EAAM,CAEzC,IAAM,EAAIvC,EAAG,UAAUwC,EAAK,SAASJ,EAAI,EAAGA,EAAI,CAAC,CAAC,EAC5CP,EAAI7B,EAAG,UAAUwC,EAAK,SAASJ,EAAI,EAAGA,EAAI,CAAC,CAAC,EAClD,GAAI,CAACS,EAAU,EAAGhB,CAAC,EAAG,MAAM,IAAI,MAAM,4BAA4B,EAClE,MAAO,CAAE,EAAG,EAAAA,CAAC,CACf,KACE,OAAM,IAAI,MACR,yBAAyB,OAAAvD,EAAM,0BAAyB,OAAA+D,EAAE,qBAAoB,OAAAC,EAAI,CAGxF,CAEA,IAAMQ,EAAU5B,EAAU,SAAWO,EAC/BsB,EAAY7B,EAAU,WAAagB,EACnChC,EAAsBH,GAAmBC,EAAIiB,EAAM,EAAGA,EAAM,CAAC,EAInE,SAAS4B,EAAU1C,EAAM0B,EAAI,CAC3B,IAAMmB,EAAOhD,EAAG,IAAI6B,CAAC,EACfoB,EAAQ/C,EAAoBC,CAAC,EACnC,OAAOH,EAAG,IAAIgD,EAAMC,CAAK,CAC3B,CAIA,GAAI,CAACJ,EAAU5B,EAAM,GAAIA,EAAM,EAAE,EAAG,MAAM,IAAI,MAAM,mCAAmC,EAIvF,IAAMiC,EAAOlD,EAAG,IAAIA,EAAG,IAAIiB,EAAM,EAAGpB,EAAG,EAAGC,EAAG,EACvCqD,EAAQnD,EAAG,IAAIA,EAAG,IAAIiB,EAAM,CAAC,EAAG,OAAO,EAAE,CAAC,EAChD,GAAIjB,EAAG,IAAIA,EAAG,IAAIkD,EAAMC,CAAK,CAAC,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAG3E,SAASC,EAAOC,EAAeC,EAAMC,EAAU,GAAK,CAClD,GAAI,CAACvD,EAAG,QAAQsD,CAAC,GAAMC,GAAWvD,EAAG,IAAIsD,CAAC,EAAI,MAAM,IAAI,MAAM,wBAAwB,OAAAD,EAAO,EAC7F,OAAOC,CACT,CAEA,SAASE,EAAUC,EAAc,CAC/B,GAAI,EAAEA,aAAiBC,GAAQ,MAAM,IAAI,MAAM,0BAA0B,CAC3E,CAOA,IAAMC,EAAeC,GAAS,CAACC,EAAUC,IAA0B,CACjE,GAAM,CAAE,GAAI3D,EAAG,GAAI0B,EAAG,GAAIkC,CAAC,EAAKF,EAEhC,GAAI7D,EAAG,IAAI+D,EAAG/D,EAAG,GAAG,EAAG,MAAO,CAAE,EAAAG,EAAG,EAAA0B,CAAC,EACpC,IAAMmC,EAAMH,EAAE,IAAG,EAGbC,GAAM,OAAMA,EAAKE,EAAMhE,EAAG,IAAMA,EAAG,IAAI+D,CAAC,GAC5C,IAAME,EAAKjE,EAAG,IAAIG,EAAG2D,CAAE,EACjBI,EAAKlE,EAAG,IAAI6B,EAAGiC,CAAE,EACjBK,EAAKnE,EAAG,IAAI+D,EAAGD,CAAE,EACvB,GAAIE,EAAK,MAAO,CAAE,EAAGhE,EAAG,KAAM,EAAGA,EAAG,IAAI,EACxC,GAAI,CAACA,EAAG,IAAImE,EAAInE,EAAG,GAAG,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3D,MAAO,CAAE,EAAGiE,EAAI,EAAGC,CAAE,CACvB,CAAC,EAGKE,EAAkBR,GAAUC,GAAY,CAC5C,GAAIA,EAAE,IAAG,EAAI,CAIX,GAAI3C,EAAU,oBAAsB,CAAClB,EAAG,IAAI6D,EAAE,EAAE,EAAG,OACnD,MAAM,IAAI,MAAM,iBAAiB,CACnC,CAEA,GAAM,CAAE,EAAA1D,EAAG,EAAA0B,CAAC,EAAKgC,EAAE,SAAQ,EAC3B,GAAI,CAAC7D,EAAG,QAAQG,CAAC,GAAK,CAACH,EAAG,QAAQ6B,CAAC,EAAG,MAAM,IAAI,MAAM,sCAAsC,EAC5F,GAAI,CAACgB,EAAU1C,EAAG0B,CAAC,EAAG,MAAM,IAAI,MAAM,mCAAmC,EACzE,GAAI,CAACgC,EAAE,cAAa,EAAI,MAAM,IAAI,MAAM,wCAAwC,EAChF,MAAO,EACT,CAAC,EAED,SAASQ,EACPC,EACAC,EACAC,EACAC,EACAC,EAAc,CAEd,OAAAF,EAAM,IAAId,EAAM1D,EAAG,IAAIwE,EAAI,GAAIF,CAAQ,EAAGE,EAAI,GAAIA,EAAI,EAAE,EACxDD,EAAMI,GAASF,EAAOF,CAAG,EACzBC,EAAMG,GAASD,EAAOF,CAAG,EAClBD,EAAI,IAAIC,CAAG,CACpB,CAOA,MAAMd,CAAK,CAcT,YAAYkB,EAAOC,EAAOC,EAAK,CAC7B,KAAK,GAAK1B,EAAO,IAAKwB,CAAE,EACxB,KAAK,GAAKxB,EAAO,IAAKyB,EAAI,EAAI,EAC9B,KAAK,GAAKzB,EAAO,IAAK0B,CAAE,EACxB,OAAO,OAAO,IAAI,CACpB,CAGA,OAAO,WAAWjB,EAAiB,CACjC,GAAM,CAAE,EAAA1D,EAAG,EAAA0B,CAAC,EAAKgC,GAAK,CAAA,EACtB,GAAI,CAACA,GAAK,CAAC7D,EAAG,QAAQG,CAAC,GAAK,CAACH,EAAG,QAAQ6B,CAAC,EAAG,MAAM,IAAI,MAAM,sBAAsB,EAClF,GAAIgC,aAAaH,EAAO,MAAM,IAAI,MAAM,8BAA8B,EAEtE,OAAI1D,EAAG,IAAIG,CAAC,GAAKH,EAAG,IAAI6B,CAAC,EAAU6B,EAAM,KAClC,IAAIA,EAAMvD,EAAG0B,EAAG7B,EAAG,GAAG,CAC/B,CAEA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CACA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CAEA,OAAO,WAAW+E,EAAe,CAC/B,OAAOC,GAAWtB,EAAO,KAAMqB,CAAM,CACvC,CAEA,OAAO,UAAUlE,EAAiB,CAChC,OAAAsB,GAAOtB,CAAK,EACL6C,EAAM,QAAQ7C,CAAK,CAC5B,CAGA,OAAO,QAAQjC,EAAQ,CACrB,IAAMqG,EAAIvB,EAAM,WAAWX,EAAU/D,GAAY,WAAYJ,CAAG,CAAC,CAAC,EAClE,OAAAqG,EAAE,eAAc,EACTA,CACT,CAGA,OAAO,eAAeC,EAAmB,CACvC,IAAMvE,EAAyBL,GAC7BC,EACAW,EAAU,yBACVA,EAAU,cAAc,EAE1B,OAAOwC,EAAM,KAAK,SAAS/C,EAAuBuE,CAAU,CAAC,CAC/D,CAGA,OAAO,IAAIH,EAAiBI,EAAiB,CAC3C,OAAOC,GAAU1B,EAAOnD,EAAIwE,EAAQI,CAAO,CAC7C,CAQA,WAAWE,EAAqB,EAAGC,EAAS,GAAI,CAC9C,OAAAC,EAAK,cAAc,KAAMF,CAAU,EAC9BC,GAAQ,KAAK,SAASzF,EAAG,EACvB,IACT,CAGA,eAAewF,EAAkB,CAC/B,KAAK,WAAWA,CAAU,CAC5B,CAIA,gBAAc,CACZjB,EAAgB,IAAI,CACtB,CAEA,UAAQ,CACN,GAAM,CAAE,EAAAvC,CAAC,EAAK,KAAK,SAAQ,EAC3B,GAAI,CAAC7B,EAAG,MAAO,MAAM,IAAI,MAAM,6BAA6B,EAC5D,MAAO,CAACA,EAAG,MAAM6B,CAAC,CACpB,CAGA,OAAO4B,EAAY,CACjBD,EAAUC,CAAK,EACf,GAAM,CAAE,GAAI+B,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKpC,EAC7BqC,EAAK9F,EAAG,IAAIA,EAAG,IAAIwF,EAAIK,CAAE,EAAG7F,EAAG,IAAI2F,EAAID,CAAE,CAAC,EAC1CK,EAAK/F,EAAG,IAAIA,EAAG,IAAIyF,EAAII,CAAE,EAAG7F,EAAG,IAAI4F,EAAIF,CAAE,CAAC,EAChD,OAAOI,GAAMC,CACf,CAGA,QAAM,CACJ,OAAO,IAAIrC,EAAM,KAAK,GAAI1D,EAAG,IAAI,KAAK,EAAE,EAAG,KAAK,EAAE,CACpD,CAMA,QAAM,CACJ,GAAM,CAAE,EAAAC,EAAG,EAAAzB,CAAC,EAAKyC,EACX+E,EAAKhG,EAAG,IAAIxB,EAAGqB,EAAG,EAClB,CAAE,GAAI2F,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC/BO,EAAKjG,EAAG,KAAMkG,EAAKlG,EAAG,KAAMmG,EAAKnG,EAAG,KACpCoG,EAAKpG,EAAG,IAAIwF,EAAIA,CAAE,EAClBa,EAAKrG,EAAG,IAAIyF,EAAIA,CAAE,EAClBa,EAAKtG,EAAG,IAAI0F,EAAIA,CAAE,EAClBa,EAAKvG,EAAG,IAAIwF,EAAIC,CAAE,EACtB,OAAAc,EAAKvG,EAAG,IAAIuG,EAAIA,CAAE,EAClBJ,EAAKnG,EAAG,IAAIwF,EAAIE,CAAE,EAClBS,EAAKnG,EAAG,IAAImG,EAAIA,CAAE,EAClBF,EAAKjG,EAAG,IAAIC,EAAGkG,CAAE,EACjBD,EAAKlG,EAAG,IAAIgG,EAAIM,CAAE,EAClBJ,EAAKlG,EAAG,IAAIiG,EAAIC,CAAE,EAClBD,EAAKjG,EAAG,IAAIqG,EAAIH,CAAE,EAClBA,EAAKlG,EAAG,IAAIqG,EAAIH,CAAE,EAClBA,EAAKlG,EAAG,IAAIiG,EAAIC,CAAE,EAClBD,EAAKjG,EAAG,IAAIuG,EAAIN,CAAE,EAClBE,EAAKnG,EAAG,IAAIgG,EAAIG,CAAE,EAClBG,EAAKtG,EAAG,IAAIC,EAAGqG,CAAE,EACjBC,EAAKvG,EAAG,IAAIoG,EAAIE,CAAE,EAClBC,EAAKvG,EAAG,IAAIC,EAAGsG,CAAE,EACjBA,EAAKvG,EAAG,IAAIuG,EAAIJ,CAAE,EAClBA,EAAKnG,EAAG,IAAIoG,EAAIA,CAAE,EAClBA,EAAKpG,EAAG,IAAImG,EAAIC,CAAE,EAClBA,EAAKpG,EAAG,IAAIoG,EAAIE,CAAE,EAClBF,EAAKpG,EAAG,IAAIoG,EAAIG,CAAE,EAClBL,EAAKlG,EAAG,IAAIkG,EAAIE,CAAE,EAClBE,EAAKtG,EAAG,IAAIyF,EAAIC,CAAE,EAClBY,EAAKtG,EAAG,IAAIsG,EAAIA,CAAE,EAClBF,EAAKpG,EAAG,IAAIsG,EAAIC,CAAE,EAClBN,EAAKjG,EAAG,IAAIiG,EAAIG,CAAE,EAClBD,EAAKnG,EAAG,IAAIsG,EAAID,CAAE,EAClBF,EAAKnG,EAAG,IAAImG,EAAIA,CAAE,EAClBA,EAAKnG,EAAG,IAAImG,EAAIA,CAAE,EACX,IAAIzC,EAAMuC,EAAIC,EAAIC,CAAE,CAC7B,CAMA,IAAI1C,EAAY,CACdD,EAAUC,CAAK,EACf,GAAM,CAAE,GAAI+B,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKpC,EAC/BwC,EAAKjG,EAAG,KAAMkG,EAAKlG,EAAG,KAAMmG,EAAKnG,EAAG,KAClCC,EAAIgB,EAAM,EACV+E,EAAKhG,EAAG,IAAIiB,EAAM,EAAGpB,EAAG,EAC1BuG,EAAKpG,EAAG,IAAIwF,EAAIG,CAAE,EAClBU,EAAKrG,EAAG,IAAIyF,EAAIG,CAAE,EAClBU,EAAKtG,EAAG,IAAI0F,EAAIG,CAAE,EAClBU,EAAKvG,EAAG,IAAIwF,EAAIC,CAAE,EAClBe,EAAKxG,EAAG,IAAI2F,EAAIC,CAAE,EACtBW,EAAKvG,EAAG,IAAIuG,EAAIC,CAAE,EAClBA,EAAKxG,EAAG,IAAIoG,EAAIC,CAAE,EAClBE,EAAKvG,EAAG,IAAIuG,EAAIC,CAAE,EAClBA,EAAKxG,EAAG,IAAIwF,EAAIE,CAAE,EAClB,IAAIe,EAAKzG,EAAG,IAAI2F,EAAIE,CAAE,EACtB,OAAAW,EAAKxG,EAAG,IAAIwG,EAAIC,CAAE,EAClBA,EAAKzG,EAAG,IAAIoG,EAAIE,CAAE,EAClBE,EAAKxG,EAAG,IAAIwG,EAAIC,CAAE,EAClBA,EAAKzG,EAAG,IAAIyF,EAAIC,CAAE,EAClBO,EAAKjG,EAAG,IAAI4F,EAAIC,CAAE,EAClBY,EAAKzG,EAAG,IAAIyG,EAAIR,CAAE,EAClBA,EAAKjG,EAAG,IAAIqG,EAAIC,CAAE,EAClBG,EAAKzG,EAAG,IAAIyG,EAAIR,CAAE,EAClBE,EAAKnG,EAAG,IAAIC,EAAGuG,CAAE,EACjBP,EAAKjG,EAAG,IAAIgG,EAAIM,CAAE,EAClBH,EAAKnG,EAAG,IAAIiG,EAAIE,CAAE,EAClBF,EAAKjG,EAAG,IAAIqG,EAAIF,CAAE,EAClBA,EAAKnG,EAAG,IAAIqG,EAAIF,CAAE,EAClBD,EAAKlG,EAAG,IAAIiG,EAAIE,CAAE,EAClBE,EAAKrG,EAAG,IAAIoG,EAAIA,CAAE,EAClBC,EAAKrG,EAAG,IAAIqG,EAAID,CAAE,EAClBE,EAAKtG,EAAG,IAAIC,EAAGqG,CAAE,EACjBE,EAAKxG,EAAG,IAAIgG,EAAIQ,CAAE,EAClBH,EAAKrG,EAAG,IAAIqG,EAAIC,CAAE,EAClBA,EAAKtG,EAAG,IAAIoG,EAAIE,CAAE,EAClBA,EAAKtG,EAAG,IAAIC,EAAGqG,CAAE,EACjBE,EAAKxG,EAAG,IAAIwG,EAAIF,CAAE,EAClBF,EAAKpG,EAAG,IAAIqG,EAAIG,CAAE,EAClBN,EAAKlG,EAAG,IAAIkG,EAAIE,CAAE,EAClBA,EAAKpG,EAAG,IAAIyG,EAAID,CAAE,EAClBP,EAAKjG,EAAG,IAAIuG,EAAIN,CAAE,EAClBA,EAAKjG,EAAG,IAAIiG,EAAIG,CAAE,EAClBA,EAAKpG,EAAG,IAAIuG,EAAIF,CAAE,EAClBF,EAAKnG,EAAG,IAAIyG,EAAIN,CAAE,EAClBA,EAAKnG,EAAG,IAAImG,EAAIC,CAAE,EACX,IAAI1C,EAAMuC,EAAIC,EAAIC,CAAE,CAC7B,CAEA,SAAS1C,EAAY,CACnB,OAAO,KAAK,IAAIA,EAAM,OAAM,CAAE,CAChC,CAEA,KAAG,CACD,OAAO,KAAK,OAAOC,EAAM,IAAI,CAC/B,CAWA,SAASgD,EAAc,CACrB,GAAM,CAAE,KAAAnF,CAAI,EAAKL,EACjB,GAAI,CAACX,EAAG,YAAYmG,CAAM,EAAG,MAAM,IAAI,MAAM,8BAA8B,EAC3E,IAAI/E,EAAcgF,EACZC,EAAOtD,GAAciC,EAAK,WAAW,KAAMjC,EAAGI,EAAM,UAAU,EAEpE,GAAInC,EAAM,CACR,GAAM,CAAE,MAAAkD,EAAO,GAAAoC,EAAI,MAAAnC,EAAO,GAAAoC,CAAE,EAAKvF,EAAK,YAAYmF,CAAM,EAClD,CAAE,EAAGnC,EAAK,EAAGwC,CAAG,EAAKH,EAAIC,CAAE,EAC3B,CAAE,EAAGrC,EAAK,EAAGwC,CAAG,EAAKJ,EAAIE,CAAE,EACjCH,EAAOI,EAAI,IAAIC,CAAG,EAClBrF,EAAQ0C,EAAW9C,EAAK,KAAMgD,EAAKC,EAAKC,EAAOC,CAAK,CACtD,KAAO,CACL,GAAM,CAAE,EAAAb,EAAG,EAAAoD,CAAC,EAAKL,EAAIF,CAAM,EAC3B/E,EAAQkC,EACR8C,EAAOM,CACT,CAEA,OAAOvD,EAAM,WAAW,CAAC/B,EAAOgF,CAAI,CAAC,EAAE,CAAC,CAC1C,CAOA,eAAeO,EAAU,CACvB,GAAM,CAAE,KAAA3F,CAAI,EAAKL,EACX2C,EAAI,KACV,GAAI,CAACtD,EAAG,QAAQ2G,CAAE,EAAG,MAAM,IAAI,MAAM,8BAA8B,EACnE,GAAIA,IAAOvI,IAAOkF,EAAE,IAAG,EAAI,OAAOH,EAAM,KACxC,GAAIwD,IAAOvH,GAAK,OAAOkE,EACvB,GAAI0B,EAAK,eAAe,IAAI,EAAG,OAAO,KAAK,SAAS2B,CAAE,EACtD,GAAI3F,EAAM,CACR,GAAM,CAAE,MAAAkD,EAAO,GAAAoC,EAAI,MAAAnC,EAAO,GAAAoC,CAAE,EAAKvF,EAAK,YAAY2F,CAAE,EAE9C,CAAE,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAc3D,EAAOG,EAAGgD,EAAIC,CAAE,EACjD,OAAOzC,EAAW9C,EAAK,KAAM4F,EAAIC,EAAI3C,EAAOC,CAAK,CACnD,KACE,QAAOa,EAAK,iBAAiB1B,EAAGqD,CAAE,CAEtC,CAEA,qBAAqBI,EAAUrH,EAAWzB,EAAS,CACjD,IAAM+I,EAAM,KAAK,eAAetH,CAAC,EAAE,IAAIqH,EAAE,eAAe9I,CAAC,CAAC,EAC1D,OAAO+I,EAAI,IAAG,EAAK,OAAYA,CACjC,CAMA,SAASC,EAAa,CACpB,OAAO7D,EAAa,KAAM6D,CAAS,CACrC,CAMA,eAAa,CACX,GAAM,CAAE,cAAAC,CAAa,EAAKvG,EAC1B,OAAIE,IAAazB,GAAY,GACzB8H,EAAsBA,EAAc/D,EAAO,IAAI,EAC5C6B,EAAK,iBAAiB,KAAMlE,CAAW,EAAE,IAAG,CACrD,CAEA,eAAa,CACX,GAAM,CAAE,cAAAqG,CAAa,EAAKxG,EAC1B,OAAIE,IAAazB,GAAY,KACzB+H,EAAsBA,EAAchE,EAAO,IAAI,EAC5C,KAAK,eAAetC,CAAQ,CACrC,CAEA,QAAQQ,EAAe,GAAI,CACzB,OAAApE,GAAM,eAAgBoE,CAAY,EAClC,KAAK,eAAc,EACZkB,EAAQY,EAAO,KAAM9B,CAAY,CAC1C,CAGA,WAAWA,EAAe,GAAI,CAC5B,OAAO,KAAK,QAAQA,CAAY,CAClC,CAEA,MAAMA,EAAe,GAAI,CACvB,OAAO+F,GAAW,KAAK,QAAQ/F,CAAY,CAAC,CAC9C,CAEA,UAAQ,CACN,MAAO,UAAU,YAAK,IAAG,EAAK,OAAS,KAAK,MAAK,EAAE,IACrD,EA5TgB8B,EAAA,KAAO,IAAIA,EAAMzC,EAAM,GAAIA,EAAM,GAAIjB,EAAG,GAAG,EAE3C0D,EAAA,KAAO,IAAIA,EAAM1D,EAAG,KAAMA,EAAG,IAAKA,EAAG,IAAI,EAEzC0D,EAAA,GAAK1D,EACL0D,EAAA,GAAKnD,EAyTvB,IAAMqH,EAAOrH,EAAG,KACVgF,EAAOsC,GAAKnE,EAAOxC,EAAU,KAAO,KAAK,KAAK0G,EAAO,CAAC,EAAIA,CAAI,EACpE,OAAOlE,CACT,CAgDA,SAASoE,GAAQC,EAAiB,CAChC,OAAO,WAAW,GAAGA,EAAW,EAAO,CAAI,CAC7C,CAoBM,SAAUC,GACdC,EACAC,EACAC,EAA0C,CAAA,EAAE,CAE5CC,GACEF,EACA,CAAE,KAAM,UAAU,EAClB,CACE,KAAM,WACN,KAAM,UACN,YAAa,WACb,SAAU,WACV,cAAe,WAChB,EAGH,IAAMG,EAAeH,EAAU,aAAeI,GACxCC,EACJL,EAAU,OACR,CAACM,KAAQC,IAASC,GAAKR,EAAU,KAAMM,EAAKG,GAAY,GAAGF,CAAI,CAAC,GAE9D,CAAE,GAAAG,EAAI,GAAAC,CAAE,EAAKZ,EACb,CAAE,MAAOa,EAAa,KAAMC,CAAM,EAAKF,EAE7C,SAASG,EAAsBC,EAAc,CAC3C,IAAMC,EAAOJ,GAAeK,GAC5B,OAAOF,EAASC,CAClB,CAEA,SAASE,EAAWC,EAAS,CAC3B,OAAOL,EAAsBK,CAAC,EAAIR,EAAG,IAAIQ,CAAC,EAAIA,CAChD,CACA,SAASC,EAASC,EAAeC,EAAW,CAC1C,GAAI,CAACX,EAAG,YAAYW,CAAG,EACrB,MAAM,IAAI,MAAM,qBAAqB,OAAAD,EAAK,4BAA2B,CACzE,CAKA,MAAME,CAAS,CAIb,YAAYC,EAAWL,EAAWM,EAAiB,CACjDL,EAAS,IAAKI,CAAC,EACfJ,EAAS,IAAKD,CAAC,EACf,KAAK,EAAIK,EACT,KAAK,EAAIL,EACLM,GAAY,OAAM,KAAK,SAAWA,GACtC,OAAO,OAAO,IAAI,CACpB,CAGA,OAAO,YAAYC,EAAQ,CACzB,IAAMC,EAAIhB,EAAG,MACPiB,EAAIC,GAAY,mBAAoBH,EAAKC,EAAI,CAAC,EACpD,OAAO,IAAIJ,EAAUZ,EAAG,UAAUiB,EAAE,SAAS,EAAGD,CAAC,CAAC,EAAGhB,EAAG,UAAUiB,EAAE,SAASD,EAAGA,EAAI,CAAC,CAAC,CAAC,CACzF,CAIA,OAAO,QAAQD,EAAQ,CACrB,GAAM,CAAE,EAAAF,EAAG,EAAAL,CAAC,EAAKW,GAAI,MAAMD,GAAY,MAAOH,CAAG,CAAC,EAClD,OAAO,IAAIH,EAAUC,EAAGL,CAAC,CAC3B,CAMA,gBAAc,CAAU,CAExB,eAAeM,EAAgB,CAC7B,OAAO,IAAIF,EAAU,KAAK,EAAG,KAAK,EAAGE,CAAQ,CAC/C,CAGA,iBAAiBM,EAAY,CAC3B,IAAMC,EAActB,EAAG,MACjB,CAAE,EAAAc,EAAG,EAAAL,EAAG,SAAUc,CAAG,EAAK,KAChC,GAAIA,GAAO,MAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASA,CAAG,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAWrF,GADoBrB,EAAcsB,GAAMF,GACrBC,EAAM,EAAG,MAAM,IAAI,MAAM,wCAAwC,EAEpF,IAAME,EAAOF,IAAQ,GAAKA,IAAQ,EAAIT,EAAIZ,EAAcY,EACxD,GAAI,CAACd,EAAG,QAAQyB,CAAI,EAAG,MAAM,IAAI,MAAM,4BAA4B,EACnE,IAAMC,EAAI1B,EAAG,QAAQyB,CAAI,EACnBE,EAAItC,EAAM,QAAQU,GAAYb,IAASqC,EAAM,KAAO,CAAC,EAAGG,CAAC,CAAC,EAC1DE,EAAK3B,EAAG,IAAIwB,CAAI,EAChBI,EAAIC,EAAcX,GAAY,UAAWE,CAAO,CAAC,EACjDU,EAAK9B,EAAG,OAAO,CAAC4B,EAAID,CAAE,EACtBI,EAAK/B,EAAG,OAAOQ,EAAImB,CAAE,EAErBK,EAAI5C,EAAM,KAAK,eAAe0C,CAAE,EAAE,IAAIJ,EAAE,eAAeK,CAAE,CAAC,EAChE,GAAIC,EAAE,IAAG,EAAI,MAAM,IAAI,MAAM,mBAAmB,EAChD,OAAAA,EAAE,eAAc,EACTA,CACT,CAGA,UAAQ,CACN,OAAO7B,EAAsB,KAAK,CAAC,CACrC,CAEA,YAAU,CACR,OAAO,KAAK,SAAQ,EAAK,IAAIS,EAAU,KAAK,EAAGZ,EAAG,IAAI,KAAK,CAAC,EAAG,KAAK,QAAQ,EAAI,IAClF,CAEA,QAAQiC,EAAyB,CAC/B,GAAIA,IAAW,UAAW,OAAOnC,GAAYE,EAAG,QAAQ,KAAK,CAAC,EAAGA,EAAG,QAAQ,KAAK,CAAC,CAAC,EACnF,GAAIiC,IAAW,MAAO,OAAOC,GAAWf,GAAI,WAAW,IAAI,CAAC,EAC5D,MAAM,IAAI,MAAM,gBAAgB,CAClC,CAGA,eAAa,CACX,OAAO,KAAK,QAAQ,KAAK,CAC3B,CACA,UAAQ,CACN,OAAOgB,GAAW,KAAK,QAAQ,KAAK,CAAC,CACvC,CAGA,mBAAiB,CACf,OAAO,KAAK,QAAQ,SAAS,CAC/B,CACA,cAAY,CACV,OAAOA,GAAW,KAAK,QAAQ,SAAS,CAAC,CAC3C,EAIF,IAAMC,EAAyBC,GAC7BrC,EACAV,EAAU,yBACVA,EAAU,cAAc,EAGpBgD,EAAQ,CACZ,kBAAkBC,EAAmB,CACnC,GAAI,CACF,OAAAH,EAAuBG,CAAU,EAC1B,EACT,OAASC,EAAO,CACd,MAAO,EACT,CACF,EACA,uBAAwBJ,EAMxB,iBAAkB,IAAiB,CACjC,IAAMK,EAAIxC,EACV,OAAOyC,GAAelD,EAAamD,GAAiBF,CAAC,CAAC,EAAGA,CAAC,CAC5D,EAEA,WAAWG,EAAa,EAAGC,EAAQzD,EAAM,KAAI,CAC3C,OAAOyD,EAAM,WAAWD,EAAY,EAAK,CAC3C,GASF,SAASE,EAAaP,EAAqBQ,EAAe,GAAI,CAC5D,OAAO3D,EAAM,eAAemD,CAAU,EAAE,QAAQQ,CAAY,CAC9D,CAKA,SAASC,EAAUC,EAAsB,CACvC,GAAI,OAAOA,GAAS,SAAU,MAAO,GACrC,GAAIA,aAAgB7D,EAAO,MAAO,GAElC,IAAM8D,EADMhC,GAAY,MAAO+B,CAAI,EAChB,OACbjC,EAAIjB,EAAG,MACPoD,EAAKnC,EAAI,EACToC,EAAK,EAAIpC,EAAI,EACnB,GAAI,EAAA1B,EAAU,0BAA4BU,EAAG,QAAUmD,GAGrD,OAAOD,IAAWC,GAAMD,IAAWE,CAEvC,CAYA,SAASC,EAAgBC,EAAmBC,EAAcR,EAAe,GAAI,CAC3E,GAAIC,EAAUM,CAAQ,IAAM,GAAM,MAAM,IAAI,MAAM,+BAA+B,EACjF,GAAIN,EAAUO,CAAO,IAAM,GAAO,MAAM,IAAI,MAAM,+BAA+B,EAEjF,OADUnE,EAAM,QAAQmE,CAAO,EACtB,SAASnB,EAAuBkB,CAAQ,CAAC,EAAE,QAAQP,CAAY,CAC1E,CAMA,IAAMS,EACJnE,EAAU,UACV,SAAUoE,EAAiB,CAEzB,GAAIA,EAAM,OAAS,KAAM,MAAM,IAAI,MAAM,oBAAoB,EAG7D,IAAM9C,EAAM+C,GAAgBD,CAAK,EAC3BE,EAAQF,EAAM,OAAS,EAAIvD,EACjC,OAAOyD,EAAQ,EAAIhD,GAAO,OAAOgD,CAAK,EAAIhD,CAC5C,EACIkB,EACJxC,EAAU,eACV,SAAUoE,EAAiB,CACzB,OAAOzD,EAAG,OAAOwD,EAASC,CAAK,CAAC,CAClC,EAEIG,EAAaC,GAAQ3D,CAAM,EAIjC,SAAS4D,EAAWnD,EAAW,CAE7B,OAAAoD,GAAS,WAAa7D,EAAQS,EAAKqD,GAAKJ,CAAU,EAC3C5D,EAAG,QAAQW,CAAG,CACvB,CAOA,SAASsD,EAAQ7C,EAAcmB,EAAqB2B,EAAOC,EAAc,CACvE,GAAI,CAAC,YAAa,WAAW,EAAE,KAAMC,GAAMA,KAAKF,CAAI,EAClD,MAAM,IAAI,MAAM,qCAAqC,EACvD,GAAM,CAAE,KAAAG,CAAI,EAAKhF,EACb,CAAE,KAAAiF,EAAM,QAAAC,EAAS,aAAcC,CAAG,EAAKN,EACvCI,GAAQ,OAAMA,EAAO,IACzBlD,EAAUF,GAAY,UAAWE,CAAO,EACxCqD,GAAmBP,CAAI,EACnBK,IAASnD,EAAUF,GAAY,oBAAqBmD,EAAKjD,CAAO,CAAC,GAKrE,IAAMsD,EAAQ7C,EAAcT,CAAO,EAC7BuD,EAAIvC,EAAuBG,CAAU,EACrCqC,EAAW,CAACd,EAAWa,CAAC,EAAGb,EAAWY,CAAK,CAAC,EAElD,GAAIF,GAAO,MAAQA,IAAQ,GAAO,CAEhC,IAAMK,EAAIL,IAAQ,GAAOhF,EAAaO,EAAG,KAAK,EAAIyE,EAClDI,EAAS,KAAK1D,GAAY,eAAgB2D,CAAC,CAAC,CAC9C,CACA,IAAMC,EAAOhF,GAAY,GAAG8E,CAAQ,EAC9BG,EAAIL,EAKV,SAASM,EAAMC,EAAkB,CAG/B,IAAMb,EAAIZ,EAASyB,CAAM,EACzB,GAAI,CAACjF,EAAG,YAAYoE,CAAC,EAAG,OACxB,IAAMc,EAAKlF,EAAG,IAAIoE,CAAC,EACbe,GAAI/F,EAAM,KAAK,SAASgF,CAAC,EAAE,SAAQ,EACnCvD,GAAIb,EAAG,OAAOmF,GAAE,CAAC,EACvB,GAAItE,KAAMmD,GAAK,OACf,IAAMxD,GAAIR,EAAG,OAAOkF,EAAKlF,EAAG,OAAO+E,EAAIlE,GAAI8D,CAAC,CAAC,EAC7C,GAAInE,KAAMwD,GAAK,OACf,IAAIlD,IAAYqE,GAAE,IAAMtE,GAAI,EAAI,GAAK,OAAOsE,GAAE,EAAI7E,EAAG,EACjD8E,GAAQ5E,GACZ,OAAI8D,GAAQnE,EAAsBK,EAAC,IACjC4E,GAAQ7E,EAAWC,EAAC,EACpBM,IAAY,GAEP,IAAIF,EAAUC,GAAGuE,GAAOtE,EAAQ,CACzC,CACA,MAAO,CAAE,KAAAgE,EAAM,MAAAE,CAAK,CACtB,CACA,IAAMb,EAA2B,CAAE,KAAM9E,EAAU,KAAM,QAAS,EAAK,EACjEgG,EAA0B,CAAE,KAAMhG,EAAU,KAAM,QAAS,EAAK,EAetE,SAASiG,EAAKlE,EAAcmE,EAAkBrB,EAAOC,EAAc,CACjE,GAAM,CAAE,KAAAW,EAAM,MAAAE,CAAK,EAAKf,EAAQ7C,EAASmE,EAASrB,CAAI,EAEtD,OADasB,GAAmCnG,EAAU,KAAK,UAAWW,EAAG,MAAON,CAAK,EAC7EoF,EAAME,CAAK,CACzB,CAGA5F,EAAM,KAAK,WAAW,CAAC,EAevB,SAASqG,EACPC,EACAtE,EACAuE,EACAzB,EAAOmB,EAAc,CAErB,IAAMO,EAAKF,EACXtE,EAAUF,GAAY,UAAWE,CAAO,EACxCuE,EAAYzE,GAAY,YAAayE,CAAS,EAG9ClB,GAAmBP,CAAI,EACvB,GAAM,CAAE,KAAAI,EAAM,QAAAC,EAAS,OAAAtC,CAAM,EAAKiC,EAGlC,GAAI,WAAYA,EAAM,MAAM,IAAI,MAAM,oCAAoC,EAE1E,GAAIjC,IAAW,QAAa,CAAC,CAAC,UAAW,MAAO,IAAI,EAAE,SAASA,CAAM,EACnE,MAAM,IAAI,MAAM,yCAAyC,EAC3D,IAAM4D,EAAQ,OAAOD,GAAO,UAAYE,GAAQF,CAAE,EAC5CG,EACJ,CAACF,GACD,CAAC5D,GACD,OAAO2D,GAAO,UACdA,IAAO,MACP,OAAOA,EAAG,GAAM,UAChB,OAAOA,EAAG,GAAM,SAClB,GAAI,CAACC,GAAS,CAACE,EACb,MAAM,IAAI,MAAM,0EAA0E,EAC5F,IAAIC,EACAC,EAGJ,GAAI,CAUF,GAAIF,EACF,GAAI9D,IAAW,QAAaA,IAAW,KACrC+D,EAAO,IAAIpF,EAAUgF,EAAG,EAAGA,EAAG,CAAC,MAE/B,OAAM,IAAI,MAAM,gBAAgB,EAGpC,GAAIC,EAAO,CAIT,GAAI,CACE5D,IAAW,YAAW+D,EAAOpF,EAAU,QAAQgF,CAAE,EACvD,OAASM,GAAU,CACjB,GAAI,EAAEA,cAAoB/E,GAAI,KAAM,MAAM+E,EAC5C,CACI,CAACF,GAAQ/D,IAAW,QAAO+D,EAAOpF,EAAU,YAAYgF,CAAE,EAChE,CACAK,EAAI7G,EAAM,QAAQuG,CAAS,CAC7B,OAASnD,GAAO,CACd,MAAO,EACT,CAEA,GADI,CAACwD,GACD1B,GAAQ0B,EAAK,SAAQ,EAAI,MAAO,GAEhCzB,IAASnD,EAAU/B,EAAU,KAAK+B,CAAO,GAC7C,GAAM,CAAE,EAAAP,EAAG,EAAAL,CAAC,EAAKwF,EACXpE,EAAIC,EAAcT,CAAO,EACzB+E,EAAKnG,EAAG,IAAIQ,CAAC,EACbsB,GAAK9B,EAAG,OAAO4B,EAAIuE,CAAE,EACrBpE,GAAK/B,EAAG,OAAOa,EAAIsF,CAAE,EACrBzE,GAAItC,EAAM,KAAK,eAAe0C,EAAE,EAAE,IAAImE,EAAE,eAAelE,EAAE,CAAC,EAChE,OAAIL,GAAE,IAAG,EAAW,GACV1B,EAAG,OAAO0B,GAAE,CAAC,IACVb,CACf,CAGA,OAAO,OAAO,OAAO,CACnB,aAAAiC,EACA,gBAAAO,EACA,KAAAiC,EACA,OAAAG,EACA,MAAAnD,EACA,MAAAlD,EACA,UAAAwB,EACD,CACH,CAWA,SAASwF,GAAmCC,EAAqB,CAC/D,IAAMC,EAA4B,CAChC,EAAGD,EAAE,EACL,EAAGA,EAAE,EACL,EAAGA,EAAE,GAAG,MACR,EAAGA,EAAE,EACL,EAAGA,EAAE,EACL,GAAIA,EAAE,GACN,GAAIA,EAAE,IAEFtG,EAAKsG,EAAE,GACPrG,EAAKuG,GAAMD,EAAM,EAAGD,EAAE,UAAU,EAChC/G,EAAqC,CACzC,GAAAS,EACA,GAAAC,EACA,yBAA0BqG,EAAE,yBAC5B,mBAAoBA,EAAE,mBACtB,KAAMA,EAAE,KACR,eAAgBA,EAAE,eAClB,cAAeA,EAAE,cACjB,cAAeA,EAAE,cACjB,UAAWA,EAAE,UACb,QAASA,EAAE,SAEb,MAAO,CAAE,MAAAC,EAAO,UAAAhH,CAAS,CAC3B,CACA,SAASkH,GAA0BH,EAAY,CAC7C,GAAM,CAAE,MAAAC,EAAO,UAAAhH,CAAS,EAAK8G,GAAgCC,CAAC,EACxDhH,EAAuB,CAC3B,KAAMgH,EAAE,KACR,KAAMA,EAAE,KACR,YAAaA,EAAE,YACf,KAAMA,EAAE,KACR,SAAUA,EAAE,SACZ,cAAeA,EAAE,eAEnB,MAAO,CAAE,MAAAC,EAAO,UAAAhH,EAAW,UAAAD,CAAS,CACtC,CA4BA,SAASoH,GAA4BC,EAAcC,EAAY,CAC7D,OAAO,OAAO,OAAO,CAAA,EAAIA,EAAO,CAC9B,gBAAiBA,EAAM,MACvB,MAAOD,EACR,CACH,CAGM,SAAUE,GAAYF,EAAY,CACtC,GAAM,CAAE,MAAAG,EAAO,UAAAC,EAAW,UAAAC,CAAS,EAAKC,GAA0BN,CAAC,EAC7DO,EAAQC,GAAaL,EAAOC,CAAS,EACrCK,EAAQR,GAAMM,EAAOF,EAAWD,CAAS,EAC/C,OAAOL,GAA4BC,EAAGS,CAAK,CAC7C,CC9/CM,SAAUC,GAAYC,EAAoBC,EAAc,CAC5D,IAAMC,EAAUC,GAAyBC,GAAYC,EAAAC,EAAA,GAAKN,GAAL,CAAe,KAAMG,CAAI,EAAE,EAChF,OAAOE,EAAAC,EAAA,GAAKJ,EAAOD,CAAO,GAAnB,CAAsB,OAAAC,CAAM,EACrC,CC2BA,IAAMK,GAAQC,GAGd,SAASC,GAAMC,EAAeC,EAAc,CAG1C,GAFAC,GAAKF,CAAK,EACVE,GAAKD,CAAM,EACPD,EAAQ,GAAKA,GAAS,GAAM,EAAIC,EAAS,MAAM,IAAI,MAAM,wBAA0BD,CAAK,EAC5F,IAAMG,EAAM,MAAM,KAAK,CAAE,OAAAF,CAAM,CAAE,EAAE,KAAK,CAAC,EACzC,QAASG,EAAIH,EAAS,EAAGG,GAAK,EAAGA,IAC/BD,EAAIC,CAAC,EAAIJ,EAAQ,IACjBA,KAAW,EAEb,OAAO,IAAI,WAAWG,CAAG,CAC3B,CAEA,SAASE,GAAOC,EAAeC,EAAa,CAC1C,IAAMC,EAAM,IAAI,WAAWF,EAAE,MAAM,EACnC,QAASF,EAAI,EAAGA,EAAIE,EAAE,OAAQF,IAC5BI,EAAIJ,CAAC,EAAIE,EAAEF,CAAC,EAAIG,EAAEH,CAAC,EAErB,OAAOI,CACT,CAEA,SAASN,GAAKO,EAAa,CACzB,GAAI,CAAC,OAAO,cAAcA,CAAI,EAAG,MAAM,IAAI,MAAM,iBAAiB,CACpE,CAMM,SAAUC,GACdC,EACAC,EACAC,EACAC,EAAQ,CAERC,GAAOJ,CAAG,EACVI,GAAOH,CAAG,EACVV,GAAKW,CAAU,EAEXD,EAAI,OAAS,MAAKA,EAAME,EAAEE,GAAYC,GAAY,mBAAmB,EAAGL,CAAG,CAAC,GAChF,GAAM,CAAE,UAAWM,EAAY,SAAUC,CAAU,EAAKL,EAClDM,EAAM,KAAK,KAAKP,EAAaK,CAAU,EAC7C,GAAIL,EAAa,OAASO,EAAM,IAAK,MAAM,IAAI,MAAM,wCAAwC,EAC7F,IAAMC,EAAYL,GAAYJ,EAAKb,GAAMa,EAAI,OAAQ,CAAC,CAAC,EACjDU,EAAQvB,GAAM,EAAGoB,CAAU,EAC3BI,EAAYxB,GAAMc,EAAY,CAAC,EAC/BN,EAAI,IAAI,MAAkBa,CAAG,EAC7BI,EAAMV,EAAEE,GAAYM,EAAOX,EAAKY,EAAWxB,GAAM,EAAG,CAAC,EAAGsB,CAAS,CAAC,EACxEd,EAAE,CAAC,EAAIO,EAAEE,GAAYQ,EAAKzB,GAAM,EAAG,CAAC,EAAGsB,CAAS,CAAC,EACjD,QAASjB,EAAI,EAAGA,GAAKgB,EAAKhB,IAAK,CAC7B,IAAMqB,EAAO,CAACpB,GAAOmB,EAAKjB,EAAEH,EAAI,CAAC,CAAC,EAAGL,GAAMK,EAAI,EAAG,CAAC,EAAGiB,CAAS,EAC/Dd,EAAEH,CAAC,EAAIU,EAAEE,GAAY,GAAGS,CAAI,CAAC,CAC/B,CAEA,OAD4BT,GAAY,GAAGT,CAAC,EACjB,MAAM,EAAGM,CAAU,CAChD,CASM,SAAUa,GACdf,EACAC,EACAC,EACAc,EACAb,EAAQ,CAOR,GALAC,GAAOJ,CAAG,EACVI,GAAOH,CAAG,EACVV,GAAKW,CAAU,EAGXD,EAAI,OAAS,IAAK,CACpB,IAAMgB,EAAQ,KAAK,KAAM,EAAID,EAAK,CAAC,EACnCf,EAAME,EAAE,OAAO,CAAE,MAAAc,CAAK,CAAE,EAAE,OAAOX,GAAY,mBAAmB,CAAC,EAAE,OAAOL,CAAG,EAAE,OAAM,CACvF,CACA,GAAIC,EAAa,OAASD,EAAI,OAAS,IACrC,MAAM,IAAI,MAAM,wCAAwC,EAC1D,OACEE,EAAE,OAAO,CAAE,MAAOD,CAAU,CAAE,EAC3B,OAAOF,CAAG,EACV,OAAOZ,GAAMc,EAAY,CAAC,CAAC,EAE3B,OAAOD,CAAG,EACV,OAAOb,GAAMa,EAAI,OAAQ,CAAC,CAAC,EAC3B,OAAM,CAEb,CAUM,SAAUiB,GAAclB,EAAiBmB,EAAeC,EAAgB,CAC5EC,GAAgBD,EAAS,CACvB,EAAG,SACH,EAAG,SACH,EAAG,SACH,KAAM,WACP,EACD,GAAM,CAAE,EAAAE,EAAG,EAAAN,EAAG,EAAAO,EAAG,KAAAC,EAAM,OAAAC,EAAQ,IAAKC,CAAI,EAAKN,EAC7C,GAAI,CAACO,GAAQD,CAAI,GAAK,OAAOA,GAAS,SACpC,MAAM,IAAI,MAAM,kCAAkC,EACpD,GAAI,CAACE,GAAOR,EAAQ,IAAI,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAChEhB,GAAOJ,CAAG,EACVT,GAAK4B,CAAK,EACV,IAAMlB,EAAM,OAAOyB,GAAS,SAAWpB,GAAYoB,CAAI,EAAIA,EACrDG,EAAQP,EAAE,SAAS,CAAC,EAAE,OACtBQ,EAAI,KAAK,MAAMD,EAAQb,GAAK,CAAC,EAC7Be,EAAeZ,EAAQI,EAAIO,EAC7BE,EACJ,GAAIP,IAAW,MACbO,EAAMjC,GAAmBC,EAAKC,EAAK8B,EAAcP,CAAI,UAC5CC,IAAW,MACpBO,EAAMjB,GAAmBf,EAAKC,EAAK8B,EAAcf,EAAGQ,CAAI,UAC/CC,IAAW,iBAEpBO,EAAMhC,MAEN,OAAM,IAAI,MAAM,+BAA+B,EAEjD,IAAMiC,EAAI,IAAI,MAAMd,CAAK,EACzB,QAAS1B,EAAI,EAAGA,EAAI0B,EAAO1B,IAAK,CAC9B,IAAMyC,EAAI,IAAI,MAAMX,CAAC,EACrB,QAASY,EAAI,EAAGA,EAAIZ,EAAGY,IAAK,CAC1B,IAAMC,EAAaN,GAAKK,EAAI1C,EAAI8B,GAC1Bc,EAAKL,EAAI,SAASI,EAAYA,EAAaN,CAAC,EAClDI,EAAEC,CAAC,EAAIG,GAAIpD,GAAMmD,CAAE,EAAGf,CAAC,CACzB,CACAW,EAAExC,CAAC,EAAIyC,CACT,CACA,OAAOD,CACT,CCvJA,IAAMM,GAA2C,CAC/C,EAAG,OAAO,oEAAoE,EAC9E,EAAG,OAAO,oEAAoE,EAC9E,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,GAAI,OAAO,oEAAoE,EAC/E,GAAI,OAAO,oEAAoE,GAE3EC,IAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAa,CAACC,EAAWC,KAAeD,EAAIC,EAAIH,IAAOG,EAM7D,SAASC,GAAQC,EAAS,CACxB,IAAMC,EAAIT,GAAgB,EAEpBU,EAAM,OAAO,CAAC,EAAGC,EAAM,OAAO,CAAC,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAErEC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EACtDC,EAAMT,EAAIA,EAAIA,EAAKC,EACnBS,EAAMD,EAAKA,EAAKT,EAAKC,EACrBU,EAAMC,GAAKF,EAAIR,EAAKD,CAAC,EAAIS,EAAMT,EAC/BY,EAAMD,GAAKD,EAAIT,EAAKD,CAAC,EAAIS,EAAMT,EAC/Ba,EAAOF,GAAKC,EAAIlB,GAAKM,CAAC,EAAIQ,EAAMR,EAChCc,EAAOH,GAAKE,EAAKV,EAAMH,CAAC,EAAIa,EAAOb,EACnCe,EAAOJ,GAAKG,EAAKV,EAAMJ,CAAC,EAAIc,EAAOd,EACnCgB,EAAOL,GAAKI,EAAKT,EAAMN,CAAC,EAAIe,EAAOf,EACnCiB,EAAQN,GAAKK,EAAKT,EAAMP,CAAC,EAAIgB,EAAOhB,EACpCkB,EAAQP,GAAKM,EAAMX,EAAMN,CAAC,EAAIe,EAAOf,EACrCmB,EAAQR,GAAKO,EAAMjB,EAAKD,CAAC,EAAIS,EAAMT,EACnCoB,EAAMT,GAAKQ,EAAMd,EAAML,CAAC,EAAIc,EAAOd,EACnCqB,EAAMV,GAAKS,EAAIlB,EAAKF,CAAC,EAAIQ,EAAMR,EAC/BsB,EAAOX,GAAKU,EAAI3B,GAAKM,CAAC,EAC5B,GAAI,CAACuB,GAAK,IAAIA,GAAK,IAAID,CAAI,EAAGvB,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAC3E,OAAOuB,CACT,CAEA,IAAMC,GAAOC,GAAMjC,GAAgB,EAAG,OAAW,OAAW,CAAE,KAAMO,EAAO,CAAE,EAiBhE2B,GAA+BC,GAC1CC,EAAAC,EAAA,GACKrC,IADL,CAEE,GAAIgC,GACJ,KAAM,GACN,KAAM,CAEJ,KAAM,OAAO,oEAAoE,EACjF,YAAcM,GAAa,CACzB,IAAMC,EAAIvC,GAAgB,EACpBwC,EAAK,OAAO,oCAAoC,EAChDC,EAAK,CAACvC,GAAM,OAAO,oCAAoC,EACvDwC,EAAK,OAAO,qCAAqC,EACjDzB,EAAKuB,EACLG,EAAY,OAAO,qCAAqC,EAExDC,EAAKxC,GAAWa,EAAKqB,EAAGC,CAAC,EACzBM,EAAKzC,GAAW,CAACqC,EAAKH,EAAGC,CAAC,EAC5BO,EAAKC,GAAIT,EAAIM,EAAKJ,EAAKK,EAAKH,EAAIH,CAAC,EACjCS,EAAKD,GAAI,CAACH,EAAKH,EAAKI,EAAK5B,EAAIsB,CAAC,EAC5BU,EAAQH,EAAKH,EACbO,EAAQF,EAAKL,EAGnB,GAFIM,IAAOH,EAAKP,EAAIO,GAChBI,IAAOF,EAAKT,EAAIS,GAChBF,EAAKH,GAAaK,EAAKL,EACzB,MAAM,IAAI,MAAM,uCAAyCL,CAAC,EAE5D,MAAO,CAAE,MAAAW,EAAO,GAAAH,EAAI,MAAAI,EAAO,GAAAF,CAAE,CAC/B,KAGJG,EAAM,EC7HD,IAAMC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAK,OAAO,oEAAoE,EAChFC,GAAK,OAAO,oEAAoE,EAChFC,GAAQC,GAAU,MAClBC,GAAQC,GAAMJ,GAAI,GAAI,EAAI,EAC1BK,GAAQH,GAAU,gBAClBI,GAAS,4BACfC,GAAQ,CAAE,IAAAV,GAAK,IAAAC,GAAK,GAAAE,GAAI,GAAAD,GAAI,MAAAE,GAAO,OAAAK,GAAQ,MAAAH,GAAO,MAAAE,EAAM,ECP/D,GAAM,CAAE,MAAAG,GAAO,GAAAC,GAAI,GAAAC,GAAG,EAAIC,GACnB,SAASC,GAAMC,EAAG,CACrB,OAAOC,GAAID,EAAGJ,EAAE,CACpB,CAWO,SAASM,GAAaC,EAAK,CAC9B,OAAO,IAAI,YAAY,EAAE,OAAOA,CAAG,CACvC,CAIO,SAASC,GAAOC,EAAQ,CAC3B,IAAIC,EAAQC,EAAK,MAAMF,CAAM,EAC7B,GAAIC,EAAM,OAAS,IAAMA,EAAM,OAAS,GACpC,MAAM,IAAI,MAAM,oBAAsBA,EAAM,IAAM,IAAMA,EAAM,MAAM,EAEnE,OAAIA,EAAM,SAAW,KACtBA,EAAQA,EAAM,QAAQ,CAAC,GAEpBE,GAAM,QAAQF,EAAM,GAAG,CAClC,CT3BA,IAAMG,GAAM,CAAE,EAAG,EAAG,EAAGC,GAAI,EAAG,IAAK,OAAQ,MAAO,KAAMC,EAAO,EAC/D,SAASC,GAASC,EAAK,CACnB,OAAOC,EAAAC,EAAA,GAAKN,IAAL,CAAU,IAAAI,CAAI,EACzB,CACO,SAASG,GAAGC,EAAK,CACpB,IAAMJ,EAAMK,GAAS,MACfC,EAAOC,GAAcH,EAAK,EAAGL,GAASC,CAAG,CAAC,EAChD,OAAOQ,EAAK,IAAIF,EAAK,CAAC,EAAE,CAAC,EAAG,EAAE,CAClC,CACO,SAASG,GAAGL,EAAK,CACpB,IAAMJ,EAAMK,GAAS,OACfC,EAAOC,GAAcH,EAAK,EAAGL,GAASC,CAAG,CAAC,EAChD,OAAOQ,EAAK,IAAIF,EAAK,CAAC,EAAE,CAAC,EAAG,EAAE,CAClC,CACO,SAASI,GAAGN,EAAK,CACpB,IAAMJ,EAAMK,GAAS,QACfC,EAAOC,GAAcH,EAAK,EAAGL,GAASC,CAAG,CAAC,EAChD,OAAOQ,EAAK,IAAIF,EAAK,CAAC,EAAE,CAAC,EAAG,EAAE,CAClC,CACO,SAASK,GAAGP,EAAK,CACpB,IAAMJ,EAAMY,GAAaP,GAAS,KAAK,EACjCQ,EAAOf,GAAO,IAAI,WAAW,CAAC,GAAGE,EAAK,GAAGI,CAAG,CAAC,CAAC,EACpD,OAAO,IAAII,EAAKK,CAAI,CACxB,CACO,SAASC,GAAGV,EAAK,CACpB,IAAMJ,EAAMY,GAAaP,GAAS,KAAK,EACjCQ,EAAOf,GAAO,IAAI,WAAW,CAAC,GAAGE,EAAK,GAAGI,CAAG,CAAC,CAAC,EACpD,OAAO,IAAII,EAAKK,CAAI,CACxB,CUjCA,IAAAE,GAAA,GAAAC,GAAAD,GAAA,wBAAAE,GAAA,sBAAAC,GAAA,eAAAC,GAAA,mBAAAC,GAAA,aAAAC,GAAA,UAAAC,GAAA,iBAAAC,GAAA,oBAAAC,GAAA,gBAAAC,GAAA,qBAAAC,GAAA,oBAAAC,KCAA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,oBAAAE,GAAA,WAAAC,GAAA,iBAAAC,GAAA,gBAAAC,GAAA,kBAAAC,GAAA,OAAAC,GAAA,SAAAC,KACO,SAASC,GAAGC,EAAOC,EAAS,CAC/B,GAAID,IAAU,GACV,MAAM,IAAI,MAAMC,GAAA,KAAAA,EAAW,mBAAmB,CACtD,CACO,SAASC,GAAOC,EAAO,CAC1B,GAAI,OAAOA,EAAU,IACjB,MAAM,IAAI,UAAU,qBAAqB,EAE7C,GAAIA,IAAU,KACV,MAAM,IAAI,UAAU,gBAAgB,CAE5C,CACO,SAASC,GAAKD,EAAOC,EAAM,CAC9B,IAAMC,EAAQC,EAAK,MAAMH,CAAK,EAC9B,GAAIE,EAAM,SAAWD,EACjB,MAAM,IAAI,MAAM,sBAAsB,OAAAC,EAAM,IAAG,SAAQ,OAAAD,EAAM,EAEjE,MAAO,EACX,CACO,SAASG,GAAYC,EAAOC,EAAM,CACrC,GAAI,CAACD,EAAM,SAASC,CAAI,EACpB,MAAM,IAAI,MAAM,+BAA+B,CAEvD,CACO,SAASC,GAAcF,EAAO,CACjC,QAAWG,KAAKH,EAEZ,GADUA,EAAM,OAAOI,GAAKA,IAAMD,CAAC,EAAE,SAC3B,EACN,MAAM,IAAI,MAAM,8BAAgC,OAAOA,CAAC,CAAC,CAGrE,CACO,SAASE,GAAaL,EAAO,CAChC,GAAI,CAACA,EAAM,MAAMI,GAAKA,IAAMJ,EAAM,CAAC,CAAC,EAChC,MAAM,IAAI,MAAM,+BAA+B,CAEvD,CACO,SAASM,GAAeC,EAASC,EAAS,CAC7C,GAAID,EAAQ,SAAWC,EAAQ,OAC3B,MAAM,IAAI,MAAM,8BAA8B,OAAAD,EAAQ,OAAM,SAAQ,OAAAC,EAAQ,OAAQ,CAE5F,CC5BO,SAASC,GAAQC,EAAK,CACzB,IAAMC,EAAOC,EAAK,IAAIF,CAAG,EAAE,OAC3B,OAAOE,EAAK,KAAK,CAACD,EAAMA,CAAI,CAAC,CACjC,CACO,SAASE,GAAQH,KAAQI,EAAM,CAClC,IAAMH,EAAOF,GAAQC,CAAG,EAClBK,EAAQD,EAAK,IAAIE,GAAKJ,EAAK,MAAMI,CAAC,CAAC,EACzC,OAAOJ,EAAK,KAAK,CAACD,EAAM,GAAGI,CAAK,CAAC,EAAE,MACvC,CFjBA,GAAM,CAAE,MAAAE,GAAO,IAAAC,GAAK,IAAAC,GAAK,GAAAC,EAAG,EAAIC,GACzB,SAASC,IAAQ,CACpB,OAAOF,EACX,CACO,SAASG,IAAW,CACvB,OAAO,IAAIN,GAAMC,GAAKC,GAAKD,EAAG,CAClC,CACO,SAASM,IAAe,CAC3B,IAAMC,EAASC,EAAK,OAAO,EAAE,EAAE,IAC/B,OAAOC,GAAMF,CAAM,CACvB,CACO,SAASG,GAAWC,EAAGC,EAAG,CAC7B,GAAID,IAAM,MAAQC,IAAM,KACpB,MAAM,IAAI,MAAM,uBAAuB,EAEtC,GAAID,IAAM,KACX,OAAAE,GAAO,OAAOD,CAAC,EACRA,EAEN,GAAIA,IAAM,KACX,OAAOD,EAEN,CACD,IAAMG,EAAIH,EAAE,IAAIC,CAAC,EACjB,OAAAE,EAAE,eAAe,EACVA,CACX,CACJ,CACO,SAASC,GAAeC,EAAM,CACjC,IAAMC,EAAMD,EAAK,MAAM,CAAC,EAAE,OAAO,CAACE,EAAGC,IAAMT,GAAWQ,EAAGC,CAAC,EAAGH,EAAK,CAAC,CAAC,EACpE,GAAIC,IAAQ,KACR,MAAM,IAAI,MAAM,uBAAuB,EAE3C,OAAAA,EAAI,eAAe,EACZA,CACX,CACO,SAASG,GAAYT,EAAGU,EAAG,CAC9B,IAAMC,EAAKX,EAAE,SAASU,CAAC,EACvB,OAAAC,EAAG,eAAe,EACXA,CACX,CACO,SAASC,GAAgBF,EAAG,CAE/B,IAAMC,EADOE,GAAU,gBAAgB,KACvB,SAASH,CAAC,EAC1B,OAAAC,EAAG,eAAe,EACXA,CACX,CACO,SAASG,GAAiBd,EAAG,CAChC,OAAOH,EAAK,MAAMG,EAAE,WAAW,EAAI,CAAC,CACxC,CACO,SAASe,GAAmBC,EAAO,CACtC,IAAMC,EAAMpB,EAAK,MAAMmB,CAAK,EAAE,IAC9B,OAAO5B,GAAM,QAAQ6B,CAAG,CAC5B,CACO,SAASC,GAAgBC,EAAQ,CACpC,OAAO,IAAItB,EAAKsB,EAAQ,EAAE,CAC9B,CACO,SAASC,GAAkBJ,EAAO,CACrC,OAAOnB,EAAK,MAAMmB,CAAK,EAAE,GAC7B,CGzCO,SAASK,GAAWC,EAAQ,CAC/B,IAAMC,EAASC,EAAK,MAAMF,CAAM,EAAE,IAC5BG,EAAQC,GAAE,gBAAgBH,CAAM,EACtC,OAAOG,GAAE,iBAAiBD,CAAK,EAAE,GACrC,CAOO,SAASE,GAAcC,EAAQC,EAAQC,EAAS,CACnD,IAAMC,EAASC,GAAeH,EAAQ,QAAQ,EACxCI,EAASD,GAAeJ,EAAQ,QAAQ,EAC9C,OAAAM,GAAO,KAAKH,EAAQ,EAAE,EACtBG,GAAO,KAAKD,EAAQ,EAAE,EACPE,GAAQ,oBAAqBF,EAAQF,EAAQD,CAAO,EACrD,GAClB,CACO,SAASE,GAAeH,EAAQO,EAAM,CACzC,IAAMC,EAAMC,EAAK,MAAMT,CAAM,EAC7B,GAAIO,IAAS,QACT,OAAOC,EAAI,SAAW,GAChBA,EAAI,QAAQ,CAAC,EAAE,IACfA,EAAI,IAET,GAAID,IAAS,SACd,OAAQC,EAAI,SAAW,GACjBA,EAAI,MAAM,CAAC,EAAE,IACbA,EAAI,IAGV,MAAM,IAAI,MAAM,qBAAqB,CAE7C,CCrDO,SAASE,GAAcC,EAAS,CACnC,OAAOA,EAAQ,IAAIC,GAAM,OAAOA,EAAG,GAAG,CAAC,CAC3C,CACO,SAASC,GAAmBF,EAAS,CACxC,IAAIG,EAAmB,CAAC,EAClBC,EAAiBJ,EAAQ,KAAK,CAACK,EAAGC,IAAMD,EAAE,IAAMC,EAAE,GAAG,EAC3D,OAAW,CAAE,IAAAC,EAAK,UAAAC,EAAW,UAAAC,CAAU,IAAKL,EAAgB,CACxD,IAAMM,EAAa,CAACC,GAAE,gBAAgBJ,CAAG,EAAGC,EAAWC,CAAS,EAChEN,EAAmB,CAAC,GAAGA,EAAkB,GAAGO,CAAU,CAC1D,CACA,OAAOE,EAAK,KAAKT,CAAgB,CACrC,CACO,SAASU,GAAiBb,EAASc,EAAUC,EAAS,CACzD,IAAMC,EAAYJ,EAAK,IAAIG,CAAO,EAC5BE,EAAWC,GAAE,GAAGF,CAAS,EACzBG,EAAcjB,GAAmBF,CAAO,EACxCoB,EAAcF,GAAE,GAAGC,CAAW,EACpC,OAAOP,EAAK,KAAK,CAACE,EAAUG,EAAUG,CAAW,CAAC,CACtD,CACO,SAASC,GAAgBC,EAASf,EAAK,CAC1C,QAAWgB,KAAQD,EACf,GAAIf,IAAQgB,EAAK,IACb,OAAOX,EAAK,MAAMW,EAAK,MAAM,EAAE,IAGvC,MAAM,IAAI,MAAM,qBAAqB,CACzC,CACO,SAASC,GAAkBC,EAAQC,EAAQ,CAC9C,OAAOD,EAAO,IAAI,CAAC,CAAE,IAAAlB,CAAI,IAAM,CAC3B,IAAMoB,EAAShB,GAAE,gBAAgBJ,CAAG,EAC9BqB,EAAYhB,EAAK,KAAK,CAACc,EAAQC,CAAM,CAAC,EAC5C,MAAO,CAAE,IAAApB,EAAK,OAAQW,GAAE,GAAGU,CAAS,EAAE,GAAI,CAC9C,CAAC,CACL,CACO,SAASC,GAAmB7B,EAASsB,EAAS,CACjD,IAAIQ,EAAe,KACnB,OAAW,CAAE,IAAAvB,EAAK,UAAAE,EAAW,UAAAD,CAAU,IAAKR,EAAS,CACjD,IAAM+B,EAAcpB,GAAE,mBAAmBH,CAAS,EAC5CwB,EAAerB,GAAE,mBAAmBF,CAAS,EAC7CwB,EAAcZ,GAAgBC,EAASf,CAAG,EAC1C2B,EAAgBvB,GAAE,YAAYqB,EAAcC,CAAW,EAC7DH,EAAenB,GAAE,WAAWmB,EAAcC,CAAW,EACrDD,EAAenB,GAAE,WAAWmB,EAAcI,CAAa,CAC3D,CACA,OAAAC,GAAO,OAAOL,CAAY,EACnBnB,GAAE,iBAAiBmB,CAAY,EAAE,GAC5C,CC9CO,SAASM,GAAgBC,EAASC,EAAS,CAAC,EAAG,CAClD,IAAMC,EAAOD,EAAO,IAAIE,GAAKC,EAAK,MAAMD,CAAC,EAAE,GAAG,EACxCE,EAAMC,GACNC,EAAMC,GAAKH,EACbI,EAAQT,EAASU,EAASL,EAAKM,EAAQN,EAAKO,EAAQC,GACxD,QAAWC,KAAKZ,EAAM,CAClB,IAAMa,EAAOC,GAAgBF,CAAC,EAC9BJ,EAASD,EAAM,SAAS,EAAIJ,EAAME,EAClCE,EAASC,IAAWH,EAAOE,EAAM,OAAO,EAAIA,EAC5CA,EAAUQ,GAAWR,EAAOM,CAAE,EAC9BN,EAAM,eAAe,EACrBE,EAAQO,GAAMR,EAASC,CAAK,EAC5BC,EAAQM,GAAMJ,EAAKJ,EAASE,CAAM,CACtC,CACA,OAAAF,EAASD,EAAM,SAAS,EAAIJ,EAAME,EAC3B,CAAE,OAAAG,EAAQ,MAAAD,EAAO,MAAAE,EAAO,MAAAC,CAAM,CACzC,CCfO,SAASO,GAAsBC,EAAQC,EAAQ,CAClD,IAAMC,EAASC,EAAK,MAAMH,CAAM,EAAE,IAC5BI,EAASC,GAAOH,CAAM,EACtBI,EAAWC,GAAgBH,EAAQH,CAAM,EACzCO,EAAWF,EAAS,MAAM,MAAM,EAAI,EAC1C,MAAO,CAAE,OAAAJ,EAAQ,OAAAE,EAAQ,SAAAI,EAAU,SAAAF,CAAS,CAChD,CACO,SAASG,GAAyBC,EAASC,EAASC,EAAS,CAChE,IAAMC,EAAeH,EAAQ,SACvBI,EAAcC,GAAiBJ,EAASE,EAAcD,CAAO,EAAE,IAC/DI,EAAeC,GAAkBN,EAASG,CAAW,EACrDI,EAAWC,GAAmBR,EAASK,CAAY,EACnDI,EAAUC,GAAcV,CAAO,EAC/BW,EAAYC,GAAcL,EAAUL,EAAcD,CAAO,EAC/D,OAAAA,EAAUT,EAAK,MAAMS,CAAO,EAAE,IACvB,CAAE,YAAAE,EAAa,aAAAE,EAAc,UAAAM,EAAW,QAAAX,EAAS,SAAAO,EAAU,QAAAE,EAAS,QAAAR,CAAQ,CACvF,CACO,SAASY,GAAsBhB,EAAUG,EAASC,EAASX,EAAQ,CACtE,IAAMS,EAAUX,GAAsBS,EAAUP,CAAM,EAChDwB,EAAUhB,GAAyBC,EAASC,EAASC,CAAO,EAClE,OAAOc,IAAA,GAAKhB,GAAYe,EAC5B,CCDO,SAASE,GAAcC,EAAGC,EAAG,CAChCC,GAAO,YAAYF,EAAGC,CAAC,EACvBC,GAAO,cAAcF,CAAC,EACtB,IAAIG,EAAYC,GAAKC,EAAcD,GACnC,QAAWE,KAAON,EACVM,IAAQL,IAEZE,EAAYI,GAAMC,GAAM,IAAIL,EAAWG,CAAG,CAAC,EAC3CD,EAAcE,GAAMC,GAAM,IAAIH,EAAaC,EAAML,CAAC,CAAC,GAEvD,OAAOM,GAAMC,GAAM,IAAIL,EAAWE,CAAW,CAAC,CAClD,CACO,SAASI,GAAoBT,EAAGU,EAAGT,EAAG,CACzCC,GAAO,cAAcF,CAAC,EACtB,IAAIG,EAAYC,GAAKC,EAAcD,GACnC,QAAWE,KAAON,EACVM,IAAQI,IAEZP,EAAYI,GAAMC,GAAM,IAAIL,EAAWF,EAAIK,CAAG,CAAC,EAC/CD,EAAcE,GAAMC,GAAM,IAAIH,EAAaK,EAAIJ,CAAG,CAAC,GAEvD,OAAOC,GAAMC,GAAM,IAAIL,EAAWE,CAAW,CAAC,CAClD,CCzCO,SAASM,GAAkBC,EAASC,EAAOC,EAAQ,CACtD,IAAMC,EAAOH,EACR,OAAOI,GAAOA,IAAQH,EAAM,GAAG,EAC/B,IAAII,GAAK,OAAOA,CAAC,CAAC,EACjBD,EAAM,OAAOH,EAAM,GAAG,EACtBK,EAASC,EAAK,IAAIN,EAAM,MAAM,EAAE,IAChCO,EAAQC,GAAOP,CAAM,EACrBQ,EAAUC,GAAoBR,EAAMC,EAAKQ,EAAG,EAC5CC,EAAUC,GAAMJ,EAAUJ,CAAM,EAChCS,EAAUP,EAAM,SAASK,CAAO,EAChCG,EAAUC,GAAE,iBAAiBF,CAAO,EAAE,IAC5C,MAAO,CAAE,IAAKd,EAAM,IAAK,OAAQe,CAAQ,CAC7C,CACO,SAASE,GAAmBC,EAAQ,CACvC,IAAIX,EAAQ,KACZ,QAAWP,KAASkB,EAChB,GAAIX,IAAU,KACVA,EAAQC,GAAOR,EAAM,MAAM,MAE1B,CACD,IAAMmB,EAAKX,GAAOR,EAAM,MAAM,EAC9BO,EAAQA,EAAM,IAAIY,CAAE,CACxB,CAEJ,OAAAC,GAAO,OAAOb,CAAK,EACZS,GAAE,iBAAiBT,CAAK,EAAE,GACrC,CCxBO,SAASc,GAASC,EAAKC,EAAOC,EAAQ,CACzC,GAAM,CAAE,aAAAC,EAAc,UAAAC,EAAW,QAAAC,EAAS,SAAUC,CAAE,EAAIN,EACpDO,EAAcC,GAAgBL,EAAcF,EAAM,GAAG,EACrDQ,EAAcC,GAAcL,EAAS,OAAOJ,EAAM,GAAG,CAAC,EAC5D,GAAIC,EAAO,MAAQD,EAAM,IACrB,MAAM,IAAI,MAAM,4CAA4C,OAAAC,EAAO,IAAG,SAAQ,OAAAD,EAAM,IAAK,EAE7F,IAAIU,EAAWC,EAAK,MAAMV,EAAO,SAAS,EAAE,IAAKW,EAAWD,EAAK,MAAMV,EAAO,SAAS,EAAE,IAAKY,EAASF,EAAK,MAAMX,EAAM,MAAM,EAAE,IACjHc,GAAOf,EAAI,QAAQ,EACtB,SAAS,IACjBW,EAAWK,GAAM,EAAIL,EACrBE,EAAWG,GAAM,EAAIH,GAEzB,IAAMI,EAAKC,GAAMZ,EAAE,OAASA,EAAE,MAAQQ,CAAM,EACtCK,EAAKD,GAAMP,EAAYE,EAAWN,CAAY,EAC9Ca,EAAKF,GAAOd,EAAYK,EAAcQ,EAAME,CAAE,EACpD,MAAO,CACH,IAAKlB,EAAM,IACX,KAAMW,EAAK,IAAIQ,EAAI,EAAE,EAAE,IACvB,OAAQC,GAAWpB,EAAM,MAAM,CACnC,CACJ,CACO,SAASqB,GAAqBC,EAASC,EAAO,CACjD,GAAM,CAAE,UAAApB,EAAW,QAAAqB,EAAS,SAAUnB,EAAG,SAAAoB,EAAU,QAAAC,CAAQ,EAAIJ,EACzDK,EAAgBC,GAAiBJ,EAASC,EAAUC,CAAO,EAC3DG,EAAgBC,GAAkBN,EAASG,CAAa,EACxDI,EAAeC,GAAmBR,EAASK,CAAa,EACxDV,EAAKI,EACN,IAAIU,GAAKtB,EAAK,IAAIsB,EAAE,IAAI,EAAE,GAAG,EAC7B,OAAO,CAACC,EAAKC,IAAQlB,GAAMiB,EAAMC,CAAG,EAAGC,EAAG,EACzCC,EAAMpB,GAAMd,EAAYE,EAAE,OAASA,EAAE,KAAK,EAC1CiC,EAAIrB,GAAME,EAAKkB,CAAG,EACxB,OAAO1B,EAAK,KAAK,CAACoB,EAAa,MAAM,CAAC,EAAGpB,EAAK,IAAI2B,EAAG,EAAE,CAAC,CAAC,EAAE,GAC/D,CACO,SAASC,GAAmBxC,EAAKyC,EAAQC,EAAUC,EAAY,CAClE,GAAM,CAAE,aAAAxC,EAAc,UAAAC,EAAW,QAAAC,EAAS,SAAAuC,EAAU,SAAUtC,CAAE,EAAIN,EAC9D6C,EAASrC,GAAgBL,EAAcsC,EAAO,GAAG,EACnDK,EAAc/B,GAAO0B,EAAO,SAAS,EAAGM,EAAchC,GAAO0B,EAAO,SAAS,EAAGO,EAAcjC,GAAO2B,CAAQ,EAClG3B,GAAO6B,CAAQ,EAClB,SAAS,IACjBE,EAAcG,GAAE,YAAYH,EAAa9B,GAAM,EAAIkC,EAAG,EACtDH,EAAcE,GAAE,YAAYF,EAAa/B,GAAM,EAAIkC,EAAG,GAE1D,IAAMC,EAAcF,GAAE,YAAYF,EAAaF,CAAM,EAC/CO,EAAaH,GAAE,WAAWH,EAAaK,CAAW,EAClDE,EAAW3C,GAAcL,EAAS,OAAOoC,EAAO,GAAG,CAAC,EACpDa,EAAQpC,GAAMZ,EAAE,OAASA,EAAE,KAAK,EAChCiD,EAAOrC,GAAMd,EAAYiD,EAAWC,CAAK,EACzCE,EAAM5C,EAAK,IAAI+B,CAAU,EAAE,IAC3Bc,EAAKR,GAAE,gBAAgBO,CAAG,EAC1BE,EAAMT,GAAE,YAAYD,EAAaO,CAAI,EACrCI,EAAIV,GAAE,WAAWG,EAAYM,CAAG,EACtC,OAAOD,EAAG,IAAME,EAAE,CACtB,CC5DO,SAASC,GAAgBC,EAASC,EAASC,EAAU,CACxD,IAAMC,EAAaC,GAAkBJ,EAASE,EAAUD,CAAO,EAC/D,MAAO,CAAE,IAAKE,EAAW,IAAK,SAAUA,EAAW,OAAQ,QAAAH,EAAS,QAAAC,CAAQ,CAChF,CACO,SAASI,GAAkBC,EAAM,CACpC,IAAMC,EAAYD,EAAK,IAAIE,IAChB,CAAE,IAAKA,EAAE,IAAK,OAAQA,EAAE,QAAS,EAC3C,EACD,OAAOC,GAAmBF,CAAS,CACvC,CCTA,IAAMG,GAAMC,GAAE,OAAO,EAAGC,GAAOD,GAAE,QAAQ,EAAGE,GAAOF,GAAE,KAAK,EAAGG,GAAMH,GAAE,OAAO,EAAGI,GAAOJ,GAAE,OAAO,EAAE,IAAI,OAAO,gBAAgB,EAAGK,GAAML,GAAE,OAAO,EAAGM,GAAQN,GAAE,OAAO,EAAE,IAAI,GAAW,EAAE,IAAI,OAAO,gBAAgB,EAAGO,GAAMP,GAAE,IAAI,EACzNQ,GAAOR,GAAE,OAAO,EAAE,IAAI,kBAAa,gBAAS,EAC5CS,GAAUT,GAAE,MAAM,CACpBA,GAAE,OAAO,EAAGA,GAAE,OAAO,EAAGA,GAAE,QAAQ,EAAGA,GAAE,KAAK,CAChD,CAAC,EACKU,GAAOV,GAAE,KAAK,IAAMA,GAAE,MAAM,CAACS,GAAST,GAAE,MAAMU,EAAI,EAAGV,GAAE,OAAOU,EAAI,CAAC,CAAC,CAAC,EACrEC,GAAMX,GAAE,OAAO,EAAE,MAAM,gBAAgB,EAAE,OAAO,GAAK,EAAE,OAAS,IAAM,CAAC,EACvEY,GAAQD,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCE,GAAQF,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCG,GAAQH,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCI,GAAQJ,GAAI,OAAQ,GAAM,EAAE,SAAW,GAAG,EAC1CK,GAAShB,GAAE,OAAO,EAAE,MAAM,yBAAyB,EACnDiB,GAASjB,GAAE,OAAO,EAAE,MAAM,wBAAwB,EAClDkB,GAAYlB,GAAE,OAAO,EAAE,MAAM,yBAAyB,EACtDmB,GAASnB,GAAE,OAAO,EAAE,MAAM,8CAA8C,EACvEoB,GAAQ,CACX,IAAAb,GACA,OAAAS,GACA,OAAAC,GACA,UAAAC,GACA,OAAAC,GACA,IAAApB,GACA,KAAAE,GACA,KAAAC,GACA,MAAAU,GACA,MAAAC,GACA,MAAAC,GACA,MAAAC,GACA,IAAAJ,GACA,KAAAD,GACA,QAAAD,GACA,IAAAN,GACA,KAAAK,GACA,IAAAH,GACA,MAAAC,GACA,KAAAF,EACJ,ECnCA,IAAMiB,GAASC,GAAE,OAAO,CACpB,KAAMA,GAAE,QAAQ,EAChB,KAAMA,GAAE,QAAQ,CACpB,CAAC,EACKC,GAASD,GAAE,OAAO,CACpB,OAAQE,GAAK,MACb,OAAQH,EACZ,CAAC,EACKI,GAAOF,GAAO,OAAO,CACvB,OAAQD,GAAE,KAAK,CAAC,SAAU,SAAS,CAAC,EACpC,QAASE,GAAK,KAClB,CAAC,EACME,GAAQ,CAAE,OAAAH,GAAQ,KAAAE,GAAM,OAAAJ,EAAO,ECXtC,IAAMM,GAAQC,GAAE,OAAO,CACnB,KAAMA,GAAE,IAAIC,GAAK,MAAOA,GAAK,KAAK,EAAE,SAAS,CACjD,CAAC,EACKC,GAAaF,GAAE,OAAO,CACxB,KAAMA,GAAE,SAAS,EAAE,SAAS,EAC5B,KAAMA,GAAE,SAAS,EAAE,SAAS,CAChC,CAAC,EACKG,GAASH,GAAE,OAAO,CACpB,MAAOA,GAAE,QAAQ,EACjB,WAAYE,GACZ,SAAUE,GAAK,OAAO,MAAM,EAC5B,UAAWH,GAAK,GACpB,CAAC,EACMI,GAAQ,CAAE,MAAAN,GAAO,OAAAI,GAAQ,WAAAD,EAAW,ECd3C,IAAMI,GAASC,GAAE,OAAO,CACpB,IAAKC,GAAK,IACV,OAAQA,GAAK,MACb,UAAWA,GAAK,MAChB,UAAWA,GAAK,KACpB,CAAC,EACKC,GAAQF,GAAE,OAAO,CACnB,QAASA,GAAE,MAAMD,EAAM,EACvB,SAAUE,GAAK,MACf,UAAWA,GAAK,GACpB,CAAC,EACKE,GAAQH,GAAE,OAAO,CACnB,IAAKC,GAAK,IACV,UAAWA,GAAK,MAChB,UAAWA,GAAK,MAChB,OAAQA,GAAK,KACjB,CAAC,EACKG,GAAOJ,GAAE,OAAO,CAClB,IAAKC,GAAK,IACV,SAAUA,GAAK,IACf,QAASA,GAAK,IAAI,MAAM,EACxB,QAASA,GAAK,GAClB,CAAC,EACMI,GAAQ,CACX,OAAAN,GACA,KAAAK,GACA,MAAAF,GACA,MAAAC,EACJ,EC3BA,IAAMG,GAASC,GAAI,OAAO,OAAO,CAC7B,UAAWC,GAAK,MAChB,IAAKA,GAAK,MACV,QAASA,GAAK,KAClB,CAAC,EACKC,GAASF,GAAI,MAAM,OAAO,CAC5B,UAAWC,GAAK,MAChB,IAAKA,GAAK,MACV,QAASA,GAAK,KAClB,CAAC,EACKE,GAAaC,GAAE,MAAM,CAACH,GAAK,MAAOA,GAAK,KAAK,CAAC,EAC7CI,GAAcD,GAAE,MAAM,CAACH,GAAK,KAAK,CAAC,EAAE,KAAKA,GAAK,KAAK,EACnDK,GAAWF,GAAE,OAAO,CACtB,QAASH,GAAK,IAAI,SAAS,EAC3B,OAAQI,GAAY,MAAM,EAC1B,QAASJ,GAAK,IAAI,MAAM,EACxB,MAAOA,GAAK,IACZ,KAAMA,GAAK,GACf,CAAC,EACKM,GAAUD,GAAS,OAAO,CAC5B,IAAKL,GAAK,MACV,IAAKA,GAAK,KACd,CAAC,EACKO,GAAWJ,GAAE,OAAO,CACtB,IAAKH,GAAK,IACV,MAAOE,GAAW,MAAM,EACxB,OAAQF,GAAK,MACb,IAAKA,GAAK,KACd,CAAC,EACMQ,GAAQ,CAAE,OAAAV,GAAQ,OAAAG,GAAQ,WAAAC,GAAY,SAAAK,GAAU,QAAAD,GAAS,YAAAF,GAAa,SAAAC,EAAS,EC3BtF,IAAOI,GAAQ,CAAE,KAAAC,GAAM,KAAAC,GAAM,KAAAC,GAAM,IAAAC,GAAK,KAAAC,EAAK,ECJtC,SAASC,GAAmBC,EAAK,CACpC,GAAI,CACA,IAAMC,EAASC,GAAO,IAAI,KACpBC,EAAO,KAAK,MAAMH,EAAI,IAAI,EAC1BI,EAASH,EAAO,MAAME,CAAI,EAChC,OAAOE,EAAAC,EAAA,GAAKN,GAAL,CAAU,KAAMI,CAAO,EAClC,OACMG,EAAA,CACF,MAAM,IAAI,MAAM,gCAAgC,CACpD,CACJ,CACO,SAASC,GAAsBR,EAAK,CACvC,GAAI,CACA,IAAMC,EAASC,GAAO,KAAK,QACrBC,EAAO,KAAK,MAAMH,EAAI,IAAI,EAC1BI,EAASH,EAAO,MAAME,CAAI,EAChC,OAAOE,EAAAC,EAAA,GAAKN,GAAL,CAAU,KAAMI,CAAO,EAClC,OACMG,EAAA,CACF,MAAM,IAAI,MAAM,mCAAmC,CACvD,CACJ,CACO,SAASE,GAAmBT,EAAK,CACpC,GAAI,CACA,IAAMC,EAASC,GAAO,KAAK,SACrBC,EAAO,KAAK,MAAMH,EAAI,IAAI,EAC1BI,EAASH,EAAO,MAAME,CAAI,EAChC,OAAOE,EAAAC,EAAA,GAAKN,GAAL,CAAU,KAAMI,CAAO,EAClC,OACOM,EAAK,CACR,MAAM,IAAI,MAAM,qCAAqC,CACzD,CACJ,CACO,SAASC,GAAgBC,EAAW,CACvC,GAAI,CAEA,OADeV,GAAO,IAAI,MACZ,MAAMU,CAAS,CACjC,OACOF,EAAK,CACR,cAAQ,IAAI,SAAUA,CAAG,EACnB,IAAI,MAAM,iCAAiC,CACrD,CACJ,CACO,SAASG,GAAgBC,EAAW,CACvC,GAAI,CAEA,OADeZ,GAAO,IAAI,MACZ,MAAMY,CAAS,CACjC,OACOJ,EAAK,CACR,cAAQ,IAAI,SAAUA,CAAG,EACnB,IAAI,MAAM,iCAAiC,CACrD,CACJ,CCrDO,IAAMK,GAAM,IAAM,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,EAE9C,SAASC,GAASC,EAAK,CAC1B,OAAO,KAAK,MAAM,KAAK,UAAUA,CAAG,CAAC,CACzC,CACO,SAASC,GAAcD,EAAK,CAC/B,OAAIA,aAAe,KAAO,MAAM,QAAQA,CAAG,GAAK,OAAOA,GAAQ,SACpDA,EAGA,OAAO,KAAKA,CAAG,EACjB,KAAK,EACL,OAAO,CAAC,CAACE,EAAGC,CAAK,IAAMA,IAAU,MAAS,EAC1C,OAAO,CAACC,EAAQC,KACjBD,EAAOC,CAAG,EAAIL,EAAIK,CAAG,EACdD,GACR,CAAC,CAAC,CAEb,CACO,SAASE,GAAYC,EAAK,CAC7B,OAAIA,aAAe,MACRA,EAAI,QACX,OAAOA,GAAQ,SACRA,EACJ,OAAOA,CAAG,CACrB,CACO,SAASC,GAAgBR,EAAKS,EAAQC,EAAS,CAElD,GADeD,EAAO,UAAUT,CAAG,EACxB,QACP,MAAO,GACX,GAAIU,IAAY,OACZ,MAAO,GACX,MAAM,IAAI,MAAMA,GAAA,KAAAA,EAAW,iCAAiC,CAChE,CC/BO,IAAIC,IACV,SAAUA,EAAQ,CACf,SAASC,EAAGC,EAAOC,EAAS,CACxB,GAAID,IAAU,GACV,MAAM,IAAI,MAAMC,GAAA,KAAAA,EAAW,mBAAmB,CACtD,CACAH,EAAO,GAAKC,EACZ,SAASG,EAAMC,EAAQC,EAAUC,EAAS,CACtC,GAAIF,IAAWC,EACX,MAAM,IAAI,MAAMC,GAAA,KAAAA,EAAW,GAAG,OAAAF,EAAM,SAAQ,OAAAC,EAAU,CAC9D,CACAN,EAAO,MAAQI,EACf,SAASI,EAAOC,EAAOF,EAAS,CAC5B,GAAI,OAAOE,EAAU,IACjB,MAAM,IAAI,UAAUF,GAAA,KAAAA,EAAW,qBAAqB,EAExD,GAAIE,IAAU,KACV,MAAM,IAAI,UAAUF,GAAA,KAAAA,EAAW,gBAAgB,CAEvD,CACAP,EAAO,OAASQ,EAChB,SAASE,EAAKD,EAAOC,EAAMH,EAAS,CAChC,IAAMI,EAAQC,EAAK,MAAMH,CAAK,EAC9B,GAAIE,EAAM,SAAWD,EACjB,MAAM,IAAI,MAAMH,GAAA,KAAAA,EAAW,sBAAsB,OAAAI,EAAM,IAAG,SAAQ,OAAAD,EAAM,EAE5E,MAAO,EACX,CACAV,EAAO,KAAOU,EACd,SAASG,EAAOA,EAAQJ,EAAOF,EAAS,CACpCC,EAAOC,CAAK,EACZK,GAAgBL,EAAOI,EAAQN,GAAA,KAAAA,EAAW,IAAI,CAClD,CACAP,EAAO,OAASa,EAChB,SAASE,EAAON,EAAO,CACnB,GAAI,OAAOA,GAAU,UACjBA,EAAM,MAAM,cAAc,IAAM,MAChCA,EAAM,OAAS,IAAM,EACrB,MAAM,IAAI,MAAM,eAAiBA,CAAK,CAE9C,CACAT,EAAO,OAASe,CACpB,GAAGf,KAAWA,GAAS,CAAC,EAAE,ECrB1B,IAAMgB,GAAsB,OAAO,CAAC,EAC9BC,GAAsB,OAAO,CAAC,EAW9B,SAAUC,GAAMC,EAAeC,EAAc,CACjD,GAAI,OAAOA,GAAU,UAAW,MAAM,IAAI,MAAMD,EAAQ,0BAA4BC,CAAK,CAC3F,CAGM,SAAUC,GAAoBC,EAAoB,CACtD,IAAMC,EAAMD,EAAI,SAAS,EAAE,EAC3B,OAAOC,EAAI,OAAS,EAAI,IAAMA,EAAMA,CACtC,CAEM,SAAUC,GAAYD,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EACrF,OAAOA,IAAQ,GAAKP,GAAM,OAAO,KAAOO,CAAG,CAC7C,CAGM,SAAUE,GAAgBC,EAAiB,CAC/C,OAAOF,GAAYG,GAAYD,CAAK,CAAC,CACvC,CACM,SAAUE,GAAgBF,EAAiB,CAC/C,OAAAG,GAAQH,CAAK,EACNF,GAAYG,GAAY,WAAW,KAAKD,CAAK,EAAE,QAAO,CAAE,CAAC,CAClE,CAEM,SAAUI,GAAgBC,EAAoBC,EAAW,CAC7D,OAAOC,GAAYF,EAAE,SAAS,EAAE,EAAE,SAASC,EAAM,EAAG,GAAG,CAAC,CAC1D,CACM,SAAUE,GAAgBH,EAAoBC,EAAW,CAC7D,OAAOF,GAAgBC,EAAGC,CAAG,EAAE,QAAO,CACxC,CAeM,SAAUG,GAAYC,EAAeC,EAAUC,EAAuB,CAC1E,IAAIC,EACJ,GAAI,OAAOF,GAAQ,SACjB,GAAI,CACFE,EAAMC,GAAYH,CAAG,CACvB,OAASI,EAAG,CACV,MAAM,IAAI,MAAML,EAAQ,6CAA+CK,CAAC,CAC1E,SACSC,GAASL,CAAG,EAGrBE,EAAM,WAAW,KAAKF,CAAG,MAEzB,OAAM,IAAI,MAAMD,EAAQ,mCAAmC,EAE7D,IAAMO,EAAMJ,EAAI,OAChB,GAAI,OAAOD,GAAmB,UAAYK,IAAQL,EAChD,MAAM,IAAI,MAAMF,EAAQ,cAAgBE,EAAiB,kBAAoBK,CAAG,EAClF,OAAOJ,CACT,CAqBA,IAAMK,GAAYC,GAAc,OAAOA,GAAM,UAAYC,IAAOD,EAE1D,SAAUE,GAAQF,EAAWG,EAAaC,EAAW,CACzD,OAAOL,GAASC,CAAC,GAAKD,GAASI,CAAG,GAAKJ,GAASK,CAAG,GAAKD,GAAOH,GAAKA,EAAII,CAC1E,CAOM,SAAUC,GAASC,EAAeN,EAAWG,EAAaC,EAAW,CAMzE,GAAI,CAACF,GAAQF,EAAGG,EAAKC,CAAG,EACtB,MAAM,IAAI,MAAM,kBAAoBE,EAAQ,KAAOH,EAAM,WAAaC,EAAM,SAAWJ,CAAC,CAC5F,CASM,SAAUO,GAAOP,EAAS,CAC9B,IAAIQ,EACJ,IAAKA,EAAM,EAAGR,EAAIC,GAAKD,IAAMS,GAAKD,GAAO,EAAE,CAC3C,OAAOA,CACT,CAsBO,IAAME,GAAWC,IAAuBC,IAAO,OAAOD,CAAC,GAAKC,GAY7D,SAAUC,GACdC,EACAC,EACAC,EAAkE,CAElE,GAAI,OAAOF,GAAY,UAAYA,EAAU,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAC1F,GAAI,OAAOC,GAAa,UAAYA,EAAW,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAC7F,GAAI,OAAOC,GAAW,WAAY,MAAM,IAAI,MAAM,2BAA2B,EAE7E,IAAMC,EAAOC,GAAgB,IAAI,WAAWA,CAAG,EACzCC,EAAQC,GAAiB,WAAW,GAAGA,CAAI,EAC7CC,EAAIJ,EAAIH,CAAO,EACfQ,EAAIL,EAAIH,CAAO,EACfS,EAAI,EACFC,EAAQ,IAAK,CACjBH,EAAE,KAAK,CAAC,EACRC,EAAE,KAAK,CAAC,EACRC,EAAI,CACN,EACME,EAAI,IAAIC,IAAoBV,EAAOM,EAAGD,EAAG,GAAGK,CAAC,EAC7CC,EAAS,CAACC,EAAOX,EAAI,CAAC,IAAK,CAE/BK,EAAIG,EAAEN,EAAK,CAAI,EAAGS,CAAI,EACtBP,EAAII,EAAC,EACDG,EAAK,SAAW,IACpBN,EAAIG,EAAEN,EAAK,CAAI,EAAGS,CAAI,EACtBP,EAAII,EAAC,EACP,EACMI,EAAM,IAAK,CAEf,GAAIN,KAAO,IAAM,MAAM,IAAI,MAAM,yBAAyB,EAC1D,IAAIL,EAAM,EACJY,EAAoB,CAAA,EAC1B,KAAOZ,EAAMH,GAAU,CACrBM,EAAII,EAAC,EACL,IAAMM,EAAKV,EAAE,MAAK,EAClBS,EAAI,KAAKC,CAAE,EACXb,GAAOG,EAAE,MACX,CACA,OAAOW,GAAa,GAAGF,CAAG,CAC5B,EASA,MARiB,CAACF,EAAkBK,IAAoB,CACtDT,EAAK,EACLG,EAAOC,CAAI,EACX,IAAIM,EACJ,KAAO,EAAEA,EAAMD,EAAKJ,EAAG,CAAE,IAAIF,EAAM,EACnC,OAAAH,EAAK,EACEU,CACT,CAEF,CAoDM,SAAUC,GACdC,EACAC,EACAC,EAAoC,CAAA,EAAE,CAEtC,GAAI,CAACF,GAAU,OAAOA,GAAW,SAAU,MAAM,IAAI,MAAM,+BAA+B,EAE1F,SAASG,EAAWC,EAAiBC,EAAsBC,EAAc,CACvE,IAAMC,EAAMP,EAAOI,CAAS,EAC5B,GAAIE,GAASC,IAAQ,OAAW,OAChC,IAAMC,EAAU,OAAOD,EACvB,GAAIC,IAAYH,GAAgBE,IAAQ,KACtC,MAAM,IAAI,MAAM,UAAU,OAAAH,EAAS,2BAA0B,OAAAC,EAAY,UAAS,OAAAG,EAAS,CAC/F,CACA,OAAO,QAAQP,CAAM,EAAE,QAAQ,CAAC,CAACQ,EAAGC,CAAC,IAAMP,EAAWM,EAAGC,EAAG,EAAK,CAAC,EAClE,OAAO,QAAQR,CAAS,EAAE,QAAQ,CAAC,CAACO,EAAGC,CAAC,IAAMP,EAAWM,EAAGC,EAAG,EAAI,CAAC,CACtE,CAaM,SAAUC,GACdC,EAA6B,CAE7B,IAAMC,EAAM,IAAI,QAChB,MAAO,CAACC,KAAWC,IAAc,CAC/B,IAAMC,EAAMH,EAAI,IAAIC,CAAG,EACvB,GAAIE,IAAQ,OAAW,OAAOA,EAC9B,IAAMC,EAAWL,EAAGE,EAAK,GAAGC,CAAI,EAChC,OAAAF,EAAI,IAAIC,EAAKG,CAAQ,EACdA,CACT,CACF,CCpTA,IAAMC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAEjGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAC/DC,GAAsB,OAAO,CAAC,EAG9B,SAAUC,GAAIC,EAAWC,EAAS,CACtC,IAAMC,EAASF,EAAIC,EACnB,OAAOC,GAAUV,GAAMU,EAASD,EAAIC,CACtC,CAYM,SAAUC,GAAKC,EAAWC,EAAeC,EAAc,CAC3D,IAAIC,EAAMH,EACV,KAAOC,KAAUG,IACfD,GAAOA,EACPA,GAAOD,EAET,OAAOC,CACT,CAMM,SAAUE,GAAOC,EAAgBJ,EAAc,CACnD,GAAII,IAAWF,GAAK,MAAM,IAAI,MAAM,kCAAkC,EACtE,GAAIF,GAAUE,GAAK,MAAM,IAAI,MAAM,0CAA4CF,CAAM,EAErF,IAAIK,EAAIC,GAAIF,EAAQJ,CAAM,EACtBO,EAAIP,EAEJF,EAAII,GAAKM,EAAIC,GAAKC,EAAID,GAAKE,EAAIT,GACnC,KAAOG,IAAMH,IAAK,CAEhB,IAAMU,EAAIL,EAAIF,EACRQ,EAAIN,EAAIF,EACRS,EAAIhB,EAAIY,EAAIE,EACZG,EAAIP,EAAIG,EAAIC,EAElBL,EAAIF,EAAGA,EAAIQ,EAAGf,EAAIY,EAAGF,EAAIG,EAAGD,EAAII,EAAGH,EAAII,CACzC,CAEA,GADYR,IACAE,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACzD,OAAOH,GAAIR,EAAGE,CAAM,CACtB,CAMA,SAASgB,GAAaC,EAAeF,EAAI,CACvC,IAAMG,GAAUD,EAAG,MAAQR,IAAOU,GAC5BC,EAAOH,EAAG,IAAIF,EAAGG,CAAM,EAE7B,GAAI,CAACD,EAAG,IAAIA,EAAG,IAAIG,CAAI,EAAGL,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOK,CACT,CAEA,SAASC,GAAaJ,EAAeF,EAAI,CACvC,IAAMO,GAAUL,EAAG,MAAQM,IAAOC,GAC5BC,EAAKR,EAAG,IAAIF,EAAGW,EAAG,EAClBf,EAAIM,EAAG,IAAIQ,EAAIH,CAAM,EACrBK,EAAKV,EAAG,IAAIF,EAAGJ,CAAC,EAChBiB,EAAIX,EAAG,IAAIA,EAAG,IAAIU,EAAID,EAAG,EAAGf,CAAC,EAC7BS,EAAOH,EAAG,IAAIU,EAAIV,EAAG,IAAIW,EAAGX,EAAG,GAAG,CAAC,EACzC,GAAI,CAACA,EAAG,IAAIA,EAAG,IAAIG,CAAI,EAAGL,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EACvE,OAAOK,CACT,CAgCM,SAAUS,GAAcC,EAAS,CAGrC,GAAIA,EAAI,OAAO,CAAC,EAAG,MAAM,IAAI,MAAM,qCAAqC,EAExE,IAAIC,EAAID,EAAIrB,GACRuB,EAAI,EACR,KAAOD,EAAIL,KAAQxB,IACjB6B,GAAKL,GACLM,IAIF,IAAIC,EAAIP,GACFQ,EAAMC,GAAML,CAAC,EACnB,KAAOM,GAAWF,EAAKD,CAAC,IAAM,GAG5B,GAAIA,IAAM,IAAM,MAAM,IAAI,MAAM,+CAA+C,EAGjF,GAAID,IAAM,EAAG,OAAOhB,GAIpB,IAAIqB,EAAKH,EAAI,IAAID,EAAGF,CAAC,EACfO,GAAUP,EAAItB,IAAOiB,GAC3B,OAAO,SAAwBT,EAAeF,EAAI,CAChD,GAAIE,EAAG,IAAIF,CAAC,EAAG,OAAOA,EAEtB,GAAIqB,GAAWnB,EAAIF,CAAC,IAAM,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAGtE,IAAIwB,EAAIP,EACJQ,EAAIvB,EAAG,IAAIA,EAAG,IAAKoB,CAAE,EACrBI,EAAIxB,EAAG,IAAIF,EAAGgB,CAAC,EACfW,EAAIzB,EAAG,IAAIF,EAAGuB,CAAM,EAIxB,KAAO,CAACrB,EAAG,IAAIwB,EAAGxB,EAAG,GAAG,GAAG,CACzB,GAAIA,EAAG,IAAIwB,CAAC,EAAG,OAAOxB,EAAG,KACzB,IAAIW,EAAI,EAGJe,EAAQ1B,EAAG,IAAIwB,CAAC,EACpB,KAAO,CAACxB,EAAG,IAAI0B,EAAO1B,EAAG,GAAG,GAG1B,GAFAW,IACAe,EAAQ1B,EAAG,IAAI0B,CAAK,EAChBf,IAAMW,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAIxD,IAAMK,EAAWnC,IAAO,OAAO8B,EAAIX,EAAI,CAAC,EAClCrB,EAAIU,EAAG,IAAIuB,EAAGI,CAAQ,EAG5BL,EAAIX,EACJY,EAAIvB,EAAG,IAAIV,CAAC,EACZkC,EAAIxB,EAAG,IAAIwB,EAAGD,CAAC,EACfE,EAAIzB,EAAG,IAAIyB,EAAGnC,CAAC,CACjB,CACA,OAAOmC,CACT,CACF,CAYM,SAAUG,GAAOf,EAAS,CAE9B,OAAIA,EAAIX,KAAQ2B,GAAY9B,GAExBc,EAAIN,KAAQD,GAAYF,GAGrBQ,GAAcC,CAAC,CACxB,CAkDA,IAAMiB,GAAe,CACnB,SAAU,UAAW,MAAO,MAAO,MAAO,OAAQ,MAClD,MAAO,MAAO,MAAO,MAAO,MAAO,MACnC,OAAQ,OAAQ,OAAQ,QAEpB,SAAUC,GAAiBC,EAAgB,CAC/C,IAAMC,EAAU,CACd,MAAO,SACP,KAAM,SACN,MAAO,SACP,KAAM,UAEFC,EAAOJ,GAAa,OAAO,CAACK,EAAKC,KACrCD,EAAIC,CAAG,EAAI,WACJD,GACNF,CAAO,EACV,OAAAI,GAAgBL,EAAOE,CAAI,EAIpBF,CACT,CAQM,SAAUM,GAASC,EAAeC,EAAQC,EAAa,CAC3D,GAAIA,EAAQC,GAAK,MAAM,IAAI,MAAM,yCAAyC,EAC1E,GAAID,IAAUC,GAAK,OAAOH,EAAG,IAC7B,GAAIE,IAAUE,GAAK,OAAOH,EAC1B,IAAII,EAAIL,EAAG,IACPM,EAAIL,EACR,KAAOC,EAAQC,IACTD,EAAQE,KAAKC,EAAIL,EAAG,IAAIK,EAAGC,CAAC,GAChCA,EAAIN,EAAG,IAAIM,CAAC,EACZJ,IAAUE,GAEZ,OAAOC,CACT,CAOM,SAAUE,GAAiBP,EAAeQ,EAAWC,EAAW,GAAK,CACzE,IAAMC,EAAW,IAAI,MAAMF,EAAK,MAAM,EAAE,KAAKC,EAAWT,EAAG,KAAO,MAAS,EAErEW,EAAgBH,EAAK,OAAO,CAACI,EAAKX,EAAKY,IACvCb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAID,EACPZ,EAAG,IAAIY,EAAKX,CAAG,GACrBD,EAAG,GAAG,EAEHc,EAAcd,EAAG,IAAIW,CAAa,EAExC,OAAAH,EAAK,YAAY,CAACI,EAAKX,EAAKY,IACtBb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAIb,EAAG,IAAIY,EAAKF,EAASG,CAAC,CAAC,EAC9Bb,EAAG,IAAIY,EAAKX,CAAG,GACrBa,CAAW,EACPJ,CACT,CAgBM,SAAUK,GAAcC,EAAeC,EAAI,CAG/C,IAAMC,GAAUF,EAAG,MAAQG,IAAOC,GAC5BC,EAAUL,EAAG,IAAIC,EAAGC,CAAM,EAC1BI,EAAMN,EAAG,IAAIK,EAASL,EAAG,GAAG,EAC5BO,EAAOP,EAAG,IAAIK,EAASL,EAAG,IAAI,EAC9BQ,EAAKR,EAAG,IAAIK,EAASL,EAAG,IAAIA,EAAG,GAAG,CAAC,EACzC,GAAI,CAACM,GAAO,CAACC,GAAQ,CAACC,EAAI,MAAM,IAAI,MAAM,gCAAgC,EAC1E,OAAOF,EAAM,EAAIC,EAAO,EAAI,EAC9B,CAUM,SAAUE,GAAQC,EAAWC,EAAmB,CAEhDA,IAAe,QAAWC,GAAQD,CAAU,EAChD,IAAME,EAAcF,IAAe,OAAYA,EAAaD,EAAE,SAAS,CAAC,EAAE,OACpEI,EAAc,KAAK,KAAKD,EAAc,CAAC,EAC7C,MAAO,CAAE,WAAYA,EAAa,YAAAC,CAAW,CAC/C,CAwBM,SAAUC,GACdC,EACAC,EACAC,EAAO,GACPC,EAA0B,CAAA,EAAE,CAE5B,GAAIH,GAASI,GAAK,MAAM,IAAI,MAAM,0CAA4CJ,CAAK,EACnF,IAAIK,EACAC,EACJ,GAAI,OAAOL,GAAiB,UAAYA,GAAgB,KAAM,CAC5D,GAAIE,EAAK,MAAQD,EAAM,MAAM,IAAI,MAAM,sCAAsC,EAC7E,IAAMK,EAAQN,EACVM,EAAM,OAAMF,EAAcE,EAAM,MAChCA,EAAM,OAAMD,EAAQC,EAAM,MAC1B,OAAOA,EAAM,MAAS,YAAWL,EAAOK,EAAM,KACpD,MACM,OAAON,GAAiB,WAAUI,EAAcJ,GAChDE,EAAK,OAAMG,EAAQH,EAAK,MAE9B,GAAM,CAAE,WAAYK,EAAM,YAAaC,CAAK,EAAKhB,GAAQO,EAAOK,CAAW,EAC3E,GAAII,EAAQ,KAAM,MAAM,IAAI,MAAM,gDAAgD,EAClF,IAAIC,EACEC,EAAuB,OAAO,OAAO,CACzC,MAAAX,EACA,KAAAE,EACA,KAAAM,EACA,MAAAC,EACA,KAAMG,GAAQJ,CAAI,EAClB,KAAMJ,GACN,IAAKS,GACL,OAASC,GAAQC,GAAID,EAAKd,CAAK,EAC/B,QAAUc,GAAO,CACf,GAAI,OAAOA,GAAQ,SACjB,MAAM,IAAI,MAAM,+CAAiD,OAAOA,CAAG,EAC7E,OAAOV,IAAOU,GAAOA,EAAMd,CAC7B,EACA,IAAMc,GAAQA,IAAQV,GAEtB,YAAcU,GAAgB,CAACH,EAAE,IAAIG,CAAG,GAAKH,EAAE,QAAQG,CAAG,EAC1D,MAAQA,IAASA,EAAMD,MAASA,GAChC,IAAMC,GAAQC,GAAI,CAACD,EAAKd,CAAK,EAC7B,IAAK,CAACgB,EAAKC,IAAQD,IAAQC,EAE3B,IAAMH,GAAQC,GAAID,EAAMA,EAAKd,CAAK,EAClC,IAAK,CAACgB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKjB,CAAK,EACvC,IAAK,CAACgB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKjB,CAAK,EACvC,IAAK,CAACgB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKjB,CAAK,EACvC,IAAK,CAACc,EAAKI,IAAUC,GAAMR,EAAGG,EAAKI,CAAK,EACxC,IAAK,CAACF,EAAKC,IAAQF,GAAIC,EAAMI,GAAOH,EAAKjB,CAAK,EAAGA,CAAK,EAGtD,KAAOc,GAAQA,EAAMA,EACrB,KAAM,CAACE,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAE1B,IAAMH,GAAQM,GAAON,EAAKd,CAAK,EAC/B,KACEM,IACEZ,IACKgB,IAAOA,EAAQW,GAAOrB,CAAK,GACzBU,EAAMC,EAAGjB,CAAC,IAErB,QAAUoB,GAASZ,EAAOoB,GAAgBR,EAAKL,CAAK,EAAIc,GAAgBT,EAAKL,CAAK,EAClF,UAAYe,GAAS,CACnB,GAAIA,EAAM,SAAWf,EACnB,MAAM,IAAI,MAAM,6BAA+BA,EAAQ,eAAiBe,EAAM,MAAM,EACtF,OAAOtB,EAAOuB,GAAgBD,CAAK,EAAIE,GAAgBF,CAAK,CAC9D,EAEA,YAAcG,GAAQC,GAAcjB,EAAGgB,CAAG,EAG1C,KAAM,CAACE,EAAGC,EAAGC,IAAOA,EAAID,EAAID,EAClB,EACZ,OAAO,OAAO,OAAOlB,CAAC,CACxB,CA0CM,SAAUqB,GAAoBC,EAAkB,CACpD,GAAI,OAAOA,GAAe,SAAU,MAAM,IAAI,MAAM,4BAA4B,EAChF,IAAMC,EAAYD,EAAW,SAAS,CAAC,EAAE,OACzC,OAAO,KAAK,KAAKC,EAAY,CAAC,CAChC,CASM,SAAUC,GAAiBF,EAAkB,CACjD,IAAMG,EAASJ,GAAoBC,CAAU,EAC7C,OAAOG,EAAS,KAAK,KAAKA,EAAS,CAAC,CACtC,CAeM,SAAUC,GAAeC,EAAiBL,EAAoBM,EAAO,GAAK,CAC9E,IAAMC,EAAMF,EAAI,OACVG,EAAWT,GAAoBC,CAAU,EACzCS,EAASP,GAAiBF,CAAU,EAE1C,GAAIO,EAAM,IAAMA,EAAME,GAAUF,EAAM,KACpC,MAAM,IAAI,MAAM,YAAcE,EAAS,6BAA+BF,CAAG,EAC3E,IAAMG,EAAMJ,EAAOK,GAAgBN,CAAG,EAAIO,GAAgBP,CAAG,EAEvDQ,EAAUC,GAAIJ,EAAKV,EAAae,EAAG,EAAIA,GAC7C,OAAOT,EAAOU,GAAgBH,EAASL,CAAQ,EAAIS,GAAgBJ,EAASL,CAAQ,CACtF,CChiBA,IAAMU,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EA4Bd,SAAUC,GAA6BC,EAAoBC,EAAO,CACtE,IAAMC,EAAMD,EAAK,OAAM,EACvB,OAAOD,EAAYE,EAAMD,CAC3B,CAQM,SAAUE,GACdC,EACAC,EACAC,EAAW,CAEX,IAAMC,EAAOF,IAAa,KAAQG,GAAWA,EAAE,GAAMA,GAAWA,EAAE,GAC5DC,EAAQC,GAAcN,EAAE,GAAIE,EAAO,IAAIC,CAAI,CAAC,EAGlD,OADgBD,EAAO,IAAI,CAACE,EAAGG,IAAMH,EAAE,SAASC,EAAME,CAAC,CAAC,CAAC,EAC1C,IAAIP,EAAE,UAAU,CACjC,CAEA,SAASQ,GAAUC,EAAWC,EAAY,CACxC,GAAI,CAAC,OAAO,cAAcD,CAAC,GAAKA,GAAK,GAAKA,EAAIC,EAC5C,MAAM,IAAI,MAAM,qCAAuCA,EAAO,YAAcD,CAAC,CACjF,CAWA,SAASE,GAAUF,EAAWG,EAAkB,CAC9CJ,GAAUC,EAAGG,CAAU,EACvB,IAAMC,EAAU,KAAK,KAAKD,EAAaH,CAAC,EAAI,EACtCK,EAAa,IAAML,EAAI,GACvBM,EAAY,GAAKN,EACjBO,EAAOC,GAAQR,CAAC,EAChBS,EAAU,OAAOT,CAAC,EACxB,MAAO,CAAE,QAAAI,EAAS,WAAAC,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,CACxD,CAEA,SAASC,GAAYC,EAAWC,EAAgBC,EAAY,CAC1D,GAAM,CAAE,WAAAR,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,EAAKI,EAC7CC,EAAQ,OAAOH,EAAIJ,CAAI,EACvBQ,EAAQJ,GAAKF,EAQbK,EAAQT,IAEVS,GAASR,EACTS,GAAS9B,IAEX,IAAM+B,EAAcJ,EAASP,EACvBY,EAASD,EAAc,KAAK,IAAIF,CAAK,EAAI,EACzCI,EAASJ,IAAU,EACnBK,EAAQL,EAAQ,EAChBM,EAASR,EAAS,IAAM,EAE9B,MAAO,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAD/BJ,CACsC,CACxD,CAEA,SAASK,GAAkB5B,EAAeF,EAAM,CAC9C,GAAI,CAAC,MAAM,QAAQE,CAAM,EAAG,MAAM,IAAI,MAAM,gBAAgB,EAC5DA,EAAO,QAAQ,CAACE,EAAGG,IAAK,CACtB,GAAI,EAAEH,aAAaJ,GAAI,MAAM,IAAI,MAAM,0BAA4BO,CAAC,CACtE,CAAC,CACH,CACA,SAASwB,GAAmBC,EAAgBC,EAAU,CACpD,GAAI,CAAC,MAAM,QAAQD,CAAO,EAAG,MAAM,IAAI,MAAM,2BAA2B,EACxEA,EAAQ,QAAQ,CAACE,EAAG3B,IAAK,CACvB,GAAI,CAAC0B,EAAM,QAAQC,CAAC,EAAG,MAAM,IAAI,MAAM,2BAA6B3B,CAAC,CACvE,CAAC,CACH,CAKA,IAAM4B,GAAmB,IAAI,QACvBC,GAAmB,IAAI,QAE7B,SAASC,GAAKC,EAAM,CAClB,OAAOF,GAAiB,IAAIE,CAAC,GAAK,CACpC,CAEA,SAASC,GAAQnB,EAAS,CACxB,GAAIA,IAAM3B,GAAK,MAAM,IAAI,MAAM,cAAc,CAC/C,CA6BM,SAAU+C,GAAyBxC,EAAwBU,EAAY,CAC3E,MAAO,CACL,gBAAiBf,GAEjB,eAAe8C,EAAM,CACnB,OAAOJ,GAAKI,CAAG,IAAM,CACvB,EAGA,aAAaA,EAAQrB,EAAWhB,EAAIJ,EAAE,KAAI,CACxC,IAAI0C,EAAOD,EACX,KAAOrB,EAAI3B,IACL2B,EAAI1B,KAAKU,EAAIA,EAAE,IAAIsC,CAAC,GACxBA,EAAIA,EAAE,OAAM,EACZtB,IAAM1B,GAER,OAAOU,CACT,EAcA,iBAAiBqC,EAAQhC,EAAS,CAChC,GAAM,CAAE,QAAAI,EAAS,WAAAC,CAAU,EAAKH,GAAUF,EAAGC,CAAI,EAC3CR,EAAc,CAAA,EAChBE,EAAOqC,EACPE,EAAOvC,EACX,QAASiB,EAAS,EAAGA,EAASR,EAASQ,IAAU,CAC/CsB,EAAOvC,EACPF,EAAO,KAAKyC,CAAI,EAEhB,QAASpC,EAAI,EAAGA,EAAIO,EAAYP,IAC9BoC,EAAOA,EAAK,IAAIvC,CAAC,EACjBF,EAAO,KAAKyC,CAAI,EAElBvC,EAAIuC,EAAK,OAAM,CACjB,CACA,OAAOzC,CACT,EASA,KAAKO,EAAWmC,EAAkBxB,EAAS,CAOzC,IAAIhB,EAAIJ,EAAE,KACN6C,EAAI7C,EAAE,KAMJ8C,EAAKnC,GAAUF,EAAGC,CAAI,EAC5B,QAASW,EAAS,EAAGA,EAASyB,EAAG,QAASzB,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAAAkB,CAAO,EAAK5B,GAAYC,EAAGC,EAAQyB,CAAE,EACnF1B,EAAII,EACAG,EAGFkB,EAAIA,EAAE,IAAIlD,GAASkC,EAAQe,EAAYG,CAAO,CAAC,CAAC,EAGhD3C,EAAIA,EAAE,IAAIT,GAASiC,EAAOgB,EAAYlB,CAAM,CAAC,CAAC,CAElD,CACA,OAAAa,GAAQnB,CAAC,EAIF,CAAE,EAAAhB,EAAG,EAAAyC,CAAC,CACf,EAUA,WAAWpC,EAAWmC,EAAkBxB,EAAW4B,EAAShD,EAAE,KAAI,CAChE,IAAM8C,EAAKnC,GAAUF,EAAGC,CAAI,EAC5B,QAASW,EAAS,EAAGA,EAASyB,EAAG,SAC3B1B,IAAM3B,GAD8B4B,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,CAAK,EAAKT,GAAYC,EAAGC,EAAQyB,CAAE,EAElE,GADA1B,EAAII,EACA,CAAAG,EAIG,CACL,IAAM9B,EAAO+C,EAAYlB,CAAM,EAC/BsB,EAAMA,EAAI,IAAIpB,EAAQ/B,EAAK,OAAM,EAAKA,CAAI,CAC5C,CACF,CACA,OAAA0C,GAAQnB,CAAC,EACF4B,CACT,EAEA,eAAevC,EAAW6B,EAAMW,EAAqB,CAEnD,IAAIC,EAAOf,GAAiB,IAAIG,CAAC,EACjC,OAAKY,IACHA,EAAO,KAAK,iBAAiBZ,EAAG7B,CAAC,EAC7BA,IAAM,IAEJ,OAAOwC,GAAc,aAAYC,EAAOD,EAAUC,CAAI,GAC1Df,GAAiB,IAAIG,EAAGY,CAAI,IAGzBA,CACT,EAEA,WAAWZ,EAAMlB,EAAW6B,EAAqB,CAC/C,IAAMxC,EAAI4B,GAAKC,CAAC,EAChB,OAAO,KAAK,KAAK7B,EAAG,KAAK,eAAeA,EAAG6B,EAAGW,CAAS,EAAG7B,CAAC,CAC7D,EAEA,iBAAiBkB,EAAMlB,EAAW6B,EAAuBE,EAAQ,CAC/D,IAAM1C,EAAI4B,GAAKC,CAAC,EAChB,OAAI7B,IAAM,EAAU,KAAK,aAAa6B,EAAGlB,EAAG+B,CAAI,EACzC,KAAK,WAAW1C,EAAG,KAAK,eAAeA,EAAG6B,EAAGW,CAAS,EAAG7B,EAAG+B,CAAI,CACzE,EAMA,cAAcb,EAAM7B,EAAS,CAC3BD,GAAUC,EAAGC,CAAI,EACjB0B,GAAiB,IAAIE,EAAG7B,CAAC,EACzB0B,GAAiB,OAAOG,CAAC,CAC3B,EAEJ,CAMM,SAAUc,GACdpD,EACAqD,EACAC,EACAC,EAAU,CAEV,IAAIP,EAAMK,EACNG,EAAKxD,EAAE,KACPyD,EAAKzD,EAAE,KACX,KAAOsD,EAAK7D,IAAO8D,EAAK9D,IAClB6D,EAAK5D,KAAK8D,EAAKA,EAAG,IAAIR,CAAG,GACzBO,EAAK7D,KAAK+D,EAAKA,EAAG,IAAIT,CAAG,GAC7BA,EAAMA,EAAI,OAAM,EAChBM,IAAO5D,GACP6D,IAAO7D,GAET,MAAO,CAAE,GAAA8D,EAAI,GAAAC,CAAE,CACjB,CAYM,SAAUC,GACd1D,EACA2D,EACAzD,EACA8B,EAAiB,CAQjBF,GAAkB5B,EAAQF,CAAC,EAC3B+B,GAAmBC,EAAS2B,CAAM,EAClC,IAAMC,EAAU1D,EAAO,OACjB2D,EAAU7B,EAAQ,OACxB,GAAI4B,IAAYC,EAAS,MAAM,IAAI,MAAM,qDAAqD,EAE9F,IAAMC,EAAO9D,EAAE,KACTuB,EAAQwC,GAAO,OAAOH,CAAO,CAAC,EAChC9C,EAAa,EACbS,EAAQ,GAAIT,EAAaS,EAAQ,EAC5BA,EAAQ,EAAGT,EAAaS,EAAQ,EAChCA,EAAQ,IAAGT,EAAa,GACjC,IAAMkD,EAAO/C,GAAQH,CAAU,EACzBmD,EAAU,IAAI,MAAM,OAAOD,CAAI,EAAI,CAAC,EAAE,KAAKF,CAAI,EAC/CI,EAAW,KAAK,OAAOP,EAAO,KAAO,GAAK7C,CAAU,EAAIA,EAC1DqD,EAAML,EACV,QAASvD,EAAI2D,EAAU3D,GAAK,EAAGA,GAAKO,EAAY,CAC9CmD,EAAQ,KAAKH,CAAI,EACjB,QAASM,EAAI,EAAGA,EAAIP,EAASO,IAAK,CAChC,IAAMC,EAASrC,EAAQoC,CAAC,EAClB7C,EAAQ,OAAQ8C,GAAU,OAAO9D,CAAC,EAAKyD,CAAI,EACjDC,EAAQ1C,CAAK,EAAI0C,EAAQ1C,CAAK,EAAE,IAAIrB,EAAOkE,CAAC,CAAC,CAC/C,CACA,IAAIE,EAAOR,EAEX,QAASM,EAAIH,EAAQ,OAAS,EAAGM,EAAOT,EAAMM,EAAI,EAAGA,IACnDG,EAAOA,EAAK,IAAIN,EAAQG,CAAC,CAAC,EAC1BE,EAAOA,EAAK,IAAIC,CAAI,EAGtB,GADAJ,EAAMA,EAAI,IAAIG,CAAI,EACd/D,IAAM,EAAG,QAAS6D,EAAI,EAAGA,EAAItD,EAAYsD,IAAKD,EAAMA,EAAI,OAAM,CACpE,CACA,OAAOA,CACT,CA+IA,SAASK,GAAeC,EAAeC,EAAiB,CACtD,GAAIA,EAAO,CACT,GAAIA,EAAM,QAAUD,EAAO,MAAM,IAAI,MAAM,gDAAgD,EAC3F,OAAAE,GAAcD,CAAK,EACZA,CACT,KACE,QAAOE,GAAMH,CAAK,CAEtB,CAGM,SAAUI,GACdC,EACAC,EACAC,EAA8B,CAAA,EAAE,CAEhC,GAAI,CAACD,GAAS,OAAOA,GAAU,SAAU,MAAM,IAAI,MAAM,kBAAkB,OAAAD,EAAI,gBAAe,EAC9F,QAAWG,IAAK,CAAC,IAAK,IAAK,GAAG,EAAY,CACxC,IAAMC,EAAMH,EAAME,CAAC,EACnB,GAAI,EAAE,OAAOC,GAAQ,UAAYA,EAAMC,IACrC,MAAM,IAAI,MAAM,SAAS,OAAAF,EAAC,2BAA0B,CACxD,CACA,IAAMG,EAAKZ,GAAYO,EAAM,EAAGC,EAAU,EAAE,EACtCK,EAAKb,GAAYO,EAAM,EAAGC,EAAU,EAAE,EAEtCM,EAAS,CAAC,KAAM,KAAM,IADNR,IAAS,cAAgB,IAAM,GAClB,EACnC,QAAWG,KAAKK,EAEd,GAAI,CAACF,EAAG,QAAQL,EAAME,CAAC,CAAC,EACtB,MAAM,IAAI,MAAM,SAAS,OAAAA,EAAC,2CAA0C,EAExE,MAAO,CAAE,GAAAG,EAAI,GAAAC,CAAE,CACjB,CChcA,SAASE,GAAmBC,EAAwB,CAC9CA,EAAK,OAAS,QAAWC,GAAM,OAAQD,EAAK,IAAI,EAChDA,EAAK,UAAY,QAAWC,GAAM,UAAWD,EAAK,OAAO,CAC/D,CAgKM,IAAOE,GAAP,cAAsB,KAAK,CAC/B,YAAYC,EAAI,GAAE,CAChB,MAAMA,CAAC,CACT,GA6BWC,GAAY,CAEvB,IAAKF,GAEL,KAAM,CACJ,OAAQ,CAACG,EAAaC,IAAwB,CAC5C,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIC,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,EAAG,MAAM,IAAIC,EAAE,2BAA2B,EAC5D,IAAMC,EAAUF,EAAK,OAAS,EACxBG,EAAMC,GAAoBF,CAAO,EACvC,GAAKC,EAAI,OAAS,EAAK,IAAa,MAAM,IAAIF,EAAE,sCAAsC,EAEtF,IAAMI,EAASH,EAAU,IAAME,GAAqBD,EAAI,OAAS,EAAK,GAAW,EAAI,GAErF,OADUC,GAAoBL,CAAG,EACtBM,EAASF,EAAMH,CAC5B,EAEA,OAAOD,EAAaC,EAAgB,CAClC,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACfQ,EAAM,EACV,GAAIP,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,GAAKA,EAAKM,GAAK,IAAMP,EAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC/E,IAAMM,EAAQP,EAAKM,GAAK,EAClBE,EAAS,CAAC,EAAED,EAAQ,KACtBE,EAAS,EACb,GAAI,CAACD,EAAQC,EAASF,MACjB,CAEH,IAAMF,EAASE,EAAQ,IACvB,GAAI,CAACF,EAAQ,MAAM,IAAIJ,EAAE,mDAAmD,EAC5E,GAAII,EAAS,EAAG,MAAM,IAAIJ,EAAE,0CAA0C,EACtE,IAAMS,EAAcV,EAAK,SAASM,EAAKA,EAAMD,CAAM,EACnD,GAAIK,EAAY,SAAWL,EAAQ,MAAM,IAAIJ,EAAE,uCAAuC,EACtF,GAAIS,EAAY,CAAC,IAAM,EAAG,MAAM,IAAIT,EAAE,sCAAsC,EAC5E,QAAWU,KAAKD,EAAaD,EAAUA,GAAU,EAAKE,EAEtD,GADAL,GAAOD,EACHI,EAAS,IAAK,MAAM,IAAIR,EAAE,wCAAwC,CACxE,CACA,IAAMW,EAAIZ,EAAK,SAASM,EAAKA,EAAMG,CAAM,EACzC,GAAIG,EAAE,SAAWH,EAAQ,MAAM,IAAIR,EAAE,gCAAgC,EACrE,MAAO,CAAE,EAAAW,EAAG,EAAGZ,EAAK,SAASM,EAAMG,CAAM,CAAC,CAC5C,GAMF,KAAM,CACJ,OAAOI,EAAW,CAChB,GAAM,CAAE,IAAKZ,CAAC,EAAKH,GACnB,GAAIe,EAAMC,GAAK,MAAM,IAAIb,EAAE,4CAA4C,EACvE,IAAIc,EAAMX,GAAoBS,CAAG,EAGjC,GADI,OAAO,SAASE,EAAI,CAAC,EAAG,EAAE,EAAI,IAAQA,EAAM,KAAOA,GACnDA,EAAI,OAAS,EAAG,MAAM,IAAId,EAAE,gDAAgD,EAChF,OAAOc,CACT,EACA,OAAOf,EAAgB,CACrB,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIE,EAAK,CAAC,EAAI,IAAa,MAAM,IAAIC,EAAE,qCAAqC,EAC5E,GAAID,EAAK,CAAC,IAAM,GAAQ,EAAEA,EAAK,CAAC,EAAI,KAClC,MAAM,IAAIC,EAAE,qDAAqD,EACnE,OAAOe,GAAgBhB,CAAI,CAC7B,GAEF,MAAMe,EAAwB,CAE5B,GAAM,CAAE,IAAKd,EAAG,KAAMgB,EAAK,KAAMC,CAAG,EAAKpB,GACnCE,EAAOmB,GAAY,YAAaJ,CAAG,EACnC,CAAE,EAAGK,EAAU,EAAGC,CAAY,EAAKH,EAAI,OAAO,GAAMlB,CAAI,EAC9D,GAAIqB,EAAa,OAAQ,MAAM,IAAIpB,EAAE,6CAA6C,EAClF,GAAM,CAAE,EAAGqB,EAAQ,EAAGC,CAAU,EAAKL,EAAI,OAAO,EAAME,CAAQ,EACxD,CAAE,EAAGI,EAAQC,CAAa,EAAKP,EAAI,OAAO,EAAMK,CAAU,EAChE,GAAIE,EAAW,OAAQ,MAAM,IAAIxB,EAAE,6CAA6C,EAChF,MAAO,CAAE,EAAGgB,EAAI,OAAOK,CAAM,EAAG,EAAGL,EAAI,OAAOO,CAAM,CAAC,CACvD,EACA,WAAWE,EAA6B,CACtC,GAAM,CAAE,KAAMR,EAAK,KAAMD,CAAG,EAAKnB,GAC3B6B,EAAKT,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCE,EAAKV,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCG,EAAMF,EAAKC,EACjB,OAAOV,EAAI,OAAO,GAAMW,CAAG,CAC7B,GAKIf,GAAM,OAAO,CAAC,EAAGgB,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAGlF,SAAUC,GAAsBC,EAAeC,EAAMzB,EAAI,CAK7D,SAAS0B,EAAoBC,EAAI,CAC/B,IAAMC,EAAKJ,EAAG,IAAIG,CAAC,EACbE,EAAKL,EAAG,IAAII,EAAID,CAAC,EACvB,OAAOH,EAAG,IAAIA,EAAG,IAAIK,EAAIL,EAAG,IAAIG,EAAGF,CAAC,CAAC,EAAGzB,CAAC,CAC3C,CACA,OAAO0B,CACT,CACM,SAAUI,GACdC,EACAC,EACAC,EAAwB,CAExB,GAAM,CAAE,MAAOC,CAAQ,EAAKH,EAE5B,SAASI,EAAuBC,EAAY,CAC1C,IAAIlC,EACJ,GAAI,OAAOkC,GAAQ,SACjBlC,EAAMkC,MACD,CACL,IAAIC,EAAQ7B,GAAY,cAAe4B,CAAG,EAC1C,GAAIJ,EAA0B,CAC5B,GAAI,CAACA,EAAyB,SAASK,EAAM,OAAS,CAAC,EACrD,MAAM,IAAI,MAAM,qBAAqB,EACvC,IAAMC,EAAS,IAAI,WAAWJ,CAAQ,EACtCI,EAAO,IAAID,EAAOC,EAAO,OAASD,EAAM,MAAM,EAC9CA,EAAQC,CACV,CACA,GAAI,CACFpC,EAAM6B,EAAG,UAAUM,CAAK,CAC1B,OAASE,EAAO,CACd,MAAM,IAAI,MACR,8CAA8C,OAAAL,EAAQ,UAAS,cAAOE,EAAK,CAE/E,CACF,CAEA,GADIH,IAAgB/B,EAAM6B,EAAG,OAAO7B,CAAG,GACnC,CAAC6B,EAAG,YAAY7B,CAAG,EAAG,MAAM,IAAI,MAAM,4CAA4C,EACtF,OAAOA,CACT,CACA,OAAOiC,CACT,CAEM,SAAUK,GACdC,EACAC,EAAqC,CAAA,EAAE,CAEvC,GAAM,CAAE,GAAAlB,EAAI,GAAAO,CAAE,EAAKY,GAAmB,cAAeF,EAAOC,CAAS,EAC/D,CAAE,EAAGE,EAAU,EAAGC,CAAW,EAAKJ,EACxCK,GACEJ,EACA,CAAA,EACA,CACE,mBAAoB,UACpB,cAAe,WACf,cAAe,WACf,UAAW,WACX,QAAS,WACT,KAAM,SACN,eAAgB,UACjB,EAGH,GAAM,CAAE,KAAAK,CAAI,EAAKL,EACjB,GAAIK,IAGA,CAACvB,EAAG,IAAIiB,EAAM,CAAC,GACf,OAAOM,EAAK,MAAS,UACrB,OAAOA,EAAK,aAAgB,YAE5B,MAAM,IAAI,MAAM,mEAAmE,EAIvF,SAASC,GAA4B,CACnC,GAAI,CAACxB,EAAG,MAAO,MAAM,IAAI,MAAM,4DAA4D,CAC7F,CAGA,SAASyB,EACPC,EACAC,EACAC,EAAqB,CAErB,GAAM,CAAE,EAAAzB,EAAG,EAAA0B,CAAC,EAAKF,EAAM,SAAQ,EACzBG,EAAK9B,EAAG,QAAQG,CAAC,EAEvB,GADA3C,GAAM,eAAgBoE,CAAY,EAC9BA,EAAc,CAChBJ,EAA4B,EAC5B,IAAMO,EAAW,CAAC/B,EAAG,MAAO6B,CAAC,EAC7B,OAAOG,GAAYC,GAAQF,CAAQ,EAAGD,CAAE,CAC1C,KACE,QAAOE,GAAY,WAAW,GAAG,CAAI,EAAGF,EAAI9B,EAAG,QAAQ6B,CAAC,CAAC,CAE7D,CACA,SAASK,EAAerB,EAAiB,CACvCsB,GAAOtB,CAAK,EACZ,IAAMuB,EAAIpC,EAAG,MACPqC,EAAKD,EAAI,EACTE,EAAK,EAAIF,EAAI,EACb9D,EAASuC,EAAM,OACf0B,EAAO1B,EAAM,CAAC,EACd2B,EAAO3B,EAAM,SAAS,CAAC,EAE7B,GAAIvC,IAAW+D,IAAOE,IAAS,GAAQA,IAAS,GAAO,CACrD,IAAM,EAAIvC,EAAG,UAAUwC,CAAI,EAC3B,GAAI,CAACxC,EAAG,QAAQ,CAAC,EAAG,MAAM,IAAI,MAAM,qCAAqC,EACzE,IAAMyC,EAAKvC,EAAoB,CAAC,EAC5B2B,EACJ,GAAI,CACFA,EAAI7B,EAAG,KAAKyC,CAAE,CAChB,OAASC,EAAW,CAClB,IAAMC,EAAMD,aAAqB,MAAQ,KAAOA,EAAU,QAAU,GACpE,MAAM,IAAI,MAAM,yCAA2CC,CAAG,CAChE,CACAnB,EAA4B,EAC5B,IAAMoB,EAAS5C,EAAG,MAAO6B,CAAC,EAE1B,OADmBU,EAAO,KAAO,IACfK,IAAQf,EAAI7B,EAAG,IAAI6B,CAAC,GAC/B,CAAE,EAAG,EAAAA,CAAC,CACf,SAAWvD,IAAWgE,GAAMC,IAAS,EAAM,CAEzC,IAAM,EAAIvC,EAAG,UAAUwC,EAAK,SAASJ,EAAI,EAAGA,EAAI,CAAC,CAAC,EAC5CP,EAAI7B,EAAG,UAAUwC,EAAK,SAASJ,EAAI,EAAGA,EAAI,CAAC,CAAC,EAClD,GAAI,CAACS,EAAU,EAAGhB,CAAC,EAAG,MAAM,IAAI,MAAM,4BAA4B,EAClE,MAAO,CAAE,EAAG,EAAAA,CAAC,CACf,KACE,OAAM,IAAI,MACR,yBAAyB,OAAAvD,EAAM,0BAAyB,OAAA+D,EAAE,qBAAoB,OAAAC,EAAI,CAGxF,CAEA,IAAMQ,EAAU5B,EAAU,SAAWO,EAC/BsB,EAAY7B,EAAU,WAAagB,EACnChC,EAAsBH,GAAmBC,EAAIiB,EAAM,EAAGA,EAAM,CAAC,EAInE,SAAS4B,EAAU1C,EAAM0B,EAAI,CAC3B,IAAMmB,EAAOhD,EAAG,IAAI6B,CAAC,EACfoB,EAAQ/C,EAAoBC,CAAC,EACnC,OAAOH,EAAG,IAAIgD,EAAMC,CAAK,CAC3B,CAIA,GAAI,CAACJ,EAAU5B,EAAM,GAAIA,EAAM,EAAE,EAAG,MAAM,IAAI,MAAM,mCAAmC,EAIvF,IAAMiC,EAAOlD,EAAG,IAAIA,EAAG,IAAIiB,EAAM,EAAGpB,EAAG,EAAGC,EAAG,EACvCqD,EAAQnD,EAAG,IAAIA,EAAG,IAAIiB,EAAM,CAAC,EAAG,OAAO,EAAE,CAAC,EAChD,GAAIjB,EAAG,IAAIA,EAAG,IAAIkD,EAAMC,CAAK,CAAC,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAG3E,SAASC,EAAOC,EAAeC,EAAMC,EAAU,GAAK,CAClD,GAAI,CAACvD,EAAG,QAAQsD,CAAC,GAAMC,GAAWvD,EAAG,IAAIsD,CAAC,EAAI,MAAM,IAAI,MAAM,wBAAwB,OAAAD,EAAO,EAC7F,OAAOC,CACT,CAEA,SAASE,EAAUC,EAAc,CAC/B,GAAI,EAAEA,aAAiBC,GAAQ,MAAM,IAAI,MAAM,0BAA0B,CAC3E,CAOA,IAAMC,EAAeC,GAAS,CAACC,EAAUC,IAA0B,CACjE,GAAM,CAAE,GAAI3D,EAAG,GAAI0B,EAAG,GAAIkC,CAAC,EAAKF,EAEhC,GAAI7D,EAAG,IAAI+D,EAAG/D,EAAG,GAAG,EAAG,MAAO,CAAE,EAAAG,EAAG,EAAA0B,CAAC,EACpC,IAAMmC,EAAMH,EAAE,IAAG,EAGbC,GAAM,OAAMA,EAAKE,EAAMhE,EAAG,IAAMA,EAAG,IAAI+D,CAAC,GAC5C,IAAME,EAAKjE,EAAG,IAAIG,EAAG2D,CAAE,EACjBI,EAAKlE,EAAG,IAAI6B,EAAGiC,CAAE,EACjBK,EAAKnE,EAAG,IAAI+D,EAAGD,CAAE,EACvB,GAAIE,EAAK,MAAO,CAAE,EAAGhE,EAAG,KAAM,EAAGA,EAAG,IAAI,EACxC,GAAI,CAACA,EAAG,IAAImE,EAAInE,EAAG,GAAG,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3D,MAAO,CAAE,EAAGiE,EAAI,EAAGC,CAAE,CACvB,CAAC,EAGKE,EAAkBR,GAAUC,GAAY,CAC5C,GAAIA,EAAE,IAAG,EAAI,CAIX,GAAI3C,EAAU,oBAAsB,CAAClB,EAAG,IAAI6D,EAAE,EAAE,EAAG,OACnD,MAAM,IAAI,MAAM,iBAAiB,CACnC,CAEA,GAAM,CAAE,EAAA1D,EAAG,EAAA0B,CAAC,EAAKgC,EAAE,SAAQ,EAC3B,GAAI,CAAC7D,EAAG,QAAQG,CAAC,GAAK,CAACH,EAAG,QAAQ6B,CAAC,EAAG,MAAM,IAAI,MAAM,sCAAsC,EAC5F,GAAI,CAACgB,EAAU1C,EAAG0B,CAAC,EAAG,MAAM,IAAI,MAAM,mCAAmC,EACzE,GAAI,CAACgC,EAAE,cAAa,EAAI,MAAM,IAAI,MAAM,wCAAwC,EAChF,MAAO,EACT,CAAC,EAED,SAASQ,EACPC,EACAC,EACAC,EACAC,EACAC,EAAc,CAEd,OAAAF,EAAM,IAAId,EAAM1D,EAAG,IAAIwE,EAAI,GAAIF,CAAQ,EAAGE,EAAI,GAAIA,EAAI,EAAE,EACxDD,EAAMI,GAASF,EAAOF,CAAG,EACzBC,EAAMG,GAASD,EAAOF,CAAG,EAClBD,EAAI,IAAIC,CAAG,CACpB,CAOA,MAAMd,CAAK,CAcT,YAAYkB,EAAOC,EAAOC,EAAK,CAC7B,KAAK,GAAK1B,EAAO,IAAKwB,CAAE,EACxB,KAAK,GAAKxB,EAAO,IAAKyB,EAAI,EAAI,EAC9B,KAAK,GAAKzB,EAAO,IAAK0B,CAAE,EACxB,OAAO,OAAO,IAAI,CACpB,CAGA,OAAO,WAAWjB,EAAiB,CACjC,GAAM,CAAE,EAAA1D,EAAG,EAAA0B,CAAC,EAAKgC,GAAK,CAAA,EACtB,GAAI,CAACA,GAAK,CAAC7D,EAAG,QAAQG,CAAC,GAAK,CAACH,EAAG,QAAQ6B,CAAC,EAAG,MAAM,IAAI,MAAM,sBAAsB,EAClF,GAAIgC,aAAaH,EAAO,MAAM,IAAI,MAAM,8BAA8B,EAEtE,OAAI1D,EAAG,IAAIG,CAAC,GAAKH,EAAG,IAAI6B,CAAC,EAAU6B,EAAM,KAClC,IAAIA,EAAMvD,EAAG0B,EAAG7B,EAAG,GAAG,CAC/B,CAEA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CACA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CAEA,OAAO,WAAW+E,EAAe,CAC/B,OAAOC,GAAWtB,EAAO,KAAMqB,CAAM,CACvC,CAEA,OAAO,UAAUlE,EAAiB,CAChC,OAAAsB,GAAOtB,CAAK,EACL6C,EAAM,QAAQ7C,CAAK,CAC5B,CAGA,OAAO,QAAQjC,EAAQ,CACrB,IAAMqG,EAAIvB,EAAM,WAAWX,EAAU/D,GAAY,WAAYJ,CAAG,CAAC,CAAC,EAClE,OAAAqG,EAAE,eAAc,EACTA,CACT,CAGA,OAAO,eAAeC,EAAmB,CACvC,IAAMvE,EAAyBL,GAC7BC,EACAW,EAAU,yBACVA,EAAU,cAAc,EAE1B,OAAOwC,EAAM,KAAK,SAAS/C,EAAuBuE,CAAU,CAAC,CAC/D,CAGA,OAAO,IAAIH,EAAiBI,EAAiB,CAC3C,OAAOC,GAAU1B,EAAOnD,EAAIwE,EAAQI,CAAO,CAC7C,CAQA,WAAWE,EAAqB,EAAGC,EAAS,GAAI,CAC9C,OAAAC,EAAK,cAAc,KAAMF,CAAU,EAC9BC,GAAQ,KAAK,SAASzF,EAAG,EACvB,IACT,CAGA,eAAewF,EAAkB,CAC/B,KAAK,WAAWA,CAAU,CAC5B,CAIA,gBAAc,CACZjB,EAAgB,IAAI,CACtB,CAEA,UAAQ,CACN,GAAM,CAAE,EAAAvC,CAAC,EAAK,KAAK,SAAQ,EAC3B,GAAI,CAAC7B,EAAG,MAAO,MAAM,IAAI,MAAM,6BAA6B,EAC5D,MAAO,CAACA,EAAG,MAAM6B,CAAC,CACpB,CAGA,OAAO4B,EAAY,CACjBD,EAAUC,CAAK,EACf,GAAM,CAAE,GAAI+B,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKpC,EAC7BqC,EAAK9F,EAAG,IAAIA,EAAG,IAAIwF,EAAIK,CAAE,EAAG7F,EAAG,IAAI2F,EAAID,CAAE,CAAC,EAC1CK,EAAK/F,EAAG,IAAIA,EAAG,IAAIyF,EAAII,CAAE,EAAG7F,EAAG,IAAI4F,EAAIF,CAAE,CAAC,EAChD,OAAOI,GAAMC,CACf,CAGA,QAAM,CACJ,OAAO,IAAIrC,EAAM,KAAK,GAAI1D,EAAG,IAAI,KAAK,EAAE,EAAG,KAAK,EAAE,CACpD,CAMA,QAAM,CACJ,GAAM,CAAE,EAAAC,EAAG,EAAAzB,CAAC,EAAKyC,EACX+E,EAAKhG,EAAG,IAAIxB,EAAGqB,EAAG,EAClB,CAAE,GAAI2F,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC/BO,EAAKjG,EAAG,KAAMkG,EAAKlG,EAAG,KAAMmG,EAAKnG,EAAG,KACpCoG,EAAKpG,EAAG,IAAIwF,EAAIA,CAAE,EAClBa,EAAKrG,EAAG,IAAIyF,EAAIA,CAAE,EAClBa,EAAKtG,EAAG,IAAI0F,EAAIA,CAAE,EAClBa,EAAKvG,EAAG,IAAIwF,EAAIC,CAAE,EACtB,OAAAc,EAAKvG,EAAG,IAAIuG,EAAIA,CAAE,EAClBJ,EAAKnG,EAAG,IAAIwF,EAAIE,CAAE,EAClBS,EAAKnG,EAAG,IAAImG,EAAIA,CAAE,EAClBF,EAAKjG,EAAG,IAAIC,EAAGkG,CAAE,EACjBD,EAAKlG,EAAG,IAAIgG,EAAIM,CAAE,EAClBJ,EAAKlG,EAAG,IAAIiG,EAAIC,CAAE,EAClBD,EAAKjG,EAAG,IAAIqG,EAAIH,CAAE,EAClBA,EAAKlG,EAAG,IAAIqG,EAAIH,CAAE,EAClBA,EAAKlG,EAAG,IAAIiG,EAAIC,CAAE,EAClBD,EAAKjG,EAAG,IAAIuG,EAAIN,CAAE,EAClBE,EAAKnG,EAAG,IAAIgG,EAAIG,CAAE,EAClBG,EAAKtG,EAAG,IAAIC,EAAGqG,CAAE,EACjBC,EAAKvG,EAAG,IAAIoG,EAAIE,CAAE,EAClBC,EAAKvG,EAAG,IAAIC,EAAGsG,CAAE,EACjBA,EAAKvG,EAAG,IAAIuG,EAAIJ,CAAE,EAClBA,EAAKnG,EAAG,IAAIoG,EAAIA,CAAE,EAClBA,EAAKpG,EAAG,IAAImG,EAAIC,CAAE,EAClBA,EAAKpG,EAAG,IAAIoG,EAAIE,CAAE,EAClBF,EAAKpG,EAAG,IAAIoG,EAAIG,CAAE,EAClBL,EAAKlG,EAAG,IAAIkG,EAAIE,CAAE,EAClBE,EAAKtG,EAAG,IAAIyF,EAAIC,CAAE,EAClBY,EAAKtG,EAAG,IAAIsG,EAAIA,CAAE,EAClBF,EAAKpG,EAAG,IAAIsG,EAAIC,CAAE,EAClBN,EAAKjG,EAAG,IAAIiG,EAAIG,CAAE,EAClBD,EAAKnG,EAAG,IAAIsG,EAAID,CAAE,EAClBF,EAAKnG,EAAG,IAAImG,EAAIA,CAAE,EAClBA,EAAKnG,EAAG,IAAImG,EAAIA,CAAE,EACX,IAAIzC,EAAMuC,EAAIC,EAAIC,CAAE,CAC7B,CAMA,IAAI1C,EAAY,CACdD,EAAUC,CAAK,EACf,GAAM,CAAE,GAAI+B,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAK,KAC7B,CAAE,GAAIC,EAAI,GAAIC,EAAI,GAAIC,CAAE,EAAKpC,EAC/BwC,EAAKjG,EAAG,KAAMkG,EAAKlG,EAAG,KAAMmG,EAAKnG,EAAG,KAClCC,EAAIgB,EAAM,EACV+E,EAAKhG,EAAG,IAAIiB,EAAM,EAAGpB,EAAG,EAC1BuG,EAAKpG,EAAG,IAAIwF,EAAIG,CAAE,EAClBU,EAAKrG,EAAG,IAAIyF,EAAIG,CAAE,EAClBU,EAAKtG,EAAG,IAAI0F,EAAIG,CAAE,EAClBU,EAAKvG,EAAG,IAAIwF,EAAIC,CAAE,EAClBe,EAAKxG,EAAG,IAAI2F,EAAIC,CAAE,EACtBW,EAAKvG,EAAG,IAAIuG,EAAIC,CAAE,EAClBA,EAAKxG,EAAG,IAAIoG,EAAIC,CAAE,EAClBE,EAAKvG,EAAG,IAAIuG,EAAIC,CAAE,EAClBA,EAAKxG,EAAG,IAAIwF,EAAIE,CAAE,EAClB,IAAIe,EAAKzG,EAAG,IAAI2F,EAAIE,CAAE,EACtB,OAAAW,EAAKxG,EAAG,IAAIwG,EAAIC,CAAE,EAClBA,EAAKzG,EAAG,IAAIoG,EAAIE,CAAE,EAClBE,EAAKxG,EAAG,IAAIwG,EAAIC,CAAE,EAClBA,EAAKzG,EAAG,IAAIyF,EAAIC,CAAE,EAClBO,EAAKjG,EAAG,IAAI4F,EAAIC,CAAE,EAClBY,EAAKzG,EAAG,IAAIyG,EAAIR,CAAE,EAClBA,EAAKjG,EAAG,IAAIqG,EAAIC,CAAE,EAClBG,EAAKzG,EAAG,IAAIyG,EAAIR,CAAE,EAClBE,EAAKnG,EAAG,IAAIC,EAAGuG,CAAE,EACjBP,EAAKjG,EAAG,IAAIgG,EAAIM,CAAE,EAClBH,EAAKnG,EAAG,IAAIiG,EAAIE,CAAE,EAClBF,EAAKjG,EAAG,IAAIqG,EAAIF,CAAE,EAClBA,EAAKnG,EAAG,IAAIqG,EAAIF,CAAE,EAClBD,EAAKlG,EAAG,IAAIiG,EAAIE,CAAE,EAClBE,EAAKrG,EAAG,IAAIoG,EAAIA,CAAE,EAClBC,EAAKrG,EAAG,IAAIqG,EAAID,CAAE,EAClBE,EAAKtG,EAAG,IAAIC,EAAGqG,CAAE,EACjBE,EAAKxG,EAAG,IAAIgG,EAAIQ,CAAE,EAClBH,EAAKrG,EAAG,IAAIqG,EAAIC,CAAE,EAClBA,EAAKtG,EAAG,IAAIoG,EAAIE,CAAE,EAClBA,EAAKtG,EAAG,IAAIC,EAAGqG,CAAE,EACjBE,EAAKxG,EAAG,IAAIwG,EAAIF,CAAE,EAClBF,EAAKpG,EAAG,IAAIqG,EAAIG,CAAE,EAClBN,EAAKlG,EAAG,IAAIkG,EAAIE,CAAE,EAClBA,EAAKpG,EAAG,IAAIyG,EAAID,CAAE,EAClBP,EAAKjG,EAAG,IAAIuG,EAAIN,CAAE,EAClBA,EAAKjG,EAAG,IAAIiG,EAAIG,CAAE,EAClBA,EAAKpG,EAAG,IAAIuG,EAAIF,CAAE,EAClBF,EAAKnG,EAAG,IAAIyG,EAAIN,CAAE,EAClBA,EAAKnG,EAAG,IAAImG,EAAIC,CAAE,EACX,IAAI1C,EAAMuC,EAAIC,EAAIC,CAAE,CAC7B,CAEA,SAAS1C,EAAY,CACnB,OAAO,KAAK,IAAIA,EAAM,OAAM,CAAE,CAChC,CAEA,KAAG,CACD,OAAO,KAAK,OAAOC,EAAM,IAAI,CAC/B,CAWA,SAASgD,EAAc,CACrB,GAAM,CAAE,KAAAnF,CAAI,EAAKL,EACjB,GAAI,CAACX,EAAG,YAAYmG,CAAM,EAAG,MAAM,IAAI,MAAM,8BAA8B,EAC3E,IAAI/E,EAAcgF,EACZC,EAAOtD,GAAciC,EAAK,WAAW,KAAMjC,EAAGI,EAAM,UAAU,EAEpE,GAAInC,EAAM,CACR,GAAM,CAAE,MAAAkD,EAAO,GAAAoC,EAAI,MAAAnC,EAAO,GAAAoC,CAAE,EAAKvF,EAAK,YAAYmF,CAAM,EAClD,CAAE,EAAGnC,EAAK,EAAGwC,CAAG,EAAKH,EAAIC,CAAE,EAC3B,CAAE,EAAGrC,EAAK,EAAGwC,CAAG,EAAKJ,EAAIE,CAAE,EACjCH,EAAOI,EAAI,IAAIC,CAAG,EAClBrF,EAAQ0C,EAAW9C,EAAK,KAAMgD,EAAKC,EAAKC,EAAOC,CAAK,CACtD,KAAO,CACL,GAAM,CAAE,EAAAb,EAAG,EAAAoD,CAAC,EAAKL,EAAIF,CAAM,EAC3B/E,EAAQkC,EACR8C,EAAOM,CACT,CAEA,OAAOvD,EAAM,WAAW,CAAC/B,EAAOgF,CAAI,CAAC,EAAE,CAAC,CAC1C,CAOA,eAAeO,EAAU,CACvB,GAAM,CAAE,KAAA3F,CAAI,EAAKL,EACX2C,EAAI,KACV,GAAI,CAACtD,EAAG,QAAQ2G,CAAE,EAAG,MAAM,IAAI,MAAM,8BAA8B,EACnE,GAAIA,IAAOvI,IAAOkF,EAAE,IAAG,EAAI,OAAOH,EAAM,KACxC,GAAIwD,IAAOvH,GAAK,OAAOkE,EACvB,GAAI0B,EAAK,eAAe,IAAI,EAAG,OAAO,KAAK,SAAS2B,CAAE,EACtD,GAAI3F,EAAM,CACR,GAAM,CAAE,MAAAkD,EAAO,GAAAoC,EAAI,MAAAnC,EAAO,GAAAoC,CAAE,EAAKvF,EAAK,YAAY2F,CAAE,EAE9C,CAAE,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAc3D,EAAOG,EAAGgD,EAAIC,CAAE,EACjD,OAAOzC,EAAW9C,EAAK,KAAM4F,EAAIC,EAAI3C,EAAOC,CAAK,CACnD,KACE,QAAOa,EAAK,iBAAiB1B,EAAGqD,CAAE,CAEtC,CAEA,qBAAqBI,EAAUrH,EAAWzB,EAAS,CACjD,IAAM+I,EAAM,KAAK,eAAetH,CAAC,EAAE,IAAIqH,EAAE,eAAe9I,CAAC,CAAC,EAC1D,OAAO+I,EAAI,IAAG,EAAK,OAAYA,CACjC,CAMA,SAASC,EAAa,CACpB,OAAO7D,EAAa,KAAM6D,CAAS,CACrC,CAMA,eAAa,CACX,GAAM,CAAE,cAAAC,CAAa,EAAKvG,EAC1B,OAAIE,IAAazB,GAAY,GACzB8H,EAAsBA,EAAc/D,EAAO,IAAI,EAC5C6B,EAAK,iBAAiB,KAAMlE,CAAW,EAAE,IAAG,CACrD,CAEA,eAAa,CACX,GAAM,CAAE,cAAAqG,CAAa,EAAKxG,EAC1B,OAAIE,IAAazB,GAAY,KACzB+H,EAAsBA,EAAchE,EAAO,IAAI,EAC5C,KAAK,eAAetC,CAAQ,CACrC,CAEA,QAAQQ,EAAe,GAAI,CACzB,OAAApE,GAAM,eAAgBoE,CAAY,EAClC,KAAK,eAAc,EACZkB,EAAQY,EAAO,KAAM9B,CAAY,CAC1C,CAGA,WAAWA,EAAe,GAAI,CAC5B,OAAO,KAAK,QAAQA,CAAY,CAClC,CAEA,MAAMA,EAAe,GAAI,CACvB,OAAO+F,GAAW,KAAK,QAAQ/F,CAAY,CAAC,CAC9C,CAEA,UAAQ,CACN,MAAO,UAAU,YAAK,IAAG,EAAK,OAAS,KAAK,MAAK,EAAE,IACrD,EA5TgB8B,EAAA,KAAO,IAAIA,EAAMzC,EAAM,GAAIA,EAAM,GAAIjB,EAAG,GAAG,EAE3C0D,EAAA,KAAO,IAAIA,EAAM1D,EAAG,KAAMA,EAAG,IAAKA,EAAG,IAAI,EAEzC0D,EAAA,GAAK1D,EACL0D,EAAA,GAAKnD,EAyTvB,IAAMqH,EAAOrH,EAAG,KACVgF,EAAOsC,GAAKnE,EAAOxC,EAAU,KAAO,KAAK,KAAK0G,EAAO,CAAC,EAAIA,CAAI,EACpE,OAAOlE,CACT,CAgDA,SAASoE,GAAQC,EAAiB,CAChC,OAAO,WAAW,GAAGA,EAAW,EAAO,CAAI,CAC7C,CAoBM,SAAUC,GACdC,EACAC,EACAC,EAA0C,CAAA,EAAE,CAE5CC,GACEF,EACA,CAAE,KAAM,UAAU,EAClB,CACE,KAAM,WACN,KAAM,UACN,YAAa,WACb,SAAU,WACV,cAAe,WAChB,EAGH,IAAMG,EAAeH,EAAU,aAAeI,GACxCC,EACJL,EAAU,OACR,CAACM,KAAQC,IAASC,GAAKR,EAAU,KAAMM,EAAKG,GAAY,GAAGF,CAAI,CAAC,GAE9D,CAAE,GAAAG,EAAI,GAAAC,CAAE,EAAKZ,EACb,CAAE,MAAOa,EAAa,KAAMC,CAAM,EAAKF,EAE7C,SAASG,EAAsBC,EAAc,CAC3C,IAAMC,EAAOJ,GAAeK,GAC5B,OAAOF,EAASC,CAClB,CAEA,SAASE,EAAWC,EAAS,CAC3B,OAAOL,EAAsBK,CAAC,EAAIR,EAAG,IAAIQ,CAAC,EAAIA,CAChD,CACA,SAASC,EAASC,EAAeC,EAAW,CAC1C,GAAI,CAACX,EAAG,YAAYW,CAAG,EACrB,MAAM,IAAI,MAAM,qBAAqB,OAAAD,EAAK,4BAA2B,CACzE,CAKA,MAAME,CAAS,CAIb,YAAYC,EAAWL,EAAWM,EAAiB,CACjDL,EAAS,IAAKI,CAAC,EACfJ,EAAS,IAAKD,CAAC,EACf,KAAK,EAAIK,EACT,KAAK,EAAIL,EACLM,GAAY,OAAM,KAAK,SAAWA,GACtC,OAAO,OAAO,IAAI,CACpB,CAGA,OAAO,YAAYC,EAAQ,CACzB,IAAMC,EAAIhB,EAAG,MACPiB,EAAIC,GAAY,mBAAoBH,EAAKC,EAAI,CAAC,EACpD,OAAO,IAAIJ,EAAUZ,EAAG,UAAUiB,EAAE,SAAS,EAAGD,CAAC,CAAC,EAAGhB,EAAG,UAAUiB,EAAE,SAASD,EAAGA,EAAI,CAAC,CAAC,CAAC,CACzF,CAIA,OAAO,QAAQD,EAAQ,CACrB,GAAM,CAAE,EAAAF,EAAG,EAAAL,CAAC,EAAKW,GAAI,MAAMD,GAAY,MAAOH,CAAG,CAAC,EAClD,OAAO,IAAIH,EAAUC,EAAGL,CAAC,CAC3B,CAMA,gBAAc,CAAU,CAExB,eAAeM,EAAgB,CAC7B,OAAO,IAAIF,EAAU,KAAK,EAAG,KAAK,EAAGE,CAAQ,CAC/C,CAGA,iBAAiBM,EAAY,CAC3B,IAAMC,EAActB,EAAG,MACjB,CAAE,EAAAc,EAAG,EAAAL,EAAG,SAAUc,CAAG,EAAK,KAChC,GAAIA,GAAO,MAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASA,CAAG,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAWrF,GADoBrB,EAAcsB,GAAMF,GACrBC,EAAM,EAAG,MAAM,IAAI,MAAM,wCAAwC,EAEpF,IAAME,EAAOF,IAAQ,GAAKA,IAAQ,EAAIT,EAAIZ,EAAcY,EACxD,GAAI,CAACd,EAAG,QAAQyB,CAAI,EAAG,MAAM,IAAI,MAAM,4BAA4B,EACnE,IAAMC,EAAI1B,EAAG,QAAQyB,CAAI,EACnBE,EAAItC,EAAM,QAAQU,GAAYb,IAASqC,EAAM,KAAO,CAAC,EAAGG,CAAC,CAAC,EAC1DE,EAAK3B,EAAG,IAAIwB,CAAI,EAChBI,EAAIC,EAAcX,GAAY,UAAWE,CAAO,CAAC,EACjDU,EAAK9B,EAAG,OAAO,CAAC4B,EAAID,CAAE,EACtBI,EAAK/B,EAAG,OAAOQ,EAAImB,CAAE,EAErBK,EAAI5C,EAAM,KAAK,eAAe0C,CAAE,EAAE,IAAIJ,EAAE,eAAeK,CAAE,CAAC,EAChE,GAAIC,EAAE,IAAG,EAAI,MAAM,IAAI,MAAM,mBAAmB,EAChD,OAAAA,EAAE,eAAc,EACTA,CACT,CAGA,UAAQ,CACN,OAAO7B,EAAsB,KAAK,CAAC,CACrC,CAEA,YAAU,CACR,OAAO,KAAK,SAAQ,EAAK,IAAIS,EAAU,KAAK,EAAGZ,EAAG,IAAI,KAAK,CAAC,EAAG,KAAK,QAAQ,EAAI,IAClF,CAEA,QAAQiC,EAAyB,CAC/B,GAAIA,IAAW,UAAW,OAAOnC,GAAYE,EAAG,QAAQ,KAAK,CAAC,EAAGA,EAAG,QAAQ,KAAK,CAAC,CAAC,EACnF,GAAIiC,IAAW,MAAO,OAAOC,GAAWf,GAAI,WAAW,IAAI,CAAC,EAC5D,MAAM,IAAI,MAAM,gBAAgB,CAClC,CAGA,eAAa,CACX,OAAO,KAAK,QAAQ,KAAK,CAC3B,CACA,UAAQ,CACN,OAAOgB,GAAW,KAAK,QAAQ,KAAK,CAAC,CACvC,CAGA,mBAAiB,CACf,OAAO,KAAK,QAAQ,SAAS,CAC/B,CACA,cAAY,CACV,OAAOA,GAAW,KAAK,QAAQ,SAAS,CAAC,CAC3C,EAIF,IAAMC,EAAyBC,GAC7BrC,EACAV,EAAU,yBACVA,EAAU,cAAc,EAGpBgD,EAAQ,CACZ,kBAAkBC,EAAmB,CACnC,GAAI,CACF,OAAAH,EAAuBG,CAAU,EAC1B,EACT,OAASC,EAAO,CACd,MAAO,EACT,CACF,EACA,uBAAwBJ,EAMxB,iBAAkB,IAAiB,CACjC,IAAMK,EAAIxC,EACV,OAAOyC,GAAelD,EAAamD,GAAiBF,CAAC,CAAC,EAAGA,CAAC,CAC5D,EAEA,WAAWG,EAAa,EAAGC,EAAQzD,EAAM,KAAI,CAC3C,OAAOyD,EAAM,WAAWD,EAAY,EAAK,CAC3C,GASF,SAASE,EAAaP,EAAqBQ,EAAe,GAAI,CAC5D,OAAO3D,EAAM,eAAemD,CAAU,EAAE,QAAQQ,CAAY,CAC9D,CAKA,SAASC,EAAUC,EAAsB,CACvC,GAAI,OAAOA,GAAS,SAAU,MAAO,GACrC,GAAIA,aAAgB7D,EAAO,MAAO,GAElC,IAAM8D,EADMhC,GAAY,MAAO+B,CAAI,EAChB,OACbjC,EAAIjB,EAAG,MACPoD,EAAKnC,EAAI,EACToC,EAAK,EAAIpC,EAAI,EACnB,GAAI,EAAA1B,EAAU,0BAA4BU,EAAG,QAAUmD,GAGrD,OAAOD,IAAWC,GAAMD,IAAWE,CAEvC,CAYA,SAASC,EAAgBC,EAAmBC,EAAcR,EAAe,GAAI,CAC3E,GAAIC,EAAUM,CAAQ,IAAM,GAAM,MAAM,IAAI,MAAM,+BAA+B,EACjF,GAAIN,EAAUO,CAAO,IAAM,GAAO,MAAM,IAAI,MAAM,+BAA+B,EAEjF,OADUnE,EAAM,QAAQmE,CAAO,EACtB,SAASnB,EAAuBkB,CAAQ,CAAC,EAAE,QAAQP,CAAY,CAC1E,CAMA,IAAMS,EACJnE,EAAU,UACV,SAAUoE,EAAiB,CAEzB,GAAIA,EAAM,OAAS,KAAM,MAAM,IAAI,MAAM,oBAAoB,EAG7D,IAAM9C,EAAM+C,GAAgBD,CAAK,EAC3BE,EAAQF,EAAM,OAAS,EAAIvD,EACjC,OAAOyD,EAAQ,EAAIhD,GAAO,OAAOgD,CAAK,EAAIhD,CAC5C,EACIkB,EACJxC,EAAU,eACV,SAAUoE,EAAiB,CACzB,OAAOzD,EAAG,OAAOwD,EAASC,CAAK,CAAC,CAClC,EAEIG,EAAaC,GAAQ3D,CAAM,EAIjC,SAAS4D,EAAWnD,EAAW,CAE7B,OAAAoD,GAAS,WAAa7D,EAAQS,EAAKqD,GAAKJ,CAAU,EAC3C5D,EAAG,QAAQW,CAAG,CACvB,CAOA,SAASsD,EAAQ7C,EAAcmB,EAAqB2B,EAAOC,EAAc,CACvE,GAAI,CAAC,YAAa,WAAW,EAAE,KAAMC,GAAMA,KAAKF,CAAI,EAClD,MAAM,IAAI,MAAM,qCAAqC,EACvD,GAAM,CAAE,KAAAG,CAAI,EAAKhF,EACb,CAAE,KAAAiF,EAAM,QAAAC,EAAS,aAAcC,CAAG,EAAKN,EACvCI,GAAQ,OAAMA,EAAO,IACzBlD,EAAUF,GAAY,UAAWE,CAAO,EACxCqD,GAAmBP,CAAI,EACnBK,IAASnD,EAAUF,GAAY,oBAAqBmD,EAAKjD,CAAO,CAAC,GAKrE,IAAMsD,EAAQ7C,EAAcT,CAAO,EAC7BuD,EAAIvC,EAAuBG,CAAU,EACrCqC,EAAW,CAACd,EAAWa,CAAC,EAAGb,EAAWY,CAAK,CAAC,EAElD,GAAIF,GAAO,MAAQA,IAAQ,GAAO,CAEhC,IAAMK,EAAIL,IAAQ,GAAOhF,EAAaO,EAAG,KAAK,EAAIyE,EAClDI,EAAS,KAAK1D,GAAY,eAAgB2D,CAAC,CAAC,CAC9C,CACA,IAAMC,EAAOhF,GAAY,GAAG8E,CAAQ,EAC9BG,EAAIL,EAKV,SAASM,EAAMC,EAAkB,CAG/B,IAAMb,EAAIZ,EAASyB,CAAM,EACzB,GAAI,CAACjF,EAAG,YAAYoE,CAAC,EAAG,OACxB,IAAMc,EAAKlF,EAAG,IAAIoE,CAAC,EACbe,GAAI/F,EAAM,KAAK,SAASgF,CAAC,EAAE,SAAQ,EACnCvD,GAAIb,EAAG,OAAOmF,GAAE,CAAC,EACvB,GAAItE,KAAMmD,GAAK,OACf,IAAMxD,GAAIR,EAAG,OAAOkF,EAAKlF,EAAG,OAAO+E,EAAIlE,GAAI8D,CAAC,CAAC,EAC7C,GAAInE,KAAMwD,GAAK,OACf,IAAIlD,IAAYqE,GAAE,IAAMtE,GAAI,EAAI,GAAK,OAAOsE,GAAE,EAAI7E,EAAG,EACjD8E,GAAQ5E,GACZ,OAAI8D,GAAQnE,EAAsBK,EAAC,IACjC4E,GAAQ7E,EAAWC,EAAC,EACpBM,IAAY,GAEP,IAAIF,EAAUC,GAAGuE,GAAOtE,EAAQ,CACzC,CACA,MAAO,CAAE,KAAAgE,EAAM,MAAAE,CAAK,CACtB,CACA,IAAMb,EAA2B,CAAE,KAAM9E,EAAU,KAAM,QAAS,EAAK,EACjEgG,EAA0B,CAAE,KAAMhG,EAAU,KAAM,QAAS,EAAK,EAetE,SAASiG,EAAKlE,EAAcmE,EAAkBrB,EAAOC,EAAc,CACjE,GAAM,CAAE,KAAAW,EAAM,MAAAE,CAAK,EAAKf,EAAQ7C,EAASmE,EAASrB,CAAI,EAEtD,OADasB,GAAmCnG,EAAU,KAAK,UAAWW,EAAG,MAAON,CAAK,EAC7EoF,EAAME,CAAK,CACzB,CAGA5F,EAAM,KAAK,WAAW,CAAC,EAevB,SAASqG,EACPC,EACAtE,EACAuE,EACAzB,EAAOmB,EAAc,CAErB,IAAMO,EAAKF,EACXtE,EAAUF,GAAY,UAAWE,CAAO,EACxCuE,EAAYzE,GAAY,YAAayE,CAAS,EAG9ClB,GAAmBP,CAAI,EACvB,GAAM,CAAE,KAAAI,EAAM,QAAAC,EAAS,OAAAtC,CAAM,EAAKiC,EAGlC,GAAI,WAAYA,EAAM,MAAM,IAAI,MAAM,oCAAoC,EAE1E,GAAIjC,IAAW,QAAa,CAAC,CAAC,UAAW,MAAO,IAAI,EAAE,SAASA,CAAM,EACnE,MAAM,IAAI,MAAM,yCAAyC,EAC3D,IAAM4D,EAAQ,OAAOD,GAAO,UAAYE,GAAQF,CAAE,EAC5CG,EACJ,CAACF,GACD,CAAC5D,GACD,OAAO2D,GAAO,UACdA,IAAO,MACP,OAAOA,EAAG,GAAM,UAChB,OAAOA,EAAG,GAAM,SAClB,GAAI,CAACC,GAAS,CAACE,EACb,MAAM,IAAI,MAAM,0EAA0E,EAC5F,IAAIC,EACAC,EAGJ,GAAI,CAUF,GAAIF,EACF,GAAI9D,IAAW,QAAaA,IAAW,KACrC+D,EAAO,IAAIpF,EAAUgF,EAAG,EAAGA,EAAG,CAAC,MAE/B,OAAM,IAAI,MAAM,gBAAgB,EAGpC,GAAIC,EAAO,CAIT,GAAI,CACE5D,IAAW,YAAW+D,EAAOpF,EAAU,QAAQgF,CAAE,EACvD,OAASM,GAAU,CACjB,GAAI,EAAEA,cAAoB/E,GAAI,KAAM,MAAM+E,EAC5C,CACI,CAACF,GAAQ/D,IAAW,QAAO+D,EAAOpF,EAAU,YAAYgF,CAAE,EAChE,CACAK,EAAI7G,EAAM,QAAQuG,CAAS,CAC7B,OAASnD,GAAO,CACd,MAAO,EACT,CAEA,GADI,CAACwD,GACD1B,GAAQ0B,EAAK,SAAQ,EAAI,MAAO,GAEhCzB,IAASnD,EAAU/B,EAAU,KAAK+B,CAAO,GAC7C,GAAM,CAAE,EAAAP,EAAG,EAAAL,CAAC,EAAKwF,EACXpE,EAAIC,EAAcT,CAAO,EACzB+E,EAAKnG,EAAG,IAAIQ,CAAC,EACbsB,GAAK9B,EAAG,OAAO4B,EAAIuE,CAAE,EACrBpE,GAAK/B,EAAG,OAAOa,EAAIsF,CAAE,EACrBzE,GAAItC,EAAM,KAAK,eAAe0C,EAAE,EAAE,IAAImE,EAAE,eAAelE,EAAE,CAAC,EAChE,OAAIL,GAAE,IAAG,EAAW,GACV1B,EAAG,OAAO0B,GAAE,CAAC,IACVb,CACf,CAGA,OAAO,OAAO,OAAO,CACnB,aAAAiC,EACA,gBAAAO,EACA,KAAAiC,EACA,OAAAG,EACA,MAAAnD,EACA,MAAAlD,EACA,UAAAwB,EACD,CACH,CAWA,SAASwF,GAAmCC,EAAqB,CAC/D,IAAMC,EAA4B,CAChC,EAAGD,EAAE,EACL,EAAGA,EAAE,EACL,EAAGA,EAAE,GAAG,MACR,EAAGA,EAAE,EACL,EAAGA,EAAE,EACL,GAAIA,EAAE,GACN,GAAIA,EAAE,IAEFtG,EAAKsG,EAAE,GACPrG,EAAKuG,GAAMD,EAAM,EAAGD,EAAE,UAAU,EAChC/G,EAAqC,CACzC,GAAAS,EACA,GAAAC,EACA,yBAA0BqG,EAAE,yBAC5B,mBAAoBA,EAAE,mBACtB,KAAMA,EAAE,KACR,eAAgBA,EAAE,eAClB,cAAeA,EAAE,cACjB,cAAeA,EAAE,cACjB,UAAWA,EAAE,UACb,QAASA,EAAE,SAEb,MAAO,CAAE,MAAAC,EAAO,UAAAhH,CAAS,CAC3B,CACA,SAASkH,GAA0BH,EAAY,CAC7C,GAAM,CAAE,MAAAC,EAAO,UAAAhH,CAAS,EAAK8G,GAAgCC,CAAC,EACxDhH,EAAuB,CAC3B,KAAMgH,EAAE,KACR,KAAMA,EAAE,KACR,YAAaA,EAAE,YACf,KAAMA,EAAE,KACR,SAAUA,EAAE,SACZ,cAAeA,EAAE,eAEnB,MAAO,CAAE,MAAAC,EAAO,UAAAhH,EAAW,UAAAD,CAAS,CACtC,CA4BA,SAASoH,GAA4BC,EAAcC,EAAY,CAC7D,OAAO,OAAO,OAAO,CAAA,EAAIA,EAAO,CAC9B,gBAAiBA,EAAM,MACvB,MAAOD,EACR,CACH,CAGM,SAAUE,GAAYF,EAAY,CACtC,GAAM,CAAE,MAAAG,EAAO,UAAAC,EAAW,UAAAC,CAAS,EAAKC,GAA0BN,CAAC,EAC7DO,EAAQC,GAAaL,EAAOC,CAAS,EACrCK,EAAQR,GAAMM,EAAOF,EAAWD,CAAS,EAC/C,OAAOL,GAA4BC,EAAGS,CAAK,CAC7C,CC9/CM,SAAUC,GAAYC,EAAoBC,EAAc,CAC5D,IAAMC,EAAUC,GAAyBC,GAAYC,EAAAC,EAAA,GAAKN,GAAL,CAAe,KAAMG,CAAI,EAAE,EAChF,OAAOE,EAAAC,EAAA,GAAKJ,EAAOD,CAAO,GAAnB,CAAsB,OAAAC,CAAM,EACrC,CCkBA,IAAMK,GAA2C,CAC/C,EAAG,OAAO,oEAAoE,EAC9E,EAAG,OAAO,oEAAoE,EAC9E,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,GAAI,OAAO,oEAAoE,EAC/E,GAAI,OAAO,oEAAoE,GAE3EC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAa,CAACC,EAAWC,KAAeD,EAAIC,EAAIH,IAAOG,EAM7D,SAASC,GAAQC,EAAS,CACxB,IAAMC,EAAIT,GAAgB,EAEpBU,EAAM,OAAO,CAAC,EAAGC,EAAM,OAAO,CAAC,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAErEC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EACtDC,EAAMT,EAAIA,EAAIA,EAAKC,EACnBS,EAAMD,EAAKA,EAAKT,EAAKC,EACrBU,EAAMC,GAAKF,EAAIR,EAAKD,CAAC,EAAIS,EAAMT,EAC/BY,EAAMD,GAAKD,EAAIT,EAAKD,CAAC,EAAIS,EAAMT,EAC/Ba,EAAOF,GAAKC,EAAIlB,GAAKM,CAAC,EAAIQ,EAAMR,EAChCc,EAAOH,GAAKE,EAAKV,EAAMH,CAAC,EAAIa,EAAOb,EACnCe,EAAOJ,GAAKG,EAAKV,EAAMJ,CAAC,EAAIc,EAAOd,EACnCgB,EAAOL,GAAKI,EAAKT,EAAMN,CAAC,EAAIe,EAAOf,EACnCiB,EAAQN,GAAKK,EAAKT,EAAMP,CAAC,EAAIgB,EAAOhB,EACpCkB,EAAQP,GAAKM,EAAMX,EAAMN,CAAC,EAAIe,EAAOf,EACrCmB,EAAQR,GAAKO,EAAMjB,EAAKD,CAAC,EAAIS,EAAMT,EACnCoB,EAAMT,GAAKQ,EAAMd,EAAML,CAAC,EAAIc,EAAOd,EACnCqB,EAAMV,GAAKS,EAAIlB,EAAKF,CAAC,EAAIQ,EAAMR,EAC/BsB,EAAOX,GAAKU,EAAI3B,GAAKM,CAAC,EAC5B,GAAI,CAACuB,GAAK,IAAIA,GAAK,IAAID,CAAI,EAAGvB,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAC3E,OAAOuB,CACT,CAEA,IAAMC,GAAOC,GAAMjC,GAAgB,EAAG,OAAW,OAAW,CAAE,KAAMO,EAAO,CAAE,EAiBhE2B,GAA+BC,GAC1CC,EAAAC,EAAA,GACKrC,IADL,CAEE,GAAIgC,GACJ,KAAM,GACN,KAAM,CAEJ,KAAM,OAAO,oEAAoE,EACjF,YAAcM,GAAa,CACzB,IAAMC,EAAIvC,GAAgB,EACpBwC,EAAK,OAAO,oCAAoC,EAChDC,EAAK,CAACvC,GAAM,OAAO,oCAAoC,EACvDwC,EAAK,OAAO,qCAAqC,EACjDzB,EAAKuB,EACLG,EAAY,OAAO,qCAAqC,EAExDC,EAAKxC,GAAWa,EAAKqB,EAAGC,CAAC,EACzBM,EAAKzC,GAAW,CAACqC,EAAKH,EAAGC,CAAC,EAC5BO,EAAKC,GAAIT,EAAIM,EAAKJ,EAAKK,EAAKH,EAAIH,CAAC,EACjCS,EAAKD,GAAI,CAACH,EAAKH,EAAKI,EAAK5B,EAAIsB,CAAC,EAC5BU,EAAQH,EAAKH,EACbO,EAAQF,EAAKL,EAGnB,GAFIM,IAAOH,EAAKP,EAAIO,GAChBI,IAAOF,EAAKT,EAAIS,GAChBF,EAAKH,GAAaK,EAAKL,EACzB,MAAM,IAAI,MAAM,uCAAyCL,CAAC,EAE5D,MAAO,CAAE,MAAAW,EAAO,GAAAH,EAAI,MAAAI,EAAO,GAAAF,CAAE,CAC/B,KAGJG,EAAM,EAMFC,GAAsD,CAAA,EAC5D,SAASC,GAAWC,KAAgBC,EAAsB,CACxD,IAAIC,EAAOJ,GAAqBE,CAAG,EACnC,GAAIE,IAAS,OAAW,CACtB,IAAMC,EAAON,GAAO,WAAW,KAAKG,EAAMI,GAAMA,EAAE,WAAW,CAAC,CAAC,CAAC,EAChEF,EAAOG,GAAYF,EAAMA,CAAI,EAC7BL,GAAqBE,CAAG,EAAIE,CAC9B,CACA,OAAOL,GAAOQ,GAAYH,EAAM,GAAGD,CAAQ,CAAC,CAC9C,CAGA,IAAMK,GAAgBC,GAA6BA,EAAM,QAAQ,EAAI,EAAE,MAAM,CAAC,EACxEC,GAAYvB,GAAcwB,GAAgBxB,EAAG,EAAE,EAC/CyB,GAAQC,GAAclB,GAAIkB,EAAGjE,GAAgB,CAAC,EAC9CkE,GAAQD,GAAclB,GAAIkB,EAAGjE,GAAgB,CAAC,EAC9CmE,GAA+BjC,GAAU,MACzCkC,GAAW5D,GAAcA,EAAIL,KAAQF,GAG3C,SAASoE,GAAoBC,EAAa,CACxC,IAAIC,EAAKrC,GAAU,MAAM,uBAAuBoC,CAAI,EAChDE,EAAIL,GAAM,eAAeI,CAAE,EAE/B,MAAO,CAAE,OADMH,GAAQI,EAAE,CAAC,EAAID,EAAKL,GAAK,CAACK,CAAE,EAClB,MAAOX,GAAaY,CAAC,CAAC,CACjD,CAKA,SAASC,GAAOR,EAAS,CACvBS,GAAS,IAAKT,EAAG/D,GAAKF,GAAgB,CAAC,EACvC,IAAM2E,EAAKX,GAAKC,EAAIA,CAAC,EACfP,EAAIM,GAAKW,EAAKV,EAAI,OAAO,CAAC,CAAC,EAC7BzD,EAAID,GAAQmD,CAAC,EACZU,GAAQ5D,CAAC,IAAGA,EAAIwD,GAAK,CAACxD,CAAC,GAC5B,IAAMgE,EAAIL,GAAM,WAAW,CAAE,EAAAF,EAAG,EAAAzD,CAAC,CAAE,EACnC,OAAAgE,EAAE,eAAc,EACTA,CACT,CACA,IAAMI,GAAMC,GAIZ,SAASC,MAAaC,EAAkB,CACtC,OAAOb,GAAKU,GAAIvB,GAAW,oBAAqB,GAAG0B,CAAI,CAAC,CAAC,CAC3D,CAKA,SAASC,GAAoBC,EAAe,CAC1C,OAAOZ,GAAoBY,CAAU,EAAE,KACzC,CAMA,SAASC,GACPC,EACAF,EACAG,EAAeC,GAAY,EAAE,EAAC,CAE9B,IAAMC,EAAIC,GAAY,UAAWJ,CAAO,EAClC,CAAE,MAAOK,EAAI,OAAQC,CAAC,EAAKpB,GAAoBY,CAAU,EACzD5E,EAAIkF,GAAY,UAAWH,EAAS,EAAE,EACtCM,EAAI5B,GAAS2B,EAAIb,GAAIvB,GAAW,cAAehD,CAAC,CAAC,CAAC,EAClDsF,EAAOtC,GAAW,gBAAiBqC,EAAGF,EAAIF,CAAC,EAC3CM,EAAK1B,GAAKU,GAAIe,CAAI,CAAC,EACzB,GAAIC,IAAO3F,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACxD,GAAM,CAAE,MAAO4F,EAAI,OAAQvD,CAAC,EAAK+B,GAAoBuB,CAAE,EACjDE,EAAIhB,GAAUe,EAAIL,EAAIF,CAAC,EACvBS,EAAM,IAAI,WAAW,EAAE,EAI7B,GAHAA,EAAI,IAAIF,EAAI,CAAC,EACbE,EAAI,IAAIjC,GAASI,GAAK5B,EAAIwD,EAAIL,CAAC,CAAC,EAAG,EAAE,EAEjC,CAACO,GAAcD,EAAKT,EAAGE,CAAE,EAAG,MAAM,IAAI,MAAM,kCAAkC,EAClF,OAAOO,CACT,CAMA,SAASC,GAAcC,EAAgBd,EAAce,EAAc,CACjE,IAAMH,EAAMR,GAAY,YAAaU,EAAW,EAAE,EAC5CX,EAAIC,GAAY,UAAWJ,CAAO,EAClCgB,EAAMZ,GAAY,YAAaW,EAAW,EAAE,EAClD,GAAI,CACF,IAAMzF,EAAIgE,GAAOG,GAAIuB,CAAG,CAAC,EACnBC,EAAIxB,GAAImB,EAAI,SAAS,EAAG,EAAE,CAAC,EACjC,GAAI,CAACM,GAAQD,EAAGlG,GAAKF,GAAgB,CAAC,EAAG,MAAO,GAChD,IAAMsG,EAAI1B,GAAImB,EAAI,SAAS,GAAI,EAAE,CAAC,EAClC,GAAI,CAACM,GAAQC,EAAGpG,GAAKF,GAAgB,CAAC,EAAG,MAAO,GAChD,IAAM8F,EAAIhB,GAAUhB,GAASsC,CAAC,EAAGxC,GAAanD,CAAC,EAAG6E,CAAC,EAE7CiB,EAAIpC,GAAM,KAAK,eAAemC,CAAC,EAAE,IAAI7F,EAAE,eAAeyD,GAAK,CAAC4B,CAAC,CAAC,CAAC,EAC/D,CAAE,EAAA7B,EAAG,EAAAzD,CAAC,EAAK+F,EAAE,SAAQ,EAE3B,MAAI,EAAAA,EAAE,IAAG,GAAM,CAACnC,GAAQ5D,CAAC,GAAKyD,IAAMmC,EAEtC,OAASI,EAAO,CACd,MAAO,EACT,CACF,CA6BO,IAAMC,GAA+C,CAC1D,aAAczB,GACd,KAAME,GACN,OAAQc,GACR,MAAO,CACL,iBAAkB9D,GAAU,MAAM,iBAClC,OAAAuC,GACA,aAAAb,GACA,gBAAAG,GACA,gBAAAc,GACA,WAAAxB,GACA,IAAAN,KClRJ,IAAM2D,GAAKC,GAAU,MAAM,EACrBC,GAAKC,GAAMH,GAAI,GAAI,EAAI,EACvBI,GAAKH,GAAU,gBAAgB,KAC9B,SAASI,GAAWC,EAAQC,EAAS,GAAO,CAC/C,IAAIC,EAAKC,GAAgBH,CAAM,EAAE,IAAMN,GACvC,OAAIO,EACWH,GAAG,SAASI,CAAE,EACd,SAAS,EACdE,EAAK,IAAIF,CAAE,EAAE,IACbE,EAAK,IAAIV,GAAKQ,CAAE,EAAE,IAGjBE,EAAK,IAAIF,CAAE,EAAE,GAE5B,CACO,SAASG,GAAWC,EAAQC,EAAQ,CACvC,IAAML,EAAKC,GAAgBG,CAAM,EAAE,IAE7BE,EADKV,GAAG,SAASI,CAAE,EACX,MAAM,EAAI,EACxB,OAAOO,GAAeD,EAAID,CAAM,CACpC,CACO,SAASG,GAAaJ,EAAQK,EAAOV,EAAS,GAAO,CACxD,IAAMC,EAAKC,GAAgBG,CAAM,EAAE,IAC7BM,EAAMT,GAAgBQ,CAAK,EAAE,IAC7BE,EAAajB,GAAG,IAAIM,EAAIU,CAAG,EAC3BE,EAAaV,EAAK,IAAIS,CAAU,EACtC,OAAOd,GAAWe,EAAYb,CAAM,CACxC,CACO,SAASc,GAAaC,EAAQL,EAAOV,EAAS,GAAO,CACxD,IAAMM,EAASU,GAAkBD,CAAM,EACjCE,EAAUf,GAAgBQ,CAAK,EAAE,IACjCQ,EAASC,GAAYJ,CAAM,EAC3BK,EAAWvB,GAAG,SAASoB,CAAO,EAChCI,EAAaH,EAAO,IAAIE,CAAQ,EAChCpB,GAAU,CAACqB,EAAW,SAAS,IAC/BA,EAAaA,EAAW,OAAO,GAEnC,IAAMd,EAAKc,EAAW,MAAM,EAAI,EAChC,OAAOb,GAAeD,EAAID,CAAM,CACpC,CAyCO,SAASgB,GAAYC,EAAQ,CAChC,GAAI,CACA,IAAMC,EAAKC,GAAeF,EAAQ,OAAO,EACzC,OAAOG,GAAU,gBAAgB,QAAQF,CAAE,CAC/C,OACOG,EAAK,CACR,MAAM,IAAI,MAAM,mBAAqBJ,CAAM,CAC/C,CACJ,CACO,SAASK,GAAiBL,EAAQM,EAAQ,CAC7C,GAAI,CACA,IAAML,EAAKM,GAAgBP,CAAM,EACjC,OAAIC,EAAG,SAAW,IAAMK,IAAW,SACxBL,EAAG,MAAM,CAAC,EAEZA,EAAG,SAAW,IAAMK,IAAW,QAC7BL,EAAG,QAAQ,CAAI,EAGfA,CAEf,OACOG,EAAK,CACR,MAAM,IAAI,MAAM,mBAAqB,OAAOJ,CAAM,CAAC,CACvD,CACJ,CACO,SAASE,GAAeF,EAAQM,EAAQ,CAE3C,OADWD,GAAiBL,EAAQM,CAAM,EAChC,GACd,CACO,SAASE,GAAkBR,EAAQ,CACtC,IAAMC,EAAKM,GAAgBP,CAAM,EACjC,GAAIC,EAAG,SAAW,GACd,MAAO,QACX,GAAIA,EAAG,SAAW,GACd,MAAO,SACX,MAAM,IAAI,MAAM,mBAAqB,OAAOD,CAAM,CAAC,CACvD,CACO,SAASO,GAAgBE,EAAO,CACnC,GAAI,CACA,OAAOC,EAAK,MAAMD,CAAK,CAC3B,OACOL,EAAK,CACR,MAAM,IAAI,MAAM,kBAAoB,OAAOK,CAAK,CAAC,CACrD,CACJ,CCjIO,IAAIE,IACV,SAAUA,EAAO,CACd,SAASC,EAAMC,EAAK,CAChB,OAAIA,aAAe,MACRA,EAAI,QACX,OAAOA,GAAQ,SACRA,EACJ,OAAOA,CAAG,CACrB,CACAF,EAAM,MAAQC,EACd,SAASE,EAAKA,EAAMC,EAAQ,CACxB,OAAOA,EAAO,UAAUD,CAAI,CAChC,CACAH,EAAM,KAAOG,EACb,SAASE,EAAMF,EAAMC,EAAQ,CACzB,IAAME,EAASH,EAAK,IAAII,GAAKH,EAAO,UAAUG,CAAC,CAAC,EAC1CC,EAASF,EACV,OAAOC,GAAK,CAACA,EAAE,OAAO,EACtB,IAAIA,GAAKA,EAAE,MAAM,OAAO,IAAIE,GAAK,GAAG,OAAAA,EAAE,QAAO,MAAK,OAAAA,EAAE,KAAM,CAAC,EAChE,OAAQD,EAAO,SAAW,EACpB,CAAE,GAAI,GAAO,OAAAA,CAAO,EACpB,CAAE,GAAI,GAAM,KAAMF,EAAO,IAAIC,GAAKA,EAAE,IAAI,CAAE,CACpD,CACAP,EAAM,MAAQK,CAClB,GAAGL,KAAUA,GAAQ,CAAC,EAAE,EClBjB,SAASU,GAAoBC,EAAOC,EAAO,CAC9C,IAAMC,EAAM,IAAM,KAAK,OAAO,EAAI,GAAM,EAAI,GACtCC,EAAM,KAAK,IAAIH,EAAM,OAAQC,EAAQ,CAAC,EAC5C,OAAOD,EAAM,KAAKE,CAAG,EAAE,MAAM,EAAGC,CAAG,CACvC,CACO,SAASC,GAAmBC,EAAOC,EAAS,CAC/C,IAAMC,EAAUF,EAAM,QACjB,OAAOG,GAAKF,EAAQ,SAASG,GAAeD,EAAE,OAAQ,QAAQ,CAAC,CAAC,EAChE,IAAIA,GAAKA,EAAE,GAAG,EACnB,OAAAE,GAAO,GAAGH,EAAQ,SAAWD,EAAQ,OAAQ,yCAAyC,EAC/EC,CACX,CCZO,SAASI,GAAiBC,EAAO,CACpC,OAAOA,EAAM,IAAIC,GAAKA,EAAE,MAAM,CAClC,CACO,SAASC,GAAiBF,EAAO,CACpC,OAAOA,EACF,OAAOC,GAAKA,EAAE,OAAO,IAAI,EACzB,IAAIA,GAAKA,EAAE,MAAM,CAC1B,CACO,SAASE,GAAiBH,EAAO,CACpC,OAAOA,EACF,OAAOC,GAAKA,EAAE,OAAO,IAAI,EACzB,IAAIA,GAAKA,EAAE,MAAM,CAC1B,CCXA,eAAsBG,GAAiBC,EAAMC,EAAK,CAC9C,IAAMC,EAAaF,EAAK,OAAO,WAAW,KAC1C,GAAI,CACAA,EAAK,KAAK,oBAAqBG,GAASF,CAAG,CAAC,EACxC,OAAOC,GAAe,aACtBD,EAAMC,EAAWF,EAAMC,CAAG,GAE9B,GAAM,CAAE,QAAAG,EAAS,QAAAC,CAAQ,EAAIJ,EAAI,KAC3BK,EAAMN,EAAK,OAAO,eAAeI,EAASC,CAAO,EACjDE,EAAWC,GAAiB,CAC9B,KAAM,KAAK,UAAUF,CAAG,EACxB,GAAIL,EAAI,GACR,IAAK,WACT,CAAC,EACKQ,EAAM,MAAMT,EAAK,OAAO,QAAQO,EAAUN,EAAI,IAAI,MAAM,EAC9D,GAAI,CAACQ,EAAI,GACL,MAAM,IAAI,MAAM,4BAA4B,EAChDT,EAAK,KAAK,oBAAqBG,GAASM,EAAI,IAAI,CAAC,CACrD,OACOC,EAAK,CACJV,EAAK,OACL,QAAQ,IAAIU,CAAG,EACnBV,EAAK,KAAK,oBAAqB,CAACW,GAAYD,CAAG,EAAGP,GAASF,CAAG,CAAC,CAAC,CACpE,CACJ,CACO,SAASW,GAAiBZ,EAAM,CACnC,MAAO,OAAOK,EAASQ,IAAU,CAC7B,IAAMC,EAAQd,EAAK,MAAM,UACnBe,EAAWC,GAAiBhB,EAAK,KAAK,EACtCiB,EAAWC,GAAoBL,GAAA,KAAAA,IAAUE,EAAUD,CAAK,EACxDK,EAAYnB,EAAK,MAAM,KAAK,IAAIK,CAAO,EAC7C,GAAIc,IAAc,OACd,MAAO,CAAE,GAAI,GAAM,KAAMnB,EAAK,OAAO,OAAOmB,EAAWd,CAAO,CAAE,EAEpE,IAAMD,EAAUgB,GAAmBpB,EAAK,MAAO,CAACA,EAAK,OAAQ,GAAGiB,CAAQ,CAAC,EACnEI,EAAWrB,EAAK,OAAO,eAAeI,EAASC,CAAO,EACxDiB,EAAO,KACX,GAAI,CACAA,EAAO,MAAMC,GAAoBvB,EAAMiB,EAAUI,CAAQ,EACzDrB,EAAK,KAAK,mBAAoBG,GAASmB,CAAI,CAAC,CAChD,OACOZ,EAAK,CACJV,EAAK,OACL,QAAQ,IAAIU,CAAG,EACnB,IAAMc,EAASb,GAAYD,CAAG,EAC9B,OAAAV,EAAK,KAAK,mBAAoB,CAACwB,EAAQrB,GAASkB,CAAQ,CAAC,CAAC,EACnD,CAAE,GAAI,GAAO,IAAKG,CAAO,CACpC,CACA,GAAI,CACAC,GAAO,GAAGH,IAAS,KAAM,yBAAyB,EAClD,IAAMI,EAAO,CAACL,EAAU,GAAGC,EAAK,IAAIK,GAAKA,EAAE,IAAI,CAAC,EAC1CC,EAASC,GAAuBH,CAAI,EACpCI,EAAU9B,EAAK,OAAO,KAAK4B,EAAQvB,CAAO,EAChD,OAAAL,EAAK,MAAM,KAAK,IAAIK,EAASyB,CAAO,EACpC9B,EAAK,KAAK,mBAAoB,CAACK,EAASuB,CAAM,CAAC,EACxC,CAAE,GAAI,GAAM,KAAMA,CAAO,CACpC,OACOlB,EAAK,CACJV,EAAK,OACL,QAAQ,IAAIU,CAAG,EACnB,IAAMc,EAASb,GAAYD,CAAG,EAC9B,OAAAV,EAAK,KAAK,mBAAoB,CAACwB,EAAQrB,GAASmB,GAAA,KAAAA,EAAQ,CAAC,CAAC,CAAC,CAAC,EACrD,CAAE,GAAI,GAAO,IAAKE,CAAO,CACpC,CACJ,CACJ,CACA,eAAeD,GAAoBvB,EAAMa,EAAOP,EAAK,CACjD,IAAML,EAAM,CAAE,KAAM,KAAK,UAAUK,CAAG,EAAG,IAAK,WAAY,EACpDG,EAAM,MAAMT,EAAK,OAAO,UAAUC,EAAKY,CAAK,EAClD,GAAI,CAACJ,EAAI,IAAI,GACT,MAAM,IAAI,MAAMA,EAAI,IAAI,MAAM,EAClC,OAAOA,EAAI,IAAI,MAAM,IAAIkB,GAAK,CAC1B,IAAMI,EAASC,GAAmBL,CAAC,EACnC,OAAAF,GAAO,GAAGM,IAAW,KAAM,sCAAwCJ,EAAE,IAAI,MAAM,EACxEI,CACX,CAAC,CACL,CACA,SAASF,GAAuBH,EAAM,CAClC,OAAOO,GAAkBP,CAAI,CACjC,CC7DO,SAASQ,GAAiBC,EAAM,CACnC,MAAO,OAAOC,GAAc,CACxB,IAAIC,EAAM,KACV,GAAI,CACAA,EAAM,MAAMC,GAAoBH,EAAMC,CAAS,EAC/CD,EAAK,KAAK,mBAAoBE,CAAG,CACrC,OACOE,EAAK,CACJJ,EAAK,OACL,QAAQ,IAAII,CAAG,EACnB,IAAMC,EAASC,GAAYF,CAAG,EAC9B,OAAAJ,EAAK,KAAK,mBAAoB,CAACK,EAAQH,CAAG,CAAC,EACpC,CAAE,GAAI,GAAO,IAAKG,CAAO,CACpC,CACA,GAAI,CACA,OAAAE,GAAO,GAAGL,IAAQ,KAAM,uBAAuB,EAC/CF,EAAK,KAAK,mBAAoB,CAACE,EAAI,IAAI,CAAC,EACjC,CAAE,GAAI,GAAM,KAAMA,EAAI,IAAK,CACtC,OACOE,EAAK,CACJJ,EAAK,OACL,QAAQ,IAAII,CAAG,EACnB,IAAMC,EAASC,GAAYF,CAAG,EAC9B,OAAAJ,EAAK,KAAK,mBAAoB,CAACK,EAAQH,CAAG,CAAC,EACpC,CAAE,GAAI,GAAO,IAAKG,CAAO,CACpC,CACJ,CACJ,CACA,eAAeF,GAAoBH,EAAMC,EAAW,CAChD,IAAMO,EAAM,MAAMR,EAAK,OAAO,QAAQ,CAClC,KAAMC,EACN,IAAK,WACT,EAAGD,EAAK,OAAQ,CAAC,CAAC,EAClB,GAAI,CAACQ,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAC9B,OAAOA,EAAI,MAAM,CAAC,CACtB,CCzDA,eAAsBC,GAAiBC,EAAMC,EAAK,CAC9C,GAAI,CACAD,EAAK,KAAK,oBAAqBC,CAAG,EAClC,IAAMC,EAAYF,EAAK,MAAM,KAAKG,GAAKA,EAAE,SAAWF,EAAI,IAAI,MAAM,EAClE,GAAIC,IAAc,OACd,MAAM,IAAI,MAAM,qBAAqB,EACzC,IAAME,EAAWC,GAAiB,CAC9B,KAAM,KAAK,UAAUH,EAAU,MAAM,EACrC,GAAID,EAAI,GACR,IAAK,WACT,CAAC,EACKK,EAAM,MAAMN,EAAK,OAAO,QAAQI,EAAUH,EAAI,IAAI,MAAM,EAC9D,GAAI,CAACK,EAAI,GACL,MAAM,IAAI,MAAM,4BAA4B,EAChDN,EAAK,YAAYO,EAAAC,EAAA,GACVN,GADU,CAEb,OAAQ,SACR,QAASO,GAAI,CACjB,EAAC,EACDT,EAAK,KAAK,oBAAqBM,EAAI,IAAI,CAC3C,OACOI,EAAK,CACJV,EAAK,OACL,QAAQ,IAAIU,CAAG,EACnBV,EAAK,KAAK,oBAAqB,CAACW,GAAYD,CAAG,EAAGT,CAAG,CAAC,CAC1D,CACJ,CACO,SAASW,GAAiBZ,EAAM,CACnC,MAAO,OAAOa,GAAW,CACrB,IAAMX,EAAYF,EAAK,MAAM,KAAKG,GAAKA,EAAE,SAAWU,CAAM,EAC1DC,GAAO,OAAOZ,EAAW,qBAAqB,EAC9C,IAAID,EAAM,KACV,GAAI,CACAA,EAAM,MAAMc,GAAoBf,EAAMa,CAAM,EAC5Cb,EAAK,KAAK,mBAAoBC,CAAG,CACrC,OACOS,EAAK,CACJV,EAAK,OACL,QAAQ,IAAIU,CAAG,EACnB,IAAMM,EAASL,GAAYD,CAAG,EAC9B,OAAAV,EAAK,KAAK,mBAAoB,CAACgB,EAAQf,CAAG,CAAC,EACpC,CAAE,GAAI,GAAO,IAAKe,CAAO,CACpC,CACA,GAAI,CACAF,GAAO,GAAGb,IAAQ,KAAM,uBAAuB,EAC/C,IAAMgB,EAASC,GAAoBjB,CAAG,EACtC,GAAIgB,IAAW,KACX,MAAM,IAAI,MAAM,uBAAuB,EAC3C,IAAME,EAAWZ,EAAAC,EAAA,GACVN,GADU,CAEb,OAAQ,SACR,QAASO,GAAI,CACjB,GACA,OAAAT,EAAK,YAAYmB,CAAQ,EACzBnB,EAAK,KAAK,mBAAoBmB,CAAQ,EAC/B,CAAE,GAAI,GAAM,KAAMF,CAAO,CACpC,OACOP,EAAK,CACJV,EAAK,OACL,QAAQ,IAAIU,CAAG,EACnB,IAAMM,EAASL,GAAYD,CAAG,EAC9B,OAAAV,EAAK,KAAK,mBAAoB,CAACgB,EAAQf,CAAG,CAAC,EAC3CD,EAAK,YAAYO,EAAAC,EAAA,GACVN,GADU,CAEb,OAAQ,UACR,QAASO,GAAI,CACjB,EAAC,EACM,CAAE,GAAI,GAAO,IAAKO,CAAO,CACpC,CACJ,CACJ,CACA,eAAeD,GAAoBf,EAAMa,EAAQ,CAC7C,IAAMP,EAAM,MAAMN,EAAK,OAAO,QAAQ,CAClC,KAAM,OACN,IAAK,WACT,EAAGa,EAAQ,CAAC,CAAC,EACb,GAAI,CAACP,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAC9B,OAAOA,EAAI,MAAM,CAAC,CACtB,CACA,SAASY,GAAoBjB,EAAK,CAC9B,GAAI,CACA,IAAMmB,EAAO,KAAK,MAAMnB,EAAI,IAAI,EAC1BoB,EAASC,GAAO,KAAK,OAAO,UAAUF,CAAI,EAChD,OAAKC,EAAO,QAELA,EAAO,KADH,IAEf,OACMlB,EAAA,CACF,OAAO,IACX,CACJ,CC5FO,SAASoB,GAAiBC,EAAS,CACtC,GAAI,MAAM,QAAQA,CAAO,EACrB,OAAOA,EAEN,GAAI,OAAOA,GAAY,SACxB,MAAO,CAACA,CAAO,EAGf,MAAM,IAAI,MAAM,yBAAyB,CAEjD,CACO,SAASC,GAAsBC,EAAYC,EAAQC,EAAQ,CAC9D,IAAMC,EAAYC,GAAmBJ,EAAYC,EAAO,IAAKC,CAAM,EAC7DG,EAAYC,GAAaL,EAAO,UAAWE,CAAS,EACpDI,EAAYD,GAAaL,EAAO,UAAWE,CAAS,EACpD,CAACK,CAAO,EAAIN,EAClB,OAAOO,EAAAC,EAAA,GAAKT,GAAL,CAAa,UAAAM,EAAW,UAAAF,EAAW,UAAAF,EAAW,QAAAK,EAAS,IAAKR,CAAW,EAClF,CACO,SAASW,GAAqBX,EAAYY,EAAOV,EAAQ,CAC5D,IAAMC,EAAYC,GAAmBJ,EAAYY,EAAM,IAAKV,CAAM,EAC5DW,EAAYC,GAAaF,EAAM,UAAWT,CAAS,EACnDY,EAAYD,GAAaF,EAAM,UAAWT,CAAS,EACnD,CAACK,CAAO,EAAIN,EAClB,OAAOO,EAAAC,EAAA,GAAKE,GAAL,CAAY,UAAAG,EAAW,UAAAF,EAAW,UAAAV,EAAW,QAAAK,EAAS,IAAKR,CAAW,EACjF,CACO,SAASI,GAAmBJ,EAAYgB,EAAYR,EAAS,CAChE,IAAMS,EAAMC,EAAK,MAAMlB,CAAU,EAC3BmB,EAAMD,EAAK,IAAIF,EAAY,CAAC,EAC5BI,EAAMF,EAAK,KAAKV,CAAO,EAE7B,OADYU,EAAK,KAAK,CAACD,EAAKE,EAAKC,CAAG,CAAC,EAC1B,OAAO,GACtB,CC7BO,SAASC,GAAaC,EAAO,CAChC,IAAMC,EAASC,GAAmBF,EAAM,OAAO,EAE/C,OADeG,EAAK,KAAK,CAACF,EAAQD,EAAM,QAAQ,CAAC,EACnC,OAAO,GACzB,CAMO,SAASI,GAAkBC,EAASC,EAAK,CAC5C,IAAMC,EAASF,EAAQ,KAAKG,GAAKA,EAAE,MAAQF,CAAG,EAC9C,OAAAG,GAAO,OAAOF,EAAQ,qCAAuCD,CAAG,EACzDC,CACX,CCZO,IAAMG,GAA6B,KAC/B,CACH,QAAS,KACT,MAAOC,GAAI,EACX,KAAM,SACV,GAEG,SAASC,GAAwBC,EAASC,EAAUC,EAAU,CAAC,EAAG,CACrE,IAAMC,EAAS,OAAOF,GAAa,SAC7B,CAAC,CAACA,CAAQ,CAAC,EACXA,EAEAG,EADSC,GAAO,KAAK,SACL,UAAUC,EAAAC,IAAA,GACzBV,GAA2B,GAC3BK,GAFyB,CAG5B,OAAQC,EACR,QAASH,EAAQ,KAAK,CAC1B,EAAC,EACD,OAAOI,EAAO,QAAUA,EAAO,KAAO,IAC1C,CACO,SAASI,GAAmBC,EAAOC,EAAU,CAChD,IAAMC,EAAMC,GAAaH,CAAK,EACxBI,EAAMC,GAAeH,EAAKD,CAAQ,EACxC,OAAOJ,EAAAC,EAAA,GAAKG,GAAL,CAAe,IAAAC,EAAK,IAAAE,CAAI,EACnC,CAMO,SAASE,GAAeC,EAAUC,EAAU,CApCnD,IAAAC,EAqCI,IAAMC,EAAOF,EAAS,QAAQ,IAAIG,GAAKC,EAAK,MAAMD,CAAC,CAAC,EAC9CE,EAAOL,EAAS,OAAO,IAAIG,GAAKC,EAAK,KAAKD,CAAC,CAAC,EAC5CG,EAAOF,EAAK,OAAMH,EAAAD,EAAS,UAAT,KAAAC,EAAoB,IAAI,EAC1CM,EAAOH,EAAK,IAAIJ,EAAS,IAAI,EAC7BQ,EAAKJ,EAAK,IAAIJ,EAAS,MAAO,CAAC,EAErC,OADaI,EAAK,KAAK,CAACL,EAAU,GAAGG,EAAM,GAAGG,EAAMC,EAAMC,EAAMC,CAAE,CAAC,EACvD,OAAO,GACvB,CACO,SAASC,GAAsBC,EAAOC,EAASC,EAAK,CACvD,IAAMC,EAASC,GAAkBJ,EAAM,QAASE,CAAG,EACnD,OAAOD,EAAQ,OAAO,IAAII,GAAOC,GAAsBL,EAAQ,IAAKE,EAAQE,CAAG,CAAC,CACpF,CACO,SAASE,GAAqBN,EAASO,EAAO,CACjD,OAAOP,EAAQ,OAAO,IAAII,GAAOI,GAAqBR,EAAQ,IAAKO,EAAOH,CAAG,CAAC,CAClF,CACO,SAASK,GAAuBV,EAAOC,EAAS,CACnD,OAAOA,EAAQ,QACV,IAAIC,GAAOH,GAAsBC,EAAOC,EAASC,CAAG,CAAC,EACrD,KAAK,CACd,CACO,SAASS,GAAgBX,EAAOC,EAAS,CAC5C,IAAMW,EAAUZ,EAAM,QAAQ,IAAIP,GAAKA,EAAE,MAAM,EACzCoB,EAAkBH,GAAuBV,EAAOC,CAAO,EACvDa,EAAS,IAAI,IACnB,QAAWT,KAAOJ,EAAQ,OAAQ,CAC9B,GAAM,CAACc,EAAS,GAAGC,CAAM,EAAIX,EACvBY,EAAkBJ,EAAgB,OAAOpB,GAAKA,EAAE,UAAYsB,CAAO,EACnEG,EAAUC,GAAsBnB,EAAM,SAAUiB,EAAiBF,EAASC,CAAM,EACtFF,EAAO,IAAIC,EAASG,CAAO,CAC/B,CACA,MAAO,CAAE,QAAAN,EAAS,QAAAX,EAAS,OAAAa,CAAO,CACtC,CChEO,SAASM,GAAgBC,EAAKC,EAAO,CACxC,IAAMC,EAAMF,EAAI,QAAQ,IAClBG,EAASC,GAAWH,EAAM,OAAQ,OAAO,EACzCI,EAAYL,EAAI,QAAQ,OAAO,IAAIM,GAAKA,EAAE,CAAC,CAAC,EAC5CC,EAAaC,GAAqBR,EAAI,QAASC,CAAK,EACpDQ,EAAQJ,EAAU,IAAIK,GAAW,CACnC,IAAMC,EAAYJ,EAAW,KAAKD,GAAKA,EAAE,UAAYI,CAAO,EACtDE,EAAUZ,EAAI,OAAO,IAAIU,CAAO,EACtCG,GAAO,OAAOF,EAAW,gCAAkCD,CAAO,EAClEG,GAAO,OAAOD,EAAS,kCAAoCF,CAAO,EAClE,IAAMI,EAAOC,GAAmBH,EAASD,CAAS,EAClD,MAAO,CAACD,EAASI,CAAI,CACzB,CAAC,EACD,MAAO,CAAE,IAAKb,EAAM,IAAK,MAAAQ,EAAO,OAAAN,EAAQ,IAAAD,CAAI,CAChD,CACO,SAASc,GAAgBhB,EAAKiB,EAAK,CACtC,GAAM,CAAE,IAAAC,EAAK,MAAAT,EAAO,OAAAN,EAAQ,IAAAD,CAAI,EAAIe,EACpC,GAAIf,IAAQF,EAAI,QAAQ,IACpB,MAAO,sBACX,GAAI,CAACA,EAAI,QAAQ,SAASG,CAAM,EAC5B,MAAO,4BACX,OAAW,CAACO,EAASS,CAAM,IAAKnB,EAAI,OAAO,QAAQ,EAAG,CAClD,IAAMoB,EAAaX,EAAM,KAAKH,GAAKA,EAAE,CAAC,IAAMI,CAAO,EACnD,GAAIU,IAAe,OACf,MAAO,kDAAoDV,EAC/D,IAAMW,EAASF,EAAO,QAAQ,KAAKb,GAAKA,EAAE,MAAQY,CAAG,EACrD,GAAIG,IAAW,OACX,MAAO,0CAA4CH,EACvD,GAAI,CAACI,GAAmBH,EAAQE,EAAQlB,EAAQiB,EAAW,CAAC,CAAC,EACzD,MAAO,2BACf,CACA,OAAO,IACX,CACO,SAASG,GAAoBC,EAAM,CACtC,OAAOA,EAAK,IAAI,CAAC,CAAE,IAAAN,EAAK,MAAAT,EAAO,OAAAN,EAAQ,IAAAD,CAAI,IAChCO,EAAM,IAAI,CAAC,CAACC,EAASI,CAAI,KAAO,CAAE,QAAAJ,EAAS,IAAAQ,EAAK,OAAAf,EAAQ,KAAAW,EAAM,IAAAZ,CAAI,EAAE,CAC9E,EAAE,KAAK,CACZ,CACO,SAASuB,GAAuBzB,EAAKwB,EAAM,CAC9C,IAAME,EAAQ1B,EAAI,QAAQ,QAAQ,OAC5B2B,EAAUJ,GAAoBC,CAAI,EAClCI,EAAO,CAAC,EACd,OAAW,CAAClB,EAASS,CAAM,IAAKnB,EAAI,OAAO,QAAQ,EAAG,CAClD,IAAMS,EAAQkB,EAAQ,OAAOrB,GAAKA,EAAE,UAAYI,CAAO,EACvDG,GAAO,GAAGJ,EAAM,SAAWiB,EAAO,2CAA6ChB,CAAO,EACtF,IAAMP,EAASgB,EAAO,SAChBU,EAAMC,GAAqBX,EAAQV,CAAK,EAC9CmB,EAAK,KAAK,CAAClB,EAASP,EAAQ0B,CAAG,CAAC,CACpC,CACA,OAAOD,CACX,CACO,SAASb,GAAmBf,EAAKC,EAAO,CAC3C,GAAM,CAAE,IAAAiB,EAAK,UAAAa,EAAW,UAAAC,EAAW,OAAAC,CAAO,EAAIhC,EAI9C,OADiBiC,GAASlC,EAFT,CAAE,IAAAkB,EAAK,OAAAe,CAAO,EACd,CAAE,IAAAf,EAAK,UAAAa,EAAW,UAAAC,CAAU,CACI,EACjC,IACpB,CCrDA,eAAsBG,GAAiBC,EAAMC,EAAK,CAC9C,IAAMC,EAAaF,EAAK,OAAO,WAAW,KAC1C,GAAI,CACAA,EAAK,KAAK,oBAAqBG,GAASF,CAAG,CAAC,EACxC,OAAOC,GAAe,aACtBD,EAAMC,EAAWF,EAAMC,CAAG,GAE9B,IAAMG,EAAMJ,EAAK,OAAO,aAAaC,EAAI,IAAI,EACvCI,EAAWC,GAAiB,CAC9B,KAAM,KAAK,UAAUF,CAAG,EACxB,GAAIH,EAAI,GACR,IAAK,WACT,CAAC,EACKM,EAAM,MAAMP,EAAK,OAAO,QAAQK,EAAUJ,EAAI,IAAI,MAAM,EAC9D,GAAI,CAACM,EAAI,GACL,MAAM,IAAI,MAAM,4BAA4B,EAChDP,EAAK,KAAK,oBAAqBG,GAASI,EAAI,IAAI,CAAC,CACrD,OACOC,EAAK,CACJR,EAAK,OACL,QAAQ,IAAIQ,CAAG,EACnBR,EAAK,KAAK,oBAAqB,CAACS,GAAYD,CAAG,EAAGL,GAASF,CAAG,CAAC,CAAC,CACpE,CACJ,CACO,SAASS,GAAeV,EAAM,CACjC,MAAO,OAAOW,GAAY,CACtB,IAAMC,EAASC,GAAiBF,CAAO,EACvC,OAAOX,EAAK,MAAM,KAAKY,CAAM,CACjC,CACJ,CACO,SAASE,GAAiBd,EAAM,CACnC,MAAO,OAAOW,EAASI,EAAU,CAAC,IAAM,CAvC5C,IAAAC,EAwCQ,IAAMC,EAAU,OAAON,GAAY,SAAW,CAAC,CAACA,CAAO,CAAC,EAAIA,EACtDO,EAAWC,GAAiBnB,EAAK,KAAK,EACtCoB,GAAQJ,EAAAD,EAAQ,QAAR,KAAAC,EAAAD,EAAQ,MAAUG,EAC1BG,EAAQrB,EAAK,MAAM,UACnBsB,EAAWC,GAAoBH,EAAOC,CAAK,EAC3CG,EAAUC,GAAmBzB,EAAK,MAAO,CAACA,EAAK,OAAQ,GAAGsB,CAAQ,CAAC,EACnEI,EAAWC,GAAwBH,EAASP,EAASF,CAAO,EAClEa,GAAO,GAAGF,IAAa,KAAM,0BAA0B,EACvD,IAAMG,EAAUC,GAAmB9B,EAAK,MAAO0B,CAAQ,EACnDK,EAAO,KACX,GAAI,CACAA,EAAO,MAAMC,GAAoBhC,EAAMsB,EAAUO,CAAO,EACxD7B,EAAK,KAAK,mBAAoBG,GAAS4B,CAAI,CAAC,CAChD,OACOvB,EAAK,CACJR,EAAK,OACL,QAAQ,IAAIQ,CAAG,EACnB,IAAMyB,EAASxB,GAAYD,CAAG,EAC9B,OAAAR,EAAK,KAAK,mBAAoB,CAACiC,EAAQJ,CAAO,CAAC,EACxC,CAAE,GAAI,GAAO,IAAKI,CAAO,CACpC,CACA,GAAI,CACAL,GAAO,GAAGG,IAAS,KAAM,yBAAyB,EAClD,IAAMG,EAAOC,GAAuBnC,EAAM+B,EAAMF,CAAO,EACvD,OAAA7B,EAAK,KAAK,mBAAoB,CAAC6B,EAAQ,IAAKK,CAAI,CAAC,EAC1C,CAAE,GAAI,GAAM,KAAMA,CAAK,CAClC,OACO1B,EAAK,CACJR,EAAK,OACL,QAAQ,IAAIQ,CAAG,EACnB,IAAMyB,EAASxB,GAAYD,CAAG,EAC9B,OAAAR,EAAK,KAAK,mBAAoB,CAACiC,EAAQF,GAAA,KAAAA,EAAQ,CAAC,CAAC,CAAC,EAC3C,CAAE,GAAI,GAAO,IAAKE,CAAO,CACpC,CACJ,CACJ,CACA,eAAeD,GAAoBhC,EAAMoB,EAAOS,EAAS,CACrD,IAAMtB,EAAM,MAAMP,EAAK,OAAO,UAAU,CACpC,KAAM,KAAK,UAAU6B,CAAO,EAC5B,IAAK,WACT,EAAGT,CAAK,EACR,GAAI,CAACb,EAAI,IAAI,GACT,MAAM,IAAI,MAAMA,EAAI,IAAI,MAAM,EAClC,OAAOA,EAAI,IAAI,KACnB,CACA,SAAS4B,GAAuBnC,EAAMoC,EAAWP,EAAS,CACtD,IAAMQ,EAAMC,GAAgBtC,EAAK,MAAO6B,CAAO,EACzCU,EAAO,CAACvC,EAAK,OAAO,aAAa6B,CAAO,CAAC,EAC/C,OAAAO,EAAU,QAAQI,GAAK,CACnB,IAAMC,EAASC,GAAmBF,CAAC,EAC7BG,EAAQC,GAAgBP,EAAKI,EAAO,IAAI,EAC9Cb,GAAO,GAAGe,IAAU,KAAMA,EAAQ,MAAQH,EAAE,IAAI,MAAM,EACtDD,EAAK,KAAKE,EAAO,IAAI,CACzB,CAAC,EACMI,GAAuBR,EAAKE,CAAI,CAC3C,CC/FO,IAAMO,GAAN,KAAmB,CACtB,aAAc,CACV,KAAK,SAAW,IAAI,GACxB,CACA,oBAAoBC,EAAW,CAC3B,IAAMC,EAAW,KAAK,SAAS,IAAID,CAAS,EAC5C,GAAI,CAACC,EAAU,CACX,IAAMC,EAAc,IAAI,IACxB,YAAK,SAAS,IAAIF,EAAWE,CAAW,EACjCA,CACX,CACA,OAAOD,CACX,CACA,IAAID,EAAW,CACX,IAAMC,EAAW,KAAK,SAAS,IAAID,CAAS,EAC5C,OAAOC,IAAa,QAAaA,EAAS,KAAO,CACrD,CACA,GAAGD,EAAWG,EAAS,CACnB,KAAK,oBAAoBH,CAAS,EAAE,IAAIG,CAAO,CACnD,CACA,KAAKH,EAAWG,EAAS,CACrB,IAAMC,GAAiBC,GAAY,CAC/B,KAAK,IAAIL,EAAWI,CAAY,EAC3BE,GAAeH,EAASE,CAAO,CACxC,GACA,KAAK,GAAGL,EAAWI,CAAY,CACnC,CACA,OAAOJ,EAAWG,EAASI,EAAW,CAClC,IAAMC,GAAoBH,GAAY,CAC7BC,GAAeH,EAASE,CAAO,CACxC,GACA,WAAW,IAAM,CACb,KAAK,IAAIL,EAAWQ,CAAe,CACvC,EAAGD,CAAS,EACZ,KAAK,GAAGP,EAAWQ,CAAe,CACtC,CACA,KAAKR,EAAWK,EAAS,CACrB,IAAMI,EAAW,CAAC,EAClB,KAAK,oBAAoBT,CAAS,EAAE,QAAQG,GAAW,CACnD,IAAMO,EAASJ,GAAeH,EAASE,CAAO,EAC1CK,aAAkB,SAClBD,EAAS,KAAKC,CAAM,CAE5B,CAAC,EACD,KAAK,oBAAoB,GAAG,EAAE,QAAQP,GAAW,CAC7C,IAAMO,EAASJ,GAAeH,EAAS,CAACH,EAAWK,CAAO,CAAC,EACvDK,aAAkB,SAClBD,EAAS,KAAKC,CAAM,CAE5B,CAAC,EACI,QAAQ,WAAWD,CAAQ,CACpC,CACA,IAAIT,EAAWG,EAAS,CACpB,KAAK,oBAAoBH,CAAS,EAAE,OAAOG,CAAO,CACtD,CACA,MAAMH,EAAW,CACb,KAAK,SAAS,OAAOA,CAAS,CAClC,CACJ,EACA,SAASM,GAAeH,EAASE,EAAS,CACtC,OAAI,MAAM,QAAQA,CAAO,GAAKA,EAAQ,OAAS,EACpCF,EAAQ,MAAM,KAAME,CAAO,EAE/BF,EAAQE,CAAO,CAC1B,CCxDA,IAAMM,GAAgB,KACX,CAAC,GAECC,GAAN,KAAoB,CACvB,YAAYC,EAAOC,EAAOC,EAAS,CAC/B,KAAK,QAAUC,IAAA,GAAKL,GAAc,GAAMI,GACxC,KAAK,OAASE,GAAgBJ,CAAK,EACnC,KAAK,OAASK,GAAgBJ,CAAK,EACnC,KAAK,QAAUK,GAAW,KAAK,OAAO,OAAQ,QAAQ,CAC1D,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,MAChB,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,eAAeC,EAASC,EAAS,CAC7B,OAAOC,GAAgBF,EAASC,EAAS,KAAK,MAAM,CACxD,CACA,aAAaE,EAASC,EAAS,CAC3B,IAAMC,EAAMC,GAAQ,KAAKH,EAAS,KAAK,OAAO,OAAQC,CAAO,EAC7D,OAAO,IAAIG,EAAKF,CAAG,EAAE,GACzB,CACA,aAAaG,EAAS,CAClB,IAAMC,EAAMC,GAAgB,KAAK,OAAQF,CAAO,EAChD,OAAOG,GAAgBF,EAAK,KAAK,MAAM,CAC3C,CACA,OAAOG,EAASC,EAAQ,CACpB,IAAMC,EAAS,KAAK,OAAO,OACrBC,EAASC,GAAkBF,EAAQD,CAAM,EAC/C,OAAOI,GAAgBF,EAAQH,CAAO,CAC1C,CACA,KAAKA,EAASC,EAAQ,CAClB,IAAMC,EAAS,KAAK,OAAO,OACrBC,EAASC,GAAkBF,EAAQD,CAAM,EAC/C,OAAOK,GAAgBH,EAAQH,CAAO,CAC1C,CACJ,EChDO,IAAMO,GAAN,KAAkB,CACrB,YAAYC,EAAM,CACd,KAAK,MAAQA,EACb,KAAK,MAAQA,EAAK,OAAO,UACzB,KAAK,OAAS,CAAC,EACf,KAAK,OAAS,IAClB,CACA,IAAI,MAAO,CACP,OAAO,KAAK,KAChB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,MAChB,CACA,MAAM,KAAKC,EAAQ,CACf,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,KAAK,OAAO,KAAK,CAAE,OAAAF,EAAQ,QAAAC,EAAS,OAAAC,CAAO,CAAC,EAC5C,KAAK,SAAS,CAClB,CAAC,CACL,CACA,MAAM,SAAU,CACZ,IAAMC,EAAQ,CAAC,GAAG,KAAK,MAAM,EAG7B,GAFA,KAAK,OAAS,CAAC,EACf,KAAK,OAAS,KACVA,EAAM,SAAW,EAErB,MAAK,KAAK,KAAK,OAAQ,4BAA8B,OAAOA,EAAM,IAAIC,GAAOA,EAAI,OAAO,CAAC,CAAC,CAAC,CAAC,EAC5F,GAAI,CACA,IAAMC,EAAMF,EAAM,IAAIC,GAAOA,EAAI,MAAM,EACjCE,EAAM,MAAM,KAAK,KAAK,IAAI,KAAKD,CAAG,EACxC,GAAI,CAACC,EAAI,GAAI,CACTH,EAAM,QAAQC,GAAOA,EAAI,OAAOE,EAAI,GAAG,CAAC,EACxC,MACJ,CACAH,EAAM,QAAQC,GAAO,CACjB,IAAMG,EAAYD,EAAI,KAAK,KAAKE,GAAKA,EAAE,CAAC,IAAMJ,EAAI,OAAO,CAAC,CAAC,EACvDG,IAAc,OACdH,EAAI,QAAQG,CAAS,EAGrBH,EAAI,OAAO,iCAAiC,CAEpD,CAAC,CACL,OACOK,EAAK,CACRN,EAAM,QAAQC,GAAOA,EAAI,OAAOK,EAAI,OAAO,CAAC,CAChD,EACJ,CACA,UAAW,CACH,KAAK,QAAU,OACf,KAAK,OAAS,WAAW,IAAM,KAAK,QAAQ,EAAG,KAAK,KAAK,EAEjE,CACJ,ECpDA,IAAqBC,GAArB,KAAkC,CAC9B,aAAc,CACV,KAAK,SAAW,IAAI,GACxB,CACA,iBAAiBC,EAAW,CACxB,IAAMC,EAAW,KAAK,SAAS,IAAID,CAAS,EAC5C,GAAI,CAACC,EAAU,CACX,IAAMC,EAAc,IAAI,IACxB,YAAK,SAAS,IAAIF,EAAWE,CAAW,EACjCA,CACX,CACA,OAAOD,CACX,CACA,IAAID,EAAW,CACX,IAAMC,EAAW,KAAK,SAAS,IAAID,CAAS,EAC5C,OAAOC,IAAa,QAAaA,EAAS,KAAO,CACrD,CACA,GAAGD,EAAWG,EAAS,CACnB,KAAK,iBAAiBH,CAAS,EAAE,IAAIG,CAAO,CAChD,CACA,KAAKH,EAAWG,EAAS,CACrB,IAAMC,EAAkBC,GAAY,CAChC,KAAK,IAAIL,EAAWI,CAAc,EAC7BD,EAAQE,CAAO,CACxB,EACA,KAAK,GAAGL,EAAWI,CAAc,CACrC,CACA,OAAOJ,EAAWG,EAASG,EAAW,CAClC,IAAMC,EAAkBF,GAAY,CAC3BF,EAAQE,CAAO,CACxB,EACA,WAAW,IAAM,CACb,KAAK,IAAIL,EAAWO,CAAc,CACtC,EAAGD,CAAS,EACZ,KAAK,GAAGN,EAAWO,CAAc,CACrC,CACA,KAAKP,EAAWK,EAAS,CACrB,IAAMG,EAAW,CAAC,EAClB,KAAK,iBAAiBR,CAAS,EAAE,QAAQG,GAAW,CAChD,IAAMM,EAASN,EAAQE,CAAO,EAC1BI,aAAkB,SAClBD,EAAS,KAAKC,CAAM,CAE5B,CAAC,EACD,KAAK,iBAAiB,GAAG,EAAE,QAAQN,GAAW,CAC1C,IAAMM,EAASN,EAAQH,EAAWK,CAAO,EACrCI,aAAkB,SAClBD,EAAS,KAAKC,CAAM,CAE5B,CAAC,EACI,QAAQ,WAAWD,CAAQ,CACpC,CACA,IAAIR,EAAWG,EAAS,CACpB,KAAK,iBAAiBH,CAAS,EAAE,OAAOG,CAAO,CACnD,CACA,MAAMH,EAAW,CACb,KAAK,SAAS,OAAOA,CAAS,CAClC,CACJ,ECjDA,IAAMU,GAAc,KACT,CACH,SAAU,CACN,KAAM,MACN,KAAM,CAAC,CACX,EACA,OAAQ,CACJ,MAAO,CAAC,KAAK,EACb,MAAYC,GAAI,CACpB,EACA,YAAa,IACb,aAAc,EACd,YAAa,GACjB,GAEiBC,GAArB,cAAuCC,EAAa,CAChD,YAAYC,EAAQC,EAAQC,EAAU,CAAC,EAAG,CACtC,MAAM,EACN,KAAK,OAAS,CACV,MAAO,IAAIH,GACX,GAAI,IAAIA,GACR,KAAM,IAAIA,GACV,IAAK,IAAIA,EACb,EACA,KAAK,KAAO,KACZ,KAAK,SAAYI,GAAU,CACvB,GAAI,CACA,IAAMC,EAAUC,GAAgBF,EAAO,KAAK,QAAQ,GAAG,EACjDG,EAAMC,GAAeH,EAASD,CAAK,EACzC,KAAK,KAAK,UAAWG,CAAG,EACxB,KAAK,MAAM,GAAG,KAAKA,EAAI,GAAIA,CAAG,EAC9B,KAAK,MAAM,KAAK,KAAKA,EAAI,IAAI,OAAQA,CAAG,EACxC,KAAK,MAAM,IAAI,KAAKA,EAAI,IAAKA,CAAG,CACpC,OACOE,EAAK,CACR,KAAK,KAAK,UAAW,CAACL,EAAM,GAASM,GAAYD,CAAG,CAAC,CAAC,CAC1D,CACJ,EACA,KAAK,SAAW,MAAOE,EAASC,EAAST,IAAY,CA/C7D,IAAAU,EAgDY,IAAMC,GAAQD,EAAAV,GAAA,YAAAA,EAAS,QAAT,KAAAU,EAAkB,IAAI,IAC9BE,EAASC,GAAiB,KAAMb,CAAO,EACvCE,EAAUY,GAAeN,EAAQ,IAAKA,EAAQ,KAAMA,EAAQ,EAAE,EAC9DP,EAAQc,GAAaH,EAAQV,EAASO,EAAS,KAAK,QAAQ,GAAG,EAC/DO,EAASC,EAAAC,EAAA,GAAKV,GAAL,CAAc,IAAKP,CAAM,GAClCkB,EAAW,KAAK,MAAM,QAAQ,KAAK,OAAQlB,CAAK,EACtD,YAAK,OAAO,MAAM,KAAK,YAAae,CAAM,EACnC,QAAQ,IAAIG,CAAQ,EAAE,KAAKC,GAAQ,CACtC,IAAMC,EAAQ,KAAK,OAAO,OAAOC,GAAK,CAACF,EAAK,SAASE,CAAC,CAAC,EACjDC,EAASf,EAAQ,GACjBgB,EAAKJ,EAAK,OAAS,EACnBK,EAAM,CAAE,KAAAL,EAAM,MAAAC,EAAO,GAAAG,EAAI,QAAAf,EAAS,KAAMO,CAAO,EACrD,OAAAL,EAAM,IAAIF,EAASgB,CAAG,EACtB,KAAK,OAAO,MAAM,KAAK,UAAWR,EAAAC,EAAA,GAAKO,GAAL,CAAU,OAAAF,CAAO,EAAC,EAC7CN,EAAAC,EAAA,GAAKO,GAAL,CAAU,GAAAD,EAAI,OAAAD,CAAO,EAChC,CAAC,CACL,EACAG,GAAc5B,CAAM,EACpB6B,GAAc5B,CAAM,EACpB,KAAK,QAAU,IAAI6B,EAAK7B,CAAM,EAC9B,KAAK,QAAU8B,GAAW,KAAK,QAAQ,GAAG,EAC1C,KAAK,QAAUC,GAAgB9B,CAAO,EACtC,KAAK,QAAU+B,GAAkB,KAAM/B,EAAQ,MAAM,EACrD,KAAK,MAAQ,IAAIgC,GACjB,KAAK,QAAUlC,EACf,KAAK,KAAK,OAAQ,CAAC,UAAW,KAAK,UAAU,KAAK,OAAQ,KAAM,CAAC,CAAC,CAAC,CACvE,CACA,WAAWmC,EAAQC,EAAU,KAAK,OAAO,YAAaC,EAASC,GAAe,EAAG,CA3ErF,IAAA1B,EA4EQ,YAAK,QAAUqB,GAAkB,KAAME,CAAM,EAC7C,KAAK,OAAO,IAAI,EAAI,CAAC,IAAGvB,EAAA,KAAK,OAAO,IAAI,IAAhB,KAAAA,EAAqB,CAAC,EAAG,KAAK,MAAM,EAC5D,KAAK,KAAO,KAAK,MAAM,cAAc,KAAK,OAAQ,CAAC,KAAK,OAAO,EAAG,CAC9D,GAAIyB,EACJ,OAAQ,IAAM,KAAK,KAAK,aAAc,CAACA,EAAQ,KAAK,MAAM,CAAC,EAC3D,QAAS,KAAK,QAClB,CAAC,EACM,IAAI,QAAQE,GAAW,CAC1B,IAAMC,EAAQ,WAAW,IAAMD,EAAQ,SAAS,EAAGH,CAAO,EACpDK,EAAYC,GAAW,CAAE,aAAaF,CAAK,EAAGD,EAAQG,CAAM,CAAG,EACrE,KAAK,OAAO,aAAc,CAAC,CAACC,CAAE,IAAM,CAC5BA,IAAON,GACPI,EAAS,IAAI,CACrB,EAAGL,CAAO,CACd,CAAC,CACL,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,MAChB,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,MAAM,UAAU1B,EAASkC,EAAO1C,EAAS,CACrC,IAAMW,EAAQ,IAAI,IACZP,EAAMuC,GAAiBnC,CAAO,EAC9BoC,EAASF,EAAM,IAAIG,GAAM,KAAK,SAASzC,EAAKyC,EAAI7C,CAAO,CAAC,EAC9D,OAAO,QAAQ,IAAI4C,CAAM,EAAE,KAAKE,GAAW,CAEvC,IAAMrB,EAAM,CAAE,GADHqB,EAAQ,MAAMxB,GAAKA,EAAE,EAAE,EAChB,MAAAX,EAAO,OAAQP,EAAI,GAAI,MAAAsC,CAAM,EAC/C,OAAAI,EAAQ,QAAQxB,GAAKX,EAAM,IAAIW,EAAE,QAASA,CAAC,CAAC,EAC5C,KAAK,KAAK,YAAaG,CAAG,EACnBP,EAAA,GAAKO,EAChB,CAAC,CACL,CACA,MAAM,QAAQS,EAAU,KAAK,OAAO,YAAa,CAC7C,IAAMT,EAAM,MAAM,KAAK,WAAW,KAAK,QAASS,CAAO,EACvD,GAAIT,IAAQ,KACR,MAAM,IAAI,MAAMA,CAAG,EACvB,YAAK,KAAK,QAAS,IAAI,EAChB,IACX,CACA,MAAM,OAAQ,CACN,KAAK,OAAS,MACd,KAAK,KAAK,MAAM,EAEhB,KAAK,MAAM,QAAU,QACrB,KAAK,MAAM,MAAM,KAAK,MAAM,EAEhC,KAAK,KAAK,QAAS,IAAI,CAC3B,CACA,MAAM,QAAQjB,EAASC,EAAST,EAAS,CACrC,IAAMI,EAAMuC,GAAiBnC,CAAO,EAC9BuC,EAAU,KAAK,UAAU,CAAE,GAAI3C,EAAI,GAAI,MAAO,CAACK,CAAO,CAAE,EAAGT,CAAO,EACxE,YAAK,QAAQI,EAAKK,EAAST,CAAO,EAC3B+C,CACX,CACA,MAAM,UAAUvC,EAASkC,EAAO1C,EAAU,CAAC,EAAG,CAC1C,IAAMI,EAAMuC,GAAiBnC,CAAO,EAC9BwC,EAAM,KAAK,UAAU,CAAE,GAAI5C,EAAI,GAAI,MAAAsC,CAAM,EAAG1C,CAAO,EACnDiD,EAAM,KAAK,UAAU7C,EAAKsC,EAAO1C,CAAO,EAC9C,OAAO,QAAQ,IAAI,CAACgD,EAAKC,CAAG,CAAC,EAAE,KAAK,CAAC,CAACD,EAAKC,CAAG,KACnC,CAAE,IAAAD,EAAK,IAAAC,CAAI,EACrB,CACL,CACA,MAAM,QAAQzC,EAAS0C,EAAQlD,EAAS,CACpC,IAAMI,EAAMuC,GAAiBnC,CAAO,EACpC,OAAO,KAAK,SAASJ,EAAK8C,EAAQlD,CAAO,CAC7C,CACA,MAAM,UAAUiC,EAAQjC,EAAS,CAC7B,IAAMY,EAASuC,GAAe,KAAMnD,CAAO,EAC3C,OAAO,IAAI,QAAQqC,GAAW,CAC1B,GAAM,CAAE,QAAAH,EAAS,UAAAkB,CAAU,EAAIxC,EACzB,CAAE,GAAA6B,EAAI,MAAAC,EAAQ,CAAC,EAAG,IAAAW,CAAI,EAAIpB,EAC1BqB,EAAU,IAAI,IACdC,EAAQ,IAAI,IACZjB,EAAQ,WAAW,IAAMC,EAAS,GAAO,SAAS,EAAGL,CAAO,EAC5DK,EAAW,CAACf,EAAIgB,IAAW,CAC7B,aAAaF,CAAK,EAClB,IAAMb,EAAM,CACR,GAAAD,EACA,QAAS,MAAM,KAAK8B,CAAO,EAC3B,MAAO,MAAM,KAAKC,CAAK,EACvB,MAAAb,EACA,OAAAF,CACJ,EACA,KAAK,KAAK,WAAYf,CAAG,EACzBY,EAAQnB,EAAA,GAAKO,EAAK,CACtB,EACM+B,EAAapD,GAAU,OAAOqC,GAAO,UAAYA,IAAOrC,EAAI,IAC7D,OAAOiD,GAAQ,UAAYA,IAAQjD,EAAI,KACvCsC,EAAM,OAAS,GAAK,CAACA,EAAM,SAAStC,EAAI,IAAI,MAAM,EACvD,KAAK,OAAO,UAAYA,GAAQ,CACvBoD,EAAUpD,CAAG,IACdkD,EAAQ,IAAIlD,EAAI,IAAI,MAAM,EAC1BmD,EAAM,IAAInD,CAAG,GAEb,OAAOgD,GAAc,UAAYE,EAAQ,MAAQF,GACjDb,EAAS,GAAM,WAAW,EAE1B,MAAM,QAAQG,CAAK,GAAKA,EAAM,MAAMe,GAAKH,EAAQ,IAAIG,CAAC,CAAC,GACvDlB,EAAS,GAAM,UAAU,CAEjC,EAAGL,CAAO,CACd,CAAC,CACL,CACA,MAAM,OAAOD,EAAQ,CACjB,OAAI,KAAK,OAAS,MACd,KAAK,KAAK,MAAM,EACb,KAAK,WAAWA,CAAM,CACjC,CACJ,EACA,SAASH,GAAgB4B,EAAM,CAAC,EAAG,CAC/B,IAAM9C,EAASlB,GAAY,EACrBiE,EAAWzC,IAAA,GAAKN,EAAO,UAAa8C,EAAI,UACxCzB,EAASf,IAAA,GAAKN,EAAO,QAAW8C,EAAI,QAC1C,OAAOzC,EAAAC,EAAA,GAAKN,GAAL,CAAa,SAAA+C,EAAU,OAAA1B,CAAO,EACzC,CACA,SAASpB,GAAiB+C,EAAMF,EAAM,CAAC,EAAG,CA1M1C,IAAAG,EAAAC,EA2MI,IAAsDpD,EAAAgD,EAAhD,YAAAK,EAAkBpE,GAAI,EAAG,KAAAqE,EAAO,CAAC,CA3M3C,EA2M0DtD,EAATuD,EAAAC,GAASxD,EAAT,CAAvC,aAAyB,SACzBiD,EAAWC,EAAK,OAAO,SAC7B,OAAAI,EAAO,CAAC,IAAGH,EAAAF,EAAS,OAAT,KAAAE,EAAiB,CAAC,EAAG,IAAGC,EAAAJ,EAAI,OAAJ,KAAAI,EAAY,CAAC,CAAC,EAC1C7C,EAAAC,IAAA,GAAKyC,GAAaM,GAAlB,CAAwB,WAAAF,EAAY,KAAAC,CAAK,EACpD,CACA,SAASjC,GAAkB6B,EAAM3B,EAAS,CAAC,EAAG,CAC1C,OAAOf,IAAA,GAAK0C,EAAK,OAAO,QAAW3B,EACvC,CACA,SAASkB,GAAeS,EAAMF,EAAM,CAAC,EAAG,CAnNxC,IAAAhD,EAoNI,IAAMwB,GAAUxB,EAAAgD,EAAI,UAAJ,KAAAhD,EAAekD,EAAK,OAAO,YAC3C,OAAO3C,EAAAC,EAAA,GAAKwC,GAAL,CAAU,QAAAxB,CAAQ,EAC7B,CC3MA,IAAMiC,GAAgB,KACX,CACH,KAAM,IAAI,GACd,GAEEC,GAAiB,KACZ,CACH,MAAO,GACP,WAAY,CAAC,EACb,SAAU,CAAC,EACX,UAAW,GACf,GAESC,GAAN,cAA0BC,EAAa,CAC1C,YAAYC,EAAOC,EAAOC,EAAQC,EAAS,CACvC,MAAM,EACN,KAAK,UAAY,GACjB,KAAK,OAASC,GAAeD,GAAA,YAAAA,EAAS,KAAK,EAC3C,KAAK,QAAUE,GAAgBF,CAAO,EACtC,KAAK,OAAS,IAAIG,GAAY,IAAI,EAClC,KAAK,QAAU,IAAIC,GAAcP,EAAOC,EAAOE,CAAO,EACtD,KAAK,OAASK,GAAe,IAAI,EACjC,IAAMC,EAAU,CAAC,GAAGC,GAAiB,KAAK,KAAK,EAAG,KAAK,MAAM,EAC7D,KAAK,QAAU,IAAIC,GAAUT,EAAQD,EAAM,OAAQ,CAAE,OAAQ,CAAE,QAAAQ,CAAQ,CAAE,CAAC,EAC1E,KAAK,QAAQ,GAAG,SAAU,IAAM,CAC5B,KAAK,UAAY,GACjB,KAAK,KAAK,SAAU,IAAI,CAC5B,CAAC,EACD,KAAK,QAAQ,GAAG,QAAS,IAAM,CAC3B,KAAK,UAAY,GACjB,KAAK,KAAK,QAAS,IAAI,CAC3B,CAAC,EACD,KAAK,QAAQ,GAAG,UAAYG,GAAQ,CAEhC,GADA,KAAK,KAAK,UAAWA,CAAG,EACpB,EAAC,KAAK,QAAQA,CAAG,EAErB,GAAI,CACA,OAAQA,EAAI,IAAK,CACb,IAAK,YAAa,CACVC,GAAiB,KAAMD,CAAG,EAC9B,KACJ,CACA,IAAK,YAAa,CACd,IAAME,EAASC,GAAmBH,CAAG,EACjCI,GAAiB,KAAMF,CAAM,EACjC,KACJ,CACA,IAAK,YAAa,CACd,IAAMA,EAASG,GAAsBL,CAAG,EACpCM,GAAiB,KAAMJ,CAAM,EACjC,KACJ,CACJ,CACJ,OACOK,EAAK,CACR,KAAK,KAAK,UAAW,CAACC,GAAYD,CAAG,EAAGP,CAAG,CAAC,CAChD,CACJ,CAAC,CACL,CACA,QAAQA,EAAK,CACT,GAAM,CAAE,OAAAS,CAAO,EAAIT,EAAI,IACvB,OAAIA,EAAI,MAAQ,YACL,GACPS,IAAW,KAAK,OACT,GACPT,EAAI,MAAQ,aAECU,GAAiB,KAAK,KAAK,EAC9B,SAASV,EAAI,IAAI,MAAM,EAK1B,IAJP,KAAK,KAAK,UAAW,CAAC,eAAgBA,CAAG,CAAC,EACnC,GAKf,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,MAChB,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,QAAQ,KACxB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,QAAQ,KACxB,CACA,IAAI,UAAW,CACX,OAAO,KAAK,SAChB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,MAChB,CACA,IAAI,OAAQ,CACR,OAAO,KAAK,MAChB,CACA,IAAI,QAAS,CACT,OAAOW,GAAe,KAAK,OAAO,OAAQ,QAAQ,CACtD,CACA,IAAI,KAAM,CACN,MAAO,CACH,KAAUC,GAAiB,IAAI,EAC/B,KAAUC,GAAiB,IAAI,EAC/B,KAAUC,GAAiB,IAAI,EAC/B,MAAWC,GAAe,IAAI,EAC9B,KAAUC,GAAiB,IAAI,CACnC,CACJ,CACA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CACA,MAAM,SAAU,CACP,KAAK,OAAO,QAAQ,CAC7B,CACA,MAAM,OAAQ,CACL,KAAK,OAAO,MAAM,CAC3B,CACA,YAAYC,EAAM,CACd,IAAMC,EAAM,KAAK,MAAM,UAAUC,GAAKA,EAAE,SAAWF,EAAK,MAAM,EAC1DC,IAAQ,KAEZ,KAAK,OAAOA,CAAG,EAAIE,IAAA,GAAK,KAAK,OAAOF,CAAG,GAAMD,GACjD,CACJ,EACA,SAASzB,GAAe6B,EAAM,CAAC,EAAG,CAC9B,OAAOD,IAAA,GAAKpC,GAAc,GAAMqC,EACpC,CACA,SAAS5B,GAAgB4B,EAAM,CAAC,EAAG,CAC/B,IAAMC,EAASF,IAAA,GAAKnC,GAAe,GAAMoC,GACnCnB,EAASqB,GAAO,KAAK,OAAO,UAAUD,CAAM,EAClD,GAAI,CAACpB,EAAO,QACR,MAAM,IAAI,MAAM,qBAAqB,EACzC,OAAOA,EAAO,IAClB,CACA,SAASN,GAAe4B,EAAM,CArJ9B,IAAAC,EAsJI,IAAMC,EAAUC,GAAI,EACdC,EAAUJ,EAAK,OACfK,EAAYL,EAAK,MAAM,QACxB,IAAIL,GAAKR,GAAeQ,EAAE,OAAQ,QAAQ,CAAC,EAC3C,OAAOA,GAAKA,IAAMS,CAAO,EAC1BE,EAAY,CAAC,EACjB,QAAWC,KAAWF,EAAW,CAC7B,IAAMP,EAASE,EAAK,OAAO,SAAS,KAAKL,GAAKA,EAAE,SAAWY,CAAO,EAC5DC,GAASP,EAAAH,GAAA,YAAAA,EAAQ,SAAR,KAAAG,EAAkB,CAAE,KAAM,GAAM,KAAM,EAAK,EAC1DK,EAAU,KAAK,CACX,OAAQE,EACR,OAAQD,EACR,OAAQ,UACR,QAASL,CACb,CAAC,CACL,CACA,OAAOI,CACX,CCpKO,SAASG,GAAiBC,EAAK,CAElC,OADaC,GAAqBD,CAAG,EACzB,WAAW,SAAS,CACpC,CACO,SAASE,GAAiBC,EAAK,CAClC,IAAMC,EAAOC,EAAK,QAAQF,CAAG,EAC7B,OAAOG,GAAuBF,CAAI,CACtC,CACO,SAASH,GAAqBD,EAAK,CACtC,IAAMO,EAAMF,EAAK,IAAIL,EAAI,UAAiB,CAAgB,EACpDQ,EAAMH,EAAK,IAAIL,EAAI,SAAgB,EAAiB,EACpDS,EAAMT,EAAI,QAAQ,IAAIU,GAAKC,GAAsBD,CAAC,CAAC,EACzD,OAAOL,EAAK,KAAK,CAACG,EAAKD,EAAK,GAAGE,CAAG,CAAC,CACvC,CACO,SAASH,GAAuBF,EAAM,CACzC,IAAMQ,EAAS,IAAIP,EAAKD,CAAI,EAAE,OACxBS,EAAWD,EAAO,KAAW,EAAkB,EAAE,IACjDE,EAAYF,EAAO,KAAW,CAAgB,EAAE,IACtDG,GAAO,GAAGH,EAAO,KAAa,MAAqB,EAAG,0BAA0B,EAChF,IAAMI,EAAQJ,EAAO,KAAa,IAC5BK,EAAU,CAAC,EACjB,QAASC,EAAI,EAAGA,EAAIF,EAAOE,IAAK,CAC5B,IAAMC,EAASP,EAAO,KAAW,GAAgB,EACjDK,EAAQ,KAAKG,GAAwBD,CAAM,CAAC,CAChD,CACA,OAAAJ,GAAO,KAAKH,EAAO,KAAM,CAAC,EACnBS,GAAc,CAAE,QAAAJ,EAAS,SAAAJ,EAAU,UAAAC,CAAU,CAAC,CACzD,CACA,SAASH,GAAsBX,EAAK,CAChC,IAAMsB,EAAMjB,EAAK,IAAIL,EAAI,IAAW,CAAiB,EAC/CuB,EAAMlB,EAAK,IAAIL,EAAI,OAAc,EAAkB,EACnDwB,EAAMnB,EAAK,IAAIL,EAAI,UAAiB,EAAkB,EACtDyB,EAAMpB,EAAK,IAAIL,EAAI,UAAiB,EAAkB,EAC5D,OAAOK,EAAK,KAAK,CAACiB,EAAKC,EAAKC,EAAKC,CAAG,CAAC,CACzC,CACA,SAASL,GAAwBhB,EAAM,CACnC,IAAMQ,EAAS,IAAIP,EAAKD,CAAI,EAAE,OAC9BW,GAAO,KAAKH,EAAO,KAAY,GAAgB,EAC/C,IAAMU,EAAMV,EAAO,KAAW,CAAiB,EAAE,IAC3Cc,EAASd,EAAO,KAAW,EAAkB,EAAE,IAC/Ce,EAAYf,EAAO,KAAW,EAAkB,EAAE,IAClDgB,EAAYhB,EAAO,KAAW,EAAkB,EAAE,IACxD,OAAAG,GAAO,KAAKH,EAAO,KAAM,CAAC,EACnB,CAAE,IAAAU,EAAK,UAAAK,EAAW,UAAAC,EAAW,OAAAF,CAAO,CAC/C,CC5CO,SAASG,GAAiBC,EAAK,CAClC,IAAMC,EAAOC,GAAqBF,CAAG,EACrC,OAAAG,GAAO,KAAKF,EAAY,GAAe,EAChCA,EAAK,WAAW,SAAS,CACpC,CACO,SAASG,GAAiBC,EAAU,CACvC,IAAMJ,EAAOK,EAAK,QAAQD,CAAQ,EAClC,OAAOE,GAAuBN,CAAI,CACtC,CACO,SAASC,GAAqBF,EAAK,CACtC,IAAMQ,EAAMF,EAAK,IAAIN,EAAI,IAAW,CAAgB,EAC9CS,EAAMH,EAAK,IAAIN,EAAI,OAAc,EAAiB,EAClDU,EAAMJ,EAAK,IAAIN,EAAI,UAAiB,EAAiB,EACrDW,EAAML,EAAK,IAAIN,EAAI,UAAiB,EAAiB,EAC3D,OAAOM,EAAK,KAAK,CAACE,EAAKC,EAAKC,EAAKC,CAAG,CAAC,CACzC,CACO,SAASJ,GAAuBN,EAAM,CACzC,IAAMW,EAAS,IAAIN,EAAKL,CAAI,EAAE,OAC9BE,GAAO,KAAKS,EAAO,KAAY,GAAe,EAC9C,IAAMJ,EAAMI,EAAO,KAAW,CAAgB,EAAE,IAC1CC,EAASD,EAAO,KAAW,EAAiB,EAAE,IAC9CE,EAAYF,EAAO,KAAW,EAAiB,EAAE,IACjDG,EAAYH,EAAO,KAAW,EAAiB,EAAE,IACvD,OAAAT,GAAO,KAAKS,EAAO,KAAM,CAAC,EACnBI,GAAc,CAAE,IAAAR,EAAK,UAAAM,EAAW,UAAAC,EAAW,OAAAF,CAAO,CAAC,CAC9D,CCxBO,IAAII,IACV,SAAUA,EAAgB,CACvBA,EAAe,MAAQ,CACnB,OAAqBC,GACrB,OAAqBC,GACrB,UAAwBC,GACxB,YAA0BC,EAC9B,EACAJ,EAAe,MAAQ,CACnB,OAAqBK,GACrB,OAAqBC,GACrB,UAAwBC,GACxB,YAA0BC,EAC9B,CACJ,GAAGR,KAAmBA,GAAiB,CAAC,EAAE,ECC1C,SAASS,GAAWC,EAAaC,EAAqBC,EAAiBC,EAAgB,CACrFC,GAAMJ,CAAI,EACV,IAAMK,EAAOC,GAAU,CAAE,MAAO,GAAI,UAAW,EAAE,EAAIH,CAAK,EACpD,CAAE,EAAAI,EAAG,MAAAC,EAAO,UAAAC,CAAS,EAAKJ,EAIhC,GAHAK,GAAQH,CAAC,EACTG,GAAQF,CAAK,EACbE,GAAQD,CAAS,EACbF,EAAI,EAAG,MAAM,IAAI,MAAM,+BAA+B,EAC1D,IAAMI,EAAWC,GAAgBX,CAAS,EACpCY,EAAOD,GAAgBV,CAAK,EAE5BY,EAAK,IAAI,WAAWN,CAAK,EAEzBO,EAAMC,GAAK,OAAOhB,EAAMW,CAAQ,EAChCM,EAAUF,EAAI,WAAU,EAAG,OAAOF,CAAI,EAC5C,MAAO,CAAE,EAAAN,EAAG,MAAAC,EAAO,UAAAC,EAAW,GAAAK,EAAI,IAAAC,EAAK,QAAAE,CAAO,CAChD,CAEA,SAASC,GACPH,EACAE,EACAH,EACAK,EACAC,EAAa,CAEb,OAAAL,EAAI,QAAO,EACXE,EAAQ,QAAO,EACXE,GAAMA,EAAK,QAAO,EACtBE,GAAMD,CAAC,EACAN,CACT,CAWM,SAAUQ,GACdtB,EACAW,EACAE,EACAR,EAAe,CAEf,GAAM,CAAE,EAAAE,EAAG,MAAAC,EAAO,GAAAM,EAAI,IAAAC,EAAK,QAAAE,CAAO,EAAKlB,GAAWC,EAAMW,EAAUE,EAAMR,CAAI,EACxEc,EACEI,EAAM,IAAI,WAAW,CAAC,EACtBC,EAAOC,GAAWF,CAAG,EACrBH,EAAI,IAAI,WAAWL,EAAI,SAAS,EAEtC,QAASW,EAAK,EAAGC,EAAM,EAAGA,EAAMnB,EAAOkB,IAAMC,GAAOZ,EAAI,UAAW,CAEjE,IAAMa,EAAKd,EAAG,SAASa,EAAKA,EAAMZ,EAAI,SAAS,EAC/CS,EAAK,SAAS,EAAGE,EAAI,EAAK,GAGzBP,EAAOF,EAAQ,WAAWE,CAAI,GAAG,OAAOI,CAAG,EAAE,WAAWH,CAAC,EAC1DQ,EAAG,IAAIR,EAAE,SAAS,EAAGQ,EAAG,MAAM,CAAC,EAC/B,QAASC,EAAK,EAAGA,EAAKtB,EAAGsB,IAAM,CAE7Bd,EAAI,WAAWI,CAAI,EAAE,OAAOC,CAAC,EAAE,WAAWA,CAAC,EAC3C,QAASU,EAAI,EAAGA,EAAIF,EAAG,OAAQE,IAAKF,EAAGE,CAAC,GAAKV,EAAEU,CAAC,CAClD,CACF,CACA,OAAOZ,GAAaH,EAAKE,EAASH,EAAIK,EAAMC,CAAC,CAC/C,CCvFO,IAAIW,IACV,SAAUA,EAAO,CACd,SAASC,EAAOC,EAAO,CACnB,OAAQA,EAAM,MAAM,cAAc,IAAM,MACpCA,EAAM,OAAS,IAAM,CAC7B,CACAF,EAAM,OAASC,EACf,SAASE,EAASD,EAAO,CACrB,OAAI,OAAOA,GAAU,UAAYD,EAAOC,CAAK,GAGpCA,aAAiB,WAFf,GAKF,SAAM,QAAQA,CAAK,GACxBA,EAAM,MAAME,GAAK,OAAOA,GAAM,QAAQ,EAM9C,CACAJ,EAAM,SAAWG,CACrB,GAAGH,KAAUA,GAAQ,CAAC,EAAE,ECtBjB,IAAIK,IACV,SAAUA,EAAQ,CACf,SAASC,EAAYC,EAAMC,EAAM,CAC7B,GAAID,EAAK,OAASC,EACd,MAAM,IAAI,UAAU,mCAAmC,OAAAD,EAAK,OAAM,OAAM,OAAAC,EAAM,CAEtF,CACAH,EAAO,YAAcC,EACrB,SAASG,EAAOC,EAAK,CACjB,GAAIA,EAAI,MAAM,cAAc,IAAM,KAC9B,MAAM,IAAI,UAAU,qCAAuCA,CAAG,EAElE,GAAIA,EAAI,OAAS,IAAM,EACnB,MAAM,IAAI,MAAM,oCAAoC,OAAAA,EAAI,OAAQ,CAExE,CACAL,EAAO,OAASI,EAChB,SAASE,EAASC,EAAO,CACrB,GAAI,CAACC,GAAM,SAASD,CAAK,EACrB,MAAM,IAAI,MAAM,oCAAsC,OAAOA,CAAK,CAAC,CAE3E,CACAP,EAAO,SAAWM,EAClB,SAASG,EAAQC,EAAK,CAClB,GAAI,CACA,KAAK,MAAMA,CAAG,CAClB,OACMC,EAAA,CACF,MAAM,IAAI,UAAU,yBAAyB,CACjD,CACJ,CACAX,EAAO,QAAUS,EACjB,SAASG,EAAYC,EAAK,CACtB,GAAIA,EAAM,OAAO,iBACb,MAAM,IAAI,UAAU,6BAA6B,CAEzD,CACAb,EAAO,YAAcY,CACzB,GAAGZ,KAAWA,GAAS,CAAC,EAAE,ECvC1B,IAAMc,GAAM,OAAO,CAAC,EACdC,GAAQ,OAAO,GAAG,EAClBC,GAAQ,OAAO,GAAG,EACjB,SAASC,GAAaC,EAAK,CAC9B,GAAIA,GAAO,YACP,MAAO,GACX,GAAIA,GAAO,cACP,MAAO,GACX,GAAIA,GAAO,mBACP,MAAO,GACX,GAAIA,GAAO,6BACP,MAAO,GACX,GAAIA,GAAO,6CACP,MAAO,IACX,GAAIA,GAAO,6EACP,MAAO,IAEX,MAAM,IAAI,UAAU,qEAAqE,CAC7F,CACO,SAASC,GAAaD,EAAKE,EAAMC,EAAS,KAAM,CAC/CD,IAAS,SACTA,EAAOH,GAAaC,CAAG,GAC3B,IAAMI,EAAUD,IAAW,KACrBE,EAAS,IAAI,YAAYH,CAAI,EAC7BI,EAAW,IAAI,SAASD,CAAM,EAChCE,EAAUH,EAAU,EAAIF,EAAO,EACnC,KAAOF,EAAMJ,IAAK,CACd,IAAMY,EAAOR,EAAMH,GACbY,EAAM,OAAOD,CAAI,EACnBJ,EACAE,EAAS,SAASC,IAAUE,CAAG,EAG/BH,EAAS,SAASC,IAAUE,CAAG,EAEnCT,GAAOA,EAAMQ,GAAQV,EACzB,CACA,OAAO,IAAI,WAAWO,CAAM,CAChC,CACO,SAASK,GAAaC,EAAO,CAChC,IAAIF,EAAM,OAAO,CAAC,EAClB,QAASG,EAAID,EAAM,OAAS,EAAGC,GAAK,EAAGA,IACnCH,EAAOA,EAAMX,GAAS,OAAOa,EAAMC,CAAC,CAAC,EAEzC,OAAO,OAAOH,CAAG,CACrB,CACO,SAASI,GAAgBC,EAAGC,EAAG,CAClC,OAAO,OAAOA,GAAM,SACd,GAAG,OAAAA,EAAC,KACJA,CACV,CACO,SAASC,GAAeF,EAAGC,EAAG,CACjC,OAAO,OAAOA,GAAM,UAAY,YAAY,KAAKA,CAAC,EAC5C,OAAOA,EAAE,MAAM,EAAG,EAAE,CAAC,EACrBA,CACV,CCtDO,SAASE,GAAaC,EAAK,CAC9B,GAAIA,GAAO,IACP,MAAO,GACX,GAAIA,GAAO,MACP,MAAO,GACX,GAAIA,GAAO,WACP,MAAO,GACX,MAAM,IAAI,UAAU,wDAAwD,CAChF,CACO,SAASC,GAAaD,EAAKE,EAAMC,EAAS,KAAM,CAC/CD,IAAS,SACTA,EAAOH,GAAaC,CAAG,GAC3B,IAAMI,EAAUD,IAAW,KACrBE,EAAS,IAAI,YAAYH,CAAI,EAC7BI,EAAW,IAAI,SAASD,CAAM,EAChCE,EAAUH,EAAU,EAAIF,EAAO,EACnC,KAAOF,EAAM,GAAG,CACZ,IAAMQ,EAAOR,EAAM,IACfI,EACAE,EAAS,SAASC,IAAUP,CAAG,EAG/BM,EAAS,SAASC,IAAUP,CAAG,EAEnCA,GAAOA,EAAMQ,GAAQ,GACzB,CACA,OAAO,IAAI,WAAWH,CAAM,CAChC,CACO,SAASI,GAAaC,EAAO,CAChC,IAAIV,EAAM,EACV,QAASW,EAAID,EAAM,OAAS,EAAGC,GAAK,EAAGA,IACnCX,EAAOA,EAAM,IAAOU,EAAMC,CAAC,EAC3BC,GAAO,YAAYZ,CAAG,EAE1B,OAAOA,CACX,CCnCO,SAASa,GAAaC,EAAQC,EAAMC,EAAS,KAAM,CACtDD,EAAOE,GAAaH,EAAQC,CAAI,EAChC,IAAMG,EAAUF,IAAW,KACrBG,EAAS,IAAI,YAAYJ,CAAI,EAC7BK,EAAW,IAAI,SAASD,CAAM,EAChCE,EAAUH,EAAU,EAAIH,EAAO,EACnC,QAASO,EAAI,EAAGA,EAAIR,EAAO,OAAQQ,GAAK,EAAG,CACvC,IAAMC,EAAOT,EAAO,UAAUQ,EAAGA,EAAI,CAAC,EAChCE,EAAM,SAASD,EAAM,EAAE,EACzBL,EACAE,EAAS,SAASC,IAAUG,CAAG,EAG/BJ,EAAS,SAASC,IAAUG,CAAG,CAEvC,CACA,OAAO,IAAI,WAAWL,CAAM,CAChC,CACO,SAASM,GAAaC,EAAO,CAChC,IAAIC,EAAQ,GACZ,QAASL,EAAI,EAAGA,EAAII,EAAM,OAAQJ,IAC9BK,GAASD,EAAMJ,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAElD,OAAOK,CACX,CACA,SAASV,GAAaH,EAAQC,EAAM,CAChCa,GAAO,OAAOd,CAAM,EACpB,IAAMe,EAAMf,EAAO,OAAS,EAG5B,GAFIC,IAAS,SACTA,EAAOc,GACPA,EAAMd,EACN,MAAM,IAAI,UAAU,yCAAyC,OAAAc,EAAG,OAAM,OAAAd,EAAM,EAEhF,OAAOA,CACX,CC/BO,SAASe,GAAOC,EAAOC,EAAMC,EAAQ,CACxC,GAAIF,aAAiB,YACjB,OAAO,IAAI,WAAWA,CAAK,EAE1B,GAAIA,aAAiB,WACtB,OAAOG,GAAaH,EAAOC,EAAMC,CAAM,EAEtC,GAAI,OAAOF,GAAU,SACtB,OAAAI,GAAO,OAAOJ,CAAK,EACZK,GAAaL,EAAOC,EAAMC,CAAM,EAEtC,GAAI,OAAOF,GAAU,SACtB,OAAOM,GAAaN,EAAOC,EAAMC,CAAM,EAEtC,GAAI,OAAOF,GAAU,SACtB,OAAOO,GAAaP,EAAOC,EAAMC,CAAM,EAE3C,MAAM,IAAI,UAAU,4BAA8B,OAAOF,CAAK,CAClE,CACO,SAASG,GAAaK,EAAMP,EAAMC,EAAS,KAAM,CAChDD,IAAS,SACTA,EAAOO,EAAK,QAChBJ,GAAO,YAAYI,EAAMP,CAAI,EAC7B,IAAMF,EAAS,IAAI,WAAWE,CAAI,EAAE,KAAK,CAAC,EACpCQ,EAAUP,IAAW,KAAQ,EAAID,EAAOO,EAAK,OACnD,OAAAT,EAAO,IAAIS,EAAMC,CAAM,EAChBV,CACX,CACO,SAASW,GAAWC,EAAK,CAC5B,IAAIC,EAAGH,EAAS,EACVR,EAAOU,EAAI,OAAO,CAACE,EAAKF,IAAQE,EAAMF,EAAI,OAAQ,CAAC,EACnDG,EAAO,IAAI,WAAWb,CAAI,EAChC,IAAKW,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAK,CAC7B,IAAMG,EAAIJ,EAAIC,CAAC,EACfE,EAAK,IAAIC,EAAGN,CAAM,EAClBA,GAAUM,EAAE,MAChB,CACA,OAAOD,CACX,CACO,SAASE,GAAYC,EAAWC,EAAYC,EAAY,CAC3D,IAAMN,EAAMI,EAAU,OAAQG,EAAQD,EAAaD,EACnD,GAAIC,EAAaD,IAAe,EAC5B,MAAM,IAAI,UAAU,uBAAuB,OAAAC,EAAU,OAAM,OAAAD,EAAU,SAAQ,EAEjF,GAAIL,IAAQM,EACR,MAAM,IAAI,UAAU,wBAAwB,OAAAN,EAAG,SAAQ,OAAAM,EAAY,EAEvE,GAAIN,EAAMK,IAAe,EACrB,MAAM,IAAI,UAAU,wBAAwB,OAAAL,EAAG,OAAM,OAAAK,EAAU,SAAQ,EAE3E,IAAMG,EAAS,IAAI,MAAMD,CAAK,EAC9B,QAASR,EAAI,EAAGA,EAAIQ,EAAOR,IAAK,CAC5B,IAAMU,EAAMV,EAAIM,EAChBG,EAAOT,CAAC,EAAIK,EAAU,SAASK,EAAKA,EAAMJ,CAAU,CACxD,CACA,OAAOG,CACX,CC5DO,SAASE,GAAaC,EAAQ,CACjC,IAAMC,EAAOD,EAAO,MAAM,EAAE,EAAE,IAAI,MAAM,EACxC,GAAIC,EAAK,OAAS,IAAM,EACpB,MAAM,IAAI,MAAM,mCAAmC,OAAAD,EAAO,OAAQ,EAEtE,IAAME,EAAQ,IAAI,WAAWD,EAAK,OAAS,CAAC,EAC5C,QAASE,EAAI,EAAGC,EAAK,EAAGD,EAAIF,EAAK,OAAQE,GAAK,EAAGC,IAAM,CACnD,IAAIC,EAAO,EACX,QAASC,EAAI,EAAGA,EAAI,EAAGA,IACnBD,GAASJ,EAAKE,EAAIG,CAAC,GAAM,EAAIA,EAEjCJ,EAAME,CAAE,EAAIC,CAChB,CACA,OAAOH,CACX,CACO,SAASK,GAAaL,EAAO,CAChC,IAAMM,EAAM,IAAI,MAAMN,EAAM,OAAS,CAAC,EAClCO,EAAQ,EACZ,QAAWC,KAAOR,EAAO,CACrB,GAAIQ,EAAM,IACN,MAAM,IAAI,MAAM,uBAAuB,OAAAA,EAAG,2CAA0C,EAExF,QAASP,EAAI,EAAGA,GAAK,EAAGA,IAAKM,IACzBD,EAAIC,CAAK,EAAKC,GAAOP,EAAK,CAElC,CACA,OAAOK,EAAI,KAAK,EAAE,CACtB,CC3BA,IAAMG,GAAK,IAAI,YACTC,GAAK,IAAI,YACR,SAASC,GAAaC,EAAK,CAC9B,OAAOH,GAAG,OAAOG,CAAG,CACxB,CACO,SAASC,GAAaC,EAAO,CAChC,OAAOJ,GAAG,OAAOI,CAAK,CAC1B,CCPO,SAASC,GAAiBC,EAAS,GAAI,CAC1C,GAAI,QACA,OAAO,OAAO,iBAAoB,WAClC,OAAO,OAAO,gBAAgB,IAAI,WAAWA,CAAM,CAAC,EAExD,IAAMC,EAAU,OAChB,GAAIA,GACAA,EAAQ,cAAgB,QACxB,OAAOA,EAAQ,aAAgB,WAC/B,OAAOA,EAAQ,YAAYD,CAAM,EAErC,MAAM,IAAI,MAAM,kDAAkD,CACtE,CCVO,IAAME,GAAN,MAAMA,WAAa,UAAW,CA0CjC,OAAO,OAAOC,EAAO,GAAI,CACrB,IAAMC,EAAWC,GAAiBF,CAAI,EACtC,OAAO,IAAID,GAAKE,EAAMD,CAAI,CAC9B,CACA,OAAO,KAAM,CACT,IAAMG,EAAQ,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,EAC1C,OAAO,IAAIJ,GAAKI,EAAO,CAAC,CAC5B,CACA,YAAYC,EAAMJ,EAAMK,EAAQ,CAC5B,GAAID,aAAgBL,IAAQC,IAAS,OACjC,OAAOI,EAEX,IAAME,EAAaA,GAAOF,EAAMJ,EAAMK,CAAM,EAC5C,MAAMC,CAAM,CAChB,CACA,IAAI,KAAM,CACN,OAAO,KAAK,OAAO,CACvB,CACA,IAAI,KAAM,CACN,OAAO,KAAK,OAAO,CACvB,CACA,IAAI,KAAM,CACN,OAAO,KAAK,OAAO,CACvB,CACA,IAAI,KAAM,CACN,OAAO,KAAK,OAAO,CACvB,CACA,IAAI,KAAM,CACN,OAAO,KAAK,OAAO,CACvB,CACA,IAAI,KAAM,CACN,OAAO,KAAK,OAAO,CACvB,CACA,IAAI,MAAO,CACP,OAAO,KAAK,QAAQ,CACxB,CACA,OAAOD,EAAS,KAAM,CAClB,IAAME,EAASF,IAAW,KACpB,KAAK,KAAK,QAAQ,EAClB,KAAK,KACX,OAAWG,GAAaD,CAAK,CACjC,CACA,OAAOF,EAAS,KAAM,CAClB,IAAME,EAASF,IAAW,KACpB,KAAK,KACL,KAAK,KAAK,QAAQ,EACxB,OAAWI,GAAaF,CAAK,CACjC,CACA,QAAQG,EAAS,CACTA,IAAY,SACZA,EAAcC,IAElB,IAAMC,EAAUC,GAAa,IAAI,EACjC,OAAO,KAAK,MAAMD,EAAKF,CAAO,CAClC,CACA,OAAOL,EAAS,KAAM,CAClB,IAAME,EAASF,IAAW,KACpB,KAAK,KAAK,QAAQ,EAClB,KAAK,KACX,OAAWS,GAAaP,CAAK,CACjC,CACA,QAAS,CAAE,MAAO,CAAC,GAAG,IAAI,CAAG,CAC7B,QAAS,CAAE,OAAWQ,GAAa,IAAI,CAAG,CAC1C,QAAS,CAAE,OAAWF,GAAa,IAAI,CAAG,CAC1C,SAAU,CAAE,OAAO,IAAI,WAAW,IAAI,CAAG,CACzC,OAAOT,EAAM,CACT,OAAOL,GAAK,KAAK,CAAC,KAAM,IAAIA,GAAKK,CAAI,CAAC,CAAC,CAC3C,CACA,OAAOA,EAAM,CACT,OAAO,IAAIL,GAAKK,CAAI,EAAE,MAAQ,KAAK,GACvC,CACA,QAAQA,EAAM,CACV,OAAOL,GAAK,KAAK,CAAC,IAAIA,GAAKK,CAAI,EAAG,IAAI,CAAC,CAC3C,CACA,cAAcC,EAAQ,CAClB,GAAI,KAAK,SAAW,EAChB,MAAM,IAAI,MAAM,iBAAiB,EACrC,IAAMW,EAASjB,GAAK,OAAO,KAAK,OAAQM,CAAM,EAC9C,OAAO,KAAK,QAAQW,CAAM,CAC9B,CACA,SAAU,CACN,aAAM,QAAQ,EACP,IACX,CACA,IAAIC,EAAOC,EAAQ,CACf,KAAK,IAAID,EAAOC,CAAM,CAC1B,CACA,MAAMC,EAAOC,EAAK,CACd,IAAMC,EAAM,IAAI,WAAW,IAAI,EAAE,MAAMF,EAAOC,CAAG,EACjD,OAAO,IAAIrB,GAAKsB,CAAG,CACvB,CACA,SAASC,EAAOF,EAAK,CACjB,IAAMC,EAAM,IAAI,WAAW,IAAI,EAAE,SAASC,EAAOF,CAAG,EACpD,OAAO,IAAIrB,GAAKsB,CAAG,CACvB,CACA,QAAS,CACL,OAAO,KAAK,GAChB,CACA,UAAW,CACP,OAAO,KAAK,GAChB,CACA,OAAO,KAAKjB,EAAM,CACd,OAAO,IAAIL,GAAK,WAAW,KAAKK,CAAI,CAAC,CACzC,CACA,OAAO,MAAMmB,EAAM,CACf,OAAO,IAAIxB,GAAK,WAAW,GAAG,GAAGwB,CAAI,CAAC,CAC1C,CACA,OAAO,KAAKF,EAAK,CACb,IAAMd,EAAQc,EAAI,IAAIG,GAAK,IAAIzB,GAAKyB,CAAC,CAAC,EAChCC,EAAaC,GAAWnB,CAAK,EACnC,OAAO,IAAIR,GAAK0B,CAAM,CAC1B,CACA,OAAO,KAAKJ,EAAKrB,EAAM,CACnB,IAAM2B,EAAMN,EAAI,IAAIG,GAAK,IAAIzB,GAAKyB,EAAGxB,CAAI,EAAE,GAAG,EAC9C,OAAA2B,EAAI,KAAK,EACFA,EAAI,IAAIH,GAAKzB,GAAK,IAAIyB,EAAGxB,CAAI,CAAC,CACzC,CACA,OAAO,OAAO4B,EAAKvB,EAAQ,CACvB,GAAIuB,EAAM,IACN,OAAO7B,GAAK,IAAI6B,EAAK,CAAC,EAErB,GAAIA,EAAM,MACX,OAAO7B,GAAK,GAAG,IAAM,GAAGA,GAAK,IAAI6B,EAAK,EAAGvB,CAAM,CAAC,EAE/C,GAAIuB,EAAM,WACX,OAAO7B,GAAK,GAAG,IAAM,GAAGA,GAAK,IAAI6B,EAAK,EAAGvB,CAAM,CAAC,EAE/C,GAAI,OAAOuB,CAAG,EAAI,4BACnB,OAAO7B,GAAK,GAAG,IAAM,GAAGA,GAAK,IAAI6B,EAAK,EAAGvB,CAAM,CAAC,EAGhD,MAAM,IAAI,MAAM,uBAAuB,OAAAuB,EAAK,CAEpD,CACJ,EA/Ka7B,GAAK,IAAM,CAAC8B,EAAQ7B,EAAMK,IACxB,IAAIN,GAAK8B,EAAQ7B,EAAMK,CAAM,EAE/BN,GAAK,IAAM,CAAC+B,EAAQ9B,EAAMK,IACxB,IAAIN,GAAK+B,EAAQ9B,EAAMK,CAAM,EAE/BN,GAAK,IAAM,CAACK,EAAMJ,EAAMK,IAAW,CACxC,IAAMJ,EAAW8B,GAAa3B,CAAI,EAClC,OAAO,IAAIL,GAAKE,EAAMD,EAAMK,CAAM,CACtC,EACSN,GAAK,KAAO,CAACK,EAAMJ,EAAMK,IACvB,IAAIN,GAAKK,EAAMJ,EAAMK,CAAM,EAE7BN,GAAK,IAAM,CAACK,EAAMJ,EAAMK,IAAW,CACxC,IAAMJ,EAAW+B,GAAa5B,CAAI,EAClC,OAAO,IAAIL,GAAKE,EAAMD,EAAMK,CAAM,CACtC,EACSN,GAAK,IAAM,CAACK,EAAMJ,EAAMK,KAC7B4B,GAAO,OAAO7B,CAAI,EACX,IAAIL,GAAKK,EAAMJ,EAAMK,CAAM,GAE7BN,GAAK,MAAQ,CAACQ,EAAOP,EAAMK,KAChC4B,GAAO,SAAS1B,CAAK,EACd,IAAIR,GAAKQ,EAAOP,EAAMK,CAAM,GAE9BN,GAAK,KAAO,CAACK,EAAM8B,IAAa,CACrCA,EAAWA,GAAA,KAAAA,EAAgBC,GAC3B,IAAMvB,EAAM,KAAK,UAAUR,EAAM8B,CAAQ,EACnCjC,EAAW+B,GAAapB,CAAG,EACjC,OAAO,IAAIb,GAAKE,CAAI,CACxB,EACSF,GAAK,KAAO,CAACqC,EAASC,EAAYC,IAAe,CACtD,IAAM/B,EAAYD,GAAO8B,CAAO,EAEhC,OADmBG,GAAYhC,EAAO8B,EAAYC,CAAU,EAC9C,IAAId,GAAK,IAAIzB,GAAKyB,CAAC,CAAC,CACtC,EACSzB,GAAK,SAAW,CAACyC,EAAGC,IAClB,IAAI1C,GAAKyC,CAAC,EAAE,MAAQ,IAAIzC,GAAK0C,CAAC,EAAE,IAElC1C,GAAK,SAAW2C,GAAM,SACtB3C,GAAK,OAAS2C,GAAM,OAzC1B,IAAMC,GAAN5C,GCFP,IAAA6C,GAAA,GAAAC,GAAAD,GAAA,oBAAAE,GAAA,QAAAC,GAAA,gBAAAC,GAAA,UAAAC,GAAA,aAAAC,KAAO,IAAMH,GAAM,IAAM,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,EACxCE,GAAQ,CAACE,EAAK,MAAS,IAAI,QAAQC,GAAO,WAAWA,EAAKD,CAAE,CAAC,EACnE,SAASL,GAAeO,EAASC,EAAS,CAC7C,OAAO,IAAI,QAAQ,MAAOC,EAASC,IAAW,CAC1C,IAAMC,EAAQ,WAAW,IAAMD,EAAO,SAAS,EAAGF,CAAO,EACnDF,EAAM,MAAMC,EAClB,aAAaI,CAAK,EAClBF,EAAQH,CAAG,CACf,CAAC,CACL,CACO,SAASF,GAASQ,EAAK,CAC1B,OAAIA,aAAe,KAAO,MAAM,QAAQA,CAAG,GAAK,OAAOA,GAAQ,SACpDA,EAGA,OAAO,KAAKA,CAAG,EACjB,KAAK,EACL,OAAO,CAAC,CAACC,EAAGC,CAAK,IAAMA,IAAU,MAAS,EAC1C,OAAO,CAACC,EAAQC,KACjBD,EAAOC,CAAG,EAAIJ,EAAII,CAAG,EACdD,GACR,CAAC,CAAC,CAEb,CACO,SAASb,GAAYe,EAAK,CAC7B,OAAIA,aAAe,MACRA,EAAI,QACX,OAAOA,GAAQ,SACRA,EACJ,OAAOA,CAAG,CACrB,CC5BO,IAAIC,IACV,SAAUA,EAAM,CACb,SAASC,EAAOC,EAAO,CACnB,MAAI,SAAOA,EAAU,KAAeA,IAAU,KAIlD,CACAF,EAAK,OAASC,EACd,SAASE,EAASC,EAAGC,EAAG,CACpB,OAAOD,IAAMC,CACjB,CACAL,EAAK,SAAWG,EAChB,SAASG,EAAUJ,EAAO,CACtB,OAAO,OAAOA,GAAU,UAAYA,IAAU,MAAQ,CAAC,MAAM,QAAQA,CAAK,CAC9E,CACAF,EAAK,UAAYM,EACjB,SAASC,EAAcH,EAAGC,EAAG,CACzB,OAAIC,EAAUF,CAAC,IACXA,EAAII,GAASJ,CAAC,GACdE,EAAUD,CAAC,IACXA,EAAIG,GAASH,CAAC,GACX,OAAOD,CAAC,IAAM,OAAOC,CAAC,CACjC,CACAL,EAAK,cAAgBO,EACrB,SAASE,EAAUC,EAAO,CACtB,OAAO,MAAM,QAAQA,CAAK,GAAKA,EAAM,OAAS,CAClD,CACAV,EAAK,UAAYS,EACjB,SAASE,EAAUT,EAAO,CACtB,OAAO,OAAOA,GAAU,QAC5B,CACAF,EAAK,UAAYW,EACjB,SAASC,EAAUV,EAAO,CACtB,OAAO,OAAO,UAAUA,CAAK,GAAK,CAAC,OAAO,MAAMA,CAAK,CACzD,CACAF,EAAK,UAAYY,EACjB,SAASC,EAAUX,EAAO,CACtB,OAAO,OAAOA,GAAU,QAC5B,CACAF,EAAK,UAAYa,EACjB,SAASC,EAASZ,EAAO,CACrB,OAAOU,EAAUV,CAAK,GAAKA,GAAS,GAAKA,GAAS,GACtD,CACAF,EAAK,SAAWc,EAChB,SAASC,EAAUb,EAAO,CACtB,OAAOU,EAAUV,CAAK,GAAKA,GAAS,GAAKA,GAAS,KACtD,CACAF,EAAK,UAAYe,EACjB,SAASC,EAAQd,EAAO,CACpB,OAAOU,EAAUV,CAAK,GAAKA,GAAS,GAAKA,GAAS,UACtD,CACAF,EAAK,QAAUgB,EACf,SAASC,EAAOf,EAAO,CACnB,OAAOA,aAAiB,UAC5B,CACAF,EAAK,OAASiB,EACd,SAASC,EAAShB,EAAO,CACrB,OAAOiB,GAAK,SAASjB,CAAK,CAC9B,CACAF,EAAK,SAAWkB,EAChB,SAASE,EAAUlB,EAAO,CACtB,OAAI,OAAOA,GAAU,SACV,GACJ,kEAAkE,KAAKA,CAAK,CACvF,CACAF,EAAK,UAAYoB,EACjB,SAASC,EAAUnB,EAAO,CACtB,OAAI,OAAOA,GAAU,SACV,GACJ,yBAAyB,KAAKA,CAAK,CAC9C,CACAF,EAAK,UAAYqB,EACjB,SAASC,EAAUpB,EAAO,CACtB,OAAI,OAAOA,GAAU,SACV,GACJ,0BAA0B,KAAKA,CAAK,CAC/C,CACAF,EAAK,UAAYsB,EACjB,SAASC,EAAUrB,EAAO,CACtB,OAAI,OAAOA,GAAU,SACV,GACJ,+CAA+C,KAAKA,CAAK,CACpE,CACAF,EAAK,UAAYuB,EACjB,SAASC,EAAOtB,EAAO,CACnB,OAAKS,EAAUT,CAAK,EAEZA,EAAM,MAAM,cAAc,IAAM,MAAQA,EAAM,OAAS,IAAM,EAD1D,EAEf,CACAF,EAAK,OAASwB,EACd,SAASC,EAAQvB,EAAO,CACpB,OAAQS,EAAUT,CAAK,GAAKsB,EAAOtB,CAAK,GAAKA,EAAM,SAAW,EAClE,CACAF,EAAK,QAAUyB,CACnB,GAAGzB,KAASA,GAAO,CAAC,EAAE,EC/Ff,IAAI0B,IACV,SAAUA,EAAQ,CACf,SAASC,EAAGC,EAAOC,EAAS,CACxB,GAAID,IAAU,GACV,MAAM,IAAI,MAAMC,GAAA,KAAAA,EAAW,mBAAmB,CAEtD,CACAH,EAAO,GAAKC,EACZ,SAASG,EAAOF,EAAOG,EAAK,CACxB,GAAI,CAACC,GAAK,OAAOJ,CAAK,EAClB,MAAM,IAAI,MAAMG,GAAA,KAAAA,EAAO,6BAA6B,CAE5D,CACAL,EAAO,OAASI,EAChB,SAASG,EAASL,EAAOG,EAAK,CAC1B,GAAIH,GAAU,KACV,MAAM,IAAI,MAAMG,GAAA,KAAAA,EAAO,iCAAiC,CAEhE,CACAL,EAAO,SAAWO,EAClB,SAASC,EAAYN,EAAOO,EAAMJ,EAAK,CACnC,GAAI,EAAEH,aAAiBO,GACnB,MAAM,IAAI,MAAMJ,GAAA,KAAAA,EAAO,+BAA+B,OAAAI,EAAK,KAAM,CAEzE,CACAT,EAAO,YAAcQ,EACrB,SAASE,EAASC,EAAGC,EAAGP,EAAK,CACzB,GAAI,CAACC,GAAK,SAASK,EAAGC,CAAC,EACnB,MAAM,IAAI,MAAMP,GAAA,KAAAA,EAAO,yBAAyB,cAAOM,CAAC,EAAC,SAAQ,cAAOC,CAAC,EAAG,CAEpF,CACAZ,EAAO,SAAWU,EAClB,SAASG,EAAUX,EAAOG,EAAK,CAC3B,GAAI,CAACC,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,MAAMG,GAAA,KAAAA,EAAO,2BAA2B,cAAOH,CAAK,EAAG,CAEzE,CACAF,EAAO,UAAYa,EACnB,SAASC,EAAcH,EAAGC,EAAGP,EAAK,CAC9B,GAAI,CAACC,GAAK,cAAcK,EAAGC,CAAC,EACxB,MAAM,IAAI,MAAMP,GAAA,KAAAA,EAAO,8BAA8B,cAAOM,CAAC,EAAC,SAAQ,cAAOC,CAAC,EAAG,CAEzF,CACAZ,EAAO,cAAgBc,EACvB,SAASC,EAAUb,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,UAAU,mBAAmB,cAAOA,CAAK,EAAG,CAE9D,CACAF,EAAO,UAAYe,EACnB,SAASC,EAAUd,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,UAAU,mBAAmB,cAAOA,CAAK,EAAG,CAE9D,CACAF,EAAO,UAAYgB,EACnB,SAASC,EAAOf,EAAO,CACnB,GAAI,CAACI,GAAK,OAAOJ,CAAK,EAClB,MAAM,IAAI,UAAU,gBAAgB,cAAOA,CAAK,EAAG,CAE3D,CACAF,EAAO,OAASiB,EAChB,SAASC,EAAShB,EAAO,CACrB,GAAI,CAACI,GAAK,SAASJ,CAAK,EACpB,MAAM,IAAI,UAAU,yBAAyB,cAAOA,CAAK,EAAG,CAEpE,CACAF,EAAO,SAAWkB,EAClB,SAASC,EAAUjB,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,UAAU,2BAA2B,cAAOA,CAAK,EAAG,CAEtE,CACAF,EAAO,UAAYmB,EACnB,SAASC,EAAQlB,EAAO,CACpB,GAAI,CAACI,GAAK,QAAQJ,CAAK,EACnB,MAAM,IAAI,UAAU,yBAAyB,cAAOA,CAAK,EAAG,CAEpE,CACAF,EAAO,QAAUoB,EACjB,SAASC,EAAOnB,EAAO,CACnB,GAAI,CAACI,GAAK,OAAOJ,CAAK,EAClB,MAAM,IAAI,UAAU,uBAAuB,cAAOA,CAAK,EAAG,CAElE,CACAF,EAAO,OAASqB,EAChB,SAASC,EAAQpB,EAAOG,EAAK,CACzB,GAAI,CAACC,GAAK,QAAQJ,CAAK,EACnB,MAAM,IAAI,UAAUG,GAAA,KAAAA,EAAO,iBAAiB,cAAOH,CAAK,EAAG,CAEnE,CACAF,EAAO,QAAUsB,EACjB,SAASC,EAASrB,EAAOG,EAAK,CAC1B,GAAI,CAACC,GAAK,SAASJ,CAAK,EACpB,MAAM,IAAI,UAAUG,GAAA,KAAAA,EAAO,kBAAkB,cAAOH,CAAK,EAAG,CAEpE,CACAF,EAAO,SAAWuB,EAClB,SAASC,EAAKC,EAAOD,EAAMnB,EAAK,CAC5B,IAAMqB,EAAQC,GAAK,MAAMF,CAAK,EAC9B,GAAIC,EAAM,SAAWF,EACjB,MAAM,IAAI,MAAMnB,GAAA,KAAAA,EAAO,uBAAuB,OAAAqB,EAAM,OAAM,SAAQ,OAAAF,EAAM,CAEhF,CACAxB,EAAO,KAAOwB,EACd,SAASI,EAAUC,EAAOC,EAAS,CAC/B,GAAI,CAACxB,GAAK,UAAUuB,CAAK,EACrB,MAAM,IAAI,MAAMC,GAAA,KAAAA,EAAW,kCAAkC,CAErE,CACA9B,EAAO,UAAY4B,EACnB,SAASG,EAAU7B,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,MAAM,uBAAuB,CAE/C,CACAF,EAAO,UAAY+B,EACnB,SAASC,EAAU9B,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,MAAM,uBAAuB,CAE/C,CACAF,EAAO,UAAYgC,EACnB,SAASC,EAAU/B,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,MAAM,0BAA0B,CAElD,CACAF,EAAO,UAAYiC,EACnB,SAASC,EAAUhC,EAAO,CACtB,GAAI,CAACI,GAAK,UAAUJ,CAAK,EACrB,MAAM,IAAI,MAAM,uBAAuB,CAE/C,CACAF,EAAO,UAAYkC,CACvB,GAAGlC,KAAWA,GAAS,CAAC,EAAE,EClI1B,IAAMmC,GAAW,CAAE,EAAG,IAAQ,MAAO,EAAG,EAEjC,SAASC,GACdC,EACAC,EACa,CAEb,IAAMC,EADU,IAAI,YAAY,EACR,OAAOF,CAAQ,EACvC,OAAAG,GAAO,GAAGF,EAAK,QAAU,GAAI,gCAAgC,EACtDG,GAAOC,GAAQH,EAAQD,EAAMH,EAAQ,CAC9C,CAEO,SAASQ,GACdC,EACAP,EACgB,CAChB,GAAI,CACF,IAAMQ,EAAUC,EAAK,IAAIF,CAAO,EAC1BG,EAAUD,EAAK,OAAO,EAAE,EACxBE,EAAUZ,GAAsBC,EAAUU,CAAM,EAChDE,EAAUC,GAAIF,EAASD,CAAM,EAAE,QAAQF,CAAM,EACnD,OAAO,IAAIC,EAAKG,CAAO,EAAE,OAAS,OAASF,EAAO,MACpD,OAAQI,EAAA,CACN,OAAO,IACT,CACF,CAEO,SAASC,GACdR,EACAP,EACgB,CAChB,GAAI,CACFG,GAAO,GAAGI,EAAQ,SAAS,MAAM,EAAG,mCAAmC,EACvE,GAAM,CAAEK,EAASI,CAAG,EAAIT,EAAQ,MAAM,MAAM,EACtCL,EAAUO,EAAK,OAAOG,CAAO,EAC7BF,EAAUD,EAAK,OAAOO,CAAE,EACxBL,EAAUZ,GAAsBC,EAAUU,CAAM,EAChDO,EAAUJ,GAAIF,EAASD,CAAM,EAAE,QAAQR,CAAM,EACnD,OAAO,IAAIO,EAAKQ,CAAM,EAAE,GAC1B,OAAQH,EAAA,CACN,OAAO,IACT,CACF,CCjDA,IAAAI,GAAoD,SCApD,IAAAC,GAAA,GAAAC,GAAAD,GAAA,gBAAAE,GAAA,sBAAAC,GAAA,eAAAC,GAAA,eAAAC,GAAA,oBAAAC,GAAA,qBAAAC,GAAA,gBAAAC,GAAA,eAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,kBAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,kBAAAC,GAAA,kBAAAC,KCuBA,IAAMC,GAAsB,OAAO,CAAC,EAC9BC,GAAsB,OAAO,CAAC,EAgB9B,SAAUC,GAAQC,EAAgBC,EAAgB,GAAE,CACxD,GAAI,OAAOD,GAAU,UAAW,CAC9B,IAAME,EAASD,GAAS,IAAI,OAAAA,EAAK,KACjC,MAAM,IAAI,MAAMC,EAAS,8BAAgC,OAAOF,CAAK,CACvE,CACA,OAAOA,CACT,CAIM,SAAUG,GAASH,EAAmBI,EAAiBH,EAAgB,GAAE,CAC7E,IAAMI,EAAQC,GAASN,CAAK,EACtBO,EAAMP,GAAA,YAAAA,EAAO,OACbQ,EAAWJ,IAAW,OAC5B,GAAI,CAACC,GAAUG,GAAYD,IAAQH,EAAS,CAC1C,IAAMF,EAASD,GAAS,IAAI,OAAAA,EAAK,MAC3BQ,EAAQD,EAAW,cAAc,OAAAJ,GAAW,GAC5CM,EAAML,EAAQ,UAAU,OAAAE,GAAQ,QAAQ,cAAOP,GACrD,MAAM,IAAI,MAAME,EAAS,sBAAwBO,EAAQ,SAAWC,CAAG,CACzE,CACA,OAAOV,CACT,CAGM,SAAUW,GAAoBC,EAAoB,CACtD,IAAMC,EAAMD,EAAI,SAAS,EAAE,EAC3B,OAAOC,EAAI,OAAS,EAAI,IAAMA,EAAMA,CACtC,CAEM,SAAUC,GAAYD,EAAW,CACrC,GAAI,OAAOA,GAAQ,SAAU,MAAM,IAAI,MAAM,4BAA8B,OAAOA,CAAG,EACrF,OAAOA,IAAQ,GAAKE,GAAM,OAAO,KAAOF,CAAG,CAC7C,CAGM,SAAUG,GAAgBX,EAAiB,CAC/C,OAAOS,GAAYG,GAAYZ,CAAK,CAAC,CACvC,CACM,SAAUa,GAAgBb,EAAiB,CAC/C,OAAAc,GAAQd,CAAK,EACNS,GAAYG,GAAY,WAAW,KAAKZ,CAAK,EAAE,QAAO,CAAE,CAAC,CAClE,CAEM,SAAUe,GAAgBC,EAAoBd,EAAW,CAC7D,OAAOe,GAAYD,EAAE,SAAS,EAAE,EAAE,SAASd,EAAM,EAAG,GAAG,CAAC,CAC1D,CACM,SAAUgB,GAAgBF,EAAoBd,EAAW,CAC7D,OAAOa,GAAgBC,EAAGd,CAAG,EAAE,QAAO,CACxC,CAeM,SAAUiB,GAAYC,EAAeC,EAAUC,EAAuB,CAC1E,IAAIC,EACJ,GAAI,OAAOF,GAAQ,SACjB,GAAI,CACFE,EAAMC,GAAYH,CAAG,CACvB,OAASI,EAAG,CACV,MAAM,IAAI,MAAML,EAAQ,6CAA+CK,CAAC,CAC1E,SACSC,GAASL,CAAG,EAGrBE,EAAM,WAAW,KAAKF,CAAG,MAEzB,OAAM,IAAI,MAAMD,EAAQ,mCAAmC,EAE7D,IAAMO,EAAMJ,EAAI,OAChB,GAAI,OAAOD,GAAmB,UAAYK,IAAQL,EAChD,MAAM,IAAI,MAAMF,EAAQ,cAAgBE,EAAiB,kBAAoBK,CAAG,EAClF,OAAOJ,CACT,CA6CA,IAAMK,GAAYC,GAAc,OAAOA,GAAM,UAAYC,IAAOD,EAE1D,SAAUE,GAAQF,EAAWG,EAAaC,EAAW,CACzD,OAAOL,GAASC,CAAC,GAAKD,GAASI,CAAG,GAAKJ,GAASK,CAAG,GAAKD,GAAOH,GAAKA,EAAII,CAC1E,CAOM,SAAUC,GAASC,EAAeN,EAAWG,EAAaC,EAAW,CAMzE,GAAI,CAACF,GAAQF,EAAGG,EAAKC,CAAG,EACtB,MAAM,IAAI,MAAM,kBAAoBE,EAAQ,KAAOH,EAAM,WAAaC,EAAM,SAAWJ,CAAC,CAC5F,CASM,SAAUO,GAAOP,EAAS,CAC9B,IAAIQ,EACJ,IAAKA,EAAM,EAAGR,EAAIC,GAAKD,IAAMS,GAAKD,GAAO,EAAE,CAC3C,OAAOA,CACT,CAsBO,IAAME,GAAWC,IAAuBC,IAAO,OAAOD,CAAC,GAAKC,GAY7D,SAAUC,GACdC,EACAC,EACAC,EAAkE,CAElE,GAAI,OAAOF,GAAY,UAAYA,EAAU,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAC1F,GAAI,OAAOC,GAAa,UAAYA,EAAW,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAC7F,GAAI,OAAOC,GAAW,WAAY,MAAM,IAAI,MAAM,2BAA2B,EAE7E,IAAMC,EAAOC,GAAgB,IAAI,WAAWA,CAAG,EACzCC,EAAQC,GAAiB,WAAW,GAAGA,CAAI,EAC7CC,EAAIJ,EAAIH,CAAO,EACfQ,EAAIL,EAAIH,CAAO,EACfS,EAAI,EACFC,EAAQ,IAAK,CACjBH,EAAE,KAAK,CAAC,EACRC,EAAE,KAAK,CAAC,EACRC,EAAI,CACN,EACME,EAAI,IAAIC,IAAoBV,EAAOM,EAAGD,EAAG,GAAGK,CAAC,EAC7CC,EAAS,CAACC,EAAOX,EAAI,CAAC,IAAK,CAE/BK,EAAIG,EAAEN,EAAK,CAAI,EAAGS,CAAI,EACtBP,EAAII,EAAC,EACDG,EAAK,SAAW,IACpBN,EAAIG,EAAEN,EAAK,CAAI,EAAGS,CAAI,EACtBP,EAAII,EAAC,EACP,EACMI,EAAM,IAAK,CAEf,GAAIN,KAAO,IAAM,MAAM,IAAI,MAAM,yBAAyB,EAC1D,IAAIL,EAAM,EACJY,EAAoB,CAAA,EAC1B,KAAOZ,EAAMH,GAAU,CACrBM,EAAII,EAAC,EACL,IAAMM,EAAKV,EAAE,MAAK,EAClBS,EAAI,KAAKC,CAAE,EACXb,GAAOG,EAAE,MACX,CACA,OAAOW,GAAa,GAAGF,CAAG,CAC5B,EASA,MARiB,CAACF,EAAkBK,IAAoB,CACtDT,EAAK,EACLG,EAAOC,CAAI,EACX,IAAIM,EACJ,KAAO,EAAEA,EAAMD,EAAKJ,EAAG,CAAE,IAAIF,EAAM,EACnC,OAAAH,EAAK,EACEU,CACT,CAEF,CAoDM,SAAUC,GACdC,EACAC,EACAC,EAAoC,CAAA,EAAE,CAEtC,GAAI,CAACF,GAAU,OAAOA,GAAW,SAAU,MAAM,IAAI,MAAM,+BAA+B,EAE1F,SAASG,EAAWC,EAAiBC,EAAsBC,EAAc,CACvE,IAAMC,EAAMP,EAAOI,CAAS,EAC5B,GAAIE,GAASC,IAAQ,OAAW,OAChC,IAAMC,EAAU,OAAOD,EACvB,GAAIC,IAAYH,GAAgBE,IAAQ,KACtC,MAAM,IAAI,MAAM,UAAU,OAAAH,EAAS,2BAA0B,OAAAC,EAAY,UAAS,OAAAG,EAAS,CAC/F,CACA,OAAO,QAAQP,CAAM,EAAE,QAAQ,CAAC,CAACQ,EAAGC,CAAC,IAAMP,EAAWM,EAAGC,EAAG,EAAK,CAAC,EAClE,OAAO,QAAQR,CAAS,EAAE,QAAQ,CAAC,CAACO,EAAGC,CAAC,IAAMP,EAAWM,EAAGC,EAAG,EAAI,CAAC,CACtE,CAaM,SAAUC,GACdC,EAA6B,CAE7B,IAAMC,EAAM,IAAI,QAChB,MAAO,CAACC,KAAWC,IAAc,CAC/B,IAAMC,EAAMH,EAAI,IAAIC,CAAG,EACvB,GAAIE,IAAQ,OAAW,OAAOA,EAC9B,IAAMC,EAAWL,EAAGE,EAAK,GAAGC,CAAI,EAChC,OAAAF,EAAI,IAAIC,EAAKG,CAAQ,EACdA,CACT,CACF,CCpWA,IAAMC,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAEjGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAEhGC,GAAsB,OAAO,CAAC,EAAGC,GAAsB,OAAO,CAAC,EAAGC,GAAuB,OAAO,EAAE,EAGlG,SAAUC,GAAIC,EAAWC,EAAS,CACtC,IAAMC,EAASF,EAAIC,EACnB,OAAOC,GAAUb,GAAMa,EAASD,EAAIC,CACtC,CAYM,SAAUC,GAAKC,EAAWC,EAAeC,EAAc,CAC3D,IAAIC,EAAMH,EACV,KAAOC,KAAUG,IACfD,GAAOA,EACPA,GAAOD,EAET,OAAOC,CACT,CAMM,SAAUE,GAAOC,EAAgBJ,EAAc,CACnD,GAAII,IAAWF,GAAK,MAAM,IAAI,MAAM,kCAAkC,EACtE,GAAIF,GAAUE,GAAK,MAAM,IAAI,MAAM,0CAA4CF,CAAM,EAErF,IAAIK,EAAIC,GAAIF,EAAQJ,CAAM,EACtBO,EAAIP,EAEJF,EAAII,GAAKM,EAAIC,GAAKC,EAAID,GAAKE,EAAIT,GACnC,KAAOG,IAAMH,IAAK,CAEhB,IAAMU,EAAIL,EAAIF,EACRQ,EAAIN,EAAIF,EACRS,EAAIhB,EAAIY,EAAIE,EACZG,EAAIP,EAAIG,EAAIC,EAElBL,EAAIF,EAAGA,EAAIQ,EAAGf,EAAIY,EAAGF,EAAIG,EAAGD,EAAII,EAAGH,EAAII,CACzC,CAEA,GADYR,IACAE,GAAK,MAAM,IAAI,MAAM,wBAAwB,EACzD,OAAOH,GAAIR,EAAGE,CAAM,CACtB,CAEA,SAASgB,GAAkBC,EAAeC,EAAS,EAAI,CACrD,GAAI,CAACD,EAAG,IAAIA,EAAG,IAAIC,CAAI,EAAG,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,CACzE,CAMA,SAASC,GAAaF,EAAeF,EAAI,CACvC,IAAMK,GAAUH,EAAG,MAAQR,IAAOY,GAC5BH,EAAOD,EAAG,IAAIF,EAAGK,CAAM,EAC7B,OAAAJ,GAAeC,EAAIC,EAAMH,CAAC,EACnBG,CACT,CAEA,SAASI,GAAaL,EAAeF,EAAI,CACvC,IAAMQ,GAAUN,EAAG,MAAQO,IAAOC,GAC5BC,EAAKT,EAAG,IAAIF,EAAGY,EAAG,EAClBhB,EAAIM,EAAG,IAAIS,EAAIH,CAAM,EACrBK,EAAKX,EAAG,IAAIF,EAAGJ,CAAC,EAChBkB,EAAIZ,EAAG,IAAIA,EAAG,IAAIW,EAAID,EAAG,EAAGhB,CAAC,EAC7BO,EAAOD,EAAG,IAAIW,EAAIX,EAAG,IAAIY,EAAGZ,EAAG,GAAG,CAAC,EACzC,OAAAD,GAAeC,EAAIC,EAAMH,CAAC,EACnBG,CACT,CAIA,SAASY,GAAWC,EAAS,CAC3B,IAAMC,EAAMC,GAAMF,CAAC,EACbG,EAAKC,GAAcJ,CAAC,EACpBK,EAAKF,EAAGF,EAAKA,EAAI,IAAIA,EAAI,GAAG,CAAC,EAC7BK,EAAKH,EAAGF,EAAKI,CAAE,EACfE,EAAKJ,EAAGF,EAAKA,EAAI,IAAII,CAAE,CAAC,EACxBG,GAAMR,EAAIS,IAAOC,GACvB,MAAO,CAAIxB,EAAeF,IAAQ,CAChC,IAAI2B,EAAMzB,EAAG,IAAIF,EAAGwB,CAAE,EAClBI,EAAM1B,EAAG,IAAIyB,EAAKN,CAAE,EAClBQ,EAAM3B,EAAG,IAAIyB,EAAKL,CAAE,EACpBQ,EAAM5B,EAAG,IAAIyB,EAAKJ,CAAE,EACpBQ,EAAK7B,EAAG,IAAIA,EAAG,IAAI0B,CAAG,EAAG5B,CAAC,EAC1BgC,EAAK9B,EAAG,IAAIA,EAAG,IAAI2B,CAAG,EAAG7B,CAAC,EAChC2B,EAAMzB,EAAG,KAAKyB,EAAKC,EAAKG,CAAE,EAC1BH,EAAM1B,EAAG,KAAK4B,EAAKD,EAAKG,CAAE,EAC1B,IAAMC,EAAK/B,EAAG,IAAIA,EAAG,IAAI0B,CAAG,EAAG5B,CAAC,EAC1BG,EAAOD,EAAG,KAAKyB,EAAKC,EAAKK,CAAE,EACjC,OAAAhC,GAAeC,EAAIC,EAAMH,CAAC,EACnBG,CACT,CACF,CASM,SAAUiB,GAAcJ,EAAS,CAGrC,GAAIA,EAAIkB,GAAK,MAAM,IAAI,MAAM,qCAAqC,EAElE,IAAIC,EAAInB,EAAItB,GACR0C,EAAI,EACR,KAAOD,EAAIvB,KAAQzB,IACjBgD,GAAKvB,GACLwB,IAIF,IAAIC,EAAIzB,GACF0B,EAAMpB,GAAMF,CAAC,EACnB,KAAOuB,GAAWD,EAAKD,CAAC,IAAM,GAG5B,GAAIA,IAAM,IAAM,MAAM,IAAI,MAAM,+CAA+C,EAGjF,GAAID,IAAM,EAAG,OAAOhC,GAIpB,IAAIoC,EAAKF,EAAI,IAAID,EAAGF,CAAC,EACfM,GAAUN,EAAIzC,IAAOkB,GAC3B,OAAO,SAAwBV,EAAeF,EAAI,CAChD,GAAIE,EAAG,IAAIF,CAAC,EAAG,OAAOA,EAEtB,GAAIuC,GAAWrC,EAAIF,CAAC,IAAM,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAGtE,IAAI0C,EAAIN,EACJO,EAAIzC,EAAG,IAAIA,EAAG,IAAKsC,CAAE,EACrBI,EAAI1C,EAAG,IAAIF,EAAGmC,CAAC,EACfU,EAAI3C,EAAG,IAAIF,EAAGyC,CAAM,EAIxB,KAAO,CAACvC,EAAG,IAAI0C,EAAG1C,EAAG,GAAG,GAAG,CACzB,GAAIA,EAAG,IAAI0C,CAAC,EAAG,OAAO1C,EAAG,KACzB,IAAIY,EAAI,EAGJgC,EAAQ5C,EAAG,IAAI0C,CAAC,EACpB,KAAO,CAAC1C,EAAG,IAAI4C,EAAO5C,EAAG,GAAG,GAG1B,GAFAY,IACAgC,EAAQ5C,EAAG,IAAI4C,CAAK,EAChBhC,IAAM4B,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAIxD,IAAMK,EAAWrD,IAAO,OAAOgD,EAAI5B,EAAI,CAAC,EAClCtB,EAAIU,EAAG,IAAIyC,EAAGI,CAAQ,EAG5BL,EAAI5B,EACJ6B,EAAIzC,EAAG,IAAIV,CAAC,EACZoD,EAAI1C,EAAG,IAAI0C,EAAGD,CAAC,EACfE,EAAI3C,EAAG,IAAI2C,EAAGrD,CAAC,CACjB,CACA,OAAOqD,CACT,CACF,CAaM,SAAUG,GAAOhC,EAAS,CAE9B,OAAIA,EAAIV,KAAQ4B,GAAY9B,GAExBY,EAAIN,KAAQD,GAAYF,GAExBS,EAAIU,KAASuB,GAAYlC,GAAWC,CAAC,EAElCI,GAAcJ,CAAC,CACxB,CAmDA,IAAMkC,GAAe,CACnB,SAAU,UAAW,MAAO,MAAO,MAAO,OAAQ,MAClD,MAAO,MAAO,MAAO,MAAO,MAAO,MACnC,OAAQ,OAAQ,OAAQ,QAEpB,SAAUC,GAAiBC,EAAgB,CAC/C,IAAMC,EAAU,CACd,MAAO,SACP,KAAM,SACN,MAAO,SACP,KAAM,UAEFC,EAAOJ,GAAa,OAAO,CAACK,EAAKC,KACrCD,EAAIC,CAAG,EAAI,WACJD,GACNF,CAAO,EACV,OAAAI,GAAgBL,EAAOE,CAAI,EAIpBF,CACT,CAQM,SAAUM,GAASC,EAAeC,EAAQC,EAAa,CAC3D,GAAIA,EAAQC,GAAK,MAAM,IAAI,MAAM,yCAAyC,EAC1E,GAAID,IAAUC,GAAK,OAAOH,EAAG,IAC7B,GAAIE,IAAUE,GAAK,OAAOH,EAC1B,IAAII,EAAIL,EAAG,IACPM,EAAIL,EACR,KAAOC,EAAQC,IACTD,EAAQE,KAAKC,EAAIL,EAAG,IAAIK,EAAGC,CAAC,GAChCA,EAAIN,EAAG,IAAIM,CAAC,EACZJ,IAAUE,GAEZ,OAAOC,CACT,CAOM,SAAUE,GAAiBP,EAAeQ,EAAWC,EAAW,GAAK,CACzE,IAAMC,EAAW,IAAI,MAAMF,EAAK,MAAM,EAAE,KAAKC,EAAWT,EAAG,KAAO,MAAS,EAErEW,EAAgBH,EAAK,OAAO,CAACI,EAAKX,EAAKY,IACvCb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAID,EACPZ,EAAG,IAAIY,EAAKX,CAAG,GACrBD,EAAG,GAAG,EAEHc,EAAcd,EAAG,IAAIW,CAAa,EAExC,OAAAH,EAAK,YAAY,CAACI,EAAKX,EAAKY,IACtBb,EAAG,IAAIC,CAAG,EAAUW,GACxBF,EAASG,CAAC,EAAIb,EAAG,IAAIY,EAAKF,EAASG,CAAC,CAAC,EAC9Bb,EAAG,IAAIY,EAAKX,CAAG,GACrBa,CAAW,EACPJ,CACT,CAgBM,SAAUK,GAAcC,EAAeC,EAAI,CAG/C,IAAMC,GAAUF,EAAG,MAAQG,IAAOC,GAC5BC,EAAUL,EAAG,IAAIC,EAAGC,CAAM,EAC1BI,EAAMN,EAAG,IAAIK,EAASL,EAAG,GAAG,EAC5BO,EAAOP,EAAG,IAAIK,EAASL,EAAG,IAAI,EAC9BQ,EAAKR,EAAG,IAAIK,EAASL,EAAG,IAAIA,EAAG,GAAG,CAAC,EACzC,GAAI,CAACM,GAAO,CAACC,GAAQ,CAACC,EAAI,MAAM,IAAI,MAAM,gCAAgC,EAC1E,OAAOF,EAAM,EAAIC,EAAO,EAAI,EAC9B,CAUM,SAAUE,GAAQC,EAAWC,EAAmB,CAEhDA,IAAe,QAAWC,GAAQD,CAAU,EAChD,IAAME,EAAcF,IAAe,OAAYA,EAAaD,EAAE,SAAS,CAAC,EAAE,OACpEI,EAAc,KAAK,KAAKD,EAAc,CAAC,EAC7C,MAAO,CAAE,WAAYA,EAAa,YAAAC,CAAW,CAC/C,CA8BM,SAAUC,GACdC,EACAC,EACAC,EAAO,GACPC,EAA0B,CAAA,EAAE,CAE5B,GAAIH,GAASI,GAAK,MAAM,IAAI,MAAM,0CAA4CJ,CAAK,EACnF,IAAIK,EACAC,EACAC,EAAwB,GACxBC,EACJ,GAAI,OAAOP,GAAiB,UAAYA,GAAgB,KAAM,CAC5D,GAAIE,EAAK,MAAQD,EAAM,MAAM,IAAI,MAAM,sCAAsC,EAC7E,IAAMO,EAAQR,EACVQ,EAAM,OAAMJ,EAAcI,EAAM,MAChCA,EAAM,OAAMH,EAAQG,EAAM,MAC1B,OAAOA,EAAM,MAAS,YAAWP,EAAOO,EAAM,MAC9C,OAAOA,EAAM,cAAiB,YAAWF,EAAeE,EAAM,cAClED,EAAiBC,EAAM,cACzB,MACM,OAAOR,GAAiB,WAAUI,EAAcJ,GAChDE,EAAK,OAAMG,EAAQH,EAAK,MAE9B,GAAM,CAAE,WAAYO,EAAM,YAAaC,CAAK,EAAKlB,GAAQO,EAAOK,CAAW,EAC3E,GAAIM,EAAQ,KAAM,MAAM,IAAI,MAAM,gDAAgD,EAClF,IAAIC,EACE,EAAuB,OAAO,OAAO,CACzC,MAAAZ,EACA,KAAAE,EACA,KAAAQ,EACA,MAAAC,EACA,KAAME,GAAQH,CAAI,EAClB,KAAMN,GACN,IAAKU,GACL,eAAgBN,EAChB,OAASO,GAAQC,GAAID,EAAKf,CAAK,EAC/B,QAAUe,GAAO,CACf,GAAI,OAAOA,GAAQ,SACjB,MAAM,IAAI,MAAM,+CAAiD,OAAOA,CAAG,EAC7E,OAAOX,IAAOW,GAAOA,EAAMf,CAC7B,EACA,IAAMe,GAAQA,IAAQX,GAEtB,YAAcW,GAAgB,CAAC,EAAE,IAAIA,CAAG,GAAK,EAAE,QAAQA,CAAG,EAC1D,MAAQA,IAASA,EAAMD,MAASA,GAChC,IAAMC,GAAQC,GAAI,CAACD,EAAKf,CAAK,EAC7B,IAAK,CAACiB,EAAKC,IAAQD,IAAQC,EAE3B,IAAMH,GAAQC,GAAID,EAAMA,EAAKf,CAAK,EAClC,IAAK,CAACiB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKlB,CAAK,EACvC,IAAK,CAACiB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKlB,CAAK,EACvC,IAAK,CAACiB,EAAKC,IAAQF,GAAIC,EAAMC,EAAKlB,CAAK,EACvC,IAAK,CAACe,EAAKI,IAAUC,GAAM,EAAGL,EAAKI,CAAK,EACxC,IAAK,CAACF,EAAKC,IAAQF,GAAIC,EAAMI,GAAOH,EAAKlB,CAAK,EAAGA,CAAK,EAGtD,KAAOe,GAAQA,EAAMA,EACrB,KAAM,CAACE,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAC1B,KAAM,CAACD,EAAKC,IAAQD,EAAMC,EAE1B,IAAMH,GAAQM,GAAON,EAAKf,CAAK,EAC/B,KACEM,IACEZ,IACKkB,IAAOA,EAAQU,GAAOtB,CAAK,GACzBY,EAAM,EAAGlB,CAAC,IAErB,QAAUqB,GAASb,EAAOqB,GAAgBR,EAAKJ,CAAK,EAAIa,GAAgBT,EAAKJ,CAAK,EAClF,UAAW,CAACc,EAAOC,EAAiB,KAAQ,CAC1C,GAAIlB,EAAgB,CAClB,GAAI,CAACA,EAAe,SAASiB,EAAM,MAAM,GAAKA,EAAM,OAASd,EAC3D,MAAM,IAAI,MACR,6BAA+BH,EAAiB,eAAiBiB,EAAM,MAAM,EAGjF,IAAME,EAAS,IAAI,WAAWhB,CAAK,EAEnCgB,EAAO,IAAIF,EAAOvB,EAAO,EAAIyB,EAAO,OAASF,EAAM,MAAM,EACzDA,EAAQE,CACV,CACA,GAAIF,EAAM,SAAWd,EACnB,MAAM,IAAI,MAAM,6BAA+BA,EAAQ,eAAiBc,EAAM,MAAM,EACtF,IAAIG,EAAS1B,EAAO2B,GAAgBJ,CAAK,EAAIK,GAAgBL,CAAK,EAElE,GADIlB,IAAcqB,EAASZ,GAAIY,EAAQ5B,CAAK,GACxC,CAAC0B,GACC,CAAC,EAAE,QAAQE,CAAM,EAAG,MAAM,IAAI,MAAM,kDAAkD,EAG5F,OAAOA,CACT,EAEA,YAAcG,GAAQC,GAAc,EAAGD,CAAG,EAG1C,KAAM,CAACE,EAAGC,EAAGC,IAAOA,EAAID,EAAID,EAClB,EACZ,OAAO,OAAO,OAAO,CAAC,CACxB,CAwDM,SAAUG,GAAoBC,EAAkB,CACpD,GAAI,OAAOA,GAAe,SAAU,MAAM,IAAI,MAAM,4BAA4B,EAChF,IAAMC,EAAYD,EAAW,SAAS,CAAC,EAAE,OACzC,OAAO,KAAK,KAAKC,EAAY,CAAC,CAChC,CASM,SAAUC,GAAiBF,EAAkB,CACjD,IAAMG,EAASJ,GAAoBC,CAAU,EAC7C,OAAOG,EAAS,KAAK,KAAKA,EAAS,CAAC,CACtC,CAeM,SAAUC,GAAeC,EAAiBL,EAAoBM,EAAO,GAAK,CAC9E,IAAMC,EAAMF,EAAI,OACVG,EAAWT,GAAoBC,CAAU,EACzCS,EAASP,GAAiBF,CAAU,EAE1C,GAAIO,EAAM,IAAMA,EAAME,GAAUF,EAAM,KACpC,MAAM,IAAI,MAAM,YAAcE,EAAS,6BAA+BF,CAAG,EAC3E,IAAMG,EAAMJ,EAAOK,GAAgBN,CAAG,EAAIO,GAAgBP,CAAG,EAEvDQ,EAAUC,GAAIJ,EAAKV,EAAae,EAAG,EAAIA,GAC7C,OAAOT,EAAOU,GAAgBH,EAASL,CAAQ,EAAIS,GAAgBJ,EAASL,CAAQ,CACtF,CCnlBA,IAAMU,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EA0Id,SAAUC,GAAwCC,EAAoBC,EAAO,CACjF,IAAMC,EAAMD,EAAK,OAAM,EACvB,OAAOD,EAAYE,EAAMD,CAC3B,CAQM,SAAUE,GACdC,EACAC,EAAW,CAEX,IAAMC,EAAaC,GACjBH,EAAE,GACFC,EAAO,IAAKG,GAAMA,EAAE,CAAE,CAAC,EAEzB,OAAOH,EAAO,IAAI,CAACG,EAAGC,IAAML,EAAE,WAAWI,EAAE,SAASF,EAAWG,CAAC,CAAC,CAAC,CAAC,CACrE,CAEA,SAASC,GAAUC,EAAWC,EAAY,CACxC,GAAI,CAAC,OAAO,cAAcD,CAAC,GAAKA,GAAK,GAAKA,EAAIC,EAC5C,MAAM,IAAI,MAAM,qCAAuCA,EAAO,YAAcD,CAAC,CACjF,CAWA,SAASE,GAAUF,EAAWG,EAAkB,CAC9CJ,GAAUC,EAAGG,CAAU,EACvB,IAAMC,EAAU,KAAK,KAAKD,EAAaH,CAAC,EAAI,EACtCK,EAAa,IAAML,EAAI,GACvBM,EAAY,GAAKN,EACjBO,EAAOC,GAAQR,CAAC,EAChBS,EAAU,OAAOT,CAAC,EACxB,MAAO,CAAE,QAAAI,EAAS,WAAAC,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,CACxD,CAEA,SAASC,GAAYC,EAAWC,EAAgBC,EAAY,CAC1D,GAAM,CAAE,WAAAR,EAAY,KAAAE,EAAM,UAAAD,EAAW,QAAAG,CAAO,EAAKI,EAC7CC,EAAQ,OAAOH,EAAIJ,CAAI,EACvBQ,EAAQJ,GAAKF,EAQbK,EAAQT,IAEVS,GAASR,EACTS,GAAS5B,IAEX,IAAM6B,EAAcJ,EAASP,EACvBY,EAASD,EAAc,KAAK,IAAIF,CAAK,EAAI,EACzCI,EAASJ,IAAU,EACnBK,EAAQL,EAAQ,EAChBM,EAASR,EAAS,IAAM,EAE9B,MAAO,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAD/BJ,CACsC,CACxD,CAEA,SAASK,GAAkB3B,EAAeD,EAAM,CAC9C,GAAI,CAAC,MAAM,QAAQC,CAAM,EAAG,MAAM,IAAI,MAAM,gBAAgB,EAC5DA,EAAO,QAAQ,CAACG,EAAGC,IAAK,CACtB,GAAI,EAAED,aAAaJ,GAAI,MAAM,IAAI,MAAM,0BAA4BK,CAAC,CACtE,CAAC,CACH,CACA,SAASwB,GAAmBC,EAAgBC,EAAU,CACpD,GAAI,CAAC,MAAM,QAAQD,CAAO,EAAG,MAAM,IAAI,MAAM,2BAA2B,EACxEA,EAAQ,QAAQ,CAACE,EAAG3B,IAAK,CACvB,GAAI,CAAC0B,EAAM,QAAQC,CAAC,EAAG,MAAM,IAAI,MAAM,2BAA6B3B,CAAC,CACvE,CAAC,CACH,CAKA,IAAM4B,GAAmB,IAAI,QACvBC,GAAmB,IAAI,QAE7B,SAASC,GAAKC,EAAM,CAGlB,OAAOF,GAAiB,IAAIE,CAAC,GAAK,CACpC,CAEA,SAASC,GAAQnB,EAAS,CACxB,GAAIA,IAAMzB,GAAK,MAAM,IAAI,MAAM,cAAc,CAC/C,CAoBM,IAAO6C,GAAP,KAAW,CAOf,YAAYC,EAAW/B,EAAY,CACjC,KAAK,KAAO+B,EAAM,KAClB,KAAK,KAAOA,EAAM,KAClB,KAAK,GAAKA,EAAM,GAChB,KAAK,KAAO/B,CACd,CAGA,cAAcgC,EAAe,EAAWpC,EAAc,KAAK,KAAI,CAC7D,IAAIqC,EAAcD,EAClB,KAAO,EAAI/C,IACL,EAAIC,KAAKU,EAAIA,EAAE,IAAIqC,CAAC,GACxBA,EAAIA,EAAE,OAAM,EACZ,IAAM/C,GAER,OAAOU,CACT,CAcQ,iBAAiBsC,EAAiBnC,EAAS,CACjD,GAAM,CAAE,QAAAI,EAAS,WAAAC,CAAU,EAAKH,GAAUF,EAAG,KAAK,IAAI,EAChDN,EAAqB,CAAA,EACvBG,EAAcsC,EACdC,EAAOvC,EACX,QAASe,EAAS,EAAGA,EAASR,EAASQ,IAAU,CAC/CwB,EAAOvC,EACPH,EAAO,KAAK0C,CAAI,EAEhB,QAAStC,EAAI,EAAGA,EAAIO,EAAYP,IAC9BsC,EAAOA,EAAK,IAAIvC,CAAC,EACjBH,EAAO,KAAK0C,CAAI,EAElBvC,EAAIuC,EAAK,OAAM,CACjB,CACA,OAAO1C,CACT,CAQQ,KAAKM,EAAWqC,EAAyB1B,EAAS,CAExD,GAAI,CAAC,KAAK,GAAG,QAAQA,CAAC,EAAG,MAAM,IAAI,MAAM,gBAAgB,EAEzD,IAAId,EAAI,KAAK,KACTyC,EAAI,KAAK,KAMPC,EAAKrC,GAAUF,EAAG,KAAK,IAAI,EACjC,QAASY,EAAS,EAAGA,EAAS2B,EAAG,QAAS3B,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,EAAO,OAAAC,EAAQ,QAAAoB,CAAO,EAAK9B,GAAYC,EAAGC,EAAQ2B,CAAE,EACnF5B,EAAII,EACAG,EAGFoB,EAAIA,EAAE,IAAIlD,GAASgC,EAAQiB,EAAYG,CAAO,CAAC,CAAC,EAGhD3C,EAAIA,EAAE,IAAIT,GAAS+B,EAAOkB,EAAYpB,CAAM,CAAC,CAAC,CAElD,CACA,OAAAa,GAAQnB,CAAC,EAIF,CAAE,EAAAd,EAAG,EAAAyC,CAAC,CACf,CAOQ,WACNtC,EACAqC,EACA1B,EACA8B,EAAgB,KAAK,KAAI,CAEzB,IAAMF,EAAKrC,GAAUF,EAAG,KAAK,IAAI,EACjC,QAASY,EAAS,EAAGA,EAAS2B,EAAG,SAC3B5B,IAAMzB,GAD8B0B,IAAU,CAElD,GAAM,CAAE,MAAAG,EAAO,OAAAE,EAAQ,OAAAC,EAAQ,MAAAC,CAAK,EAAKT,GAAYC,EAAGC,EAAQ2B,CAAE,EAElE,GADA5B,EAAII,EACA,CAAAG,EAIG,CACL,IAAM5B,EAAO+C,EAAYpB,CAAM,EAC/BwB,EAAMA,EAAI,IAAItB,EAAQ7B,EAAK,OAAM,EAAKA,CAAI,CAC5C,CACF,CACA,OAAAwC,GAAQnB,CAAC,EACF8B,CACT,CAEQ,eAAezC,EAAWmC,EAAiBO,EAA4B,CAE7E,IAAIC,EAAOjB,GAAiB,IAAIS,CAAK,EACrC,OAAKQ,IACHA,EAAO,KAAK,iBAAiBR,EAAOnC,CAAC,EACjCA,IAAM,IAEJ,OAAO0C,GAAc,aAAYC,EAAOD,EAAUC,CAAI,GAC1DjB,GAAiB,IAAIS,EAAOQ,CAAI,IAG7BA,CACT,CAEA,OACER,EACAS,EACAF,EAA4B,CAE5B,IAAM1C,EAAI4B,GAAKO,CAAK,EACpB,OAAO,KAAK,KAAKnC,EAAG,KAAK,eAAeA,EAAGmC,EAAOO,CAAS,EAAGE,CAAM,CACtE,CAEA,OAAOT,EAAiBS,EAAgBF,EAA8BG,EAAe,CACnF,IAAM7C,EAAI4B,GAAKO,CAAK,EACpB,OAAInC,IAAM,EAAU,KAAK,cAAcmC,EAAOS,EAAQC,CAAI,EACnD,KAAK,WAAW7C,EAAG,KAAK,eAAeA,EAAGmC,EAAOO,CAAS,EAAGE,EAAQC,CAAI,CAClF,CAKA,YAAYhB,EAAa7B,EAAS,CAChCD,GAAUC,EAAG,KAAK,IAAI,EACtB2B,GAAiB,IAAIE,EAAG7B,CAAC,EACzB0B,GAAiB,OAAOG,CAAC,CAC3B,CAEA,SAASI,EAAa,CACpB,OAAOL,GAAKK,CAAG,IAAM,CACvB,GAOI,SAAUa,GACdd,EACAG,EACAY,EACAC,EAAU,CAEV,IAAIP,EAAMN,EACNc,EAAKjB,EAAM,KACXkB,EAAKlB,EAAM,KACf,KAAOe,EAAK7D,IAAO8D,EAAK9D,IAClB6D,EAAK5D,KAAK8D,EAAKA,EAAG,IAAIR,CAAG,GACzBO,EAAK7D,KAAK+D,EAAKA,EAAG,IAAIT,CAAG,GAC7BA,EAAMA,EAAI,OAAM,EAChBM,IAAO5D,GACP6D,IAAO7D,GAET,MAAO,CAAE,GAAA8D,EAAI,GAAAC,CAAE,CACjB,CAYM,SAAUC,GACd1D,EACA2D,EACA1D,EACA6B,EAAiB,CAQjBF,GAAkB3B,EAAQD,CAAC,EAC3B6B,GAAmBC,EAAS6B,CAAM,EAClC,IAAMC,EAAU3D,EAAO,OACjB4D,EAAU/B,EAAQ,OACxB,GAAI8B,IAAYC,EAAS,MAAM,IAAI,MAAM,qDAAqD,EAE9F,IAAMC,EAAO9D,EAAE,KACTqB,EAAQ0C,GAAO,OAAOH,CAAO,CAAC,EAChChD,EAAa,EACbS,EAAQ,GAAIT,EAAaS,EAAQ,EAC5BA,EAAQ,EAAGT,EAAaS,EAAQ,EAChCA,EAAQ,IAAGT,EAAa,GACjC,IAAMoD,EAAOjD,GAAQH,CAAU,EACzBqD,EAAU,IAAI,MAAM,OAAOD,CAAI,EAAI,CAAC,EAAE,KAAKF,CAAI,EAC/CI,EAAW,KAAK,OAAOP,EAAO,KAAO,GAAK/C,CAAU,EAAIA,EAC1DuD,EAAML,EACV,QAASzD,EAAI6D,EAAU7D,GAAK,EAAGA,GAAKO,EAAY,CAC9CqD,EAAQ,KAAKH,CAAI,EACjB,QAASM,EAAI,EAAGA,EAAIP,EAASO,IAAK,CAChC,IAAMjB,EAASrB,EAAQsC,CAAC,EAClB/C,EAAQ,OAAQ8B,GAAU,OAAO9C,CAAC,EAAK2D,CAAI,EACjDC,EAAQ5C,CAAK,EAAI4C,EAAQ5C,CAAK,EAAE,IAAIpB,EAAOmE,CAAC,CAAC,CAC/C,CACA,IAAIC,EAAOP,EAEX,QAASM,EAAIH,EAAQ,OAAS,EAAGK,EAAOR,EAAMM,EAAI,EAAGA,IACnDE,EAAOA,EAAK,IAAIL,EAAQG,CAAC,CAAC,EAC1BC,EAAOA,EAAK,IAAIC,CAAI,EAGtB,GADAH,EAAMA,EAAI,IAAIE,CAAI,EACdhE,IAAM,EAAG,QAAS+D,EAAI,EAAGA,EAAIxD,EAAYwD,IAAKD,EAAMA,EAAI,OAAM,CACpE,CACA,OAAOA,CACT,CAkJA,SAASI,GAAeC,EAAeC,EAAmBC,EAAc,CACtE,GAAID,EAAO,CACT,GAAIA,EAAM,QAAUD,EAAO,MAAM,IAAI,MAAM,gDAAgD,EAC3F,OAAAG,GAAcF,CAAK,EACZA,CACT,KACE,QAAOG,GAAMJ,EAAO,CAAE,KAAAE,CAAI,CAAE,CAEhC,CAIM,SAAUG,GACdC,EACAC,EACAC,EAA8B,CAAA,EAC9BC,EAAgB,CAGhB,GADIA,IAAW,SAAWA,EAASH,IAAS,WACxC,CAACC,GAAS,OAAOA,GAAU,SAAU,MAAM,IAAI,MAAM,kBAAkB,OAAAD,EAAI,gBAAe,EAC9F,QAAWI,IAAK,CAAC,IAAK,IAAK,GAAG,EAAY,CACxC,IAAMC,EAAMJ,EAAMG,CAAC,EACnB,GAAI,EAAE,OAAOC,GAAQ,UAAYA,EAAMC,IACrC,MAAM,IAAI,MAAM,SAAS,OAAAF,EAAC,2BAA0B,CACxD,CACA,IAAMG,EAAKd,GAAYQ,EAAM,EAAGC,EAAU,GAAIC,CAAM,EAC9CK,EAAKf,GAAYQ,EAAM,EAAGC,EAAU,GAAIC,CAAM,EAE9CM,EAAS,CAAC,KAAM,KAAM,IADNT,IAAS,cAAgB,IAAM,GAClB,EACnC,QAAWI,KAAKK,EAEd,GAAI,CAACF,EAAG,QAAQN,EAAMG,CAAC,CAAC,EACtB,MAAM,IAAI,MAAM,SAAS,OAAAA,EAAC,2CAA0C,EAExE,OAAAH,EAAQ,OAAO,OAAO,OAAO,OAAO,CAAA,EAAIA,CAAK,CAAC,EACvC,CAAE,MAAAA,EAAO,GAAAM,EAAI,GAAAC,CAAE,CACxB,CCtkBA,IAAME,GAAa,CAACC,EAAaC,KAAiBD,GAAOA,GAAO,EAAIC,EAAM,CAACA,GAAOC,IAAOD,EAOnF,SAAUE,GAAiBC,EAAWC,EAAkB,EAAS,CAIrE,GAAM,CAAC,CAACC,EAAIC,CAAE,EAAG,CAACC,EAAIC,CAAE,CAAC,EAAIJ,EACvBK,EAAKX,GAAWU,EAAKL,EAAG,CAAC,EACzBO,EAAKZ,GAAW,CAACQ,EAAKH,EAAG,CAAC,EAG5BQ,EAAKR,EAAIM,EAAKJ,EAAKK,EAAKH,EACxBK,EAAK,CAACH,EAAKH,EAAKI,EAAKF,EACnBK,EAAQF,EAAKG,GACbC,EAAQH,EAAKE,GACfD,IAAOF,EAAK,CAACA,GACbI,IAAOH,EAAK,CAACA,GAGjB,IAAMI,EAAUC,GAAQ,KAAK,KAAKC,GAAO,CAAC,EAAI,CAAC,CAAC,EAAIC,GACpD,GAAIR,EAAKG,IAAOH,GAAMK,GAAWJ,EAAKE,IAAOF,GAAMI,EACjD,MAAM,IAAI,MAAM,yCAA2Cb,CAAC,EAE9D,MAAO,CAAE,MAAAU,EAAO,GAAAF,EAAI,MAAAI,EAAO,GAAAH,CAAE,CAC/B,CAkBA,SAASQ,GAAkBC,EAAc,CACvC,GAAI,CAAC,CAAC,UAAW,YAAa,KAAK,EAAE,SAASA,CAAM,EAClD,MAAM,IAAI,MAAM,2DAA2D,EAC7E,OAAOA,CACT,CAEA,SAASC,GACPC,EACAC,EAAM,CAEN,IAAMC,EAAuB,CAAA,EAC7B,QAASC,KAAW,OAAO,KAAKF,CAAG,EAEjCC,EAAMC,CAAO,EAAIH,EAAKG,CAAO,IAAM,OAAYF,EAAIE,CAAO,EAAIH,EAAKG,CAAO,EAE5E,OAAAC,GAAMF,EAAM,KAAO,MAAM,EACzBE,GAAMF,EAAM,QAAU,SAAS,EAC3BA,EAAM,SAAW,QAAWL,GAAkBK,EAAM,MAAM,EACvDA,CACT,CAmJM,IAAOG,GAAP,cAAsB,KAAK,CAC/B,YAAYC,EAAI,GAAE,CAChB,MAAMA,CAAC,CACT,GA6BWC,GAAY,CAEvB,IAAKF,GAEL,KAAM,CACJ,OAAQ,CAACG,EAAaC,IAAwB,CAC5C,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIC,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,EAAG,MAAM,IAAIC,EAAE,2BAA2B,EAC5D,IAAMC,EAAUF,EAAK,OAAS,EACxBG,EAAMC,GAAoBF,CAAO,EACvC,GAAKC,EAAI,OAAS,EAAK,IAAa,MAAM,IAAIF,EAAE,sCAAsC,EAEtF,IAAMI,EAASH,EAAU,IAAME,GAAqBD,EAAI,OAAS,EAAK,GAAW,EAAI,GAErF,OADUC,GAAoBL,CAAG,EACtBM,EAASF,EAAMH,CAC5B,EAEA,OAAOD,EAAaC,EAAgB,CAClC,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACfQ,EAAM,EACV,GAAIP,EAAM,GAAKA,EAAM,IAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC7D,GAAID,EAAK,OAAS,GAAKA,EAAKM,GAAK,IAAMP,EAAK,MAAM,IAAIE,EAAE,uBAAuB,EAC/E,IAAMM,EAAQP,EAAKM,GAAK,EAClBE,EAAS,CAAC,EAAED,EAAQ,KACtBE,EAAS,EACb,GAAI,CAACD,EAAQC,EAASF,MACjB,CAEH,IAAMF,EAASE,EAAQ,IACvB,GAAI,CAACF,EAAQ,MAAM,IAAIJ,EAAE,mDAAmD,EAC5E,GAAII,EAAS,EAAG,MAAM,IAAIJ,EAAE,0CAA0C,EACtE,IAAMS,EAAcV,EAAK,SAASM,EAAKA,EAAMD,CAAM,EACnD,GAAIK,EAAY,SAAWL,EAAQ,MAAM,IAAIJ,EAAE,uCAAuC,EACtF,GAAIS,EAAY,CAAC,IAAM,EAAG,MAAM,IAAIT,EAAE,sCAAsC,EAC5E,QAAWU,KAAKD,EAAaD,EAAUA,GAAU,EAAKE,EAEtD,GADAL,GAAOD,EACHI,EAAS,IAAK,MAAM,IAAIR,EAAE,wCAAwC,CACxE,CACA,IAAMW,EAAIZ,EAAK,SAASM,EAAKA,EAAMG,CAAM,EACzC,GAAIG,EAAE,SAAWH,EAAQ,MAAM,IAAIR,EAAE,gCAAgC,EACrE,MAAO,CAAE,EAAAW,EAAG,EAAGZ,EAAK,SAASM,EAAMG,CAAM,CAAC,CAC5C,GAMF,KAAM,CACJ,OAAO1C,EAAW,CAChB,GAAM,CAAE,IAAKkC,CAAC,EAAKH,GACnB,GAAI/B,EAAMe,GAAK,MAAM,IAAImB,EAAE,4CAA4C,EACvE,IAAIY,EAAMT,GAAoBrC,CAAG,EAGjC,GADI,OAAO,SAAS8C,EAAI,CAAC,EAAG,EAAE,EAAI,IAAQA,EAAM,KAAOA,GACnDA,EAAI,OAAS,EAAG,MAAM,IAAIZ,EAAE,gDAAgD,EAChF,OAAOY,CACT,EACA,OAAOb,EAAgB,CACrB,GAAM,CAAE,IAAKC,CAAC,EAAKH,GACnB,GAAIE,EAAK,CAAC,EAAI,IAAa,MAAM,IAAIC,EAAE,qCAAqC,EAC5E,GAAID,EAAK,CAAC,IAAM,GAAQ,EAAEA,EAAK,CAAC,EAAI,KAClC,MAAM,IAAIC,EAAE,qDAAqD,EACnE,OAAOa,GAAgBd,CAAI,CAC7B,GAEF,MAAMa,EAAwB,CAE5B,GAAM,CAAE,IAAKZ,EAAG,KAAMc,EAAK,KAAMC,CAAG,EAAKlB,GACnCE,EAAOiB,GAAY,YAAaJ,CAAG,EACnC,CAAE,EAAGK,EAAU,EAAGC,CAAY,EAAKH,EAAI,OAAO,GAAMhB,CAAI,EAC9D,GAAImB,EAAa,OAAQ,MAAM,IAAIlB,EAAE,6CAA6C,EAClF,GAAM,CAAE,EAAGmB,EAAQ,EAAGC,CAAU,EAAKL,EAAI,OAAO,EAAME,CAAQ,EACxD,CAAE,EAAGI,EAAQC,CAAa,EAAKP,EAAI,OAAO,EAAMK,CAAU,EAChE,GAAIE,EAAW,OAAQ,MAAM,IAAItB,EAAE,6CAA6C,EAChF,MAAO,CAAE,EAAGc,EAAI,OAAOK,CAAM,EAAG,EAAGL,EAAI,OAAOO,CAAM,CAAC,CACvD,EACA,WAAWE,EAA6B,CACtC,GAAM,CAAE,KAAMR,EAAK,KAAMD,CAAG,EAAKjB,GAC3B2B,EAAKT,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCE,EAAKV,EAAI,OAAO,EAAMD,EAAI,OAAOS,EAAI,CAAC,CAAC,EACvCG,EAAMF,EAAKC,EACjB,OAAOV,EAAI,OAAO,GAAMW,CAAG,CAC7B,GAKI7C,GAAM,OAAO,CAAC,EAAGK,GAAM,OAAO,CAAC,EAAGlB,GAAM,OAAO,CAAC,EAAG2D,GAAM,OAAO,CAAC,EAAGC,GAAM,OAAO,CAAC,EAElF,SAAUC,GAAeC,EAAoBC,EAAY,CAC7D,GAAM,CAAE,MAAOC,CAAQ,EAAKF,EACxBhE,EACJ,GAAI,OAAOiE,GAAQ,SACjBjE,EAAMiE,MACD,CACL,IAAIE,EAAQjB,GAAY,cAAee,CAAG,EAC1C,GAAI,CACFjE,EAAMgE,EAAG,UAAUG,CAAK,CAC1B,OAASC,EAAO,CACd,MAAM,IAAI,MAAM,8CAA8C,OAAAF,EAAQ,UAAS,cAAOD,EAAK,CAC7F,CACF,CACA,GAAI,CAACD,EAAG,YAAYhE,CAAG,EAAG,MAAM,IAAI,MAAM,4CAA4C,EACtF,OAAOA,CACT,CAmBM,SAAUqE,GACdC,EACAC,EAAqC,CAAA,EAAE,CAEvC,IAAMC,EAAYC,GAAmB,cAAeH,EAAQC,CAAS,EAC/D,CAAE,GAAAG,EAAI,GAAAV,CAAE,EAAKQ,EACfG,EAAQH,EAAU,MAChB,CAAE,EAAGI,EAAU,EAAGC,CAAW,EAAKF,EACxCG,GACEP,EACA,CAAA,EACA,CACE,mBAAoB,UACpB,cAAe,WACf,cAAe,WACf,UAAW,WACX,QAAS,WACT,KAAM,SACN,eAAgB,UACjB,EAGH,GAAM,CAAE,KAAAQ,CAAI,EAAKR,EACjB,GAAIQ,IAEE,CAACL,EAAG,IAAIC,EAAM,CAAC,GAAK,OAAOI,EAAK,MAAS,UAAY,CAAC,MAAM,QAAQA,EAAK,OAAO,GAClF,MAAM,IAAI,MAAM,4DAA4D,EAIhF,IAAMC,EAAUC,GAAYP,EAAIV,CAAE,EAElC,SAASkB,GAA4B,CACnC,GAAI,CAACR,EAAG,MAAO,MAAM,IAAI,MAAM,4DAA4D,CAC7F,CAGA,SAASS,EACPC,EACAC,EACAC,EAAqB,CAErB,GAAM,CAAE,EAAG,EAAAC,CAAC,EAAKF,EAAM,SAAQ,EACzBG,EAAKd,EAAG,QAAQ,CAAC,EAEvB,GADA9C,GAAM0D,EAAc,cAAc,EAC9BA,EAAc,CAChBJ,EAA4B,EAC5B,IAAMO,EAAW,CAACf,EAAG,MAAOa,CAAC,EAC7B,OAAOG,GAAYC,GAAQF,CAAQ,EAAGD,CAAE,CAC1C,KACE,QAAOE,GAAY,WAAW,GAAG,CAAI,EAAGF,EAAId,EAAG,QAAQa,CAAC,CAAC,CAE7D,CACA,SAASK,EAAezB,EAAiB,CACvC0B,GAAO1B,EAAO,OAAW,OAAO,EAChC,GAAM,CAAE,UAAW2B,EAAM,sBAAuBC,CAAM,EAAKf,EACrDtC,EAASyB,EAAM,OACf6B,EAAO7B,EAAM,CAAC,EACd8B,EAAO9B,EAAM,SAAS,CAAC,EAE7B,GAAIzB,IAAWoD,IAASE,IAAS,GAAQA,IAAS,GAAO,CACvD,IAAME,EAAIxB,EAAG,UAAUuB,CAAI,EAC3B,GAAI,CAACvB,EAAG,QAAQwB,CAAC,EAAG,MAAM,IAAI,MAAM,qCAAqC,EACzE,IAAMC,EAAKC,EAAoBF,CAAC,EAC5BX,EACJ,GAAI,CACFA,EAAIb,EAAG,KAAKyB,CAAE,CAChB,OAASE,EAAW,CAClB,IAAMC,EAAMD,aAAqB,MAAQ,KAAOA,EAAU,QAAU,GACpE,MAAM,IAAI,MAAM,yCAA2CC,CAAG,CAChE,CACApB,EAA4B,EAC5B,IAAMqB,EAAS7B,EAAG,MAAOa,CAAC,EAE1B,OADmBS,EAAO,KAAO,IACfO,IAAQhB,EAAIb,EAAG,IAAIa,CAAC,GAC/B,CAAE,EAAAW,EAAG,EAAAX,CAAC,CACf,SAAW7C,IAAWqD,GAAUC,IAAS,EAAM,CAE7C,IAAMQ,EAAI9B,EAAG,MACPwB,EAAIxB,EAAG,UAAUuB,EAAK,SAAS,EAAGO,CAAC,CAAC,EACpCjB,EAAIb,EAAG,UAAUuB,EAAK,SAASO,EAAGA,EAAI,CAAC,CAAC,EAC9C,GAAI,CAACC,EAAUP,EAAGX,CAAC,EAAG,MAAM,IAAI,MAAM,4BAA4B,EAClE,MAAO,CAAE,EAAAW,EAAG,EAAAX,CAAC,CACf,KACE,OAAM,IAAI,MACR,yBAAyB,OAAA7C,EAAM,0BAAyB,OAAAoD,EAAI,qBAAoB,OAAAC,EAAQ,CAG9F,CAEA,IAAMW,EAAcnC,EAAU,SAAWY,EACnCwB,EAAcpC,EAAU,WAAaqB,EAC3C,SAASQ,EAAoBF,EAAI,CAC/B,IAAMU,EAAKlC,EAAG,IAAIwB,CAAC,EACbW,EAAKnC,EAAG,IAAIkC,EAAIV,CAAC,EACvB,OAAOxB,EAAG,IAAIA,EAAG,IAAImC,EAAInC,EAAG,IAAIwB,EAAGvB,EAAM,CAAC,CAAC,EAAGA,EAAM,CAAC,CACvD,CAIA,SAAS8B,EAAUP,EAAMX,EAAI,CAC3B,IAAMuB,EAAOpC,EAAG,IAAIa,CAAC,EACfwB,EAAQX,EAAoBF,CAAC,EACnC,OAAOxB,EAAG,IAAIoC,EAAMC,CAAK,CAC3B,CAIA,GAAI,CAACN,EAAU9B,EAAM,GAAIA,EAAM,EAAE,EAAG,MAAM,IAAI,MAAM,mCAAmC,EAIvF,IAAMqC,EAAOtC,EAAG,IAAIA,EAAG,IAAIC,EAAM,EAAGd,EAAG,EAAGC,EAAG,EACvCmD,EAAQvC,EAAG,IAAIA,EAAG,IAAIC,EAAM,CAAC,EAAG,OAAO,EAAE,CAAC,EAChD,GAAID,EAAG,IAAIA,EAAG,IAAIsC,EAAMC,CAAK,CAAC,EAAG,MAAM,IAAI,MAAM,0BAA0B,EAG3E,SAASC,EAAOC,EAAeC,EAAMC,EAAU,GAAK,CAClD,GAAI,CAAC3C,EAAG,QAAQ0C,CAAC,GAAMC,GAAW3C,EAAG,IAAI0C,CAAC,EAAI,MAAM,IAAI,MAAM,wBAAwB,OAAAD,EAAO,EAC7F,OAAOC,CACT,CAEA,SAASE,EAAUC,EAAc,CAC/B,GAAI,EAAEA,aAAiBC,GAAQ,MAAM,IAAI,MAAM,0BAA0B,CAC3E,CAEA,SAASC,EAAiBrH,EAAS,CACjC,GAAI,CAAC2E,GAAQ,CAACA,EAAK,QAAS,MAAM,IAAI,MAAM,SAAS,EACrD,OAAO5E,GAAiBC,EAAG2E,EAAK,QAASf,EAAG,KAAK,CACnD,CAOA,IAAM0D,EAAeC,GAAS,CAACC,EAAUC,IAA0B,CACjE,GAAM,CAAE,EAAAC,EAAG,EAAAC,EAAG,EAAAC,CAAC,EAAKJ,EAEpB,GAAIlD,EAAG,IAAIsD,EAAGtD,EAAG,GAAG,EAAG,MAAO,CAAE,EAAGoD,EAAG,EAAGC,CAAC,EAC1C,IAAME,EAAML,EAAE,IAAG,EAGbC,GAAM,OAAMA,EAAKI,EAAMvD,EAAG,IAAMA,EAAG,IAAIsD,CAAC,GAC5C,IAAM9B,EAAIxB,EAAG,IAAIoD,EAAGD,CAAE,EAChBtC,EAAIb,EAAG,IAAIqD,EAAGF,CAAE,EAChBK,EAAKxD,EAAG,IAAIsD,EAAGH,CAAE,EACvB,GAAII,EAAK,MAAO,CAAE,EAAGvD,EAAG,KAAM,EAAGA,EAAG,IAAI,EACxC,GAAI,CAACA,EAAG,IAAIwD,EAAIxD,EAAG,GAAG,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3D,MAAO,CAAE,EAAAwB,EAAG,EAAAX,CAAC,CACf,CAAC,EAGK4C,EAAkBR,GAAUC,GAAY,CAC5C,GAAIA,EAAE,IAAG,EAAI,CAIX,GAAIrD,EAAU,oBAAsB,CAACG,EAAG,IAAIkD,EAAE,CAAC,EAAG,OAClD,MAAM,IAAI,MAAM,iBAAiB,CACnC,CAEA,GAAM,CAAE,EAAA1B,EAAG,EAAAX,CAAC,EAAKqC,EAAE,SAAQ,EAC3B,GAAI,CAAClD,EAAG,QAAQwB,CAAC,GAAK,CAACxB,EAAG,QAAQa,CAAC,EAAG,MAAM,IAAI,MAAM,sCAAsC,EAC5F,GAAI,CAACkB,EAAUP,EAAGX,CAAC,EAAG,MAAM,IAAI,MAAM,mCAAmC,EACzE,GAAI,CAACqC,EAAE,cAAa,EAAI,MAAM,IAAI,MAAM,wCAAwC,EAChF,MAAO,EACT,CAAC,EAED,SAASQ,EACPC,EACAC,EACAC,EACAzH,EACAE,EAAc,CAEd,OAAAuH,EAAM,IAAIf,EAAM9C,EAAG,IAAI6D,EAAI,EAAGF,CAAQ,EAAGE,EAAI,EAAGA,EAAI,CAAC,EACrDD,EAAME,GAAS1H,EAAOwH,CAAG,EACzBC,EAAMC,GAASxH,EAAOuH,CAAG,EAClBD,EAAI,IAAIC,CAAG,CACpB,CAOA,MAAMf,CAAK,CAeT,YAAYM,EAAMC,EAAMC,EAAI,CAC1B,KAAK,EAAId,EAAO,IAAKY,CAAC,EACtB,KAAK,EAAIZ,EAAO,IAAKa,EAAG,EAAI,EAC5B,KAAK,EAAIb,EAAO,IAAKc,CAAC,EACtB,OAAO,OAAO,IAAI,CACpB,CAEA,OAAO,OAAK,CACV,OAAOrD,CACT,CAGA,OAAO,WAAWiD,EAAiB,CACjC,GAAM,CAAE,EAAA1B,EAAG,EAAAX,CAAC,EAAKqC,GAAK,CAAA,EACtB,GAAI,CAACA,GAAK,CAAClD,EAAG,QAAQwB,CAAC,GAAK,CAACxB,EAAG,QAAQa,CAAC,EAAG,MAAM,IAAI,MAAM,sBAAsB,EAClF,GAAIqC,aAAaJ,EAAO,MAAM,IAAI,MAAM,8BAA8B,EAEtE,OAAI9C,EAAG,IAAIwB,CAAC,GAAKxB,EAAG,IAAIa,CAAC,EAAUiC,EAAM,KAClC,IAAIA,EAAMtB,EAAGX,EAAGb,EAAG,GAAG,CAC/B,CAEA,OAAO,UAAUP,EAAiB,CAChC,IAAMsE,EAAIjB,EAAM,WAAWb,EAAYd,GAAO1B,EAAO,OAAW,OAAO,CAAC,CAAC,EACzE,OAAAsE,EAAE,eAAc,EACTA,CACT,CACA,OAAO,QAAQ3F,EAAQ,CACrB,OAAO0E,EAAM,UAAUtE,GAAY,WAAYJ,CAAG,CAAC,CACrD,CAEA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CACA,IAAI,GAAC,CACH,OAAO,KAAK,SAAQ,EAAG,CACzB,CAQA,WAAW4F,EAAqB,EAAGC,EAAS,GAAI,CAC9C,OAAAC,EAAK,YAAY,KAAMF,CAAU,EAC5BC,GAAQ,KAAK,SAAS9E,EAAG,EACvB,IACT,CAIA,gBAAc,CACZsE,EAAgB,IAAI,CACtB,CAEA,UAAQ,CACN,GAAM,CAAE,EAAA5C,CAAC,EAAK,KAAK,SAAQ,EAC3B,GAAI,CAACb,EAAG,MAAO,MAAM,IAAI,MAAM,6BAA6B,EAC5D,MAAO,CAACA,EAAG,MAAMa,CAAC,CACpB,CAGA,OAAOgC,EAAY,CACjBD,EAAUC,CAAK,EACf,GAAM,CAAE,EAAGsB,EAAI,EAAGC,EAAI,EAAGC,CAAE,EAAK,KAC1B,CAAE,EAAGC,EAAI,EAAGC,EAAI,EAAGC,CAAE,EAAK3B,EAC1B4B,EAAKzE,EAAG,IAAIA,EAAG,IAAImE,EAAIK,CAAE,EAAGxE,EAAG,IAAIsE,EAAID,CAAE,CAAC,EAC1CK,EAAK1E,EAAG,IAAIA,EAAG,IAAIoE,EAAII,CAAE,EAAGxE,EAAG,IAAIuE,EAAIF,CAAE,CAAC,EAChD,OAAOI,GAAMC,CACf,CAGA,QAAM,CACJ,OAAO,IAAI5B,EAAM,KAAK,EAAG9C,EAAG,IAAI,KAAK,CAAC,EAAG,KAAK,CAAC,CACjD,CAMA,QAAM,CACJ,GAAM,CAAE,EAAA2E,EAAG,EAAAzG,CAAC,EAAK+B,EACX2E,EAAK5E,EAAG,IAAI9B,EAAGiB,EAAG,EAClB,CAAE,EAAGgF,EAAI,EAAGC,EAAI,EAAGC,CAAE,EAAK,KAC5BQ,EAAK7E,EAAG,KAAM8E,EAAK9E,EAAG,KAAM+E,EAAK/E,EAAG,KACpCgF,EAAKhF,EAAG,IAAImE,EAAIA,CAAE,EAClBc,EAAKjF,EAAG,IAAIoE,EAAIA,CAAE,EAClBc,EAAKlF,EAAG,IAAIqE,EAAIA,CAAE,EAClBc,EAAKnF,EAAG,IAAImE,EAAIC,CAAE,EACtB,OAAAe,EAAKnF,EAAG,IAAImF,EAAIA,CAAE,EAClBJ,EAAK/E,EAAG,IAAImE,EAAIE,CAAE,EAClBU,EAAK/E,EAAG,IAAI+E,EAAIA,CAAE,EAClBF,EAAK7E,EAAG,IAAI2E,EAAGI,CAAE,EACjBD,EAAK9E,EAAG,IAAI4E,EAAIM,CAAE,EAClBJ,EAAK9E,EAAG,IAAI6E,EAAIC,CAAE,EAClBD,EAAK7E,EAAG,IAAIiF,EAAIH,CAAE,EAClBA,EAAK9E,EAAG,IAAIiF,EAAIH,CAAE,EAClBA,EAAK9E,EAAG,IAAI6E,EAAIC,CAAE,EAClBD,EAAK7E,EAAG,IAAImF,EAAIN,CAAE,EAClBE,EAAK/E,EAAG,IAAI4E,EAAIG,CAAE,EAClBG,EAAKlF,EAAG,IAAI2E,EAAGO,CAAE,EACjBC,EAAKnF,EAAG,IAAIgF,EAAIE,CAAE,EAClBC,EAAKnF,EAAG,IAAI2E,EAAGQ,CAAE,EACjBA,EAAKnF,EAAG,IAAImF,EAAIJ,CAAE,EAClBA,EAAK/E,EAAG,IAAIgF,EAAIA,CAAE,EAClBA,EAAKhF,EAAG,IAAI+E,EAAIC,CAAE,EAClBA,EAAKhF,EAAG,IAAIgF,EAAIE,CAAE,EAClBF,EAAKhF,EAAG,IAAIgF,EAAIG,CAAE,EAClBL,EAAK9E,EAAG,IAAI8E,EAAIE,CAAE,EAClBE,EAAKlF,EAAG,IAAIoE,EAAIC,CAAE,EAClBa,EAAKlF,EAAG,IAAIkF,EAAIA,CAAE,EAClBF,EAAKhF,EAAG,IAAIkF,EAAIC,CAAE,EAClBN,EAAK7E,EAAG,IAAI6E,EAAIG,CAAE,EAClBD,EAAK/E,EAAG,IAAIkF,EAAID,CAAE,EAClBF,EAAK/E,EAAG,IAAI+E,EAAIA,CAAE,EAClBA,EAAK/E,EAAG,IAAI+E,EAAIA,CAAE,EACX,IAAIjC,EAAM+B,EAAIC,EAAIC,CAAE,CAC7B,CAMA,IAAIlC,EAAY,CACdD,EAAUC,CAAK,EACf,GAAM,CAAE,EAAGsB,EAAI,EAAGC,EAAI,EAAGC,CAAE,EAAK,KAC1B,CAAE,EAAGC,EAAI,EAAGC,EAAI,EAAGC,CAAE,EAAK3B,EAC5BgC,EAAK7E,EAAG,KAAM8E,EAAK9E,EAAG,KAAM+E,EAAK/E,EAAG,KAClC2E,EAAI1E,EAAM,EACV2E,EAAK5E,EAAG,IAAIC,EAAM,EAAGd,EAAG,EAC1B6F,EAAKhF,EAAG,IAAImE,EAAIG,CAAE,EAClBW,EAAKjF,EAAG,IAAIoE,EAAIG,CAAE,EAClBW,GAAKlF,EAAG,IAAIqE,EAAIG,CAAE,EAClBW,GAAKnF,EAAG,IAAImE,EAAIC,CAAE,EAClBgB,GAAKpF,EAAG,IAAIsE,EAAIC,CAAE,EACtBY,GAAKnF,EAAG,IAAImF,GAAIC,EAAE,EAClBA,GAAKpF,EAAG,IAAIgF,EAAIC,CAAE,EAClBE,GAAKnF,EAAG,IAAImF,GAAIC,EAAE,EAClBA,GAAKpF,EAAG,IAAImE,EAAIE,CAAE,EAClB,IAAIgB,GAAKrF,EAAG,IAAIsE,EAAIE,CAAE,EACtB,OAAAY,GAAKpF,EAAG,IAAIoF,GAAIC,EAAE,EAClBA,GAAKrF,EAAG,IAAIgF,EAAIE,EAAE,EAClBE,GAAKpF,EAAG,IAAIoF,GAAIC,EAAE,EAClBA,GAAKrF,EAAG,IAAIoE,EAAIC,CAAE,EAClBQ,EAAK7E,EAAG,IAAIuE,EAAIC,CAAE,EAClBa,GAAKrF,EAAG,IAAIqF,GAAIR,CAAE,EAClBA,EAAK7E,EAAG,IAAIiF,EAAIC,EAAE,EAClBG,GAAKrF,EAAG,IAAIqF,GAAIR,CAAE,EAClBE,EAAK/E,EAAG,IAAI2E,EAAGS,EAAE,EACjBP,EAAK7E,EAAG,IAAI4E,EAAIM,EAAE,EAClBH,EAAK/E,EAAG,IAAI6E,EAAIE,CAAE,EAClBF,EAAK7E,EAAG,IAAIiF,EAAIF,CAAE,EAClBA,EAAK/E,EAAG,IAAIiF,EAAIF,CAAE,EAClBD,EAAK9E,EAAG,IAAI6E,EAAIE,CAAE,EAClBE,EAAKjF,EAAG,IAAIgF,EAAIA,CAAE,EAClBC,EAAKjF,EAAG,IAAIiF,EAAID,CAAE,EAClBE,GAAKlF,EAAG,IAAI2E,EAAGO,EAAE,EACjBE,GAAKpF,EAAG,IAAI4E,EAAIQ,EAAE,EAClBH,EAAKjF,EAAG,IAAIiF,EAAIC,EAAE,EAClBA,GAAKlF,EAAG,IAAIgF,EAAIE,EAAE,EAClBA,GAAKlF,EAAG,IAAI2E,EAAGO,EAAE,EACjBE,GAAKpF,EAAG,IAAIoF,GAAIF,EAAE,EAClBF,EAAKhF,EAAG,IAAIiF,EAAIG,EAAE,EAClBN,EAAK9E,EAAG,IAAI8E,EAAIE,CAAE,EAClBA,EAAKhF,EAAG,IAAIqF,GAAID,EAAE,EAClBP,EAAK7E,EAAG,IAAImF,GAAIN,CAAE,EAClBA,EAAK7E,EAAG,IAAI6E,EAAIG,CAAE,EAClBA,EAAKhF,EAAG,IAAImF,GAAIF,CAAE,EAClBF,EAAK/E,EAAG,IAAIqF,GAAIN,CAAE,EAClBA,EAAK/E,EAAG,IAAI+E,EAAIC,CAAE,EACX,IAAIlC,EAAM+B,EAAIC,EAAIC,CAAE,CAC7B,CAEA,SAASlC,EAAY,CACnB,OAAO,KAAK,IAAIA,EAAM,OAAM,CAAE,CAChC,CAEA,KAAG,CACD,OAAO,KAAK,OAAOC,EAAM,IAAI,CAC/B,CAWA,SAASwC,EAAc,CACrB,GAAM,CAAE,KAAAjF,CAAI,EAAKR,EACjB,GAAI,CAACP,EAAG,YAAYgG,CAAM,EAAG,MAAM,IAAI,MAAM,8BAA8B,EAC3E,IAAI3E,EAAc4E,EACZC,EAAO9C,GAAcwB,EAAK,OAAO,KAAMxB,EAAIQ,GAAMuC,GAAW3C,EAAOI,CAAC,CAAC,EAE3E,GAAI7C,EAAM,CACR,GAAM,CAAE,MAAAjE,EAAO,GAAAF,EAAI,MAAAI,EAAO,GAAAH,CAAE,EAAK4G,EAAiBuC,CAAM,EAClD,CAAE,EAAG1B,EAAK,EAAG8B,CAAG,EAAKF,EAAItJ,CAAE,EAC3B,CAAE,EAAG2H,EAAK,EAAG8B,CAAG,EAAKH,EAAIrJ,CAAE,EACjCoJ,EAAOG,EAAI,IAAIC,CAAG,EAClBhF,EAAQ+C,EAAWrD,EAAK,KAAMuD,EAAKC,EAAKzH,EAAOE,CAAK,CACtD,KAAO,CACL,GAAM,CAAE,EAAA4G,EAAG,EAAA0C,CAAC,EAAKJ,EAAIF,CAAM,EAC3B3E,EAAQuC,EACRqC,EAAOK,CACT,CAEA,OAAOH,GAAW3C,EAAO,CAACnC,EAAO4E,CAAI,CAAC,EAAE,CAAC,CAC3C,CAOA,eAAeM,EAAU,CACvB,GAAM,CAAE,KAAAxF,CAAI,EAAKR,EACXqD,EAAI,KACV,GAAI,CAAC5D,EAAG,QAAQuG,CAAE,EAAG,MAAM,IAAI,MAAM,8BAA8B,EACnE,GAAIA,IAAOxJ,IAAO6G,EAAE,IAAG,EAAI,OAAOJ,EAAM,KACxC,GAAI+C,IAAOnJ,GAAK,OAAOwG,EACvB,GAAIgB,EAAK,SAAS,IAAI,EAAG,OAAO,KAAK,SAAS2B,CAAE,EAChD,GAAIxF,EAAM,CACR,GAAM,CAAE,MAAAjE,EAAO,GAAAF,EAAI,MAAAI,EAAO,GAAAH,CAAE,EAAK4G,EAAiB8C,CAAE,EAC9C,CAAE,GAAAC,EAAI,GAAAC,CAAE,EAAKC,GAAclD,EAAOI,EAAGhH,EAAIC,CAAE,EACjD,OAAOuH,EAAWrD,EAAK,KAAMyF,EAAIC,EAAI3J,EAAOE,CAAK,CACnD,KACE,QAAO4H,EAAK,OAAOhB,EAAG2C,CAAE,CAE5B,CAEA,qBAAqBI,EAAUtB,EAAWzG,EAAS,CACjD,IAAMgI,EAAM,KAAK,eAAevB,CAAC,EAAE,IAAIsB,EAAE,eAAe/H,CAAC,CAAC,EAC1D,OAAOgI,EAAI,IAAG,EAAK,OAAYA,CACjC,CAMA,SAASC,EAAa,CACpB,OAAOnD,EAAa,KAAMmD,CAAS,CACrC,CAMA,eAAa,CACX,GAAM,CAAE,cAAAC,CAAa,EAAKvG,EAC1B,OAAIK,IAAaxD,GAAY,GACzB0J,EAAsBA,EAActD,EAAO,IAAI,EAC5CoB,EAAK,OAAO,KAAM/D,CAAW,EAAE,IAAG,CAC3C,CAEA,eAAa,CACX,GAAM,CAAE,cAAAkG,CAAa,EAAKxG,EAC1B,OAAIK,IAAaxD,GAAY,KACzB2J,EAAsBA,EAAcvD,EAAO,IAAI,EAC5C,KAAK,eAAe5C,CAAQ,CACrC,CAEA,cAAY,CAEV,OAAO,KAAK,eAAeA,CAAQ,EAAE,IAAG,CAC1C,CAEA,QAAQU,EAAe,GAAI,CACzB,OAAA1D,GAAM0D,EAAc,cAAc,EAClC,KAAK,eAAc,EACZoB,EAAYc,EAAO,KAAMlC,CAAY,CAC9C,CAEA,MAAMA,EAAe,GAAI,CACvB,OAAO0F,GAAW,KAAK,QAAQ1F,CAAY,CAAC,CAC9C,CAEA,UAAQ,CACN,MAAO,UAAU,YAAK,IAAG,EAAK,OAAS,KAAK,MAAK,EAAE,IACrD,CAGA,IAAI,IAAE,CACJ,OAAO,KAAK,CACd,CACA,IAAI,IAAE,CACJ,OAAO,KAAK,CACd,CACA,IAAI,IAAE,CACJ,OAAO,KAAK,CACd,CACA,WAAWA,EAAe,GAAI,CAC5B,OAAO,KAAK,QAAQA,CAAY,CAClC,CACA,eAAeoD,EAAkB,CAC/B,KAAK,WAAWA,CAAU,CAC5B,CACA,OAAO,WAAWuC,EAAe,CAC/B,OAAOd,GAAW3C,EAAOyD,CAAM,CACjC,CACA,OAAO,IAAIA,EAAiBC,EAAiB,CAC3C,OAAOC,GAAU3D,EAAOxD,EAAIiH,EAAQC,CAAO,CAC7C,CACA,OAAO,eAAeE,EAAmB,CACvC,OAAO5D,EAAM,KAAK,SAASzD,GAAeC,EAAIoH,CAAU,CAAC,CAC3D,EA/TgB5D,EAAA,KAAO,IAAIA,EAAM7C,EAAM,GAAIA,EAAM,GAAID,EAAG,GAAG,EAE3C8C,EAAA,KAAO,IAAIA,EAAM9C,EAAG,KAAMA,EAAG,IAAKA,EAAG,IAAI,EAEzC8C,EAAA,GAAK9C,EAEL8C,EAAA,GAAKxD,EA2TvB,IAAMqH,EAAOrH,EAAG,KACV4E,EAAO,IAAI0C,GAAK9D,EAAOjD,EAAU,KAAO,KAAK,KAAK8G,EAAO,CAAC,EAAIA,CAAI,EACxE,OAAA7D,EAAM,KAAK,WAAW,CAAC,EAChBA,CACT,CA2CA,SAAS7B,GAAQF,EAAiB,CAChC,OAAO,WAAW,GAAGA,EAAW,EAAO,CAAI,CAC7C,CAuIA,SAAS8F,GAAeC,EAAeC,EAAkB,CACvD,MAAO,CACL,UAAWA,EAAG,MACd,UAAW,EAAID,EAAG,MAClB,sBAAuB,EAAI,EAAIA,EAAG,MAClC,mBAAoB,GACpB,UAAW,EAAIC,EAAG,MAEtB,CAMM,SAAUC,GACdC,EACAC,EAAmE,CAAA,EAAE,CAErE,GAAM,CAAE,GAAAH,CAAE,EAAKE,EACTE,EAAeD,EAAS,aAAeE,GACvCC,EAAU,OAAO,OAAOR,GAAYI,EAAM,GAAIF,CAAE,EAAG,CAAE,KAAMO,GAAiBP,EAAG,KAAK,CAAC,CAAE,EAE7F,SAASQ,EAAiBC,EAAkB,CAC1C,GAAI,CACF,MAAO,CAAC,CAACC,GAAeV,EAAIS,CAAS,CACvC,OAASE,EAAO,CACd,MAAO,EACT,CACF,CAEA,SAASC,EAAiBC,EAAuBC,EAAsB,CACrE,GAAM,CAAE,UAAWC,EAAM,sBAAAC,CAAqB,EAAKV,EACnD,GAAI,CACF,IAAMW,EAAIJ,EAAU,OAEpB,OADIC,IAAiB,IAAQG,IAAMF,GAC/BD,IAAiB,IAASG,IAAMD,EAA8B,GAC3D,CAAC,CAACd,EAAM,UAAUW,CAAS,CACpC,OAASF,EAAO,CACd,MAAO,EACT,CACF,CAMA,SAASO,EAAgBC,EAAOf,EAAaE,EAAQ,IAAI,EAAC,CACxD,OAAOc,GAAeC,GAAOF,EAAMb,EAAQ,KAAM,MAAM,EAAGN,EAAG,KAAK,CACpE,CAOA,SAASsB,EAAab,EAAoBK,EAAe,GAAI,CAC3D,OAAOZ,EAAM,KAAK,SAASQ,GAAeV,EAAIS,CAAS,CAAC,EAAE,QAAQK,CAAY,CAChF,CAEA,SAASS,EAAOJ,EAAiB,CAC/B,IAAMV,EAAYS,EAAgBC,CAAI,EACtC,MAAO,CAAE,UAAAV,EAAW,UAAWa,EAAab,CAAS,CAAC,CACxD,CAKA,SAASe,EAAUC,EAAsB,CACvC,GAAI,OAAOA,GAAS,SAAU,MAAO,GACrC,GAAIA,aAAgBvB,EAAO,MAAO,GAClC,GAAM,CAAE,UAAAO,EAAW,UAAAI,EAAW,sBAAAG,CAAqB,EAAKV,EACxD,GAAIN,EAAG,gBAAkBS,IAAcI,EAAW,OAClD,IAAMI,EAAIS,GAAY,MAAOD,CAAI,EAAE,OACnC,OAAOR,IAAMJ,GAAaI,IAAMD,CAClC,CAUA,SAASW,EAAgBC,EAAqBC,EAAiBf,EAAe,GAAI,CAChF,GAAIU,EAAUI,CAAU,IAAM,GAAM,MAAM,IAAI,MAAM,+BAA+B,EACnF,GAAIJ,EAAUK,CAAU,IAAM,GAAO,MAAM,IAAI,MAAM,+BAA+B,EACpF,IAAMC,EAAIpB,GAAeV,EAAI4B,CAAU,EAEvC,OADU1B,EAAM,QAAQ2B,CAAU,EACzB,SAASC,CAAC,EAAE,QAAQhB,CAAY,CAC3C,CAgBA,OAAO,OAAO,OAAO,CAAE,aAAAQ,EAAc,gBAAAK,EAAiB,OAAAJ,EAAQ,MAAArB,EAAO,MAdvD,CACZ,iBAAAM,EACA,iBAAAI,EACA,gBAAAM,EAGA,kBAAmBV,EACnB,iBAAkBU,EAClB,uBAAyBa,GAAiBrB,GAAeV,EAAI+B,CAAG,EAChE,WAAWC,EAAa,EAAGC,EAAQ/B,EAAM,KAAI,CAC3C,OAAO+B,EAAM,WAAWD,EAAY,EAAK,CAC3C,GAG0E,QAAA1B,CAAO,CAAE,CACvF,CAkBM,SAAU4B,GACdhC,EACAiC,EACAC,EAAuB,CAAA,EAAE,CAEzBC,GAAMF,CAAI,EACVG,GACEF,EACA,CAAA,EACA,CACE,KAAM,WACN,KAAM,UACN,YAAa,WACb,SAAU,WACV,cAAe,WAChB,EAGH,IAAM/B,EAAc+B,EAAU,aAAe/B,GACvCkC,EACJH,EAAU,OACR,CAACL,KAAQS,IAASD,GAAUJ,EAAMJ,EAAKU,GAAY,GAAGD,CAAI,CAAC,GAEzD,CAAE,GAAAzC,EAAI,GAAAC,CAAE,EAAKE,EACb,CAAE,MAAOwC,EAAa,KAAMC,CAAM,EAAK3C,EACvC,CAAE,OAAAuB,EAAQ,aAAAD,EAAc,gBAAAK,EAAiB,MAAAiB,EAAO,QAAAtC,CAAO,EAAKL,GAAKC,EAAOkC,CAAS,EACjFS,EAA0C,CAC9C,QAAS,GACT,KAAM,OAAOT,EAAU,MAAS,UAAYA,EAAU,KAAO,GAC7D,OAAQ,OACR,aAAc,IAEVU,EAAwB,UAE9B,SAASC,EAAsBC,EAAc,CAC3C,IAAMC,EAAOP,GAAeQ,GAC5B,OAAOF,EAASC,CAClB,CACA,SAASE,EAAWC,EAAeC,EAAW,CAC5C,GAAI,CAACrD,EAAG,YAAYqD,CAAG,EACrB,MAAM,IAAI,MAAM,qBAAqB,OAAAD,EAAK,mCAAkC,EAC9E,OAAOC,CACT,CACA,SAASC,EAAkBC,EAAmBC,EAAsB,CAClEC,GAAkBD,CAAM,EACxB,IAAME,EAAOpD,EAAQ,UACfqD,EAAQH,IAAW,UAAYE,EAAOF,IAAW,YAAcE,EAAO,EAAI,OAChF,OAAOrC,GAAOkC,EAAOI,EAAO,GAAG,OAAAH,EAAM,aAAY,CACnD,CAKA,MAAMI,CAAS,CAIb,YAAYC,EAAW/B,EAAWgC,EAAiB,CACjD,KAAK,EAAIX,EAAW,IAAKU,CAAC,EAC1B,KAAK,EAAIV,EAAW,IAAKrB,CAAC,EACtBgC,GAAY,OAAM,KAAK,SAAWA,GACtC,OAAO,OAAO,IAAI,CACpB,CAEA,OAAO,UAAUP,EAAmBC,EAAyBV,EAAqB,CAChFQ,EAAkBC,EAAOC,CAAM,EAC/B,IAAIO,EACJ,GAAIP,IAAW,MAAO,CACpB,GAAM,CAAE,EAAAK,EAAG,EAAA/B,CAAC,EAAKkC,GAAI,MAAM3C,GAAOkC,CAAK,CAAC,EACxC,OAAO,IAAIK,EAAUC,EAAG/B,CAAC,CAC3B,CACI0B,IAAW,cACbO,EAAQR,EAAM,CAAC,EACfC,EAAS,UACTD,EAAQA,EAAM,SAAS,CAAC,GAE1B,IAAMU,EAAIjE,EAAG,MACP6D,EAAIN,EAAM,SAAS,EAAGU,CAAC,EACvBnC,EAAIyB,EAAM,SAASU,EAAGA,EAAI,CAAC,EACjC,OAAO,IAAIL,EAAU5D,EAAG,UAAU6D,CAAC,EAAG7D,EAAG,UAAU8B,CAAC,EAAGiC,CAAK,CAC9D,CAEA,OAAO,QAAQG,EAAaV,EAAuB,CACjD,OAAO,KAAK,UAAUW,GAAWD,CAAG,EAAGV,CAAM,CAC/C,CAEA,eAAeM,EAAgB,CAC7B,OAAO,IAAIF,EAAU,KAAK,EAAG,KAAK,EAAGE,CAAQ,CAC/C,CAEA,iBAAiBM,EAAgB,CAC/B,IAAMC,EAActE,EAAG,MACjB,CAAE,EAAA8D,EAAG,EAAA/B,EAAG,SAAUwC,CAAG,EAAK,KAChC,GAAIA,GAAO,MAAQ,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASA,CAAG,EAAG,MAAM,IAAI,MAAM,qBAAqB,EAWrF,GADoB5B,EAAc6B,GAAMF,GACrBC,EAAM,EAAG,MAAM,IAAI,MAAM,wCAAwC,EAEpF,IAAME,EAAOF,IAAQ,GAAKA,IAAQ,EAAIT,EAAInB,EAAcmB,EACxD,GAAI,CAAC9D,EAAG,QAAQyE,CAAI,EAAG,MAAM,IAAI,MAAM,4BAA4B,EACnE,IAAMC,EAAI1E,EAAG,QAAQyE,CAAI,EACnBE,EAAIxE,EAAM,UAAUuC,GAAYkC,IAASL,EAAM,KAAO,CAAC,EAAGG,CAAC,CAAC,EAC5DG,EAAK5E,EAAG,IAAIwE,CAAI,EAChBK,EAAIC,EAAcpD,GAAY,UAAW0C,CAAW,CAAC,EACrDW,EAAK/E,EAAG,OAAO,CAAC6E,EAAID,CAAE,EACtBI,GAAKhF,EAAG,OAAO8B,EAAI8C,CAAE,EAErBK,GAAI/E,EAAM,KAAK,eAAe6E,CAAE,EAAE,IAAIL,EAAE,eAAeM,EAAE,CAAC,EAChE,GAAIC,GAAE,IAAG,EAAI,MAAM,IAAI,MAAM,mBAAmB,EAChD,OAAAA,GAAE,eAAc,EACTA,EACT,CAGA,UAAQ,CACN,OAAOlC,EAAsB,KAAK,CAAC,CACrC,CAEA,QAAQS,EAAyBV,EAAqB,CAEpD,GADAW,GAAkBD,CAAM,EACpBA,IAAW,MAAO,OAAOW,GAAWH,GAAI,WAAW,IAAI,CAAC,EAC5D,IAAMH,EAAI7D,EAAG,QAAQ,KAAK,CAAC,EACrB8B,EAAI9B,EAAG,QAAQ,KAAK,CAAC,EAC3B,GAAIwD,IAAW,YAAa,CAC1B,GAAI,KAAK,UAAY,KAAM,MAAM,IAAI,MAAM,8BAA8B,EACzE,OAAOf,GAAY,WAAW,GAAG,KAAK,QAAQ,EAAGoB,EAAG/B,CAAC,CACvD,CACA,OAAOW,GAAYoB,EAAG/B,CAAC,CACzB,CAEA,MAAM0B,EAAuB,CAC3B,OAAO0B,GAAW,KAAK,QAAQ1B,CAAM,CAAC,CACxC,CAGA,gBAAc,CAAU,CACxB,OAAO,YAAYU,EAAQ,CACzB,OAAON,EAAU,UAAUlC,GAAY,MAAOwC,CAAG,EAAG,SAAS,CAC/D,CACA,OAAO,QAAQA,EAAQ,CACrB,OAAON,EAAU,UAAUlC,GAAY,MAAOwC,CAAG,EAAG,KAAK,CAC3D,CACA,YAAU,CACR,OAAO,KAAK,SAAQ,EAAK,IAAIN,EAAU,KAAK,EAAG5D,EAAG,IAAI,KAAK,CAAC,EAAG,KAAK,QAAQ,EAAI,IAClF,CACA,eAAa,CACX,OAAO,KAAK,QAAQ,KAAK,CAC3B,CACA,UAAQ,CACN,OAAOkF,GAAW,KAAK,QAAQ,KAAK,CAAC,CACvC,CACA,mBAAiB,CACf,OAAO,KAAK,QAAQ,SAAS,CAC/B,CACA,cAAY,CACV,OAAOA,GAAW,KAAK,QAAQ,SAAS,CAAC,CAC3C,EAQF,IAAMC,EACJ/C,EAAU,UACV,SAAsBmB,EAAiB,CAErC,GAAIA,EAAM,OAAS,KAAM,MAAM,IAAI,MAAM,oBAAoB,EAG7D,IAAMF,EAAM+B,GAAgB7B,CAAK,EAC3B8B,EAAQ9B,EAAM,OAAS,EAAIZ,EACjC,OAAO0C,EAAQ,EAAIhC,GAAO,OAAOgC,CAAK,EAAIhC,CAC5C,EACIyB,EACJ1C,EAAU,eACV,SAA2BmB,EAAiB,CAC1C,OAAOvD,EAAG,OAAOmF,EAAS5B,CAAK,CAAC,CAClC,EAEI+B,EAAaC,GAAQ5C,CAAM,EAEjC,SAAS6C,EAAWnC,EAAW,CAE7B,OAAAoC,GAAS,WAAa9C,EAAQU,EAAKqC,GAAKJ,CAAU,EAC3CtF,EAAG,QAAQqD,CAAG,CACvB,CAEA,SAASsC,EAAmBC,EAAqBC,EAAgB,CAC/D,OAAAxE,GAAOuE,EAAS,OAAW,SAAS,EAC7BC,EAAUxE,GAAOc,EAAKyD,CAAO,EAAG,OAAW,mBAAmB,EAAIA,CAC3E,CAUA,SAASE,EAAQF,EAAqBG,EAAqBC,EAAmB,CAC5E,GAAI,CAAC,YAAa,WAAW,EAAE,KAAMC,GAAMA,KAAKD,CAAI,EAClD,MAAM,IAAI,MAAM,qCAAqC,EACvD,GAAM,CAAE,KAAAE,EAAM,QAAAL,EAAS,aAAAM,CAAY,EAAKC,GAAgBJ,EAAMnD,CAAc,EAC5E+C,EAAUD,EAAmBC,EAASC,CAAO,EAI7C,IAAMQ,EAAQvB,EAAcc,CAAO,EAC7BU,EAAI5F,GAAeV,EAAI+F,CAAU,EACjCQ,EAAW,CAACf,EAAWc,CAAC,EAAGd,EAAWa,CAAK,CAAC,EAElD,GAAIF,GAAgB,MAAQA,IAAiB,GAAO,CAGlD,IAAMK,EAAIL,IAAiB,GAAO9F,EAAYC,EAAQ,SAAS,EAAI6F,EACnEI,EAAS,KAAK7E,GAAY,eAAgB8E,CAAC,CAAC,CAC9C,CACA,IAAMrF,EAAOsB,GAAY,GAAG8D,CAAQ,EAC9BE,EAAIJ,EASV,SAASK,EAAMC,EAAkB,CAG/B,IAAMV,GAAId,EAASwB,CAAM,EACzB,GAAI,CAAC3G,EAAG,YAAYiG,EAAC,EAAG,OACxB,IAAMW,GAAK5G,EAAG,IAAIiG,EAAC,EACbY,GAAI3G,EAAM,KAAK,SAAS+F,EAAC,EAAE,SAAQ,EACnCpC,GAAI7D,EAAG,OAAO6G,GAAE,CAAC,EACvB,GAAIhD,KAAM6B,GAAK,OACf,IAAM5D,GAAI9B,EAAG,OAAO4G,GAAK5G,EAAG,OAAOyG,EAAI5C,GAAIyC,CAAC,CAAC,EAC7C,GAAIxE,KAAM4D,GAAK,OACf,IAAI5B,IAAY+C,GAAE,IAAMhD,GAAI,EAAI,GAAK,OAAOgD,GAAE,EAAI3D,EAAG,EACjD4D,GAAQhF,GACZ,OAAIoE,GAAQnD,EAAsBjB,EAAC,IACjCgF,GAAQ9G,EAAG,IAAI8B,EAAC,EAChBgC,IAAY,GAEP,IAAIF,EAAUC,GAAGiD,GAAOhD,EAAQ,CACzC,CACA,MAAO,CAAE,KAAA3C,EAAM,MAAAuF,CAAK,CACtB,CAaA,SAASK,EAAKnB,EAAcnF,EAAoBuF,EAAsB,CAAA,EAAE,CACtEJ,EAAUlE,GAAY,UAAWkE,CAAO,EACxC,GAAM,CAAE,KAAAzE,EAAM,MAAAuF,CAAK,EAAKZ,EAAQF,EAASnF,EAAWuF,CAAI,EAGxD,OAFagB,GAAmC7E,EAAK,UAAWnC,EAAG,MAAOuC,CAAI,EAC7DpB,EAAMuF,CAAK,CAE9B,CAEA,SAASO,EAAcC,EAAuB,CAE5C,IAAIC,EACEC,EAAQ,OAAOF,GAAO,UAAYG,GAAQH,CAAE,EAC5CI,EACJ,CAACF,GACDF,IAAO,MACP,OAAOA,GAAO,UACd,OAAOA,EAAG,GAAM,UAChB,OAAOA,EAAG,GAAM,SAClB,GAAI,CAACE,GAAS,CAACE,EACb,MAAM,IAAI,MAAM,0EAA0E,EAC5F,GAAIA,EACFH,EAAM,IAAIvD,EAAUsD,EAAG,EAAGA,EAAG,CAAC,UACrBE,EAAO,CAChB,GAAI,CACFD,EAAMvD,EAAU,UAAUlC,GAAY,MAAOwF,CAAE,EAAG,KAAK,CACzD,OAASK,EAAU,CACjB,GAAI,EAAEA,aAAoBvD,GAAI,KAAM,MAAMuD,CAC5C,CACA,GAAI,CAACJ,EACH,GAAI,CACFA,EAAMvD,EAAU,UAAUlC,GAAY,MAAOwF,CAAE,EAAG,SAAS,CAC7D,OAASvG,EAAO,CACd,MAAO,EACT,CAEJ,CACA,OAAKwG,GAAY,EAEnB,CAeA,SAASK,EACPC,EACA7B,EACA/E,EACAmF,EAAwB,CAAA,EAAE,CAE1B,GAAM,CAAE,KAAAE,EAAM,QAAAL,EAAS,OAAArC,CAAM,EAAK4C,GAAgBJ,EAAMnD,CAAc,EAGtE,GAFAhC,EAAYa,GAAY,YAAab,CAAS,EAC9C+E,EAAUD,EAAmBjE,GAAY,UAAWkE,CAAO,EAAGC,CAAO,EACjE,WAAYG,EAAM,MAAM,IAAI,MAAM,oCAAoC,EAC1E,IAAMmB,EACJ3D,IAAW,OACPyD,EAAcQ,CAAS,EACvB7D,EAAU,UAAUlC,GAAY,MAAO+F,CAAgB,EAAGjE,CAAM,EACtE,GAAI2D,IAAQ,GAAO,MAAO,GAC1B,GAAI,CACF,IAAMO,EAAIxH,EAAM,UAAUW,CAAS,EACnC,GAAIqF,GAAQiB,EAAI,SAAQ,EAAI,MAAO,GACnC,GAAM,CAAE,EAAAtD,EAAG,EAAA/B,CAAC,EAAKqF,EACXtC,EAAIC,EAAcc,CAAO,EACzB+B,EAAK3H,EAAG,IAAI8B,CAAC,EACbiD,GAAK/E,EAAG,OAAO6E,EAAI8C,CAAE,EACrB3C,GAAKhF,EAAG,OAAO6D,EAAI8D,CAAE,EACrBjD,GAAIxE,EAAM,KAAK,eAAe6E,EAAE,EAAE,IAAI2C,EAAE,eAAe1C,EAAE,CAAC,EAChE,OAAIN,GAAE,IAAG,EAAW,GACV1E,EAAG,OAAO0E,GAAE,CAAC,IACVb,CACf,OAAS2C,EAAG,CACV,MAAO,EACT,CACF,CAEA,SAASoB,EACPH,EACA7B,EACAI,EAAyB,CAAA,EAAE,CAE3B,GAAM,CAAE,QAAAH,CAAO,EAAKO,GAAgBJ,EAAMnD,CAAc,EACxD,OAAA+C,EAAUD,EAAmBC,EAASC,CAAO,EACtCjC,EAAU,UAAU6D,EAAW,WAAW,EAAE,iBAAiB7B,CAAO,EAAE,QAAO,CACtF,CAEA,OAAO,OAAO,OAAO,CACnB,OAAArE,EACA,aAAAD,EACA,gBAAAK,EACA,MAAAiB,EACA,QAAAtC,EACA,MAAAJ,EACA,KAAA6G,EACA,OAAAS,EACA,iBAAAI,EACA,UAAAhE,EACA,KAAAzB,EACD,CACH,CAsHA,SAAS0F,GAAmCC,EAAqB,CAC/D,IAAMC,EAA4B,CAChC,EAAGD,EAAE,EACL,EAAGA,EAAE,EACL,EAAGA,EAAE,GAAG,MACR,EAAGA,EAAE,EACL,EAAGA,EAAE,EACL,GAAIA,EAAE,GACN,GAAIA,EAAE,IAEFE,EAAKF,EAAE,GACTG,EAAiBH,EAAE,yBACnB,MAAM,KAAK,IAAI,IAAIA,EAAE,yBAAyB,IAAKI,GAAM,KAAK,KAAKA,EAAI,CAAC,CAAC,CAAC,CAAC,EAC3E,OACEC,EAAKC,GAAML,EAAM,EAAG,CACxB,KAAMD,EAAE,WACR,eAAgBG,EAChB,aAAcH,EAAE,eACjB,EACKO,EAAqC,CACzC,GAAAL,EACA,GAAAG,EACA,mBAAoBL,EAAE,mBACtB,KAAMA,EAAE,KACR,cAAeA,EAAE,cACjB,cAAeA,EAAE,cACjB,UAAWA,EAAE,UACb,QAASA,EAAE,SAEb,MAAO,CAAE,MAAAC,EAAO,UAAAM,CAAS,CAC3B,CACA,SAASC,GAA0BR,EAAY,CAC7C,GAAM,CAAE,MAAAC,EAAO,UAAAM,CAAS,EAAKR,GAAgCC,CAAC,EACxDS,EAAuB,CAC3B,KAAMT,EAAE,KACR,YAAaA,EAAE,YACf,KAAMA,EAAE,KACR,SAAUA,EAAE,SACZ,cAAeA,EAAE,eAEnB,MAAO,CAAE,MAAAC,EAAO,UAAAM,EAAW,KAAMP,EAAE,KAAM,UAAAS,CAAS,CACpD,CAkCA,SAASC,GAA4BC,EAAcC,EAAa,CAC9D,IAAMC,EAAQD,EAAO,MACrB,OAAO,OAAO,OAAO,CAAA,EAAIA,EAAQ,CAC/B,gBAAiBC,EACjB,MAAO,OAAO,OAAO,CAAA,EAAIF,EAAGG,GAAQD,EAAM,GAAG,MAAOA,EAAM,GAAG,IAAI,CAAC,EACnE,CACH,CAGM,SAAUE,GAAYJ,EAAY,CACtC,GAAM,CAAE,MAAAK,EAAO,UAAAC,EAAW,KAAAC,EAAM,UAAAC,CAAS,EAAKC,GAA0BT,CAAC,EACnEE,EAAQQ,GAAaL,EAAOC,CAAS,EACrCK,EAAQC,GAAMV,EAAOK,EAAMC,CAAS,EAC1C,OAAOT,GAA4BC,EAAGW,CAAK,CAC7C,CC10DM,SAAUE,GAAYC,EAAoBC,EAAc,CAC5D,IAAMC,EAAUC,GAAyBC,GAAYC,EAAAC,EAAA,GAAKN,GAAL,CAAe,KAAMG,CAAI,EAAE,EAChF,OAAOE,EAAAC,EAAA,GAAKJ,EAAOD,CAAO,GAAnB,CAAsB,OAAAC,CAAM,EACrC,CCoBA,IAAMK,GAA2C,CAC/C,EAAG,OAAO,oEAAoE,EAC9E,EAAG,OAAO,oEAAoE,EAC9E,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,EAAG,OAAO,CAAC,EACX,GAAI,OAAO,oEAAoE,EAC/E,GAAI,OAAO,oEAAoE,GAG3EC,GAAmC,CACvC,KAAM,OAAO,oEAAoE,EACjF,QAAS,CACP,CAAC,OAAO,oCAAoC,EAAG,CAAC,OAAO,oCAAoC,CAAC,EAC5F,CAAC,OAAO,qCAAqC,EAAG,OAAO,oCAAoC,CAAC,IAI1FC,GAAsB,OAAO,CAAC,EAC9BC,GAAsB,OAAO,CAAC,EAC9BC,GAAsB,OAAO,CAAC,EAMpC,SAASC,GAAQC,EAAS,CACxB,IAAMC,EAAIP,GAAgB,EAEpBQ,EAAM,OAAO,CAAC,EAAGC,EAAM,OAAO,CAAC,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAErEC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EAAGC,EAAO,OAAO,EAAE,EACtDC,EAAMT,EAAIA,EAAIA,EAAKC,EACnBS,EAAMD,EAAKA,EAAKT,EAAKC,EACrBU,EAAMC,GAAKF,EAAIR,EAAKD,CAAC,EAAIS,EAAMT,EAC/BY,EAAMD,GAAKD,EAAIT,EAAKD,CAAC,EAAIS,EAAMT,EAC/Ba,EAAOF,GAAKC,EAAIf,GAAKG,CAAC,EAAIQ,EAAMR,EAChCc,EAAOH,GAAKE,EAAKV,EAAMH,CAAC,EAAIa,EAAOb,EACnCe,EAAOJ,GAAKG,EAAKV,EAAMJ,CAAC,EAAIc,EAAOd,EACnCgB,EAAOL,GAAKI,EAAKT,EAAMN,CAAC,EAAIe,EAAOf,EACnCiB,EAAQN,GAAKK,EAAKT,EAAMP,CAAC,EAAIgB,EAAOhB,EACpCkB,EAAQP,GAAKM,EAAMX,EAAMN,CAAC,EAAIe,EAAOf,EACrCmB,EAAQR,GAAKO,EAAMjB,EAAKD,CAAC,EAAIS,EAAMT,EACnCoB,EAAMT,GAAKQ,EAAMd,EAAML,CAAC,EAAIc,EAAOd,EACnCqB,EAAMV,GAAKS,EAAIlB,EAAKF,CAAC,EAAIQ,EAAMR,EAC/BsB,EAAOX,GAAKU,EAAIxB,GAAKG,CAAC,EAC5B,GAAI,CAACuB,GAAK,IAAIA,GAAK,IAAID,CAAI,EAAGvB,CAAC,EAAG,MAAM,IAAI,MAAM,yBAAyB,EAC3E,OAAOuB,CACT,CAEA,IAAMC,GAAOC,GAAM/B,GAAgB,EAAG,CAAE,KAAMK,EAAO,CAAE,EAgB1C2B,GAA+BC,GAC1CC,EAAAC,EAAA,GAAKnC,IAAL,CAAsB,GAAI8B,GAAM,KAAM,GAAM,KAAM7B,EAAc,GAChEmC,EAAM,EAMFC,GAAsD,CAAA,EAC5D,SAASC,GAAWC,KAAgBC,EAAsB,CACxD,IAAIC,EAAOJ,GAAqBE,CAAG,EACnC,GAAIE,IAAS,OAAW,CACtB,IAAMC,EAAON,GAAOO,GAAYJ,CAAG,CAAC,EACpCE,EAAOG,GAAYF,EAAMA,CAAI,EAC7BL,GAAqBE,CAAG,EAAIE,CAC9B,CACA,OAAOL,GAAOQ,GAAYH,EAAM,GAAGD,CAAQ,CAAC,CAC9C,CAGA,IAAMK,GAAgBC,GAA6BA,EAAM,QAAQ,EAAI,EAAE,MAAM,CAAC,EACxEC,GAAiCf,GAAU,MAC3CgB,GAAW1C,GAAcA,EAAIF,KAAQF,GAG3C,SAAS+C,GAAoBC,EAAa,CACxC,GAAM,CAAE,GAAAC,EAAI,KAAAC,CAAI,EAAKL,GACfM,EAAKC,GAAeH,EAAID,CAAI,EAC5BK,EAAIH,EAAK,SAASC,CAAE,EAE1B,MAAO,CAAE,OADML,GAAQO,EAAE,CAAC,EAAIF,EAAKF,EAAG,IAAIE,CAAE,EAC3B,MAAOR,GAAaU,CAAC,CAAC,CACzC,CAKA,SAASC,GAAOC,EAAS,CACvB,IAAMC,EAAK5B,GACX,GAAI,CAAC4B,EAAG,YAAYD,CAAC,EAAG,MAAM,IAAI,MAAM,+BAA0B,EAClE,IAAME,EAAKD,EAAG,OAAOD,EAAIA,CAAC,EACpBG,EAAIF,EAAG,OAAOC,EAAKF,EAAI,OAAO,CAAC,CAAC,EAClCnD,EAAIoD,EAAG,KAAKE,CAAC,EAGZZ,GAAQ1C,CAAC,IAAGA,EAAIoD,EAAG,IAAIpD,CAAC,GAC7B,IAAMiD,EAAIR,GAAQ,WAAW,CAAE,EAAAU,EAAG,EAAAnD,CAAC,CAAE,EACrC,OAAAiD,EAAE,eAAc,EACTA,CACT,CACA,IAAMM,GAAMC,GAIZ,SAASC,MAAaC,EAAkB,CACtC,OAAOjB,GAAQ,GAAG,OAAOc,GAAIvB,GAAW,oBAAqB,GAAG0B,CAAI,CAAC,CAAC,CACxE,CAKA,SAASC,GAAoBC,EAAc,CACzC,OAAOjB,GAAoBiB,CAAS,EAAE,KACxC,CAMA,SAASC,GAAYC,EAAcF,EAAoBG,EAAeC,GAAY,EAAE,EAAC,CACnF,GAAM,CAAE,GAAAnB,CAAE,EAAKJ,GACTwB,EAAIC,GAAY,UAAWJ,CAAO,EAClC,CAAE,MAAOK,EAAI,OAAQC,CAAC,EAAKzB,GAAoBiB,CAAS,EACxD,EAAIM,GAAY,UAAWH,EAAS,EAAE,EACtCM,EAAIxB,EAAG,QAAQuB,EAAIb,GAAIvB,GAAW,cAAe,CAAC,CAAC,CAAC,EACpDsC,EAAOtC,GAAW,gBAAiBqC,EAAGF,EAAIF,CAAC,EAE3C,CAAE,MAAOM,EAAI,OAAQC,CAAC,EAAK7B,GAAoB2B,CAAI,EACnDG,EAAIhB,GAAUc,EAAIJ,EAAIF,CAAC,EACvBS,EAAM,IAAI,WAAW,EAAE,EAI7B,GAHAA,EAAI,IAAIH,EAAI,CAAC,EACbG,EAAI,IAAI7B,EAAG,QAAQA,EAAG,OAAO2B,EAAIC,EAAIL,CAAC,CAAC,EAAG,EAAE,EAExC,CAACO,GAAcD,EAAKT,EAAGE,CAAE,EAAG,MAAM,IAAI,MAAM,kCAAkC,EAClF,OAAOO,CACT,CAMA,SAASC,GAAcC,EAAgBd,EAAce,EAAc,CACjE,GAAM,CAAE,GAAAhC,EAAI,KAAAC,CAAI,EAAKL,GACfiC,EAAMR,GAAY,YAAaU,EAAW,EAAE,EAC5CX,EAAIC,GAAY,UAAWJ,CAAO,EAClCgB,EAAMZ,GAAY,YAAaW,EAAW,EAAE,EAClD,GAAI,CACF,IAAM5E,EAAIiD,GAAOK,GAAIuB,CAAG,CAAC,EACnBC,EAAIxB,GAAImB,EAAI,SAAS,EAAG,EAAE,CAAC,EACjC,GAAI,CAACM,GAAQD,EAAGlF,GAAKH,GAAgB,CAAC,EAAG,MAAO,GAChD,IAAMuF,EAAI1B,GAAImB,EAAI,SAAS,GAAI,EAAE,CAAC,EAClC,GAAI,CAACM,GAAQC,EAAGpF,GAAKH,GAAgB,CAAC,EAAG,MAAO,GAEhD,IAAM+E,EAAIhB,GAAUZ,EAAG,QAAQkC,CAAC,EAAGxC,GAAatC,CAAC,EAAGgE,CAAC,EAE/CiB,EAAIpC,EAAK,eAAemC,CAAC,EAAE,IAAIhF,EAAE,eAAe4C,EAAG,IAAI4B,CAAC,CAAC,CAAC,EAC1D,CAAE,EAAAtB,EAAG,EAAAnD,CAAC,EAAKkF,EAAE,SAAQ,EAE3B,MAAI,EAAAA,EAAE,IAAG,GAAM,CAACxC,GAAQ1C,CAAC,GAAKmD,IAAM4B,EAEtC,OAASI,EAAO,CACd,MAAO,EACT,CACF,CAsCO,IAAMC,IAAwC,IAAK,CAGxD,IAAMC,EAAkB,CAACC,EAAOtB,GAAY,EAAU,IAC7CuB,GAAeD,EAAM5F,GAAgB,CAAC,EAG/CgC,GAAU,MAAM,gBAChB,SAAS8D,EAAOF,EAAiB,CAC/B,IAAM1B,EAAYyB,EAAgBC,CAAI,EACtC,MAAO,CAAE,UAAA1B,EAAW,UAAWD,GAAoBC,CAAS,CAAC,CAC/D,CACA,MAAO,CACL,OAAA4B,EACA,aAAc7B,GACd,KAAME,GACN,OAAQc,GACR,MAAOlC,GACP,MAAO,CACL,gBAAiB4C,EACjB,iBAAkBA,EAClB,WAAArD,GAGA,OAAAkB,GACA,aAAAX,GACA,gBAAAkD,GACA,gBAAAjC,GACA,IAAAkC,IAEF,QAAS,CACP,UAAW,GACX,UAAW,GACX,mBAAoB,GACpB,UAAW,GACX,KAAM,IAGZ,GAAE,ENlSF,IAAMC,GAAM,OAAO,CAAC,EACdC,GAAM,OAAO,CAAC,EACdC,GAAKC,GAAU,MAAM,EACrBC,GAAKC,GAAMH,GAAI,GAAI,EAAI,EACvBI,GAAKH,GAAU,MAAM,KACpB,SAASI,GAAWC,EAAQC,EAAS,GAAO,CAC/C,IAAIC,EAAKC,GAAgBH,CAAM,EAAE,IAAMN,GACvC,OAAIO,EACWH,GAAG,SAASI,CAAE,EACd,EAAIT,KAAQD,GACjBY,GAAK,IAAIF,CAAE,EACXE,GAAK,IAAIV,GAAKQ,CAAE,EAGfE,GAAK,IAAIF,CAAE,CAE1B,CACO,SAASG,GAAWC,EAAQC,EAAQ,CACvC,IAAML,EAAKC,GAAgBG,CAAM,EAAE,IAE7BE,EADKV,GAAG,SAASI,CAAE,EACX,MAAM,EAAI,EACxB,OAAOO,GAAiBD,EAAID,CAAM,CACtC,CACO,SAASG,GAAaJ,EAAQK,EAAOV,EAAS,GAAO,CACxD,IAAMC,EAAKH,GAAWO,EAAQL,CAAM,EAAE,IAChCW,EAAMT,GAAgBQ,CAAK,EAAE,IAC7BE,EAAajB,GAAG,IAAIM,EAAIU,CAAG,EAC3BE,EAAaV,GAAK,IAAIS,CAAU,EACtC,OAAOd,GAAWe,EAAY,EAAK,CACvC,CACO,SAASC,GAAaC,EAAQL,EAAOJ,EAAQN,EAAS,GAAO,CAChE,IAAMgB,EAAUd,GAAgBQ,CAAK,EAAE,IACjCO,EAASC,GAAWH,CAAM,EAC1BI,EAAWtB,GAAG,SAASmB,CAAO,EAChCI,EAAaH,EAAO,IAAIE,CAAQ,EAChCnB,GAAUoB,EAAW,EAAI5B,KAAQD,KACjC6B,EAAaA,EAAW,OAAO,GAEnC,IAAMb,EAAKa,EAAW,MAAM,EAAI,EAChC,OAAOZ,GAAiBD,EAAID,CAAM,CACtC,CACO,SAASe,GAAchB,EAAQ,CAClC,IAAMJ,EAAKC,GAAgBG,CAAM,EACjCiB,GAAO,KAAKrB,EAAI,GAAI,yCAAyC,EAC7DqB,GAAO,GAAGrB,EAAG,IAAMR,GAAI,qDAAqD,EAC5E6B,GAAO,GAAGrB,EAAG,IAAM,EAAG,6CAA6C,CACvE,CACO,SAASsB,GAAcR,EAAQT,EAAQ,CAC1C,IAAMC,EAAKL,GAAgBa,CAAM,EACjC,GAAIT,IAAW,SACXgB,GAAO,KAAKf,EAAI,GAAI,0CAA0C,UAEzDD,IAAW,QAChBgB,GAAO,KAAKf,EAAI,GAAI,yCAAyC,MAG7D,OAAM,IAAI,MAAM,mBAAqBD,CAAM,EAE/CkB,GAAajB,CAAE,CACnB,CACO,SAASkB,GAAWpB,EAAQqB,EAAS,CACxC,IAAMC,EAAMzB,GAAgBwB,CAAO,EAC7BE,EAAMlC,GAAU,KAAKiC,EAAKtB,CAAM,EAAE,cAAc,EACtD,OAAOF,GAAK,MAAMyB,CAAG,CACzB,CACO,SAASC,GAAYxB,EAAQqB,EAAS,CACzC,IAAMC,EAAMzB,GAAgBwB,CAAO,EAC7BE,EAAME,GAAQ,KAAKH,EAAKtB,CAAM,EACpC,OAAOH,GAAgB0B,CAAG,CAC9B,CACO,SAASG,GAAaC,EAAWN,EAASX,EAAQ,CACrD,IAAMa,EAAM1B,GAAgB8B,CAAS,EAC/BL,EAAMzB,GAAgBwB,CAAO,EAC7BnB,EAAKC,GAAiBO,EAAQ,OAAO,EAC3C,OAAOrB,GAAU,OAAOkC,EAAKD,EAAKpB,CAAE,CACxC,CACO,SAAS0B,GAAcD,EAAWN,EAASX,EAAQ,CACtD,IAAMa,EAAM1B,GAAgB8B,CAAS,EAC/BL,EAAMzB,GAAgBwB,CAAO,EAC7BnB,EAAKC,GAAiBO,EAAQ,QAAQ,EAC5C,OAAOe,GAAQ,OAAOF,EAAKD,EAAKpB,CAAE,CACtC,CACO,SAASiB,GAAaT,EAAQ,CACjC,GAAI,CACWG,GAAWH,CAAM,EACzB,eAAe,CACtB,OACOmB,EAAK,CACR,MAAM,IAAI,MAAM,4BAA8BnB,CAAM,CACxD,CACJ,CACO,SAASG,GAAWH,EAAQ,CAC/B,GAAI,CACA,IAAMR,EAAKC,GAAiBO,EAAQ,OAAO,EAC3C,OAAOrB,GAAU,MAAM,QAAQa,CAAE,CACrC,OACO2B,EAAK,CACR,MAAM,IAAI,MAAM,mBAAqBnB,CAAM,CAC/C,CACJ,CACO,SAASP,GAAiBO,EAAQT,EAAQ,CAC7C,GAAI,CACA,IAAMC,EAAKL,GAAgBa,CAAM,EACjC,GAAIR,EAAG,SAAW,IAAMD,IAAW,SAC/B,OAAOC,EAAG,MAAM,CAAC,EAEhB,GAAIA,EAAG,SAAW,IAAMD,IAAW,QAAS,CAC7C,IAAM6B,EAAShC,GAAK,IAAI,EAAM,CAAC,EAC/B,OAAOA,GAAK,KAAK,CAACgC,EAAQ5B,CAAE,CAAC,CACjC,KAEI,QAAOA,CAEf,OACO2B,EAAK,CACR,MAAM,IAAI,MAAM,mBAAqB,OAAOnB,CAAM,CAAC,CACvD,CACJ,CACO,SAASqB,GAAkBrB,EAAQ,CACtC,IAAMR,EAAKL,GAAgBa,CAAM,EACjC,GAAIR,EAAG,SAAW,GACd,MAAO,QACX,GAAIA,EAAG,SAAW,GACd,MAAO,SACX,MAAM,IAAI,MAAM,mBAAqB,OAAOQ,CAAM,CAAC,CACvD,CACO,SAASb,GAAgBmC,EAAO,CACnC,GAAI,CACA,OAAOlC,GAAK,MAAMkC,CAAK,CAC3B,OACOH,EAAK,CACR,MAAM,IAAI,MAAM,kBAAoB,OAAOG,CAAK,CAAC,CACrD,CACJ,COzIA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,aAAAE,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,WAAAC,KCoLA,IAAMC,GAAyB,WAAW,KAAK,CAC7C,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EACpD,EACKC,GAA+B,WAAW,KAAK,IAAI,MAAM,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,CAACC,EAAGC,IAAMA,CAAC,CAAC,EACrFC,GAA+BH,GAAM,IAAKE,IAAO,EAAIA,EAAI,GAAK,EAAE,EAChEE,IAAyB,IAAK,CAGlC,IAAMC,EAAM,CAFF,CAACL,EAAK,EACN,CAACG,EAAK,CACC,EACjB,QAASD,EAAI,EAAGA,EAAI,EAAGA,IAAK,QAASI,KAAKD,EAAKC,EAAE,KAAKA,EAAEJ,CAAC,EAAE,IAAKK,GAAMR,GAAOQ,CAAC,CAAC,CAAC,EAChF,OAAOF,CACT,GAAE,EACIG,GAA8BJ,GAAM,CAAC,EACrCK,GAA8BL,GAAM,CAAC,EAGrCM,GAA4B,CAChC,CAAC,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,CAAC,EACvD,CAAC,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,CAAC,EACvD,CAAC,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,CAAC,EACvD,CAAC,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,CAAC,EACvD,CAAC,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,CAAC,GACvD,IAAKR,GAAM,WAAW,KAAKA,CAAC,CAAC,EACzBS,GAA6BH,GAAK,IAAI,CAACI,EAAKV,IAAMU,EAAI,IAAKN,GAAMI,GAAUR,CAAC,EAAEI,CAAC,CAAC,CAAC,EACjFO,GAA6BJ,GAAK,IAAI,CAACG,EAAKV,IAAMU,EAAI,IAAKN,GAAMI,GAAUR,CAAC,EAAEI,CAAC,CAAC,CAAC,EACjFQ,GAAwB,YAAY,KAAK,CAC7C,EAAY,WAAY,WAAY,WAAY,WACjD,EACKC,GAAwB,YAAY,KAAK,CAC7C,WAAY,WAAY,WAAY,WAAY,EACjD,EAED,SAASC,GAASC,EAAeC,EAAWC,EAAWC,EAAS,CAC9D,OAAIH,IAAU,EAAUC,EAAIC,EAAIC,EAC5BH,IAAU,EAAWC,EAAIC,EAAM,CAACD,EAAIE,EACpCH,IAAU,GAAWC,EAAI,CAACC,GAAKC,EAC/BH,IAAU,EAAWC,EAAIE,EAAMD,EAAI,CAACC,EACjCF,GAAKC,EAAI,CAACC,EACnB,CAEA,IAAMC,GAA0B,IAAI,YAAY,EAAE,EACrCC,GAAP,cAAyBC,EAAiB,CAO9C,aAAA,CACE,MAAM,GAAI,GAAI,EAAG,EAAI,EAPf,KAAA,GAAK,WACL,KAAA,GAAK,WACL,KAAA,GAAK,YACL,KAAA,GAAK,UACL,KAAA,GAAK,WAIb,CACU,KAAG,CACX,GAAM,CAAE,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,EAAI,GAAAC,CAAE,EAAK,KAC/B,MAAO,CAACJ,EAAIC,EAAIC,EAAIC,EAAIC,CAAE,CAC5B,CACU,IAAIJ,EAAYC,EAAYC,EAAYC,EAAYC,EAAU,CACtE,KAAK,GAAKJ,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,EACf,KAAK,GAAKC,EAAK,CACjB,CACU,QAAQC,EAAgBC,EAAc,CAC9C,QAAS5B,EAAI,EAAGA,EAAI,GAAIA,IAAK4B,GAAU,EAAGT,GAAQnB,CAAC,EAAI2B,EAAK,UAAUC,EAAQ,EAAI,EAElF,IAAIC,EAAK,KAAK,GAAK,EAAGC,EAAKD,EACvBE,EAAK,KAAK,GAAK,EAAGC,EAAKD,EACvBE,EAAK,KAAK,GAAK,EAAGC,EAAKD,EACvBE,EAAK,KAAK,GAAK,EAAGC,EAAKD,EACvBE,EAAK,KAAK,GAAK,EAAGC,EAAKD,EAI3B,QAAStB,EAAQ,EAAGA,EAAQ,EAAGA,IAAS,CACtC,IAAMwB,EAAS,EAAIxB,EACbyB,EAAM5B,GAAMG,CAAK,EAAG0B,EAAM5B,GAAME,CAAK,EACrC2B,EAAKpC,GAAKS,CAAK,EAAG4B,EAAKpC,GAAKQ,CAAK,EACjC6B,EAAKnC,GAAWM,CAAK,EAAG8B,EAAKlC,GAAWI,CAAK,EACnD,QAASf,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAM8C,EAAMC,GAAKlB,EAAKf,GAASC,EAAOgB,EAAIE,EAAIE,CAAE,EAAIhB,GAAQuB,EAAG1C,CAAC,CAAC,EAAIwC,EAAKI,EAAG5C,CAAC,CAAC,EAAIqC,EAAM,EACzFR,EAAKQ,EAAIA,EAAKF,EAAIA,EAAKY,GAAKd,EAAI,EAAE,EAAI,EAAGA,EAAKF,EAAIA,EAAKe,CACzD,CAEA,QAAS9C,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAMgD,EAAMD,GAAKjB,EAAKhB,GAASyB,EAAQP,EAAIE,EAAIE,CAAE,EAAIjB,GAAQwB,EAAG3C,CAAC,CAAC,EAAIyC,EAAKI,EAAG7C,CAAC,CAAC,EAAIsC,EAAM,EAC1FR,EAAKQ,EAAIA,EAAKF,EAAIA,EAAKW,GAAKb,EAAI,EAAE,EAAI,EAAGA,EAAKF,EAAIA,EAAKgB,CACzD,CACF,CAEA,KAAK,IACF,KAAK,GAAKf,EAAKG,EAAM,EACrB,KAAK,GAAKD,EAAKG,EAAM,EACrB,KAAK,GAAKD,EAAKP,EAAM,EACrB,KAAK,GAAKD,EAAKG,EAAM,EACrB,KAAK,GAAKD,EAAKG,EAAM,CAAC,CAE3B,CACU,YAAU,CAClBe,GAAM9B,EAAO,CACf,CACA,SAAO,CACL,KAAK,UAAY,GACjB8B,GAAM,KAAK,MAAM,EACjB,KAAK,IAAI,EAAG,EAAG,EAAG,EAAG,CAAC,CACxB,GAQWC,GAAmCC,GAAa,IAAM,IAAI/B,EAAW,ED/R3E,SAASgC,MAAWC,EAAO,CAC9B,IAAMC,EAASC,GAAK,KAAKF,CAAK,EACxBG,EAASC,GAAWC,GAAWJ,CAAM,CAAC,EAC5C,OAAO,IAAIC,GAAKC,CAAM,CAC1B,CACO,SAASE,MAAUL,EAAO,CAC7B,IAAMC,EAASC,GAAK,KAAKF,CAAK,EACxBG,EAASE,GAAWJ,CAAM,EAChC,OAAO,IAAIC,GAAKC,CAAM,CAC1B,CACO,SAASG,MAAWN,EAAO,CAC9B,IAAMC,EAASC,GAAK,KAAKF,CAAK,EACxBG,EAASE,GAAWA,GAAWJ,CAAM,CAAC,EAC5C,OAAO,IAAIC,GAAKC,CAAM,CAC1B,CACO,SAASI,GAAQC,EAAK,CACzB,IAAMC,EAAOJ,GAAOH,GAAK,IAAIM,CAAG,CAAC,EACjC,OAAON,GAAK,KAAK,CAACO,EAAMA,CAAI,CAAC,CACjC,CACO,SAASC,GAAQF,KAAQR,EAAO,CACnC,IAAMW,EAAOJ,GAAQC,CAAG,EAClBI,EAAOZ,EAAM,IAAIa,GAAK,IAAIX,GAAKW,CAAC,CAAC,EACjCC,EAAOZ,GAAK,KAAK,CAACS,EAAM,GAAGC,CAAI,CAAC,EACtC,OAAOP,GAAOS,CAAI,CACtB,CACO,SAASC,GAAQC,KAAQhB,EAAO,CACnC,IAAMiB,EAAO,IAAIf,GAAKc,CAAG,EACnBf,EAASC,GAAK,KAAKF,CAAK,EACxBG,EAASe,GAAWb,GAAYY,EAAMhB,CAAM,EAClD,OAAO,IAAIC,GAAKC,CAAM,CAC1B,CACO,SAASgB,GAAQH,KAAQhB,EAAO,CACnC,IAAMiB,EAAO,IAAIf,GAAKc,CAAG,EACnBf,EAASC,GAAK,KAAKF,CAAK,EACxBG,EAASe,GAAWE,GAAYH,EAAMhB,CAAM,EAClD,OAAO,IAAIC,GAAKC,CAAM,CAC1B,CACO,SAASkB,GAAQC,EAAQC,EAAMC,EAAS,CAC3C,GAAM,CAAE,EAAAC,EAAI,EAAG,OAAAC,EAAS,EAAG,EAAIF,GAAA,KAAAA,EAAW,CAAC,EACrCG,EAAS,IAAIzB,GAAKoB,CAAM,EACxBM,EAAU,IAAI1B,GAAKqB,CAAI,EACvBpB,EAAS0B,GAAaxB,GAAYsB,EAAQC,EAAS,CAAE,EAAAH,EAAG,MAAOC,CAAO,CAAC,EAC7E,OAAO,IAAIxB,GAAKC,CAAM,CAC1B,CACO,SAAS2B,GAAQR,EAAQC,EAAMC,EAAS,CAC3C,GAAM,CAAE,EAAAC,EAAI,EAAG,OAAAC,EAAS,EAAG,EAAIF,GAAA,KAAAA,EAAW,CAAC,EACrCG,EAAS,IAAIzB,GAAKoB,CAAM,EACxBM,EAAU,IAAI1B,GAAKqB,CAAI,EACvBpB,EAAS0B,GAAaT,GAAYO,EAAQC,EAAS,CAAE,EAAAH,EAAG,MAAOC,CAAO,CAAC,EAC7E,OAAO,IAAIxB,GAAKC,CAAM,CAC1B,CEvDA,IAAA4B,GAAA,GAAAC,GAAAD,GAAA,SAAAE,GAAA,WAAAC,GAAA,WAAAC,GAAA,cAAAC,GAAA,WAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,YAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,QAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,QAAAC,KCAA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,WAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,kBAAAC,GAAA,WAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,iBAAAC,GAAA,cAAAC,GAAA,oBAAAC,GAAA,eAAAC,GAAA,cAAAC,GAAA,cAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,0BAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,0BAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,0BAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,mBAAAC,GAAA,mBAAAC,GAAA,eAAAC,GAAA,oBAAAC,GAAA,iBAAAC,GAAA,WAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,cAAAC,GAAA,aAAAC,GAAA,mBAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,oBAAAC,GAAA,cAAAC,GAAA,gBAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,eAAAC,GAAA,gBAAAC,GAAA,iBAAAC,GAAA,cAAAC,GAAA,WAAAC,GAAA,cAAAC,GAAA,oBAAAC,GAAA,eAAAC,GAAA,cAAAC,GAAA,uBAAAC,GAAA,iBAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,iBAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,eAAAC,GAAA,aAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,cAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,uBAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,aAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,iBAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,aAAAC,GAAA,gBAAAC,GAAA,mBAAAC,GAAA,OAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,iBAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,QAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,OAAAC,GAAA,QAAAC,GAAA,QAAAC,GAAA,cAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,cAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,QAAAC,GAAA,WAAAC,GAAA,eAAAC,GAAA,aAAAC,GAAA,UAAAC,GAAA,gBAAAC,GAAA,gBAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,UAAAC,GAAA,eAAAC,GAAA,kBAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,kBAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,UAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,mBAAAC,GAAA,QAAAC,GAAA,gBAAAC,GAAA,SAAAC,GAAA,eAAAC,GAAA,iBAAAC,GAAA,WAAAC,GAAA,iBAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,WAAAC,GAAA,oBAAAC,GAAA,iBAAAC,GAAA,gBAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,iBAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,cAAAC,GAAA,UAAAC,GAAA,YAAAC,GAAA,cAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,QAAAC,KCAA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,aAAAE,GAAA,cAAAC,GAAA,mBAAAC,GAAA,eAAAC,GAAA,kBAAAC,GAAA,eAAAC,GAAA,qBAAAC,GAAA,gBAAAC,GAAA,eAAAC,GAAA,eAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,cAAAC,GAAA,cAAAC,GAAA,0BAAAC,GAAA,sBAAAC,GAAA,yBAAAC,GAAA,sBAAAC,GAAA,0BAAAC,GAAA,sBAAAC,GAAA,uBAAAC,GAAA,uBAAAC,GAAA,qBAAAC,GAAA,sBAAAC,GAAA,uBAAAC,GAAA,qBAAAC,GAAA,wBAAAC,GAAA,0BAAAC,GAAA,uBAAAC,GAAA,sBAAAC,GAAA,mBAAAC,GAAA,wBAAAC,GAAA,wBAAAC,GAAA,0BAAAC,GAAA,uBAAAC,GAAA,eAAAC,GAAA,2BAAAC,GAAA,aAAAC,GAAA,gBAAAC,GAAA,2BAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,cAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,aAAAC,GAAA,iBAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,gBAAAC,GAAA,oBAAAC,GAAA,oBAAAC,GAAA,gBAAAC,GAAA,qBAAAC,GAAA,YAAAC,GAAA,cAAAC,GAAA,aAAAC,GAAA,gBAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,cAAAC,GAAA,oBAAAC,GAAA,aAAAC,GAAA,iBAAAC,GAAA,eAAAC,GAAA,qBAAAC,GAAA,eAAAC,GAAA,iBAAAC,GAAA,aAAAC,GAAA,iBAAAC,GAAA,gBAAAC,GAAA,iBAAAC,GAAA,kBAAAC,GAAA,eAAAC,GAAA,iBAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,qBAAAC,GAAA,gBAAAC,GAAA,eAAAC,GAAA,wBAAAC,GAAA,kBAAAC,GAAA,cAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,kBAAAC,GAAA,cAAAC,GAAA,gBAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,iBAAAC,EAAA,WAAAC,GAAA,YAAAC,GAAA,QAAAC,GAAA,eAAAC,GAAA,wBAAAC,GAAA,UAAAC,GAAA,kBAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,mBAAAC,GAAA,oBAAAC,GAAA,iBAAAC,GAAA,mBAAAC,GAAA,mBAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,aAAAC,GAAA,wBAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,cAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,cAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,kBAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,aAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,aAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,UAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,QAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,SAAAD,GAAA,eAAAE,GAAA,aAAAC,GAAA,UAAAC,GAAA,SAAAxB,GAAA,eAAAyB,GAAA,aAAAC,GAAA,gBAAAC,GAAA,SAAAC,GAAA,YAAAC,GAAA,gBAAAC,GAAA,cAAAC,GAAA,WAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,eAAAC,GAAA,UAAAC,GAAA,cAAAC,GAAA,YAAAC,GAAA,cAAAC,GAAA,eAAAC,GAAA,WAAAC,GAAA,gBAAAC,GAAA,UAAAC,GAAA,cAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,cAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,WAAAC,GAAA,eAAAC,GAAA,oBAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,gBAAAC,GAAA,YAAAC,GAAA,kBAAAC,GAAA,gBAAAC,GAAA,aAAAC,GAAA,iBAAAC,GAAA,YAAAC,GAAA,qBAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,eAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,eAAAC,GAAA,WAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,WAAAC,GAAA,iBAAAC,GAAA,gBAAAC,GAAA,aAAAC,GAAA,iBAAAC,GAAA,mBAAAC,GAAA,kBAAAC,GAAA,qBAAAC,GAAA,eAAAC,GAAA,YAAAC,GAAA,UAAAC,GAAA,eAAAC,GAAA,kBAAAC,GAAA,YAAAC,GAAA,aAAAC,GAAA,cAAAC,GAAA,mBAAAC,GAAA,cAAAC,GAAA,iBAAAC,GAAA,iBAAAC,GAAA,SAAAC,EAAA,YAAAC,KCCO,IAAMC,GAAQ,OAAO,OAAO,CAC/B,OAAQ,SACZ,CAAC,EAC+B,SAASC,EAAaC,EAAMC,EAAaC,EAAQ,CAJjF,IAAAC,EAKI,SAASC,EAAKC,EAAMC,EAAK,CAL7B,IAAAH,EAAAI,EAMQ,IAAIJ,EACJ,OAAO,eAAeE,EAAM,OAAQ,CAChC,OAAOF,EAAAE,EAAK,OAAL,KAAAF,EAAa,CAAC,EACrB,WAAY,EAChB,CAAC,GACAI,GAAAJ,EAAKE,EAAK,MAAM,SAAhB,OAA2BF,EAAG,OAAS,IAAI,KAC5CE,EAAK,KAAK,OAAO,IAAIL,CAAI,EACzBC,EAAYI,EAAMC,CAAG,EAErB,QAAWE,KAAKC,EAAE,UACRD,KAAKH,GACP,OAAO,eAAeA,EAAMG,EAAG,CAAE,MAAOC,EAAE,UAAUD,CAAC,EAAE,KAAKH,CAAI,CAAE,CAAC,EAE3EA,EAAK,KAAK,OAASI,EACnBJ,EAAK,KAAK,IAAMC,CACpB,CAEA,IAAMI,GAASP,EAAAD,GAAA,YAAAA,EAAQ,SAAR,KAAAC,EAAkB,OACjC,MAAMQ,UAAmBD,CAAO,CAChC,CACA,OAAO,eAAeC,EAAY,OAAQ,CAAE,MAAOX,CAAK,CAAC,EACzD,SAASS,EAAEH,EAAK,CA3BpB,IAAAH,EA4BQ,IAAIA,EACJ,IAAME,EAAOH,GAAA,MAAAA,EAAQ,OAAS,IAAIS,EAAe,KACjDP,EAAKC,EAAMC,CAAG,GACbH,KAAKE,EAAK,MAAM,WAAhB,OAA6BF,EAAG,SAAW,CAAC,GAC7C,QAAWS,KAAMP,EAAK,KAAK,SACvBO,EAAG,EAEP,OAAOP,CACX,CACA,cAAO,eAAeI,EAAG,OAAQ,CAAE,MAAOL,CAAK,CAAC,EAChD,OAAO,eAAeK,EAAG,OAAO,YAAa,CACzC,MAAQJ,GAAS,CAvCzB,IAAAF,EAAAI,EAwCY,OAAIL,GAAA,MAAAA,EAAQ,QAAUG,aAAgBH,EAAO,OAClC,IACJK,GAAAJ,EAAAE,GAAA,YAAAA,EAAM,OAAN,YAAAF,EAAY,SAAZ,YAAAI,EAAoB,IAAIP,EACnC,CACJ,CAAC,EACD,OAAO,eAAeS,EAAG,OAAQ,CAAE,MAAOT,CAAK,CAAC,EACzCS,CACX,CAEO,IAAMI,GAAS,OAAO,WAAW,EAC3BC,GAAN,cAA6B,KAAM,CACtC,aAAc,CACV,MAAM,0EAA0E,CACpF,CACJ,EACaC,GAAe,CAAC,EACtB,SAASC,GAAOC,EAAW,CAC9B,OAAIA,GACA,OAAO,OAAOF,GAAcE,CAAS,EAClCF,EACX,CC5DA,IAAAG,EAAA,GAAAC,GAAAD,EAAA,0BAAAE,GAAA,UAAAC,GAAA,yBAAAC,GAAA,YAAAC,GAAA,eAAAC,GAAA,WAAAC,GAAA,gBAAAC,GAAA,aAAAC,GAAA,gBAAAC,GAAA,mBAAAC,GAAA,eAAAC,GAAA,WAAAC,GAAA,sBAAAC,GAAA,cAAAC,GAAA,eAAAC,GAAA,UAAAC,GAAA,aAAAC,GAAA,2BAAAC,GAAA,eAAAC,GAAA,QAAAC,GAAA,gBAAAC,GAAA,WAAAC,GAAA,kBAAAC,GAAA,uBAAAC,GAAA,qBAAAC,GAAA,kBAAAC,GAAA,wBAAAC,GAAA,kBAAAC,GAAA,qBAAAC,GAAA,aAAAC,GAAA,kBAAAC,GAAA,UAAAC,GAAA,eAAAC,EAAA,0BAAAC,GAAA,UAAAC,GAAA,cAAAC,GAAA,oBAAAC,EAAA,YAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,iBAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,iBAAAC,GAAA,mBAAAC,GAAA,qBAAAC,GAAA,qBAAAC,GAAA,iBAAAC,GAAA,aAAAC,GAAA,uBAAAC,EAAA,kBAAAC,KACO,SAASC,GAAYC,EAAK,CAC7B,OAAOA,CACX,CACO,SAASC,GAAeD,EAAK,CAChC,OAAOA,CACX,CACO,SAASE,GAASC,EAAM,CAAE,CAC1B,SAASC,GAAYC,EAAI,CAC5B,MAAM,IAAI,KACd,CACO,SAASC,GAAOC,EAAG,CAAE,CACrB,SAASC,GAAcC,EAAS,CACnC,IAAMC,EAAgB,OAAO,OAAOD,CAAO,EAAE,OAAQE,GAAM,OAAOA,GAAM,QAAQ,EAIhF,OAHe,OAAO,QAAQF,CAAO,EAChC,OAAO,CAAC,CAACG,EAAGL,CAAC,IAAMG,EAAc,QAAQ,CAACE,CAAC,IAAM,EAAE,EACnD,IAAI,CAAC,CAACL,EAAGI,CAAC,IAAMA,CAAC,CAE1B,CACO,SAASE,EAAWC,EAAOC,EAAY,IAAK,CAC/C,OAAOD,EAAM,IAAKd,GAAQgB,EAAmBhB,CAAG,CAAC,EAAE,KAAKe,CAAS,CACrE,CACO,SAASE,GAAsBV,EAAGW,EAAO,CAC5C,OAAI,OAAOA,GAAU,SACVA,EAAM,SAAS,EACnBA,CACX,CACO,SAASC,GAAOC,EAAQ,CAE3B,MAAO,CACH,IAAI,OAAQ,CACE,CACN,IAAMF,EAAQE,EAAO,EACrB,cAAO,eAAe,KAAM,QAAS,CAAE,MAAAF,CAAM,CAAC,EACvCA,CACX,CACA,MAAM,IAAI,MAAM,0BAA0B,CAC9C,CACJ,CACJ,CACO,SAASG,GAAQC,EAAO,CAC3B,OAAOA,GAAU,IACrB,CACO,SAASC,GAAWC,EAAQ,CAC/B,IAAMC,EAAQD,EAAO,WAAW,GAAG,EAAI,EAAI,EACrCE,EAAMF,EAAO,SAAS,GAAG,EAAIA,EAAO,OAAS,EAAIA,EAAO,OAC9D,OAAOA,EAAO,MAAMC,EAAOC,CAAG,CAClC,CACO,SAASC,GAAmB3B,EAAK4B,EAAM,CAC1C,IAAMC,GAAe7B,EAAI,SAAS,EAAE,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OACnD8B,EAAaF,EAAK,SAAS,EAC7BG,GAAgBD,EAAW,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OACpD,GAAIC,IAAiB,GAAK,WAAW,KAAKD,CAAU,EAAG,CACnD,IAAME,EAAQF,EAAW,MAAM,YAAY,EACvCE,GAAA,MAAAA,EAAQ,KACRD,EAAe,OAAO,SAASC,EAAM,CAAC,CAAC,EAE/C,CACA,IAAMC,EAAWJ,EAAcE,EAAeF,EAAcE,EACtDG,EAAS,OAAO,SAASlC,EAAI,QAAQiC,CAAQ,EAAE,QAAQ,IAAK,EAAE,CAAC,EAC/DE,EAAU,OAAO,SAASP,EAAK,QAAQK,CAAQ,EAAE,QAAQ,IAAK,EAAE,CAAC,EACvE,OAAQC,EAASC,EAAW,IAAMF,CACtC,CACA,IAAMG,GAAa,OAAO,YAAY,EAC/B,SAASC,GAAWC,EAAQC,EAAKnB,EAAQ,CAC5C,IAAIF,EACJ,OAAO,eAAeoB,EAAQC,EAAK,CAC/B,KAAM,CACF,GAAIrB,IAAUkB,GAId,OAAIlB,IAAU,SACVA,EAAQkB,GACRlB,EAAQE,EAAO,GAEZF,CACX,EACA,IAAIP,EAAG,CACH,OAAO,eAAe2B,EAAQC,EAAK,CAC/B,MAAO5B,CAEX,CAAC,CAEL,EACA,aAAc,EAClB,CAAC,CACL,CACO,SAAS6B,GAAWC,EAAQC,EAAMxB,EAAO,CAC5C,OAAO,eAAeuB,EAAQC,EAAM,CAChC,MAAAxB,EACA,SAAU,GACV,WAAY,GACZ,aAAc,EAClB,CAAC,CACL,CACO,SAASyB,MAAaC,EAAM,CAC/B,IAAMC,EAAoB,CAAC,EAC3B,QAAWC,KAAOF,EAAM,CACpB,IAAMG,EAAc,OAAO,0BAA0BD,CAAG,EACxD,OAAO,OAAOD,EAAmBE,CAAW,CAChD,CACA,OAAO,OAAO,iBAAiB,CAAC,EAAGF,CAAiB,CACxD,CACO,SAASG,GAASC,EAAQ,CAC7B,OAAON,GAAUM,EAAO,KAAK,GAAG,CACpC,CACO,SAASC,GAAiBC,EAAKC,EAAM,CACxC,OAAKA,EAEEA,EAAK,OAAO,CAACC,EAAKd,IAAQc,GAAA,YAAAA,EAAMd,GAAMY,CAAG,EADrCA,CAEf,CACO,SAASG,GAAiBC,EAAa,CAC1C,IAAMC,EAAO,OAAO,KAAKD,CAAW,EAC9BE,EAAWD,EAAK,IAAKjB,GAAQgB,EAAYhB,CAAG,CAAC,EACnD,OAAO,QAAQ,IAAIkB,CAAQ,EAAE,KAAMC,GAAY,CAC3C,IAAMC,EAAc,CAAC,EACrB,QAAS,EAAI,EAAG,EAAIH,EAAK,OAAQ,IAC7BG,EAAYH,EAAK,CAAC,CAAC,EAAIE,EAAQ,CAAC,EAEpC,OAAOC,CACX,CAAC,CACL,CACO,SAASC,GAAaC,EAAS,GAAI,CACtC,IAAMC,EAAQ,6BACVC,EAAM,GACV,QAASC,EAAI,EAAGA,EAAIH,EAAQG,IACxBD,GAAOD,EAAM,KAAK,MAAM,KAAK,OAAO,EAAIA,EAAM,MAAM,CAAC,EAEzD,OAAOC,CACX,CACO,SAASE,GAAIF,EAAK,CACrB,OAAO,KAAK,UAAUA,CAAG,CAC7B,CACO,IAAMG,GAAqB,sBAAuB,MAAQ,MAAM,kBAAoB,IAAIC,IAAU,CAAE,EACpG,SAASC,GAASC,EAAM,CAC3B,OAAO,OAAOA,GAAS,UAAYA,IAAS,MAAQ,CAAC,MAAM,QAAQA,CAAI,CAC3E,CACO,IAAMC,GAAanD,GAAO,IAAM,CA1IvC,IAAAoD,EA4II,GAAI,OAAO,UAAc,OAAeA,EAAA,iCAAW,YAAX,MAAAA,EAAsB,SAAS,eACnE,MAAO,GAEX,GAAI,CACA,IAAMC,EAAI,SACV,WAAIA,EAAE,EAAE,EACD,EACX,OACOjE,EAAG,CACN,MAAO,EACX,CACJ,CAAC,EACM,SAASkE,GAAcC,EAAG,CAC7B,GAAIN,GAASM,CAAC,IAAM,GAChB,MAAO,GAEX,IAAMC,EAAOD,EAAE,YACf,GAAIC,IAAS,OACT,MAAO,GAEX,IAAMC,EAAOD,EAAK,UAIlB,MAHI,EAAAP,GAASQ,CAAI,IAAM,IAGnB,OAAO,UAAU,eAAe,KAAKA,EAAM,eAAe,IAAM,GAIxE,CACO,SAASC,GAAQR,EAAM,CAC1B,IAAIS,EAAW,EACf,QAAWvC,KAAO8B,EACV,OAAO,UAAU,eAAe,KAAKA,EAAM9B,CAAG,GAC9CuC,IAGR,OAAOA,CACX,CACO,IAAMC,GAAiBV,GAAS,CACnC,IAAM,EAAI,OAAOA,EACjB,OAAQ,EAAG,CACP,IAAK,YACD,MAAO,YACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,OAAO,OAAO,MAAMA,CAAI,EAAI,MAAQ,SACxC,IAAK,UACD,MAAO,UACX,IAAK,WACD,MAAO,WACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,MAAO,SACX,IAAK,SACD,OAAI,MAAM,QAAQA,CAAI,EACX,QAEPA,IAAS,KACF,OAEPA,EAAK,MAAQ,OAAOA,EAAK,MAAS,YAAcA,EAAK,OAAS,OAAOA,EAAK,OAAU,WAC7E,UAEP,OAAO,IAAQ,KAAeA,aAAgB,IACvC,MAEP,OAAO,IAAQ,KAAeA,aAAgB,IACvC,MAEP,OAAO,KAAS,KAAeA,aAAgB,KACxC,OAGP,OAAO,KAAS,KAAeA,aAAgB,KACxC,OAEJ,SACX,QACI,MAAM,IAAI,MAAM,sBAAsB,SAAG,CACjD,CACJ,EACaW,GAAmB,IAAI,IAAI,CAAC,SAAU,SAAU,QAAQ,CAAC,EACzDC,GAAiB,IAAI,IAAI,CAAC,SAAU,SAAU,SAAU,UAAW,SAAU,WAAW,CAAC,EAC/F,SAASC,GAAYnB,EAAK,CAC7B,OAAOA,EAAI,QAAQ,sBAAuB,MAAM,CACpD,CAEO,SAASoB,GAAMC,EAAMtC,EAAKuC,EAAQ,CACrC,IAAMC,EAAK,IAAIF,EAAK,KAAK,OAAOtC,GAAA,KAAAA,EAAOsC,EAAK,KAAK,GAAG,EACpD,OAAI,CAACtC,GAAOuC,GAAA,MAAAA,EAAQ,UAChBC,EAAG,KAAK,OAASF,GACdE,CACX,CACO,SAASC,EAAgBC,EAAS,CACrC,IAAMH,EAASG,EACf,GAAI,CAACH,EACD,MAAO,CAAC,EACZ,GAAI,OAAOA,GAAW,SAClB,MAAO,CAAE,MAAO,IAAMA,CAAO,EACjC,IAAIA,GAAA,YAAAA,EAAQ,WAAY,OAAW,CAC/B,IAAIA,GAAA,YAAAA,EAAQ,SAAU,OAClB,MAAM,IAAI,MAAM,kDAAkD,EACtEA,EAAO,MAAQA,EAAO,OAC1B,CAEA,OADA,OAAOA,EAAO,QACV,OAAOA,EAAO,OAAU,SACjBI,EAAAC,EAAA,GAAKL,GAAL,CAAa,MAAO,IAAMA,EAAO,KAAM,GAC3CA,CACX,CACO,SAASM,GAAuBvE,EAAQ,CAC3C,IAAIqB,EACJ,OAAO,IAAI,MAAM,CAAC,EAAG,CACjB,IAAIlC,EAAGmC,EAAMkD,EAAU,CACnB,OAAAnD,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,IAAIqB,EAAQC,EAAMkD,CAAQ,CAC7C,EACA,IAAIrF,EAAGmC,EAAMxB,EAAO0E,EAAU,CAC1B,OAAAnD,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,IAAIqB,EAAQC,EAAMxB,EAAO0E,CAAQ,CACpD,EACA,IAAIrF,EAAGmC,EAAM,CACT,OAAAD,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,IAAIqB,EAAQC,CAAI,CACnC,EACA,eAAenC,EAAGmC,EAAM,CACpB,OAAAD,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,eAAeqB,EAAQC,CAAI,CAC9C,EACA,QAAQnC,EAAG,CACP,OAAAkC,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,QAAQqB,CAAM,CACjC,EACA,yBAAyBlC,EAAGmC,EAAM,CAC9B,OAAAD,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,yBAAyBqB,EAAQC,CAAI,CACxD,EACA,eAAenC,EAAGmC,EAAMmD,EAAY,CAChC,OAAApD,GAAA,OAAWA,EAASrB,EAAO,GACpB,QAAQ,eAAeqB,EAAQC,EAAMmD,CAAU,CAC1D,CACJ,CAAC,CACL,CACO,SAAS7E,EAAmBE,EAAO,CACtC,OAAI,OAAOA,GAAU,SACVA,EAAM,SAAS,EAAI,IAC1B,OAAOA,GAAU,SACV,IAAI,OAAAA,EAAK,KACb,GAAG,OAAAA,EACd,CACO,SAAS4E,GAAaC,EAAO,CAChC,OAAO,OAAO,KAAKA,CAAK,EAAE,OAAQnF,GACvBmF,EAAMnF,CAAC,EAAE,KAAK,QAAU,YAAcmF,EAAMnF,CAAC,EAAE,KAAK,SAAW,UACzE,CACL,CACO,IAAMoF,GAAuB,CAChC,QAAS,CAAC,OAAO,iBAAkB,OAAO,gBAAgB,EAC1D,MAAO,CAAC,YAAa,UAAU,EAC/B,OAAQ,CAAC,EAAG,UAAU,EACtB,QAAS,CAAC,sBAAwB,oBAAqB,EACvD,QAAS,CAAC,CAAC,OAAO,UAAW,OAAO,SAAS,CACjD,EACaC,GAAuB,CAChC,MAAO,CAAgB,OAAO,sBAAsB,EAAkB,OAAO,qBAAqB,CAAC,EACnG,OAAQ,CAAgB,OAAO,CAAC,EAAkB,OAAO,sBAAsB,CAAC,CACpF,EACO,SAASC,GAAKjD,EAAQkD,EAAM,CAC/B,IAAMC,EAAUnD,EAAO,KAAK,IACtBH,EAAMH,GAAUM,EAAO,KAAK,IAAK,CACnC,IAAI,OAAQ,CACR,IAAMoD,EAAW,CAAC,EAClB,QAAW9D,KAAO4D,EAAM,CACpB,GAAI,EAAE5D,KAAO6D,EAAQ,OACjB,MAAM,IAAI,MAAM,sBAAsB,OAAA7D,EAAG,IAAG,EAE3C4D,EAAK5D,CAAG,IAEb8D,EAAS9D,CAAG,EAAI6D,EAAQ,MAAM7D,CAAG,EACrC,CACA,OAAAC,GAAW,KAAM,QAAS6D,CAAQ,EAC3BA,CACX,EACA,OAAQ,CAAC,CACb,CAAC,EACD,OAAOlB,GAAMlC,EAAQH,CAAG,CAC5B,CACO,SAASwD,GAAKrD,EAAQkD,EAAM,CAC/B,IAAMC,EAAUnD,EAAO,KAAK,IACtBH,EAAMH,GAAUM,EAAO,KAAK,IAAK,CACnC,IAAI,OAAQ,CACR,IAAMoD,EAAWX,EAAA,GAAKzC,EAAO,KAAK,IAAI,OACtC,QAAWV,KAAO4D,EAAM,CACpB,GAAI,EAAE5D,KAAO6D,EAAQ,OACjB,MAAM,IAAI,MAAM,sBAAsB,OAAA7D,EAAG,IAAG,EAE3C4D,EAAK5D,CAAG,GAEb,OAAO8D,EAAS9D,CAAG,CACvB,CACA,OAAAC,GAAW,KAAM,QAAS6D,CAAQ,EAC3BA,CACX,EACA,OAAQ,CAAC,CACb,CAAC,EACD,OAAOlB,GAAMlC,EAAQH,CAAG,CAC5B,CACO,SAASyD,GAAOtD,EAAQ8C,EAAO,CAClC,GAAI,CAACtB,GAAcsB,CAAK,EACpB,MAAM,IAAI,MAAM,kDAAkD,EAEtE,IAAMjD,EAAMH,GAAUM,EAAO,KAAK,IAAK,CACnC,IAAI,OAAQ,CACR,IAAMuD,EAASd,IAAA,GAAKzC,EAAO,KAAK,IAAI,OAAU8C,GAC9C,OAAAvD,GAAW,KAAM,QAASgE,CAAM,EACzBA,CACX,EACA,OAAQ,CAAC,CACb,CAAC,EACD,OAAOrB,GAAMlC,EAAQH,CAAG,CAC5B,CACO,SAAS2D,GAAMC,EAAGC,EAAG,CACxB,IAAM7D,EAAMH,GAAU+D,EAAE,KAAK,IAAK,CAC9B,IAAI,OAAQ,CACR,IAAMF,EAASd,IAAA,GAAKgB,EAAE,KAAK,IAAI,OAAUC,EAAE,KAAK,IAAI,OACpD,OAAAnE,GAAW,KAAM,QAASgE,CAAM,EACzBA,CACX,EACA,IAAI,UAAW,CACX,OAAOG,EAAE,KAAK,IAAI,QACtB,EACA,OAAQ,CAAC,CACb,CAAC,EACD,OAAOxB,GAAMuB,EAAG5D,CAAG,CACvB,CACO,SAAS8D,GAAQC,EAAO5D,EAAQkD,EAAM,CACzC,IAAMrD,EAAMH,GAAUM,EAAO,KAAK,IAAK,CACnC,IAAI,OAAQ,CACR,IAAM6D,EAAW7D,EAAO,KAAK,IAAI,MAC3B8C,EAAQL,EAAA,GAAKoB,GACnB,GAAIX,EACA,QAAW5D,KAAO4D,EAAM,CACpB,GAAI,EAAE5D,KAAOuE,GACT,MAAM,IAAI,MAAM,sBAAsB,OAAAvE,EAAG,IAAG,EAE3C4D,EAAK5D,CAAG,IAGbwD,EAAMxD,CAAG,EAAIsE,EACP,IAAIA,EAAM,CACR,KAAM,WACN,UAAWC,EAASvE,CAAG,CAC3B,CAAC,EACCuE,EAASvE,CAAG,EACtB,KAGA,SAAWA,KAAOuE,EAEdf,EAAMxD,CAAG,EAAIsE,EACP,IAAIA,EAAM,CACR,KAAM,WACN,UAAWC,EAASvE,CAAG,CAC3B,CAAC,EACCuE,EAASvE,CAAG,EAG1B,OAAAC,GAAW,KAAM,QAASuD,CAAK,EACxBA,CACX,EACA,OAAQ,CAAC,CACb,CAAC,EACD,OAAOZ,GAAMlC,EAAQH,CAAG,CAC5B,CACO,SAASiE,GAASF,EAAO5D,EAAQkD,EAAM,CAC1C,IAAMrD,EAAMH,GAAUM,EAAO,KAAK,IAAK,CACnC,IAAI,OAAQ,CACR,IAAM6D,EAAW7D,EAAO,KAAK,IAAI,MAC3B8C,EAAQL,EAAA,GAAKoB,GACnB,GAAIX,EACA,QAAW5D,KAAO4D,EAAM,CACpB,GAAI,EAAE5D,KAAOwD,GACT,MAAM,IAAI,MAAM,sBAAsB,OAAAxD,EAAG,IAAG,EAE3C4D,EAAK5D,CAAG,IAGbwD,EAAMxD,CAAG,EAAI,IAAIsE,EAAM,CACnB,KAAM,cACN,UAAWC,EAASvE,CAAG,CAC3B,CAAC,EACL,KAGA,SAAWA,KAAOuE,EAEdf,EAAMxD,CAAG,EAAI,IAAIsE,EAAM,CACnB,KAAM,cACN,UAAWC,EAASvE,CAAG,CAC3B,CAAC,EAGT,OAAAC,GAAW,KAAM,QAASuD,CAAK,EACxBA,CACX,EACA,OAAQ,CAAC,CACb,CAAC,EACD,OAAOZ,GAAMlC,EAAQH,CAAG,CAC5B,CAEO,SAASkE,GAAQC,EAAGC,EAAa,EAAG,CAlc3C,IAAA3C,EAmcI,QAASP,EAAIkD,EAAYlD,EAAIiD,EAAE,OAAO,OAAQjD,IAC1C,KAAIO,EAAA0C,EAAE,OAAOjD,CAAC,IAAV,YAAAO,EAAa,YAAa,GAC1B,MAAO,GAGf,MAAO,EACX,CACO,SAAS4C,GAAa/D,EAAMgE,EAAQ,CACvC,OAAOA,EAAO,IAAKC,GAAQ,CA3c/B,IAAA9C,EA4cQ,IAAIA,EACJ,OAACA,KAAK8C,GAAK,OAAV,OAAmB9C,EAAG,KAAO,CAAC,GAC/B8C,EAAI,KAAK,QAAQjE,CAAI,EACdiE,CACX,CAAC,CACL,CACO,SAASC,GAAcC,EAAS,CACnC,OAAO,OAAOA,GAAY,SAAWA,EAAUA,GAAA,YAAAA,EAAS,OAC5D,CACO,SAASC,GAAcH,EAAKI,EAAKC,EAAQ,CArdhD,IAAAnD,EAAAoD,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAsdI,IAAMC,EAAO5C,EAAAC,EAAA,GAAK2B,GAAL,CAAU,MAAM9C,EAAA8C,EAAI,OAAJ,KAAA9C,EAAY,CAAC,CAAE,GAE5C,GAAI,CAAC8C,EAAI,QAAS,CACd,IAAME,GAAUa,GAAAD,GAAAF,GAAAF,EAAAT,IAAcO,GAAAD,GAAAD,EAAAN,EAAI,OAAJ,YAAAM,EAAU,KAAK,MAAf,YAAAC,EAAoB,QAApB,YAAAC,EAAA,KAAAD,EAA4BP,EAAI,IAA9C,KAAAU,EACZT,IAAcQ,EAAAL,GAAA,YAAAA,EAAK,QAAL,YAAAK,EAAA,KAAAL,EAAaJ,EAAI,IADnB,KAAAY,EAEZX,IAAcU,EAAAN,EAAO,cAAP,YAAAM,EAAA,KAAAN,EAAqBL,EAAI,IAF3B,KAAAc,EAGZb,IAAcY,EAAAR,EAAO,cAAP,YAAAQ,EAAA,KAAAR,EAAqBL,EAAI,IAH3B,KAAAe,EAIZ,gBACJC,EAAK,QAAUd,CACnB,CAEA,cAAOc,EAAK,KACZ,OAAOA,EAAK,SACPZ,GAAA,MAAAA,EAAK,aACN,OAAOY,EAAK,MAETA,CACX,CACO,SAASC,GAAiBhH,EAAO,CACpC,OAAIA,aAAiB,IACV,MACPA,aAAiB,IACV,MAEPA,aAAiB,KACV,OACJ,SACX,CACO,SAASiH,GAAoBjH,EAAO,CACvC,OAAI,MAAM,QAAQA,CAAK,EACZ,QACP,OAAOA,GAAU,SACV,SACJ,SACX,CACO,SAASkH,MAASC,EAAM,CAC3B,GAAM,CAACpB,EAAK/F,EAAO8D,CAAI,EAAIqD,EAC3B,OAAI,OAAOpB,GAAQ,SACR,CACH,QAASA,EACT,KAAM,SACN,MAAA/F,EACA,KAAA8D,CACJ,EAEGM,EAAA,GAAK2B,EAChB,CACO,SAASqB,GAAUvF,EAAK,CAC3B,OAAO,OAAO,QAAQA,CAAG,EACpB,OAAO,CAAC,CAACvC,EAAGL,CAAC,IAEP,OAAO,MAAM,OAAO,SAASK,EAAG,EAAE,CAAC,CAC7C,EACI,IAAK+H,GAAOA,EAAG,CAAC,CAAC,CAC1B,CAEO,IAAM9B,GAAN,KAAY,CACf,eAAe1C,EAAO,CAAE,CAC5B,EC9gBA,IAAMyE,GAAc,CAACC,EAAMC,IAAQ,CAC/BD,EAAK,KAAO,YACZ,OAAO,eAAeA,EAAM,OAAQ,CAChC,MAAOA,EAAK,KACZ,WAAY,EAChB,CAAC,EACD,OAAO,eAAeA,EAAM,SAAU,CAClC,MAAOC,EACP,WAAY,EAChB,CAAC,EACDD,EAAK,QAAU,KAAK,UAAUC,EAAUC,GAAuB,CAAC,EAChE,OAAO,eAAeF,EAAM,WAAY,CACpC,MAAO,IAAMA,EAAK,QAClB,WAAY,EAChB,CAAC,CACL,EACaG,GAAYC,EAAa,YAAaL,EAAW,EACjDM,GAAgBD,EAAa,YAAaL,GAAa,CAAE,OAAQ,KAAM,CAAC,EAC9E,SAASO,GAAaC,EAAOC,EAAUC,GAAUA,EAAM,QAAS,CACnE,IAAMC,EAAc,CAAC,EACfC,EAAa,CAAC,EACpB,QAAWC,KAAOL,EAAM,OAChBK,EAAI,KAAK,OAAS,GAClBF,EAAYE,EAAI,KAAK,CAAC,CAAC,EAAIF,EAAYE,EAAI,KAAK,CAAC,CAAC,GAAK,CAAC,EACxDF,EAAYE,EAAI,KAAK,CAAC,CAAC,EAAE,KAAKJ,EAAOI,CAAG,CAAC,GAGzCD,EAAW,KAAKH,EAAOI,CAAG,CAAC,EAGnC,MAAO,CAAE,WAAAD,EAAY,YAAAD,CAAY,CACrC,CACO,SAASG,GAAYN,EAAOO,EAAS,CACxC,IAAMN,EAASM,GACX,SAAUL,EAAO,CACb,OAAOA,EAAM,OACjB,EACEC,EAAc,CAAE,QAAS,CAAC,CAAE,EAC5BK,EAAgBR,GAAU,CAC5B,QAAWE,KAASF,EAAM,OACtB,GAAIE,EAAM,OAAS,iBAAmBA,EAAM,OAAO,OAC/CA,EAAM,OAAO,IAAKO,GAAWD,EAAa,CAAE,OAAAC,CAAO,CAAC,CAAC,UAEhDP,EAAM,OAAS,cACpBM,EAAa,CAAE,OAAQN,EAAM,MAAO,CAAC,UAEhCA,EAAM,OAAS,kBACpBM,EAAa,CAAE,OAAQN,EAAM,MAAO,CAAC,UAEhCA,EAAM,KAAK,SAAW,EAC3BC,EAAY,QAAQ,KAAKF,EAAOC,CAAK,CAAC,MAErC,CACD,IAAIQ,EAAOP,EACPQ,EAAI,EACR,KAAOA,EAAIT,EAAM,KAAK,QAAQ,CAC1B,IAAMU,EAAKV,EAAM,KAAKS,CAAC,EACNA,IAAMT,EAAM,KAAK,OAAS,GAKvCQ,EAAKE,CAAE,EAAIF,EAAKE,CAAE,GAAK,CAAE,QAAS,CAAC,CAAE,EACrCF,EAAKE,CAAE,EAAE,QAAQ,KAAKX,EAAOC,CAAK,CAAC,GAJnCQ,EAAKE,CAAE,EAAIF,EAAKE,CAAE,GAAK,CAAE,QAAS,CAAC,CAAE,EAMzCF,EAAOA,EAAKE,CAAE,EACdD,GACJ,CACJ,CAER,EACA,OAAAH,EAAaR,CAAK,EACXG,CACX,CACO,SAASU,GAAab,EAAOO,EAAS,CACzC,IAAMN,EAASM,GACX,SAAUL,EAAO,CACb,OAAOA,EAAM,OACjB,EACEY,EAAS,CAAE,OAAQ,CAAC,CAAE,EACtBN,EAAe,CAACR,EAAOe,EAAO,CAAC,IAAM,CAlF/C,IAAAC,EAAAC,EAAAC,EAAAC,EAmFQ,IAAIH,EAAIC,EACR,QAAWf,KAASF,EAAM,OACtB,GAAIE,EAAM,OAAS,iBAAmBA,EAAM,OAAO,OAE/CA,EAAM,OAAO,IAAKO,GAAWD,EAAa,CAAE,OAAAC,CAAO,EAAGP,EAAM,IAAI,CAAC,UAE5DA,EAAM,OAAS,cACpBM,EAAa,CAAE,OAAQN,EAAM,MAAO,EAAGA,EAAM,IAAI,UAE5CA,EAAM,OAAS,kBACpBM,EAAa,CAAE,OAAQN,EAAM,MAAO,EAAGA,EAAM,IAAI,MAEhD,CACD,IAAMkB,EAAW,CAAC,GAAGL,EAAM,GAAGb,EAAM,IAAI,EACxC,GAAIkB,EAAS,SAAW,EAAG,CACvBN,EAAO,OAAO,KAAKb,EAAOC,CAAK,CAAC,EAChC,QACJ,CACA,IAAIQ,EAAOI,EACPH,EAAI,EACR,KAAOA,EAAIS,EAAS,QAAQ,CACxB,IAAMR,EAAKQ,EAAST,CAAC,EACfU,EAAWV,IAAMS,EAAS,OAAS,EACrC,OAAOR,GAAO,WACdI,EAAAN,EAAK,aAAL,OAAoBA,EAAK,WAAa,CAAC,IACtCO,GAAAD,EAAKN,EAAK,YAAYE,CAAE,IAAxB,OAA8BI,EAAGJ,CAAE,EAAI,CAAE,OAAQ,CAAC,CAAE,GACrDF,EAAOA,EAAK,WAAWE,CAAE,KAGzBM,EAAAR,EAAK,QAAL,OAAeA,EAAK,MAAQ,CAAC,IAC5BS,GAAAF,EAAKP,EAAK,OAAOE,CAAE,IAAnB,OAAyBK,EAAGL,CAAE,EAAI,CAAE,OAAQ,CAAC,CAAE,GAChDF,EAAOA,EAAK,MAAME,CAAE,GAEpBS,GACAX,EAAK,OAAO,KAAKT,EAAOC,CAAK,CAAC,EAElCS,GACJ,CACJ,CAER,EACA,OAAAH,EAAaR,CAAK,EACXc,CACX,CAiCO,SAASQ,GAAUC,EAAO,CAC7B,IAAMC,EAAO,CAAC,EACRT,EAAOQ,EAAM,IAAKE,GAAS,OAAOA,GAAQ,SAAWA,EAAI,IAAMA,CAAI,EACzE,QAAWA,KAAOV,EACV,OAAOU,GAAQ,SACfD,EAAK,KAAK,IAAI,OAAAC,EAAG,IAAG,EACf,OAAOA,GAAQ,SACpBD,EAAK,KAAK,IAAI,YAAK,UAAU,OAAOC,CAAG,CAAC,EAAC,IAAG,EACvC,SAAS,KAAKA,CAAG,EACtBD,EAAK,KAAK,IAAI,YAAK,UAAUC,CAAG,EAAC,IAAG,GAEhCD,EAAK,QACLA,EAAK,KAAK,GAAG,EACjBA,EAAK,KAAKC,CAAG,GAGrB,OAAOD,EAAK,KAAK,EAAE,CACvB,CACO,SAASE,GAAc1B,EAAO,CAjLrC,IAAAgB,EAkLI,IAAMW,EAAQ,CAAC,EAETlB,EAAS,CAAC,GAAGT,EAAM,MAAM,EAAE,KAAK,CAAC4B,EAAGC,IAAG,CApLjD,IAAAb,EAAAC,EAoLqD,QAAAD,EAAAY,EAAE,OAAF,KAAAZ,EAAU,CAAC,GAAG,SAAUC,EAAAY,EAAE,OAAF,KAAAZ,EAAU,CAAC,GAAG,OAAM,EAE7F,QAAWf,KAASO,EAChBkB,EAAM,KAAK,UAAK,OAAAzB,EAAM,QAAS,GAC3Bc,EAAAd,EAAM,OAAN,MAAAc,EAAY,QACZW,EAAM,KAAK,eAAU,OAAAL,GAAUpB,EAAM,IAAI,EAAG,EAGpD,OAAOyB,EAAM,KAAK,IAAI,CAC1B,CC1LO,IAAMG,GAAUC,GAAS,CAACC,EAAQC,EAAOC,EAAMC,IAAY,CAHlE,IAAAC,EAII,IAAMC,EAAMH,EAAO,OAAO,OAAOA,EAAM,CAAE,MAAO,EAAM,CAAC,EAAI,CAAE,MAAO,EAAM,EACpEI,EAASN,EAAO,KAAK,IAAI,CAAE,MAAAC,EAAO,OAAQ,CAAC,CAAE,EAAGI,CAAG,EACzD,GAAIC,aAAkB,QAClB,MAAM,IAASC,GAEnB,GAAID,EAAO,OAAO,OAAQ,CACtB,IAAME,EAAI,KAAKJ,EAAAD,GAAA,YAAAA,EAAS,MAAT,KAAAC,EAAgBL,GAAMO,EAAO,OAAO,IAAKG,GAAaC,GAAcD,EAAKJ,EAAUM,GAAO,CAAC,CAAC,CAAC,EAC5G,MAAKC,GAAkBJ,EAAGL,GAAA,YAAAA,EAAS,MAAM,EACnCK,CACV,CACA,OAAOF,EAAO,KAClB,EACaO,GAAuBf,GAAcgB,EAAa,EAClDC,GAAehB,GAAS,MAAOC,EAAQC,EAAOC,EAAMc,IAAW,CAjB5E,IAAAZ,EAkBI,IAAMC,EAAMH,EAAO,OAAO,OAAOA,EAAM,CAAE,MAAO,EAAK,CAAC,EAAI,CAAE,MAAO,EAAK,EACpEI,EAASN,EAAO,KAAK,IAAI,CAAE,MAAAC,EAAO,OAAQ,CAAC,CAAE,EAAGI,CAAG,EAGvD,GAFIC,aAAkB,UAClBA,EAAS,MAAMA,GACfA,EAAO,OAAO,OAAQ,CACtB,IAAME,EAAI,KAAKJ,EAAAY,GAAA,YAAAA,EAAQ,MAAR,KAAAZ,EAAeL,GAAMO,EAAO,OAAO,IAAKG,GAAaC,GAAcD,EAAKJ,EAAUM,GAAO,CAAC,CAAC,CAAC,EAC3G,MAAKC,GAAkBJ,EAAGQ,GAAA,YAAAA,EAAQ,MAAM,EAClCR,CACV,CACA,OAAOF,EAAO,KAClB,EACaW,GAA4BF,GAAmBD,EAAa,EAC5DI,GAAcnB,GAAS,CAACC,EAAQC,EAAOC,IAAS,CACzD,IAAMG,EAAMH,EAAOiB,EAAAC,EAAA,GAAKlB,GAAL,CAAW,MAAO,EAAM,GAAI,CAAE,MAAO,EAAM,EACxDI,EAASN,EAAO,KAAK,IAAI,CAAE,MAAAC,EAAO,OAAQ,CAAC,CAAE,EAAGI,CAAG,EACzD,GAAIC,aAAkB,QAClB,MAAM,IAASC,GAEnB,OAAOD,EAAO,OAAO,OACf,CACE,QAAS,GACT,MAAO,IAAKP,GAAA,KAAAA,EAAesB,IAAWf,EAAO,OAAO,IAAKG,GAAaC,GAAcD,EAAKJ,EAAUM,GAAO,CAAC,CAAC,CAAC,CACjH,EACE,CAAE,QAAS,GAAM,KAAML,EAAO,KAAM,CAC9C,EACagB,GAA2BJ,GAAkBJ,EAAa,EAC1DS,GAAmBxB,GAAS,MAAOC,EAAQC,EAAOC,IAAS,CACpE,IAAMG,EAAMH,EAAO,OAAO,OAAOA,EAAM,CAAE,MAAO,EAAK,CAAC,EAAI,CAAE,MAAO,EAAK,EACpEI,EAASN,EAAO,KAAK,IAAI,CAAE,MAAAC,EAAO,OAAQ,CAAC,CAAE,EAAGI,CAAG,EACvD,OAAIC,aAAkB,UAClBA,EAAS,MAAMA,GACZA,EAAO,OAAO,OACf,CACE,QAAS,GACT,MAAO,IAAIP,EAAKO,EAAO,OAAO,IAAKG,GAAaC,GAAcD,EAAKJ,EAAUM,GAAO,CAAC,CAAC,CAAC,CAC3F,EACE,CAAE,QAAS,GAAM,KAAML,EAAO,KAAM,CAC9C,EACakB,GAAgCD,GAAuBT,EAAa,ECxDjF,IAAAW,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,cAAAC,GAAA,WAAAC,GAAA,YAAAC,GAAA,iBAAAC,GAAA,WAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,WAAAC,GAAA,aAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,qBAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,eAAAC,GAAA,aAAAC,GAAA,YAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,cAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,iBAAAC,GAAA,WAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,cAAAC,GAAA,iBAAAC,GAAA,cAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,UAAAC,GAAA,QAAAC,KAAO,IAAMjC,GAAO,mBACPC,GAAQ,cACRwB,GAAO,wCACPQ,GAAM,oBACNhB,GAAQ,oBACRE,GAAS,sBAETd,GAAW,gGAEXI,GAAmB,2SAEnBC,GAAO,kFAIPmB,GAAQK,GACZA,EAEE,IAAI,OAAO,mCAAmC,OAAAA,EAAO,0DAAyD,EAD1G,oIAGFJ,GAAsBD,GAAK,CAAC,EAC5BE,GAAsBF,GAAK,CAAC,EAC5BG,GAAsBH,GAAK,CAAC,EAE5BtB,GAAQ,mGAERK,GAAa,uIAEbU,GAAe,yJAEfK,GAAe,WAAC,kCAA8B,GAAC,EAC/Cd,GAAW,WAAC,kCAA8B,GAAC,EAC3ChB,GAAe,uIAEtBsC,GAAS,uDACR,SAAS3B,IAAQ,CACpB,OAAO,IAAI,OAAO2B,GAAQ,GAAG,CACjC,CACO,IAAMpB,GAAO,sHACPC,GAAO,+FACPlB,GAAS,2IACTC,GAAS,iIAETN,GAAS,8EACTC,GAAY,mBAGZiB,GAAW,yHACXP,GAAS,mEAETE,GAAO,2BAEd8B,GAAa,sNACNlC,GAAqB,IAAI,OAAO,IAAI,OAAAkC,GAAU,IAAG,EAC9D,SAASC,GAAWC,EAAM,CACtB,IAAMC,EAAO,8BAQb,OAPc,OAAOD,EAAK,WAAc,SAClCA,EAAK,YAAc,GACf,GAAG,OAAAC,GACHD,EAAK,YAAc,EACf,GAAG,OAAAC,EAAI,aACP,GAAG,OAAAA,EAAI,oBAAmB,OAAAD,EAAK,UAAS,KAChD,GAAG,OAAAC,EAAI,6BAEjB,CACO,SAASf,GAAKc,EAAM,CACvB,OAAO,IAAI,OAAO,IAAI,OAAAD,GAAWC,CAAI,EAAC,IAAG,CAC7C,CAEO,SAASnC,GAASmC,EAAM,CAC3B,IAAMd,EAAOa,GAAW,CAAE,UAAWC,EAAK,SAAU,CAAC,EAC/CE,EAAO,CAAC,GAAG,EACbF,EAAK,OACLE,EAAK,KAAK,EAAE,EAEZF,EAAK,QACLE,EAAK,KAAK,mCAAmC,EACjD,IAAMC,EAAY,GAAG,OAAAjB,EAAI,OAAM,OAAAgB,EAAK,KAAK,GAAG,EAAC,KAC7C,OAAO,IAAI,OAAO,IAAI,OAAAJ,GAAU,QAAO,OAAAK,EAAS,KAAI,CACxD,CACO,IAAMlB,GAAUmB,GAAW,CAhFlC,IAAAC,EAAAC,EAiFI,IAAMC,EAAQH,EAAS,YAAY,QAAAC,EAAAD,GAAA,YAAAA,EAAQ,UAAR,KAAAC,EAAmB,EAAC,KAAI,QAAAC,EAAAF,GAAA,YAAAA,EAAQ,UAAR,KAAAE,EAAmB,GAAE,KAAM,YACtF,OAAO,IAAI,OAAO,IAAI,OAAAC,EAAK,IAAG,CAClC,EACalD,GAAS,UACTmB,GAAU,QACVO,GAAS,oBACTzB,GAAU,cACjBwB,GAAQ,QAEd,IAAM0B,GAAa,aAGZ,IAAMC,GAAY,YAEZC,GAAY,YC3FlB,IAAMC,GAA+BC,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAJrF,IAAAC,EAAAC,EAKI,IAAID,GACJA,EAAAF,EAAK,OAAL,OAAcA,EAAK,KAAO,CAAC,GAC3BA,EAAK,KAAK,IAAMC,GACfE,GAAAD,EAAKF,EAAK,MAAM,WAAhB,OAA6BE,EAAG,SAAW,CAAC,EACjD,CAAC,EACKE,GAAmB,CACrB,OAAQ,SACR,OAAQ,SACR,OAAQ,MACZ,EACaC,GAAuCN,EAAa,oBAAqB,CAACC,EAAMC,IAAQ,CACjGH,GAAU,KAAKE,EAAMC,CAAG,EACxB,IAAMK,EAASF,GAAiB,OAAOH,EAAI,KAAK,EAChDD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAlBtC,IAAAE,EAmBQ,IAAMK,EAAMP,EAAK,KAAK,IAChBQ,GAAQN,EAAAD,EAAI,UAAYM,EAAI,QAAUA,EAAI,mBAAlC,KAAAL,EAAuD,OAAO,kBACxED,EAAI,MAAQO,IACRP,EAAI,UACJM,EAAI,QAAUN,EAAI,MAElBM,EAAI,iBAAmBN,EAAI,MAEvC,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,EACvBR,EAAI,UAAYQ,EAAQ,OAASR,EAAI,MAAQQ,EAAQ,MAAQR,EAAI,QAGrEQ,EAAQ,OAAO,KAAK,CAChB,OAAAH,EACA,KAAM,UACN,QAASL,EAAI,MACb,MAAOQ,EAAQ,MACf,UAAWR,EAAI,UACf,KAAAD,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYS,GAA0CX,EAAa,uBAAwB,CAACC,EAAMC,IAAQ,CACvGH,GAAU,KAAKE,EAAMC,CAAG,EACxB,IAAMK,EAASF,GAAiB,OAAOH,EAAI,KAAK,EAChDD,EAAK,KAAK,SAAS,KAAMA,GAAS,CA9CtC,IAAAE,EA+CQ,IAAMK,EAAMP,EAAK,KAAK,IAChBQ,GAAQN,EAAAD,EAAI,UAAYM,EAAI,QAAUA,EAAI,mBAAlC,KAAAL,EAAuD,OAAO,kBACxED,EAAI,MAAQO,IACRP,EAAI,UACJM,EAAI,QAAUN,EAAI,MAElBM,EAAI,iBAAmBN,EAAI,MAEvC,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,EACvBR,EAAI,UAAYQ,EAAQ,OAASR,EAAI,MAAQQ,EAAQ,MAAQR,EAAI,QAGrEQ,EAAQ,OAAO,KAAK,CAChB,OAAAH,EACA,KAAM,YACN,QAASL,EAAI,MACb,MAAOQ,EAAQ,MACf,UAAWR,EAAI,UACf,KAAAD,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYU,GACMZ,EAAa,sBAAuB,CAACC,EAAMC,IAAQ,CAClEH,GAAU,KAAKE,EAAMC,CAAG,EACxBD,EAAK,KAAK,SAAS,KAAMA,GAAS,CA1EtC,IAAAE,EA2EQ,IAAIA,GACHA,KAAKF,EAAK,KAAK,KAAK,aAApB,OAAmCE,EAAG,WAAaD,EAAI,MAC5D,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,GAAI,OAAOA,EAAQ,OAAU,OAAOR,EAAI,MACpC,MAAM,IAAI,MAAM,oDAAoD,GACrD,OAAOQ,EAAQ,OAAU,SACtCA,EAAQ,MAAQR,EAAI,QAAU,OAAO,CAAC,EACjCW,GAAmBH,EAAQ,MAAOR,EAAI,KAAK,IAAM,IAG5DQ,EAAQ,OAAO,KAAK,CAChB,OAAQ,OAAOA,EAAQ,MACvB,KAAM,kBACN,QAASR,EAAI,MACb,MAAOQ,EAAQ,MACf,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYY,GAA2Cd,EAAa,wBAAyB,CAACC,EAAMC,IAAQ,CAhG7G,IAAAC,EAiGIJ,GAAU,KAAKE,EAAMC,CAAG,EACxBA,EAAI,OAASA,EAAI,QAAU,UAC3B,IAAMa,GAAQZ,EAAAD,EAAI,SAAJ,YAAAC,EAAY,SAAS,OAC7BI,EAASQ,EAAQ,MAAQ,SACzB,CAACC,EAASC,CAAO,EAASC,GAAqBhB,EAAI,MAAM,EAC/DD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9B,IAAMO,EAAMP,EAAK,KAAK,IACtBO,EAAI,OAASN,EAAI,OACjBM,EAAI,QAAUQ,EACdR,EAAI,QAAUS,EACVF,IACAP,EAAI,QAAkBW,GAC9B,CAAC,EACDlB,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MACtB,GAAIK,EAAO,CACP,GAAI,CAAC,OAAO,UAAUK,CAAK,EAAG,CAU1BV,EAAQ,OAAO,KAAK,CAChB,SAAUH,EACV,OAAQL,EAAI,OACZ,KAAM,eACN,SAAU,GACV,MAAAkB,EACA,KAAAnB,CACJ,CAAC,EACD,MASJ,CACA,GAAI,CAAC,OAAO,cAAcmB,CAAK,EAAG,CAC1BA,EAAQ,EAERV,EAAQ,OAAO,KAAK,CAChB,MAAAU,EACA,KAAM,UACN,QAAS,OAAO,iBAChB,KAAM,kDACN,KAAAnB,EACA,OAAAM,EACA,SAAU,CAACL,EAAI,KACnB,CAAC,EAIDQ,EAAQ,OAAO,KAAK,CAChB,MAAAU,EACA,KAAM,YACN,QAAS,OAAO,iBAChB,KAAM,kDACN,KAAAnB,EACA,OAAAM,EACA,SAAU,CAACL,EAAI,KACnB,CAAC,EAEL,MACJ,CACJ,CACIkB,EAAQJ,GACRN,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,MAAAU,EACA,KAAM,YACN,QAAAJ,EACA,UAAW,GACX,KAAAf,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,EAEDkB,EAAQH,GACRP,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,MAAAU,EACA,KAAM,UACN,QAAAH,EACA,KAAAhB,CACJ,CAAC,CAET,CACJ,CAAC,EACYoB,GAA2CrB,EAAa,wBAAyB,CAACC,EAAMC,IAAQ,CACzGH,GAAU,KAAKE,EAAMC,CAAG,EACxB,GAAM,CAACc,EAASC,CAAO,EAASK,GAAqBpB,EAAI,MAAM,EAC/DD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9B,IAAMO,EAAMP,EAAK,KAAK,IACtBO,EAAI,OAASN,EAAI,OACjBM,EAAI,QAAUQ,EACdR,EAAI,QAAUS,CAClB,CAAC,EACDhB,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MAClBU,EAAQJ,GACRN,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,MAAAU,EACA,KAAM,YACN,QAASJ,EACT,UAAW,GACX,KAAAf,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,EAEDkB,EAAQH,GACRP,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,MAAAU,EACA,KAAM,UACN,QAAAH,EACA,KAAAhB,CACJ,CAAC,CAET,CACJ,CAAC,EACYsB,GAAsCvB,EAAa,mBAAoB,CAACC,EAAMC,IAAQ,CAhOnG,IAAAC,EAiOI,IAAIA,EACJJ,GAAU,KAAKE,EAAMC,CAAG,GACvBC,KAAKF,EAAK,KAAK,KAAK,OAApB,OAA6BE,EAAG,KAAQO,GAAY,CACjD,IAAMc,EAAMd,EAAQ,MACpB,MAAO,CAAMe,GAAQD,CAAG,GAAKA,EAAI,OAAS,MAC9C,GACAvB,EAAK,KAAK,SAAS,KAAMA,GAAS,CAvOtC,IAAAE,EAwOQ,IAAMM,GAAQN,EAAAF,EAAK,KAAK,IAAI,UAAd,KAAAE,EAAyB,OAAO,kBAC1CD,EAAI,QAAUO,IACdR,EAAK,KAAK,IAAI,QAAUC,EAAI,QACpC,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MACTU,EAAM,MACPlB,EAAI,SAEhBQ,EAAQ,OAAO,KAAK,CAChB,OAAagB,GAAiBN,CAAK,EACnC,KAAM,UACN,QAASlB,EAAI,QACb,MAAAkB,EACA,KAAAnB,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYyB,GAAsC3B,EAAa,mBAAoB,CAACC,EAAMC,IAAQ,CA3PnG,IAAAC,EA4PI,IAAIA,EACJJ,GAAU,KAAKE,EAAMC,CAAG,GACvBC,KAAKF,EAAK,KAAK,KAAK,OAApB,OAA6BE,EAAG,KAAQO,GAAY,CACjD,IAAMc,EAAMd,EAAQ,MACpB,MAAO,CAAMe,GAAQD,CAAG,GAAKA,EAAI,OAAS,MAC9C,GACAvB,EAAK,KAAK,SAAS,KAAMA,GAAS,CAlQtC,IAAAE,EAmQQ,IAAMM,GAAQN,EAAAF,EAAK,KAAK,IAAI,UAAd,KAAAE,EAAyB,OAAO,kBAC1CD,EAAI,QAAUO,IACdR,EAAK,KAAK,IAAI,QAAUC,EAAI,QACpC,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MACTU,EAAM,MACPlB,EAAI,SAEhBQ,EAAQ,OAAO,KAAK,CAChB,OAAagB,GAAiBN,CAAK,EACnC,KAAM,YACN,QAASlB,EAAI,QACb,MAAAkB,EACA,KAAAnB,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACY0B,GAAyC5B,EAAa,sBAAuB,CAACC,EAAMC,IAAQ,CAtRzG,IAAAC,EAuRI,IAAIA,EACJJ,GAAU,KAAKE,EAAMC,CAAG,GACvBC,KAAKF,EAAK,KAAK,KAAK,OAApB,OAA6BE,EAAG,KAAQO,GAAY,CACjD,IAAMc,EAAMd,EAAQ,MACpB,MAAO,CAAMe,GAAQD,CAAG,GAAKA,EAAI,OAAS,MAC9C,GACAvB,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9B,IAAMO,EAAMP,EAAK,KAAK,IACtBO,EAAI,QAAUN,EAAI,KAClBM,EAAI,QAAUN,EAAI,KAClBM,EAAI,KAAON,EAAI,IACnB,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MAChBmB,EAAOT,EAAM,KACnB,GAAIS,IAAS3B,EAAI,KACb,OACJ,IAAM4B,EAASD,EAAO3B,EAAI,KAC1BQ,EAAQ,OAAO,KAAKqB,EAAAC,EAAA,CAChB,OAAaN,GAAiBN,CAAK,GAC/BU,EAAS,CAAE,KAAM,UAAW,QAAS5B,EAAI,IAAK,EAAI,CAAE,KAAM,YAAa,QAASA,EAAI,IAAK,GAF7E,CAGhB,UAAW,GACX,MAAO,GACP,MAAOQ,EAAQ,MACf,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,EAAC,CACL,CACJ,CAAC,EACY+B,GAAwCjC,EAAa,qBAAsB,CAACC,EAAMC,IAAQ,CApTvG,IAAAC,EAqTI,IAAIA,EACJJ,GAAU,KAAKE,EAAMC,CAAG,GACvBC,KAAKF,EAAK,KAAK,KAAK,OAApB,OAA6BE,EAAG,KAAQO,GAAY,CACjD,IAAMc,EAAMd,EAAQ,MACpB,MAAO,CAAMe,GAAQD,CAAG,GAAKA,EAAI,SAAW,MAChD,GACAvB,EAAK,KAAK,SAAS,KAAMA,GAAS,CA3TtC,IAAAE,EA4TQ,IAAMM,GAAQN,EAAAF,EAAK,KAAK,IAAI,UAAd,KAAAE,EAAyB,OAAO,kBAC1CD,EAAI,QAAUO,IACdR,EAAK,KAAK,IAAI,QAAUC,EAAI,QACpC,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MAEtB,GADeU,EAAM,QACPlB,EAAI,QACd,OACJ,IAAMK,EAAc2B,GAAoBd,CAAK,EAC7CV,EAAQ,OAAO,KAAK,CAChB,OAAAH,EACA,KAAM,UACN,QAASL,EAAI,QACb,UAAW,GACX,MAAAkB,EACA,KAAAnB,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYiC,GAAwCnC,EAAa,qBAAsB,CAACC,EAAMC,IAAQ,CAjVvG,IAAAC,EAkVI,IAAIA,EACJJ,GAAU,KAAKE,EAAMC,CAAG,GACvBC,KAAKF,EAAK,KAAK,KAAK,OAApB,OAA6BE,EAAG,KAAQO,GAAY,CACjD,IAAMc,EAAMd,EAAQ,MACpB,MAAO,CAAMe,GAAQD,CAAG,GAAKA,EAAI,SAAW,MAChD,GACAvB,EAAK,KAAK,SAAS,KAAMA,GAAS,CAxVtC,IAAAE,EAyVQ,IAAMM,GAAQN,EAAAF,EAAK,KAAK,IAAI,UAAd,KAAAE,EAAyB,OAAO,kBAC1CD,EAAI,QAAUO,IACdR,EAAK,KAAK,IAAI,QAAUC,EAAI,QACpC,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MAEtB,GADeU,EAAM,QACPlB,EAAI,QACd,OACJ,IAAMK,EAAc2B,GAAoBd,CAAK,EAC7CV,EAAQ,OAAO,KAAK,CAChB,OAAAH,EACA,KAAM,YACN,QAASL,EAAI,QACb,UAAW,GACX,MAAAkB,EACA,KAAAnB,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYkC,GAA2CpC,EAAa,wBAAyB,CAACC,EAAMC,IAAQ,CA9W7G,IAAAC,EA+WI,IAAIA,EACJJ,GAAU,KAAKE,EAAMC,CAAG,GACvBC,KAAKF,EAAK,KAAK,KAAK,OAApB,OAA6BE,EAAG,KAAQO,GAAY,CACjD,IAAMc,EAAMd,EAAQ,MACpB,MAAO,CAAMe,GAAQD,CAAG,GAAKA,EAAI,SAAW,MAChD,GACAvB,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9B,IAAMO,EAAMP,EAAK,KAAK,IACtBO,EAAI,QAAUN,EAAI,OAClBM,EAAI,QAAUN,EAAI,OAClBM,EAAI,OAASN,EAAI,MACrB,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMU,EAAQV,EAAQ,MAChB2B,EAASjB,EAAM,OACrB,GAAIiB,IAAWnC,EAAI,OACf,OACJ,IAAMK,EAAc2B,GAAoBd,CAAK,EACvCU,EAASO,EAASnC,EAAI,OAC5BQ,EAAQ,OAAO,KAAKqB,EAAAC,EAAA,CAChB,OAAAzB,GACIuB,EAAS,CAAE,KAAM,UAAW,QAAS5B,EAAI,MAAO,EAAI,CAAE,KAAM,YAAa,QAASA,EAAI,MAAO,GAFjF,CAGhB,UAAW,GACX,MAAO,GACP,MAAOQ,EAAQ,MACf,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,EAAC,CACL,CACJ,CAAC,EACYoC,GAA2CtC,EAAa,wBAAyB,CAACC,EAAMC,IAAQ,CA7Y7G,IAAAC,EAAAC,EA8YI,IAAID,EAAIC,EACRL,GAAU,KAAKE,EAAMC,CAAG,EACxBD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAhZtC,IAAAE,EAiZQ,IAAMK,EAAMP,EAAK,KAAK,IACtBO,EAAI,OAASN,EAAI,OACbA,EAAI,WACJC,EAAAK,EAAI,WAAJ,OAAiBA,EAAI,SAAW,IAAI,KACpCA,EAAI,SAAS,IAAIN,EAAI,OAAO,EAEpC,CAAC,EACGA,EAAI,SACHC,KAAKF,EAAK,MAAM,QAAhB,OAA0BE,EAAG,MAASO,GAAY,CAC/CR,EAAI,QAAQ,UAAY,EACpB,CAAAA,EAAI,QAAQ,KAAKQ,EAAQ,KAAK,GAElCA,EAAQ,OAAO,KAAKqB,EAAAC,EAAA,CAChB,OAAQ,SACR,KAAM,iBACN,OAAQ9B,EAAI,OACZ,MAAOQ,EAAQ,OACXR,EAAI,QAAU,CAAE,QAASA,EAAI,QAAQ,SAAS,CAAE,EAAI,CAAC,GALzC,CAMhB,KAAAD,EACA,SAAU,CAACC,EAAI,KACnB,EAAC,CACL,IAECE,KAAKH,EAAK,MAAM,QAAhB,OAA0BG,EAAG,MAAQ,IAAM,CAAE,EACtD,CAAC,EACYmC,GAAoCvC,EAAa,iBAAkB,CAACC,EAAMC,IAAQ,CAC3FoC,GAAsB,KAAKrC,EAAMC,CAAG,EACpCD,EAAK,KAAK,MAASS,GAAY,CAC3BR,EAAI,QAAQ,UAAY,EACpB,CAAAA,EAAI,QAAQ,KAAKQ,EAAQ,KAAK,GAElCA,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,KAAM,iBACN,OAAQ,QACR,MAAOA,EAAQ,MACf,QAASR,EAAI,QAAQ,SAAS,EAC9B,KAAAD,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYsC,GAAwCxC,EAAa,qBAAsB,CAACC,EAAMC,IAAQ,CA3bvG,IAAAC,GA4bIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBuC,IACtCH,GAAsB,KAAKrC,EAAMC,CAAG,CACxC,CAAC,EACYwC,GAAwC1C,EAAa,qBAAsB,CAACC,EAAMC,IAAQ,CA/bvG,IAAAC,GAgcIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkByC,IACtCL,GAAsB,KAAKrC,EAAMC,CAAG,CACxC,CAAC,EACY0C,GAAuC5C,EAAa,oBAAqB,CAACC,EAAMC,IAAQ,CACjGH,GAAU,KAAKE,EAAMC,CAAG,EACxB,IAAM2C,EAAoBC,GAAY5C,EAAI,QAAQ,EAC5C6C,EAAU,IAAI,OAAO,OAAO7C,EAAI,UAAa,SAAW,MAAM,OAAAA,EAAI,SAAQ,KAAI,OAAA2C,GAAiBA,CAAY,EACjH3C,EAAI,QAAU6C,EACd9C,EAAK,KAAK,SAAS,KAAMA,GAAS,CAxctC,IAAAE,EAycQ,IAAMK,EAAMP,EAAK,KAAK,KACtBE,EAAAK,EAAI,WAAJ,OAAiBA,EAAI,SAAW,IAAI,KACpCA,EAAI,SAAS,IAAIuC,CAAO,CAC5B,CAAC,EACD9C,EAAK,KAAK,MAASS,GAAY,CACvBA,EAAQ,MAAM,SAASR,EAAI,SAAUA,EAAI,QAAQ,GAErDQ,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,KAAM,iBACN,OAAQ,WACR,SAAUR,EAAI,SACd,MAAOQ,EAAQ,MACf,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACY8C,GAAyChD,EAAa,sBAAuB,CAACC,EAAMC,IAAQ,CA3dzG,IAAAC,EA4dIJ,GAAU,KAAKE,EAAMC,CAAG,EACxB,IAAM6C,EAAU,IAAI,OAAO,IAAI,OAAKD,GAAY5C,EAAI,MAAM,EAAC,KAAI,GAC/DC,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAU6C,GAC9B9C,EAAK,KAAK,SAAS,KAAMA,GAAS,CA/dtC,IAAAE,EAgeQ,IAAMK,EAAMP,EAAK,KAAK,KACtBE,EAAAK,EAAI,WAAJ,OAAiBA,EAAI,SAAW,IAAI,KACpCA,EAAI,SAAS,IAAIuC,CAAO,CAC5B,CAAC,EACD9C,EAAK,KAAK,MAASS,GAAY,CACvBA,EAAQ,MAAM,WAAWR,EAAI,MAAM,GAEvCQ,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,KAAM,iBACN,OAAQ,cACR,OAAQR,EAAI,OACZ,MAAOQ,EAAQ,MACf,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACY+C,GAAuCjD,EAAa,oBAAqB,CAACC,EAAMC,IAAQ,CAlfrG,IAAAC,EAmfIJ,GAAU,KAAKE,EAAMC,CAAG,EACxB,IAAM6C,EAAU,IAAI,OAAO,KAAK,OAAKD,GAAY5C,EAAI,MAAM,EAAC,IAAG,GAC/DC,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAU6C,GAC9B9C,EAAK,KAAK,SAAS,KAAMA,GAAS,CAtftC,IAAAE,EAufQ,IAAMK,EAAMP,EAAK,KAAK,KACtBE,EAAAK,EAAI,WAAJ,OAAiBA,EAAI,SAAW,IAAI,KACpCA,EAAI,SAAS,IAAIuC,CAAO,CAC5B,CAAC,EACD9C,EAAK,KAAK,MAASS,GAAY,CACvBA,EAAQ,MAAM,SAASR,EAAI,MAAM,GAErCQ,EAAQ,OAAO,KAAK,CAChB,OAAQ,SACR,KAAM,iBACN,OAAQ,YACR,OAAQR,EAAI,OACZ,MAAOQ,EAAQ,MACf,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EAID,SAASgD,GAA0BC,EAAQzC,EAAS0C,EAAU,CACtDD,EAAO,OAAO,QACdzC,EAAQ,OAAO,KAAK,GAAQ2C,GAAaD,EAAUD,EAAO,MAAM,CAAC,CAEzE,CACO,IAAMG,GAAuCtD,EAAa,oBAAqB,CAACC,EAAMC,IAAQ,CACjGH,GAAU,KAAKE,EAAMC,CAAG,EACxBD,EAAK,KAAK,MAASS,GAAY,CAC3B,IAAMyC,EAASjD,EAAI,OAAO,KAAK,IAAI,CAC/B,MAAOQ,EAAQ,MAAMR,EAAI,QAAQ,EACjC,OAAQ,CAAC,CACb,EAAG,CAAC,CAAC,EACL,GAAIiD,aAAkB,QAClB,OAAOA,EAAO,KAAMA,GAAWD,GAA0BC,EAAQzC,EAASR,EAAI,QAAQ,CAAC,EAE3FgD,GAA0BC,EAAQzC,EAASR,EAAI,QAAQ,CAE3D,CACJ,CAAC,EACYqD,GAAuCvD,EAAa,oBAAqB,CAACC,EAAMC,IAAQ,CACjGH,GAAU,KAAKE,EAAMC,CAAG,EACxB,IAAMsD,EAAU,IAAI,IAAItD,EAAI,IAAI,EAChCD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9BA,EAAK,KAAK,IAAI,KAAOC,EAAI,IAC7B,CAAC,EACDD,EAAK,KAAK,MAASS,GAAY,CACvB8C,EAAQ,IAAI9C,EAAQ,MAAM,IAAI,GAElCA,EAAQ,OAAO,KAAK,CAChB,KAAM,gBACN,OAAQR,EAAI,KACZ,MAAOQ,EAAQ,MAAM,KACrB,KAAAT,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYuD,GAAwCzD,EAAa,qBAAsB,CAACC,EAAMC,IAAQ,CACnGH,GAAU,KAAKE,EAAMC,CAAG,EACxBD,EAAK,KAAK,MAASS,GAAY,CAC3BA,EAAQ,MAAQR,EAAI,GAAGQ,EAAQ,KAAK,CACxC,CACJ,CAAC,ECtjBM,IAAMgD,GAAN,KAAU,CACb,YAAYC,EAAO,CAAC,EAAG,CACnB,KAAK,QAAU,CAAC,EAChB,KAAK,OAAS,EACV,OACA,KAAK,KAAOA,EACpB,CACA,SAASC,EAAI,CACT,KAAK,QAAU,EACfA,EAAG,IAAI,EACP,KAAK,QAAU,CACnB,CACA,MAAMC,EAAK,CACP,GAAI,OAAOA,GAAQ,WAAY,CAC3BA,EAAI,KAAM,CAAE,UAAW,MAAO,CAAC,EAC/BA,EAAI,KAAM,CAAE,UAAW,OAAQ,CAAC,EAChC,MACJ,CAEA,IAAMC,EADUD,EACM,MAAM,IAAI,EAAE,OAAQE,GAAMA,CAAC,EAC3CC,EAAY,KAAK,IAAI,GAAGF,EAAM,IAAKC,GAAMA,EAAE,OAASA,EAAE,UAAU,EAAE,MAAM,CAAC,EACzEE,EAAWH,EAAM,IAAKC,GAAMA,EAAE,MAAMC,CAAS,CAAC,EAAE,IAAKD,GAAM,IAAI,OAAO,KAAK,OAAS,CAAC,EAAIA,CAAC,EAChG,QAAWG,KAAQD,EACf,KAAK,QAAQ,KAAKC,CAAI,CAE9B,CACA,SAAU,CA1Bd,IAAAC,EA2BQ,IAAMC,EAAI,SACJT,EAAO,uBAAM,KAEbG,EAAQ,CAAC,KADCK,EAAA,uBAAM,UAAN,KAAAA,EAAiB,CAAC,EAAE,GACV,IAAKJ,GAAM,KAAK,OAAAA,EAAG,CAAC,EAE9C,OAAO,IAAIK,EAAE,GAAGT,EAAMG,EAAM,KAAK,IAAI,CAAC,CAC1C,CACJ,EClCO,IAAMO,GAAU,CACnB,MAAO,EACP,MAAO,EACP,MAAO,EACX,ECGO,IAAMC,GAA8BC,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAPnF,IAAAC,EAAAC,EAAAC,EAQI,IAAIF,EACJF,GAAA,OAASA,EAAO,CAAC,GACjBA,EAAK,KAAK,IAAMC,EAChBD,EAAK,KAAK,IAAMA,EAAK,KAAK,KAAO,CAAC,EAClCA,EAAK,KAAK,QAAUK,GACpB,IAAMC,EAAS,CAAC,IAAIJ,EAAAF,EAAK,KAAK,IAAI,SAAd,KAAAE,EAAwB,CAAC,CAAE,EAE3CF,EAAK,KAAK,OAAO,IAAI,WAAW,GAChCM,EAAO,QAAQN,CAAI,EAGvB,QAAWO,KAAMD,EACb,QAAWE,KAAMD,EAAG,KAAK,SACrBC,EAAGR,CAAI,EAGf,GAAIM,EAAO,SAAW,GAGjBH,GAAAD,EAAKF,EAAK,MAAM,WAAhB,OAA6BE,EAAG,SAAW,CAAC,IAC7CE,EAAAJ,EAAK,KAAK,WAAV,MAAAI,EAAoB,KAAK,IAAM,CAC3BJ,EAAK,KAAK,IAAMA,EAAK,KAAK,KAC9B,OAEC,CACD,IAAMS,EAAY,CAACC,EAASJ,EAAQK,IAAQ,CACxC,IAAIC,EAAiBC,GAAQH,CAAO,EAChCI,EACJ,QAAWP,KAAMD,EAAQ,CACrB,GAAIC,EAAG,KAAK,IAAI,MAEZ,GAAI,CADcA,EAAG,KAAK,IAAI,KAAKG,CAAO,EAEtC,iBAECE,EACL,SAEJ,IAAMG,EAAUL,EAAQ,OAAO,OACzBM,EAAIT,EAAG,KAAK,MAAMG,CAAO,EAC/B,GAAIM,aAAa,UAAWL,GAAA,YAAAA,EAAK,SAAU,GACvC,MAAM,IAASM,GAEnB,GAAIH,GAAeE,aAAa,QAC5BF,GAAeA,GAAA,KAAAA,EAAe,QAAQ,QAAQ,GAAG,KAAK,SAAY,CAC9D,MAAME,EACUN,EAAQ,OAAO,SACfK,IAEXH,IACDA,EAAiBC,GAAQH,EAASK,CAAO,GACjD,CAAC,MAEA,CAED,GADgBL,EAAQ,OAAO,SACfK,EACZ,SACCH,IACDA,EAAiBC,GAAQH,EAASK,CAAO,EACjD,CACJ,CACA,OAAID,EACOA,EAAY,KAAK,IACbJ,CACV,EAEEA,CACX,EACAV,EAAK,KAAK,IAAM,CAACU,EAASC,IAAQ,CAC9B,IAAMO,EAASlB,EAAK,KAAK,MAAMU,EAASC,CAAG,EAC3C,GAAIO,aAAkB,QAAS,CAC3B,GAAIP,EAAI,QAAU,GACd,MAAM,IAASM,GACnB,OAAOC,EAAO,KAAMA,GAAWT,EAAUS,EAAQZ,EAAQK,CAAG,CAAC,CACjE,CACA,OAAOF,EAAUS,EAAQZ,EAAQK,CAAG,CACxC,CACJ,CACAX,EAAK,WAAW,EAAI,CAChB,SAAWmB,GAAU,CAtF7B,IAAAjB,EAuFY,GAAI,CACA,IAAMkB,EAAIC,GAAUrB,EAAMmB,CAAK,EAC/B,OAAOC,EAAE,QAAU,CAAE,MAAOA,EAAE,IAAK,EAAI,CAAE,QAAQlB,EAAAkB,EAAE,QAAF,YAAAlB,EAAS,MAAO,CACrE,OACOc,EAAG,CACN,OAAOM,GAAetB,EAAMmB,CAAK,EAAE,KAAMC,GAAG,CA5F5D,IAAAlB,EA4FgE,OAAAkB,EAAE,QAAU,CAAE,MAAOA,EAAE,IAAK,EAAI,CAAE,QAAQlB,EAAAkB,EAAE,QAAF,YAAAlB,EAAS,MAAO,EAAE,CAChH,CACJ,EACA,OAAQ,MACR,QAAS,CACb,CACJ,CAAC,EAEYqB,GAAgCxB,EAAa,aAAc,CAACC,EAAMC,IAAQ,CApGvF,IAAAC,EAAAC,EAAAC,EAqGIN,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,SAAUI,EAAA,CAAC,IAAID,GAAAD,EAAAF,GAAA,YAAAA,EAAM,KAAK,MAAX,YAAAE,EAAgB,WAAhB,KAAAC,EAA4B,CAAC,CAAE,EAAE,IAAI,IAA1C,KAAAC,EAAuDoB,GAAOxB,EAAK,KAAK,GAAG,EAC/FA,EAAK,KAAK,MAAQ,CAACU,EAASM,IAAM,CAC9B,GAAIf,EAAI,OACJ,GAAI,CACAS,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,CACxC,OACOM,EAAG,CAAE,CAChB,OAAI,OAAON,EAAQ,OAAU,UAE7BA,EAAQ,OAAO,KAAK,CAChB,SAAU,SACV,KAAM,eACN,MAAOA,EAAQ,MACf,KAAAV,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYe,GAAsC1B,EAAa,mBAAoB,CAACC,EAAMC,IAAQ,CAExFyB,GAAsB,KAAK1B,EAAMC,CAAG,EAC3CsB,GAAW,KAAKvB,EAAMC,CAAG,CAC7B,CAAC,EACY0B,GAA8B5B,EAAa,WAAY,CAACC,EAAMC,IAAQ,CA7HnF,IAAAC,GA8HIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB2B,IACtCH,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACY4B,GAA8B9B,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAjInF,IAAAC,EAAAC,EAkII,GAAIF,EAAI,QAAS,CAWb,IAAM6B,EAVa,CACf,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,CACR,EACqB7B,EAAI,OAAO,EAChC,GAAI6B,IAAM,OACN,MAAM,IAAI,MAAM,0BAA0B,OAAA7B,EAAI,QAAO,IAAG,GAC5DC,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB8B,GAAKD,CAAC,EAChD,MAEI3B,EAAAF,EAAI,UAAJ,OAAgBA,EAAI,QAAkB8B,GAAK,GAC/CN,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACY+B,GAA+BjC,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAtJrF,IAAAC,GAuJIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBgC,IACtCR,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYiC,GAA6BnC,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAC7EwB,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,MAASU,GAAY,CAC3B,GAAI,CAEA,IAAMyB,EAAUzB,EAAQ,MAAM,KAAK,EAE7B0B,EAAM,IAAI,IAAID,CAAO,EACvBlC,EAAI,WACJA,EAAI,SAAS,UAAY,EACpBA,EAAI,SAAS,KAAKmC,EAAI,QAAQ,GAC/B1B,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,MACR,KAAM,mBACN,QAAiB2B,GAAS,OAC1B,MAAO3B,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,GAGLA,EAAI,WACJA,EAAI,SAAS,UAAY,EACpBA,EAAI,SAAS,KAAKmC,EAAI,SAAS,SAAS,GAAG,EAAIA,EAAI,SAAS,MAAM,EAAG,EAAE,EAAIA,EAAI,QAAQ,GACxF1B,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,MACR,KAAM,mBACN,QAAST,EAAI,SAAS,OACtB,MAAOS,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,GAILA,EAAI,UAEJS,EAAQ,MAAQ0B,EAAI,KAIpB1B,EAAQ,MAAQyB,EAEpB,MACJ,OACOnB,EAAG,CACNN,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,MACR,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CACJ,CAAC,EACYqC,GAA+BvC,EAAa,YAAa,CAACC,EAAMC,IAAQ,CApNrF,IAAAC,GAqNIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBsC,GAAM,GAC5Cd,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYuC,GAAgCzC,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAxNvF,IAAAC,GAyNIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBwC,IACtChB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYyC,GAA8B3C,EAAa,WAAY,CAACC,EAAMC,IAAQ,CA5NnF,IAAAC,GA6NIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB0C,IACtClB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACY2C,GAA+B7C,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAhOrF,IAAAC,GAiOIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB4C,IACtCpB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACY6C,GAA8B/C,EAAa,WAAY,CAACC,EAAMC,IAAQ,CApOnF,IAAAC,GAqOIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB8C,IACtCtB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACY+C,GAA6BjD,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAxOjF,IAAAC,GAyOIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBgD,IACtCxB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYiD,GAA+BnD,EAAa,YAAa,CAACC,EAAMC,IAAQ,CA5OrF,IAAAC,GA6OIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBkD,IACtC1B,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYmD,GAAqCrD,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CAhPjG,IAAAC,GAiPIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBoD,GAASpD,CAAG,GAClDwB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYqD,GAAiCvD,EAAa,cAAe,CAACC,EAAMC,IAAQ,CApPzF,IAAAC,GAqPIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBsD,IACtC9B,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYuD,GAAiCzD,EAAa,cAAe,CAACC,EAAMC,IAAQ,CAxPzF,IAAAC,GAyPIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBwD,GAAKxD,CAAG,GAC9CwB,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYyD,GAAqC3D,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CA5PjG,IAAAC,GA6PIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB0D,IACtClC,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACY2D,GAA8B7D,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAhQnF,IAAAC,GAiQIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB4D,IACtCpC,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9B,IAAM8D,EAAM9D,EAAK,KAAK,IACtB8D,EAAI,OAAS,MACjB,CAAC,CACL,CAAC,EACYC,GAA8BhE,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAxQnF,IAAAC,GAyQIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB+D,IACtCvC,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9B,IAAM8D,EAAM9D,EAAK,KAAK,IACtB8D,EAAI,OAAS,MACjB,CAAC,EACD9D,EAAK,KAAK,MAASU,GAAY,CAC3B,GAAI,CAEA,IAAI,IAAI,WAAW,OAAAA,EAAQ,MAAK,IAAG,CAEvC,OACMuD,EAAA,CACFvD,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,OACR,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CACJ,CAAC,EACYiE,GAAgCnE,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAhSvF,IAAAC,GAiSIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBkE,IACtC1C,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EACYmE,GAAgCrE,EAAa,aAAc,CAACC,EAAMC,IAAQ,CApSvF,IAAAC,GAqSIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBoE,IACtC5C,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,MAASU,GAAY,CAC3B,GAAM,CAAC4D,EAASC,CAAM,EAAI7D,EAAQ,MAAM,MAAM,GAAG,EACjD,GAAI,CACA,GAAI,CAAC6D,EACD,MAAM,IAAI,MACd,IAAMC,EAAY,OAAOD,CAAM,EAC/B,GAAI,GAAG,OAAAC,KAAgBD,EACnB,MAAM,IAAI,MACd,GAAIC,EAAY,GAAKA,EAAY,IAC7B,MAAM,IAAI,MAEd,IAAI,IAAI,WAAW,OAAAF,EAAO,IAAG,CACjC,OACML,EAAA,CACFvD,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,SACR,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CACJ,CAAC,EAEM,SAASwE,GAAcC,EAAM,CAChC,GAAIA,IAAS,GACT,MAAO,GACX,GAAIA,EAAK,OAAS,IAAM,EACpB,MAAO,GACX,GAAI,CAEA,YAAKA,CAAI,EACF,EACX,OACMT,EAAA,CACF,MAAO,EACX,CACJ,CACO,IAAMU,GAAgC5E,EAAa,aAAc,CAACC,EAAMC,IAAQ,CA9UvF,IAAAC,GA+UIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB2E,IACtCnD,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9BA,EAAK,KAAK,IAAI,gBAAkB,QACpC,CAAC,EACDA,EAAK,KAAK,MAASU,GAAY,CACvB+D,GAAc/D,EAAQ,KAAK,GAE/BA,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,SACR,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EAEM,SAAS4E,GAAiBH,EAAM,CACnC,GAAI,CAASI,GAAU,KAAKJ,CAAI,EAC5B,MAAO,GACX,IAAME,EAASF,EAAK,QAAQ,QAAUK,GAAOA,IAAM,IAAM,IAAM,GAAI,EAC7DC,EAASJ,EAAO,OAAO,KAAK,KAAKA,EAAO,OAAS,CAAC,EAAI,EAAG,GAAG,EAClE,OAAOH,GAAcO,CAAM,CAC/B,CACO,IAAMC,GAAmClF,EAAa,gBAAiB,CAACC,EAAMC,IAAQ,CAxW7F,IAAAC,GAyWIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkB6E,IACtCrD,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,SAAS,KAAMA,GAAS,CAC9BA,EAAK,KAAK,IAAI,gBAAkB,WACpC,CAAC,EACDA,EAAK,KAAK,MAASU,GAAY,CACvBmE,GAAiBnE,EAAQ,KAAK,GAElCA,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,YACR,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACYiF,GAA8BnF,EAAa,WAAY,CAACC,EAAMC,IAAQ,CA1XnF,IAAAC,GA2XIA,EAAAD,EAAI,UAAJ,OAAgBA,EAAI,QAAkBkF,IACtC1D,GAAiB,KAAKzB,EAAMC,CAAG,CACnC,CAAC,EAEM,SAASmF,GAAWC,EAAOC,EAAY,KAAM,CAChD,GAAI,CACA,IAAMC,EAAcF,EAAM,MAAM,GAAG,EACnC,GAAIE,EAAY,SAAW,EACvB,MAAO,GACX,GAAM,CAACC,CAAM,EAAID,EACjB,GAAI,CAACC,EACD,MAAO,GAEX,IAAMC,EAAe,KAAK,MAAM,KAAKD,CAAM,CAAC,EAK5C,MAJI,UAASC,IAAgBA,GAAA,YAAAA,EAAc,OAAQ,OAE/C,CAACA,EAAa,KAEdH,IAAc,EAAE,QAASG,IAAiBA,EAAa,MAAQH,GAGvE,OACMrB,EAAA,CACF,MAAO,EACX,CACJ,CACO,IAAMyB,GAA6B3F,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAC7EwB,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,MAASU,GAAY,CACvB0E,GAAW1E,EAAQ,MAAOT,EAAI,GAAG,GAErCS,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQ,MACR,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACY0F,GAA4C5F,EAAa,yBAA0B,CAACC,EAAMC,IAAQ,CAC3GwB,GAAiB,KAAKzB,EAAMC,CAAG,EAC/BD,EAAK,KAAK,MAASU,GAAY,CACvBT,EAAI,GAAGS,EAAQ,KAAK,GAExBA,EAAQ,OAAO,KAAK,CAChB,KAAM,iBACN,OAAQT,EAAI,OACZ,MAAOS,EAAQ,MACf,KAAAV,EACA,SAAU,CAACC,EAAI,KACnB,CAAC,CACL,CACJ,CAAC,EACY2F,GAAgC7F,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAjbvF,IAAAC,EAkbIJ,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,SAAUE,EAAAF,EAAK,KAAK,IAAI,UAAd,KAAAE,EAAiC2F,GACrD7F,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,GAAI7F,EAAI,OACJ,GAAI,CACAS,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,CACxC,OACOM,EAAG,CAAE,CAChB,IAAM+E,EAAQrF,EAAQ,MACtB,GAAI,OAAOqF,GAAU,UAAY,CAAC,OAAO,MAAMA,CAAK,GAAK,OAAO,SAASA,CAAK,EAC1E,OAAOrF,EAEX,IAAMsF,EAAW,OAAOD,GAAU,SAC5B,OAAO,MAAMA,CAAK,EACd,MACC,OAAO,SAASA,CAAK,EAElB,OADA,WAER,OACN,OAAArF,EAAQ,OAAO,KAAKuF,EAAA,CAChB,SAAU,SACV,KAAM,eACN,MAAAF,EACA,KAAA/F,GACIgG,EAAW,CAAE,SAAAA,CAAS,EAAI,CAAC,EAClC,EACMtF,CACX,CACJ,CAAC,EACYwF,GAAsCnG,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAClFkG,GAAsB,KAAKnG,EAAMC,CAAG,EAC3C2F,GAAW,KAAK5F,EAAMC,CAAG,CAC7B,CAAC,EACYmG,GAAiCrG,EAAa,cAAe,CAACC,EAAMC,IAAQ,CACrFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,QAAkBqG,GAC5BrG,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,GAAI7F,EAAI,OACJ,GAAI,CACAS,EAAQ,MAAQ,EAAQA,EAAQ,KACpC,OACOM,EAAG,CAAE,CAChB,IAAM+E,EAAQrF,EAAQ,MACtB,OAAI,OAAOqF,GAAU,WAErBrF,EAAQ,OAAO,KAAK,CAChB,SAAU,UACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACY4F,GAAgCvG,EAAa,aAAc,CAACC,EAAMC,IAAQ,CACnFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,QAAkBuG,GAC5BvG,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,GAAI7F,EAAI,OACJ,GAAI,CACAS,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,CACxC,OACOM,EAAG,CAAE,CAChB,OAAI,OAAON,EAAQ,OAAU,UAE7BA,EAAQ,OAAO,KAAK,CAChB,SAAU,SACV,KAAM,eACN,MAAOA,EAAQ,MACf,KAAAV,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACY8F,GAAsCzG,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAClFwG,GAAsB,KAAKzG,EAAMC,CAAG,EAC3CqG,GAAW,KAAKtG,EAAMC,CAAG,CAC7B,CAAC,EACYyG,GAAgC3G,EAAa,aAAc,CAACC,EAAMC,IAAQ,CACnFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MACtB,OAAI,OAAOqF,GAAU,UAErBrF,EAAQ,OAAO,KAAK,CAChB,SAAU,SACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYiG,GAAmC5G,EAAa,gBAAiB,CAACC,EAAMC,IAAQ,CACzFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,QAAkB4G,GAC5B5G,EAAK,KAAK,OAAS,IAAI,IAAI,CAAC,MAAS,CAAC,EACtCA,EAAK,KAAK,MAAQ,WAClBA,EAAK,KAAK,OAAS,WACnBA,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MACtB,OAAI,OAAOqF,EAAU,KAErBrF,EAAQ,OAAO,KAAK,CAChB,SAAU,YACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYmG,GAA8B9G,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,QAAkB8G,GAC5B9G,EAAK,KAAK,OAAS,IAAI,IAAI,CAAC,IAAI,CAAC,EACjCA,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MACtB,OAAIqF,IAAU,MAEdrF,EAAQ,OAAO,KAAK,CAChB,SAAU,OACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYqG,GAA6BhH,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAC7EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAASU,GAAYA,CACnC,CAAC,EACYsG,GAAiCjH,EAAa,cAAe,CAACC,EAAMC,IAAQ,CACrFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAASU,GAAYA,CACnC,CAAC,EACYuG,GAA+BlH,EAAa,YAAa,CAACC,EAAMC,IAAQ,CACjFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,KACxBpF,EAAQ,OAAO,KAAK,CAChB,SAAU,QACV,KAAM,eACN,MAAOA,EAAQ,MACf,KAAAV,CACJ,CAAC,EACMU,EAEf,CAAC,EACYwG,GAA8BnH,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MACtB,OAAI,OAAOqF,EAAU,KAErBrF,EAAQ,OAAO,KAAK,CAChB,SAAU,OACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYyG,GAA8BpH,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,GAAI7F,EAAI,OACJ,GAAI,CACAS,EAAQ,MAAQ,IAAI,KAAKA,EAAQ,KAAK,CAC1C,OACO0G,EAAM,CAAE,CAEnB,IAAMrB,EAAQrF,EAAQ,MAChB2G,EAAStB,aAAiB,KAEhC,OADoBsB,GAAU,CAAC,OAAO,MAAMtB,EAAM,QAAQ,CAAC,GAG3DrF,EAAQ,OAAO,KAAK4G,EAAArB,EAAA,CAChB,SAAU,OACV,KAAM,eACN,MAAAF,GACIsB,EAAS,CAAE,SAAU,cAAe,EAAI,CAAC,GAJ7B,CAKhB,KAAArH,CACJ,EAAC,EACMU,CACX,CACJ,CAAC,EACD,SAAS6G,GAAkBrG,EAAQsG,EAAOC,EAAO,CACzCvG,EAAO,OAAO,QACdsG,EAAM,OAAO,KAAK,GAAQE,GAAaD,EAAOvG,EAAO,MAAM,CAAC,EAEhEsG,EAAM,MAAMC,CAAK,EAAIvG,EAAO,KAChC,CACO,IAAMyG,GAA+B5H,EAAa,YAAa,CAACC,EAAMC,IAAQ,CACjFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MACtB,GAAI,CAAC,MAAM,QAAQqF,CAAK,EACpB,OAAArF,EAAQ,OAAO,KAAK,CAChB,SAAU,QACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,EAEXA,EAAQ,MAAQ,MAAMqF,EAAM,MAAM,EAClC,IAAM6B,EAAQ,CAAC,EACf,QAASC,EAAI,EAAGA,EAAI9B,EAAM,OAAQ8B,IAAK,CACnC,IAAMC,EAAO/B,EAAM8B,CAAC,EACd3G,EAASjB,EAAI,QAAQ,KAAK,IAAI,CAChC,MAAO6H,EACP,OAAQ,CAAC,CACb,EAAGnH,CAAG,EACFO,aAAkB,QAClB0G,EAAM,KAAK1G,EAAO,KAAMA,GAAWqG,GAAkBrG,EAAQR,EAASmH,CAAC,CAAC,CAAC,EAGzEN,GAAkBrG,EAAQR,EAASmH,CAAC,CAE5C,CACA,OAAID,EAAM,OACC,QAAQ,IAAIA,CAAK,EAAE,KAAK,IAAMlH,CAAO,EAEzCA,CACX,CACJ,CAAC,EACD,SAASqH,GAAqB7G,EAAQsG,EAAOQ,EAAKjC,EAAO,CACjD7E,EAAO,OAAO,QACdsG,EAAM,OAAO,KAAK,GAAQE,GAAaM,EAAK9G,EAAO,MAAM,CAAC,EAE1DA,EAAO,QAAU,OACb8G,KAAOjC,IACPyB,EAAM,MAAMQ,CAAG,EAAI,QAIvBR,EAAM,MAAMQ,CAAG,EAAI9G,EAAO,KAElC,CACO,IAAM+G,GAAgClI,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAEnFH,GAAS,KAAKE,EAAMC,CAAG,EACvB,IAAMiI,EAAmBC,GAAO,IAAM,CAClC,IAAMC,EAAO,OAAO,KAAKnI,EAAI,KAAK,EAClC,QAAWoI,KAAKD,EACZ,GAAI,EAAEnI,EAAI,MAAMoI,CAAC,YAAavI,IAC1B,MAAM,IAAI,MAAM,2BAA2B,OAAAuI,EAAC,2BAA0B,EAG9E,IAAMC,EAAaC,GAAatI,EAAI,KAAK,EACzC,MAAO,CACH,MAAOA,EAAI,MACX,KAAAmI,EACA,OAAQ,IAAI,IAAIA,CAAI,EACpB,QAASA,EAAK,OACd,aAAc,IAAI,IAAIE,CAAK,CAC/B,CACJ,CAAC,EACIE,GAAWxI,EAAK,KAAM,aAAc,IAAM,CAtrBnD,IAAAE,EAurBQ,IAAMuI,EAAQxI,EAAI,MACZyI,EAAa,CAAC,EACpB,QAAWV,KAAOS,EAAO,CACrB,IAAME,EAAQF,EAAMT,CAAG,EAAE,KACzB,GAAIW,EAAM,OAAQ,EACdzI,EAAAwI,EAAWV,CAAG,IAAd,OAAoBU,EAAWV,CAAG,EAAI,IAAI,KAC1C,QAAWlG,KAAK6G,EAAM,OAClBD,EAAWV,CAAG,EAAE,IAAIlG,CAAC,CAC7B,CACJ,CACA,OAAO4G,CACX,CAAC,EACD,IAAME,EAAoBH,GAAU,CAChC,IAAMI,EAAM,IAAIC,GAAI,CAAC,QAAS,UAAW,KAAK,CAAC,EACzCC,EAAab,EAAY,MACzBc,EAAYhB,GAAQ,CACtB,IAAMK,EAASY,GAAIjB,CAAG,EACtB,MAAO,SAAS,OAAAK,EAAC,8BAA6B,OAAAA,EAAC,wBACnD,EACAQ,EAAI,MAAM,8BAA8B,EACxC,IAAMK,EAAM,OAAO,OAAO,IAAI,EAC1BC,EAAU,EACd,QAAWnB,KAAOe,EAAW,KACzBG,EAAIlB,CAAG,EAAI,OAAO,OAAAmB,KAGtBN,EAAI,MAAM,sBAAsB,EAChC,QAAWb,KAAOe,EAAW,KAAM,CAC/B,IAAMK,EAAKF,EAAIlB,CAAG,EACZK,EAASY,GAAIjB,CAAG,EACtBa,EAAI,MAAM,SAAS,OAAAO,EAAE,OAAM,OAAAJ,EAAShB,CAAG,EAAC,IAAG,EAC3Ca,EAAI,MAAM,iBACR,OAAAO,EAAE,wEACmC,OAAAA,EAAE,8EAErB,OAAAf,EAAC,sBAAqB,OAAAA,EAAC,yDAIzC,OAAAe,EAAE,2CACA,OAAAf,EAAC,wCACO,OAAAA,EAAC,uEAGH,OAAAA,EAAC,QAAO,OAAAe,EAAE,6BAEzB,CACC,CACAP,EAAI,MAAM,4BAA4B,EACtCA,EAAI,MAAM,iBAAiB,EAC3B,IAAMrI,EAAKqI,EAAI,QAAQ,EACvB,MAAO,CAACnI,EAASC,IAAQH,EAAGiI,EAAO/H,EAASC,CAAG,CACnD,EACI0I,EACEC,EAAgBA,GAChBC,EAAM,CAAMC,GAAa,QAEzBC,EAAcF,GADIG,GACc,MAChCC,EAAW1J,EAAI,SACjBkB,EACJnB,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChCQ,GAAA,OAAUA,EAAQ+G,EAAY,OAC9B,IAAMnC,EAAQrF,EAAQ,MACtB,GAAI,CAAC4I,EAASvD,CAAK,EACf,OAAArF,EAAQ,OAAO,KAAK,CAChB,SAAU,SACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,EAEX,IAAMkH,EAAQ,CAAC,EACf,GAAI2B,GAAOE,IAAe9I,GAAA,YAAAA,EAAK,SAAU,IAASA,EAAI,UAAY,GAEzD0I,IACDA,EAAWT,EAAiB3I,EAAI,KAAK,GACzCS,EAAU2I,EAAS3I,EAASC,CAAG,MAE9B,CACDD,EAAQ,MAAQ,CAAC,EACjB,IAAM+H,EAAQtH,EAAM,MACpB,QAAW6G,KAAO7G,EAAM,KAAM,CAE1B,IAAMC,EADKqH,EAAMT,CAAG,EACP,KAAK,IAAI,CAAE,MAAOjC,EAAMiC,CAAG,EAAG,OAAQ,CAAC,CAAE,EAAGrH,CAAG,EACxDS,aAAa,QACbwG,EAAM,KAAKxG,EAAE,KAAMA,GAAM2G,GAAqB3G,EAAGV,EAASsH,EAAKjC,CAAK,CAAC,CAAC,EAGtEgC,GAAqB3G,EAAGV,EAASsH,EAAKjC,CAAK,CAEnD,CACJ,CACA,GAAI,CAAC4D,EACD,OAAO/B,EAAM,OAAS,QAAQ,IAAIA,CAAK,EAAE,KAAK,IAAMlH,CAAO,EAAIA,EAEnE,IAAMkJ,EAAe,CAAC,EAEhBC,EAAS1I,EAAM,OACf2I,EAAYH,EAAS,KACrBI,EAAID,EAAU,IAAI,KACxB,QAAW9B,KAAO,OAAO,KAAKjC,CAAK,EAAG,CAClC,GAAI8D,EAAO,IAAI7B,CAAG,EACd,SACJ,GAAI+B,IAAM,QAAS,CACfH,EAAa,KAAK5B,CAAG,EACrB,QACJ,CACA,IAAM5G,EAAI0I,EAAU,IAAI,CAAE,MAAO/D,EAAMiC,CAAG,EAAG,OAAQ,CAAC,CAAE,EAAGrH,CAAG,EAC1DS,aAAa,QACbwG,EAAM,KAAKxG,EAAE,KAAMA,GAAM2G,GAAqB3G,EAAGV,EAASsH,EAAKjC,CAAK,CAAC,CAAC,EAGtEgC,GAAqB3G,EAAGV,EAASsH,EAAKjC,CAAK,CAEnD,CASA,OARI6D,EAAa,QACblJ,EAAQ,OAAO,KAAK,CAChB,KAAM,oBACN,KAAMkJ,EACN,MAAA7D,EACA,KAAA/F,CACJ,CAAC,EAEA4H,EAAM,OAEJ,QAAQ,IAAIA,CAAK,EAAE,KAAK,IACpBlH,CACV,EAHUA,CAIf,CACJ,CAAC,EACD,SAASsJ,GAAmBC,EAASzC,EAAOxH,EAAMW,EAAK,CACnD,QAAWO,KAAU+I,EACjB,GAAI/I,EAAO,OAAO,SAAW,EACzB,OAAAsG,EAAM,MAAQtG,EAAO,MACdsG,EAGf,IAAM0C,EAAaD,EAAQ,OAAQ7I,GAAM,CAAMP,GAAQO,CAAC,CAAC,EACzD,OAAI8I,EAAW,SAAW,GACtB1C,EAAM,MAAQ0C,EAAW,CAAC,EAAE,MACrBA,EAAW,CAAC,IAEvB1C,EAAM,OAAO,KAAK,CACd,KAAM,gBACN,MAAOA,EAAM,MACb,KAAAxH,EACA,OAAQiK,EAAQ,IAAK/I,GAAWA,EAAO,OAAO,IAAKiJ,GAAaC,GAAcD,EAAKxJ,EAAU0J,GAAO,CAAC,CAAC,CAAC,CAC3G,CAAC,EACM7C,EACX,CACO,IAAM8C,GAA+BvK,EAAa,YAAa,CAACC,EAAMC,IAAQ,CACjFH,GAAS,KAAKE,EAAMC,CAAG,EAClBuI,GAAWxI,EAAK,KAAM,QAAS,IAAMC,EAAI,QAAQ,KAAMsK,GAAMA,EAAE,KAAK,QAAU,UAAU,EAAI,WAAa,MAAS,EAClH/B,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,QAAQ,KAAMsK,GAAMA,EAAE,KAAK,SAAW,UAAU,EAAI,WAAa,MAAS,EACpH/B,GAAWxI,EAAK,KAAM,SAAU,IAAM,CACvC,GAAIC,EAAI,QAAQ,MAAOsK,GAAMA,EAAE,KAAK,MAAM,EACtC,OAAO,IAAI,IAAItK,EAAI,QAAQ,QAASuK,GAAW,MAAM,KAAKA,EAAO,KAAK,MAAM,CAAC,CAAC,CAGtF,CAAC,EACIhC,GAAWxI,EAAK,KAAM,UAAW,IAAM,CACxC,GAAIC,EAAI,QAAQ,MAAOsK,GAAMA,EAAE,KAAK,OAAO,EAAG,CAC1C,IAAME,EAAWxK,EAAI,QAAQ,IAAKsK,GAAMA,EAAE,KAAK,OAAO,EACtD,OAAO,IAAI,OAAO,KAAK,OAAAE,EAAS,IAAKC,GAAWC,GAAWD,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG,EAAC,KAAI,CACvF,CAEJ,CAAC,EACD,IAAME,EAAS3K,EAAI,QAAQ,SAAW,EAChC4K,EAAQ5K,EAAI,QAAQ,CAAC,EAAE,KAAK,IAClCD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,GAAIiK,EACA,OAAOC,EAAMnK,EAASC,CAAG,EAE7B,IAAImK,EAAQ,GACNb,EAAU,CAAC,EACjB,QAAWO,KAAUvK,EAAI,QAAS,CAC9B,IAAMiB,EAASsJ,EAAO,KAAK,IAAI,CAC3B,MAAO9J,EAAQ,MACf,OAAQ,CAAC,CACb,EAAGC,CAAG,EACN,GAAIO,aAAkB,QAClB+I,EAAQ,KAAK/I,CAAM,EACnB4J,EAAQ,OAEP,CACD,GAAI5J,EAAO,OAAO,SAAW,EACzB,OAAOA,EACX+I,EAAQ,KAAK/I,CAAM,CACvB,CACJ,CACA,OAAK4J,EAEE,QAAQ,IAAIb,CAAO,EAAE,KAAMA,GACvBD,GAAmBC,EAASvJ,EAASV,EAAMW,CAAG,CACxD,EAHUqJ,GAAmBC,EAASvJ,EAASV,EAAMW,CAAG,CAI7D,CACJ,CAAC,EACYoK,GAERhL,EAAa,yBAA0B,CAACC,EAAMC,IAAQ,CACvDqK,GAAU,KAAKtK,EAAMC,CAAG,EACxB,IAAM+K,EAAShL,EAAK,KAAK,MACpBwI,GAAWxI,EAAK,KAAM,aAAc,IAAM,CAC3C,IAAM0I,EAAa,CAAC,EACpB,QAAW8B,KAAUvK,EAAI,QAAS,CAC9B,IAAMgL,EAAKT,EAAO,KAAK,WACvB,GAAI,CAACS,GAAM,OAAO,KAAKA,CAAE,EAAE,SAAW,EAClC,MAAM,IAAI,MAAM,gDAAgD,OAAAhL,EAAI,QAAQ,QAAQuK,CAAM,EAAC,IAAG,EAClG,OAAW,CAACnC,EAAGvG,CAAC,IAAK,OAAO,QAAQmJ,CAAE,EAAG,CAChCvC,EAAWL,CAAC,IACbK,EAAWL,CAAC,EAAI,IAAI,KACxB,QAAW6C,KAAOpJ,EACd4G,EAAWL,CAAC,EAAE,IAAI6C,CAAG,CAE7B,CACJ,CACA,OAAOxC,CACX,CAAC,EACD,IAAMyC,EAAYhD,GAAO,IAAM,CAl5BnC,IAAAjI,EAm5BQ,IAAMkL,EAAOnL,EAAI,QACXoL,EAAM,IAAI,IAChB,QAAWd,KAAKa,EAAM,CAClB,IAAME,GAASpL,EAAAqK,EAAE,KAAK,aAAP,YAAArK,EAAoBD,EAAI,eACvC,GAAI,CAACqL,GAAUA,EAAO,OAAS,EAC3B,MAAM,IAAI,MAAM,gDAAgD,OAAArL,EAAI,QAAQ,QAAQsK,CAAC,EAAC,IAAG,EAC7F,QAAWzI,KAAKwJ,EAAQ,CACpB,GAAID,EAAI,IAAIvJ,CAAC,EACT,MAAM,IAAI,MAAM,kCAAkC,cAAOA,CAAC,EAAC,IAAG,EAElEuJ,EAAI,IAAIvJ,EAAGyI,CAAC,CAChB,CACJ,CACA,OAAOc,CACX,CAAC,EACDrL,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MACtB,GAAI,CAAM4I,GAASvD,CAAK,EACpB,OAAArF,EAAQ,OAAO,KAAK,CAChB,KAAM,eACN,SAAU,SACV,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,EAEX,IAAM6K,EAAMJ,EAAK,MAAM,IAAIpF,GAAA,YAAAA,EAAQ9F,EAAI,cAAc,EACrD,OAAIsL,EACOA,EAAI,KAAK,IAAI7K,EAASC,CAAG,EAEhCV,EAAI,cACG+K,EAAOtK,EAASC,CAAG,GAG9BD,EAAQ,OAAO,KAAK,CAChB,KAAM,gBACN,OAAQ,CAAC,EACT,KAAM,4BACN,cAAeT,EAAI,cACnB,MAAA8F,EACA,KAAM,CAAC9F,EAAI,aAAa,EACxB,KAAAD,CACJ,CAAC,EACMU,EACX,CACJ,CAAC,EACY8K,GAAsCzL,EAAa,mBAAoB,CAACC,EAAMC,IAAQ,CAC/FH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MAChB+K,EAAOxL,EAAI,KAAK,KAAK,IAAI,CAAE,MAAO8F,EAAO,OAAQ,CAAC,CAAE,EAAGpF,CAAG,EAC1D+K,EAAQzL,EAAI,MAAM,KAAK,IAAI,CAAE,MAAO8F,EAAO,OAAQ,CAAC,CAAE,EAAGpF,CAAG,EAElE,OADc8K,aAAgB,SAAWC,aAAiB,QAE/C,QAAQ,IAAI,CAACD,EAAMC,CAAK,CAAC,EAAE,KAAK,CAAC,CAACD,EAAMC,CAAK,IACzCC,GAA0BjL,EAAS+K,EAAMC,CAAK,CACxD,EAEEC,GAA0BjL,EAAS+K,EAAMC,CAAK,CACzD,CACJ,CAAC,EACD,SAASE,GAAYC,EAAGC,EAAG,CAGvB,GAAID,IAAMC,EACN,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAE,EAElC,GAAIA,aAAa,MAAQC,aAAa,MAAQ,CAACD,GAAM,CAACC,EAClD,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAE,EAElC,GAASE,GAAcF,CAAC,GAAUE,GAAcD,CAAC,EAAG,CAChD,IAAME,EAAQ,OAAO,KAAKF,CAAC,EACrBG,EAAa,OAAO,KAAKJ,CAAC,EAAE,OAAQ7D,GAAQgE,EAAM,QAAQhE,CAAG,IAAM,EAAE,EACrEkE,EAASjG,IAAA,GAAK4F,GAAMC,GAC1B,QAAW9D,KAAOiE,EAAY,CAC1B,IAAME,EAAcP,GAAYC,EAAE7D,CAAG,EAAG8D,EAAE9D,CAAG,CAAC,EAC9C,GAAI,CAACmE,EAAY,MACb,MAAO,CACH,MAAO,GACP,eAAgB,CAACnE,EAAK,GAAGmE,EAAY,cAAc,CACvD,EAEJD,EAAOlE,CAAG,EAAImE,EAAY,IAC9B,CACA,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAO,CACvC,CACA,GAAI,MAAM,QAAQL,CAAC,GAAK,MAAM,QAAQC,CAAC,EAAG,CACtC,GAAID,EAAE,SAAWC,EAAE,OACf,MAAO,CAAE,MAAO,GAAO,eAAgB,CAAC,CAAE,EAE9C,IAAMM,EAAW,CAAC,EAClB,QAAS3E,EAAQ,EAAGA,EAAQoE,EAAE,OAAQpE,IAAS,CAC3C,IAAM4E,EAAQR,EAAEpE,CAAK,EACf6E,EAAQR,EAAErE,CAAK,EACf0E,EAAcP,GAAYS,EAAOC,CAAK,EAC5C,GAAI,CAACH,EAAY,MACb,MAAO,CACH,MAAO,GACP,eAAgB,CAAC1E,EAAO,GAAG0E,EAAY,cAAc,CACzD,EAEJC,EAAS,KAAKD,EAAY,IAAI,CAClC,CACA,MAAO,CAAE,MAAO,GAAM,KAAMC,CAAS,CACzC,CACA,MAAO,CAAE,MAAO,GAAO,eAAgB,CAAC,CAAE,CAC9C,CACA,SAAST,GAA0BzK,EAAQuK,EAAMC,EAAO,CAOpD,GANID,EAAK,OAAO,QACZvK,EAAO,OAAO,KAAK,GAAGuK,EAAK,MAAM,EAEjCC,EAAM,OAAO,QACbxK,EAAO,OAAO,KAAK,GAAGwK,EAAM,MAAM,EAE7B7K,GAAQK,CAAM,EACnB,OAAOA,EACX,IAAMqL,EAASX,GAAYH,EAAK,MAAOC,EAAM,KAAK,EAClD,GAAI,CAACa,EAAO,MACR,MAAM,IAAI,MAAM,wCAA0C,GAAG,YAAK,UAAUA,EAAO,cAAc,EAAG,EAExG,OAAArL,EAAO,MAAQqL,EAAO,KACfrL,CACX,CACO,IAAMsL,GAA+BzM,EAAa,YAAa,CAACC,EAAMC,IAAQ,CACjFH,GAAS,KAAKE,EAAMC,CAAG,EACvB,IAAMwM,EAAQxM,EAAI,MACZyM,EAAWD,EAAM,OAAS,CAAC,GAAGA,CAAK,EAAE,QAAQ,EAAE,UAAW3E,GAASA,EAAK,KAAK,QAAU,UAAU,EACvG9H,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MACtB,GAAI,CAAC,MAAM,QAAQqF,CAAK,EACpB,OAAArF,EAAQ,OAAO,KAAK,CAChB,MAAAqF,EACA,KAAA/F,EACA,SAAU,QACV,KAAM,cACV,CAAC,EACMU,EAEXA,EAAQ,MAAQ,CAAC,EACjB,IAAMkH,EAAQ,CAAC,EACf,GAAI,CAAC3H,EAAI,KAAM,CACX,IAAM0M,EAAS5G,EAAM,OAAS0G,EAAM,OAC9BG,EAAW7G,EAAM,OAAS2G,EAAW,EAC3C,GAAIC,GAAUC,EACV,OAAAlM,EAAQ,OAAO,KAAK4G,EAAArB,EAAA,GACZ0G,EAAS,CAAE,KAAM,UAAW,QAASF,EAAM,MAAO,EAAI,CAAE,KAAM,YAAa,QAASA,EAAM,MAAO,GADrF,CAEhB,MAAA1G,EACA,KAAA/F,EACA,OAAQ,OACZ,EAAC,EACMU,CAEf,CACA,IAAImH,EAAI,GACR,QAAWC,KAAQ2E,EAAO,CAEtB,GADA5E,IACIA,GAAK9B,EAAM,QACP8B,GAAK6E,EACL,SACR,IAAMxL,EAAS4G,EAAK,KAAK,IAAI,CACzB,MAAO/B,EAAM8B,CAAC,EACd,OAAQ,CAAC,CACb,EAAGlH,CAAG,EACFO,aAAkB,QAClB0G,EAAM,KAAK1G,EAAO,KAAMA,GAAW2L,GAAkB3L,EAAQR,EAASmH,CAAC,CAAC,CAAC,EAGzEgF,GAAkB3L,EAAQR,EAASmH,CAAC,CAE5C,CACA,GAAI5H,EAAI,KAAM,CACV,IAAM6M,EAAO/G,EAAM,MAAM0G,EAAM,MAAM,EACrC,QAAWM,KAAMD,EAAM,CACnBjF,IACA,IAAM3G,EAASjB,EAAI,KAAK,KAAK,IAAI,CAC7B,MAAO8M,EACP,OAAQ,CAAC,CACb,EAAGpM,CAAG,EACFO,aAAkB,QAClB0G,EAAM,KAAK1G,EAAO,KAAMA,GAAW2L,GAAkB3L,EAAQR,EAASmH,CAAC,CAAC,CAAC,EAGzEgF,GAAkB3L,EAAQR,EAASmH,CAAC,CAE5C,CACJ,CACA,OAAID,EAAM,OACC,QAAQ,IAAIA,CAAK,EAAE,KAAK,IAAMlH,CAAO,EACzCA,CACX,CACJ,CAAC,EACD,SAASmM,GAAkB3L,EAAQsG,EAAOC,EAAO,CACzCvG,EAAO,OAAO,QACdsG,EAAM,OAAO,KAAK,GAAQE,GAAaD,EAAOvG,EAAO,MAAM,CAAC,EAEhEsG,EAAM,MAAMC,CAAK,EAAIvG,EAAO,KAChC,CACO,IAAM8L,GAAgCjN,EAAa,aAAc,CAACC,EAAMC,IAAQ,CACnFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MACtB,GAAI,CAAMqL,GAAchG,CAAK,EACzB,OAAArF,EAAQ,OAAO,KAAK,CAChB,SAAU,SACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,EAEX,IAAMkH,EAAQ,CAAC,EACf,GAAI3H,EAAI,QAAQ,KAAK,OAAQ,CACzB,IAAMqL,EAASrL,EAAI,QAAQ,KAAK,OAChCS,EAAQ,MAAQ,CAAC,EACjB,QAAWsH,KAAOsD,EACd,GAAI,OAAOtD,GAAQ,UAAY,OAAOA,GAAQ,UAAY,OAAOA,GAAQ,SAAU,CAC/E,IAAM9G,EAASjB,EAAI,UAAU,KAAK,IAAI,CAAE,MAAO8F,EAAMiC,CAAG,EAAG,OAAQ,CAAC,CAAE,EAAGrH,CAAG,EACxEO,aAAkB,QAClB0G,EAAM,KAAK1G,EAAO,KAAMA,GAAW,CAC3BA,EAAO,OAAO,QACdR,EAAQ,OAAO,KAAK,GAAQgH,GAAaM,EAAK9G,EAAO,MAAM,CAAC,EAEhER,EAAQ,MAAMsH,CAAG,EAAI9G,EAAO,KAChC,CAAC,CAAC,GAGEA,EAAO,OAAO,QACdR,EAAQ,OAAO,KAAK,GAAQgH,GAAaM,EAAK9G,EAAO,MAAM,CAAC,EAEhER,EAAQ,MAAMsH,CAAG,EAAI9G,EAAO,MAEpC,CAEJ,IAAI0I,EACJ,QAAW5B,KAAOjC,EACTuF,EAAO,IAAItD,CAAG,IACf4B,EAAeA,GAAA,KAAAA,EAAgB,CAAC,EAChCA,EAAa,KAAK5B,CAAG,GAGzB4B,GAAgBA,EAAa,OAAS,GACtClJ,EAAQ,OAAO,KAAK,CAChB,KAAM,oBACN,MAAAqF,EACA,KAAA/F,EACA,KAAM4J,CACV,CAAC,CAET,KACK,CACDlJ,EAAQ,MAAQ,CAAC,EACjB,QAAWsH,KAAO,QAAQ,QAAQjC,CAAK,EAAG,CACtC,GAAIiC,IAAQ,YACR,SACJ,IAAMiF,EAAYhN,EAAI,QAAQ,KAAK,IAAI,CAAE,MAAO+H,EAAK,OAAQ,CAAC,CAAE,EAAGrH,CAAG,EACtE,GAAIsM,aAAqB,QACrB,MAAM,IAAI,MAAM,sDAAsD,EAE1E,GAAIA,EAAU,OAAO,OAAQ,CACzBvM,EAAQ,OAAO,KAAK,CAChB,KAAM,cACN,OAAQ,SACR,OAAQuM,EAAU,OAAO,IAAK9C,GAAaC,GAAcD,EAAKxJ,EAAU0J,GAAO,CAAC,CAAC,EACjF,MAAOrC,EACP,KAAM,CAACA,CAAG,EACV,KAAAhI,CACJ,CAAC,EACDU,EAAQ,MAAMuM,EAAU,KAAK,EAAIA,EAAU,MAC3C,QACJ,CACA,IAAM/L,EAASjB,EAAI,UAAU,KAAK,IAAI,CAAE,MAAO8F,EAAMiC,CAAG,EAAG,OAAQ,CAAC,CAAE,EAAGrH,CAAG,EACxEO,aAAkB,QAClB0G,EAAM,KAAK1G,EAAO,KAAMA,GAAW,CAC3BA,EAAO,OAAO,QACdR,EAAQ,OAAO,KAAK,GAAQgH,GAAaM,EAAK9G,EAAO,MAAM,CAAC,EAEhER,EAAQ,MAAMuM,EAAU,KAAK,EAAI/L,EAAO,KAC5C,CAAC,CAAC,GAGEA,EAAO,OAAO,QACdR,EAAQ,OAAO,KAAK,GAAQgH,GAAaM,EAAK9G,EAAO,MAAM,CAAC,EAEhER,EAAQ,MAAMuM,EAAU,KAAK,EAAI/L,EAAO,MAEhD,CACJ,CACA,OAAI0G,EAAM,OACC,QAAQ,IAAIA,CAAK,EAAE,KAAK,IAAMlH,CAAO,EAEzCA,CACX,CACJ,CAAC,EACYwM,GAA6BnN,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAC7EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MACtB,GAAI,EAAEqF,aAAiB,KACnB,OAAArF,EAAQ,OAAO,KAAK,CAChB,SAAU,MACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,EAEX,IAAMkH,EAAQ,CAAC,EACflH,EAAQ,MAAQ,IAAI,IACpB,OAAW,CAACsH,EAAK7G,CAAK,IAAK4E,EAAO,CAC9B,IAAMkH,EAAYhN,EAAI,QAAQ,KAAK,IAAI,CAAE,MAAO+H,EAAK,OAAQ,CAAC,CAAE,EAAGrH,CAAG,EAChEwM,EAAclN,EAAI,UAAU,KAAK,IAAI,CAAE,MAAOkB,EAAO,OAAQ,CAAC,CAAE,EAAGR,CAAG,EACxEsM,aAAqB,SAAWE,aAAuB,QACvDvF,EAAM,KAAK,QAAQ,IAAI,CAACqF,EAAWE,CAAW,CAAC,EAAE,KAAK,CAAC,CAACF,EAAWE,CAAW,IAAM,CAChFC,GAAgBH,EAAWE,EAAazM,EAASsH,EAAKjC,EAAO/F,EAAMW,CAAG,CAC1E,CAAC,CAAC,EAGFyM,GAAgBH,EAAWE,EAAazM,EAASsH,EAAKjC,EAAO/F,EAAMW,CAAG,CAE9E,CACA,OAAIiH,EAAM,OACC,QAAQ,IAAIA,CAAK,EAAE,KAAK,IAAMlH,CAAO,EACzCA,CACX,CACJ,CAAC,EACD,SAAS0M,GAAgBH,EAAWE,EAAa3F,EAAOQ,EAAKjC,EAAO/F,EAAMW,EAAK,CACvEsM,EAAU,OAAO,SACRI,GAAiB,IAAI,OAAOrF,CAAG,EACpCR,EAAM,OAAO,KAAK,GAAQE,GAAaM,EAAKiF,EAAU,MAAM,CAAC,EAG7DzF,EAAM,OAAO,KAAK,CACd,KAAM,cACN,OAAQ,MACR,MAAAzB,EACA,KAAA/F,EACA,OAAQiN,EAAU,OAAO,IAAK9C,GAAaC,GAAcD,EAAKxJ,EAAU0J,GAAO,CAAC,CAAC,CACrF,CAAC,GAGL8C,EAAY,OAAO,SACVE,GAAiB,IAAI,OAAOrF,CAAG,EACpCR,EAAM,OAAO,KAAK,GAAQE,GAAaM,EAAKmF,EAAY,MAAM,CAAC,EAG/D3F,EAAM,OAAO,KAAK,CACd,OAAQ,MACR,KAAM,kBACN,MAAAzB,EACA,KAAA/F,EACA,IAAKgI,EACL,OAAQmF,EAAY,OAAO,IAAKhD,GAAaC,GAAcD,EAAKxJ,EAAU0J,GAAO,CAAC,CAAC,CACvF,CAAC,GAGT7C,EAAM,MAAM,IAAIyF,EAAU,MAAOE,EAAY,KAAK,CACtD,CACO,IAAMG,GAA6BvN,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAC7EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMoF,EAAQrF,EAAQ,MACtB,GAAI,EAAEqF,aAAiB,KACnB,OAAArF,EAAQ,OAAO,KAAK,CAChB,MAAAqF,EACA,KAAA/F,EACA,SAAU,MACV,KAAM,cACV,CAAC,EACMU,EAEX,IAAMkH,EAAQ,CAAC,EACflH,EAAQ,MAAQ,IAAI,IACpB,QAAWoH,KAAQ/B,EAAO,CACtB,IAAM7E,EAASjB,EAAI,UAAU,KAAK,IAAI,CAAE,MAAO6H,EAAM,OAAQ,CAAC,CAAE,EAAGnH,CAAG,EAClEO,aAAkB,QAClB0G,EAAM,KAAK1G,EAAO,KAAMA,GAAWqM,GAAgBrM,EAAQR,CAAO,CAAC,CAAC,EAGpE6M,GAAgBrM,EAAQR,CAAO,CACvC,CACA,OAAIkH,EAAM,OACC,QAAQ,IAAIA,CAAK,EAAE,KAAK,IAAMlH,CAAO,EACzCA,CACX,CACJ,CAAC,EACD,SAAS6M,GAAgBrM,EAAQsG,EAAO,CAChCtG,EAAO,OAAO,QACdsG,EAAM,OAAO,KAAK,GAAGtG,EAAO,MAAM,EAEtCsG,EAAM,MAAM,IAAItG,EAAO,KAAK,CAChC,CACO,IAAMsM,GAA8BzN,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EACvB,IAAMqL,EAAcmC,GAAcxN,EAAI,OAAO,EACvCyN,EAAY,IAAI,IAAIpC,CAAM,EAChCtL,EAAK,KAAK,OAAS0N,EACnB1N,EAAK,KAAK,QAAU,IAAI,OAAO,KAAK,OAAAsL,EAC/B,OAAQjD,GAAWgF,GAAiB,IAAI,OAAOhF,CAAC,CAAC,EACjD,IAAKkC,GAAO,OAAOA,GAAM,SAAgBoD,GAAYpD,CAAC,EAAIA,EAAE,SAAS,CAAE,EACvE,KAAK,GAAG,EAAC,KAAI,EAClBvK,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MACtB,OAAIgN,EAAU,IAAI3H,CAAK,GAGvBrF,EAAQ,OAAO,KAAK,CAChB,KAAM,gBACN,OAAA4K,EACA,MAAAvF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYkN,GAAiC7N,EAAa,cAAe,CAACC,EAAMC,IAAQ,CAErF,GADAH,GAAS,KAAKE,EAAMC,CAAG,EACnBA,EAAI,OAAO,SAAW,EACtB,MAAM,IAAI,MAAM,mDAAmD,EAEvED,EAAK,KAAK,OAAS,IAAI,IAAIC,EAAI,MAAM,EACrCD,EAAK,KAAK,QAAU,IAAI,OAAO,KAAK,OAAAC,EAAI,OACnC,IAAKsK,GAAO,OAAOA,GAAM,SAAgBoD,GAAYpD,CAAC,EAAIA,EAASoD,GAAYpD,EAAE,SAAS,CAAC,EAAI,OAAOA,CAAC,CAAE,EACzG,KAAK,GAAG,EAAC,KAAI,EAClBvK,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MACtB,OAAIV,EAAK,KAAK,OAAO,IAAI+F,CAAK,GAG9BrF,EAAQ,OAAO,KAAK,CAChB,KAAM,gBACN,OAAQT,EAAI,OACZ,MAAA8F,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYmN,GAA8B9N,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMC,EAAQrF,EAAQ,MAEtB,OAAIqF,aAAiB,MAErBrF,EAAQ,OAAO,KAAK,CAChB,SAAU,OACV,KAAM,eACN,MAAAqF,EACA,KAAA/F,CACJ,CAAC,EACMU,CACX,CACJ,CAAC,EACYoN,GAAmC/N,EAAa,gBAAiB,CAACC,EAAMC,IAAQ,CACzFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CACjC,IAAMiI,EAAO9N,EAAI,UAAUS,EAAQ,MAAOA,CAAO,EACjD,GAAIoF,EAAK,MAEL,OADeiI,aAAgB,QAAUA,EAAO,QAAQ,QAAQA,CAAI,GACtD,KAAMC,IAChBtN,EAAQ,MAAQsN,EACTtN,EACV,EAEL,GAAIqN,aAAgB,QAChB,MAAM,IAAS9M,GAEnB,OAAAP,EAAQ,MAAQqN,EACTrN,CACX,CACJ,CAAC,EACD,SAASuN,GAAqB/M,EAAQ6E,EAAO,CACzC,OAAI7E,EAAO,OAAO,QAAU6E,IAAU,OAC3B,CAAE,OAAQ,CAAC,EAAG,MAAO,MAAU,EAEnC7E,CACX,CACO,IAAMgN,GAAkCnO,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CACvFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,WAClBA,EAAK,KAAK,OAAS,WACdwI,GAAWxI,EAAK,KAAM,SAAU,IAC1BC,EAAI,UAAU,KAAK,OAAS,IAAI,IAAI,CAAC,GAAGA,EAAI,UAAU,KAAK,OAAQ,MAAS,CAAC,EAAI,MAC3F,EACIuI,GAAWxI,EAAK,KAAM,UAAW,IAAM,CACxC,IAAMmO,EAAUlO,EAAI,UAAU,KAAK,QACnC,OAAOkO,EAAU,IAAI,OAAO,KAAK,OAAKxD,GAAWwD,EAAQ,MAAM,EAAC,MAAK,EAAI,MAC7E,CAAC,EACDnO,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,GAAIV,EAAI,UAAU,KAAK,QAAU,WAAY,CACzC,IAAMiB,EAASjB,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAClD,OAAIO,aAAkB,QACXA,EAAO,KAAME,GAAM6M,GAAqB7M,EAAGV,EAAQ,KAAK,CAAC,EAC7DuN,GAAqB/M,EAAQR,EAAQ,KAAK,CACrD,CACA,OAAIA,EAAQ,QAAU,OACXA,EAEJT,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,CAC9C,CACJ,CAAC,EACYyN,GAAkCrO,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CACvFH,GAAS,KAAKE,EAAMC,CAAG,EAClBuI,GAAWxI,EAAK,KAAM,QAAS,IAAMC,EAAI,UAAU,KAAK,KAAK,EAC7DuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EAC/DuI,GAAWxI,EAAK,KAAM,UAAW,IAAM,CACxC,IAAMmO,EAAUlO,EAAI,UAAU,KAAK,QACnC,OAAOkO,EAAU,IAAI,OAAO,KAAK,OAAKxD,GAAWwD,EAAQ,MAAM,EAAC,UAAS,EAAI,MACjF,CAAC,EACI3F,GAAWxI,EAAK,KAAM,SAAU,IAC1BC,EAAI,UAAU,KAAK,OAAS,IAAI,IAAI,CAAC,GAAGA,EAAI,UAAU,KAAK,OAAQ,IAAI,CAAC,EAAI,MACtF,EACDD,EAAK,KAAK,MAAQ,CAACU,EAASC,IACpBD,EAAQ,QAAU,KACXA,EACJT,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,CAElD,CAAC,EACY0N,GAAiCtO,EAAa,cAAe,CAACC,EAAMC,IAAQ,CACrFH,GAAS,KAAKE,EAAMC,CAAG,EAEvBD,EAAK,KAAK,MAAQ,WACbwI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EACpED,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,GAAID,EAAQ,QAAU,OAClB,OAAAA,EAAQ,MAAQT,EAAI,aAIbS,EAEX,IAAMQ,EAASjB,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAClD,OAAIO,aAAkB,QACXA,EAAO,KAAMA,GAAWoN,GAAoBpN,EAAQjB,CAAG,CAAC,EAE5DqO,GAAoBpN,EAAQjB,CAAG,CAC1C,CACJ,CAAC,EACD,SAASqO,GAAoB5N,EAAST,EAAK,CACvC,OAAIS,EAAQ,QAAU,SAClBA,EAAQ,MAAQT,EAAI,cAEjBS,CACX,CACO,IAAM6N,GAAkCxO,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CACvFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,WACbwI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EACpED,EAAK,KAAK,MAAQ,CAACU,EAASC,KACpBD,EAAQ,QAAU,SAClBA,EAAQ,MAAQT,EAAI,cAEjBA,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAElD,CAAC,EACY6N,GAAqCzO,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CAC7FH,GAAS,KAAKE,EAAMC,CAAG,EAClBuI,GAAWxI,EAAK,KAAM,SAAU,IAAM,CACvC,IAAM8B,EAAI7B,EAAI,UAAU,KAAK,OAC7B,OAAO6B,EAAI,IAAI,IAAI,CAAC,GAAGA,CAAC,EAAE,OAAQ2M,GAAMA,IAAM,MAAS,CAAC,EAAI,MAChE,CAAC,EACDzO,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMO,EAASjB,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAClD,OAAIO,aAAkB,QACXA,EAAO,KAAMA,GAAWwN,GAAwBxN,EAAQlB,CAAI,CAAC,EAEjE0O,GAAwBxN,EAAQlB,CAAI,CAC/C,CACJ,CAAC,EACD,SAAS0O,GAAwBhO,EAASV,EAAM,CAC5C,MAAI,CAACU,EAAQ,OAAO,QAAUA,EAAQ,QAAU,QAC5CA,EAAQ,OAAO,KAAK,CAChB,KAAM,eACN,SAAU,cACV,MAAOA,EAAQ,MACf,KAAAV,CACJ,CAAC,EAEEU,CACX,CACO,IAAMiO,GAAiC5O,EAAa,cAAe,CAACC,EAAMC,IAAQ,CACrFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMO,EAASjB,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAClD,OAAIO,aAAkB,QACXA,EAAO,KAAMA,IAChBR,EAAQ,MAAQQ,EAAO,OAAO,SAAW,EAClCR,EACV,GAELA,EAAQ,MAAQQ,EAAO,OAAO,SAAW,EAClCR,EACX,CACJ,CAAC,EACYkO,GAA+B7O,EAAa,YAAa,CAACC,EAAMC,IAAQ,CACjFH,GAAS,KAAKE,EAAMC,CAAG,EAClBuI,GAAWxI,EAAK,KAAM,QAAS,IAAMC,EAAI,UAAU,KAAK,KAAK,EAC7DuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EAC/DuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EACpED,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMO,EAASjB,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAClD,OAAIO,aAAkB,QACXA,EAAO,KAAMA,IAChBR,EAAQ,MAAQQ,EAAO,MACnBA,EAAO,OAAO,SACdR,EAAQ,MAAQT,EAAI,WAAWqH,EAAArB,EAAA,GACxBvF,GADwB,CAE3B,MAAO,CACH,OAAQQ,EAAO,OAAO,IAAKiJ,GAAaC,GAAcD,EAAKxJ,EAAU0J,GAAO,CAAC,CAAC,CAClF,EACA,MAAO3J,EAAQ,KACnB,EAAC,EACDA,EAAQ,OAAS,CAAC,GAEfA,EACV,GAELA,EAAQ,MAAQQ,EAAO,MACnBA,EAAO,OAAO,SACdR,EAAQ,MAAQT,EAAI,WAAWqH,EAAArB,EAAA,GACxBvF,GADwB,CAE3B,MAAO,CACH,OAAQQ,EAAO,OAAO,IAAKiJ,GAAaC,GAAcD,EAAKxJ,EAAU0J,GAAO,CAAC,CAAC,CAClF,EACA,MAAO3J,EAAQ,KACnB,EAAC,EACDA,EAAQ,OAAS,CAAC,GAEfA,EACX,CACJ,CAAC,EACYmO,GAA6B9O,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAC7EH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASoF,MACpB,OAAOpF,EAAQ,OAAU,UAAY,CAAC,OAAO,MAAMA,EAAQ,KAAK,IAChEA,EAAQ,OAAO,KAAK,CAChB,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,MACV,KAAM,cACV,CAAC,EACMU,EAInB,CAAC,EACYoO,GAA8B/O,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EAClBuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,GAAG,KAAK,MAAM,EACxDuI,GAAWxI,EAAK,KAAM,QAAS,IAAMC,EAAI,GAAG,KAAK,KAAK,EACtDuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,IAAI,KAAK,MAAM,EACzDuI,GAAWxI,EAAK,KAAM,aAAc,IAAMC,EAAI,GAAG,KAAK,UAAU,EACrED,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAM8K,EAAOxL,EAAI,GAAG,KAAK,IAAIS,EAASC,CAAG,EACzC,OAAI8K,aAAgB,QACTA,EAAK,KAAMA,GAASsD,GAAiBtD,EAAMxL,EAAKU,CAAG,CAAC,EAExDoO,GAAiBtD,EAAMxL,EAAKU,CAAG,CAC1C,CACJ,CAAC,EACD,SAASoO,GAAiBtD,EAAMxL,EAAKU,EAAK,CACtC,OAAI8K,EAAK,OAAO,OACLA,EAEJxL,EAAI,IAAI,KAAK,IAAI,CAAE,MAAOwL,EAAK,MAAO,OAAQA,EAAK,MAAO,EAAG9K,CAAG,CAC3E,CACO,IAAMqO,GAAkCjP,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CACvFH,GAAS,KAAKE,EAAMC,CAAG,EAClBuI,GAAWxI,EAAK,KAAM,aAAc,IAAMC,EAAI,UAAU,KAAK,UAAU,EACvEuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EAC/DuI,GAAWxI,EAAK,KAAM,QAAS,IAAMC,EAAI,UAAU,KAAK,KAAK,EAC7DuI,GAAWxI,EAAK,KAAM,SAAU,IAAMC,EAAI,UAAU,KAAK,MAAM,EACpED,EAAK,KAAK,MAAQ,CAACU,EAASC,IAAQ,CAChC,IAAMO,EAASjB,EAAI,UAAU,KAAK,IAAIS,EAASC,CAAG,EAClD,OAAIO,aAAkB,QACXA,EAAO,KAAK+N,EAAoB,EAEpCA,GAAqB/N,CAAM,CACtC,CACJ,CAAC,EACD,SAAS+N,GAAqBvO,EAAS,CACnC,OAAAA,EAAQ,MAAQ,OAAO,OAAOA,EAAQ,KAAK,EACpCA,CACX,CACO,IAAMwO,GAAyCnP,EAAa,sBAAuB,CAACC,EAAMC,IAAQ,CACrGH,GAAS,KAAKE,EAAMC,CAAG,EACvB,IAAMkP,EAAa,CAAC,EACpB,QAAWC,KAAQnP,EAAI,MACnB,GAAImP,aAAgBtP,GAAU,CAC1B,GAAI,CAACsP,EAAK,KAAK,QAEX,MAAM,IAAI,MAAM,oDAAoD,QAAC,GAAGA,EAAK,KAAK,MAAM,EAAE,MAAM,EAAG,EAEvG,IAAMC,EAASD,EAAK,KAAK,mBAAmB,OAASA,EAAK,KAAK,QAAQ,OAASA,EAAK,KAAK,QAC1F,GAAI,CAACC,EACD,MAAM,IAAI,MAAM,kCAAkC,OAAAD,EAAK,KAAK,OAAQ,EACxE,IAAME,EAAQD,EAAO,WAAW,GAAG,EAAI,EAAI,EACrCE,EAAMF,EAAO,SAAS,GAAG,EAAIA,EAAO,OAAS,EAAIA,EAAO,OAC9DF,EAAW,KAAKE,EAAO,MAAMC,EAAOC,CAAG,CAAC,CAC5C,SACSH,IAAS,MAAaI,GAAe,IAAI,OAAOJ,CAAI,EACzDD,EAAW,KAAUxB,GAAY,GAAG,OAAAyB,EAAM,CAAC,MAG3C,OAAM,IAAI,MAAM,kCAAkC,OAAAA,EAAM,EAGhEpP,EAAK,KAAK,QAAU,IAAI,OAAO,IAAI,OAAAmP,EAAW,KAAK,EAAE,EAAC,IAAG,EACzDnP,EAAK,KAAK,MAAQ,CAACU,EAASoF,IAAS,CAvlDzC,IAAA5F,EAwlDQ,OAAI,OAAOQ,EAAQ,OAAU,UACzBA,EAAQ,OAAO,KAAK,CAChB,MAAOA,EAAQ,MACf,KAAAV,EACA,SAAU,mBACV,KAAM,cACV,CAAC,EACMU,IAEXV,EAAK,KAAK,QAAQ,UAAY,EACzBA,EAAK,KAAK,QAAQ,KAAKU,EAAQ,KAAK,GACrCA,EAAQ,OAAO,KAAK,CAChB,MAAOA,EAAQ,MACf,KAAAV,EACA,KAAM,iBACN,QAAQE,EAAAD,EAAI,SAAJ,KAAAC,EAAc,mBACtB,QAASF,EAAK,KAAK,QAAQ,MAC/B,CAAC,EACMU,EAGf,CACJ,CAAC,EACY+O,GAAiC1P,EAAa,cAAe,CAACC,EAAMC,IAAQ,CACrFH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASC,IACjB,QAAQ,QAAQD,EAAQ,KAAK,EAAE,KAAMgP,GAAUzP,EAAI,UAAU,KAAK,IAAI,CAAE,MAAOyP,EAAO,OAAQ,CAAC,CAAE,EAAG/O,CAAG,CAAC,CAEvH,CAAC,EACYgP,GAA8B5P,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC/EH,GAAS,KAAKE,EAAMC,CAAG,EAQlBuI,GAAWxI,EAAK,KAAM,YAAa,IAAMC,EAAI,OAAO,CAAC,EACrDuI,GAAWxI,EAAK,KAAM,UAAW,IAAMA,EAAK,KAAK,UAAU,KAAK,OAAO,EACvEwI,GAAWxI,EAAK,KAAM,aAAc,IAAMA,EAAK,KAAK,UAAU,KAAK,UAAU,EAC7EwI,GAAWxI,EAAK,KAAM,QAAS,IAAG,CAjoD3C,IAAAE,EAioD8C,OAAAA,EAAAF,EAAK,KAAK,UAAU,KAAK,QAAzB,KAAAE,EAAkC,OAAS,EAChFsI,GAAWxI,EAAK,KAAM,SAAU,IAAG,CAloD5C,IAAAE,EAkoD+C,OAAAA,EAAAF,EAAK,KAAK,UAAU,KAAK,SAAzB,KAAAE,EAAmC,OAAS,EACvFF,EAAK,KAAK,MAAQ,CAACU,EAASC,IACVX,EAAK,KAAK,UACX,KAAK,IAAIU,EAASC,CAAG,CAE1C,CAAC,EACYiP,GAAgC7P,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC5E4P,GAAU,KAAK7P,EAAMC,CAAG,EAC/BH,GAAS,KAAKE,EAAMC,CAAG,EACvBD,EAAK,KAAK,MAAQ,CAACU,EAASM,IACjBN,EAEXV,EAAK,KAAK,MAASU,GAAY,CAC3B,IAAMqF,EAAQrF,EAAQ,MAChB,EAAIT,EAAI,GAAG8F,CAAK,EACtB,GAAI,aAAa,QACb,OAAO,EAAE,KAAM3E,GAAM0O,GAAmB1O,EAAGV,EAASqF,EAAO/F,CAAI,CAAC,EAEpE8P,GAAmB,EAAGpP,EAASqF,EAAO/F,CAAI,CAE9C,CACJ,CAAC,EACD,SAAS8P,GAAmB5O,EAAQR,EAASqF,EAAO/F,EAAM,CAxpD1D,IAAAE,EAypDI,GAAI,CAACgB,EAAQ,CACT,IAAM6O,EAAO,CACT,KAAM,SACN,MAAAhK,EACA,KAAA/F,EACA,KAAM,CAAC,IAAIE,EAAAF,EAAK,KAAK,IAAI,OAAd,KAAAE,EAAsB,CAAC,CAAE,EACpC,SAAU,CAACF,EAAK,KAAK,IAAI,KAE7B,EACIA,EAAK,KAAK,IAAI,SACd+P,EAAK,OAAS/P,EAAK,KAAK,IAAI,QAChCU,EAAQ,OAAO,KAAUsP,GAAMD,CAAI,CAAC,CACxC,CACJ,CCtqDA,IAAAE,GAAA,GAAAC,GAAAD,GAAA,QAAAE,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,SAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,QAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,OAAAC,GAAA,SAAAC,GAAA,SAAAC,KCCA,IAAMC,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,qBAAO,KAAM,uCAAU,EACvC,KAAM,CAAE,KAAM,2BAAQ,KAAM,uCAAU,EACtC,MAAO,CAAE,KAAM,2BAAQ,KAAM,uCAAU,EACvC,IAAK,CAAE,KAAM,2BAAQ,KAAM,uCAAU,CACzC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,2BACP,MAAO,4EACP,IAAK,2BACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,mGACV,KAAM,0EACN,KAAM,8DACN,SAAU,8DACV,KAAM,sCACN,KAAM,sCACN,OAAQ,8FACR,OAAQ,8FACR,OAAQ,yEACR,UAAW,4EACX,YAAa,sEACb,KAAM,yFACN,IAAK,MACL,iBAAkB,0BACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,+JAAkC,OAAAA,EAAM,SAAQ,gFAAmB,OAAAJ,EAAWI,EAAM,KAAK,GACpG,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,+JAAkC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC7E,uPAAoD,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAChG,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,qJAAkC,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,uCAAQ,KAAI,OAAAW,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,4BACpH,oJAAiC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,uCAAQ,KAAI,OAAAI,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EACtG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,2HAA4B,OAAAP,EAAM,OAAM,2CAAY,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAElG,2HAA4B,OAAAP,EAAM,OAAM,2CAAY,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAC7F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,gJAAkC,OAAAR,EAAM,OAAM,KACrDQ,EAAO,SAAW,YACX,sJAAmC,OAAAA,EAAO,OAAM,KACvDA,EAAO,SAAW,WACX,qJAAkC,OAAAA,EAAO,SAAQ,KACxDA,EAAO,SAAW,QACX,uKAAqC,OAAAA,EAAO,SAChD,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,qDAClD,CACA,IAAK,kBACD,MAAO,0LAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,2BAAO,OAAAA,EAAM,KAAK,OAAS,EAAI,eAAO,GAAE,6BAAQ,OAAAA,EAAM,KAAK,OAAS,EAAI,SAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,SAAI,GAChI,IAAK,cACD,MAAO,2FAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,6EACX,IAAK,kBACD,MAAO,2FAAqB,OAAAA,EAAM,QACtC,QACI,MAAO,4EACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,SAAU,KAAM,qBAAY,EAC5C,KAAM,CAAE,KAAM,OAAQ,KAAM,qBAAY,EACxC,MAAO,CAAE,KAAM,UAAW,KAAM,qBAAY,EAC5C,IAAK,CAAE,KAAM,UAAW,KAAM,qBAAY,CAC9C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,gBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,eACV,KAAM,WACN,KAAM,WACN,SAAU,eACV,KAAM,eACN,KAAM,eACN,OAAQ,aACR,OAAQ,aACR,OAAQ,wBACR,UAAW,2BACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,6DAA4B,OAAAA,EAAM,SAAQ,iBAAgB,OAAAJ,EAAWI,EAAM,KAAK,GAC3F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,6DAA4B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACvE,4FAAiD,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC7F,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,+CAAyB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,kBAAO,KAAI,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,WACzG,+CAAyB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,kBAAO,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC5F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,4CAAyB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MACtF,4CAAyB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACjF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,gCAAiB,OAAAA,EAAO,OAAM,0CACrCA,EAAO,SAAW,YACX,gCAAiB,OAAAA,EAAO,OAAM,8BACrCA,EAAO,SAAW,WACX,gCAAiB,OAAAA,EAAO,SAAQ,+BACvCA,EAAO,SAAW,QACX,+BAAgB,OAAAA,EAAO,QAAO,kDAClC,oBAAU,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACnD,CACA,IAAK,kBACD,MAAO,oCAAgB,OAAAA,EAAM,QAAO,8DACxC,IAAK,oBACD,MAAO,0BAAkB,OAAAA,EAAM,KAAK,OAAS,EAAI,MAAQ,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACpG,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,4CAC1B,IAAK,gBACD,MAAO,mCACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,oDAC1B,QACI,MAAO,kCACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCjHA,SAASmB,GAAoBC,EAAOC,EAAKC,EAAKC,EAAM,CAChD,IAAMC,EAAW,KAAK,IAAIJ,CAAK,EACzBK,EAAYD,EAAW,GACvBE,EAAgBF,EAAW,IACjC,OAAIE,GAAiB,IAAMA,GAAiB,GACjCH,EAEPE,IAAc,EACPJ,EAEPI,GAAa,GAAKA,GAAa,EACxBH,EAEJC,CACX,CACA,IAAMI,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CACJ,KAAM,CACF,IAAK,uCACL,IAAK,6CACL,KAAM,kDACV,EACA,KAAM,0BACV,EACA,MAAO,CACH,KAAM,CACF,IAAK,6CACL,IAAK,mDACL,KAAM,wDACV,EACA,KAAM,0BACV,EACA,IAAK,CACD,KAAM,CACF,IAAK,6CACL,IAAK,mDACL,KAAM,wDACV,EACA,KAAM,0BACV,EACA,KAAM,CACF,KAAM,CACF,IAAK,2BACL,IAAK,iCACL,KAAM,sCACV,EACA,KAAM,0BACV,CACJ,EACA,SAASC,EAAUC,EAAQ,CAnD/B,IAAAC,EAoDQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,qBAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,iCAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,2BACP,MAAO,uCACP,IAAK,MACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,yDACV,KAAM,+BACN,KAAM,yBACN,SAAU,yEACV,KAAM,sCACN,KAAM,sCACN,OAAQ,wDACR,OAAQ,wDACR,OAAQ,0FACR,UAAW,6FACX,YAAa,sCACb,KAAM,uCACN,IAAK,MACL,iBAAkB,0BACtB,EACA,OAAQC,GAAU,CAxGtB,IAAAL,EAAAM,EAAAC,EAyGQ,OAAQF,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,2IAA6B,OAAAA,EAAM,SAAQ,uDAAc,OAAAJ,EAAWI,EAAM,KAAK,GAC1F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,iJAA8B,OAAKG,EAAmBH,EAAM,OAAO,CAAC,CAAC,GACzE,mMAAwC,OAAKI,EAAWJ,EAAM,OAAQ,GAAG,GACpF,IAAK,UAAW,CACZ,IAAMK,EAAML,EAAM,UAAY,KAAO,IAC/BM,EAASb,EAAUO,EAAM,MAAM,EACrC,GAAIM,EAAQ,CACR,IAAMC,EAAW,OAAOP,EAAM,OAAO,EAC/BQ,EAAOzB,GAAoBwB,EAAUD,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAI,EAC7F,MAAO,yJAAiC,QAAAX,EAAAK,EAAM,SAAN,KAAAL,EAAgB,mDAAU,gDAAY,OAAAW,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAQ,EACnI,CACA,MAAO,yJAAiC,QAAAP,EAAAD,EAAM,SAAN,KAAAC,EAAgB,mDAAU,yEAAiB,OAAAI,GAAM,OAAAL,EAAM,QAAQ,SAAS,EACpH,CACA,IAAK,YAAa,CACd,IAAMK,EAAML,EAAM,UAAY,KAAO,IAC/BM,EAASb,EAAUO,EAAM,MAAM,EACrC,GAAIM,EAAQ,CACR,IAAMG,EAAW,OAAOT,EAAM,OAAO,EAC/BQ,EAAOzB,GAAoB0B,EAAUH,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAI,EAC7F,MAAO,6IAA+B,OAAAN,EAAM,OAAM,gDAAY,OAAAM,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAQ,EACnH,CACA,MAAO,6IAA+B,OAAAR,EAAM,OAAM,yEAAiB,OAAAK,GAAM,OAAAL,EAAM,QAAQ,SAAS,EACpG,CACA,IAAK,iBAAkB,CACnB,IAAMU,EAASV,EACf,OAAIU,EAAO,SAAW,cACX,gNAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,YACX,kOAA8C,OAAAA,EAAO,OAAM,KAClEA,EAAO,SAAW,WACX,mMAAwC,OAAAA,EAAO,SAAQ,KAC9DA,EAAO,SAAW,QACX,yPAAiD,OAAAA,EAAO,SAC5D,sEAAe,QAAAR,EAAAH,EAAMW,EAAO,MAAM,IAAnB,KAAAR,EAAwBF,EAAM,OACxD,CACA,IAAK,kBACD,MAAO,yMAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,4EAAgB,OAAAA,EAAM,KAAK,OAAS,EAAI,iCAAU,2BAAM,MAAK,OAAKI,EAAWJ,EAAM,KAAM,IAAI,GACxG,IAAK,cACD,MAAO,sGAAsB,OAAAA,EAAM,QACvC,IAAK,gBACD,MAAO,8FACX,IAAK,kBACD,MAAO,oIAA2B,OAAAA,EAAM,QAC5C,QACI,MAAO,6FACf,CACJ,CACJ,EACe,SAARW,IAAoB,CACvB,MAAO,CACH,YAAapB,GAAM,CACvB,CACJ,CClKA,IAAMqB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,eAAa,KAAM,UAAW,EAC9C,KAAM,CAAE,KAAM,QAAS,KAAM,UAAW,EACxC,MAAO,CAAE,KAAM,WAAY,KAAM,UAAW,EAC5C,IAAK,CAAE,KAAM,WAAY,KAAM,UAAW,CAC9C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,UACP,MAAO,2BACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,kBACV,KAAM,WACN,KAAM,WACN,SAAU,aACV,KAAM,iBACN,KAAM,iBACN,OAAQ,YACR,OAAQ,YACR,OAAQ,8BACR,UAAW,iCACX,YAAa,cACb,KAAM,kBACN,IAAK,MACL,iBAAkB,SACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,gCAA6B,OAAAA,EAAM,SAAQ,iBAAgB,OAAAJ,EAAWI,EAAM,KAAK,GAE5F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,gCAA6B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACxE,2CAAqC,OAAKK,EAAWL,EAAM,OAAQ,KAAK,GACnF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,iBAAgB,WACxCO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8BAA8B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,WAAU,mBAAe,OAAAW,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,YAC7H,8BAA8B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,WAAU,SAAQ,OAAAI,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EACzG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,iBAAgB,YACxCO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,+BAA+B,OAAAP,EAAM,OAAM,mBAAe,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAExG,+BAA+B,OAAAP,EAAM,OAAM,SAAQ,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAC5F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,6CAAuC,OAAAA,EAAO,OAAM,KAE3DA,EAAO,SAAW,YACX,wCAAoC,OAAAA,EAAO,OAAM,KACxDA,EAAO,SAAW,WACX,sCAAkC,OAAAA,EAAO,SAAQ,KACxDA,EAAO,SAAW,QACX,sDAAgD,OAAAA,EAAO,SAC3D,2BAAwB,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACjE,CACA,IAAK,kBACD,MAAO,kDAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,OAAO,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,kBAAiB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACxI,IAAK,cACD,MAAO,sBAAmB,OAAAA,EAAM,QACpC,IAAK,gBACD,MAAO,sBACX,IAAK,kBACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,QACI,MAAO,qBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCpHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,aAAS,KAAM,QAAM,EACrC,KAAM,CAAE,KAAM,aAAS,KAAM,QAAM,EACnC,MAAO,CAAE,KAAM,aAAS,KAAM,QAAM,EACpC,IAAK,CAAE,KAAM,aAAS,KAAM,QAAM,CACtC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,gBAExC,IAAK,SACD,MAAO,oBAEX,IAAK,UACD,MAAO,UAEX,IAAK,SACD,MAAO,SAEX,IAAK,WACD,MAAO,SAEX,IAAK,SACD,MAAO,SAEX,IAAK,YACD,MAAO,YAEX,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,OAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,2BACP,MAAO,sBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,qCACV,KAAM,0BACN,KAAM,6BACN,SAAU,wBACV,KAAM,cACN,KAAM,cACN,OAAQ,cACR,OAAQ,cACR,OAAQ,0DACR,UAAW,6DACX,YAAa,uCACb,KAAM,sBACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA/EtB,IAAAL,EAAAM,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAgFQ,OAAQN,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,2CAA6B,OAAAA,EAAM,SAAQ,oBAAc,OAAAJ,EAAWI,EAAM,KAAK,GAC1F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,2CAA6B,OAAKO,EAAmBP,EAAM,OAAO,CAAC,CAAC,GACxE,iEAA8C,OAAKQ,EAAWR,EAAM,OAAQ,GAAG,GAC1F,IAAK,UAAW,CACZ,IAAMS,EAAMT,EAAM,UAAY,KAAO,IAC/BU,EAASjB,EAAUO,EAAM,MAAM,EACrC,OAAIU,EACO,4CAA4B,QAAAf,EAAAK,EAAM,SAAN,KAAAL,EAAgB,UAAS,oBAAa,OAAAc,GAAM,OAAAT,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAS,EAAO,OAAP,KAAAT,EAAe,cAEvH,4CAA4B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,UAAS,oBAAa,OAAAO,GAAM,OAAAT,EAAM,QAAQ,SAAS,EAC1G,CACA,IAAK,YAAa,CACd,IAAMS,EAAMT,EAAM,UAAY,KAAO,IAC/BU,EAASjB,EAAUO,EAAM,MAAM,EACrC,OAAIU,EACO,2CAA2B,QAAAP,EAAAH,EAAM,SAAN,KAAAG,EAAgB,UAAS,oBAAa,OAAAM,GAAM,OAAAT,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAI,EAAAM,EAAO,OAAP,KAAAN,EAAe,cAEtH,2CAA2B,QAAAC,EAAAL,EAAM,SAAN,KAAAK,EAAgB,UAAS,oBAAa,OAAAI,GAAM,OAAAT,EAAM,QAAQ,SAAS,EACzG,CACA,IAAK,iBAAkB,CACnB,IAAMW,EAASX,EACf,OAAIW,EAAO,SAAW,cACX,8DAAsC,OAAAA,EAAO,OAAM,KAC1DA,EAAO,SAAW,YACX,0DAAqC,OAAAA,EAAO,OAAM,KACzDA,EAAO,SAAW,WACX,qDAAqC,OAAAA,EAAO,SAAQ,KAC3DA,EAAO,SAAW,QACX,6DAA0C,OAAAA,EAAO,SACrD,yBAAmB,QAAAL,EAAAP,EAAMY,EAAO,MAAM,IAAnB,KAAAL,EAAwBN,EAAM,OAC5D,CACA,IAAK,kBACD,MAAO,yDAAqC,OAAAA,EAAM,SACtD,IAAK,oBACD,MAAO,gCAAkB,OAAKQ,EAAWR,EAAM,KAAM,IAAI,GAC7D,IAAK,cACD,MAAO,8BAAmB,OAAAA,EAAM,QACpC,IAAK,gBACD,MAAO,oBACX,IAAK,kBACD,MAAO,yBAAsB,OAAAA,EAAM,QACvC,QACI,MAAO,mBACf,CACJ,CACJ,EACe,SAARY,IAAoB,CACvB,MAAO,CACH,YAAarB,GAAM,CACvB,CACJ,CCrIA,IAAMsB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,OAAQ,KAAM,OAAQ,EACtC,KAAM,CAAE,KAAM,QAAS,KAAM,OAAQ,EACrC,MAAO,CAAE,KAAM,YAAa,KAAM,WAAY,EAC9C,IAAK,CAAE,KAAM,YAAa,KAAM,WAAY,CAChD,EACMC,EAAY,CACd,OAAQ,SACR,OAAQ,MACR,QAAS,UACT,MAAO,QACP,OAAQ,SACR,IAAK,SACL,KAAM,KACV,EACA,SAASC,EAAUC,EAAQ,CAjB/B,IAAAC,EAkBQ,OAAOA,EAAAJ,EAAQG,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,SAASC,EAAYC,EAAM,CApB/B,IAAAF,EAqBQ,OAAOA,EAAAH,EAAUK,CAAI,IAAd,KAAAF,EAAmBE,CAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,MAExC,IAAK,SACD,OAAI,MAAM,QAAQA,CAAI,EACX,QAEPA,IAAS,KACF,OAEP,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YAClDA,EAAK,YAAY,KAErB,QAEf,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,gBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,6BACV,KAAM,WACN,KAAM,oBACN,SAAU,eACV,KAAM,iBACN,KAAM,iBACN,OAAQ,gBACR,OAAQ,gBACR,OAAQ,sBACR,UAAW,yBACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA1EtB,IAAAP,EAAAQ,EA2EQ,OAAQD,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,8BAA8B,OAAAN,EAAYM,EAAM,QAAQ,EAAC,UAAS,OAAAN,EAAYE,EAAWI,EAAM,KAAK,CAAC,GAChH,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,gCAA6B,OAAKE,EAAmBF,EAAM,OAAO,CAAC,CAAC,GACxE,+CAA4C,OAAKG,EAAWH,EAAM,OAAQ,GAAG,GACxF,IAAK,UAAW,CACZ,IAAMI,EAAMJ,EAAM,UAAY,KAAO,IAC/BK,EAASd,EAAUS,EAAM,MAAM,EAC/BR,EAASE,EAAYM,EAAM,MAAM,EACvC,OAAIK,EACO,wBAAwB,OAAAb,GAAA,KAAAA,EAAU,QAAO,KAAI,OAAAa,EAAO,KAAI,KAAI,OAAAD,EAAG,KAAI,OAAAJ,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAP,EAAAY,EAAO,OAAP,KAAAZ,EAAe,aAClH,wBAAwB,OAAAD,GAAA,KAAAA,EAAU,QAAO,WAAU,OAAAY,EAAG,KAAI,OAAAJ,EAAM,QAAQ,SAAS,EAC5F,CACA,IAAK,YAAa,CACd,IAAMI,EAAMJ,EAAM,UAAY,KAAO,IAC/BK,EAASd,EAAUS,EAAM,MAAM,EAC/BR,EAASE,EAAYM,EAAM,MAAM,EACvC,OAAIK,EACO,yBAAyB,OAAAb,EAAM,KAAI,OAAAa,EAAO,KAAI,KAAI,OAAAD,EAAG,KAAI,OAAAJ,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAK,EAAO,MAEhG,yBAAyB,OAAAb,EAAM,WAAU,OAAAY,EAAG,KAAI,OAAAJ,EAAM,QAAQ,SAAS,EAClF,CACA,IAAK,iBAAkB,CACnB,IAAMM,EAASN,EACf,OAAIM,EAAO,SAAW,cACX,oCAAoC,OAAAA,EAAO,OAAM,KACxDA,EAAO,SAAW,YACX,kCAAkC,OAAAA,EAAO,OAAM,KACtDA,EAAO,SAAW,WACX,mCAAmC,OAAAA,EAAO,SAAQ,KACzDA,EAAO,SAAW,QACX,4CAAyC,OAAAA,EAAO,SACpD,WAAW,QAAAL,EAAAF,EAAMO,EAAO,MAAM,IAAnB,KAAAL,EAAwBD,EAAM,OACpD,CACA,IAAK,kBACD,MAAO,2CAAwC,OAAAA,EAAM,SACzD,IAAK,oBACD,MAAO,GAAG,OAAAA,EAAM,KAAK,OAAS,EAAI,oBAAmB,kBAAc,MAAK,OAAKG,EAAWH,EAAM,KAAM,IAAI,GAC5G,IAAK,cACD,MAAO,sBAAmB,OAAAA,EAAM,QACpC,IAAK,gBACD,MAAO,qDACX,IAAK,kBACD,MAAO,sBAAmB,OAAAA,EAAM,QACpC,QACI,MAAO,gBACf,CACJ,CACJ,EACe,SAARO,IAAoB,CACvB,MAAO,CACH,YAAanB,GAAM,CACvB,CACJ,CCjIA,IAAMoB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,UAAW,KAAM,UAAW,EAC5C,KAAM,CAAE,KAAM,QAAS,KAAM,UAAW,EACxC,MAAO,CAAE,KAAM,WAAY,KAAM,UAAW,EAC5C,IAAK,CAAE,KAAM,WAAY,KAAM,UAAW,CAC9C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,OAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,UACP,MAAO,iBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,yBACV,KAAM,YACN,KAAM,cACN,SAAU,YACV,KAAM,eACN,KAAM,eACN,OAAQ,eACR,OAAQ,eACR,OAAQ,0BACR,UAAW,8BACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,SACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,kCAA+B,OAAAA,EAAM,SAAQ,eAAc,OAAAJ,EAAWI,EAAM,KAAK,GAC5F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,kCAA+B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC1E,0CAAuC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACnF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8BAA2B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,OAAM,KAAI,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,WAAU,QACpH,8BAA2B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,OAAM,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,OAC9F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,4BAA4B,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,QAE7F,4BAA4B,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,OACrF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,mCAAgC,OAAAA,EAAO,OAAM,cACpDA,EAAO,SAAW,YACX,mCAAgC,OAAAA,EAAO,OAAM,WACpDA,EAAO,SAAW,WACX,+BAA4B,OAAAA,EAAO,SAAQ,eAClDA,EAAO,SAAW,QACX,yCAAsC,OAAAA,EAAO,QAAO,gBACxD,gBAAa,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACtD,CACA,IAAK,kBACD,MAAO,8CAA2C,OAAAA,EAAM,QAAO,SACnE,IAAK,oBACD,MAAO,GAAG,OAAAA,EAAM,KAAK,OAAS,EAAI,0BAAyB,2BAAuB,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC3H,IAAK,cACD,MAAO,iCAA2B,OAAAA,EAAM,QAC5C,IAAK,gBACD,MAAO,uBACX,IAAK,kBACD,MAAO,yBAAsB,OAAAA,EAAM,QACvC,QACI,MAAO,sBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHO,IAAMmB,GAAcC,GAAS,CAChC,IAAM,EAAI,OAAOA,EACjB,OAAQ,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMA,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAO,CACX,EACMC,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,aAAc,KAAM,SAAU,EAC9C,KAAM,CAAE,KAAM,QAAS,KAAM,SAAU,EACvC,MAAO,CAAE,KAAM,QAAS,KAAM,SAAU,EACxC,IAAK,CAAE,KAAM,QAAS,KAAM,SAAU,CAC1C,EACA,SAASC,EAAUC,EAAQ,CA5B/B,IAAAC,EA6BQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAQ,CACV,MAAO,QACP,MAAO,gBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,eACV,KAAM,WACN,KAAM,WACN,SAAU,eACV,KAAM,eACN,KAAM,eACN,OAAQ,aACR,OAAQ,aACR,OAAQ,wBACR,UAAW,2BACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAF,EAAAG,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,2BAA2B,OAAAA,EAAM,SAAQ,eAAc,OAAAR,GAAWQ,EAAM,KAAK,GACxF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,2BAA2B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACtE,mCAAmC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC/E,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,qBAAqB,QAAAT,EAAAE,EAAM,SAAN,KAAAF,EAAgB,QAAO,aAAY,OAAAQ,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,YAC7G,qBAAqB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,WAAU,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC9F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,uBAAuB,OAAAP,EAAM,OAAM,aAAY,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAE5F,uBAAuB,OAAAP,EAAM,OAAM,WAAU,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACrF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,oCAAoC,OAAAA,EAAO,OAAM,KAExDA,EAAO,SAAW,YACX,kCAAkC,OAAAA,EAAO,OAAM,KACtDA,EAAO,SAAW,WACX,iCAAiC,OAAAA,EAAO,SAAQ,KACvDA,EAAO,SAAW,QACX,sCAAsC,OAAAA,EAAO,SACjD,WAAW,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACpD,CACA,IAAK,kBACD,MAAO,yCAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,mBAAmB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACnG,IAAK,cACD,MAAO,kBAAkB,OAAAA,EAAM,QACnC,IAAK,gBACD,MAAO,gBACX,IAAK,kBACD,MAAO,oBAAoB,OAAAA,EAAM,QACrC,QACI,MAAO,eACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAaf,GAAM,CACvB,CACJ,CCnHO,IAAMgB,GAAcC,GAAS,CAChC,IAAM,EAAI,OAAOA,EACjB,OAAQ,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMA,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,SAEX,GAAIA,IAAS,KACT,MAAO,YAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAO,CACX,EACMC,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,aAAc,KAAM,MAAO,EAC3C,KAAM,CAAE,KAAM,UAAW,KAAM,MAAO,EACtC,MAAO,CAAE,KAAM,aAAc,KAAM,MAAO,EAC1C,IAAK,CAAE,KAAM,aAAc,KAAM,MAAO,CAC5C,EACA,SAASC,EAAUC,EAAQ,CA5B/B,IAAAC,EA6BQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAQ,CACV,MAAO,QACP,MAAO,YACP,IAAK,MACL,MAAO,cACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,gBACV,KAAM,WACN,KAAM,YACN,SAAU,iBACV,KAAM,cACN,KAAM,cACN,OAAQ,aACR,OAAQ,aACR,OAAQ,2BACR,UAAW,+BACX,YAAa,kBACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAF,EAAAG,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,kCAA6B,OAAAA,EAAM,SAAQ,qBAAe,OAAAR,GAAWQ,EAAM,KAAK,GAC3F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,kCAA6B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACxE,yCAAoC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAChF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,iCAA4B,QAAAT,EAAAE,EAAM,SAAN,KAAAF,EAAgB,SAAQ,UAAS,OAAAQ,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,cAClH,iCAA4B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAQ,UAAS,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACrG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,oCAA+B,OAAAP,EAAM,OAAM,UAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEjG,oCAA+B,OAAAP,EAAM,OAAM,UAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC5F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,kDAA6C,OAAAA,EAAO,OAAM,KACjEA,EAAO,SAAW,YACX,+CAA0C,OAAAA,EAAO,OAAM,KAC9DA,EAAO,SAAW,WACX,yCAAyC,OAAAA,EAAO,SAAQ,KAC/DA,EAAO,SAAW,QACX,oDAAoD,OAAAA,EAAO,SAC/D,YAAY,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACrD,CACA,IAAK,kBACD,MAAO,uCAAuC,OAAAA,EAAM,SACxD,IAAK,oBACD,MAAO,WAAW,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,iBAAW,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACtI,IAAK,cACD,MAAO,4BAAuB,OAAAA,EAAM,QACxC,IAAK,gBACD,MAAO,iBACX,IAAK,kBACD,MAAO,sBAAsB,OAAAA,EAAM,QACvC,QACI,MAAO,gBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAaf,GAAM,CACvB,CACJ,CClHA,IAAMgB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,aAAc,KAAM,OAAQ,EAC5C,KAAM,CAAE,KAAM,QAAS,KAAM,OAAQ,EACrC,MAAO,CAAE,KAAM,YAAa,KAAM,OAAQ,EAC1C,IAAK,CAAE,KAAM,YAAa,KAAM,OAAQ,CAC5C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,YAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,UAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,UACvC,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,UACP,MAAO,wCACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,mBACV,KAAM,YACN,KAAM,WACN,SAAU,kBACV,KAAM,oBACN,KAAM,oBACN,OAAQ,aACR,OAAQ,aACR,OAAQ,8BACR,UAAW,2BACX,YAAa,cACb,KAAM,kBACN,IAAK,MACL,iBAAkB,SACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,oCAAiC,OAAAA,EAAM,SAAQ,eAAc,OAAAJ,EAAWI,EAAM,KAAK,GAE9F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,oCAAiC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC5E,6CAAuC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACnF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,qCAAqC,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,aAAY,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,aAC7H,qCAAqC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,WAAU,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC9G,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yCAAsC,OAAAP,EAAM,OAAM,aAAY,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAE3G,yCAAsC,OAAAP,EAAM,OAAM,WAAU,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACpG,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,0CAAuC,OAAAA,EAAO,OAAM,KAC3DA,EAAO,SAAW,YACX,yCAAsC,OAAAA,EAAO,OAAM,KAC1DA,EAAO,SAAW,WACX,qCAAkC,OAAAA,EAAO,SAAQ,KACxDA,EAAO,SAAW,QACX,uDAAiD,OAAAA,EAAO,SAC5D,eAAY,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACrD,CACA,IAAK,kBACD,MAAO,kDAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,QAAQ,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,gBAAe,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACvI,IAAK,cACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,sBACX,IAAK,kBACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,QACI,MAAO,qBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,6CAAW,KAAM,yDAAa,EAC9C,KAAM,CAAE,KAAM,2BAAQ,KAAM,yDAAa,EACzC,MAAO,CAAE,KAAM,2BAAQ,KAAM,yDAAa,EAC1C,IAAK,CAAE,KAAM,2BAAQ,KAAM,yDAAa,CAC5C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,qBAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,iCAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,iCACP,MAAO,0DACP,IAAK,MACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,0FACV,KAAM,0DACN,KAAM,oDACN,SAAU,uEACV,KAAM,gCACN,KAAM,gCACN,OAAQ,sCACR,OAAQ,sCACR,OAAQ,0CACR,UAAW,6CACX,YAAa,gCACb,KAAM,2BACN,IAAK,MACL,iBAAkB,gCACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,+HAA2B,OAAAA,EAAM,SAAQ,gDAAY,OAAAJ,EAAWI,EAAM,KAAK,EAAC,sDACvF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,+HAA2B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,EAAC,yCAEvE,+JAAkC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,EAAC,yCAC/E,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sDAAc,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,iCAAO,8BAAS,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,2BAAM,6BAEzG,sDAAc,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,iCAAO,8BAAS,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,4BACvF,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sDAAc,OAAAP,EAAM,OAAM,8BAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,6BAEpF,sDAAc,OAAAP,EAAM,OAAM,8BAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,4BAC5E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,+GAA0B,OAAAA,EAAO,OAAM,iDAE9CA,EAAO,SAAW,YACX,+GAA0B,OAAAA,EAAO,OAAM,iDAE9CA,EAAO,SAAW,WACX,2HAA4B,OAAAA,EAAO,SAAQ,8BAElDA,EAAO,SAAW,QACX,6IAA+B,OAAAA,EAAO,QAAO,iGAEjD,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,8CAClD,CACA,IAAK,kBACD,MAAO,oHAA0B,OAAAA,EAAM,QAAO,6BAClD,IAAK,oBACD,MAAO,2BAAO,OAAAA,EAAM,KAAK,OAAS,EAAI,qBAAQ,GAAE,2CAAY,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAChG,IAAK,cACD,MAAO,8EAAkB,OAAAA,EAAM,QACnC,IAAK,gBACD,MAAO,4EACX,IAAK,kBACD,MAAO,0FAAoB,OAAAA,EAAM,QACrC,QACI,MAAO,2EACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCxHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,aAAW,QAAS,aAAc,EAClD,KAAM,CAAE,KAAM,QAAS,QAAS,WAAY,EAC5C,MAAO,CAAE,KAAM,UAAW,QAAS,QAAS,EAC5C,IAAK,CAAE,KAAM,UAAW,QAAS,QAAS,EAC1C,OAAQ,CAAE,KAAM,GAAI,QAAS,OAAQ,EACrC,OAAQ,CAAE,KAAM,GAAI,QAAS,sBAAuB,EACpD,IAAK,CAAE,KAAM,GAAI,QAAS,eAAgB,EAC1C,KAAM,CAAE,KAAM,GAAI,QAAS,4BAAc,CAC7C,EACA,SAASC,EAAUC,EAAQ,CAZ/B,IAAAC,EAaQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,gCACP,MAAO,yBACP,IAAK,aACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,gBACV,KAAM,gCACN,KAAM,WACN,SAAU,YACV,KAAM,cACN,KAAM,cACN,OAAQ,YACR,OAAQ,YACR,OAAQ,6BACR,UAAW,gCACX,YAAa,kBACb,KAAM,aACN,IAAK,MACL,iBAAkB,sBACtB,EACA,OAAQC,GAAU,CAjEtB,IAAAL,EAkEQ,OAAQK,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,mCAAmC,OAAAA,EAAM,SAAQ,UAAS,OAAAJ,EAAWI,EAAM,KAAK,GAC3F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,yCAAmC,OAAKC,EAAmBD,EAAM,OAAO,CAAC,CAAC,GAC9E,0DAAuD,OAAKE,EAAWF,EAAM,OAAQ,GAAG,GACnG,IAAK,UAAW,CACZ,IAAMG,EAAMH,EAAM,UAAY,KAAO,IAC/BI,EAASX,EAAUO,EAAM,MAAM,EACrC,OAAII,EACO,gBAAgB,OAAAA,EAAO,QAAO,oBAAgB,OAAAD,GAAM,OAAAH,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAI,EAAO,MAAO,KAAK,EAEvG,qCAAkC,OAAAD,GAAM,OAAAH,EAAM,QAAQ,SAAS,EAC1E,CACA,IAAK,YAAa,CACd,IAAMG,EAAMH,EAAM,UAAY,KAAO,IAC/BI,EAASX,EAAUO,EAAM,MAAM,EACrC,OAAII,EACO,gBAAgB,OAAAA,EAAO,QAAO,oBAAgB,OAAAD,GAAM,OAAAH,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAI,EAAO,MAAO,KAAK,EAEvG,qCAAkC,OAAAD,GAAM,OAAAH,EAAM,QAAQ,SAAS,EAC1E,CACA,IAAK,iBAAkB,CACnB,IAAMK,EAASL,EACf,OAAIK,EAAO,SAAW,cACX,2CAAqC,OAAAA,EAAO,OAAM,KACzDA,EAAO,SAAW,YACX,4CAAsC,OAAAA,EAAO,OAAM,KAC1DA,EAAO,SAAW,WACX,uDAAwC,OAAAA,EAAO,SAAQ,KAC9DA,EAAO,SAAW,QACX,gFAA8D,OAAAA,EAAO,SAEzE,gBAAgB,QAAAV,EAAAI,EAAMM,EAAO,MAAM,IAAnB,KAAAV,EAAwBK,EAAM,OACzD,CACA,IAAK,kBACD,MAAO,2CAAwC,OAAAA,EAAM,QAAO,cAChE,IAAK,oBACD,MAAO,GAAG,OAAAA,EAAM,KAAK,OAAS,EAAI,wBAA0B,mBAAkB,MAAK,OAAKE,EAAWF,EAAM,KAAM,IAAI,GACvH,IAAK,cACD,MAAO,gCACX,IAAK,gBACD,MAAO,sBACX,IAAK,kBACD,MAAO,6BACX,QACI,MAAO,uBACf,CACJ,CACJ,EACe,SAARM,IAAoB,CACvB,MAAO,CACH,YAAaf,GAAM,CACvB,CACJ,CCxHA,IAAMgB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,gBAAc,KAAM,OAAQ,EAC5C,KAAM,CAAE,KAAM,SAAU,KAAM,OAAQ,EACtC,MAAO,CAAE,KAAM,iBAAY,KAAM,OAAQ,EACzC,IAAK,CAAE,KAAM,iBAAY,KAAM,OAAQ,CAC3C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,UAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,YACP,MAAO,iBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,oBACV,KAAM,WACN,KAAM,YACN,SAAU,eACV,KAAM,eACN,KAAM,eACN,OAAQ,aACR,OAAQ,aACR,OAAQ,iCACR,UAAW,oCACX,YAAa,iBACb,KAAM,kBACN,IAAK,MACL,iBAAkB,WACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,wBAAqB,OAAAA,EAAM,SAAQ,cAAa,OAAAJ,EAAWI,EAAM,KAAK,EAAC,YAClF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,wBAAqB,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,EAAC,YACjE,sCAAsC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,EAAC,aACnF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,gBAAgB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,SAAQ,UAAS,OAAAY,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,oBACrH,gBAAgB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAQ,kBAAc,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC9F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,gBAAgB,OAAAP,EAAM,OAAM,UAAS,OAAAO,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEjG,gBAAgB,OAAAP,EAAM,OAAM,kBAAc,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAClF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,4CAAyC,OAAAA,EAAO,OAAM,KAC7DA,EAAO,SAAW,YACX,8CAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,WACX,sCAAmC,OAAAA,EAAO,SAAQ,KACzDA,EAAO,SAAW,QACX,uDAAiD,OAAAA,EAAO,SAC5D,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,YAClD,CACA,IAAK,kBACD,MAAO,iDAA8C,OAAAA,EAAM,SAC/D,IAAK,oBACD,MAAO,SAAM,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,iBAAgB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,OAAM,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACvI,IAAK,cACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,qBACX,IAAK,kBACD,MAAO,wBAAwB,OAAAA,EAAM,QACzC,QACI,MAAO,oBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,gBAAc,KAAM,OAAQ,EAC5C,KAAM,CAAE,KAAM,SAAU,KAAM,OAAQ,EACtC,MAAO,CAAE,KAAM,iBAAY,KAAM,OAAQ,EACzC,IAAK,CAAE,KAAM,iBAAY,KAAM,OAAQ,CAC3C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,YACP,MAAO,mBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,iBACV,KAAM,WACN,KAAM,YACN,SAAU,eACV,KAAM,eACN,KAAM,eACN,OAAQ,aACR,OAAQ,aACR,OAAQ,iCACR,UAAW,oCACX,YAAa,iBACb,KAAM,kBACN,IAAK,MACL,iBAAkB,WACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EA8DQ,OAAQF,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,gCAA6B,OAAAA,EAAM,SAAQ,cAAU,OAAAJ,EAAWI,EAAM,KAAK,GACtF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,gCAA6B,OAAKG,EAAmBH,EAAM,OAAO,CAAC,CAAC,GACxE,yDAAyD,OAAKI,EAAWJ,EAAM,OAAQ,GAAG,GACrG,IAAK,UAAW,CACZ,IAAMK,EAAML,EAAM,UAAY,SAAM,IAC9BM,EAASb,EAAUO,EAAM,MAAM,EACrC,OAAIM,EACO,4BAA4B,QAAAX,EAAAK,EAAM,SAAN,KAAAL,EAAgB,YAAW,SAAQ,OAAAU,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAM,EAAO,MAC5G,4BAA4B,QAAAL,EAAAD,EAAM,SAAN,KAAAC,EAAgB,YAAW,UAAS,OAAAI,GAAM,OAAAL,EAAM,QAAQ,SAAS,EACxG,CACA,IAAK,YAAa,CACd,IAAMK,EAAML,EAAM,UAAY,SAAM,IAC9BM,EAASb,EAAUO,EAAM,MAAM,EACrC,OAAIM,EACO,4BAA4B,OAAAN,EAAM,OAAM,SAAQ,OAAAK,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAM,EAAO,MAE7F,4BAA4B,OAAAN,EAAM,OAAM,UAAS,OAAAK,GAAM,OAAAL,EAAM,QAAQ,SAAS,EACzF,CACA,IAAK,iBAAkB,CACnB,IAAMO,EAASP,EACf,OAAIO,EAAO,SAAW,cACX,4CAAyC,OAAAA,EAAO,OAAM,KAE7DA,EAAO,SAAW,YACX,8CAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,WACX,sCAAmC,OAAAA,EAAO,SAAQ,KACzDA,EAAO,SAAW,QACX,mDAAgD,OAAAA,EAAO,SAC3D,GAAG,QAAAL,EAAAH,EAAMQ,EAAO,MAAM,IAAnB,KAAAL,EAAwBF,EAAM,OAAM,YAClD,CACA,IAAK,kBACD,MAAO,iDAA8C,OAAAA,EAAM,SAC/D,IAAK,oBACD,MAAO,SAAM,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,iBAAgB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,OAAM,OAAKI,EAAWJ,EAAM,KAAM,IAAI,GACvI,IAAK,cACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,qBACX,IAAK,kBACD,MAAO,wBAAwB,OAAAA,EAAM,QACzC,QACI,MAAO,oBACf,CACJ,CACJ,EACe,SAARQ,IAAoB,CACvB,MAAO,CACH,YAAajB,GAAM,CACvB,CACJ,CCnHA,IAAMkB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,uCAAU,KAAM,gCAAQ,EACxC,KAAM,CAAE,KAAM,uCAAU,KAAM,gCAAQ,EACtC,MAAO,CAAE,KAAM,uCAAU,KAAM,gCAAQ,EACvC,IAAK,CAAE,KAAM,uCAAU,KAAM,gCAAQ,CACzC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,qBACP,MAAO,sEACP,IAAK,oDACL,MAAO,wCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,8DACV,KAAM,qCACN,KAAM,yBACN,SAAU,4CACV,KAAM,sCACN,KAAM,sCACN,OAAQ,gCACR,OAAQ,gCACR,OAAQ,yEACR,UAAW,uIACX,YAAa,4CACb,KAAM,iCACN,IAAK,MACL,iBAAkB,oBACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,sFAAqB,OAAAA,EAAM,SAAQ,qCAAW,OAAAJ,EAAWI,EAAM,KAAK,GAE/E,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,sFAAqB,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAChE,uKAAqC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACjF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,gDAAa,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,6DAAe,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,YACxG,gDAAa,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,6DAAe,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC3F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,0CAAY,OAAAP,EAAM,OAAM,6DAAe,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEpF,0CAAY,OAAAP,EAAM,OAAM,6DAAe,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC/E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,gKAAmC,OAAAA,EAAO,OAAM,KACvDA,EAAO,SAAW,YACX,uKAAqC,OAAAA,EAAO,OAAM,KACzDA,EAAO,SAAW,WACX,oJAAiC,OAAAA,EAAO,SAAQ,KACvDA,EAAO,SAAW,QACX,8LAAwC,OAAAA,EAAO,SACnD,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,yCAClD,CACA,IAAK,kBACD,MAAO,uKAAqC,OAAAA,EAAM,SACtD,IAAK,oBACD,MAAO,2BAAO,OAAAA,EAAM,KAAK,OAAS,EAAI,eAAO,GAAE,0CAAW,OAAAA,EAAM,KAAK,OAAS,EAAI,eAAO,SAAG,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACrI,IAAK,cACD,MAAO,wEAAiB,OAAAA,EAAM,QAClC,IAAK,gBACD,MAAO,2DACX,IAAK,kBACD,MAAO,kEAAgB,OAAAA,EAAM,QACjC,QACI,MAAO,0DACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,WAAY,KAAM,QAAS,EAC3C,KAAM,CAAE,KAAM,OAAQ,KAAM,QAAS,EACrC,MAAO,CAAE,KAAM,OAAQ,KAAM,QAAS,EACtC,IAAK,CAAE,KAAM,OAAQ,KAAM,QAAS,CACxC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,UAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,UAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,UACP,MAAO,eACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,wBACV,KAAM,eACN,KAAM,eACN,SAAU,0BACV,KAAM,cACN,KAAM,cACN,OAAQ,oBACR,OAAQ,oBACR,OAAQ,0BACR,UAAW,6BACX,YAAa,cACb,KAAM,gBACN,IAAK,MACL,iBAAkB,SACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,oDAAqC,OAAAA,EAAM,SAAQ,2BAAoB,OAAAJ,EAAWI,EAAM,KAAK,GAExG,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,oDAAqC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAChF,8DAA4C,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACxF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,gBAAa,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,cAAO,2BAAoB,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,QAC7G,uCAA8B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,cAAO,kBAAc,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC3G,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,wCAA+B,OAAAP,EAAM,OAAM,4BAAqB,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAE7G,wCAA+B,OAAAP,EAAM,OAAM,kBAAc,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACjG,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,8BAAwB,OAAAA,EAAO,OAAM,wCAC5CA,EAAO,SAAW,YACX,8BAAwB,OAAAA,EAAO,OAAM,2CAC5CA,EAAO,SAAW,WACX,8BAAwB,OAAAA,EAAO,SAAQ,qCAC9CA,EAAO,SAAW,QACX,6BAAuB,OAAAA,EAAO,QAAO,iCACzC,qBAAe,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACxD,CACA,IAAK,kBACD,MAAO,8BAAqB,OAAAA,EAAM,QAAO,2CAC7C,IAAK,oBACD,MAAO,mBAAmB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACnG,IAAK,cACD,MAAO,2BAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,4BACX,IAAK,kBACD,MAAO,kCAAsB,OAAAA,EAAM,QACvC,QACI,MAAO,2BACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,WAAY,KAAM,UAAW,EAC7C,KAAM,CAAE,KAAM,OAAQ,KAAM,UAAW,EACvC,MAAO,CAAE,KAAM,OAAQ,KAAM,UAAW,EACxC,IAAK,CAAE,KAAM,OAAQ,KAAM,UAAW,CAC1C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,eACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,+BACV,KAAM,qBACN,KAAM,iBACN,SAAU,oBACV,KAAM,cACN,KAAM,cACN,OAAQ,sBACR,OAAQ,sBACR,OAAQ,8BACR,UAAW,iCACX,YAAa,cACb,KAAM,cACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,iCAAiC,OAAAA,EAAM,SAAQ,eAAc,OAAAJ,EAAWI,EAAM,KAAK,GAC9F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,iCAAiC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC5E,mDAAmD,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC/F,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,6BAA6B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,cAAa,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,UACtH,6BAA6B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,aAAY,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACxG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,6BAA6B,OAAAP,EAAM,OAAM,cAAa,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEnG,6BAA6B,OAAAP,EAAM,OAAM,aAAY,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,6CAA6C,OAAAA,EAAO,OAAM,KACjEA,EAAO,SAAW,YACX,8CAA8C,OAAAA,EAAO,OAAM,KAClEA,EAAO,SAAW,WACX,0CAA0C,OAAAA,EAAO,SAAQ,KAChEA,EAAO,SAAW,QACX,yCAAyC,OAAAA,EAAO,SACpD,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,eAClD,CACA,IAAK,kBACD,MAAO,2CAA2C,OAAAA,EAAM,SAC5D,IAAK,oBACD,MAAO,wBAAwB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACxG,IAAK,cACD,MAAO,wBAAwB,OAAAA,EAAM,QACzC,IAAK,gBACD,MAAO,oBACX,IAAK,kBACD,MAAO,wBAAwB,OAAAA,EAAM,QACzC,QACI,MAAO,mBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHO,IAAMmB,GAAcC,GAAS,CAChC,IAAM,EAAI,OAAOA,EACjB,OAAQ,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMA,CAAI,EAAI,MAAQ,WAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAO,CACX,EACMC,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,QAAS,KAAM,YAAU,EACzC,KAAM,CAAE,KAAM,UAAQ,KAAM,YAAU,EACtC,MAAO,CAAE,KAAM,QAAS,KAAM,YAAU,EACxC,IAAK,CAAE,KAAM,QAAS,KAAM,YAAU,CAC1C,EACA,SAASC,EAAUC,EAAQ,CA5B/B,IAAAC,EA6BQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAQ,CACV,MAAO,QACP,MAAO,UACP,IAAK,gBACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,4BACV,KAAM,iBACN,KAAM,cACN,SAAU,mBACV,KAAM,eACN,KAAM,eACN,OAAQ,aACR,OAAQ,aACR,OAAQ,0BACR,UAAW,6BACX,YAAa,gBACb,KAAM,qBACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAF,EAAAG,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,sCAA6B,OAAAR,GAAWQ,EAAM,KAAK,EAAC,gCAAsB,OAAAA,EAAM,UAC3F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,qCAA+B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC1E,iDAA2C,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACvF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,8CAAkC,QAAAT,EAAAE,EAAM,SAAN,KAAAF,EAAgB,QAAO,UAAS,OAAAQ,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,SACvH,8CAAkC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,WAAO,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACxG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,iDAAkC,OAAAP,EAAM,OAAM,UAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEpG,iDAAkC,OAAAP,EAAM,OAAM,WAAO,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,oDAAwC,OAAAA,EAAO,OAAM,KAE5DA,EAAO,SAAW,YACX,mDAAuC,OAAAA,EAAO,OAAM,KAC3DA,EAAO,SAAW,WACX,mDAA0C,OAAAA,EAAO,SAAQ,KAChEA,EAAO,SAAW,QACX,uDAA8C,OAAAA,EAAO,SACzD,SAAS,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAClD,CACA,IAAK,kBACD,MAAO,mDAA0C,OAAAA,EAAM,SAC3D,IAAK,oBACD,MAAO,gBAAU,OAAAA,EAAM,KAAK,OAAS,EAAI,YAAc,YAAW,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC3G,IAAK,cACD,MAAO,sBAAmB,OAAAA,EAAM,QACpC,IAAK,gBACD,MAAO,cACX,IAAK,kBACD,MAAO,oBAAiB,OAAAA,EAAM,QAClC,QACI,MAAO,aACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAaf,GAAM,CACvB,CACJ,CCnHA,IAAMgB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,YAAa,KAAM,OAAQ,EAC3C,KAAM,CAAE,KAAM,OAAQ,KAAM,OAAQ,EACpC,MAAO,CAAE,KAAM,WAAY,KAAM,OAAQ,EACzC,IAAK,CAAE,KAAM,WAAY,KAAM,OAAQ,CAC3C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,UAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,kBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,iBACV,KAAM,WACN,KAAM,UACN,SAAU,aACV,KAAM,iBACN,KAAM,iBACN,OAAQ,kBACR,OAAQ,kBACR,OAAQ,+BACR,UAAW,2BACX,YAAa,eACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,4BAA4B,OAAAA,EAAM,SAAQ,eAAc,OAAAJ,EAAWI,EAAM,KAAK,GAEzF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,4BAA4B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACvE,sCAAsC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAClF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,kBAAkB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,SAAQ,gBAAe,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,YAC9G,kBAAkB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAQ,iBAAgB,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAClG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,mBAAmB,OAAAP,EAAM,OAAM,gBAAe,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAE3F,mBAAmB,OAAAP,EAAM,OAAM,iBAAgB,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACvF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,0CAA0C,OAAAA,EAAO,OAAM,KAC9DA,EAAO,SAAW,YACX,2CAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,WACX,uCAAuC,OAAAA,EAAO,SAAQ,KAC7DA,EAAO,SAAW,QACX,qDAAqD,OAAAA,EAAO,SAChE,WAAW,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACpD,CACA,IAAK,kBACD,MAAO,iDAAiD,OAAAA,EAAM,SAClE,IAAK,oBACD,MAAO,QAAQ,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,IAAG,oBAAmB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,IAAG,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC7I,IAAK,cACD,MAAO,wBAAwB,OAAAA,EAAM,QACzC,IAAK,gBACD,MAAO,mBACX,IAAK,kBACD,MAAO,wBAAwB,OAAAA,EAAM,QACzC,QACI,MAAO,kBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,eAAM,KAAM,oBAAM,EAClC,KAAM,CAAE,KAAM,qBAAO,KAAM,oBAAM,EACjC,MAAO,CAAE,KAAM,eAAM,KAAM,oBAAM,EACjC,IAAK,CAAE,KAAM,eAAM,KAAM,oBAAM,CACnC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,eAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,eAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,qBACP,MAAO,6CACP,IAAK,MACL,MAAO,qBACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,kBACV,KAAM,kBACN,KAAM,kBACN,SAAU,kBACV,KAAM,+BACN,KAAM,+BACN,OAAQ,mBACR,OAAQ,mBACR,OAAQ,yDACR,UAAW,4DACX,YAAa,yBACb,KAAM,oBACN,IAAK,MACL,iBAAkB,oBACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,mCAAU,OAAAA,EAAM,SAAQ,gEAAa,OAAAJ,EAAWI,EAAM,KAAK,EAAC,oDACvE,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,mCAAU,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,EAAC,oDACtD,mCAAU,OAAKK,EAAWL,EAAM,OAAQ,QAAG,EAAC,8FACvD,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,iCAAU,iCAClCO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yCAAW,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,SAAG,UAAI,OAAAK,EAAM,QAAQ,SAAS,GAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,gBAAO,OAAAK,EAAG,8CAC1F,yCAAW,QAAAJ,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAG,UAAI,OAAAF,EAAM,QAAQ,SAAS,GAAI,OAAAM,EAAG,6CAC3E,CACA,IAAK,YAAa,CACd,IAAMA,EAAMN,EAAM,UAAY,iCAAU,iCAClCO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yCAAW,OAAAP,EAAM,OAAM,UAAI,OAAAA,EAAM,QAAQ,SAAS,GAAI,OAAAO,EAAO,MAAO,OAAAD,EAAG,8CAC3E,yCAAW,OAAAN,EAAM,OAAM,UAAI,OAAAA,EAAM,QAAQ,SAAS,GAAI,OAAAM,EAAG,6CACpE,CACA,IAAK,iBAAkB,CACnB,IAAME,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,0CAAY,OAAAA,EAAO,OAAM,uEAChCA,EAAO,SAAW,YACX,0CAAY,OAAAA,EAAO,OAAM,uEAChCA,EAAO,SAAW,WACX,0CAAY,OAAAA,EAAO,SAAQ,iEAClCA,EAAO,SAAW,QACX,iEAAe,OAAAA,EAAO,QAAO,4EACjC,qBAAM,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAC/C,CACA,IAAK,kBACD,MAAO,mCAAU,OAAAA,EAAM,QAAO,kFAClC,IAAK,oBACD,MAAO,+DAAa,OAAAA,EAAM,KAAK,OAAS,EAAI,SAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,QAAG,GAC5F,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,8CAC1B,IAAK,gBACD,MAAO,iCACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,wCAC1B,QACI,MAAO,gCACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCjHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,6CAAW,KAAM,sCAAS,EAC1C,KAAM,CAAE,KAAM,eAAM,KAAM,sCAAS,EACnC,MAAO,CAAE,KAAM,2BAAQ,KAAM,sCAAS,EACtC,IAAK,CAAE,KAAM,2BAAQ,KAAM,sCAAS,CACxC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,2EAAsB,qBAEtD,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,mCAEX,GAAIA,IAAS,KACT,MAAO,sEAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,uFACP,MAAO,6FACP,IAAK,MACL,MAAO,iFACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,oHACV,KAAM,yEACN,KAAM,+BACN,SAAU,2CACV,KAAM,8DACN,KAAM,8DACN,OAAQ,gFACR,OAAQ,gFACR,OAAQ,oGACR,UAAW,uGACX,YAAa,8DACb,KAAM,2BACN,IAAK,MACL,iBAAkB,sFACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,6NAAyC,OAAAA,EAAM,SAAQ,0FAAmB,OAAAJ,EAAWI,EAAM,KAAK,GAC3G,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,6NAAyC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACpF,qPAA6C,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACzF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yFAAmB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,iCAAO,KAAI,OAAAW,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,4BACpG,yFAAmB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,iCAAO,KAAI,OAAAI,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EACvF,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,+FAAoB,OAAAP,EAAM,OAAM,KAAI,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAElF,+FAAoB,OAAAP,EAAM,OAAM,KAAI,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAC7E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,sPAA8C,OAAAA,EAAO,OAAM,KAElEA,EAAO,SAAW,YACX,oOAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,WACX,gMAAqC,OAAAA,EAAO,SAAQ,KAC3DA,EAAO,SAAW,QACX,iWAA+D,OAAAA,EAAO,SAC1E,wFAAkB,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAC3D,CACA,IAAK,kBACD,MAAO,iNAAuC,OAAAA,EAAM,SACxD,IAAK,oBACD,MAAO,0GAAqB,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAChE,IAAK,cACD,MAAO,wIAA0B,OAAAA,EAAM,QAC3C,IAAK,gBACD,MAAO,iIACX,IAAK,kBACD,MAAO,4KAAgC,OAAAA,EAAM,QACjD,QACI,MAAO,gIACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,eAAM,KAAM,SAAU,EACtC,KAAM,CAAE,KAAM,qBAAO,KAAM,SAAU,EACrC,MAAO,CAAE,KAAM,SAAK,KAAM,SAAU,EACpC,IAAK,CAAE,KAAM,SAAK,KAAM,SAAU,CACtC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,eACP,MAAO,kCACP,IAAK,MACL,MAAO,qBACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,+BACV,KAAM,mBACN,KAAM,mBACN,SAAU,mBACV,KAAM,oBACN,KAAM,oBACN,OAAQ,oBACR,OAAQ,oBACR,OAAQ,+CACR,UAAW,kDACX,YAAa,0BACb,KAAM,qBACN,IAAK,MACL,iBAAkB,cACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EA8DQ,OAAQN,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,oEAAkB,OAAAA,EAAM,SAAQ,sCAAY,OAAAJ,EAAWI,EAAM,KAAK,EAAC,sBAC9E,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,iDAAc,OAAKO,EAAmBP,EAAM,OAAO,CAAC,CAAC,EAAC,0CAC1D,oCAAW,OAAKQ,EAAWR,EAAM,OAAQ,eAAK,EAAC,uDAC1D,IAAK,UAAW,CACZ,IAAMS,EAAMT,EAAM,UAAY,eAAO,eAC/BU,EAASD,IAAQ,eAAO,wCAAY,kCACpCE,EAASlB,EAAUO,EAAM,MAAM,EAC/BY,GAAOjB,EAAAgB,GAAA,YAAAA,EAAQ,OAAR,KAAAhB,EAAgB,eAC7B,OAAIgB,EACO,GAAG,QAAAV,EAAAD,EAAM,SAAN,KAAAC,EAAgB,SAAG,4CAAa,OAAAD,EAAM,QAAQ,SAAS,GAAI,OAAAY,EAAI,KAAI,OAAAH,GAAM,OAAAC,GAChF,GAAG,QAAAR,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAG,4CAAa,OAAAF,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAS,GAAM,OAAAC,EAChF,CACA,IAAK,YAAa,CACd,IAAMD,EAAMT,EAAM,UAAY,eAAO,eAC/BU,EAASD,IAAQ,eAAO,wCAAY,kCACpCE,EAASlB,EAAUO,EAAM,MAAM,EAC/BY,GAAOT,EAAAQ,GAAA,YAAAA,EAAQ,OAAR,KAAAR,EAAgB,eAC7B,OAAIQ,EACO,GAAG,QAAAP,EAAAJ,EAAM,SAAN,KAAAI,EAAgB,SAAG,kDAAc,OAAAJ,EAAM,QAAQ,SAAS,GAAI,OAAAY,EAAI,KAAI,OAAAH,GAAM,OAAAC,GAEjF,GAAG,QAAAL,EAAAL,EAAM,SAAN,KAAAK,EAAgB,SAAG,kDAAc,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAS,GAAM,OAAAC,EACjF,CACA,IAAK,iBAAkB,CACnB,IAAMG,EAASb,EACf,OAAIa,EAAO,SAAW,cACX,2CAAa,OAAAA,EAAO,OAAM,+DAEjCA,EAAO,SAAW,YACX,2CAAa,OAAAA,EAAO,OAAM,yDACjCA,EAAO,SAAW,WACX,2CAAa,OAAAA,EAAO,SAAQ,+DACnCA,EAAO,SAAW,QACX,6DAAgB,OAAAA,EAAO,QAAO,mEAClC,sBAAO,QAAAP,EAAAP,EAAMc,EAAO,MAAM,IAAnB,KAAAP,EAAwBN,EAAM,OAChD,CACA,IAAK,kBACD,MAAO,oCAAW,OAAAA,EAAM,QAAO,sDACnC,IAAK,oBACD,MAAO,kDAAe,OAAKQ,EAAWR,EAAM,KAAM,IAAI,GAC1D,IAAK,cACD,MAAO,8BAAU,OAAAA,EAAM,QAC3B,IAAK,gBACD,MAAO,kCACX,IAAK,kBACD,MAAO,8BAAU,OAAAA,EAAM,QAC3B,QACI,MAAO,iCACf,CACJ,CACJ,EACe,SAARc,IAAoB,CACvB,MAAO,CACH,YAAavB,GAAM,CACvB,CACJ,CCvHA,IAAMwB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,iCAAS,KAAM,6CAAW,EAC1C,KAAM,CAAE,KAAM,iCAAS,KAAM,6CAAW,EACxC,MAAO,CAAE,KAAM,uCAAU,KAAM,6CAAW,EAC1C,IAAK,CAAE,KAAM,uCAAU,KAAM,6CAAW,CAC5C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,2BAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,2BAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,2BACP,MAAO,0FACP,IAAK,MACL,MAAO,iCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,2EACV,KAAM,qCACN,KAAM,qCACN,SAAU,yEACV,KAAM,4CACN,KAAM,4CACN,OAAQ,sCACR,OAAQ,sCACR,OAAQ,+FACR,UAAW,kGACX,YAAa,gCACb,KAAM,iCACN,IAAK,MACL,iBAAkB,0BACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,0HAA2B,OAAAA,EAAM,SAAQ,iDAAa,OAAAJ,EAAWI,EAAM,KAAK,GAEvF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,2BAA2B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACtE,qKAAmC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC/E,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,4IAA8B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,yDAAW,qCAAW,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,oDACzH,4IAA8B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,yDAAW,2CAAY,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7G,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,gIAA4B,OAAAP,EAAM,OAAM,qCAAW,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEhG,gIAA4B,OAAAP,EAAM,OAAM,2CAAY,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC5F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,+LAAyC,OAAAA,EAAO,OAAM,KAE7DA,EAAO,SAAW,YACX,yLAAwC,OAAAA,EAAO,OAAM,KAC5DA,EAAO,SAAW,WACX,4KAAqC,OAAAA,EAAO,SAAQ,KAC3DA,EAAO,SAAW,QACX,mOAA+C,OAAAA,EAAO,SAC1D,WAAW,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACpD,CACA,IAAK,kBACD,MAAO,6KAAsC,OAAAA,EAAM,SACvD,IAAK,oBACD,MAAO,GAAG,OAAAA,EAAM,KAAK,OAAS,EAAI,4HAA0B,oGAAmB,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACxH,IAAK,cACD,MAAO,8EAAkB,OAAAA,EAAM,QACnC,IAAK,gBACD,MAAO,gEACX,IAAK,kBACD,MAAO,sGAAsB,OAAAA,EAAM,QACvC,QACI,MAAO,+DACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCpHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,SAAU,KAAM,WAAY,EAC5C,KAAM,CAAE,KAAM,OAAQ,KAAM,WAAY,EACxC,MAAO,CAAE,KAAM,SAAU,KAAM,WAAY,EAC3C,IAAK,CAAE,KAAM,SAAU,KAAM,WAAY,CAC7C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,eACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,kBACV,KAAM,aACN,KAAM,WACN,SAAU,aACV,KAAM,cACN,KAAM,cACN,OAAQ,aACR,OAAQ,aACR,OAAQ,yBACR,UAAW,4BACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,6BAA6B,OAAAA,EAAM,SAAQ,eAAc,OAAAJ,EAAWI,EAAM,KAAK,GAC1F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,6BAA6B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACxE,mDAAmD,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC/F,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,2BAA2B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,KAAI,OAAAY,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,UAC1H,2BAA2B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,YAAW,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACrG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,2BAA2B,OAAAP,EAAM,OAAM,KAAI,OAAAO,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEvG,2BAA2B,OAAAP,EAAM,OAAM,YAAW,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC1F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,2CAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,YACX,4CAA4C,OAAAA,EAAO,OAAM,KAChEA,EAAO,SAAW,WACX,wCAAwC,OAAAA,EAAO,SAAQ,KAC9DA,EAAO,SAAW,QACX,gDAAgD,OAAAA,EAAO,SAC3D,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,aAClD,CACA,IAAK,kBACD,MAAO,mCAAmC,OAAAA,EAAM,SACpD,IAAK,oBACD,MAAO,yBAAyB,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACpE,IAAK,cACD,MAAO,yBAAyB,OAAAA,EAAM,QAC1C,IAAK,gBACD,MAAO,kBACX,IAAK,kBACD,MAAO,yBAAyB,OAAAA,EAAM,QAC1C,QACI,MAAO,iBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,QAAS,EACzB,KAAM,CAAE,KAAM,OAAQ,EACtB,MAAO,CAAE,KAAM,WAAY,EAC3B,IAAK,CAAE,KAAM,WAAY,CAC7B,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,QAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,SACP,MAAO,aACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,oBACV,KAAM,YACN,KAAM,WACN,SAAU,WACV,KAAM,aACN,KAAM,aACN,OAAQ,cACR,OAAQ,cACR,OAAQ,0BACR,UAAW,8BACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,QACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,8BAA8B,OAAAA,EAAM,SAAQ,cAAa,OAAAJ,EAAWI,EAAM,KAAK,GAC1F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,8BAA8B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACzE,2CAAqC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACjF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yBAAyB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,SAAQ,KAAI,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,YAAW,UACrH,yBAAyB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAQ,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,MAC9F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yBAAyB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,UAE1F,yBAAyB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,MAClF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,8BAA8B,OAAAA,EAAO,OAAM,cAElDA,EAAO,SAAW,YACX,6BAA6B,OAAAA,EAAO,OAAM,cACjDA,EAAO,SAAW,WACX,0BAA0B,OAAAA,EAAO,SAAQ,cAChDA,EAAO,SAAW,QACX,kDAAkD,OAAAA,EAAO,SAC7D,aAAa,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACtD,CACA,IAAK,kBACD,MAAO,yCAAyC,OAAAA,EAAM,QAAO,SACjE,IAAK,oBACD,MAAO,gBAAgB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAChG,IAAK,cACD,MAAO,oBAAoB,OAAAA,EAAM,QACrC,IAAK,gBACD,MAAO,mBACX,IAAK,kBACD,MAAO,uBAAuB,OAAAA,EAAM,QACxC,QACI,MAAO,kBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,OAAQ,KAAM,SAAO,EACrC,KAAM,CAAE,KAAM,QAAS,KAAM,SAAO,EACpC,MAAO,CAAE,KAAM,YAAa,KAAM,gBAAc,EAChD,IAAK,CAAE,KAAM,YAAa,KAAM,gBAAc,CAClD,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,OAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,gBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,2BACV,KAAM,WACN,KAAM,kBACN,SAAU,eACV,KAAM,iBACN,KAAM,iBACN,OAAQ,eACR,OAAQ,eACR,OAAQ,wBACR,UAAW,2BACX,YAAa,cACb,KAAM,eACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,4BAA4B,OAAAA,EAAM,SAAQ,WAAU,OAAAJ,EAAWI,EAAM,KAAK,GACrF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,4BAA4B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACvE,iCAAiC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC7E,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,0BAA0B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,iBAAa,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,aACnH,0BAA0B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,iBAAa,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACtG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,0BAA0B,OAAAP,EAAM,OAAM,iBAAa,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEhG,0BAA0B,OAAAP,EAAM,OAAM,iBAAa,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC3F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,qCAAkC,OAAAA,EAAO,OAAM,KACtDA,EAAO,SAAW,YACX,mCAAgC,OAAAA,EAAO,OAAM,KACpDA,EAAO,SAAW,WACX,oCAAiC,OAAAA,EAAO,SAAQ,KACvDA,EAAO,SAAW,QACX,6CAAuC,OAAAA,EAAO,SAClD,WAAW,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACpD,CACA,IAAK,kBACD,MAAO,+CAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,GAAG,OAAAA,EAAM,KAAK,OAAS,EAAI,oBAAmB,mBAAe,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC7G,IAAK,cACD,MAAO,uBAAoB,OAAAA,EAAM,QACrC,IAAK,gBACD,MAAO,gBACX,IAAK,kBACD,MAAO,mBAAmB,OAAAA,EAAM,QACpC,QACI,MAAO,eACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,OAAQ,KAAM,qBAAY,EAC1C,KAAM,CAAE,KAAM,OAAQ,KAAM,qBAAY,EACxC,MAAO,CAAE,KAAM,QAAS,KAAM,qBAAY,EAC1C,IAAK,CAAE,KAAM,QAAS,KAAM,qBAAY,CAC5C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,MAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,QACP,MAAO,eACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,sBACV,KAAM,aACN,KAAM,kBACN,SAAU,iBACV,KAAM,2BACN,KAAM,2BACN,OAAQ,eACR,OAAQ,eACR,OAAQ,4BACR,UAAW,+BACX,YAAa,aACb,KAAM,yBACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,0BAAuB,OAAAA,EAAM,SAAQ,kBAAY,OAAAJ,EAAWI,EAAM,KAAK,GAElF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,0BAAuB,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAClE,kCAA4B,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACxE,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sBAAgB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,MAAK,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,WAAU,+BAC3G,sBAAgB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,MAAK,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,wBACrF,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,yBAAgB,OAAAP,EAAM,OAAM,MAAK,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,+BAElF,yBAAgB,OAAAP,EAAM,OAAM,MAAK,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,wBAC1E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,oBAAiB,OAAAA,EAAO,OAAM,8BACrCA,EAAO,SAAW,YACX,oBAAiB,OAAAA,EAAO,OAAM,kBACrCA,EAAO,SAAW,WACX,oBAAiB,OAAAA,EAAO,SAAQ,uBACvCA,EAAO,SAAW,QACX,mBAAgB,OAAAA,EAAO,QAAO,mCAClC,YAAS,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAClD,CACA,IAAK,kBACD,MAAO,uBAAe,OAAAA,EAAM,QAAO,mCACvC,IAAK,oBACD,MAAO,2BAAsB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACtG,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,yCAC1B,IAAK,gBACD,MAAO,8BACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,6CAC1B,QACI,MAAO,mCACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,2BAAQ,KAAM,0BAAO,EACrC,KAAM,CAAE,KAAM,iCAAS,KAAM,0BAAO,EACpC,MAAO,CAAE,KAAM,2BAAQ,KAAM,0BAAO,EACpC,IAAK,CAAE,KAAM,2BAAQ,KAAM,0BAAO,CACtC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,qBAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,qBAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,iCACP,MAAO,yDACP,IAAK,yCACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,2DACV,KAAM,2BACN,KAAM,qBACN,SAAU,2BACV,KAAM,iCACN,KAAM,iCACN,OAAQ,uCACR,OAAQ,uCACR,OAAQ,oCACR,UAAW,uCACX,YAAa,0BACb,KAAM,8CACN,IAAK,MACL,iBAAkB,gCACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,qFAAoB,OAAAA,EAAM,SAAQ,4CAAa,OAAAJ,EAAWI,EAAM,KAAK,EAAC,sDACjF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,qFAAoB,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,EAAC,uBAEhE,qHAA2B,OAAKK,EAAWL,EAAM,OAAQ,GAAG,EAAC,0CACxE,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,0CAAY,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,iCAAO,8BAAS,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,6CAAS,6BAE1G,0CAAY,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,iCAAO,8BAAS,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,gBACrF,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sDAAc,OAAAP,EAAM,OAAM,8BAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,6BAEpF,sDAAc,OAAAP,EAAM,OAAM,8BAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,gBAC5E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,iFAAqB,OAAAA,EAAO,OAAM,wDAEzCA,EAAO,SAAW,YACX,iFAAqB,OAAAA,EAAO,OAAM,6FAEzCA,EAAO,SAAW,WACX,0EAAmB,OAAAA,EAAO,SAAQ,8BAEzCA,EAAO,SAAW,QACX,gFAAoB,OAAAA,EAAO,QAAO,qFAEtC,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,yCAClD,CACA,IAAK,kBACD,MAAO,gFAAoB,OAAAA,EAAM,QAAO,0CAC5C,IAAK,oBACD,MAAO,4BAAQ,OAAAA,EAAM,KAAK,OAAS,EAAI,6CAAY,2BAAM,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAClG,IAAK,cACD,MAAO,kEAAgB,OAAAA,EAAM,OAAM,iBACvC,IAAK,gBACD,MAAO,gEACX,IAAK,kBACD,MAAO,kEAAgB,OAAAA,EAAM,OAAM,iBACvC,QACI,MAAO,+DACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCxHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,YAAU,KAAM,WAAO,EACvC,KAAM,CAAE,KAAM,YAAU,KAAM,WAAO,EACrC,MAAO,CAAE,KAAM,eAAa,KAAM,WAAO,EACzC,IAAK,CAAE,KAAM,eAAa,KAAM,WAAO,CAC3C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,UAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,iBACP,MAAO,cACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,gCACV,KAAM,sBACN,KAAM,yBACN,SAAU,mBACV,KAAM,aACN,KAAM,aACN,OAAQ,cACR,OAAQ,cACR,OAAQ,mDACR,UAAW,sDACX,YAAa,sCACb,KAAM,eACN,IAAK,MACL,iBAAkB,cACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EA8DQ,OAAQN,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,sDAA4C,OAAAA,EAAM,SAAQ,gBAAe,OAAAJ,EAAWI,EAAM,KAAK,GAC1G,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,sDAA4C,OAAKO,EAAmBP,EAAM,OAAO,CAAC,CAAC,GACvF,+DAAqD,OAAKQ,EAAWR,EAAM,OAAQ,GAAG,GACjG,IAAK,UAAW,CACZ,IAAMS,EAAMT,EAAM,UAAY,KAAO,IAC/BU,EAASjB,EAAUO,EAAM,MAAM,EACrC,OAAIU,EACO,uDAAmC,QAAAf,EAAAK,EAAM,SAAN,KAAAL,EAAgB,oBAAS,2BAAgB,OAAAc,GAAM,OAAAT,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAS,EAAO,OAAP,KAAAT,EAAe,gBAEjI,6CAAmC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,oBAAS,8BAAmB,OAAAO,GAAM,OAAAT,EAAM,QAAQ,SAAS,EACvH,CACA,IAAK,YAAa,CACd,IAAMS,EAAMT,EAAM,UAAY,KAAO,IAC/BU,EAASjB,EAAUO,EAAM,MAAM,EACrC,OAAIU,EACO,uDAAmC,QAAAP,EAAAH,EAAM,SAAN,KAAAG,EAAgB,oBAAS,2BAAgB,OAAAM,GAAM,OAAAT,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAI,EAAAM,EAAO,OAAP,KAAAN,EAAe,gBAEjI,6CAAmC,QAAAC,EAAAL,EAAM,SAAN,KAAAK,EAAgB,oBAAS,8BAAmB,OAAAI,GAAM,OAAAT,EAAM,QAAQ,SAAS,EACvH,CACA,IAAK,iBAAkB,CACnB,IAAMW,EAASX,EACf,OAAIW,EAAO,SAAW,cACX,2EAAoD,OAAAA,EAAO,OAAM,KACxEA,EAAO,SAAW,YACX,+EAAmD,OAAAA,EAAO,OAAM,KACvEA,EAAO,SAAW,WACX,+DAA6C,OAAAA,EAAO,SAAQ,KACnEA,EAAO,SAAW,QACX,yEAAuD,OAAAA,EAAO,SAClE,4BAAuB,QAAAL,EAAAP,EAAMY,EAAO,MAAM,IAAnB,KAAAL,EAAwBN,EAAM,OAChE,CACA,IAAK,kBACD,MAAO,sEAAkD,OAAAA,EAAM,SACnE,IAAK,oBACD,MAAO,uBAAuB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKQ,EAAWR,EAAM,KAAM,IAAI,GACvG,IAAK,cACD,MAAO,8BAAyB,OAAAA,EAAM,QAC1C,IAAK,gBACD,MAAO,yCACX,IAAK,kBACD,MAAO,0CAA2B,OAAAA,EAAM,QAC5C,QACI,MAAO,wCACf,CACJ,CACJ,EACe,SAARY,IAAoB,CACvB,MAAO,CACH,YAAarB,GAAM,CACvB,CACJ,CCnHA,IAAMsB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,aAAc,KAAM,KAAM,EAC1C,KAAM,CAAE,KAAM,QAAS,KAAM,KAAM,EACnC,MAAO,CAAE,KAAM,QAAS,KAAM,KAAM,EACpC,IAAK,CAAE,KAAM,QAAS,KAAM,KAAM,CACtC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,YAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,YACP,MAAO,wBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,kBACV,KAAM,WACN,KAAM,WACN,SAAU,oBACV,KAAM,mBACN,KAAM,mBACN,OAAQ,gBACR,OAAQ,gBACR,OAAQ,6BACR,UAAW,2BACX,YAAa,aACb,KAAM,kBACN,IAAK,MACL,iBAAkB,SACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,8BAA2B,OAAAA,EAAM,SAAQ,eAAc,OAAAJ,EAAWI,EAAM,KAAK,GACxF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,iCAA8B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACzE,6CAAoC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAChF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8BAA8B,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,QAAO,aAAY,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,aACtH,8BAA8B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,QAAO,WAAU,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACvG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,+BAA+B,OAAAP,EAAM,OAAM,aAAY,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEpG,+BAA+B,OAAAP,EAAM,OAAM,WAAU,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,2CAAqC,OAAAA,EAAO,OAAM,KACzDA,EAAO,SAAW,YACX,yCAAsC,OAAAA,EAAO,OAAM,KAC1DA,EAAO,SAAW,WACX,oCAAiC,OAAAA,EAAO,SAAQ,KACvDA,EAAO,SAAW,QACX,qDAA+C,OAAAA,EAAO,SAC1D,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,eAClD,CACA,IAAK,kBACD,MAAO,kDAAyC,OAAAA,EAAM,SAC1D,IAAK,oBACD,MAAO,QAAQ,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,iBAAgB,OAAAA,EAAM,KAAK,OAAS,EAAI,IAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACxI,IAAK,cACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,sBACX,IAAK,kBACD,MAAO,wBAAqB,OAAAA,EAAM,QACtC,QACI,MAAO,mBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,SAASmB,GAAiBC,EAAOC,EAAKC,EAAKC,EAAM,CAC7C,IAAMC,EAAW,KAAK,IAAIJ,CAAK,EACzBK,EAAYD,EAAW,GACvBE,EAAgBF,EAAW,IACjC,OAAIE,GAAiB,IAAMA,GAAiB,GACjCH,EAEPE,IAAc,EACPJ,EAEPI,GAAa,GAAKA,GAAa,EACxBH,EAEJC,CACX,CACA,IAAMI,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CACJ,KAAM,CACF,IAAK,uCACL,IAAK,6CACL,KAAM,kDACV,EACA,KAAM,gCACV,EACA,KAAM,CACF,KAAM,CACF,IAAK,2BACL,IAAK,iCACL,KAAM,0BACV,EACA,KAAM,gCACV,EACA,MAAO,CACH,KAAM,CACF,IAAK,6CACL,IAAK,mDACL,KAAM,wDACV,EACA,KAAM,gCACV,EACA,IAAK,CACD,KAAM,CACF,IAAK,6CACL,IAAK,mDACL,KAAM,wDACV,EACA,KAAM,gCACV,CACJ,EACA,SAASC,EAAUC,EAAQ,CAnD/B,IAAAC,EAoDQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,iCAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,uCAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,2BACP,MAAO,uCACP,IAAK,MACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,qEACV,KAAM,+BACN,KAAM,qCACN,SAAU,+EACV,KAAM,sCACN,KAAM,sCACN,OAAQ,wDACR,OAAQ,wDACR,OAAQ,gGACR,UAAW,mGACX,YAAa,4CACb,KAAM,uCACN,IAAK,MACL,iBAAkB,0BACtB,EACA,OAAQC,GAAU,CAxGtB,IAAAL,EAAAM,EAAAC,EAyGQ,OAAQF,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,qIAA4B,OAAAA,EAAM,SAAQ,uDAAc,OAAAJ,EAAWI,EAAM,KAAK,GACzF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,qIAA4B,OAAKG,EAAmBH,EAAM,OAAO,CAAC,CAAC,GACvE,6LAAuC,OAAKI,EAAWJ,EAAM,OAAQ,GAAG,GACnF,IAAK,UAAW,CACZ,IAAMK,EAAML,EAAM,UAAY,KAAO,IAC/BM,EAASb,EAAUO,EAAM,MAAM,EACrC,GAAIM,EAAQ,CACR,IAAMC,EAAW,OAAOP,EAAM,OAAO,EAC/BQ,EAAOzB,GAAiBwB,EAAUD,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAI,EAC1F,MAAO,sNAA4C,QAAAX,EAAAK,EAAM,SAAN,KAAAL,EAAgB,mDAAU,mEAAgB,OAAAU,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAQ,EACnI,CACA,MAAO,sNAA4C,QAAAP,EAAAD,EAAM,SAAN,KAAAC,EAAgB,mDAAU,oCAAU,OAAAI,GAAM,OAAAL,EAAM,QAAQ,SAAS,EACxH,CACA,IAAK,YAAa,CACd,IAAMK,EAAML,EAAM,UAAY,KAAO,IAC/BM,EAASb,EAAUO,EAAM,MAAM,EACrC,GAAIM,EAAQ,CACR,IAAMG,EAAW,OAAOT,EAAM,OAAO,EAC/BQ,EAAOzB,GAAiB0B,EAAUH,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAKA,EAAO,KAAK,IAAI,EAC1F,MAAO,kOAA8C,OAAAN,EAAM,OAAM,mEAAgB,OAAAK,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAQ,EACvH,CACA,MAAO,kOAA8C,OAAAR,EAAM,OAAM,oCAAU,OAAAK,GAAM,OAAAL,EAAM,QAAQ,SAAS,EAC5G,CACA,IAAK,iBAAkB,CACnB,IAAMU,EAASV,EACf,OAAIU,EAAO,SAAW,cACX,oMAAyC,OAAAA,EAAO,OAAM,KAC7DA,EAAO,SAAW,YACX,4NAA6C,OAAAA,EAAO,OAAM,KACjEA,EAAO,SAAW,WACX,uLAAsC,OAAAA,EAAO,SAAQ,KAC5DA,EAAO,SAAW,QACX,qQAAmD,OAAAA,EAAO,SAC9D,oDAAY,QAAAR,EAAAH,EAAMW,EAAO,MAAM,IAAnB,KAAAR,EAAwBF,EAAM,OACrD,CACA,IAAK,kBACD,MAAO,6LAAuC,OAAAA,EAAM,SACxD,IAAK,oBACD,MAAO,2EAAe,OAAAA,EAAM,KAAK,OAAS,EAAI,eAAO,eAAI,6BAAQ,OAAAA,EAAM,KAAK,OAAS,EAAI,SAAM,GAAE,MAAK,OAAKI,EAAWJ,EAAM,KAAM,IAAI,GAC1I,IAAK,cACD,MAAO,oFAAmB,OAAAA,EAAM,QACpC,IAAK,gBACD,MAAO,mIACX,IAAK,kBACD,MAAO,4GAAuB,OAAAA,EAAM,QACxC,QACI,MAAO,kIACf,CACJ,CACJ,EACe,SAARW,IAAoB,CACvB,MAAO,CACH,YAAapB,GAAM,CACvB,CACJ,CClKA,IAAMqB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,SAAU,KAAM,OAAQ,EACxC,KAAM,CAAE,KAAM,SAAU,KAAM,OAAQ,EACtC,MAAO,CAAE,KAAM,YAAa,KAAM,OAAQ,EAC1C,IAAK,CAAE,KAAM,YAAa,KAAM,OAAQ,CAC5C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,eAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,SAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,OACP,MAAO,uBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,wBACV,KAAM,YACN,KAAM,eACN,SAAU,eACV,KAAM,cACN,KAAM,cACN,OAAQ,aACR,OAAQ,aACR,OAAQ,qBACR,UAAW,wBACX,YAAa,WACb,KAAM,sBACN,IAAK,MACL,iBAAkB,MACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,qCAAgC,OAAAA,EAAM,SAAQ,cAAa,OAAAJ,EAAWI,EAAM,KAAK,GAC5F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,qCAAgC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC3E,uDAA6C,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACzF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sCAAiC,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,WAAU,WAAU,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,aAC1H,sCAAiC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,WAAU,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACvG,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sCAAiC,OAAAP,EAAM,OAAM,WAAU,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEpG,sCAAiC,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACzF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,0CAAqC,OAAAA,EAAO,OAAM,KAEzDA,EAAO,SAAW,YACX,2CAAsC,OAAAA,EAAO,OAAM,KAC1DA,EAAO,SAAW,WACX,mCAAmC,OAAAA,EAAO,SAAQ,KACzDA,EAAO,SAAW,QACX,yCAAyC,OAAAA,EAAO,SACpD,cAAc,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACvD,CACA,IAAK,kBACD,MAAO,sDAA4C,OAAAA,EAAM,SAC7D,IAAK,oBACD,MAAO,cAAc,OAAAA,EAAM,KAAK,OAAS,EAAI,gBAAa,cAAQ,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC3G,IAAK,cACD,MAAO,2BAAsB,OAAAA,EAAM,QACvC,IAAK,gBACD,MAAO,kBACX,IAAK,kBACD,MAAO,yBAAyB,OAAAA,EAAM,QAC1C,QACI,MAAO,iBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,SAAU,KAAM,QAAS,EACzC,KAAM,CAAE,KAAM,QAAS,KAAM,QAAS,EACtC,MAAO,CAAE,KAAM,SAAU,KAAM,kBAAgB,EAC/C,IAAK,CAAE,KAAM,SAAU,KAAM,kBAAgB,CACjD,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,QAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,uBACP,MAAO,eACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,oBACV,KAAM,YACN,KAAM,UACN,SAAU,kBACV,KAAM,iBACN,KAAM,iBACN,OAAQ,gBACR,OAAQ,gBACR,OAAQ,yBACR,UAAW,4BACX,YAAa,iBACb,KAAM,eACN,IAAK,MACL,iBAAkB,cACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EA8DQ,OAAQP,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,sCAAgC,OAAAA,EAAM,SAAQ,WAAU,OAAAJ,EAAWI,EAAM,KAAK,GACzF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,sCAAgC,OAAKQ,EAAmBR,EAAM,OAAO,CAAC,CAAC,GAC3E,wCAAkC,OAAKS,EAAWT,EAAM,OAAQ,GAAG,GAC9E,IAAK,UAAW,CACZ,IAAMU,EAAMV,EAAM,UAAY,KAAO,IAC/BW,EAASlB,EAAUO,EAAM,MAAM,EACrC,OAAIW,EACO,oCAA2B,QAAAhB,EAAAK,EAAM,SAAN,KAAAL,EAAgB,YAAQ,YAAW,OAAAe,GAAM,OAAAV,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAU,EAAO,OAAP,KAAAV,EAAe,WAEnH,mCAA0B,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,YAAQ,YAAW,OAAAQ,GAAM,OAAAV,EAAM,QAAQ,SAAS,EACrG,CACA,IAAK,YAAa,CACd,IAAMU,EAAMV,EAAM,UAAY,KAAO,IAC/BW,EAASlB,EAAUO,EAAM,MAAM,EACrC,OAAIW,EACO,oCAA2B,QAAAR,EAAAH,EAAM,SAAN,KAAAG,EAAgB,YAAQ,YAAW,OAAAO,GAAM,OAAAV,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAW,EAAO,MAE3G,oCAA2B,QAAAP,EAAAJ,EAAM,SAAN,KAAAI,EAAgB,YAAQ,YAAW,OAAAM,GAAM,OAAAV,EAAM,QAAQ,SAAS,EACtG,CACA,IAAK,iBAAkB,CACnB,IAAMY,EAASZ,EACf,OAAIY,EAAO,SAAW,cACX,6CAAoC,OAAAA,EAAO,OAAM,KAExDA,EAAO,SAAW,YACX,0CAAoC,OAAAA,EAAO,OAAM,KACxDA,EAAO,SAAW,WACX,6CAAoC,OAAAA,EAAO,SAAQ,KAC1DA,EAAO,SAAW,QACX,mDAA0C,OAAAA,EAAO,QAAO,KAC5D,cAAc,QAAAP,EAAAN,EAAMa,EAAO,MAAM,IAAnB,KAAAP,EAAwBL,EAAM,OACvD,CACA,IAAK,kBACD,MAAO,8CAA2C,OAAAA,EAAM,SAC5D,IAAK,oBACD,MAAO,GAAG,OAAAA,EAAM,KAAK,OAAS,EAAI,oBAAmB,kBAAc,MAAK,OAAKS,EAAWT,EAAM,KAAM,IAAI,GAC5G,IAAK,cACD,MAAO,oBAAoB,QAAAM,EAAAN,EAAM,SAAN,KAAAM,EAAgB,aAC/C,IAAK,gBACD,MAAO,gBACX,IAAK,kBACD,MAAO,uBAAoB,QAAAC,EAAAP,EAAM,SAAN,KAAAO,EAAgB,aAC/C,QACI,MAAO,eACf,CACJ,CACJ,EACe,SAARM,IAAoB,CACvB,MAAO,CACH,YAAatB,GAAM,CACvB,CACJ,CCpHA,IAAMuB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,2EAAgB,KAAM,qHAAuB,EAC7D,KAAM,CAAE,KAAM,yDAAa,KAAM,qHAAuB,EACxD,MAAO,CAAE,KAAM,+DAAc,KAAM,qHAAuB,EAC1D,IAAK,CAAE,KAAM,+DAAc,KAAM,qHAAuB,CAC5D,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,sEAAiB,qBAEjD,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,qBAEX,GAAIA,IAAS,KACT,MAAO,uCAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,6CACP,MAAO,oGACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,8DACV,KAAM,+BACN,KAAM,qCACN,SAAU,kDACV,KAAM,4CACN,KAAM,4CACN,OAAQ,4CACR,OAAQ,4CACR,OAAQ,0CACR,UAAW,6CACX,YAAa,gCACb,KAAM,2BACN,IAAK,MACL,iBAAkB,OACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,uMAAuC,OAAAA,EAAM,SAAQ,yEAAiB,OAAAJ,EAAWI,EAAM,KAAK,GACvG,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,uMAAuC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAClF,mNAAyC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,EAAC,sDACtF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,2LAAqC,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,6CAAS,KAAI,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,+DAAY,uGAEnI,2LAAqC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,6CAAS,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,sGAC3G,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,uMAAuC,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,uGAExG,uMAAuC,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,sGAChG,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,6DAAgB,OAAAA,EAAO,OAAM,8GACpCA,EAAO,SAAW,YACX,6DAAgB,OAAAA,EAAO,OAAM,0HACpCA,EAAO,SAAW,WACX,6DAAgB,OAAAA,EAAO,SAAQ,8GACtCA,EAAO,SAAW,QACX,4DAAe,OAAAA,EAAO,QAAO,+KACjC,kCAAS,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAClD,CACA,IAAK,kBACD,MAAO,sDAAc,OAAAA,EAAM,QAAO,4IACtC,IAAK,oBACD,MAAO,uHAAwB,OAAAA,EAAM,KAAK,OAAS,EAAI,qBAAQ,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC1G,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,+EAC1B,IAAK,gBACD,MAAO,4EACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,iGAC1B,QACI,MAAO,2EACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,mDAAY,KAAM,gCAAQ,EAC1C,KAAM,CAAE,KAAM,2BAAQ,KAAM,gCAAQ,EACpC,MAAO,CAAE,KAAM,uCAAU,KAAM,gCAAQ,EACvC,IAAK,CAAE,KAAM,uCAAU,KAAM,gCAAQ,CACzC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,iFAAuB,uCAEvD,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,2DAEX,GAAIA,IAAS,KACT,MAAO,0DAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,iFACP,MAAO,2EACP,IAAK,MACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,qFACV,KAAM,6DACN,KAAM,iDACN,SAAU,yEACV,KAAM,kDACN,KAAM,kDACN,OAAQ,sDACR,OAAQ,sDACR,OAAQ,sEACR,UAAW,+GACX,YAAa,oEACb,KAAM,uKACN,IAAK,qCACL,iBAAkB,gFACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,oLAAmC,OAAAA,EAAM,SAAQ,4DAAc,OAAAJ,EAAWI,EAAM,KAAK,GAChG,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,8HAA0B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACrE,sMAAsC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAClF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,6CAAY,mDACpCO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,2DAAc,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,qBAAK,mCAAS,OAAAW,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,wCAClG,2DAAc,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,qBAAK,mCAAS,OAAAI,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EACrF,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,yDAAc,6CACtCO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,mFAAkB,OAAAP,EAAM,OAAM,mCAAS,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAErF,mFAAkB,OAAAP,EAAM,OAAM,mCAAS,OAAAM,EAAG,KAAI,OAAAN,EAAM,QAAQ,SAAS,EAChF,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,2OAA6C,OAAAA,EAAO,OAAM,KAEjEA,EAAO,SAAW,YACX,qOAA4C,OAAAA,EAAO,OAAM,KAChEA,EAAO,SAAW,WACX,qLAAoC,OAAAA,EAAO,SAAQ,oFAC1DA,EAAO,SAAW,QACX,sPAA8C,OAAAA,EAAO,SACzD,qGAAqB,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAC9D,CACA,IAAK,kBACD,MAAO,gPAA6C,OAAAA,EAAM,QAAO,qDACrE,IAAK,oBACD,MAAO,iHAAuB,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAClE,IAAK,cACD,MAAO,oGAAoB,OAAAA,EAAM,QACrC,IAAK,gBACD,MAAO,2SACX,IAAK,kBACD,MAAO,gHAAsB,OAAAA,EAAM,QACvC,QACI,MAAO,kGACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHO,IAAMmB,GAAcC,GAAS,CAChC,IAAM,EAAI,OAAOA,EACjB,OAAQ,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMA,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAO,CACX,EACMC,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,WAAY,KAAM,aAAS,EAC3C,KAAM,CAAE,KAAM,OAAQ,KAAM,aAAS,EACrC,MAAO,CAAE,KAAM,cAAO,KAAM,aAAS,EACrC,IAAK,CAAE,KAAM,cAAO,KAAM,aAAS,CACvC,EACA,SAASC,EAAUC,EAAQ,CA5B/B,IAAAC,EA6BQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAQ,CACV,MAAO,QACP,MAAO,iBACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,oBACV,KAAM,YACN,KAAM,WACN,SAAU,cACV,KAAM,cACN,KAAM,cACN,OAAQ,8BACR,OAAQ,8BACR,OAAQ,yCACR,UAAW,4CACX,YAAa,cACb,KAAM,yBACN,IAAK,MACL,iBAAkB,oBACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAF,EAAAG,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,oCAA4B,OAAAA,EAAM,SAAQ,kBAAY,OAAAR,GAAWQ,EAAM,KAAK,GACvF,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,oCAA4B,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACvE,4EAAkD,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC9F,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,gCAAuB,QAAAT,EAAAE,EAAM,SAAN,KAAAF,EAAgB,aAAO,KAAI,OAAAQ,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,eACvG,gCAAuB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,aAAO,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC1F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASX,EAAUI,EAAM,MAAM,EACrC,OAAIO,EACO,mCAAuB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MACpF,mCAAuB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC/E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,uBAAoB,OAAAA,EAAO,OAAM,6BACxCA,EAAO,SAAW,YACX,uBAAoB,OAAAA,EAAO,OAAM,iBACxCA,EAAO,SAAW,WACX,uBAAoB,OAAAA,EAAO,SAAQ,iBAC1CA,EAAO,SAAW,QACX,sBAAmB,OAAAA,EAAO,QAAO,yBACrC,eAAY,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACrD,CACA,IAAK,kBACD,MAAO,0BAAkB,OAAAA,EAAM,QAAO,gCAC1C,IAAK,oBACD,MAAO,0BAAqB,OAAAA,EAAM,KAAK,OAAS,EAAI,MAAQ,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACvG,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,kCAC1B,IAAK,gBACD,MAAO,yBACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,qCAC1B,QACI,MAAO,wBACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAaf,GAAM,CACvB,CACJ,CCjHA,IAAMgB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,mDAAY,KAAM,sCAAS,EAC3C,KAAM,CAAE,KAAM,uCAAU,KAAM,sCAAS,EACvC,MAAO,CAAE,KAAM,yDAAa,KAAM,sCAAS,EAC3C,IAAK,CAAE,KAAM,yDAAa,KAAM,sCAAS,CAC7C,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,iCAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,iCAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,gEACP,MAAO,yIACP,IAAK,MACL,MAAO,uCACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,+DACV,KAAM,+BACN,KAAM,yBACN,SAAU,mEACV,KAAM,4CACN,KAAM,4CACN,OAAQ,wDACR,OAAQ,wDACR,OAAQ,sGACR,UAAW,yGACX,YAAa,sCACb,KAAM,uCACN,IAAK,MACL,iBAAkB,+DACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,kMAAuC,OAAAA,EAAM,SAAQ,uDAAc,OAAAJ,EAAWI,EAAM,KAAK,GAEpG,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,kMAAuC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAClF,mMAAwC,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACpF,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,+JAAkC,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,mDAAU,KAAI,OAAAY,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,0DACpI,+JAAkC,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,mDAAU,8BAAS,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7G,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,mJAAgC,OAAAP,EAAM,OAAM,KAAI,OAAAO,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAE5G,mJAAgC,OAAAP,EAAM,OAAM,8BAAS,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7F,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,4NAA6C,OAAAA,EAAO,OAAM,KACjEA,EAAO,SAAW,YACX,oPAAiD,OAAAA,EAAO,OAAM,KACrEA,EAAO,SAAW,WACX,mMAAwC,OAAAA,EAAO,SAAQ,KAC9DA,EAAO,SAAW,QACX,qQAAmD,OAAAA,EAAO,SAC9D,4EAAgB,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OACzD,CACA,IAAK,kBACD,MAAO,qNAA2C,OAAAA,EAAM,SAC5D,IAAK,oBACD,MAAO,0GAAqB,OAAAA,EAAM,KAAK,OAAS,EAAI,SAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACrG,IAAK,cACD,MAAO,4GAAuB,OAAAA,EAAM,QACxC,IAAK,gBACD,MAAO,mIACX,IAAK,kBACD,MAAO,8HAA0B,OAAAA,EAAM,QAC3C,QACI,MAAO,kIACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,2BAAQ,KAAM,0BAAO,EACrC,KAAM,CAAE,KAAM,iCAAS,KAAM,0BAAO,EACpC,MAAO,CAAE,KAAM,iCAAS,KAAM,0BAAO,EACrC,IAAK,CAAE,KAAM,iCAAS,KAAM,0BAAO,CACvC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,2BAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,qBAEX,GAAIA,IAAS,KACT,MAAO,eAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,4BACP,MAAO,uEACP,IAAK,+CACL,MAAO,uCACP,KAAM,4DACN,OAAQ,2EACR,OAAQ,2EACR,OAAQ,2DACR,KAAM,4DACN,KAAM,4DACN,MAAO,8DACP,KAAM,kEACN,IAAK,2DACL,MAAO,+EACP,SAAU,iGACV,KAAM,oFACN,KAAM,wEACN,SAAU,wEACV,KAAM,sFACN,KAAM,sFACN,OAAQ,0EACR,OAAQ,0EACR,OAAQ,6FACR,UAAW,0IACX,YAAa,iGACb,KAAM,4CACN,IAAK,2DACL,iBAAkB,2BACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,iDAAc,OAAAA,EAAM,SAAQ,6DAAe,OAAAJ,EAAWI,EAAM,KAAK,EAAC,sDAC7E,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,iDAAc,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,EAAC,sDAC1D,gDAAa,OAAKK,EAAWL,EAAM,OAAQ,GAAG,EAAC,yGAC1D,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,0CAAY,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,iCAAO,kBAAO,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,iCAAO,+EACtG,0CAAY,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,iCAAO,kBAAO,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,8EACnF,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,sDAAc,OAAAP,EAAM,OAAM,kBAAO,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,KAAI,+EAElF,sDAAc,OAAAP,EAAM,OAAM,kBAAO,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,8EAC1E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,uDAAe,OAAAA,EAAO,OAAM,mGAEnCA,EAAO,SAAW,YACX,uDAAe,OAAAA,EAAO,OAAM,6FACnCA,EAAO,SAAW,WACX,uDAAe,OAAAA,EAAO,SAAQ,sFACrCA,EAAO,SAAW,QACX,qFAAoB,OAAAA,EAAO,QAAO,4FACtC,sBAAO,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAChD,CACA,IAAK,kBACD,MAAO,gDAAa,OAAAA,EAAM,QAAO,wGACrC,IAAK,oBACD,MAAO,oFAAmB,OAAAA,EAAM,KAAK,OAAS,EAAI,SAAM,GAAE,MAAK,OAAKK,EAAWL,EAAM,KAAM,SAAI,GACnG,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,uDAC1B,IAAK,gBACD,MAAO,+CACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,yEAC1B,QACI,MAAO,8CACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,gBAAS,KAAM,OAAK,EACpC,KAAM,CAAE,KAAM,OAAQ,KAAM,OAAK,EACjC,MAAO,CAAE,KAAM,oBAAW,KAAM,OAAK,EACrC,IAAK,CAAE,KAAM,oBAAW,KAAM,OAAK,CACvC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,UAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,YAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,uBACP,MAAO,+BACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,uBACV,KAAM,cACN,KAAM,eACN,SAAU,iCACV,KAAM,8BACN,KAAM,8BACN,OAAQ,gBACR,OAAQ,gBACR,OAAQ,iCACR,UAAW,oCACX,YAAa,kBACb,KAAM,gBACN,IAAK,MACL,iBAAkB,sBACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,sEAAkC,OAAAA,EAAM,SAAQ,oCAAe,OAAAJ,EAAWI,EAAM,KAAK,GAChG,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,sEAAkC,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GAC7E,wGAAyD,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GACrG,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,uCAAqB,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,kBAAS,KAAI,OAAAY,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,qBACtH,uCAAqB,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,kBAAS,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC1F,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,uCAAqB,OAAAP,EAAM,OAAM,KAAI,OAAAO,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAEjG,uCAAqB,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7E,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,qFAA0C,OAAAA,EAAO,OAAM,KAC9DA,EAAO,SAAW,YACX,+EAA2C,OAAAA,EAAO,OAAM,KAC/DA,EAAO,SAAW,WACX,iEAAqC,OAAAA,EAAO,SAAQ,KAC3DA,EAAO,SAAW,QACX,+EAAyC,OAAAA,EAAO,SACpD,GAAG,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAAM,6BAClD,CACA,IAAK,kBACD,MAAO,gFAAuC,OAAAA,EAAM,SACxD,IAAK,oBACD,MAAO,6DAA8B,OAAKK,EAAWL,EAAM,KAAM,IAAI,GACzE,IAAK,cACD,MAAO,2CAA2B,OAAAA,EAAM,QAC5C,IAAK,gBACD,MAAO,iDACX,IAAK,kBACD,MAAO,mDAA8B,OAAAA,EAAM,QAC/C,QACI,MAAO,gDACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,eAAM,KAAM,cAAK,EACjC,KAAM,CAAE,KAAM,eAAM,KAAM,cAAK,EAC/B,MAAO,CAAE,KAAM,SAAK,KAAM,cAAK,EAC/B,IAAK,CAAE,KAAM,SAAK,KAAM,cAAK,CACjC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,0BAAa,eAE7C,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,eAEX,GAAIA,IAAS,KACT,MAAO,qBAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,eACP,MAAO,2BACP,IAAK,MACL,MAAO,2BACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,8BACV,KAAM,kBACN,KAAM,kBACN,SAAU,kBACV,KAAM,mBACN,KAAM,mBACN,OAAQ,mBACR,OAAQ,mBACR,OAAQ,uCACR,UAAW,0CACX,YAAa,yBACb,KAAM,oBACN,IAAK,MACL,iBAAkB,cACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,8CAAW,OAAAA,EAAM,SAAQ,mCAAS,OAAAJ,EAAWI,EAAM,KAAK,GACnE,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,8CAAW,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACtD,sEAAe,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC3D,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8CAAW,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,SAAG,KAAI,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,sBACvF,8CAAW,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAG,KAAI,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC1E,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8CAAW,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAExE,8CAAW,OAAAP,EAAM,OAAM,KAAI,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACnE,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,2DAAc,OAAAA,EAAO,OAAM,kBAClCA,EAAO,SAAW,YACX,2DAAc,OAAAA,EAAO,OAAM,kBAClCA,EAAO,SAAW,WACX,iEAAe,OAAAA,EAAO,SAAQ,KACrCA,EAAO,SAAW,QACX,8FAAmB,OAAAA,EAAO,SAC9B,eAAK,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAC9C,CACA,IAAK,kBACD,MAAO,oDAAY,OAAAA,EAAM,QAAO,uBACpC,IAAK,oBACD,MAAO,8CAAgB,OAAKK,EAAWL,EAAM,KAAM,IAAI,GAC3D,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,wCAC1B,IAAK,gBACD,MAAO,2BACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,gDAC1B,QACI,MAAO,0BACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CClHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,eAAM,KAAM,cAAK,EACjC,KAAM,CAAE,KAAM,qBAAO,KAAM,cAAK,EAChC,MAAO,CAAE,KAAM,eAAM,KAAM,cAAK,EAChC,IAAK,CAAE,KAAM,eAAM,KAAM,cAAK,CAClC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,SAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,QAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,eACP,MAAO,2BACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,+BACV,KAAM,mBACN,KAAM,mBACN,SAAU,mBACV,KAAM,oBACN,KAAM,oBACN,OAAQ,oBACR,OAAQ,oBACR,OAAQ,kCACR,UAAW,qCACX,YAAa,oBACb,KAAM,qBACN,IAAK,MACL,iBAAkB,cACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EAAAC,EAAAC,EA8DQ,OAAQH,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,gEAAc,OAAAA,EAAM,SAAQ,6BAAQ,OAAAJ,EAAWI,EAAM,KAAK,GACrE,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,gEAAc,OAAKI,EAAmBJ,EAAM,OAAO,CAAC,CAAC,GACzD,8FAAmB,OAAKK,EAAWL,EAAM,OAAQ,GAAG,GAC/D,IAAK,UAAW,CACZ,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8CAAW,QAAAZ,EAAAK,EAAM,SAAN,KAAAL,EAAgB,SAAG,kBAAO,OAAAW,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,QAAAC,EAAAM,EAAO,OAAP,KAAAN,EAAe,sBAC1F,8CAAW,QAAAC,EAAAF,EAAM,SAAN,KAAAE,EAAgB,SAAG,kBAAO,OAAAI,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAC7E,CACA,IAAK,YAAa,CACd,IAAMM,EAAMN,EAAM,UAAY,KAAO,IAC/BO,EAASd,EAAUO,EAAM,MAAM,EACrC,OAAIO,EACO,8CAAW,OAAAP,EAAM,OAAM,kBAAO,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EAAC,KAAI,OAAAO,EAAO,MAE3E,8CAAW,OAAAP,EAAM,OAAM,kBAAO,OAAAM,GAAM,OAAAN,EAAM,QAAQ,SAAS,EACtE,CACA,IAAK,iBAAkB,CACnB,IAAMQ,EAASR,EACf,OAAIQ,EAAO,SAAW,cACX,2DAAc,OAAAA,EAAO,OAAM,kBAElCA,EAAO,SAAW,YACX,2DAAc,OAAAA,EAAO,OAAM,kBAClCA,EAAO,SAAW,WACX,iEAAe,OAAAA,EAAO,SAAQ,KACrCA,EAAO,SAAW,QACX,4EAAgB,OAAAA,EAAO,SAC3B,sBAAO,QAAAL,EAAAJ,EAAMS,EAAO,MAAM,IAAnB,KAAAL,EAAwBH,EAAM,OAChD,CACA,IAAK,kBACD,MAAO,0DAAa,OAAAA,EAAM,QAAO,uBACrC,IAAK,oBACD,MAAO,6CAAU,OAAAA,EAAM,KAAK,OAAS,EAAI,SAAM,GAAE,UAAI,OAAKK,EAAWL,EAAM,KAAM,QAAG,GACxF,IAAK,cACD,MAAO,GAAG,OAAAA,EAAM,OAAM,+CAC1B,IAAK,gBACD,MAAO,uCACX,IAAK,kBACD,MAAO,GAAG,OAAAA,EAAM,OAAM,yCAC1B,QACI,MAAO,sCACf,CACJ,CACJ,EACe,SAARS,IAAoB,CACvB,MAAO,CACH,YAAalB,GAAM,CACvB,CACJ,CCnHA,IAAMmB,GAAQ,IAAM,CAChB,IAAMC,EAAU,CACZ,OAAQ,CAAE,KAAM,SAAO,KAAM,OAAK,EAClC,KAAM,CAAE,KAAM,QAAS,KAAM,OAAK,EAClC,MAAO,CAAE,KAAM,OAAQ,KAAM,OAAK,EAClC,IAAK,CAAE,KAAM,OAAQ,KAAM,OAAK,CACpC,EACA,SAASC,EAAUC,EAAQ,CAR/B,IAAAC,EASQ,OAAOA,EAAAH,EAAQE,CAAM,IAAd,KAAAC,EAAmB,IAC9B,CACA,IAAMC,EAAcC,GAAS,CACzB,IAAMC,EAAI,OAAOD,EACjB,OAAQC,EAAG,CACP,IAAK,SACD,OAAO,OAAO,MAAMD,CAAI,EAAI,MAAQ,sBAExC,IAAK,SAAU,CACX,GAAI,MAAM,QAAQA,CAAI,EAClB,MAAO,aAEX,GAAIA,IAAS,KACT,MAAO,OAEX,GAAI,OAAO,eAAeA,CAAI,IAAM,OAAO,WAAaA,EAAK,YACzD,OAAOA,EAAK,YAAY,IAEhC,CACJ,CACA,OAAOC,CACX,EACMC,EAAQ,CACV,MAAO,4CACP,MAAO,qDACP,IAAK,MACL,MAAO,QACP,KAAM,OACN,OAAQ,SACR,OAAQ,SACR,OAAQ,SACR,KAAM,OACN,KAAM,OACN,MAAO,QACP,KAAM,OACN,IAAK,MACL,MAAO,QACP,SAAU,qBACV,KAAM,0BACN,KAAM,qBACN,SAAU,iCACV,KAAM,mCACN,KAAM,mCACN,OAAQ,wBACR,OAAQ,wBACR,OAAQ,+DACR,UAAW,sCACX,YAAa,iCACb,KAAM,4BACN,IAAK,MACL,iBAAkB,2CACtB,EACA,OAAQC,GAAU,CA7DtB,IAAAL,EAAAM,EA8DQ,OAAQD,EAAM,KAAM,CAChB,IAAK,eACD,MAAO,gEAA+B,OAAAA,EAAM,SAAQ,gCAAe,OAAAJ,EAAWI,EAAM,KAAK,GAC7F,IAAK,gBACD,OAAIA,EAAM,OAAO,SAAW,EACjB,gEAA+B,OAAKE,EAAmBF,EAAM,OAAO,CAAC,CAAC,GAC1E,wEAAgC,OAAKG,EAAWH,EAAM,OAAQ,GAAG,GAC5E,IAAK,UAAW,CACZ,IAAMI,EAAMJ,EAAM,UAAY,KAAO,IAC/BK,EAASZ,EAAUO,EAAM,MAAM,EACrC,OAAIK,EACO,kEAA+B,QAAAV,EAAAK,EAAM,SAAN,KAAAL,EAAgB,MAAK,KAAI,OAAAU,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAJ,EAAM,QAAO,KAAI,OAAAK,EAAO,MACzG,4DAA4B,OAAAD,GAAM,OAAAJ,EAAM,QACnD,CACA,IAAK,YAAa,CACd,IAAMI,EAAMJ,EAAM,UAAY,KAAO,IAC/BK,EAASZ,EAAUO,EAAM,MAAM,EACrC,OAAIK,EACO,sDAA6B,OAAAL,EAAM,OAAM,KAAI,OAAAK,EAAO,KAAI,KAAI,OAAAD,GAAM,OAAAJ,EAAM,QAAO,KAAI,OAAAK,EAAO,MAC9F,gDAA0B,OAAAD,GAAM,OAAAJ,EAAM,QACjD,CACA,IAAK,iBAAkB,CACnB,IAAMM,EAASN,EACf,OAAIM,EAAO,SAAW,cACX,4HAAsC,OAAAA,EAAO,OAAM,KAC1DA,EAAO,SAAW,YACX,yGAAoC,OAAAA,EAAO,OAAM,KACxDA,EAAO,SAAW,WACX,oFAA4B,OAAAA,EAAO,SAAQ,KAClDA,EAAO,SAAW,QACX,+GAAqC,OAAAA,EAAO,SAChD,uBAAU,QAAAL,EAAAF,EAAMO,EAAO,MAAM,IAAnB,KAAAL,EAAwBD,EAAM,OACnD,CACA,IAAK,kBACD,MAAO,8GAA0C,OAAAA,EAAM,SAC3D,IAAK,oBACD,MAAO,4CAAiB,OAAKG,EAAWH,EAAM,KAAM,IAAI,GAC5D,IAAK,cACD,MAAO,mDAAqB,OAAAA,EAAM,QACtC,IAAK,gBACD,MAAO,2CACX,IAAK,kBACD,MAAO,qCAAkB,OAAAA,EAAM,QACnC,QACI,MAAO,0CACf,CACJ,CACJ,EACe,SAARO,IAAoB,CACvB,MAAO,CACH,YAAahB,GAAM,CACvB,CACJ,CClHO,IAAMiB,GAAU,OAAO,WAAW,EAC5BC,GAAS,OAAO,UAAU,EAC1BC,GAAN,KAAmB,CACtB,aAAc,CACV,KAAK,KAAO,IAAI,IAChB,KAAK,OAAS,IAAI,GACtB,CACA,IAAIC,KAAWC,EAAO,CAClB,IAAMC,EAAOD,EAAM,CAAC,EAEpB,GADA,KAAK,KAAK,IAAID,EAAQE,CAAI,EACtBA,GAAQ,OAAOA,GAAS,UAAY,OAAQA,EAAM,CAClD,GAAI,KAAK,OAAO,IAAIA,EAAK,EAAE,EACvB,MAAM,IAAI,MAAM,MAAM,OAAAA,EAAK,GAAE,kCAAiC,EAElE,KAAK,OAAO,IAAIA,EAAK,GAAIF,CAAM,CACnC,CACA,OAAO,IACX,CACA,OAAQ,CACJ,YAAK,KAAO,IAAI,IAChB,KAAK,OAAS,IAAI,IACX,IACX,CACA,OAAOA,EAAQ,CACX,IAAME,EAAO,KAAK,KAAK,IAAIF,CAAM,EACjC,OAAIE,GAAQ,OAAOA,GAAS,UAAY,OAAQA,GAC5C,KAAK,OAAO,OAAOA,EAAK,EAAE,EAE9B,KAAK,KAAK,OAAOF,CAAM,EAChB,IACX,CACA,IAAIA,EAAQ,CA/BhB,IAAAG,EAkCQ,IAAMC,EAAIJ,EAAO,KAAK,OACtB,GAAII,EAAG,CACH,IAAMC,EAAKC,EAAA,IAAMH,EAAA,KAAK,IAAIC,CAAC,IAAV,KAAAD,EAAe,CAAC,GACjC,OAAOE,EAAG,GACV,IAAME,EAAID,IAAA,GAAKD,GAAO,KAAK,KAAK,IAAIL,CAAM,GAC1C,OAAO,OAAO,KAAKO,CAAC,EAAE,OAASA,EAAI,MACvC,CACA,OAAO,KAAK,KAAK,IAAIP,CAAM,CAC/B,CACA,IAAIA,EAAQ,CACR,OAAO,KAAK,KAAK,IAAIA,CAAM,CAC/B,CACJ,EAEO,SAASQ,IAAW,CACvB,OAAO,IAAIT,EACf,CACO,IAAMU,GAA+BD,GAAS,EChD9C,SAASE,GAAQC,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,UACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASG,GAAeJ,EAAOC,EAAQ,CAC1C,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,IACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASI,GAAOL,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,QACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASK,GAAMN,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASM,GAAMP,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASO,GAAQR,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,GACP,QAAS,MACDC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASQ,GAAQT,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,GACP,QAAS,MACDC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASS,GAAQV,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,GACP,QAAS,MACDC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASU,GAAKX,EAAOC,EAAQ,CAChC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,MACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASW,GAAOZ,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,QACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASY,GAAQb,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,SACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASa,GAAMd,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASc,GAAOf,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,QACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASe,GAAMhB,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASgB,GAAKjB,EAAOC,EAAQ,CAChC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,MACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASiB,GAAOlB,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,QACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASkB,GAAMnB,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASmB,GAAMpB,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASoB,GAAQrB,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,SACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASqB,GAAQtB,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,SACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASsB,GAAQvB,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,SACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASuB,GAAWxB,EAAOC,EAAQ,CACtC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,YACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASwB,GAAMzB,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASyB,GAAK1B,EAAOC,EAAQ,CAChC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,MACR,MAAO,gBACP,MAAO,IACCC,EAAgBF,CAAM,EACjC,CACL,CACO,IAAM0B,GAAgB,CACzB,IAAK,KACL,OAAQ,GACR,OAAQ,EACR,YAAa,EACb,YAAa,CACjB,EACO,SAASC,GAAa5B,EAAOC,EAAQ,CACxC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,WACR,MAAO,gBACP,OAAQ,GACR,MAAO,GACP,UAAW,MACHC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS4B,GAAS7B,EAAOC,EAAQ,CACpC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,iBACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS6B,GAAS9B,EAAOC,EAAQ,CACpC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,OACR,MAAO,gBACP,UAAW,MACHC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS8B,GAAa/B,EAAOC,EAAQ,CACxC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,WACR,MAAO,iBACCC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS+B,GAAQhC,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,CAAC,GACDC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASgC,GAAejC,EAAOC,EAAQ,CAC1C,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,GACR,OAAQ,CAAC,GACDC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASiC,GAAKlC,EAAOC,EAAQ,CAChC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,WACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASkC,GAASnC,EAAOC,EAAQ,CACpC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,WACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASmC,GAASpC,EAAOC,EAAQ,CACpC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,WACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASoC,GAAOrC,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,SACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASqC,GAAQtC,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,UACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASsC,GAASvC,EAAOC,EAAQ,CACpC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,WACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASuC,GAAgBxC,EAAOC,EAAQ,CAC3C,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,UACN,OAAQ,IACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASwC,GAAQzC,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,UACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASyC,GAAe1C,EAAOC,EAAQ,CAC1C,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,OAAQ,IACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS0C,GAAO3C,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,SACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS2C,GAAQ5C,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACN,MAAO,gBACP,MAAO,GACP,OAAQ,UACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS4C,GAAQ7C,EAAOC,EAAQ,CACnC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,UACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS6C,GAAW9C,EAAOC,EAAQ,CACtC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,aACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS8C,GAAM/C,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,QACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAAS+C,GAAKhD,EAAO,CACxB,OAAO,IAAIA,EAAM,CACb,KAAM,KACV,CAAC,CACL,CACO,SAASiD,GAASjD,EAAO,CAC5B,OAAO,IAAIA,EAAM,CACb,KAAM,SACV,CAAC,CACL,CACO,SAASkD,GAAOlD,EAAOC,EAAQ,CAClC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,SACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASkD,GAAMnD,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,QACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASmD,GAAMpD,EAAOC,EAAQ,CACjC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,QACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASoD,GAAarD,EAAOC,EAAQ,CACxC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,OACN,OAAQ,IACAC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASqD,GAAKtD,EAAOC,EAAQ,CAChC,OAAO,IAAID,EAAME,EAAA,CACb,KAAM,OACEC,EAAgBF,CAAM,EACjC,CACL,CACO,SAASsD,GAAIC,EAAOvD,EAAQ,CAC/B,OAAO,IAAWwD,GAAkBC,EAAAxD,EAAA,CAChC,MAAO,aACCC,EAAgBF,CAAM,GAFE,CAGhC,MAAAuD,EACA,UAAW,EACf,EAAC,CACL,CACO,SAASG,GAAKH,EAAOvD,EAAQ,CAChC,OAAO,IAAWwD,GAAkBC,EAAAxD,EAAA,CAChC,MAAO,aACCC,EAAgBF,CAAM,GAFE,CAGhC,MAAAuD,EACA,UAAW,EACf,EAAC,CACL,CAIO,SAASI,GAAIC,EAAOC,EAAQ,CAC/B,OAAO,IAAWC,GAAqBC,EAAAC,EAAA,CACnC,MAAO,gBACCC,EAAgBJ,CAAM,GAFK,CAGnC,MAAAD,EACA,UAAW,EACf,EAAC,CACL,CACO,SAASM,GAAKN,EAAOC,EAAQ,CAChC,OAAO,IAAWC,GAAqBC,EAAAC,EAAA,CACnC,MAAO,gBACCC,EAAgBJ,CAAM,GAFK,CAGnC,MAAAD,EACA,UAAW,EACf,EAAC,CACL,CAIO,SAASO,GAAUC,EAAQ,CAC9B,OAAOC,GAAI,EAAGD,CAAM,CACxB,CAEO,SAASE,GAAUF,EAAQ,CAC9B,OAAOG,GAAI,EAAGH,CAAM,CACxB,CAEO,SAASI,GAAaJ,EAAQ,CACjC,OAAOK,GAAK,EAAGL,CAAM,CACzB,CAEO,SAASM,GAAaN,EAAQ,CACjC,OAAOO,GAAK,EAAGP,CAAM,CACzB,CACO,SAASQ,GAAYC,EAAOT,EAAQ,CACvC,OAAO,IAAWU,GAAoBC,EAAAC,EAAA,CAClC,MAAO,eACCC,EAAgBb,CAAM,GAFI,CAGlC,MAAAS,CACJ,EAAC,CACL,CACO,SAASK,GAASC,EAASf,EAAQ,CACtC,OAAO,IAAWgB,GAAiBL,EAAAC,EAAA,CAC/B,MAAO,YACCC,EAAgBb,CAAM,GAFC,CAG/B,QAAAe,CACJ,EAAC,CACL,CACO,SAASE,GAASC,EAASlB,EAAQ,CACtC,OAAO,IAAWmB,GAAiBR,EAAAC,EAAA,CAC/B,MAAO,YACCC,EAAgBb,CAAM,GAFC,CAG/B,QAAAkB,CACJ,EAAC,CACL,CACO,SAASE,GAAMC,EAAMrB,EAAQ,CAChC,OAAO,IAAWsB,GAAoBX,EAAAC,EAAA,CAClC,MAAO,eACCC,EAAgBb,CAAM,GAFI,CAGlC,KAAAqB,CACJ,EAAC,CACL,CACO,SAASE,GAAWR,EAASf,EAAQ,CAMxC,OALW,IAAWwB,GAAmBb,EAAAC,EAAA,CACrC,MAAO,cACCC,EAAgBb,CAAM,GAFO,CAGrC,QAAAe,CACJ,EAAC,CAEL,CACO,SAASU,GAAWP,EAASlB,EAAQ,CACxC,OAAO,IAAW0B,GAAmBf,EAAAC,EAAA,CACjC,MAAO,cACCC,EAAgBb,CAAM,GAFG,CAGjC,QAAAkB,CACJ,EAAC,CACL,CACO,SAASS,GAAQC,EAAQ5B,EAAQ,CACpC,OAAO,IAAW6B,GAAsBlB,EAAAC,EAAA,CACpC,MAAO,iBACCC,EAAgBb,CAAM,GAFM,CAGpC,OAAA4B,CACJ,EAAC,CACL,CACO,SAASE,GAAOC,EAAS/B,EAAQ,CACpC,OAAO,IAAWgC,GAAerB,EAAAC,EAAA,CAC7B,MAAO,gBACP,OAAQ,SACAC,EAAgBb,CAAM,GAHD,CAI7B,QAAA+B,CACJ,EAAC,CACL,CACO,SAASE,GAAWjC,EAAQ,CAC/B,OAAO,IAAWkC,GAAmBtB,EAAA,CACjC,MAAO,gBACP,OAAQ,aACAC,EAAgBb,CAAM,EACjC,CACL,CACO,SAASmC,GAAWnC,EAAQ,CAC/B,OAAO,IAAWoC,GAAmBxB,EAAA,CACjC,MAAO,gBACP,OAAQ,aACAC,EAAgBb,CAAM,EACjC,CACL,CACO,SAASqC,GAAUC,EAAUtC,EAAQ,CACxC,OAAO,IAAWuC,GAAkB5B,EAAAC,EAAA,CAChC,MAAO,gBACP,OAAQ,YACAC,EAAgBb,CAAM,GAHE,CAIhC,SAAAsC,CACJ,EAAC,CACL,CACO,SAASE,GAAYC,EAAQzC,EAAQ,CACxC,OAAO,IAAW0C,GAAoB/B,EAAAC,EAAA,CAClC,MAAO,gBACP,OAAQ,eACAC,EAAgBb,CAAM,GAHI,CAIlC,OAAAyC,CACJ,EAAC,CACL,CACO,SAASE,GAAUC,EAAQ5C,EAAQ,CACtC,OAAO,IAAW6C,GAAkBlC,EAAAC,EAAA,CAChC,MAAO,gBACP,OAAQ,aACAC,EAAgBb,CAAM,GAHE,CAIhC,OAAA4C,CACJ,EAAC,CACL,CACO,SAASE,GAAUC,EAAUC,EAAQhD,EAAQ,CAChD,OAAO,IAAWiD,GAAkBrC,EAAA,CAChC,MAAO,WACP,SAAAmC,EACA,OAAAC,GACQnC,EAAgBb,CAAM,EACjC,CACL,CACO,SAASkD,GAAMC,EAAOnD,EAAQ,CACjC,OAAO,IAAWoD,GAAkBxC,EAAA,CAChC,MAAO,YACP,KAAMuC,GACEtC,EAAgBb,CAAM,EACjC,CACL,CACO,SAASqD,GAAWC,EAAI,CAC3B,OAAO,IAAWC,GAAmB,CACjC,MAAO,YACP,GAAAD,CACJ,CAAC,CACL,CAEO,SAASE,GAAWC,EAAM,CAC7B,OAAOJ,GAAYK,GAAUA,EAAM,UAAUD,CAAI,CAAC,CACtD,CAEO,SAASE,IAAQ,CACpB,OAAON,GAAYK,GAAUA,EAAM,KAAK,CAAC,CAC7C,CAEO,SAASE,IAAe,CAC3B,OAAOP,GAAYK,GAAUA,EAAM,YAAY,CAAC,CACpD,CAEO,SAASG,IAAe,CAC3B,OAAOR,GAAYK,GAAUA,EAAM,YAAY,CAAC,CACpD,CACO,SAASI,GAAOC,EAAOC,EAAShE,EAAQ,CAC3C,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,QACN,QAAAoD,GAIQnD,EAAgBb,CAAM,EACjC,CACL,CACO,SAASiE,GAAOF,EAAOG,EAASlE,EAAQ,CAC3C,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,QACN,QAAAsD,GACQrD,EAAgBb,CAAM,EACjC,CACL,CACO,SAASmE,GAAoBJ,EAAOK,EAAeF,EAASlE,EAAQ,CACvE,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,QACN,QAAAsD,EACA,cAAAE,GACQvD,EAAgBb,CAAM,EACjC,CACL,CACO,SAASqE,GAAcN,EAAOO,EAAMC,EAAO,CAC9C,OAAO,IAAIR,EAAM,CACb,KAAM,eACN,KAAAO,EACA,MAAAC,CACJ,CAAC,CACL,CAMO,SAASC,GAAOT,EAAOU,EAAOC,EAAeC,EAAS,CACzD,IAAMC,EAAUF,aAAiCG,GAC3C7E,EAAS4E,EAAUD,EAAUD,EAC7BI,EAAOF,EAAUF,EAAgB,KACvC,OAAO,IAAIX,EAAMnD,EAAA,CACb,KAAM,QACN,MAAA6D,EACA,KAAAK,GACQjE,EAAgBb,CAAM,EACjC,CACL,CACO,SAAS+E,GAAQhB,EAAOiB,EAASC,EAAWjF,EAAQ,CACvD,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,SACN,QAAAoE,EACA,UAAAC,GACQpE,EAAgBb,CAAM,EACjC,CACL,CACO,SAASkF,GAAKnB,EAAOiB,EAASC,EAAWjF,EAAQ,CACpD,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,MACN,QAAAoE,EACA,UAAAC,GACQpE,EAAgBb,CAAM,EACjC,CACL,CACO,SAASmF,GAAKpB,EAAOkB,EAAWjF,EAAQ,CAC3C,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,MACN,UAAAqE,GACQpE,EAAgBb,CAAM,EACjC,CACL,CACO,SAASoF,GAAMrB,EAAOsB,EAAQrF,EAAQ,CACzC,IAAMsF,EAAU,MAAM,QAAQD,CAAM,EAAI,OAAO,YAAYA,EAAO,IAAKE,GAAM,CAACA,EAAGA,CAAC,CAAC,CAAC,EAAIF,EAYxF,OAAO,IAAItB,EAAMnD,EAAA,CACb,KAAM,OACN,QAAA0E,GACQzE,EAAgBb,CAAM,EACjC,CACL,CAQO,SAASwF,GAAYzB,EAAOuB,EAAStF,EAAQ,CAChD,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,OACN,QAAA0E,GACQzE,EAAgBb,CAAM,EACjC,CACL,CACO,SAASyF,GAAS1B,EAAOtD,EAAOT,EAAQ,CAC3C,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,UACN,OAAQ,MAAM,QAAQH,CAAK,EAAIA,EAAQ,CAACA,CAAK,GACrCI,EAAgBb,CAAM,EACjC,CACL,CACO,SAAS0F,GAAM3B,EAAO/D,EAAQ,CACjC,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,QACEC,EAAgBb,CAAM,EACjC,CACL,CACO,SAAS2F,GAAW5B,EAAO6B,EAAI,CAClC,OAAO,IAAI7B,EAAM,CACb,KAAM,YACN,UAAW6B,CACf,CAAC,CACL,CACO,SAASC,GAAU9B,EAAO+B,EAAW,CACxC,OAAO,IAAI/B,EAAM,CACb,KAAM,WACN,UAAA+B,CACJ,CAAC,CACL,CACO,SAASC,GAAUhC,EAAO+B,EAAW,CACxC,OAAO,IAAI/B,EAAM,CACb,KAAM,WACN,UAAA+B,CACJ,CAAC,CACL,CACO,SAASE,GAASjC,EAAO+B,EAAWG,EAAc,CACrD,OAAO,IAAIlC,EAAM,CACb,KAAM,UACN,UAAA+B,EACA,IAAI,cAAe,CACf,OAAO,OAAOG,GAAiB,WAAaA,EAAa,EAAIA,CACjE,CACJ,CAAC,CACL,CACO,SAASC,GAAanC,EAAO+B,EAAW9F,EAAQ,CACnD,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,cACN,UAAAkF,GACQjF,EAAgBb,CAAM,EACjC,CACL,CACO,SAASmG,GAASpC,EAAO+B,EAAW,CACvC,OAAO,IAAI/B,EAAM,CACb,KAAM,UACN,UAAA+B,CACJ,CAAC,CACL,CACO,SAASM,GAAOrC,EAAO+B,EAAWO,EAAY,CACjD,OAAO,IAAItC,EAAM,CACb,KAAM,QACN,UAAA+B,EACA,WAAa,OAAOO,GAAe,WAAaA,EAAa,IAAMA,CACvE,CAAC,CACL,CACO,SAASC,GAAMvC,EAAOwC,EAAKC,EAAK,CACnC,OAAO,IAAIzC,EAAM,CACb,KAAM,OACN,GAAIwC,EACJ,IAAAC,CACJ,CAAC,CACL,CACO,SAASC,GAAU1C,EAAO+B,EAAW,CACxC,OAAO,IAAI/B,EAAM,CACb,KAAM,WACN,UAAA+B,CACJ,CAAC,CACL,CACO,SAASY,GAAiB3C,EAAO4C,EAAO3G,EAAQ,CACnD,OAAO,IAAI+D,EAAMnD,EAAA,CACb,KAAM,mBACN,MAAA+F,GACQ9F,EAAgBb,CAAM,EACjC,CACL,CACO,SAAS4G,GAAM7C,EAAO8C,EAAQ,CACjC,OAAO,IAAI9C,EAAM,CACb,KAAM,OACN,OAAA8C,CACJ,CAAC,CACL,CACO,SAASC,GAAS/C,EAAO+B,EAAW,CACvC,OAAO,IAAI/B,EAAM,CACb,KAAM,UACN,UAAA+B,CACJ,CAAC,CACL,CACO,SAASiB,GAAQhD,EAAO6B,EAAIjB,EAAS,CAryB5C,IAAAqC,EAsyBI,IAAMC,EAAYpG,EAAgB8D,CAAO,EACzC,OAAAqC,EAAAC,EAAK,QAAL,OAAeA,EAAK,MAAQ,IACb,IAAIlD,EAAMnD,EAAA,CACrB,KAAM,SACN,MAAO,SACP,GAAIgF,GACDqB,EACN,CAEL,CAEO,SAASC,GAAQnD,EAAO6B,EAAIjB,EAAS,CAOxC,OANe,IAAIZ,EAAMnD,EAAA,CACrB,KAAM,SACN,MAAO,SACP,GAAIgF,GACI/E,EAAgB8D,CAAO,EAClC,CAEL,CACO,SAASwC,GAAavB,EAAI,CAC7B,IAAMwB,EAAKC,GAAQC,IACfA,EAAQ,SAAYC,GAAU,CA5zBtC,IAAAP,EAAAQ,EAAAC,EAAAC,EA6zBY,GAAI,OAAOH,GAAU,SACjBD,EAAQ,OAAO,KAAUC,GAAMA,EAAOD,EAAQ,MAAOF,EAAG,KAAK,GAAG,CAAC,MAEhE,CAED,IAAMO,EAASJ,EACXI,EAAO,QACPA,EAAO,SAAW,KACtBX,EAAAW,EAAO,OAAP,OAAgBA,EAAO,KAAO,WAC9BH,EAAAG,EAAO,QAAP,OAAiBA,EAAO,MAAQL,EAAQ,QACxCG,EAAAE,EAAO,OAAP,OAAgBA,EAAO,KAAOP,IAC9BM,EAAAC,EAAO,WAAP,OAAoBA,EAAO,SAAW,CAACP,EAAG,KAAK,IAAI,OACnDE,EAAQ,OAAO,KAAUC,GAAMI,CAAM,CAAC,CAC1C,CACJ,EACO/B,EAAG0B,EAAQ,MAAOA,CAAO,EACnC,EACD,OAAOF,CACX,CACO,SAASC,GAAOzB,EAAI5F,EAAQ,CAC/B,IAAMoH,EAAK,IAAWQ,GAAUhH,EAAA,CAC5B,MAAO,UACCC,EAAgBb,CAAM,EACjC,EACD,OAAAoH,EAAG,KAAK,MAAQxB,EACTwB,CACX,CACO,SAASS,GAAYC,EAASnD,EAAS,CAx1B9C,IAAAqC,EAAAQ,EAAAC,EAAAC,EAAAK,EAAAC,EAy1BI,IAAMhI,EAAca,EAAgB8D,CAAO,EACvCsD,GAAcjB,EAAAhH,EAAO,SAAP,KAAAgH,EAAiB,CAAC,OAAQ,IAAK,MAAO,KAAM,IAAK,SAAS,EACxEkB,GAAaV,EAAAxH,EAAO,QAAP,KAAAwH,EAAgB,CAAC,QAAS,IAAK,KAAM,MAAO,IAAK,UAAU,EACxExH,EAAO,OAAS,cAChBiI,EAAcA,EAAY,IAAK,GAAO,OAAO,GAAM,SAAW,EAAE,YAAY,EAAI,CAAE,EAClFC,EAAaA,EAAW,IAAK,GAAO,OAAO,GAAM,SAAW,EAAE,YAAY,EAAI,CAAE,GAEpF,IAAMC,EAAY,IAAI,IAAIF,CAAW,EAC/BG,EAAW,IAAI,IAAIF,CAAU,EAC7BG,GAAQZ,EAAAK,EAAQ,OAAR,KAAAL,EAAwBa,GAChCC,GAAWb,EAAAI,EAAQ,UAAR,KAAAJ,EAA2Bc,GACtCC,GAAUV,EAAAD,EAAQ,SAAR,KAAAC,EAA0BW,GACpCC,GAAaX,EAAAF,EAAQ,YAAR,KAAAE,EAA6BY,GAC1CtF,EAAK,IAAIqF,EAAW,CACtB,KAAM,YACN,UAAW,CAACjF,EAAO4D,IAAY,CAC3B,IAAIuB,EAAOnF,EAGX,OAFI1D,EAAO,OAAS,cAChB6I,EAAOA,EAAK,YAAY,GACxBV,EAAU,IAAIU,CAAI,EACX,GAEFT,EAAS,IAAIS,CAAI,EACf,IAGPvB,EAAQ,OAAO,KAAK,CAChB,KAAM,gBACN,SAAU,aACV,OAAQ,CAAC,GAAGa,EAAW,GAAGC,CAAQ,EAClC,MAAOd,EAAQ,MACf,KAAMhE,EACN,SAAU,EACd,CAAC,EACM,CAAC,EAEhB,EACA,MAAOtD,EAAO,KAClB,CAAC,EAEK8I,EAAY,IAAIT,EAAM,CACxB,KAAM,OACN,GAAI,IAAII,EAAQ,CAAE,KAAM,SAAU,MAAOzI,EAAO,KAAM,CAAC,EACvD,IAAKsD,EACL,MAAOtD,EAAO,KAClB,CAAC,EAUD,OATkB,IAAIqI,EAAM,CACxB,KAAM,OACN,GAAIS,EACJ,IAAK,IAAIP,EAAS,CACd,KAAM,UACN,MAAOvI,EAAO,KAClB,CAAC,EACD,MAAOA,EAAO,KAClB,CAAC,CAEL,CACO,SAAS+I,GAAchF,EAAOiF,EAAQC,EAAWtE,EAAU,CAAC,EAAG,CAClE,IAAM3E,EAAca,EAAgB8D,CAAO,EACrCuE,EAAMtI,EAAAD,EAAAC,EAAA,GACAC,EAAgB8D,CAAO,GADvB,CAER,MAAO,gBACP,KAAM,SACN,OAAAqE,EACA,GAAI,OAAOC,GAAc,WAAaA,EAAaE,GAAQF,EAAU,KAAKE,CAAG,IAC1EnJ,GAEP,OAAIiJ,aAAqB,SACrBC,EAAI,QAAUD,GAEL,IAAIlF,EAAMmF,CAAG,CAE9B,CC75BO,IAAME,GAAN,KAAmB,CACtB,YAAYC,EAAK,CACb,KAAK,KAAOA,EACZ,KAAK,IAAMA,CACf,CACA,UAAUC,EAAM,CACZ,GAAI,OAAOA,GAAS,WAChB,MAAM,IAAI,MAAM,4CAA4C,EAEhE,IAAMC,GAAQ,IAAIC,IAAS,CACvB,IAAMC,EAAa,KAAK,KAAK,MAAQC,GAAM,KAAK,KAAK,MAAOF,EAAM,OAAW,CAAE,OAAQD,CAAK,CAAC,EAAIC,EACjG,GAAI,CAAC,MAAM,QAAQC,CAAU,EACzB,MAAM,IAAI,MAAM,yDAAyD,EAE7E,IAAME,EAASL,EAAK,GAAGG,CAAU,EACjC,OAAO,KAAK,KAAK,OAASC,GAAM,KAAK,KAAK,OAAQC,EAAQ,OAAW,CAAE,OAAQJ,CAAK,CAAC,EAAII,CAC7F,GACA,OAAOJ,CACX,CACA,eAAeD,EAAM,CACjB,GAAI,OAAOA,GAAS,WAChB,MAAM,IAAI,MAAM,4CAA4C,EAEhE,IAAMC,GAAQ,SAAUC,IAAS,CAC7B,IAAMC,EAAa,KAAK,KAAK,MAAQ,MAAMG,GAAW,KAAK,KAAK,MAAOJ,EAAM,OAAW,CAAE,OAAQD,CAAK,CAAC,EAAIC,EAC5G,GAAI,CAAC,MAAM,QAAQC,CAAU,EACzB,MAAM,IAAI,MAAM,yDAAyD,EAE7E,IAAME,EAAS,MAAML,EAAK,GAAGG,CAAU,EACvC,OAAO,KAAK,KAAK,OAASG,GAAW,KAAK,KAAK,OAAQD,EAAQ,OAAW,CAAE,OAAQJ,CAAK,CAAC,EAAII,CAClG,GACA,OAAOJ,CACX,CACA,SAASC,EAAM,CACX,IAAMK,EAAI,KAAK,YACf,OAAI,MAAM,QAAQL,EAAK,CAAC,CAAC,EACd,IAAIK,EAAE,CACT,KAAM,WACN,MAAO,IAAIC,GAAU,CACjB,KAAM,QACN,MAAON,EAAK,CAAC,EACb,KAAMA,EAAK,CAAC,CAChB,CAAC,EACD,OAAQ,KAAK,KAAK,MACtB,CAAC,EAEE,IAAIK,EAAE,CACT,KAAM,WACN,MAAOL,EAAK,CAAC,EACb,OAAQ,KAAK,KAAK,MACtB,CAAC,CACL,CACA,OAAOG,EAAQ,CACX,IAAME,EAAI,KAAK,YACf,OAAO,IAAIA,EAAE,CACT,KAAM,WACN,MAAO,KAAK,KAAK,MACjB,OAAAF,CACJ,CAAC,CACL,CACJ,EACA,SAASI,GAAUC,EAAQ,CAjE3B,IAAAC,EAAAC,EAkEI,OAAO,IAAId,GAAa,CACpB,KAAM,WACN,MAAO,MAAM,QAAQY,GAAA,YAAAA,EAAQ,KAAK,EAC5BG,GAAeL,GAAWE,GAAA,YAAAA,EAAQ,KAAK,GACtCC,EAAAD,GAAA,YAAAA,EAAQ,QAAR,KAAAC,EAAiBG,GAAeC,GAAWC,GAAiBC,EAAW,CAAC,EAC/E,QAAQL,EAAAF,GAAA,YAAAA,EAAQ,SAAR,KAAAE,EAAkBI,GAAiBC,EAAW,CAC1D,CAAC,CACL,CCvEO,IAAMC,GAAN,KAA0B,CAC7B,YAAYC,EAAQ,CAHxB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAIQ,KAAK,QAAU,EACf,KAAK,kBAAmBJ,EAAAD,GAAA,YAAAA,EAAQ,WAAR,KAAAC,EAAoBK,GAC5C,KAAK,QAASJ,EAAAF,GAAA,YAAAA,EAAQ,SAAR,KAAAE,EAAkB,gBAChC,KAAK,iBAAkBC,EAAAH,GAAA,YAAAA,EAAQ,kBAAR,KAAAG,EAA2B,QAClD,KAAK,UAAWC,EAAAJ,GAAA,YAAAA,EAAQ,WAAR,KAAAI,GAAqB,IAAM,CAAE,GAC7C,KAAK,IAAKC,EAAAL,GAAA,YAAAA,EAAQ,KAAR,KAAAK,EAAc,SACxB,KAAK,KAAO,IAAI,GACpB,CACA,QAAQE,EAAQC,EAAU,CAAE,KAAM,CAAC,EAAG,WAAY,CAAC,CAAE,EAAG,CAZ5D,IAAAP,EAAAC,EAAAC,EAAAC,EAAAC,EAaQ,IAAIJ,EACJ,IAAMQ,EAAMF,EAAO,KAAK,IAClBG,EAAY,CACd,KAAM,OACN,IAAK,MACL,SAAU,YACV,YAAa,cACb,MAAO,EACX,EAEMC,EAAO,KAAK,KAAK,IAAIJ,CAAM,EACjC,GAAII,EACA,OAAAA,EAAK,QAEWH,EAAQ,WAAW,SAASD,CAAM,IAE9CI,EAAK,MAAQH,EAAQ,MAElBG,EAAK,OAGhB,IAAMC,EAAS,CAAE,OAAQ,CAAC,EAAG,MAAO,EAAG,MAAO,OAAW,KAAMJ,EAAQ,IAAK,EAC5E,KAAK,KAAK,IAAID,EAAQK,CAAM,EAE5B,IAAMC,GAAiBX,GAAAD,EAAAM,EAAO,MAAK,eAAZ,YAAAL,EAAA,KAAAD,GACvB,GAAIY,EACAD,EAAO,OAASC,MAEf,CACD,IAAMb,EAASc,EAAAC,EAAA,GACRP,GADQ,CAEX,WAAY,CAAC,GAAGA,EAAQ,WAAYD,CAAM,EAC1C,KAAMC,EAAQ,IAClB,GACMQ,EAAST,EAAO,KAAK,OAC3B,GAAIS,EAEAJ,EAAO,IAAMI,EACb,KAAK,QAAQA,EAAQhB,CAAM,EAC3B,KAAK,KAAK,IAAIgB,CAAM,EAAE,SAAW,OAEhC,CACD,IAAMC,EAAQL,EAAO,OACrB,OAAQH,EAAI,KAAM,CACd,IAAK,SAAU,CACX,IAAMS,EAAOD,EACbC,EAAK,KAAO,SACZ,GAAM,CAAE,QAAAC,EAAS,QAAAC,EAAS,OAAAC,EAAQ,SAAAC,EAAU,gBAAAC,CAAgB,EAAIhB,EAAO,KAClE,IAaL,GAZI,OAAOY,GAAY,WACnBD,EAAK,UAAYC,GACjB,OAAOC,GAAY,WACnBF,EAAK,UAAYE,GAEjBC,IACAH,EAAK,QAASf,EAAAO,EAAUW,CAAM,IAAhB,KAAAlB,EAAqBkB,EAC/BH,EAAK,SAAW,IAChB,OAAOA,EAAK,QAEhBK,IACAL,EAAK,gBAAkBK,GACvBD,GAAYA,EAAS,KAAO,EAAG,CAC/B,IAAME,EAAU,CAAC,GAAGF,CAAQ,EACxBE,EAAQ,SAAW,EACnBN,EAAK,QAAUM,EAAQ,CAAC,EAAE,OACrBA,EAAQ,OAAS,IACtBZ,EAAO,OAAO,MAAQ,CAClB,GAAGY,EAAQ,IAAKC,GAAWX,EAAAC,EAAA,GACnB,KAAK,SAAW,WAAa,KAAK,SAAW,UAAY,CAAE,KAAM,QAAS,EAAI,CAAC,GAD5D,CAEvB,QAASU,EAAM,MACnB,EAAE,CACN,EAER,CACA,KACJ,CACA,IAAK,SAAU,CACX,IAAMP,EAAOD,EACP,CAAE,QAAAE,EAAS,QAAAC,EAAS,OAAAC,EAAQ,WAAAK,EAAY,iBAAAC,EAAkB,iBAAAC,CAAiB,EAAIrB,EAAO,KAAK,IAC7F,OAAOc,GAAW,UAAYA,EAAO,SAAS,KAAK,EACnDH,EAAK,KAAO,UAEZA,EAAK,KAAO,SACZ,OAAOU,GAAqB,WACxB,KAAK,SAAW,WAChBV,EAAK,QAAUU,EACfV,EAAK,iBAAmB,IAGxBA,EAAK,iBAAmBU,GAG5B,OAAOT,GAAY,WACnBD,EAAK,QAAUC,EACX,OAAOS,GAAqB,UAAY,KAAK,SAAW,YACpDA,GAAoBT,EACpB,OAAOD,EAAK,QAEZ,OAAOA,EAAK,mBAGpB,OAAOS,GAAqB,WACxB,KAAK,SAAW,WAChBT,EAAK,QAAUS,EACfT,EAAK,iBAAmB,IAGxBA,EAAK,iBAAmBS,GAG5B,OAAOP,GAAY,WACnBF,EAAK,QAAUE,EACX,OAAOO,GAAqB,UAAY,KAAK,SAAW,YACpDA,GAAoBP,EACpB,OAAOF,EAAK,QAEZ,OAAOA,EAAK,mBAGpB,OAAOQ,GAAe,WACtBR,EAAK,WAAaQ,GACtB,KACJ,CACA,IAAK,UAAW,CACZ,IAAMR,EAAOD,EACbC,EAAK,KAAO,UACZ,KACJ,CACA,IAAK,SAAU,CACX,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,6CAA6C,EAEjE,KACJ,CACA,IAAK,SAAU,CACX,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,8CAA8C,EAElE,KACJ,CACA,IAAK,OAAQ,CACTD,EAAM,KAAO,OACb,KACJ,CACA,IAAK,MACD,MAEJ,IAAK,UACD,MAEJ,IAAK,YAAa,CACd,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,gDAAgD,EAEpE,KACJ,CACA,IAAK,OAAQ,CACT,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,2CAA2C,EAE/D,KACJ,CACA,IAAK,QAAS,CACVA,EAAM,IAAM,CAAC,EACb,KACJ,CACA,IAAK,OAAQ,CACT,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,2CAA2C,EAE/D,KACJ,CACA,IAAK,QAAS,CACV,IAAMC,EAAOD,EACP,CAAE,QAAAE,EAAS,QAAAC,CAAQ,EAAIb,EAAO,KAAK,IACrC,OAAOY,GAAY,WACnBD,EAAK,SAAWC,GAChB,OAAOC,GAAY,WACnBF,EAAK,SAAWE,GACpBF,EAAK,KAAO,QACZA,EAAK,MAAQ,KAAK,QAAQT,EAAI,QAASK,EAAAC,EAAA,GAAKf,GAAL,CAAa,KAAM,CAAC,GAAGA,EAAO,KAAM,OAAO,CAAE,EAAC,EACrF,KACJ,CACA,IAAK,SAAU,CACX,IAAMkB,EAAOD,EACbC,EAAK,KAAO,SACZA,EAAK,WAAa,CAAC,EACnB,IAAMW,EAAQpB,EAAI,MAClB,QAAWqB,KAAOD,EACdX,EAAK,WAAWY,CAAG,EAAI,KAAK,QAAQD,EAAMC,CAAG,EAAGhB,EAAAC,EAAA,GACzCf,GADyC,CAE5C,KAAM,CAAC,GAAGA,EAAO,KAAM,aAAc8B,CAAG,CAC5C,EAAC,EAGL,IAAMC,EAAU,IAAI,IAAI,OAAO,KAAKF,CAAK,CAAC,EAEpCG,EAAe,IAAI,IAAI,CAAC,GAAGD,CAAO,EAAE,OAAQD,GAAQ,CACtD,IAAMG,EAAIxB,EAAI,MAAMqB,CAAG,EAAE,KACzB,OAAI,KAAK,KAAO,QACLG,EAAE,QAAU,OAGZA,EAAE,SAAW,MAE5B,CAAC,CAAC,EACED,EAAa,KAAO,IACpBd,EAAK,SAAW,MAAM,KAAKc,CAAY,KAGvC5B,EAAAK,EAAI,WAAJ,YAAAL,EAAc,KAAK,IAAI,QAAS,QAEhCc,EAAK,qBAAuB,GAEtBT,EAAI,SAKLA,EAAI,WACTS,EAAK,qBAAuB,KAAK,QAAQT,EAAI,SAAUK,EAAAC,EAAA,GAChDf,GADgD,CAEnD,KAAM,CAAC,GAAGA,EAAO,KAAM,sBAAsB,CACjD,EAAC,GAPG,KAAK,KAAO,WACZkB,EAAK,qBAAuB,IAQpC,KACJ,CACA,IAAK,QAAS,CACV,IAAMA,EAAOD,EACbC,EAAK,MAAQT,EAAI,QAAQ,IAAI,CAACyB,EAAGC,IAAM,KAAK,QAAQD,EAAGpB,EAAAC,EAAA,GAChDf,GADgD,CAEnD,KAAM,CAAC,GAAGA,EAAO,KAAM,QAASmC,CAAC,CACrC,EAAC,CAAC,EACF,KACJ,CACA,IAAK,eAAgB,CACjB,IAAMjB,EAAOD,EACPmB,EAAI,KAAK,QAAQ3B,EAAI,KAAMK,EAAAC,EAAA,GAC1Bf,GAD0B,CAE7B,KAAM,CAAC,GAAGA,EAAO,KAAM,QAAS,CAAC,CACrC,EAAC,EACKqC,EAAI,KAAK,QAAQ5B,EAAI,MAAOK,EAAAC,EAAA,GAC3Bf,GAD2B,CAE9B,KAAM,CAAC,GAAGA,EAAO,KAAM,QAAS,CAAC,CACrC,EAAC,EACKsC,EAAwBC,GAAQ,UAAWA,GAAO,OAAO,KAAKA,CAAG,EAAE,SAAW,EAC9EC,EAAQ,CACV,GAAIF,EAAqBF,CAAC,EAAIA,EAAE,MAAQ,CAACA,CAAC,EAC1C,GAAIE,EAAqBD,CAAC,EAAIA,EAAE,MAAQ,CAACA,CAAC,CAC9C,EACAnB,EAAK,MAAQsB,EACb,KACJ,CACA,IAAK,QAAS,CACV,IAAMtB,EAAOD,EACbC,EAAK,KAAO,QACZ,IAAMuB,EAAchC,EAAI,MAAM,IAAI,CAACyB,EAAGC,IAAM,KAAK,QAAQD,EAAGpB,EAAAC,EAAA,GAAKf,GAAL,CAAa,KAAM,CAAC,GAAGA,EAAO,KAAM,cAAemC,CAAC,CAAE,EAAC,CAAC,EAOpH,GANI,KAAK,SAAW,gBAChBjB,EAAK,YAAcuB,EAGnBvB,EAAK,MAAQuB,EAEbhC,EAAI,KAAM,CACV,IAAMiC,EAAO,KAAK,QAAQjC,EAAI,KAAMK,EAAAC,EAAA,GAC7Bf,GAD6B,CAEhC,KAAM,CAAC,GAAGA,EAAO,KAAM,OAAO,CAClC,EAAC,EACG,KAAK,SAAW,gBAChBkB,EAAK,MAAQwB,EAGbxB,EAAK,gBAAkBwB,CAE/B,CAEIjC,EAAI,OACJS,EAAK,MAAQ,KAAK,QAAQT,EAAI,KAAMK,EAAAC,EAAA,GAC7Bf,GAD6B,CAEhC,KAAM,CAAC,GAAGA,EAAO,KAAM,OAAO,CAClC,EAAC,GAGL,GAAM,CAAE,QAAAmB,EAAS,QAAAC,CAAQ,EAAIb,EAAO,KAAK,IACrC,OAAOY,GAAY,WACnBD,EAAK,SAAWC,GAChB,OAAOC,GAAY,WACnBF,EAAK,SAAWE,GACpB,KACJ,CACA,IAAK,SAAU,CACX,IAAMF,EAAOD,EACbC,EAAK,KAAO,SACR,KAAK,SAAW,YAChBA,EAAK,cAAgB,KAAK,QAAQT,EAAI,QAASK,EAAAC,EAAA,GACxCf,GADwC,CAE3C,KAAM,CAAC,GAAGA,EAAO,KAAM,eAAe,CAC1C,EAAC,GAELkB,EAAK,qBAAuB,KAAK,QAAQT,EAAI,UAAWK,EAAAC,EAAA,GACjDf,GADiD,CAEpD,KAAM,CAAC,GAAGA,EAAO,KAAM,sBAAsB,CACjD,EAAC,EACD,KACJ,CACA,IAAK,MAAO,CACR,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,0CAA0C,EAE9D,KACJ,CACA,IAAK,MAAO,CACR,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,0CAA0C,EAE9D,KACJ,CACA,IAAK,OAAQ,CACT,IAAMkB,EAAOD,EACP0B,EAASC,GAAcnC,EAAI,OAAO,EAEpCkC,EAAO,MAAOV,GAAM,OAAOA,GAAM,QAAQ,IACzCf,EAAK,KAAO,UACZyB,EAAO,MAAOV,GAAM,OAAOA,GAAM,QAAQ,IACzCf,EAAK,KAAO,UAChBA,EAAK,KAAOyB,EACZ,KACJ,CACA,IAAK,UAAW,CACZ,IAAMzB,EAAOD,EACP4B,EAAO,CAAC,EACd,QAAWN,KAAO9B,EAAI,OAClB,GAAI8B,IAAQ,QACR,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,0DAA0D,UAMzE,OAAOA,GAAQ,SAAU,CAC9B,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,sDAAsD,EAGtEM,EAAK,KAAK,OAAON,CAAG,CAAC,CAE7B,MAEIM,EAAK,KAAKN,CAAG,EAGrB,GAAIM,EAAK,SAAW,EAGf,GAAIA,EAAK,SAAW,EAAG,CACxB,IAAMN,EAAMM,EAAK,CAAC,EAClB3B,EAAK,KAAOqB,IAAQ,KAAO,OAAS,OAAOA,EACvC,KAAK,SAAW,UAChBrB,EAAK,KAAO,CAACqB,CAAG,EAGhBrB,EAAK,MAAQqB,CAErB,MAEQM,EAAK,MAAOZ,GAAM,OAAOA,GAAM,QAAQ,IACvCf,EAAK,KAAO,UACZ2B,EAAK,MAAOZ,GAAM,OAAOA,GAAM,QAAQ,IACvCf,EAAK,KAAO,UACZ2B,EAAK,MAAOZ,GAAM,OAAOA,GAAM,SAAS,IACxCf,EAAK,KAAO,UACZ2B,EAAK,MAAOZ,GAAMA,IAAM,IAAI,IAC5Bf,EAAK,KAAO,QAChBA,EAAK,KAAO2B,EAEhB,KACJ,CACA,IAAK,OAAQ,CACT,IAAM3B,EAAOD,EACP6B,EAAO,CACT,KAAM,SACN,OAAQ,SACR,gBAAiB,QACrB,EACM,CAAE,QAAA3B,EAAS,QAAAC,EAAS,KAAA2B,CAAK,EAAIxC,EAAO,KAAK,IAC3CY,IAAY,SACZ2B,EAAK,UAAY3B,GACjBC,IAAY,SACZ0B,EAAK,UAAY1B,GACjB2B,EACIA,EAAK,SAAW,GAChBD,EAAK,iBAAmBC,EAAK,CAAC,EAC9B,OAAO,OAAO7B,EAAM4B,CAAI,GAGxB5B,EAAK,MAAQ6B,EAAK,IAAKC,GACLlC,EAAAC,EAAA,GAAK+B,GAAL,CAAW,iBAAkBE,CAAE,EAEhD,EAIL,OAAO,OAAO9B,EAAM4B,CAAI,EAK5B,KACJ,CACA,IAAK,YAAa,CACd,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,iDAAiD,EAErE,KACJ,CACA,IAAK,WAAY,CACb,IAAMG,EAAQ,KAAK,QAAQxC,EAAI,UAAWT,CAAM,EAChDiB,EAAM,MAAQ,CAACgC,EAAO,CAAE,KAAM,MAAO,CAAC,EACtC,KACJ,CACA,IAAK,cAAe,CAChB,KAAK,QAAQxC,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACjB,KACJ,CACA,IAAK,UAAW,CACZ,IAAMS,EAAOD,EACbC,EAAK,KAAO,UACZ,KACJ,CACA,IAAK,UAAW,CACZ,KAAK,QAAQT,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACjBQ,EAAM,QAAU,KAAK,MAAM,KAAK,UAAUR,EAAI,YAAY,CAAC,EAC3D,KACJ,CACA,IAAK,WAAY,CACb,KAAK,QAAQA,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACb,KAAK,KAAO,UACZQ,EAAM,UAAY,KAAK,MAAM,KAAK,UAAUR,EAAI,YAAY,CAAC,GACjE,KACJ,CACA,IAAK,QAAS,CAEV,KAAK,QAAQA,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACjB,IAAIyC,EACJ,GAAI,CACAA,EAAazC,EAAI,WAAW,MAAS,CACzC,OACM0C,EAAA,CACF,MAAM,IAAI,MAAM,uDAAuD,CAC3E,CACAlC,EAAM,QAAUiC,EAChB,KACJ,CACA,IAAK,MAAO,CACR,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,0CAA0C,EAE9D,KACJ,CACA,IAAK,mBAAoB,CACrB,IAAMhC,EAAOD,EACPmC,EAAU7C,EAAO,KAAK,QAC5B,GAAI,CAAC6C,EACD,MAAM,IAAI,MAAM,uCAAuC,EAC3DlC,EAAK,KAAO,SACZA,EAAK,QAAUkC,EAAQ,OACvB,KACJ,CACA,IAAK,OAAQ,CACT,IAAMC,EAAY,KAAK,KAAO,QAAW5C,EAAI,GAAG,KAAK,IAAI,OAAS,YAAcA,EAAI,IAAMA,EAAI,GAAMA,EAAI,IACxG,KAAK,QAAQ4C,EAAWrD,CAAM,EAC9BY,EAAO,IAAMyC,EACb,KACJ,CACA,IAAK,WAAY,CACb,KAAK,QAAQ5C,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACjBQ,EAAM,SAAW,GACjB,KACJ,CAEA,IAAK,UAAW,CACZ,KAAK,QAAQR,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACjB,KACJ,CACA,IAAK,WAAY,CACb,KAAK,QAAQA,EAAI,UAAWT,CAAM,EAClCY,EAAO,IAAMH,EAAI,UACjB,KACJ,CACA,IAAK,OAAQ,CACT,IAAM4C,EAAY9C,EAAO,KAAK,UAC9B,KAAK,QAAQ8C,EAAWrD,CAAM,EAC9BY,EAAO,IAAMyC,EACb,KACJ,CACA,IAAK,SAAU,CACX,GAAI,KAAK,kBAAoB,QACzB,MAAM,IAAI,MAAM,mDAAmD,EAEvE,KACJ,CACA,QAGJ,CACJ,CACJ,CAEA,IAAMC,EAAO,KAAK,iBAAiB,IAAI/C,CAAM,EAC7C,OAAI+C,GACA,OAAO,OAAO1C,EAAO,OAAQ0C,CAAI,EACjC,KAAK,KAAO,SAAWC,GAAehD,CAAM,IAE5C,OAAOK,EAAO,OAAO,SACrB,OAAOA,EAAO,OAAO,SAGrB,KAAK,KAAO,SAAWA,EAAO,OAAO,aACpCP,GAAAJ,EAAKW,EAAO,QAAQ,UAApB,OAAgCX,EAAG,QAAUW,EAAO,OAAO,YAChE,OAAOA,EAAO,OAAO,UAEL,KAAK,KAAK,IAAIL,CAAM,EACrB,MACnB,CACA,KAAKA,EAAQC,EAAS,CAhiB1B,IAAAP,EAAAC,EAAAC,EAAAC,EAAAC,EAAAmD,EAAAC,EAAAC,EAAAC,EAAAC,EAiiBQ,IAAM5D,EAAS,CACX,QAAQC,EAAAO,GAAA,YAAAA,EAAS,SAAT,KAAAP,EAAmB,MAC3B,QAAQC,EAAAM,GAAA,YAAAA,EAAS,SAAT,KAAAN,EAAmB,SAG3B,UAAUC,EAAAK,GAAA,YAAAA,EAAS,WAAT,KAAAL,EAAqB,MACnC,EAEM0D,EAAO,KAAK,KAAK,IAAItD,CAAM,EACjC,GAAI,CAACsD,EACD,MAAM,IAAI,MAAM,2CAA2C,EAK/D,IAAMC,EAAWC,GAAU,CAhjBnC,IAAA9D,EAAAC,EAAAC,EAAAC,EAAAC,EAqjBY,IAAM2D,EAAc,KAAK,SAAW,gBAAkB,QAAU,cAChE,GAAIhE,EAAO,SAAU,CACjB,IAAMiE,GAAahE,EAAAD,EAAO,SAAS,SAAS,IAAI+D,EAAM,CAAC,CAAC,IAArC,YAAA9D,EAAwC,GAErDiE,GAAehE,EAAAF,EAAO,SAAS,MAAhB,KAAAE,GAAyBiE,GAAOA,GACrD,GAAIF,EACA,MAAO,CAAE,IAAKC,EAAaD,CAAU,CAAE,EAG3C,IAAME,GAAK/D,GAAAD,EAAA4D,EAAM,CAAC,EAAE,QAAT,KAAA5D,EAAkB4D,EAAM,CAAC,EAAE,OAAO,KAAlC,KAAA3D,EAAwC,SAAS,YAAK,WACjE,OAAA2D,EAAM,CAAC,EAAE,MAAQI,EACV,CAAE,MAAOA,EAAI,IAAK,GAAG,OAAAD,EAAa,UAAU,EAAC,MAAK,OAAAF,EAAW,KAAI,OAAAG,EAAK,CACjF,CACA,GAAIJ,EAAM,CAAC,IAAMF,EACb,MAAO,CAAE,IAAK,GAAI,EAItB,IAAMO,EAAe,GAAG,OADN,IACe,KAAI,OAAAJ,EAAW,KAC1CK,GAAQhE,EAAA0D,EAAM,CAAC,EAAE,OAAO,KAAhB,KAAA1D,EAAsB,WAAW,YAAK,WACpD,MAAO,CAAE,MAAAgE,EAAO,IAAKD,EAAeC,CAAM,CAC9C,EAGMC,EAAgBP,GAAU,CAE5B,GAAIA,EAAM,CAAC,EAAE,OAAO,KAChB,OAEJ,IAAMpD,EAAOoD,EAAM,CAAC,EACd,CAAE,IAAAQ,EAAK,MAAAF,CAAM,EAAIP,EAAQC,CAAK,EACpCpD,EAAK,IAAMI,EAAA,GAAKJ,EAAK,QAEjB0D,IACA1D,EAAK,MAAQ0D,GAEjB,IAAM9D,EAASI,EAAK,OACpB,QAAWmB,KAAOvB,EACd,OAAOA,EAAOuB,CAAG,EAErBvB,EAAO,KAAOgE,CAClB,EAGA,GAAIvE,EAAO,SAAW,QAClB,QAAW+D,KAAS,KAAK,KAAK,QAAQ,EAAG,CACrC,IAAMpD,EAAOoD,EAAM,CAAC,EACpB,GAAIpD,EAAK,MACL,MAAM,IAAI,MAAM,mBACZ,KAAK,QAAAP,EAAAO,EAAK,QAAL,YAAAP,EAAY,KAAK,KAAI,WAC1B,kFAAkF,CAE9F,CAGJ,QAAW2D,KAAS,KAAK,KAAK,QAAQ,EAAG,CACrC,IAAMpD,EAAOoD,EAAM,CAAC,EAEpB,GAAIxD,IAAWwD,EAAM,CAAC,EAAG,CACrBO,EAAaP,CAAK,EAClB,QACJ,CAEA,GAAI/D,EAAO,SAAU,CACjB,IAAMwE,GAAMnE,EAAAL,EAAO,SAAS,SAAS,IAAI+D,EAAM,CAAC,CAAC,IAArC,YAAA1D,EAAwC,GACpD,GAAIE,IAAWwD,EAAM,CAAC,GAAKS,EAAK,CAC5BF,EAAaP,CAAK,EAClB,QACJ,CACJ,CAGA,IADWP,EAAA,KAAK,iBAAiB,IAAIO,EAAM,CAAC,CAAC,IAAlC,YAAAP,EAAqC,GACxC,CACJc,EAAaP,CAAK,EAClB,QACJ,CAEA,GAAIpD,EAAK,MAAO,CAEZ2D,EAAaP,CAAK,EAClB,QACJ,CAEA,GAAIpD,EAAK,MAAQ,GACTX,EAAO,SAAW,MAAO,CACzBsE,EAAaP,CAAK,EAElB,QACJ,CAER,CAEA,IAAMU,EAAa,CAACC,EAAW1E,IAAW,CAjpBlD,IAAAC,EAAAC,EAAAC,EAkpBY,IAAMQ,EAAO,KAAK,KAAK,IAAI+D,CAAS,EAC9BnE,GAASN,EAAAU,EAAK,MAAL,KAAAV,EAAYU,EAAK,OAC1BgE,EAAU5D,EAAA,GAAKR,GAErB,GAAII,EAAK,MAAQ,KACb,OAGJ,IAAM4D,EAAM5D,EAAK,IAEjB,GADAA,EAAK,IAAM,KACP4D,EAAK,CACLE,EAAWF,EAAKvE,CAAM,EAEtB,IAAM4E,EAAY,KAAK,KAAK,IAAIL,CAAG,EAAE,OACjCK,EAAU,OAAS5E,EAAO,SAAW,WAAaA,EAAO,SAAW,YACpEO,EAAO,OAAQL,EAAAK,EAAO,QAAP,KAAAL,EAAgB,CAAC,EAChCK,EAAO,MAAM,KAAKqE,CAAS,IAG3B,OAAO,OAAOrE,EAAQqE,CAAS,EAC/B,OAAO,OAAOrE,EAAQoE,CAAO,EAErC,CAEKhE,EAAK,UACN,KAAK,SAAS,CACV,UAAW+D,EACX,WAAYnE,EACZ,MAAMJ,EAAAQ,EAAK,OAAL,KAAAR,EAAa,CAAC,CACxB,CAAC,CACT,EACA,QAAW4D,IAAS,CAAC,GAAG,KAAK,KAAK,QAAQ,CAAC,EAAE,QAAQ,EACjDU,EAAWV,EAAM,CAAC,EAAG,CAAE,OAAQ,KAAK,MAAO,CAAC,EAEhD,IAAMnD,EAAS,CAAC,EAchB,GAbI,KAAK,SAAW,gBAChBA,EAAO,QAAU,+CAEZ,KAAK,SAAW,UACrBA,EAAO,QAAU,0CAEZ,KAAK,SAAW,UACrBA,EAAO,QAAU,0CAIjB,QAAQ,KAAK,mBAAmB,YAAK,OAAQ,GAE7C6C,EAAAzD,EAAO,WAAP,MAAAyD,EAAiB,IAAK,CACtB,IAAMU,GAAKT,EAAA1D,EAAO,SAAS,SAAS,IAAIO,CAAM,IAAnC,YAAAmD,EAAsC,GACjD,GAAI,CAACS,EACD,MAAM,IAAI,MAAM,oCAAoC,EACxDvD,EAAO,IAAMZ,EAAO,SAAS,IAAImE,CAAE,CACvC,CACA,OAAO,OAAOvD,EAAQiD,EAAK,GAAG,EAE9B,IAAMgB,GAAOjB,GAAAD,EAAA3D,EAAO,WAAP,YAAA2D,EAAiB,OAAjB,KAAAC,EAAyB,CAAC,EACvC,QAAWG,KAAS,KAAK,KAAK,QAAQ,EAAG,CACrC,IAAMpD,EAAOoD,EAAM,CAAC,EAChBpD,EAAK,KAAOA,EAAK,QACjBkE,EAAKlE,EAAK,KAAK,EAAIA,EAAK,IAEhC,CAEIX,EAAO,UAGH,OAAO,KAAK6E,CAAI,EAAE,OAAS,IACvB,KAAK,SAAW,gBAChBjE,EAAO,MAAQiE,EAGfjE,EAAO,YAAciE,GAIjC,GAAI,CAIA,OAAO,KAAK,MAAM,KAAK,UAAUjE,CAAM,CAAC,CAC5C,OACOkE,EAAM,CACT,MAAM,IAAI,MAAM,kCAAkC,CACtD,CACJ,CACJ,EACO,SAASC,GAAaC,EAAOxE,EAAS,CACzC,GAAIwE,aAAiBC,GAAc,CAC/B,IAAMC,EAAM,IAAInF,GAAoBS,CAAO,EACrCqE,EAAO,CAAC,EACd,QAAWd,KAASiB,EAAM,OAAO,QAAQ,EAAG,CACxC,GAAM,CAACG,EAAG5E,CAAM,EAAIwD,EACpBmB,EAAI,QAAQ3E,CAAM,CACtB,CACA,IAAM6E,EAAU,CAAC,EACXC,EAAW,CACb,SAAUL,EACV,IAAKxE,GAAA,YAAAA,EAAS,IACd,KAAAqE,CACJ,EACA,QAAWd,KAASiB,EAAM,OAAO,QAAQ,EAAG,CACxC,GAAM,CAAClD,EAAKvB,CAAM,EAAIwD,EACtBqB,EAAQtD,CAAG,EAAIoD,EAAI,KAAK3E,EAAQO,EAAAC,EAAA,GACzBP,GADyB,CAE5B,SAAA6E,CACJ,EAAC,CACL,CACA,GAAI,OAAO,KAAKR,CAAI,EAAE,OAAS,EAAG,CAC9B,IAAMb,EAAckB,EAAI,SAAW,gBAAkB,QAAU,cAC/DE,EAAQ,SAAW,CACf,CAACpB,CAAW,EAAGa,CACnB,CACJ,CACA,MAAO,CAAE,QAAAO,CAAQ,CACrB,CACA,IAAMF,EAAM,IAAInF,GAAoBS,CAAO,EAC3C,OAAA0E,EAAI,QAAQF,CAAK,EACVE,EAAI,KAAKF,EAAOxE,CAAO,CAClC,CACA,SAAS+C,GAAe+B,EAASC,EAAM,CACnC,IAAMC,EAAMD,GAAA,KAAAA,EAAQ,CAAE,KAAM,IAAI,GAAM,EACtC,GAAIC,EAAI,KAAK,IAAIF,CAAO,EACpB,MAAO,GACXE,EAAI,KAAK,IAAIF,CAAO,EAEpB,IAAM7E,EADS6E,EACI,KAAK,IACxB,OAAQ7E,EAAI,KAAM,CACd,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,OACL,IAAK,SACL,IAAK,YACL,IAAK,OACL,IAAK,MACL,IAAK,UACL,IAAK,QACL,IAAK,OACL,IAAK,UACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,mBACD,MAAO,GACX,IAAK,QACD,OAAO8C,GAAe9C,EAAI,QAAS+E,CAAG,EAE1C,IAAK,SAAU,CACX,QAAW1D,KAAOrB,EAAI,MAClB,GAAI8C,GAAe9C,EAAI,MAAMqB,CAAG,EAAG0D,CAAG,EAClC,MAAO,GAEf,MAAO,EACX,CACA,IAAK,QAAS,CACV,QAAWC,KAAUhF,EAAI,QACrB,GAAI8C,GAAekC,EAAQD,CAAG,EAC1B,MAAO,GAEf,MAAO,EACX,CACA,IAAK,eACD,OAAOjC,GAAe9C,EAAI,KAAM+E,CAAG,GAAKjC,GAAe9C,EAAI,MAAO+E,CAAG,EAEzE,IAAK,QAAS,CACV,QAAWE,KAAQjF,EAAI,MACnB,GAAI8C,GAAemC,EAAMF,CAAG,EACxB,MAAO,GAEf,MAAI,GAAA/E,EAAI,MAAQ8C,GAAe9C,EAAI,KAAM+E,CAAG,EAGhD,CACA,IAAK,SACD,OAAOjC,GAAe9C,EAAI,QAAS+E,CAAG,GAAKjC,GAAe9C,EAAI,UAAW+E,CAAG,EAEhF,IAAK,MACD,OAAOjC,GAAe9C,EAAI,QAAS+E,CAAG,GAAKjC,GAAe9C,EAAI,UAAW+E,CAAG,EAEhF,IAAK,MACD,OAAOjC,GAAe9C,EAAI,UAAW+E,CAAG,EAG5C,IAAK,UACL,IAAK,WACL,IAAK,cACL,IAAK,WACL,IAAK,WACD,OAAOjC,GAAe9C,EAAI,UAAW+E,CAAG,EAC5C,IAAK,OACD,OAAOjC,GAAe9C,EAAI,OAAO,EAAG+E,CAAG,EAC3C,IAAK,UACD,OAAOjC,GAAe9C,EAAI,UAAW+E,CAAG,EAE5C,IAAK,WACD,OAAOjC,GAAe9C,EAAI,UAAW+E,CAAG,EAE5C,IAAK,SACD,MAAO,GAEX,IAAK,YACD,MAAO,GAEX,IAAK,OACD,OAAOjC,GAAe9C,EAAI,GAAI+E,CAAG,GAAKjC,GAAe9C,EAAI,IAAK+E,CAAG,EAErE,IAAK,UACD,MAAO,GAEX,IAAK,QACD,MAAO,GAEX,QAEJ,CACA,MAAM,IAAI,MAAM,wBAAwB,OAAA/E,EAAI,KAAM,CACtD,CC52BA,IAAAkF,GAAA,GCAA,IAAAC,GAAA,GAAAC,GAAAD,GAAA,gBAAAE,GAAA,mBAAAC,GAAA,mBAAAC,GAAA,eAAAC,GAAA,SAAAC,GAAA,aAAAC,GAAA,aAAAC,GAAA,SAAAC,KAEO,IAAMC,GAAoCC,EAAa,iBAAkB,CAACC,EAAMC,IAAQ,CACtFC,GAAgB,KAAKF,EAAMC,CAAG,EAC3BE,GAAgB,KAAKH,EAAMC,CAAG,CAC1C,CAAC,EACM,SAASG,GAASC,EAAQ,CAC7B,OAAYC,GAAaR,GAAgBO,CAAM,CACnD,CACO,IAAME,GAAgCR,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9EO,GAAY,KAAKR,EAAMC,CAAG,EACvBE,GAAgB,KAAKH,EAAMC,CAAG,CAC1C,CAAC,EACM,SAASQ,GAAKJ,EAAQ,CACzB,OAAYK,GAASH,GAAYF,CAAM,CAC3C,CACO,IAAMM,GAAgCZ,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9EW,GAAY,KAAKZ,EAAMC,CAAG,EACvBE,GAAgB,KAAKH,EAAMC,CAAG,CAC1C,CAAC,EACM,SAASY,GAAKR,EAAQ,CACzB,OAAYS,GAASH,GAAYN,CAAM,CAC3C,CACO,IAAMU,GAAoChB,EAAa,iBAAkB,CAACC,EAAMC,IAAQ,CACtFe,GAAgB,KAAKhB,EAAMC,CAAG,EAC3BE,GAAgB,KAAKH,EAAMC,CAAG,CAC1C,CAAC,EACM,SAASgB,GAASZ,EAAQ,CAC7B,OAAYa,GAAaH,GAAgBV,CAAM,CACnD,CC1BA,IAAMc,GAAc,CAACC,EAAMC,IAAW,CAClCC,GAAU,KAAKF,EAAMC,CAAM,EAC3BD,EAAK,KAAO,WACZ,OAAO,iBAAiBA,EAAM,CAC1B,OAAQ,CACJ,MAAQG,GAAgBC,GAAYJ,EAAMG,CAAM,CAEpD,EACA,QAAS,CACL,MAAQA,GAAgBE,GAAaL,EAAMG,CAAM,CAErD,EACA,SAAU,CACN,MAAQG,GAAU,CACdN,EAAK,OAAO,KAAKM,CAAK,EACtBN,EAAK,QAAU,KAAK,UAAUA,EAAK,OAAaO,GAAuB,CAAC,CAC5E,CAEJ,EACA,UAAW,CACP,MAAQN,GAAW,CACfD,EAAK,OAAO,KAAK,GAAGC,CAAM,EAC1BD,EAAK,QAAU,KAAK,UAAUA,EAAK,OAAaO,GAAuB,CAAC,CAC5E,CAEJ,EACA,QAAS,CACL,KAAM,CACF,OAAOP,EAAK,OAAO,SAAW,CAClC,CAEJ,CACJ,CAAC,CAML,EACaQ,GAAgBC,EAAa,WAAYV,EAAW,EACpDW,GAAoBD,EAAa,WAAYV,GAAa,CACnE,OAAQ,KACZ,CAAC,EC3CM,IAAMY,GAA6BC,GAAOC,EAAY,EAChDC,GAAkCC,GAAYF,EAAY,EAC1DG,GAAiCC,GAAWJ,EAAY,EACxDK,GAAsCC,GAAgBN,EAAY,ECAxE,IAAMO,GAA6BC,EAAa,UAAW,CAACC,EAAMC,KAChEC,GAAS,KAAKF,EAAMC,CAAG,EAC5BD,EAAK,IAAMC,EACX,OAAO,eAAeD,EAAM,OAAQ,CAAE,MAAOC,CAAI,CAAC,EAElDD,EAAK,MAAQ,IAAIG,IAAW,CAVhC,IAAAC,EAWQ,OAAOJ,EAAK,MAAMK,EAAAC,EAAA,GACXL,GADW,CAEd,OAAQ,CACJ,IAAIG,EAAAH,EAAI,SAAJ,KAAAG,EAAc,CAAC,EACnB,GAAGD,EAAO,IAAKI,GAAO,OAAOA,GAAO,WAAa,CAAE,KAAM,CAAE,MAAOA,EAAI,IAAK,CAAE,MAAO,QAAS,EAAG,SAAU,CAAC,CAAE,CAAE,EAAIA,CAAE,CACzH,CACJ,EAEA,CACJ,EACAP,EAAK,MAAQ,CAACC,EAAKO,IAAgBC,GAAMT,EAAMC,EAAKO,CAAM,EAC1DR,EAAK,MAAQ,IAAMA,EACnBA,EAAK,UAAY,CAACU,EAAKC,KACnBD,EAAI,IAAIV,EAAMW,CAAI,EACXX,IAGXA,EAAK,MAAQ,CAACY,EAAMJ,IAAiBK,GAAMb,EAAMY,EAAMJ,EAAQ,CAAE,OAAQR,EAAK,KAAM,CAAC,EACrFA,EAAK,UAAY,CAACY,EAAMJ,IAAiBM,GAAUd,EAAMY,EAAMJ,CAAM,EACrER,EAAK,WAAa,MAAOY,EAAMJ,IAAiBO,GAAWf,EAAMY,EAAMJ,EAAQ,CAAE,OAAQR,EAAK,UAAW,CAAC,EAC1GA,EAAK,eAAiB,MAAOY,EAAMJ,IAAiBQ,GAAehB,EAAMY,EAAMJ,CAAM,EACrFR,EAAK,IAAMA,EAAK,eAEhBA,EAAK,OAAS,CAACiB,EAAOT,IAAWR,EAAK,MAAMkB,GAAOD,EAAOT,CAAM,CAAC,EACjER,EAAK,YAAemB,GAAenB,EAAK,MAAMoB,GAAYD,CAAU,CAAC,EACrEnB,EAAK,UAAaqB,GAAOrB,EAAK,MAAasB,GAAUD,CAAE,CAAC,EAExDrB,EAAK,SAAW,IAAMuB,GAASvB,CAAI,EACnCA,EAAK,SAAW,IAAMwB,GAASxB,CAAI,EACnCA,EAAK,QAAU,IAAMuB,GAASC,GAASxB,CAAI,CAAC,EAC5CA,EAAK,YAAeQ,GAAWiB,GAAYzB,EAAMQ,CAAM,EACvDR,EAAK,MAAQ,IAAM0B,GAAM1B,CAAI,EAC7BA,EAAK,GAAM2B,GAAQC,GAAM,CAAC5B,EAAM2B,CAAG,CAAC,EACpC3B,EAAK,IAAO2B,GAAQE,GAAa7B,EAAM2B,CAAG,EAC1C3B,EAAK,UAAa8B,GAAOC,GAAK/B,EAAMgC,GAAUF,CAAE,CAAC,EACjD9B,EAAK,QAAWC,GAAQgC,GAASjC,EAAMC,CAAG,EAC1CD,EAAK,SAAYC,GAAQiC,GAASlC,EAAMC,CAAG,EAE3CD,EAAK,MAASQ,GAAW2B,GAAOnC,EAAMQ,CAAM,EAC5CR,EAAK,KAAQoC,GAAWL,GAAK/B,EAAMoC,CAAM,EACzCpC,EAAK,SAAW,IAAMqC,GAASrC,CAAI,EAEnCA,EAAK,SAAYsC,GAAgB,CAC7B,IAAMC,EAAKvC,EAAK,MAAM,EACtB,OAAKwC,GAAe,IAAID,EAAI,CAAE,YAAAD,CAAY,CAAC,EACpCC,CACX,EACA,OAAO,eAAevC,EAAM,cAAe,CACvC,KAAM,CA3Dd,IAAAI,EA4DY,OAAOA,EAAKoC,GAAe,IAAIxC,CAAI,IAA5B,YAAAI,EAA+B,WAC1C,EACA,aAAc,EAClB,CAAC,EACDJ,EAAK,KAAO,IAAIyC,IAAS,CACrB,GAAIA,EAAK,SAAW,EAChB,OAAYD,GAAe,IAAIxC,CAAI,EAEvC,IAAMuC,EAAKvC,EAAK,MAAM,EACtB,OAAKwC,GAAe,IAAID,EAAIE,EAAK,CAAC,CAAC,EAC5BF,CACX,EAEAvC,EAAK,WAAa,IAAMA,EAAK,UAAU,MAAS,EAAE,QAClDA,EAAK,WAAa,IAAMA,EAAK,UAAU,IAAI,EAAE,QACtCA,EACV,EAEY0C,GAAgC3C,EAAa,aAAc,CAACC,EAAMC,IAAQ,CA9EvF,IAAAG,EAAAuC,EAAAC,EA+ESC,GAAW,KAAK7C,EAAMC,CAAG,EAC9BH,GAAQ,KAAKE,EAAMC,CAAG,EACtB,IAAM6C,EAAM9C,EAAK,KAAK,IACtBA,EAAK,QAASI,EAAA0C,EAAI,SAAJ,KAAA1C,EAAc,KAC5BJ,EAAK,WAAY2C,EAAAG,EAAI,UAAJ,KAAAH,EAAe,KAChC3C,EAAK,WAAY4C,EAAAE,EAAI,UAAJ,KAAAF,EAAe,KAEhC5C,EAAK,MAAQ,IAAIyC,IAASzC,EAAK,MAAa+C,GAAM,GAAGN,CAAI,CAAC,EAC1DzC,EAAK,SAAW,IAAIyC,IAASzC,EAAK,MAAagD,GAAS,GAAGP,CAAI,CAAC,EAChEzC,EAAK,WAAa,IAAIyC,IAASzC,EAAK,MAAaiD,GAAW,GAAGR,CAAI,CAAC,EACpEzC,EAAK,SAAW,IAAIyC,IAASzC,EAAK,MAAakD,GAAS,GAAGT,CAAI,CAAC,EAChEzC,EAAK,IAAM,IAAIyC,IAASzC,EAAK,MAAamD,GAAU,GAAGV,CAAI,CAAC,EAC5DzC,EAAK,IAAM,IAAIyC,IAASzC,EAAK,MAAaoD,GAAU,GAAGX,CAAI,CAAC,EAC5DzC,EAAK,OAAS,IAAIyC,IAASzC,EAAK,MAAaqD,GAAO,GAAGZ,CAAI,CAAC,EAC5DzC,EAAK,SAAW,IAAIyC,IAASzC,EAAK,MAAamD,GAAU,EAAG,GAAGV,CAAI,CAAC,EACpEzC,EAAK,UAAaQ,GAAWR,EAAK,MAAasD,GAAU9C,CAAM,CAAC,EAChER,EAAK,UAAaQ,GAAWR,EAAK,MAAauD,GAAU/C,CAAM,CAAC,EAEhER,EAAK,KAAO,IAAMA,EAAK,MAAawD,GAAK,CAAC,EAC1CxD,EAAK,UAAY,IAAIyC,IAASzC,EAAK,MAAayD,GAAU,GAAGhB,CAAI,CAAC,EAClEzC,EAAK,YAAc,IAAMA,EAAK,MAAa0D,GAAY,CAAC,EACxD1D,EAAK,YAAc,IAAMA,EAAK,MAAa2D,GAAY,CAAC,CAC5D,CAAC,EACYC,GAA+B7D,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5E4C,GAAW,KAAK7C,EAAMC,CAAG,EAC9ByC,GAAW,KAAK1C,EAAMC,CAAG,EACzBD,EAAK,MAASQ,GAAWR,EAAK,MAAW6D,GAAOC,GAAUtD,CAAM,CAAC,EACjER,EAAK,IAAOQ,GAAWR,EAAK,MAAW+D,GAAKC,GAAQxD,CAAM,CAAC,EAC3DR,EAAK,IAAOQ,GAAWR,EAAK,MAAWiE,GAAKC,GAAQ1D,CAAM,CAAC,EAC3DR,EAAK,MAASQ,GAAWR,EAAK,MAAWmE,GAAOC,GAAU5D,CAAM,CAAC,EACjER,EAAK,KAAQQ,GAAWR,EAAK,MAAWqE,GAAMC,GAAS9D,CAAM,CAAC,EAC9DR,EAAK,KAAQQ,GAAWR,EAAK,MAAWuE,GAAMC,GAAShE,CAAM,CAAC,EAC9DR,EAAK,OAAUQ,GAAWR,EAAK,MAAWyE,GAAQD,GAAShE,CAAM,CAAC,EAClER,EAAK,OAAUQ,GAAWR,EAAK,MAAW0E,GAAQF,GAAShE,CAAM,CAAC,EAClER,EAAK,OAAUQ,GAAWR,EAAK,MAAW2E,GAAQH,GAAShE,CAAM,CAAC,EAClER,EAAK,OAAUQ,GAAWR,EAAK,MAAW4E,GAAQC,GAAWrE,CAAM,CAAC,EACpER,EAAK,KAAQQ,GAAWR,EAAK,MAAWqE,GAAMC,GAAS9D,CAAM,CAAC,EAC9DR,EAAK,KAAQQ,GAAWR,EAAK,MAAW8E,GAAMC,GAASvE,CAAM,CAAC,EAC9DR,EAAK,MAASQ,GAAWR,EAAK,MAAWgF,GAAOC,GAAUzE,CAAM,CAAC,EACjER,EAAK,KAAQQ,GAAWR,EAAK,MAAWkF,GAAMC,GAAS3E,CAAM,CAAC,EAC9DR,EAAK,OAAUQ,GAAWR,EAAK,MAAWoF,GAAQC,GAAW7E,CAAM,CAAC,EACpER,EAAK,UAAaQ,GAAWR,EAAK,MAAWsF,GAAWC,GAAc/E,CAAM,CAAC,EAC7ER,EAAK,IAAOQ,GAAWR,EAAK,MAAWwF,GAAKC,GAAQjF,CAAM,CAAC,EAC3DR,EAAK,MAASQ,GAAWR,EAAK,MAAW0F,GAAOC,GAAUnF,CAAM,CAAC,EACjER,EAAK,KAAQQ,GAAWR,EAAK,MAAW4F,GAAMC,GAASrF,CAAM,CAAC,EAC9DR,EAAK,KAAQQ,GAAWR,EAAK,MAAW8F,GAAMC,GAASvF,CAAM,CAAC,EAC9DR,EAAK,OAAUQ,GAAWR,EAAK,MAAWgG,GAAQC,GAAWzF,CAAM,CAAC,EACpER,EAAK,OAAUQ,GAAWR,EAAK,MAAWkG,GAAQC,GAAW3F,CAAM,CAAC,EACpER,EAAK,KAAQQ,GAAWR,EAAK,MAAWoG,GAAMC,GAAS7F,CAAM,CAAC,EAE9DR,EAAK,SAAYQ,GAAWR,EAAK,MAAUsG,GAAS9F,CAAM,CAAC,EAC3DR,EAAK,KAAQQ,GAAWR,EAAK,MAAUuG,GAAK/F,CAAM,CAAC,EACnDR,EAAK,KAAQQ,GAAWR,EAAK,MAAUwG,GAAKhG,CAAM,CAAC,EACnDR,EAAK,SAAYQ,GAAWR,EAAK,MAAUyG,GAASjG,CAAM,CAAC,CAC/D,CAAC,EACM,SAASkG,GAAOlG,EAAQ,CAC3B,OAAYmG,GAAQ/C,GAAWpD,CAAM,CACzC,CACO,IAAMoG,GAAqC7G,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CACxF4G,GAAiB,KAAK7G,EAAMC,CAAG,EACpCyC,GAAW,KAAK1C,EAAMC,CAAG,CAC7B,CAAC,EACY6D,GAA8B/D,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAE1E6G,GAAU,KAAK9G,EAAMC,CAAG,EAC7B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS8G,GAAMvG,EAAQ,CAC1B,OAAYqD,GAAOC,GAAUtD,CAAM,CACvC,CACO,IAAM8D,GAA6BvE,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExE+G,GAAS,KAAKhH,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASgH,GAAKzG,EAAQ,CACzB,OAAY6D,GAAMC,GAAS9D,CAAM,CACrC,CACO,IAAMgE,GAA6BzE,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExEiH,GAAS,KAAKlH,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASkH,GAAK3G,EAAQ,CACzB,OAAY+D,GAAMC,GAAShE,CAAM,CACrC,CACO,SAAS4G,GAAO5G,EAAQ,CAC3B,OAAYiE,GAAQD,GAAShE,CAAM,CACvC,CAEO,SAAS6G,GAAO7G,EAAQ,CAC3B,OAAYkE,GAAQF,GAAShE,CAAM,CACvC,CAEO,SAAS8G,GAAO9G,EAAQ,CAC3B,OAAYmE,GAAQH,GAAShE,CAAM,CACvC,CACO,IAAMwD,GAA4BjE,EAAa,SAAU,CAACC,EAAMC,IAAQ,CAEtEsH,GAAQ,KAAKvH,EAAMC,CAAG,EAC3B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASuH,GAAIhH,EAAQ,CACxB,OAAYuD,GAAKC,GAAQxD,CAAM,CACnC,CACO,IAAM4D,GAA8BrE,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAE1EwH,GAAU,KAAKzH,EAAMC,CAAG,EAC7B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASyH,GAAMlH,EAAQ,CAC1B,OAAY2D,GAAOC,GAAU5D,CAAM,CACvC,CACO,IAAMqE,GAA+B9E,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAE5E0H,GAAW,KAAK3H,EAAMC,CAAG,EAC9B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS2H,GAAOpH,EAAQ,CAC3B,OAAYoE,GAAQC,GAAWrE,CAAM,CACzC,CACO,IAAMuE,GAA6BhF,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExE4H,GAAS,KAAK7H,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS6H,GAAKtH,EAAQ,CACzB,OAAYsE,GAAMC,GAASvE,CAAM,CACrC,CACO,IAAMyE,GAA8BlF,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAE1E8H,GAAU,KAAK/H,EAAMC,CAAG,EAC7B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS+H,GAAMxH,EAAQ,CAC1B,OAAYwE,GAAOC,GAAUzE,CAAM,CACvC,CACO,IAAM2E,GAA6BpF,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExEgI,GAAS,KAAKjI,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASiI,GAAK1H,EAAQ,CACzB,OAAY0E,GAAMC,GAAS3E,CAAM,CACrC,CACO,IAAMiF,GAA4B1F,EAAa,SAAU,CAACC,EAAMC,IAAQ,CAEtEkI,GAAQ,KAAKnI,EAAMC,CAAG,EAC3B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASmI,GAAI5H,EAAQ,CACxB,OAAYgF,GAAKC,GAAQjF,CAAM,CACnC,CACO,IAAMmF,GAA8B5F,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAE1EoI,GAAU,KAAKrI,EAAMC,CAAG,EAC7B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASqI,GAAM9H,EAAQ,CAC1B,OAAYkF,GAAOC,GAAUnF,CAAM,CACvC,CACO,IAAMqF,GAA6B9F,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExEsI,GAAS,KAAKvI,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASuI,GAAKhI,EAAQ,CACzB,OAAYoF,GAAMC,GAASrF,CAAM,CACrC,CACO,IAAMuF,GAA6BhG,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExEwI,GAAS,KAAKzI,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASyI,GAAKlI,EAAQ,CACzB,OAAYsF,GAAMC,GAASvF,CAAM,CACrC,CACO,IAAMyF,GAA+BlG,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5E0I,GAAW,KAAK3I,EAAMC,CAAG,EAC9B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS2I,GAAOpI,EAAQ,CAC3B,OAAYwF,GAAQC,GAAWzF,CAAM,CACzC,CACO,IAAM2F,GAA+BpG,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5E4I,GAAW,KAAK7I,EAAMC,CAAG,EAC9B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS6I,GAAOtI,EAAQ,CAC3B,OAAY0F,GAAQC,GAAW3F,CAAM,CACzC,CACO,IAAM6E,GAA+BtF,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAE5E8I,GAAW,KAAK/I,EAAMC,CAAG,EAC9B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAAS+I,GAAOxI,EAAQ,CAC3B,OAAY4E,GAAQC,GAAW7E,CAAM,CACzC,CACO,IAAM+E,GAAkCxF,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CAElFgJ,GAAc,KAAKjJ,EAAMC,CAAG,EACjC2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASiJ,GAAU1I,EAAQ,CAC9B,OAAY8E,GAAWC,GAAc/E,CAAM,CAC/C,CACO,IAAM6F,GAA6BtG,EAAa,UAAW,CAACC,EAAMC,IAAQ,CAExEkJ,GAAS,KAAKnJ,EAAMC,CAAG,EAC5B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASmJ,GAAK5I,EAAQ,CACzB,OAAY4F,GAAMC,GAAS7F,CAAM,CACrC,CACO,IAAM0D,GAA4BnE,EAAa,SAAU,CAACC,EAAMC,IAAQ,CAEtEoJ,GAAQ,KAAKrJ,EAAMC,CAAG,EAC3B2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASqJ,GAAI9I,EAAQ,CACxB,OAAYyD,GAAKC,GAAQ1D,CAAM,CACnC,CACO,IAAM+I,GAA2CxJ,EAAa,wBAAyB,CAACC,EAAMC,IAAQ,CAEpGuJ,GAAuB,KAAKxJ,EAAMC,CAAG,EAC1C2G,GAAgB,KAAK5G,EAAMC,CAAG,CAClC,CAAC,EACM,SAASwJ,GAAaC,EAAQC,EAAWC,EAAU,CAAC,EAAG,CAC1D,OAAYC,GAAcN,GAAuBG,EAAQC,EAAWC,CAAO,CAC/E,CACO,SAASE,GAASF,EAAS,CAC9B,OAAYC,GAAcN,GAAuB,WAAiBQ,GAAQ,SAAUH,CAAO,CAC/F,CACO,IAAMI,GAA+BjK,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAzTrF,IAAAG,EAAAuC,EAAAC,EAAAqH,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EA0TSC,GAAW,KAAKvK,EAAMC,CAAG,EAC9BH,GAAQ,KAAKE,EAAMC,CAAG,EACtBD,EAAK,GAAK,CAACwK,EAAOhK,IAAWR,EAAK,MAAayK,GAAGD,EAAOhK,CAAM,CAAC,EAChER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa0K,GAAIF,EAAOhK,CAAM,CAAC,EAClER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa0K,GAAIF,EAAOhK,CAAM,CAAC,EAClER,EAAK,GAAK,CAACwK,EAAOhK,IAAWR,EAAK,MAAa2K,GAAGH,EAAOhK,CAAM,CAAC,EAChER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa4K,GAAIJ,EAAOhK,CAAM,CAAC,EAClER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa4K,GAAIJ,EAAOhK,CAAM,CAAC,EAClER,EAAK,IAAOQ,GAAWR,EAAK,MAAM6K,GAAIrK,CAAM,CAAC,EAC7CR,EAAK,KAAQQ,GAAWR,EAAK,MAAM6K,GAAIrK,CAAM,CAAC,EAC9CR,EAAK,SAAYQ,GAAWR,EAAK,MAAayK,GAAG,EAAGjK,CAAM,CAAC,EAC3DR,EAAK,YAAeQ,GAAWR,EAAK,MAAa0K,GAAI,EAAGlK,CAAM,CAAC,EAC/DR,EAAK,SAAYQ,GAAWR,EAAK,MAAa2K,GAAG,EAAGnK,CAAM,CAAC,EAC3DR,EAAK,YAAeQ,GAAWR,EAAK,MAAa4K,GAAI,EAAGpK,CAAM,CAAC,EAC/DR,EAAK,WAAa,CAACwK,EAAOhK,IAAWR,EAAK,MAAa8K,GAAWN,EAAOhK,CAAM,CAAC,EAChFR,EAAK,KAAO,CAACwK,EAAOhK,IAAWR,EAAK,MAAa8K,GAAWN,EAAOhK,CAAM,CAAC,EAE1ER,EAAK,OAAS,IAAMA,EACpB,IAAM8C,EAAM9C,EAAK,KAAK,IACtBA,EAAK,UACD4C,EAAA,KAAK,KAAIxC,EAAA0C,EAAI,UAAJ,KAAA1C,EAAe,OAAO,mBAAmBuC,EAAAG,EAAI,mBAAJ,KAAAH,EAAwB,OAAO,iBAAiB,IAAlG,KAAAC,EAAuG,KAC3G5C,EAAK,UACDmK,EAAA,KAAK,KAAIF,EAAAnH,EAAI,UAAJ,KAAAmH,EAAe,OAAO,mBAAmBC,EAAApH,EAAI,mBAAJ,KAAAoH,EAAwB,OAAO,iBAAiB,IAAlG,KAAAC,EAAuG,KAC3GnK,EAAK,QAASoK,EAAAtH,EAAI,SAAJ,KAAAsH,EAAc,IAAI,SAAS,KAAK,GAAK,OAAO,eAAcC,EAAAvH,EAAI,aAAJ,KAAAuH,EAAkB,EAAG,EAC7FrK,EAAK,SAAW,GAChBA,EAAK,QAASsK,EAAAxH,EAAI,SAAJ,KAAAwH,EAAc,IAChC,CAAC,EACM,SAASS,GAAOvK,EAAQ,CAC3B,OAAYwK,GAAQhB,GAAWxJ,CAAM,CACzC,CACO,IAAMyK,GAAqClL,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CACxFiL,GAAiB,KAAKlL,EAAMC,CAAG,EACpC+J,GAAU,KAAKhK,EAAMC,CAAG,CAC5B,CAAC,EACM,SAAS4K,GAAIrK,EAAQ,CACxB,OAAY2K,GAAKF,GAAiBzK,CAAM,CAC5C,CACO,SAAS4K,GAAQ5K,EAAQ,CAC5B,OAAY6K,GAASJ,GAAiBzK,CAAM,CAChD,CACO,SAAS8K,GAAQ9K,EAAQ,CAC5B,OAAY+K,GAASN,GAAiBzK,CAAM,CAChD,CACO,SAASgL,GAAMhL,EAAQ,CAC1B,OAAYiL,GAAOR,GAAiBzK,CAAM,CAC9C,CACO,SAASkL,GAAOlL,EAAQ,CAC3B,OAAYmL,GAAQV,GAAiBzK,CAAM,CAC/C,CACO,IAAMoL,GAAgC7L,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9E4L,GAAY,KAAK7L,EAAMC,CAAG,EAC/BH,GAAQ,KAAKE,EAAMC,CAAG,CAC1B,CAAC,EACM,SAAS6L,GAAQtL,EAAQ,CAC5B,OAAYuL,GAASH,GAAYpL,CAAM,CAC3C,CACO,IAAMwL,GAA+BjM,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAlXrF,IAAAG,EAAAuC,EAAAC,EAmXSqJ,GAAW,KAAKjM,EAAMC,CAAG,EAC9BH,GAAQ,KAAKE,EAAMC,CAAG,EACtBD,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa0K,GAAIF,EAAOhK,CAAM,CAAC,EAClER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa0K,GAAIF,EAAOhK,CAAM,CAAC,EAClER,EAAK,GAAK,CAACwK,EAAOhK,IAAWR,EAAK,MAAayK,GAAGD,EAAOhK,CAAM,CAAC,EAChER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa0K,GAAIF,EAAOhK,CAAM,CAAC,EAClER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa0K,GAAIF,EAAOhK,CAAM,CAAC,EAClER,EAAK,GAAK,CAACwK,EAAOhK,IAAWR,EAAK,MAAa2K,GAAGH,EAAOhK,CAAM,CAAC,EAChER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa4K,GAAIJ,EAAOhK,CAAM,CAAC,EAClER,EAAK,IAAM,CAACwK,EAAOhK,IAAWR,EAAK,MAAa4K,GAAIJ,EAAOhK,CAAM,CAAC,EAClER,EAAK,SAAYQ,GAAWR,EAAK,MAAayK,GAAG,OAAO,CAAC,EAAGjK,CAAM,CAAC,EACnER,EAAK,SAAYQ,GAAWR,EAAK,MAAa2K,GAAG,OAAO,CAAC,EAAGnK,CAAM,CAAC,EACnER,EAAK,YAAeQ,GAAWR,EAAK,MAAa4K,GAAI,OAAO,CAAC,EAAGpK,CAAM,CAAC,EACvER,EAAK,YAAeQ,GAAWR,EAAK,MAAa0K,GAAI,OAAO,CAAC,EAAGlK,CAAM,CAAC,EACvER,EAAK,WAAa,CAACwK,EAAOhK,IAAWR,EAAK,MAAa8K,GAAWN,EAAOhK,CAAM,CAAC,EAChF,IAAMsC,EAAM9C,EAAK,KAAK,IACtBA,EAAK,UAAWI,EAAA0C,EAAI,UAAJ,KAAA1C,EAAe,KAC/BJ,EAAK,UAAW2C,EAAAG,EAAI,UAAJ,KAAAH,EAAe,KAC/B3C,EAAK,QAAS4C,EAAAE,EAAI,SAAJ,KAAAF,EAAc,IAChC,CAAC,EACM,SAASsJ,GAAO1L,EAAQ,CAC3B,OAAY2L,GAAQH,GAAWxL,CAAM,CACzC,CACO,IAAM4L,GAAqCrM,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CACxFoM,GAAiB,KAAKrM,EAAMC,CAAG,EACpC+L,GAAU,KAAKhM,EAAMC,CAAG,CAC5B,CAAC,EAEM,SAASqM,GAAM9L,EAAQ,CAC1B,OAAY+L,GAAOH,GAAiB5L,CAAM,CAC9C,CAEO,SAASgM,GAAOhM,EAAQ,CAC3B,OAAYiM,GAAQL,GAAiB5L,CAAM,CAC/C,CACO,IAAMkM,GAA+B3M,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5E0M,GAAW,KAAK3M,EAAMC,CAAG,EAC9BH,GAAQ,KAAKE,EAAMC,CAAG,CAC1B,CAAC,EACM,SAAS2M,GAAOpM,EAAQ,CAC3B,OAAYqM,GAAQH,GAAWlM,CAAM,CACzC,CACO,IAAMsM,GAAkC/M,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CAClF8M,GAAc,KAAK/M,EAAMC,CAAG,EACjCH,GAAQ,KAAKE,EAAMC,CAAG,CAC1B,CAAC,EACD,SAAS+M,GAAWxM,EAAQ,CACxB,OAAYwM,GAAWF,GAActM,CAAM,CAC/C,CAEO,IAAMyM,GAA6BC,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEC,GAAS,KAAKF,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACD,SAASG,GAAMC,EAAQ,CACnB,OAAYD,GAAMN,GAASO,CAAM,CACrC,CAEO,IAAMC,GAA4BC,EAAa,SAAU,CAACC,EAAMC,IAAQ,CACtEC,GAAQ,KAAKF,EAAMC,CAAG,EAC3BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACM,SAASG,IAAM,CAClB,OAAYC,GAAKP,EAAM,CAC3B,CACO,IAAMQ,GAAgCP,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9EM,GAAY,KAAKP,EAAMC,CAAG,EAC/BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACM,SAASO,IAAU,CACtB,OAAYC,GAASH,EAAU,CACnC,CACO,IAAMI,GAA8BX,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC1EU,GAAU,KAAKX,EAAMC,CAAG,EAC7BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACM,SAASW,GAAMC,EAAQ,CAC1B,OAAYC,GAAOJ,GAAUG,CAAM,CACvC,CACO,IAAME,GAA6BhB,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEe,GAAS,KAAKhB,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACD,SAASgB,GAAMJ,EAAQ,CACnB,OAAYI,GAAMF,GAASF,CAAM,CACrC,CAEO,IAAMK,GAA6BC,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEC,GAAS,KAAKF,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,IAAM,CAACI,EAAOC,IAAWL,EAAK,MAAaM,GAAIF,EAAOC,CAAM,CAAC,EAClEL,EAAK,IAAM,CAACI,EAAOC,IAAWL,EAAK,MAAaO,GAAIH,EAAOC,CAAM,CAAC,EAClE,IAAMG,EAAIR,EAAK,KAAK,IACpBA,EAAK,QAAUQ,EAAE,QAAU,IAAI,KAAKA,EAAE,OAAO,EAAI,KACjDR,EAAK,QAAUQ,EAAE,QAAU,IAAI,KAAKA,EAAE,OAAO,EAAI,IACrD,CAAC,EACM,SAASC,GAAKJ,EAAQ,CACzB,OAAYK,GAAMZ,GAASO,CAAM,CACrC,CACO,IAAMM,GAA8BZ,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC1EW,GAAU,KAAKZ,EAAMC,CAAG,EAC7BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,QAAUC,EAAI,QACnBD,EAAK,IAAM,CAACa,EAAWR,IAAWL,EAAK,MAAac,GAAUD,EAAWR,CAAM,CAAC,EAChFL,EAAK,SAAYK,GAAWL,EAAK,MAAac,GAAU,EAAGT,CAAM,CAAC,EAClEL,EAAK,IAAM,CAACe,EAAWV,IAAWL,EAAK,MAAagB,GAAUD,EAAWV,CAAM,CAAC,EAChFL,EAAK,OAAS,CAACiB,EAAKZ,IAAWL,EAAK,MAAakB,GAAOD,EAAKZ,CAAM,CAAC,EACpEL,EAAK,OAAS,IAAMA,EAAK,OAC7B,CAAC,EACM,SAASmB,GAAMC,EAASf,EAAQ,CACnC,OAAYgB,GAAOV,GAAUS,EAASf,CAAM,CAChD,CAEO,SAASiB,GAAMC,EAAQ,CAC1B,IAAMC,EAAQD,EAAO,KAAK,IAAI,MAC9B,OAAOE,GAAQ,OAAO,KAAKD,CAAK,CAAC,CACrC,CACO,IAAME,GAA+B3B,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5E0B,GAAW,KAAK3B,EAAMC,CAAG,EAC9BE,GAAQ,KAAKH,EAAMC,CAAG,EACtB2B,EAAK,WAAW5B,EAAM,QAAS,IAAMC,EAAI,KAAK,EAC9CD,EAAK,MAAQ,IAAM6B,GAAM,OAAO,KAAK7B,EAAK,KAAK,IAAI,KAAK,CAAC,EACzDA,EAAK,SAAY8B,GAAa9B,EAAK,MAAM+B,EAAAC,EAAA,GAAKhC,EAAK,KAAK,KAAf,CAAoB,SAAU8B,CAAS,EAAC,EACjF9B,EAAK,YAAc,IAAMA,EAAK,MAAM+B,EAAAC,EAAA,GAAKhC,EAAK,KAAK,KAAf,CAAoB,SAAUiC,GAAQ,CAAE,EAAC,EAC7EjC,EAAK,MAAQ,IAAMA,EAAK,MAAM+B,EAAAC,EAAA,GAAKhC,EAAK,KAAK,KAAf,CAAoB,SAAUiC,GAAQ,CAAE,EAAC,EACvEjC,EAAK,OAAS,IAAMA,EAAK,MAAM+B,EAAAC,EAAA,GAAKhC,EAAK,KAAK,KAAf,CAAoB,SAAUkC,GAAM,CAAE,EAAC,EACtElC,EAAK,MAAQ,IAAMA,EAAK,MAAM+B,EAAAC,EAAA,GAAKhC,EAAK,KAAK,KAAf,CAAoB,SAAU,MAAU,EAAC,EACvEA,EAAK,OAAUmC,GACJP,EAAK,OAAO5B,EAAMmC,CAAQ,EAErCnC,EAAK,MAASoC,GAAUR,EAAK,MAAM5B,EAAMoC,CAAK,EAC9CpC,EAAK,KAAQqC,GAAST,EAAK,KAAK5B,EAAMqC,CAAI,EAC1CrC,EAAK,KAAQqC,GAAST,EAAK,KAAK5B,EAAMqC,CAAI,EAC1CrC,EAAK,QAAU,IAAIsC,IAASV,EAAK,QAAQW,GAAavC,EAAMsC,EAAK,CAAC,CAAC,EACnEtC,EAAK,SAAW,IAAIsC,IAASV,EAAK,SAASY,GAAgBxC,EAAMsC,EAAK,CAAC,CAAC,CAC5E,CAAC,EACM,SAASG,GAAOjB,EAAOnB,EAAQ,CAClC,IAAMJ,EAAM+B,EAAA,CACR,KAAM,SACN,IAAI,OAAQ,CACR,OAAAJ,EAAK,WAAW,KAAM,QAASI,EAAA,GAAKR,EAAO,EACpC,KAAK,KAChB,GACGI,EAAK,gBAAgBvB,CAAM,GAElC,OAAO,IAAIqB,GAAUzB,CAAG,CAC5B,CAEO,SAASyC,GAAalB,EAAOnB,EAAQ,CACxC,OAAO,IAAIqB,GAAUM,EAAA,CACjB,KAAM,SACN,IAAI,OAAQ,CACR,OAAAJ,EAAK,WAAW,KAAM,QAASI,EAAA,GAAKR,EAAO,EACpC,KAAK,KAChB,EACA,SAAUU,GAAM,GACbN,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CAEO,SAASsC,GAAYnB,EAAOnB,EAAQ,CACvC,OAAO,IAAIqB,GAAUM,EAAA,CACjB,KAAM,SACN,IAAI,OAAQ,CACR,OAAAJ,EAAK,WAAW,KAAM,QAASI,EAAA,GAAKR,EAAO,EACpC,KAAK,KAChB,EACA,SAAUS,GAAQ,GACfL,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAMuC,GAA8B7C,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC1E4C,GAAU,KAAK7C,EAAMC,CAAG,EAC7BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,QAAUC,EAAI,OACvB,CAAC,EACM,SAAS6C,GAAMC,EAAS1C,EAAQ,CACnC,OAAO,IAAIuC,GAASZ,EAAA,CAChB,KAAM,QACN,QAASe,GACNnB,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAM2C,GAA2CjD,EAAa,wBAAyB,CAACC,EAAMC,IAAQ,CACzG2C,GAAS,KAAK5C,EAAMC,CAAG,EAClBgD,GAAuB,KAAKjD,EAAMC,CAAG,CAC9C,CAAC,EACM,SAASiD,GAAmBC,EAAeJ,EAAS1C,EAAQ,CAE/D,OAAO,IAAI2C,GAAsBhB,EAAA,CAC7B,KAAM,QACN,QAAAe,EACA,cAAAI,GACGvB,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAM+C,GAAqCrD,EAAa,kBAAmB,CAACC,EAAMC,IAAQ,CACxFoD,GAAiB,KAAKrD,EAAMC,CAAG,EACpCE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACM,SAASqD,GAAaC,EAAMC,EAAO,CACtC,OAAO,IAAIJ,GAAgB,CACvB,KAAM,eACN,KAAMG,EACN,MAAOC,CACX,CAAC,CACL,CACO,IAAMC,GAA8B1D,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC1EyD,GAAU,KAAK1D,EAAMC,CAAG,EAC7BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,KAAQ2D,GAAS3D,EAAK,MAAM+B,EAAAC,EAAA,GAC1BhC,EAAK,KAAK,KADgB,CAE7B,KAAM2D,CACV,EAAC,CACL,CAAC,EACM,SAASC,GAAMC,EAAOC,EAAeC,EAAS,CACjD,IAAMC,EAAUF,aAA8BG,GACxC5D,EAAS2D,EAAUD,EAAUD,EAC7BH,EAAOK,EAAUF,EAAgB,KACvC,OAAO,IAAIL,GAASzB,EAAA,CAChB,KAAM,QACN,MAAO6B,EACP,KAAAF,GACG/B,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAM6D,GAA+BnE,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5EkE,GAAW,KAAKnE,EAAMC,CAAG,EAC9BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,QAAUC,EAAI,QACnBD,EAAK,UAAYC,EAAI,SACzB,CAAC,EACM,SAASmE,GAAOC,EAASC,EAAWjE,EAAQ,CAC/C,OAAO,IAAI6D,GAAUlC,EAAA,CACjB,KAAM,SACN,QAAAqC,EACA,UAAWC,GACR1C,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CAEO,SAASkE,GAAcF,EAASC,EAAWjE,EAAQ,CACtD,IAAMmE,EAASC,GAAMJ,CAAO,EAC5B,OAAAG,EAAE,KAAK,OAAS,OACT,IAAIN,GAAUlC,EAAA,CACjB,KAAM,SACN,QAASwC,EACT,UAAWF,GACR1C,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAMqE,GAA4B3E,EAAa,SAAU,CAACC,EAAMC,IAAQ,CACtE0E,GAAQ,KAAK3E,EAAMC,CAAG,EAC3BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,QAAUC,EAAI,QACnBD,EAAK,UAAYC,EAAI,SACzB,CAAC,EACM,SAAS2E,GAAIP,EAASC,EAAWjE,EAAQ,CAC5C,OAAO,IAAIqE,GAAO1C,EAAA,CACd,KAAM,MACN,QAASqC,EACT,UAAWC,GACR1C,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAMwE,GAA4B9E,EAAa,SAAU,CAACC,EAAMC,IAAQ,CACtE6E,GAAQ,KAAK9E,EAAMC,CAAG,EAC3BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,IAAM,IAAIsC,IAAStC,EAAK,MAAW+E,GAAS,GAAGzC,CAAI,CAAC,EACzDtC,EAAK,SAAYK,GAAWL,EAAK,MAAW+E,GAAS,EAAG1E,CAAM,CAAC,EAC/DL,EAAK,IAAM,IAAIsC,IAAStC,EAAK,MAAWgF,GAAS,GAAG1C,CAAI,CAAC,EACzDtC,EAAK,KAAO,IAAIsC,IAAStC,EAAK,MAAWiF,GAAM,GAAG3C,CAAI,CAAC,CAC3D,CAAC,EACM,SAAS4C,GAAIZ,EAAWjE,EAAQ,CACnC,OAAO,IAAIwE,GAAO7C,EAAA,CACd,KAAM,MACN,UAAWsC,GACR1C,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CACO,IAAM8E,GAA6BpF,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEmF,GAAS,KAAKpF,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,KAAOC,EAAI,QAChBD,EAAK,QAAU,OAAO,OAAOC,EAAI,OAAO,EACxC,IAAMoF,EAAO,IAAI,IAAI,OAAO,KAAKpF,EAAI,OAAO,CAAC,EAC7CD,EAAK,QAAU,CAACsF,EAAQjF,IAAW,CAC/B,IAAMkF,EAAa,CAAC,EACpB,QAAWnF,KAASkF,EAChB,GAAID,EAAK,IAAIjF,CAAK,EACdmF,EAAWnF,CAAK,EAAIH,EAAI,QAAQG,CAAK,MAGrC,OAAM,IAAI,MAAM,OAAO,OAAAA,EAAK,qBAAoB,EAExD,OAAO,IAAI+E,GAAQpD,EAAAC,EAAAD,EAAAC,EAAA,GACZ/B,GADY,CAEf,OAAQ,CAAC,IACN2B,EAAK,gBAAgBvB,CAAM,GAHf,CAIf,QAASkF,CACb,EAAC,CACL,EACAvF,EAAK,QAAU,CAACsF,EAAQjF,IAAW,CAC/B,IAAMkF,EAAavD,EAAA,GAAK/B,EAAI,SAC5B,QAAWG,KAASkF,EAChB,GAAID,EAAK,IAAIjF,CAAK,EACd,OAAOmF,EAAWnF,CAAK,MAGvB,OAAM,IAAI,MAAM,OAAO,OAAAA,EAAK,qBAAoB,EAExD,OAAO,IAAI+E,GAAQpD,EAAAC,EAAAD,EAAAC,EAAA,GACZ/B,GADY,CAEf,OAAQ,CAAC,IACN2B,EAAK,gBAAgBvB,CAAM,GAHf,CAIf,QAASkF,CACb,EAAC,CACL,CACJ,CAAC,EACD,SAAS1D,GAAMyD,EAAQjF,EAAQ,CAC3B,IAAMmF,EAAU,MAAM,QAAQF,CAAM,EAAI,OAAO,YAAYA,EAAO,IAAKG,GAAM,CAACA,EAAGA,CAAC,CAAC,CAAC,EAAIH,EACxF,OAAO,IAAIH,GAAQnD,EAAA,CACf,KAAM,OACN,QAAAwD,GACG5D,EAAK,gBAAgBvB,CAAM,EACjC,CACL,CASO,SAASqF,GAAWC,EAASC,EAAQ,CACxC,OAAO,IAAIC,GAAQC,EAAA,CACf,KAAM,OACN,QAAAH,GACGI,EAAK,gBAAgBH,CAAM,EACjC,CACL,CACO,IAAMI,GAAgCC,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9EC,GAAY,KAAKF,EAAMC,CAAG,EAC/BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAI,IAAIC,EAAI,MAAM,EAChC,OAAO,eAAeD,EAAM,QAAS,CACjC,KAAM,CACF,GAAIC,EAAI,OAAO,OAAS,EACpB,MAAM,IAAI,MAAM,4EAA4E,EAEhG,OAAOA,EAAI,OAAO,CAAC,CACvB,CACJ,CAAC,CACL,CAAC,EACM,SAASG,GAAQC,EAAOX,EAAQ,CACnC,OAAO,IAAII,GAAWF,EAAA,CAClB,KAAM,UACN,OAAQ,MAAM,QAAQS,CAAK,EAAIA,EAAQ,CAACA,CAAK,GAC1CR,EAAK,gBAAgBH,CAAM,EACjC,CACL,CACO,IAAMY,GAA6BP,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEM,GAAS,KAAKP,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,IAAM,CAACQ,EAAMd,IAAWM,EAAK,MAAWS,GAASD,EAAMd,CAAM,CAAC,EACnEM,EAAK,IAAM,CAACQ,EAAMd,IAAWM,EAAK,MAAWU,GAASF,EAAMd,CAAM,CAAC,EACnEM,EAAK,KAAO,CAACW,EAAOjB,IAAWM,EAAK,MAAWY,GAAM,MAAM,QAAQD,CAAK,EAAIA,EAAQ,CAACA,CAAK,EAAGjB,CAAM,CAAC,CACxG,CAAC,EACM,SAASmB,GAAKnB,EAAQ,CACzB,OAAYoB,GAAMR,GAASZ,CAAM,CACrC,CACO,IAAMqB,GAAkChB,EAAa,eAAgB,CAACC,EAAMC,IAAQ,CAClFe,GAAc,KAAKhB,EAAMC,CAAG,EACjCE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,KAAK,MAAQ,CAACiB,EAASC,IAAS,CACjCD,EAAQ,SAAYE,GAAU,CA3uBtC,IAAAC,EAAAC,EAAAC,EA4uBY,GAAI,OAAOH,GAAU,SACjBF,EAAQ,OAAO,KAAKpB,EAAK,MAAMsB,EAAOF,EAAQ,MAAOhB,CAAG,CAAC,MAExD,CAED,IAAMsB,EAASJ,EACXI,EAAO,QACPA,EAAO,SAAW,KACtBH,EAAAG,EAAO,OAAP,OAAgBA,EAAO,KAAO,WAC9BF,EAAAE,EAAO,QAAP,OAAiBA,EAAO,MAAQN,EAAQ,QACxCK,EAAAC,EAAO,OAAP,OAAgBA,EAAO,KAAOvB,GAE9BiB,EAAQ,OAAO,KAAKpB,EAAK,MAAM0B,CAAM,CAAC,CAC1C,CACJ,EACA,IAAMC,EAASvB,EAAI,UAAUgB,EAAQ,MAAOA,CAAO,EACnD,OAAIO,aAAkB,QACXA,EAAO,KAAMA,IAChBP,EAAQ,MAAQO,EACTP,EACV,GAELA,EAAQ,MAAQO,EACTP,EACX,CACJ,CAAC,EACM,SAASQ,GAAUC,EAAI,CAC1B,OAAO,IAAIX,GAAa,CACpB,KAAM,YACN,UAAWW,CACf,CAAC,CACL,CACO,IAAMC,GAAiC5B,EAAa,cAAe,CAACC,EAAMC,IAAQ,CAChF2B,GAAa,KAAK5B,EAAMC,CAAG,EAChCE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAAS6B,GAASC,EAAW,CAChC,OAAO,IAAIH,GAAY,CACnB,KAAM,WACN,UAAWG,CACf,CAAC,CACL,CACO,IAAMC,GAAiChC,EAAa,cAAe,CAACC,EAAMC,IAAQ,CAChF+B,GAAa,KAAKhC,EAAMC,CAAG,EAChCE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAASiC,GAASH,EAAW,CAChC,OAAO,IAAIC,GAAY,CACnB,KAAM,WACN,UAAWD,CACf,CAAC,CACL,CAEO,SAASI,GAAQJ,EAAW,CAC/B,OAAOD,GAASI,GAASH,CAAS,CAAC,CACvC,CACO,IAAMK,GAAgCpC,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9EmC,GAAY,KAAKpC,EAAMC,CAAG,EAC/BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,UAClCA,EAAK,cAAgBA,EAAK,MAC9B,CAAC,EACM,SAASqC,GAASP,EAAWQ,EAAc,CAC9C,OAAO,IAAIH,GAAW,CAClB,KAAM,UACN,UAAWL,EACX,IAAI,cAAe,CACf,OAAO,OAAOQ,GAAiB,WAAaA,EAAa,EAAIA,CACjE,CACJ,CAAC,CACL,CACO,IAAMC,GAAiCxC,EAAa,cAAe,CAACC,EAAMC,IAAQ,CAChFuC,GAAa,KAAKxC,EAAMC,CAAG,EAChCE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAASyC,GAASX,EAAWQ,EAAc,CAC9C,OAAO,IAAIC,GAAY,CACnB,KAAM,WACN,UAAWT,EACX,IAAI,cAAe,CACf,OAAO,OAAOQ,GAAiB,WAAaA,EAAa,EAAIA,CACjE,CACJ,CAAC,CACL,CACO,IAAMI,GAAoC3C,EAAa,iBAAkB,CAACC,EAAMC,IAAQ,CACtF0C,GAAgB,KAAK3C,EAAMC,CAAG,EACnCE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAAS4C,GAAYd,EAAWpC,EAAQ,CAC3C,OAAO,IAAIgD,GAAe9C,EAAA,CACtB,KAAM,cACN,UAAWkC,GACRjC,EAAK,gBAAgBH,CAAM,EACjC,CACL,CACO,IAAMmD,GAAgC9C,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9E6C,GAAY,KAAK9C,EAAMC,CAAG,EAC/BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAAS+C,GAAQjB,EAAW,CAC/B,OAAO,IAAIe,GAAW,CAClB,KAAM,UACN,UAAWf,CACf,CAAC,CACL,CACO,IAAMkB,GAA8BjD,EAAa,WAAY,CAACC,EAAMC,IAAQ,CAC1EgD,GAAU,KAAKjD,EAAMC,CAAG,EAC7BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,UAClCA,EAAK,YAAcA,EAAK,MAC5B,CAAC,EACD,SAASkD,GAAOpB,EAAWqB,EAAY,CACnC,OAAO,IAAIH,GAAS,CAChB,KAAM,QACN,UAAWlB,EACX,WAAa,OAAOqB,GAAe,WAAaA,EAAa,IAAMA,CACvE,CAAC,CACL,CAEO,IAAMC,GAA4BC,EAAa,SAAU,CAACC,EAAMC,IAAQ,CACtEC,GAAQ,KAAKF,EAAMC,CAAG,EAC3BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACM,SAASG,GAAIC,EAAQ,CACxB,OAAYC,GAAKR,GAAQO,CAAM,CACnC,CACO,IAAME,GAA6BR,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEO,GAAS,KAAKR,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,GAAKC,EAAI,GACdD,EAAK,IAAMC,EAAI,GACnB,CAAC,EACM,SAASQ,GAAKC,EAAKC,EAAK,CAC3B,OAAO,IAAIJ,GAAQ,CACf,KAAM,OACN,GAAIG,EACJ,IAAKC,CAET,CAAC,CACL,CACO,IAAMC,GAAiCb,EAAa,cAAe,CAACC,EAAMC,IAAQ,CAChFY,GAAa,KAAKb,EAAMC,CAAG,EAChCE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAASc,GAASC,EAAW,CAChC,OAAO,IAAIH,GAAY,CACnB,KAAM,WACN,UAAWG,CACf,CAAC,CACL,CACO,IAAMC,GAAwCjB,EAAa,qBAAsB,CAACC,EAAMC,IAAQ,CAC9FgB,GAAoB,KAAKjB,EAAMC,CAAG,EACvCE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EACM,SAASiB,GAAgBC,EAAOd,EAAQ,CAC3C,OAAO,IAAIW,GAAmBI,EAAA,CAC1B,KAAM,mBACN,MAAAD,GACGE,EAAK,gBAAgBhB,CAAM,EACjC,CACL,CACO,IAAMiB,GAA6BvB,EAAa,UAAW,CAACC,EAAMC,IAAQ,CACxEsB,GAAS,KAAKvB,EAAMC,CAAG,EAC5BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,OAAO,CAC7C,CAAC,EACM,SAASwB,GAAKC,EAAQ,CACzB,OAAO,IAAIH,GAAQ,CACf,KAAM,OACN,OAAQG,CACZ,CAAC,CACL,CACO,IAAMC,GAAgC3B,EAAa,aAAc,CAACC,EAAMC,IAAQ,CAC9E0B,GAAY,KAAK3B,EAAMC,CAAG,EAC/BE,GAAQ,KAAKH,EAAMC,CAAG,EACtBD,EAAK,OAAS,IAAMA,EAAK,KAAK,IAAI,SACtC,CAAC,EACM,SAAS4B,GAAQb,EAAW,CAC/B,OAAO,IAAIW,GAAW,CAClB,KAAM,UACN,UAAWX,CACf,CAAC,CACL,CACO,IAAMc,GAA+B9B,EAAa,YAAa,CAACC,EAAMC,IAAQ,CAC5E6B,GAAW,KAAK9B,EAAMC,CAAG,EAC9BE,GAAQ,KAAKH,EAAMC,CAAG,CAC1B,CAAC,EAEM,SAAS8B,GAAMC,EAAI,CACtB,IAAMC,EAAK,IAASC,GAAU,CAC1B,MAAO,QAEX,CAAC,EACD,OAAAD,EAAG,KAAK,MAAQD,EACTC,CACX,CACO,SAASE,GAAOH,EAAII,EAAS,CAChC,OAAYC,GAAQR,GAAWG,GAAA,KAAAA,GAAO,IAAM,IAAOI,CAAO,CAC9D,CACO,SAASE,GAAON,EAAII,EAAU,CAAC,EAAG,CACrC,OAAYG,GAAQV,GAAWG,EAAII,CAAO,CAC9C,CAEO,SAASI,GAAYR,EAAI,CAC5B,OAAYS,GAAaT,CAAE,CAC/B,CACA,SAASU,GAAYC,EAAKtC,EAAS,CAC/B,MAAO,yBAAyB,OAAAsC,EAAI,KACxC,EAAG,CACC,IAAM3C,EAAO,IAAI6B,GAAUT,EAAA,CACvB,KAAM,SACN,MAAO,SACP,GAAKwB,GAASA,aAAgBD,EAC9B,MAAO,IACJtB,EAAK,gBAAgBhB,CAAM,EACjC,EACD,OAAAL,EAAK,KAAK,IAAI,MAAQ2C,EACf3C,CACX,CAGO,IAAM6C,GAAa,IAAIC,IAAcC,GAAY,CACpD,KAAMC,GACN,QAASC,GACT,OAAQC,GACR,UAAWC,EACf,EAAG,GAAGL,CAAI,EACH,SAASM,GAAKC,EAAQ,CACzB,IAAMC,EAAaC,GAAK,IACbC,GAAM,CAACC,GAAOJ,CAAM,EAAGK,GAAO,EAAGC,GAAQ,EAAGC,GAAM,EAAGC,GAAMP,CAAU,EAAGQ,GAAOL,GAAO,EAAGH,CAAU,CAAC,CAAC,CAC/G,EACD,OAAOA,CACX,CAGO,SAASS,GAAWC,EAAIC,EAAQ,CACnC,OAAOC,GAAKC,GAAUH,CAAE,EAAGC,CAAM,CACrC,CC59BO,IAAMG,GAAe,CACxB,aAAc,eACd,QAAS,UACT,UAAW,YACX,eAAgB,iBAChB,gBAAiB,kBACjB,kBAAmB,oBACnB,cAAe,gBACf,YAAa,cACb,gBAAiB,kBACjB,cAAe,gBACf,OAAQ,QACZ,EAGO,SAASC,GAAYC,EAAK,CACxBC,GAAO,CACR,YAAaD,CACjB,CAAC,CACL,CAEO,SAASE,IAAc,CAC1B,OAAYD,GAAO,EAAE,WACzB,CAEO,IAAIE,GAERA,KAA0BA,GAAwB,CAAC,GC9BtD,IAAAC,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,YAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,WAAAC,KAEO,SAASC,GAAOC,EAAQ,CAC3B,OAAYC,GAAuBC,GAAWF,CAAM,CACxD,CACO,SAASG,GAAOH,EAAQ,CAC3B,OAAYI,GAAuBC,GAAWL,CAAM,CACxD,CACO,SAASM,GAAQN,EAAQ,CAC5B,OAAYO,GAAwBC,GAAYR,CAAM,CAC1D,CACO,SAASS,GAAOT,EAAQ,CAC3B,OAAYU,GAAuBC,GAAWX,CAAM,CACxD,CACO,SAASY,GAAKZ,EAAQ,CACzB,OAAYa,GAAqBC,GAASd,CAAM,CACpD,ChEPAe,GAAOC,GAAG,CAAC,EDRJ,IAAMC,GAAMC,GAAE,OAAO,EACfC,GAAOD,GAAE,QAAQ,EACjBE,GAAOF,GAAE,KAAK,EACdG,GAAMH,GAAE,OAAO,EAAE,IAAI,OAAO,gBAAgB,EAAE,IAAI,OAAO,gBAAgB,EACzEI,GAAMD,GAAI,IAAI,EACdE,GAAML,GAAE,WAAW,UAAU,EAC7BM,GAAMN,GAAE,OAAO,EACfO,GAAQH,GAAI,IAAI,GAAW,EAC3BI,GAAMR,GAAE,IAAI,EACZS,GAAMT,GACNU,GAAON,GAAI,IAAI,CAAC,EAAE,IAAI,GAAI,EAC1BO,GAAQP,GAAI,IAAI,CAAC,EAAE,IAAI,KAAM,EAC7BQ,GAAOR,GAAI,IAAI,CAAC,EAAE,IAAI,UAAU,EAChCS,GAAQb,GAAE,OAAO,EAAE,OAAQ,GAAM,OAAO,CAAC,EAAE,SAAS,GAAG,CAAC,EACxDc,GAASD,GAAM,OAAQ,GAAM,CACtC,IAAME,EAAQ,OAAO,CAAC,EAAE,MAAM,GAAG,EAAE,GAAG,CAAC,EACvC,OAAOA,IAAU,QAAaA,EAAM,QAAU,CAClD,CAAC,EACYC,GAAMhB,GAAE,OAAO,EACvB,MAAM,gBAAgB,EACtB,OAAO,GAAK,EAAE,OAAS,IAAM,CAAC,EACtBiB,GAAUjB,GAAE,MAAM,CAC3BA,GAAE,OAAO,EAAGA,GAAE,OAAO,EAAGA,GAAE,QAAQ,EAAGA,GAAE,KAAK,CAChD,CAAC,EACYkB,GAAOlB,GAAE,KAAK,IAAMA,GAAE,MAAM,CAACiB,GAASjB,GAAE,MAAMkB,EAAI,EAAGlB,GAAE,OAAOM,GAAKY,EAAI,CAAC,CAAC,CAAC,EAC1EC,GAAQd,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCe,GAAQf,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCgB,GAAQhB,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCiB,GAAQjB,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCkB,GAAQP,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCQ,GAAQR,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCS,GAAQT,GAAI,OAAQ,GAAM,EAAE,SAAW,EAAE,EACzCU,GAAQV,GAAI,OAAQ,GAAM,EAAE,SAAW,GAAG,EAC1CW,GAAQ3B,GAAE,MAAM,CAACgB,GAAKX,EAAG,CAAC,EAC1BuB,GAAS5B,GAAE,MAAM,CAACwB,GAAOJ,EAAK,CAAC,EAC/BS,GAAS7B,GAAE,MAAM,CAACyB,GAAOJ,EAAK,CAAC,EAC/BS,GAAS9B,GAAE,MAAM,CAAC0B,GAAOJ,EAAK,CAAC,EAC/BS,GAAS/B,GAAE,OAAO,EAAE,MAAM,yBAAyB,EACnDgC,GAAShC,GAAE,OAAO,EAAE,MAAM,wBAAwB,EAClDiC,GAAYjC,GAAE,OAAO,EAAE,MAAM,yBAAyB,EACtDkC,GAASlC,GAAE,OAAO,EAAE,MAAM,8CAA8C,EkE7BrF,SAASmC,GAAQC,EAAU,CACzB,OAAOA,aAAa,YAAe,YAAY,OAAOA,CAAC,GAAKA,EAAE,YAAY,OAAS,YACrF,CAEA,SAASC,GAAOC,KAA8BC,EAAiB,CAC7D,GAAI,CAACJ,GAAQG,CAAC,EAAG,MAAM,IAAI,MAAM,qBAAqB,EACtD,GAAIC,EAAQ,OAAS,GAAK,CAACA,EAAQ,SAASD,EAAE,MAAM,EAClD,MAAM,IAAI,MAAM,iCAAmCC,EAAU,gBAAkBD,EAAE,MAAM,CAC3F,CAEA,SAASE,GAAUC,EAAmBC,EAAU,CAC9C,OAAK,MAAM,QAAQA,CAAG,EAClBA,EAAI,SAAW,EAAU,GACzBD,EACKC,EAAI,MAAOC,GAAS,OAAOA,GAAS,QAAQ,EAE5CD,EAAI,MAAOC,GAAS,OAAO,cAAcA,CAAI,CAAC,EALvB,EAOlC,CAIA,SAASC,GAAIC,EAAe,CAC1B,GAAI,OAAOA,GAAU,WAAY,MAAM,IAAI,MAAM,mBAAmB,EACpE,MAAO,EACT,CAEA,SAASC,GAAKC,EAAeF,EAAc,CACzC,GAAI,OAAOA,GAAU,SAAU,MAAM,IAAI,MAAM,GAAG,OAAAE,EAAK,oBAAmB,EAC1E,MAAO,EACT,CAEA,SAASC,GAAQC,EAAS,CACxB,GAAI,CAAC,OAAO,cAAcA,CAAC,EAAG,MAAM,IAAI,MAAM,oBAAoB,OAAAA,EAAG,CACvE,CAEA,SAASC,GAAKL,EAAY,CACxB,GAAI,CAAC,MAAM,QAAQA,CAAK,EAAG,MAAM,IAAI,MAAM,gBAAgB,CAC7D,CACA,SAASM,GAAQJ,EAAeF,EAAe,CAC7C,GAAI,CAACL,GAAU,GAAMK,CAAK,EAAG,MAAM,IAAI,MAAM,GAAG,OAAAE,EAAK,8BAA6B,CACpF,CACA,SAASK,GAAQL,EAAeF,EAAe,CAC7C,GAAI,CAACL,GAAU,GAAOK,CAAK,EAAG,MAAM,IAAI,MAAM,GAAG,OAAAE,EAAK,8BAA6B,CACrF,CAqBA,SAASM,MAAuCC,EAAO,CACrD,IAAMC,EAAMnB,GAAWA,EAEjBoB,EAAO,CAACpB,EAAQE,IAAYmB,GAAWrB,EAAEE,EAAEmB,CAAC,CAAC,EAE7CC,EAASJ,EAAK,IAAKK,GAAMA,EAAE,MAAM,EAAE,YAAYH,EAAMD,CAAE,EAEvDK,EAASN,EAAK,IAAKK,GAAMA,EAAE,MAAM,EAAE,OAAOH,EAAMD,CAAE,EACxD,MAAO,CAAE,OAAAG,EAAQ,OAAAE,CAAM,CACzB,CAOA,SAASC,GAASC,EAA0B,CAE1C,IAAMC,EAAW,OAAOD,GAAY,SAAWA,EAAQ,MAAM,EAAE,EAAIA,EAC7DE,EAAMD,EAAS,OACrBZ,GAAQ,WAAYY,CAAQ,EAG5B,IAAME,EAAU,IAAI,IAAIF,EAAS,IAAI,CAACG,EAAG,IAAM,CAACA,EAAG,CAAC,CAAC,CAAC,EACtD,MAAO,CACL,OAASC,IACPjB,GAAKiB,CAAM,EACJA,EAAO,IAAK,GAAK,CACtB,GAAI,CAAC,OAAO,cAAc,CAAC,GAAK,EAAI,GAAK,GAAKH,EAC5C,MAAM,IAAI,MACR,kDAAkD,SAAC,gBAAe,OAAAF,EAAS,EAE/E,OAAOC,EAAS,CAAC,CACnB,CAAC,GAEH,OAASlB,IACPK,GAAKL,CAAK,EACHA,EAAM,IAAKuB,GAAU,CAC1BtB,GAAK,kBAAmBsB,CAAM,EAC9B,IAAMC,EAAIJ,EAAQ,IAAIG,CAAM,EAC5B,GAAIC,IAAM,OAAW,MAAM,IAAI,MAAM,oBAAoB,OAAAD,EAAM,gBAAe,OAAAN,EAAS,EACvF,OAAOO,CACT,CAAC,GAGP,CAKA,SAASC,GAAKC,EAAY,GAAE,CAC1B,OAAAzB,GAAK,OAAQyB,CAAS,EACf,CACL,OAASC,IACPrB,GAAQ,cAAeqB,CAAI,EACpBA,EAAK,KAAKD,CAAS,GAE5B,OAASE,IACP3B,GAAK,cAAe2B,CAAE,EACfA,EAAG,MAAMF,CAAS,GAG/B,CAMA,SAASG,GAAQC,EAAcC,EAAM,IAAG,CACtC,OAAA5B,GAAQ2B,CAAI,EACZ7B,GAAK,UAAW8B,CAAG,EACZ,CACL,OAAOC,EAAc,CAEnB,IADA1B,GAAQ,iBAAkB0B,CAAI,EACtBA,EAAK,OAASF,EAAQ,GAAGE,EAAK,KAAKD,CAAG,EAC9C,OAAOC,CACT,EACA,OAAOhC,EAAe,CACpBM,GAAQ,iBAAkBN,CAAK,EAC/B,IAAIiC,EAAMjC,EAAM,OAChB,GAAKiC,EAAMH,EAAQ,EACjB,MAAM,IAAI,MAAM,4DAA4D,EAC9E,KAAOG,EAAM,GAAKjC,EAAMiC,EAAM,CAAC,IAAMF,EAAKE,IAGxC,IAFaA,EAAM,GACCH,EACT,IAAM,EAAG,MAAM,IAAI,MAAM,+CAA+C,EAErF,OAAO9B,EAAM,MAAM,EAAGiC,CAAG,CAC3B,EAEJ,CAaA,SAASC,GAAaC,EAAgBC,EAAcC,EAAU,CAE5D,GAAID,EAAO,EAAG,MAAM,IAAI,MAAM,8BAA8B,OAAAA,EAAI,+BAA8B,EAC9F,GAAIC,EAAK,EAAG,MAAM,IAAI,MAAM,4BAA4B,OAAAA,EAAE,+BAA8B,EAExF,GADAC,GAAKH,CAAI,EACL,CAACA,EAAK,OAAQ,MAAO,CAAA,EACzB,IAAII,EAAM,EACJC,EAAM,CAAA,EACNC,EAAS,MAAM,KAAKN,EAAOO,GAAK,CAEpC,GADAC,GAAQD,CAAC,EACLA,EAAI,GAAKA,GAAKN,EAAM,MAAM,IAAI,MAAM,oBAAoB,OAAAM,EAAG,EAC/D,OAAOA,CACT,CAAC,EACKE,EAAOH,EAAO,OACpB,OAAa,CACX,IAAII,EAAQ,EACRC,EAAO,GACX,QAASC,EAAIR,EAAKQ,EAAIH,EAAMG,IAAK,CAC/B,IAAMC,EAAQP,EAAOM,CAAC,EAChBE,EAAYb,EAAOS,EACnBK,EAAYD,EAAYD,EAC9B,GACE,CAAC,OAAO,cAAcE,CAAS,GAC/BD,EAAYb,IAASS,GACrBK,EAAYF,IAAUC,EAEtB,MAAM,IAAI,MAAM,8BAA8B,EAEhD,IAAME,EAAMD,EAAYb,EACxBQ,EAAQK,EAAYb,EACpB,IAAMe,EAAU,KAAK,MAAMD,CAAG,EAE9B,GADAV,EAAOM,CAAC,EAAIK,EACR,CAAC,OAAO,cAAcA,CAAO,GAAKA,EAAUf,EAAKQ,IAAUK,EAC7D,MAAM,IAAI,MAAM,8BAA8B,EAChD,GAAKJ,EACKM,EACLN,EAAO,GADOP,EAAMQ,MADd,SAGb,CAEA,GADAP,EAAI,KAAKK,CAAK,EACVC,EAAM,KACZ,CACA,QAASC,EAAI,EAAGA,EAAIZ,EAAK,OAAS,GAAKA,EAAKY,CAAC,IAAM,EAAGA,IAAKP,EAAI,KAAK,CAAC,EACrE,OAAOA,EAAI,QAAO,CACpB,CAEA,IAAMa,GAAM,CAACC,EAAWC,IAAuBA,IAAM,EAAID,EAAID,GAAIE,EAAGD,EAAIC,CAAC,EACnEC,GAAyC,CAACpB,EAAcC,IAC5DD,GAAQC,EAAKgB,GAAIjB,EAAMC,CAAE,GACrBoB,IAAoC,IAAK,CAC7C,IAAIjB,EAAM,CAAA,EACV,QAASO,EAAI,EAAGA,EAAI,GAAIA,IAAKP,EAAI,KAAK,GAAKO,CAAC,EAC5C,OAAOP,CACT,GAAE,EAIF,SAASkB,GAAcvB,EAAgBC,EAAcC,EAAYsB,EAAgB,CAE/E,GADArB,GAAKH,CAAI,EACLC,GAAQ,GAAKA,EAAO,GAAI,MAAM,IAAI,MAAM,6BAA6B,OAAAA,EAAM,EAC/E,GAAIC,GAAM,GAAKA,EAAK,GAAI,MAAM,IAAI,MAAM,2BAA2B,OAAAA,EAAI,EACvE,GAAImB,GAAYpB,EAAMC,CAAE,EAAI,GAC1B,MAAM,IAAI,MACR,sCAAsC,OAAAD,EAAI,QAAO,OAAAC,EAAE,eAAc,OAAAmB,GAAYpB,EAAMC,CAAE,EAAG,EAG5F,IAAIQ,EAAQ,EACRN,EAAM,EACJqB,EAAMH,GAAOrB,CAAI,EACjByB,EAAOJ,GAAOpB,CAAE,EAAK,EACrBG,EAAgB,CAAA,EACtB,QAAWsB,KAAK3B,EAAM,CAEpB,GADAQ,GAAQmB,CAAC,EACLA,GAAKF,EAAK,MAAM,IAAI,MAAM,oCAAoC,OAAAE,EAAC,UAAS,OAAA1B,EAAM,EAElF,GADAS,EAASA,GAAST,EAAQ0B,EACtBvB,EAAMH,EAAO,GAAI,MAAM,IAAI,MAAM,qCAAqC,OAAAG,EAAG,UAAS,OAAAH,EAAM,EAE5F,IADAG,GAAOH,EACAG,GAAOF,EAAIE,GAAOF,EAAIG,EAAI,MAAOK,GAAUN,EAAMF,EAAOwB,KAAU,CAAC,EAC1E,IAAME,EAAMN,GAAOlB,CAAG,EACtB,GAAIwB,IAAQ,OAAW,MAAM,IAAI,MAAM,eAAe,EACtDlB,GAASkB,EAAM,CACjB,CAEA,GADAlB,EAASA,GAAUR,EAAKE,EAAQsB,EAC5B,CAACF,GAAWpB,GAAOH,EAAM,MAAM,IAAI,MAAM,gBAAgB,EAC7D,GAAI,CAACuB,GAAWd,EAAQ,EAAG,MAAM,IAAI,MAAM,qBAAqB,OAAAA,EAAO,EACvE,OAAIc,GAAWpB,EAAM,GAAGC,EAAI,KAAKK,IAAU,CAAC,EACrCL,CACT,CAKA,SAASwB,GAAMC,EAAW,CACxBtB,GAAQsB,CAAG,EACX,IAAMC,EAAO,GAAK,EAClB,MAAO,CACL,OAASC,GAAqB,CAC5B,GAAI,CAACC,GAAQD,CAAK,EAAG,MAAM,IAAI,MAAM,yCAAyC,EAC9E,OAAOjC,GAAa,MAAM,KAAKiC,CAAK,EAAGD,EAAMD,CAAG,CAClD,EACA,OAASxB,IACP4B,GAAQ,eAAgB5B,CAAM,EACvB,WAAW,KAAKP,GAAaO,EAAQwB,EAAKC,CAAI,CAAC,GAG5D,CAOA,SAASI,GAAOC,EAAcC,EAAa,GAAK,CAE9C,GADA7B,GAAQ4B,CAAI,EACRA,GAAQ,GAAKA,EAAO,GAAI,MAAM,IAAI,MAAM,mCAAmC,EAC/E,GAAIf,GAAY,EAAGe,CAAI,EAAI,IAAMf,GAAYe,EAAM,CAAC,EAAI,GACtD,MAAM,IAAI,MAAM,wBAAwB,EAC1C,MAAO,CACL,OAASJ,GAAqB,CAC5B,GAAI,CAACC,GAAQD,CAAK,EAAG,MAAM,IAAI,MAAM,0CAA0C,EAC/E,OAAOT,GAAc,MAAM,KAAKS,CAAK,EAAG,EAAGI,EAAM,CAACC,CAAU,CAC9D,EACA,OAAS/B,IACP4B,GAAQ,gBAAiB5B,CAAM,EACxB,WAAW,KAAKiB,GAAcjB,EAAQ8B,EAAM,EAAGC,CAAU,CAAC,GAGvE,CAGA,SAASC,GAA+CC,EAAK,CAC3D,OAAAC,GAAID,CAAE,EACC,YAAaE,EAAsB,CACxC,GAAI,CACF,OAAOF,EAAG,MAAM,KAAME,CAAI,CAC5B,OAASC,EAAG,CAAC,CACf,CACF,CAEA,SAASC,GACPC,EACAL,EAAoC,CAEpC,OAAA/B,GAAQoC,CAAG,EACXJ,GAAID,CAAE,EACC,CACL,OAAOvC,EAAgB,CACrB,GAAI,CAACiC,GAAQjC,CAAI,EAAG,MAAM,IAAI,MAAM,6CAA6C,EACjF,IAAM6C,EAAMN,EAAGvC,CAAI,EAAE,MAAM,EAAG4C,CAAG,EAC3BvC,EAAM,IAAI,WAAWL,EAAK,OAAS4C,CAAG,EAC5C,OAAAvC,EAAI,IAAIL,CAAI,EACZK,EAAI,IAAIwC,EAAK7C,EAAK,MAAM,EACjBK,CACT,EACA,OAAOL,EAAgB,CACrB,GAAI,CAACiC,GAAQjC,CAAI,EAAG,MAAM,IAAI,MAAM,6CAA6C,EACjF,IAAM8C,EAAU9C,EAAK,MAAM,EAAG,CAAC4C,CAAG,EAC5BG,EAAc/C,EAAK,MAAM,CAAC4C,CAAG,EAC7BI,EAAcT,EAAGO,CAAO,EAAE,MAAM,EAAGF,CAAG,EAC5C,QAAShC,EAAI,EAAGA,EAAIgC,EAAKhC,IACvB,GAAIoC,EAAYpC,CAAC,IAAMmC,EAAYnC,CAAC,EAAG,MAAM,IAAI,MAAM,kBAAkB,EAC3E,OAAOkC,CACT,EAEJ,CA8GA,IAAMG,GACJ,OAAQ,WAAmB,KAAK,CAAA,CAAE,EAAE,UAAa,YACjD,OAAQ,WAAmB,YAAe,WAEtCC,GAAsB,CAACC,EAAWC,IAAkB,CACxDC,GAAK,SAAUF,CAAC,EAChB,IAAMG,EAAKF,EAAQ,oBAAsB,oBACnCG,EAAWH,EAAQ,YAAc,SACvC,GAAID,EAAE,OAAS,GAAK,CAACG,EAAG,KAAKH,CAAC,EAAG,MAAM,IAAI,MAAM,gBAAgB,EACjE,OAAQ,WAAmB,WAAWA,EAAG,CAAE,SAAAI,EAAU,kBAAmB,QAAQ,CAAE,CACpF,EAgBaC,GAAqBP,GAAmB,CACnD,OAAOQ,EAAC,CAAI,OAAAC,GAAOD,CAAC,EAAWA,EAAU,SAAQ,CAAI,EACrD,OAAON,EAAC,CAAI,OAAOD,GAAoBC,EAAG,EAAK,CAAG,GAChDQ,GACFC,GAAO,CAAC,EACRL,GAAS,kEAAkE,EAC3EM,GAAQ,CAAC,EACTC,GAAK,EAAE,CAAC,EAqDH,IAAMC,GAA6BC,GACxCC,GAAO,CAAC,EACRC,GAAS,kEAAkE,EAC3EC,GAAK,EAAE,CAAC,EAKJC,GAAwCC,GAC5CL,GAAMM,GAAM,EAAE,EAAGJ,GAASG,CAAG,EAAGF,GAAK,EAAE,CAAC,EAW7BI,GAAqBH,GAChC,4DAA4D,EAmDvD,IAAMI,GAAqBC,GAChCC,GACEC,GAAS,EAAIC,GAASH,EAAOA,EAAOG,CAAI,CAAC,CAAC,EAC1CC,EAAM,EAsBV,IAAMC,GAAyCC,GAC7CC,GAAS,kCAAkC,EAC3CC,GAAK,EAAE,CAAC,EAGJC,GAAqB,CAAC,UAAY,UAAY,UAAY,WAAY,SAAU,EACtF,SAASC,GAAcC,EAAW,CAChC,IAAMC,EAAID,GAAO,GACbE,GAAOF,EAAM,WAAc,EAC/B,QAASG,EAAI,EAAGA,EAAIL,GAAmB,OAAQK,KACvCF,GAAKE,EAAK,KAAO,IAAGD,GAAOJ,GAAmBK,CAAC,GAEvD,OAAOD,CACT,CAEA,SAASE,GAAaC,EAAgBC,EAAiBC,EAAgB,EAAC,CACtE,IAAMC,EAAMH,EAAO,OACfH,EAAM,EACV,QAAS,EAAI,EAAG,EAAIM,EAAK,IAAK,CAC5B,IAAMC,EAAIJ,EAAO,WAAW,CAAC,EAC7B,GAAII,EAAI,IAAMA,EAAI,IAAK,MAAM,IAAI,MAAM,mBAAmB,OAAAJ,EAAM,IAAG,EACnEH,EAAMH,GAAcG,CAAG,EAAKO,GAAK,CACnC,CACAP,EAAMH,GAAcG,CAAG,EACvB,QAAS,EAAI,EAAG,EAAIM,EAAK,IAAKN,EAAMH,GAAcG,CAAG,EAAKG,EAAO,WAAW,CAAC,EAAI,GACjF,QAASK,KAAKJ,EAAOJ,EAAMH,GAAcG,CAAG,EAAIQ,EAChD,QAAS,EAAI,EAAG,EAAI,EAAG,IAAKR,EAAMH,GAAcG,CAAG,EACnD,OAAAA,GAAOK,EACAb,GAAc,OAAOiB,GAAc,CAACT,EAAMU,GAAO,EAAE,CAAE,EAAG,GAAI,EAAG,EAAK,CAAC,CAC9E,CAsBA,SAASC,GAAUC,EAA8B,CAC/C,IAAMC,EAAiBD,IAAa,SAAW,EAAI,UAC7CE,EAASC,GAAO,CAAC,EACjBC,EAAYF,EAAO,OACnBG,EAAUH,EAAO,OACjBI,EAAkBC,GAAcH,CAAS,EAE/C,SAASI,EACPjB,EACAC,EACAiB,EAAwB,GAAE,CAE1BC,GAAK,uBAAwBnB,CAAM,EAC/BoB,GAAQnB,CAAK,IAAGA,EAAQ,MAAM,KAAKA,CAAK,GAC5CoB,GAAQ,gBAAiBpB,CAAK,EAC9B,IAAMqB,EAAOtB,EAAO,OACpB,GAAIsB,IAAS,EAAG,MAAM,IAAI,UAAU,yBAAyB,OAAAA,EAAM,EACnE,IAAMC,EAAeD,EAAO,EAAIrB,EAAM,OACtC,GAAIiB,IAAU,IAASK,EAAeL,EACpC,MAAM,IAAI,UAAU,UAAU,OAAAK,EAAY,mBAAkB,OAAAL,EAAO,EACrE,IAAMM,EAAUxB,EAAO,YAAW,EAC5ByB,EAAM1B,GAAayB,EAASvB,EAAOS,CAAc,EACvD,MAAO,GAAG,OAAAc,EAAO,KAAI,OAAAnC,GAAc,OAAOY,CAAK,GAAI,OAAAwB,EACrD,CAOA,SAASC,EAAOC,EAAaT,EAAwB,GAAE,CACrDC,GAAK,sBAAuBQ,CAAG,EAC/B,IAAMC,EAAOD,EAAI,OACjB,GAAIC,EAAO,GAAMV,IAAU,IAASU,EAAOV,EACzC,MAAM,IAAI,UAAU,0BAA0B,OAAAU,EAAI,MAAK,OAAAD,EAAG,oBAAmB,OAAAT,EAAK,IAAG,EAEvF,IAAMM,EAAUG,EAAI,YAAW,EAC/B,GAAIA,IAAQH,GAAWG,IAAQA,EAAI,YAAW,EAC5C,MAAM,IAAI,MAAM,uCAAuC,EACzD,IAAME,EAAWL,EAAQ,YAAY,GAAG,EACxC,GAAIK,IAAa,GAAKA,IAAa,GACjC,MAAM,IAAI,MAAM,yDAAyD,EAC3E,IAAM7B,EAASwB,EAAQ,MAAM,EAAGK,CAAQ,EAClCC,EAAON,EAAQ,MAAMK,EAAW,CAAC,EACvC,GAAIC,EAAK,OAAS,EAAG,MAAM,IAAI,MAAM,yCAAyC,EAC9E,IAAM7B,EAAQZ,GAAc,OAAOyC,CAAI,EAAE,MAAM,EAAG,EAAE,EAC9CL,EAAM1B,GAAaC,EAAQC,EAAOS,CAAc,EACtD,GAAI,CAACoB,EAAK,SAASL,CAAG,EAAG,MAAM,IAAI,MAAM,uBAAuB,OAAAE,EAAG,gBAAe,OAAAF,EAAG,IAAG,EACxF,MAAO,CAAE,OAAAzB,EAAQ,MAAAC,CAAK,CACxB,CAEA,IAAM8B,EAAef,GAAcU,CAAM,EAEzC,SAASM,EAAcL,EAAW,CAChC,GAAM,CAAE,OAAA3B,EAAQ,MAAAC,CAAK,EAAKyB,EAAOC,EAAK,EAAK,EAC3C,MAAO,CAAE,OAAA3B,EAAQ,MAAAC,EAAO,MAAOY,EAAUZ,CAAK,CAAC,CACjD,CAEA,SAASgC,EAAgBjC,EAAgBkC,EAAiB,CACxD,OAAOjB,EAAOjB,EAAQc,EAAQoB,CAAK,CAAC,CACtC,CAEA,MAAO,CACL,OAAAjB,EACA,OAAAS,EACA,gBAAAO,EACA,cAAAD,EACA,aAAAD,EACA,UAAAlB,EACA,gBAAAE,EACA,QAAAD,EAEJ,CAOO,IAAMqB,GAAiB3B,GAAU,QAAQ,EAQnC4B,GAAkB5B,GAAU,SAAS,ECnwB3C,IAAI6B,IACV,SAAUA,EAAQ,CACfA,EAAO,OAAUC,IACbC,GAAO,OAAOD,CAAI,EACXE,GAAkBC,EAAM,EAAE,OAAOH,CAAI,GAEhDD,EAAO,OAAUC,IACbC,GAAO,UAAUD,CAAI,EACdE,GAAkBC,EAAM,EAAE,OAAOH,CAAI,EAEpD,GAAGD,KAAWA,GAAS,CAAC,EAAE,EACnB,IAAIK,IACV,SAAUA,EAAQ,CACfA,EAAO,OAAUJ,IACbC,GAAO,OAAOD,CAAI,EACXK,GAAO,OAAOL,CAAI,GAE7BI,EAAO,OAAUJ,IACbC,GAAO,UAAUD,CAAI,EACdK,GAAO,OAAOL,CAAI,EAEjC,GAAGI,KAAWA,GAAS,CAAC,EAAE,EACnB,IAAIE,IACV,SAAUA,EAAQ,CACfA,EAAO,OAAUN,IACbC,GAAO,OAAOD,CAAI,EACXO,GAAe,OAAOP,CAAI,GAErCM,EAAO,OAAUN,IACbC,GAAO,UAAUD,CAAI,EACdO,GAAe,OAAOP,CAAI,EAEzC,GAAGM,KAAWA,GAAS,CAAC,EAAE,EACnB,IAAIE,IACV,SAAUA,EAAQ,CACfA,EAAO,SAAWC,GAAO,QACzBD,EAAO,SAAWC,GAAO,UACzBD,EAAO,OAAS,CAACE,EAAQC,EAAOC,EAAQ,MACpCC,GAAcH,CAAM,EACpBI,GAAaH,CAAK,EACXF,GAAO,OAAOC,EAAQC,EAAOC,CAAK,GAE7CJ,EAAO,OAAS,CAACR,EAAMY,EAAQ,MAC3BX,GAAO,UAAUD,CAAI,EACdS,GAAO,OAAOT,EAAMY,CAAK,EAExC,GAAGJ,KAAWA,GAAS,CAAC,EAAE,EACnB,IAAIO,IACV,SAAUA,EAAS,CAChBA,EAAQ,SAAWC,GAAQ,QAC3BD,EAAQ,SAAWC,GAAQ,UAC3BD,EAAQ,OAAS,CAACL,EAAQC,EAAOC,EAAQ,MACrCC,GAAcH,CAAM,EACpBI,GAAaH,CAAK,EACXK,GAAQ,OAAON,EAAQC,EAAOC,CAAK,GAE9CG,EAAQ,OAAS,CAACf,EAAMY,EAAQ,MAC5BX,GAAO,UAAUD,CAAI,EACdgB,GAAQ,OAAOhB,EAAMY,CAAK,EAEzC,GAAGG,KAAYA,GAAU,CAAC,EAAE,EAC5B,SAASF,GAAcI,EAAO,CAC1B,GAAI,OAAOA,GAAU,UAAYA,EAAM,SAAW,EAC9C,MAAM,IAAI,MAAM,mBAAmB,cAAOA,CAAK,EAAG,CAE1D,CACA,SAASH,GAAaG,EAAO,CACzB,GAAI,EAAE,MAAM,QAAQA,CAAK,GACrBA,EAAM,MAAMC,GAAQ,OAAOA,GAAS,QAAQ,GAC5C,MAAM,IAAI,MAAM,kBAAkB,cAAOD,CAAK,EAAG,CAEzD,CC1EO,IAAIE,IACV,SAAUA,EAAS,CAChBA,EAAQ,GAAKC,GACbD,EAAQ,KAAOE,EACnB,GAAGF,KAAYA,GAAU,CAAC,EAAE,EACrB,IAAIG,IACV,SAAUA,EAAQ,CACfA,EAAO,GAAKC,GACZD,EAAO,IAAME,EACjB,GAAGF,KAAWA,GAAS,CAAC,EAAE,EAC1B,SAASC,GAAUE,EAAM,CACrB,MAAO,CAAE,GAAI,GAAM,KAAAA,EAAM,MAAO,IAAK,CACzC,CACA,SAASD,GAAWE,EAAK,CAErB,MAAO,CAAE,GAAI,GAAO,KAAM,KAAM,MADnBA,aAAe,MAASA,EAAI,QAAU,OAAOA,CAAG,CAClB,CAC/C,CACA,SAASN,GAAcO,EAAI,CACvB,GAAI,CACA,OAAOJ,GAAUI,EAAG,CAAC,CACzB,OACOD,EAAK,CACR,OAAOF,GAAWE,CAAG,CACzB,CACJ,CACA,eAAeL,GAAaO,EAASC,EAAS,CAC1C,IAAIC,EACJ,OAAO,IAAI,QAASC,GAAY,CACxBF,IACAC,EAAQ,WAAW,IAAM,CACrBC,EAAQP,GAAW,SAAS,CAAC,CACjC,EAAGK,CAAO,GAEdD,EACK,KAAKH,GAAQ,CACd,aAAaK,CAAK,EAClBC,EAAQR,GAAUE,CAAI,CAAC,CAC3B,CAAC,EACI,MAAMC,GAAO,CACd,aAAaI,CAAK,EAClBC,EAAQP,GAAWE,CAAG,CAAC,CAC3B,CAAC,CACL,CAAC,CACL,CC3CO,IAAIM,IACV,SAAUA,EAAO,CACdA,EAAM,KAAOC,GACbD,EAAM,KAAOE,EACjB,GAAGF,KAAUA,GAAQ,CAAC,EAAE,EACjB,IAAIG,IACV,SAAUA,EAAS,CAChBA,EAAQ,KAAOC,GACfD,EAAQ,MAAQE,EACpB,GAAGF,KAAYA,GAAU,CAAC,EAAE,EAC5B,eAAsBF,GAAWK,EAAOC,EAAMC,EAAU,MAAO,CAC3D,IAAMC,EAAM,MAAMD,EAAQF,EAAOC,CAAI,EACrC,GAAKE,EAAI,GAGJ,CACD,IAAMC,EAAO,MAAMD,EAAI,KAAK,EAC5B,OAAOL,GAAcM,EAAMD,EAAI,MAAM,CACzC,KALI,QAAOE,GAAcF,CAAG,CAMhC,CACA,eAAsBP,GAAWI,EAAOC,EAAMC,EAAU,MAAO,CAC3D,IAAMC,EAAM,MAAMD,EAAQF,EAAOC,CAAI,EACrC,GAAKE,EAAI,GAGJ,CACD,IAAMC,EAAO,MAAMD,EAAI,KAAK,EAC5B,OAAOL,GAAcM,EAAMD,EAAI,MAAM,CACzC,KALI,QAAOE,GAAcF,CAAG,CAMhC,CACA,eAAeE,GAAcF,EAAK,CAC9B,GAAM,CAAE,OAAAG,EAAQ,WAAAC,CAAW,EAAIJ,EAC3BK,EACJ,GAAI,CACAA,EAAQ,MAAML,EAAI,KAAK,CAC3B,OACMM,EAAA,CACFD,EAAQD,CACZ,CACA,MAAO,CAAE,MAAAC,EAAO,OAAAF,EAAQ,GAAI,EAAM,CACtC,CACA,SAASR,GAAcM,EAAME,EAAS,IAAK,CACvC,MAAO,CAAE,GAAI,GAAM,OAAAA,EAAQ,KAAAF,CAAK,CACpC,CACA,SAASL,GAAeS,EAAOF,EAAS,IAAK,CACzC,IAAMI,EAAOF,aAAiB,MAASA,EAAM,QAAU,OAAOA,CAAK,EACnE,MAAO,CAAE,GAAI,GAAO,OAAAF,EAAQ,MAAOI,CAAI,CAC3C,CC9CO,IAAIC,IACV,SAAUA,EAAU,CACjBA,EAAS,MAAQC,GACjBD,EAAS,UAAYE,GACrBF,EAAS,KAAOG,GACpB,GAAGH,KAAaA,GAAW,CAAC,EAAE,EAC9B,IAAMI,GAAW,CAACC,EAAGC,IACbA,GAAU,KACHA,EACPA,aAAiB,IACV,CAAE,OAAQ,MAAO,KAAM,MAAM,KAAKA,EAAM,QAAQ,CAAC,CAAE,EAErDA,aAAiB,IACf,CAAE,OAAQ,MAAO,KAAM,MAAM,KAAKA,EAAM,QAAQ,CAAC,CAAE,EAErDA,aAAiB,KACf,CAAE,OAAQ,OAAQ,KAAMA,EAAM,YAAY,CAAE,EAEhDA,EAELC,GAAU,CAACF,EAAGC,IACZA,GAAU,KACHA,EACP,OAAOA,GAAU,UAAYA,EAAM,SAAW,MACvC,IAAI,IAAIA,EAAM,IAAI,EAEpB,OAAOA,GAAU,UAAYA,EAAM,SAAW,MAC5C,IAAI,IAAIA,EAAM,IAAI,EAEpB,OAAOA,GAAU,UAAYA,EAAM,SAAW,OAC5C,IAAI,KAAKA,EAAM,IAAI,EAEvBA,EAEX,SAASJ,GAAeM,EAAUC,EAAWL,GAAU,CACnD,GAAI,CACA,IAAMM,EAAaC,GAASH,CAAQ,EACpC,OAAO,KAAK,UAAUE,EAAYD,CAAQ,CAC9C,OACMG,EAAA,CACF,OAAO,IACX,CACJ,CACA,SAASX,GAAWY,EAAUC,EAAUP,GAAS,CAC7C,GAAI,CACA,IAAMQ,EAAS,KAAK,MAAMF,EAAUC,CAAO,EAC3C,OAAOH,GAASI,CAAM,CAC1B,OACOC,EAAO,CACV,OAAO,IACX,CACJ,CACA,SAASb,IAAUK,EAAUC,EAAWL,GAAUU,EAAUP,GAAS,CACjE,IAAMM,EAAW,KAAK,UAAUL,EAAUC,CAAQ,EAClD,OAAO,KAAK,MAAMI,EAAUC,CAAO,CACvC,CCxDA,IAAMG,IAAiB,CACnB,MAAO,GACP,MAAO,EACP,OAAQ,GACR,QAAS,EACb,EACWC,IACV,SAAUA,EAAQ,CACfA,EAAO,KAAOC,IACdD,EAAO,KAAOE,GACdF,EAAO,KAAOG,GACdH,EAAO,MAAQI,EACnB,GAAGJ,KAAWA,GAAS,CAAC,EAAE,EAC1B,SAASC,IAAYI,EAAS,CAC1B,IAAMC,EAASC,IAAA,GAAKR,KAAmBM,GACvC,OAAQG,GAAU,CACd,IAAMC,EAAS,KAAK,OAAAD,EAAK,MAAK,OAAOF,EAAO,MAAO,GAAG,EAChDI,EAAO,IAAM,CAAE,EACrB,MAAO,CACH,MAAOJ,EAAO,MAAQ,QAAQ,MAAM,KAAK,QAASG,CAAM,EAAIC,EAC5D,KAAMJ,EAAO,MAAQJ,GAAWQ,EAChC,MAAQJ,EAAO,OAA+CI,EAAtC,QAAQ,MAAM,KAAK,QAASD,CAAM,EAC1D,IAAMH,EAAO,OAA6CI,EAApC,QAAQ,IAAI,KAAK,QAASD,CAAM,EACtD,KAAOH,EAAO,OAA8CI,EAArC,QAAQ,KAAK,KAAK,QAASD,CAAM,EACxD,KAAMH,EAAO,QAAUH,GAAaO,EACpC,KAAMJ,EAAO,QAAU,QAAQ,KAAK,KAAK,QAASG,CAAM,EAAIC,EAC5D,MAAOJ,EAAO,QAAWK,GAAQP,GAAYO,EAAKF,CAAM,EAAIC,CAChE,CACJ,CACJ,CACA,SAASR,GAASU,EAAK,CACnB,OAAO,QAAQ,IAAI,KAAK,QAASA,EAAK,CAAE,MAAO,IAAK,CAAC,CACzD,CACA,SAAST,GAAWS,EAAK,CACrB,OAAO,QAAQ,IAAI,KAAK,QAAS,KAAK,UAAUA,EAAK,KAAM,CAAC,CAAC,CACjE,CACA,SAASR,GAAYO,EAAKF,EAAQ,CAC9B,OAAIA,IACAE,EAAM,GAAG,OAAAF,EAAM,KAAI,OAAAE,IACvB,QAAQ,KAAKA,CAAG,EACT,IAAM,QAAQ,QAAQA,CAAG,CACpC,CCjCO,IAAME,GAAe,CAE1B,SAAU,YAGV,iBAAkB,yBAGlB,YAAa,sBACf,EAaO,IAAMC,GAAY,IlFiBrB,IAAAC,GAAA,SAjCEC,MAAU,kBAAoC,IAAI,EAE3CC,GAAkB,CAAC,CAAE,SAAAC,CAAS,IAAmC,CAE5E,GAAM,CAAEC,EAAMC,CAAQ,KAAI,aAAqB,CAAC,CAAC,EAE3CC,EAAM,CAACC,EAAcC,EAAgBC,IAAmB,CAE5D,IAAMC,EAAUC,IAAWJ,EAAKC,EAAMC,CAAO,EAE7CJ,EAAQO,GAAa,CAEnB,IAAIC,EAAwB,CAAE,GAAGD,EAAWF,CAAQ,EAEpD,GAAIE,EAAU,QAAUE,GAAW,CAEjC,IAAMC,EAAOF,EAAS,OAASC,GAE/BE,GAAO,GAAGD,EAAO,EAAG,6BAA6B,EAEjDF,EAAWA,EAAS,MAAME,CAAI,CAChC,CAEA,OAAOF,CACT,CAAC,CACH,EAEMI,EAAQ,IAAM,CAElBZ,EAAQ,CAAC,CAAC,CACZ,EAEA,SACE,QAACJ,GAAQ,SAAR,CAAiB,MAAO,CAAE,KAAAG,EAAM,MAAAa,EAAO,IAAAX,CAAI,EACzC,SAAAH,EACH,CAEJ,EAEae,GAAgB,IAAM,CACjC,IAAMC,KAAM,eAAWlB,EAAO,EAC9B,GAAIkB,IAAQ,KACV,MAAM,IAAI,MAAM,qDAAqD,EAEvE,OAAOA,CACT,EAEA,SAASR,IACPJ,EACAC,EACAC,EACW,CAEX,MAAO,CACL,MAAU,KAAK,IAAI,EACnB,QAAUF,EACV,KAAUC,EACV,QAAUC,CACZ,CACF,CmFvEO,IAAMW,GAAN,KAAyB,CAK9B,YACEC,EACAC,EACA,CAPFC,GAAA,KAAiB,aACjBA,GAAA,KAAiB,cACjBA,GAAA,KAAiB,QAA+B,IAAI,KAMlD,KAAK,UAAaD,EAClB,KAAK,WAAaD,CACpB,CAEA,IAAI,UAAgB,CAClB,OAAO,KAAK,SACd,CAEA,KAAW,CACT,GAAI,CACF,IAAMG,EAAO,aAAa,QAAQ,KAAK,UAAU,EACjD,OAAOA,EAAO,KAAK,MAAMA,CAAI,EAAI,KAAK,SACxC,OAAQC,EAAA,CACN,OAAO,KAAK,SACd,CACF,CAEA,OAAgB,CACd,KAAK,IAAI,KAAK,SAAS,CACzB,CAEA,IAAKC,EAAmB,CACtB,GAAI,CACF,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUA,CAAK,CAAC,EAC3D,KAAK,aAAa,CACpB,OAASC,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACtD,CACF,CAEA,UAAWC,EAAoC,CAC7C,YAAK,MAAM,IAAIA,CAAQ,EAChB,IAAM,KAAK,MAAM,OAAOA,CAAQ,CACzC,CAEA,OAAQF,EAA2B,CACjC,KAAK,IAAIG,IAAA,GAAK,KAAK,IAAI,GAAMH,EAAO,CACtC,CAEQ,cAAqB,CAC3B,KAAK,MAAM,QAAQI,GAAcA,EAAW,CAAC,CAC/C,CACF,EClDA,IAAAC,GAIO,SCPP,IAAAC,GAAA,CACE,YAAe,CACb,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,CAAE,EAClC,CAAE,KAAQ,aAAc,KAAQ,EAAG,EACnC,CAAE,KAAQ,aAAc,KAAQ,EAAG,EACnC,CAAE,KAAQ,aAAc,KAAQ,KAAM,EACtC,CAAE,KAAQ,eAAgB,EAC1B,CAAE,KAAQ,eAAgB,EAC1B,CAAE,KAAQ,eAAgB,EAC1B,CAAE,KAAQ,eAAgB,CAC5B,EACA,OAAU,CAAC,CACb,EDqCI,IAAAC,GAAA,SApCSC,IAA+B,CAC1C,MAAwB,KACxB,MAAwB,KACxB,MAAwB,CAAC,EACzB,OAAwB,KACxB,OAAwB,CAAE,GAAGC,GAAS,MAAO,EAC7C,sBAAwB,EAC1B,EAEMC,GAAaC,GAAa,SAC1BC,IAAa,IAAI,gBAAgB,OAAO,SAAS,MAAM,EACvDC,GAAaD,IAAO,IAAI,MAAM,EAC9BE,IAAaD,GAAW,GAAG,OAAAH,GAAS,KAAI,OAAAG,IAAaH,GAErDK,MAAa,kBAA6C,IAAI,EAC9DC,GAAa,IAAIC,GAA8BH,IAAWN,GAAa,EAEhEU,GAAmB,CAAC,CAAE,SAAAC,CAAS,IAAmC,CAC7E,GAAM,CAAEC,EAAQC,CAAU,KAAI,aAAuBL,GAAW,IAAI,CAAC,EAE/DM,EAAQ,IAAM,CAClBN,GAAW,MAAM,EACjBK,EAAUL,GAAW,QAAQ,CAC/B,EAEMO,EAAaC,GACVR,GAAW,UAAUQ,CAAQ,EAGhCC,EAAUC,GAAiC,CAC/C,IAAMC,EAAYC,IAAA,GAAKR,GAAWM,GAClCV,GAAW,IAAIW,CAAS,EACxBN,EAAUM,CAAS,CACrB,EAEA,SACE,QAACZ,GAAQ,SAAR,CAAiB,MAAO,CAAE,KAAOK,EAAQ,MAAAE,EAAO,UAAAC,EAAW,OAAAE,CAAO,EAChE,SAAAN,EACH,CAEJ,EAEaU,GAAc,IAAM,CAC/B,IAAMC,KAAM,eAAWf,EAAO,EAC9B,GAAIe,IAAQ,KACV,MAAM,IAAI,MAAM,oDAAoD,EAEtE,OAAOA,CACT,E5MtCO,SAASC,IAA+B,CAC7C,GAAM,CAAEC,EAAQC,CAAU,KAAI,aAA6B,IAAI,EACzD,CAAEC,EAAOC,CAAS,KAAM,aAAqB,CAAC,CAAC,EAC/C,CAAEC,EAAQC,CAAU,KAAI,aAAqB,MAAM,EAGnDC,KAAoB,WAAO,CAAC,EAC5BC,KAAoB,WAA6C,IAAI,EACrEC,EAAuB,EACvBC,EAAuB,IAEvBC,EAAWC,GAAc,EACzBC,EAAWC,GAAY,EAEvBC,EAAUC,GAAyB,CACvC,GAAI,CAACC,GAAeJ,EAAS,IAAI,EAAG,CAClCF,EAAO,IAAI,4CAA6C,OAAO,EAC/D,MACF,CAEA,GAAM,CAAE,MAAAO,EAAO,MAAAf,EAAO,OAAAgB,CAAO,EAAIN,EAAS,KAEpCO,EAAWjB,EAAM,IAAIkB,IAAM,CAC/B,OAASC,GAAeD,EAAE,OAAQ,QAAQ,EAC1C,OAAS,CAAE,KAAOA,EAAE,OAAO,KAAM,KAAOA,EAAE,OAAO,IAAK,CACxD,EAAE,EAEIE,EAAUJ,EAAO,IAAIK,GAAKA,EAAE,GAAG,EAE/BC,EAAU,IAAIC,GAAYR,EAAOF,EAAOO,EAAM,CAAE,SAAAH,CAAS,CAAC,EAEhEK,EAAQ,GAAG,QAAS,IAAM,CACxBA,EAAQ,IAAI,KAAK,MAAM,EACvBd,EAAO,IAAI,2BAA4B,MAAM,EAC7CP,EAASqB,EAAQ,MAAM,MAAM,CAAC,EAC9BnB,EAAU,QAAQ,EAGlBC,EAAkB,QAAU,EAG5B,QAAWoB,KAAQF,EAAQ,MACzBA,EAAQ,IAAI,KAAKE,EAAK,MAAM,CAEhC,CAAC,EAEDF,EAAQ,GAAG,SAAU,IAAM,CACzBnB,EAAU,SAAS,CACrB,CAAC,EAEDmB,EAAQ,GAAG,QAAS,IAAM,CACxBnB,EAAU,SAAS,CACrB,CAAC,EAEDmB,EAAQ,GAAG,oBAAqB,IAAM,CACpCrB,EAASqB,EAAQ,MAAM,MAAM,CAAC,CAChC,CAAC,EAEDA,EAAQ,GAAG,mBAAoB,IAAM,CACnCrB,EAASqB,EAAQ,MAAM,MAAM,CAAC,CAChC,CAAC,EAEDA,EAAQ,GAAG,IAAK,CAACG,EAAOC,IAAS,CAI/B,GAFID,IAAU,WACVA,EAAM,WAAW,OAAO,GACxBA,EAAM,WAAW,OAAO,EAAG,OAE/B,IAAIE,EAAgB,OAChBC,EAAU,OAAOH,CAAK,EACtBI,EAAeH,EAGfE,EAAQ,YAAY,IAAM,SAC5BD,EAAU,OACVE,EAAU,QACDD,EAAQ,WAAW,OAAO,GACnCD,EAAO,QACHC,EAAQ,SAAS,MAAM,GAEhBA,EAAQ,SAAS,MAAM,KAChCD,EAAO,SAEAC,EAAQ,WAAW,QAAQ,IACpCD,EAAO,SAIL,OAAOE,GAAY,UAAYA,IAAY,MAAQ,OAAO,KAAKA,CAAO,EAAE,SAAW,IACrFA,EAAU,QAGZrB,EAAO,IAAIoB,EAASD,EAAME,CAAO,CACnC,CAAC,EAEDP,EAAQ,QAAQ,EAEhBvB,EAAUuB,CAAO,CACnB,EAEMQ,EAAQ,IAAM,CAElB/B,EAAU,IAAI,EAEd,eAAe,WAAWgC,GAAa,gBAAgB,EAClDjB,GAAeJ,EAAS,IAAI,EAG/BP,EAAU,QAAQ,EAFlBA,EAAU,MAAM,CAIpB,EAEM6B,EAAO,IAAM,CA7IrB,IAAAC,EA+II,GAAInC,IAAW,KACb,GAAI,CACFA,EAAO,MAAM,CACf,OAASoC,EAAG,CAEZ,CAQF,GALAnC,EAAU,IAAI,EAEd,eAAe,WAAWgC,GAAa,gBAAgB,EAGnD,OAAO,OAAW,OAAgBE,EAAA,OAAe,gBAAf,MAAAA,EAA8B,8BAClE,GAAI,CACD,OAAe,cAAc,6BAA6B,CAC7D,OAASC,EAAG,CAEZ,CAGF/B,EAAU,QAAQ,EAClBK,EAAO,IAAI,sBAAuB,MAAM,CAC1C,EAEM2B,EAAQC,GAAoB,CAE5BtC,IAAW,MAEfA,EAAO,IAAI,KAAKsC,CAAM,CACxB,EAEMC,EAAQ,IAAM,CAIlB,GAFKvB,GAAeJ,EAAS,IAAI,GAAGoB,EAAM,EAEtChC,IAAW,KAAM,OAErB,IAAMe,EAASf,EAAO,OAAe,OAErCc,EAAOC,CAAK,CACd,EAEMyB,EAAUC,GAAsB,CAEpC,GAAI,CAACzB,GAAeJ,EAAS,IAAI,EAAG,OAGpC,IAAM8B,EAAYC,GAAgB/B,EAAS,KAAK,MAAO6B,CAAQ,EAE/D,GAAI,CAACC,EAAW,CACdhC,EAAO,IAAI,0BAA2B,OAAO,EAC7C,MACF,CAEA,eAAe,QAAQuB,GAAa,iBAAkBQ,CAAQ,EAE9D,IAAM1B,EAAQ6B,GAAiBF,CAAS,EAExC5B,EAAOC,CAAK,CACd,EAEA,uBAAU,IAAM,CAEd,IAAMX,EAASyC,IAAgB7C,EAAQY,EAAS,IAAI,EAEpDP,EAAUD,CAAM,CAClB,EAAG,CAAEQ,EAAS,KAAMZ,CAAO,CAAC,KAG5B,cAAU,IAAM,CACduC,EAAM,CACR,EAAG,CAAE3B,EAAS,KAAK,MAAOA,EAAS,KAAK,MAAO,CAAC,KAIhD,cAAU,IAAM,CAEd,GAAI,OAAO,OAAW,KAAe,CAAE,OAAe,gBACpD,OAGF,IAAMkC,EAAU,OAAe,gBAE/B,GAAI1C,IAAW,SAEb,GAAI,CACF0C,EAAO,aAAa,EACpB,QAAQ,IAAI,0EAA0E,CACxF,OAASV,EAAG,CACV,QAAQ,KAAK,wDAAyDA,CAAC,CACzE,SACShC,IAAW,UAAYA,IAAW,YAAcA,IAAW,OAEpE,GAAI,CACF0C,EAAO,cAAc,EACrB,QAAQ,IAAI,2EAA2E,CACzF,OAASV,EAAG,CACV,QAAQ,KAAK,yDAA0DA,CAAC,CAC1E,CAGJ,EAAG,CAAEhC,CAAO,CAAC,KAGb,cAAU,IAAM,CAKd,GAAIA,IAAW,WAAaJ,IAAW,KACrC,OAGF,GAAIM,EAAkB,SAAWE,EAAsB,CACrDE,EAAO,IAAI,8BAA8B,OAAAF,EAAoB,aAAa,OAAO,EACjF,MACF,CAGID,EAAe,SACjB,aAAaA,EAAe,OAAO,EAIrC,IAAMwC,EAAQtC,EAAqB,KAAK,IAAI,EAAGH,EAAkB,OAAO,EACxE,OAAAA,EAAkB,UAElBI,EAAO,IAAI,oCAAoC,OAAAqC,EAAQ,IAAI,eAAc,OAAAzC,EAAkB,QAAO,KAAI,OAAAE,EAAoB,KAAK,MAAM,EAErID,EAAe,QAAU,WAAW,IAAM,CAExC,GADAA,EAAe,QAAU,KACrBP,IAAW,KAAM,CACnBU,EAAO,IAAI,6BAA8B,MAAM,EAC/C,GAAI,CAEFV,EAAO,QAAQ,CACjB,OAASoC,EAAG,CACV1B,EAAO,IAAI,kCAAmC,OAAO,CACvD,CACF,CACF,EAAGqC,CAAK,EAGD,IAAM,CACPxC,EAAe,UACjB,aAAaA,EAAe,OAAO,EACnCA,EAAe,QAAU,KAE7B,CACF,EAAG,CAAEH,EAAQJ,CAAO,CAAC,EAEd,CAAE,MAAAgC,EAAO,OAAAhC,EAAQ,KAAAkC,EAAM,MAAAhC,EAAO,KAAAmC,EAAM,MAAAE,EAAO,OAAAnC,EAAQ,OAAAoC,CAAO,CACnE,CAEA,SAASxB,GACPgC,EAC4B,CAC5B,OAAOA,EAAM,QAAU,MAAQA,EAAM,QAAU,MAAQA,EAAM,OAAO,OAAS,CAC/E,CAEA,SAASH,IACP7C,EACAY,EACa,CACb,OAAKI,GAAeJ,CAAQ,EAEjBZ,IAAW,KACb,SACEA,EAAO,SACT,SAEA,UANA,UAQX,CDhTI,IAAAiD,GAAA,SAPEC,MAAU,kBAAqC,IAAI,EAE5CC,GAAe,CAAC,CAAE,SAAAC,CAAS,IAAmC,CAEzE,IAAMC,EAAOC,GAAW,EAExB,SACE,QAACJ,GAAQ,SAAR,CAAiB,MAAOG,EACtB,SAAAD,EACH,CAEJ,EAEaG,GAAiB,IAAM,CAClC,IAAMC,KAAM,eAAWN,EAAO,EAC9B,GAAIM,IAAQ,KACV,MAAM,IAAI,MAAM,mDAAmD,EAErE,OAAOA,CACT,E+MxBI,IAAAC,GAAA,SAOK,IAAMC,GAAe,OAC1B,SAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,qBAAC,UAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAC9B,QAAC,QAAK,EAAE,iuBAAiuB,GAC3uB,EAGWC,GAAkB,OAC7B,SAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,qBAAC,QAAK,EAAE,IAAI,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,GAAG,IAAI,GAAG,IAAI,KACxD,QAAC,QAAK,EAAE,2BAA2B,GACrC,EAGWC,GAAc,OACzB,SAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,qBAAC,YAAS,OAAO,iBAAiB,KAClC,QAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GACxC,EAGWC,GAAY,OACvB,SAAC,OAAI,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACvI,qBAAC,YAAS,OAAO,eAAe,KAChC,QAAC,QAAK,EAAE,iFAAiF,KACzF,QAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,KACtC,QAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GACxC,EAsDO,IAAMC,GAAW,OACtB,SAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,qBAAC,QAAK,EAAE,IAAI,EAAE,IAAI,MAAM,KAAK,OAAO,KAAK,GAAG,IAAI,GAAG,IAAI,KACvD,QAAC,QAAK,EAAE,0DAA0D,GACpE,EAIWC,GAAY,OACvB,QAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,oBAAC,YAAS,OAAO,iBAAiB,EACpC,EAIWC,GAAc,OACzB,SAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,qBAAC,QAAK,EAAE,aAAa,KACrB,QAAC,QAAK,EAAE,aAAa,KACrB,QAAC,QAAK,EAAE,qCAAqC,KAC7C,QAAC,QAAK,EAAE,sCAAsC,GAChD,EAcK,IAAMC,GAAW,OACtB,SAAC,OAAI,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,QACxK,qBAAC,QAAK,EAAE,IAAI,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,GAAG,IAAI,GAAG,IAAI,KACxD,QAAC,QAAK,EAAE,2BAA2B,GACrC,E5O3DI,IAAAC,GAAA,SA9DD,SAASC,IAAgB,CAPhC,IAAAC,EAQE,IAAMC,EAAWC,GAAe,EAC1BC,EAAWC,GAAY,EACvBC,EAAWF,EAAS,KAAK,OACzBG,GAAWN,EAAAG,EAAS,KAAK,QAAd,YAAAH,EAAqB,SAEhC,CAAEO,EAAUC,CAAY,KAAU,aAAS,EAAE,EAC7C,CAAEC,EAAOC,CAAS,KAAgB,aAAwB,IAAI,EAC9D,CAAEC,EAASC,CAAW,KAAY,aAAS,EAAK,EAChD,CAAEC,EAAaC,CAAe,KAAI,aAAS,EAAK,EAEhDC,EAAc,MAAOC,GAAe,CAExC,GAAI,CAACA,EAAI,OAET,IAAMC,EAAcC,GAASF,EAAIL,CAAO,EAExC,GAAI,CAEF,MAAM,UAAU,UAAU,UAAUM,CAAW,EAE/CH,EAAe,EAAI,EAEnB,WAAW,IAAMA,EAAe,EAAK,EAAG,GAAI,CAC9C,OAAQK,EAAA,CAER,CACF,EAEMC,EAAc,MAAOD,GAAuB,CAIhD,GAFAA,EAAE,eAAe,EAEb,CAACZ,EAAU,CAEbG,EAAS,sBAAsB,EAC/B,MACF,CAEAT,EAAK,OAAOM,CAAQ,EAEpBC,EAAY,EAAE,CAChB,EAiBA,SAfA,cAAU,IAAM,CAEd,GADA,QAAQ,IAAI,uDAAwDP,EAAK,MAAM,EAC3EA,EAAK,SAAW,SAAU,CAE5B,IAAMM,EAAW,eAAe,QAAQc,GAAa,gBAAgB,EACrE,QAAQ,IAAI,uDAAwDd,EAAW,QAAU,WAAW,EAEhGA,IACF,QAAQ,IAAI,0CAA0C,EACtDN,EAAK,OAAOM,CAAQ,EAExB,CACF,EAAG,CAAEN,EAAK,MAAO,CAAC,EAGdA,EAAK,SAAW,YAEhB,SAAC,OAAI,UAAU,sBACb,qBAAC,MAAG,UAAU,iBAAiB,qBAAS,KACxC,SAAC,OAAI,UAAU,yBACb,qBAAC,QAAK,UAAU,aAAa,kBAAM,KACnC,QAAC,QAAK,UAAU,qBAAqB,kBAAM,GAC7C,KACA,SAAC,QAAK,SAAUmB,EAAa,UAAU,cACrC,qBAAC,SACC,KAAK,WACL,MAAOb,EACP,SAAWY,GAAMX,EAAYW,EAAE,OAAO,KAAK,EAC3C,YAAY,8BACZ,UAAU,aACV,aAAa,mBACf,KACA,QAAC,UACC,KAAK,SACL,UAAU,wBACV,SAAU,CAACZ,EACZ,kBAED,GACF,EACCE,MAAS,QAAC,OAAI,UAAU,aAAc,SAAAA,EAAM,GAC/C,KAMF,SAAC,OAAI,UAAU,sBACb,qBAAC,MAAG,UAAU,iBAAiB,qBAAS,KACxC,SAAC,OAAI,UAAU,yBACb,qBAAC,QAAK,UAAU,aAAa,kBAAM,KACnC,QAAC,QAAK,UAAW,eAAe,OAAAR,EAAK,QAAW,SAAAA,EAAK,OAAO,GAC9D,KACA,SAAC,OAAI,UAAU,kBACb,qBAAC,QAAK,UAAU,aAAa,iBAAK,EACjC,CAACI,MAAY,QAAC,OAAI,sCAA0B,EAC5CA,MACC,QAAC,OAAI,UAAU,mBACb,oBAAC,QAAK,UAAU,YACZ,SAAAA,EACJ,EACF,GAEJ,KACA,SAAC,OAAI,UAAU,kBACb,qBAAC,QAAK,UAAU,aAAa,kBAAM,EAClC,CAACC,MAAY,QAAC,OAAI,+BAAmB,EACrCA,MACC,SAAC,OAAI,UAAU,mBACb,qBAAC,QACC,UAAU,YACV,QAAS,IAAMM,EAAW,CAACD,CAAO,EAClC,MAAO,iBAAiB,OAAAA,EAAU,OAAS,MAAK,WAE9C,SAAAO,GAASZ,EAAUK,CAAO,EAC9B,KACA,QAAC,UACC,QAAS,IAAMI,EAAYT,CAAQ,EACnC,UAAW,sBAAsB,OAAAO,EAAc,SAAW,IAC1D,MAAM,oBAEL,SAAAA,KAAc,QAACS,GAAA,EAAU,KAAK,QAACC,GAAA,EAAS,EAC3C,GACF,GAEJ,KACA,SAAC,OAAI,UAAU,eACb,qBAAC,UACC,UAAU,SACV,QAAS,IAAMtB,EAAK,MAAM,EAC3B,sBAED,KACA,QAAC,UACC,UAAU,SACV,QAAS,IAAMA,EAAK,KAAK,EACzB,MAAM,YAEN,oBAACuB,GAAA,EAAS,EACZ,GACF,GACF,CAEJ,CAEA,SAASN,GACPO,EACAd,EACA,CACA,OAAIc,IAAW,KAAa,GACxBd,EAAwBc,EACrBC,GAAM,WAAWD,CAAM,CAChC,C6O3JM,IAAAE,GAAA,SALC,SAASC,IAAgB,CAC9B,IAAMC,EAAOC,GAAe,EAE5B,SACE,SAAC,OAAI,UAAU,sBACb,qBAAC,MAAG,UAAU,iBAAiB,qBAAS,EACvCD,EAAK,SAAW,WACf,QAAC,KAAE,6CAAiC,EAErCA,EAAK,SAAW,aACf,QAAC,KAAE,yCAA6B,EAEjCA,EAAK,SAAW,UAAYA,EAAK,UAChC,SAAC,SAAM,UAAU,cACf,qBAAC,SACC,qBAAC,MACC,qBAAC,MAAG,kBAAM,KACV,QAAC,MAAG,kBAAM,KACV,QAAC,MAAG,mBAAO,GACb,EACF,KACA,QAAC,SACE,SAAAA,EAAK,MAAM,IAAKE,MACf,SAAC,MACC,qBAAC,MAAG,UAAU,cAAe,SAAAA,EAAK,OAAO,KACzC,QAAC,MAAG,UAAU,cACZ,oBAAC,QAAK,UAAW,oBAAoB,OAAAA,EAAK,QACvC,SAAAA,EAAK,OACR,EACF,KACA,QAAC,MAAG,UAAU,eACZ,oBAAC,UACC,UAAU,SACV,QAAS,IAAMF,EAAK,KAAKE,EAAK,MAAM,EACpC,SAAUF,EAAK,SAAW,SAC1B,MAAM,sBAEN,oBAACG,GAAA,EAAY,EACf,EACF,IAhBOD,EAAK,MAiBd,CACD,EACH,GACF,GAEJ,CAEJ,CCjDA,IAAAE,GAA8B,SAwBV,IAAAC,GAAA,SApBb,SAASC,IAAe,CAC7B,IAAMC,EAAUC,GAAc,EAExB,CAAEC,EAAaC,CAAe,KAAI,aAAkC,CAAC,CAAC,EAEtEC,EAAiBC,GAAgB,CACrCF,EAAeG,GAASC,EAAAC,EAAA,GAAKF,GAAL,CAAW,CAACD,CAAG,EAAG,CAACC,EAAKD,CAAG,CAAE,EAAE,CACzD,EAGMI,EAAa,SAAY,CAC7BT,EAAQ,MAAM,EACdG,EAAe,CAAC,CAAC,CACnB,EAEA,SACE,SAAC,OAAI,UAAU,oBAEb,sBAAC,OAAI,UAAU,0BACb,sBAAC,MAAG,UAAU,iBAAiB,0BACnB,SAAC,QAAK,UAAU,cAAc,cAAEH,EAAQ,KAAK,OAAO,YAAQ,GACxE,KACA,QAAC,UAAO,UAAU,sBAAsB,QAASS,EAAY,MAAM,aACjE,oBAACC,GAAA,EAAU,EACb,GACF,KAEA,QAAC,KAAE,UAAU,cAAc,0CAA8B,KAEzD,QAAC,OAAI,UAAU,iBACZ,SAAAV,EAAQ,KAAK,SAAW,KACvB,QAAC,OAAI,UAAU,gBAAgB,gCAAoB,EAEnDA,EAAQ,KAAK,IAAI,CAACW,EAAKN,OACrB,SAAC,OAAc,UAAW,iBAAiB,OAAAM,EAAI,QAAU,aAAe,IACtE,sBAAC,OAAI,UAAU,eAAe,QAAS,IAAMA,EAAI,SAAWP,EAAcC,CAAG,EAC3E,sBAAC,OAAI,UAAU,eACZ,UAAAM,EAAI,YACH,QAAC,QAAK,UAAW,WAAW,OAAAT,EAAYG,CAAG,EAAI,WAAa,IACzD,SAAAH,EAAYG,CAAG,EAAI,SAAM,SAC5B,KAEF,QAAC,QAAK,UAAU,oBACb,aAAI,KAAKM,EAAI,KAAK,EAAE,mBAAmB,EAC1C,EACCA,EAAI,SAAQ,QAAC,QAAK,UAAW,8BAA8B,OAAAA,EAAI,KAAK,YAAY,GAAM,SAAAA,EAAI,KAAK,GAClG,KACA,QAAC,QAAK,UAAW,kBAAoB,SAAAA,EAAI,QAAQ,GACnD,EACCA,EAAI,SAAWT,EAAYG,CAAG,MAC7B,QAAC,OAAI,UAAU,kBACb,oBAAC,OAAK,cAAK,UAAUM,EAAI,QAAS,KAAM,CAAC,EAAE,EAC7C,IAlBMN,CAoBV,CACD,EAEL,GACF,CAEJ,CC3DI,IAAAO,GAAA,SAFG,SAASC,IAAiB,CAC/B,SACE,sBACE,qBAACC,GAAA,EAAa,KACd,QAACC,GAAA,EAAa,KACd,QAACC,GAAA,EAAY,GACf,CAEJ,CCZA,IAAAC,GAAyC,SCAzC,IAAAC,GAIO,SCMP,IAAMC,GAAcC,GAAa,YAC3BC,GAAkB,EAKjB,SAASC,IAA8B,CAG5C,GAAI,CADa,aAAa,QAAQH,EAAW,EAClC,CACb,IAAMI,EAA6B,CACjC,QAASF,GACT,YAAa,CAAC,CAChB,EACA,aAAa,QAAQF,GAAa,KAAK,UAAUI,CAAO,CAAC,CAC3D,CACF,CAKA,SAASC,IAAyC,CAChD,GAAI,CACF,IAAMC,EAAO,aAAa,QAAQN,EAAW,EAC7C,OAAKM,EAE8B,KAAK,MAAMA,CAAI,EACnC,aAAe,CAAC,EAHb,CAAC,CAIrB,OAAQ,GACN,MAAO,CAAC,CACV,CACF,CAKA,SAASC,GAAgBC,EAAqC,CAC5D,GAAI,CACF,IAAMJ,EAA6B,CACjC,QAASF,GACT,YAAAM,CACF,EACA,aAAa,QAAQR,GAAa,KAAK,UAAUI,CAAO,CAAC,CAC3D,OAAQK,EAAA,CACN,MAAM,IAAI,MAAM,2BAA2B,CAC7C,CACF,CAMO,SAASC,GACdC,EACAC,EACAC,EACkB,CAClB,IAAML,EAAcH,GAAqB,EAGzC,GAAIO,IAAS,cAAgBC,IAAc,OAAW,CACpD,IAAMC,EAAeN,EAAY,KAAKO,GACpCA,EAAE,QAAUJ,GACZI,EAAE,OAASH,GACXG,EAAE,OAASF,CACb,EAEA,GAAIC,EACF,OAAOA,EAAa,QAAU,UAAY,SAI5C,IAAME,EAAWR,EAAY,KAAKO,GAChCA,EAAE,QAAUJ,GACZI,EAAE,OAASH,GACXG,EAAE,OAAS,MACb,EAEA,GAAIC,EACF,OAAOA,EAAS,QAAU,UAAY,QAE1C,KAAO,CAEL,IAAMC,EAAaT,EAAY,KAAKO,GAClCA,EAAE,QAAUJ,GACZI,EAAE,OAASH,GACXG,EAAE,OAAS,MACb,EAEA,GAAIE,EACF,OAAOA,EAAW,QAAU,UAAY,QAE5C,CAEA,MAAO,iBACT,CAKO,SAASC,GACdP,EACAC,EACAO,EACAC,EACM,CAIN,IAAMC,EAHchB,GAAqB,EAGZ,OAAOU,GAClC,EAAEA,EAAE,QAAUJ,GAASI,EAAE,OAASH,GAAQG,EAAE,OAASK,EACvD,EAGME,EAAgC,CACpC,MAAAX,EACA,KAAAC,EACA,KAAMQ,IAAS,OAAYA,EAAO,OAClC,QAAAD,EACA,UAAW,KAAK,IAAI,CACtB,EAEAE,EAAS,KAAKC,CAAa,EAC3Bf,GAAgBc,CAAQ,CAC1B,CAKO,SAASE,GACdZ,EACAC,EACAQ,EACM,CAEN,IAAMC,EADchB,GAAqB,EACZ,OAAOU,GAClC,EAAEA,EAAE,QAAUJ,GAASI,EAAE,OAASH,GAAQG,EAAE,OAASK,EACvD,EAEAb,GAAgBc,CAAQ,CAC1B,CAKO,SAASG,GAAgBb,EAAqB,CAEnD,IAAMU,EADchB,GAAqB,EACZ,OAAOU,GAAKA,EAAE,QAAUJ,CAAK,EAE1DJ,GAAgBc,CAAQ,CAC1B,CAKO,SAASI,GAAgBd,EAAkC,CAChE,IAAMH,EAAcH,GAAqB,EAEzC,OAAIM,EACKH,EAAY,OAAOO,GAAKA,EAAE,QAAUJ,CAAK,EAG3CH,CACT,CAiCO,SAASkB,GACdC,EACAC,EACAC,EACM,CACN,IAAMC,EAAWC,GAAqB,EAChCC,EAAY,KAAK,IAAI,EAGrBC,EAA6BL,EAAiB,IAAIM,IAAM,CAC5D,MAAAP,EACA,KAAMO,EAAE,KACR,KAAMA,EAAE,OAAS,OAAYA,EAAE,KAAO,OACtC,QAAAL,EACA,UAAAG,CACF,EAAE,EAYIG,EAAU,CAAC,GATAL,EAAS,OAAOM,GAC/B,CAACH,EAAS,KAAKI,GACbA,EAAQ,QAAUD,EAAa,OAC/BC,EAAQ,OAASD,EAAa,MAC9BC,EAAQ,OAASD,EAAa,IAChC,CACF,EAG8B,GAAGH,CAAQ,EACzCK,GAAgBH,CAAO,CACzB,CAKO,SAASI,GAAkBC,EAAsB,CAkBtD,MAjBuC,CACrC,EAAG,WACH,EAAG,YACH,EAAG,WACH,EAAG,iBACH,EAAG,iBACH,EAAG,SACH,EAAG,WACH,MAAO,uBACP,MAAO,cACP,MAAO,iBACP,MAAO,gBACP,MAAO,cACP,MAAO,oBACP,MAAO,UACT,EAEcA,CAAI,GAAK,cAAc,OAAAA,EACvC,CDxKI,IAAAC,GAAA,SA9DEC,MAAU,kBAAoC,IAAI,EAE3CC,GAAsB,CAAC,CAAE,SAAAC,CAAS,IAAmC,IAGhF,cAAU,IAAM,CACdC,GAAsB,CACxB,EAAG,CAAC,CAAC,EA6CL,IAAMC,EAAqB,CACzB,eA5CqB,MAAOC,EAAcC,EAAcC,IACzCC,GAAgBH,EAAMC,EAA4BC,CAAI,IACnD,UA2ClB,eAxCqB,MAAOF,EAAcC,EAAcG,EAAkBF,IAAiC,CAC3GG,GAAcL,EAAMC,EAA4BG,EAASF,CAAI,CAC/D,EAuCE,kBArCwB,MAAOF,EAAcC,EAAcC,IAAiC,CAC5FI,GAAiBN,EAAMC,EAA4BC,CAAI,CACzD,EAoCE,iBAlC4B,MAAOF,GACrBO,GAAgBP,CAAI,EAkClC,qBA7B2B,MAAOQ,GAAuC,CAEzE,GAAIA,EAAM,SAAW,EAAG,OAGxB,IAAMC,EAAUD,EAAM,OAAO,CAACE,EAAKC,IAAS,CAC1C,IAAMC,EAAM,GAAG,OAAAD,EAAK,MAAK,KAAI,OAAAA,EAAK,SAClC,OAAKD,EAAIE,CAAG,IACVF,EAAIE,CAAG,EAAI,CAAE,MAAOD,EAAK,MAAO,QAASA,EAAK,QAAS,MAAO,CAAC,CAAE,GAEnED,EAAIE,CAAG,EAAE,MAAM,KAAK,CAAE,KAAMD,EAAK,KAA4B,KAAMA,EAAK,IAAK,CAAC,EACvED,CACT,EAAG,CAAC,CAAmH,EAGvH,QAAWG,KAAS,OAAO,OAAOJ,CAAO,EACvCK,GAAmBD,EAAM,MAAOA,EAAM,MAAOA,EAAM,OAAO,CAE9D,EAYE,mBAVyB,MAAOb,GAAgC,CAChEe,GAAgBf,CAAI,CACtB,CASA,EAEA,SACE,QAACL,GAAQ,SAAR,CAAiB,MAAOI,EACtB,SAAAF,EACH,CAEJ,EAEamB,GAAiB,IAAqB,CACjD,IAAMC,KAAM,eAAWtB,EAAO,EAC9B,GAAIsB,IAAQ,KACV,MAAM,IAAI,MAAM,0DAA0D,EAE5E,OAAOA,CACT,EEtGc,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,yBACZ,SAAS,KAAK,YAAYA,EAAI,EHyFtC,IAAAC,GAAA,SAhFC,SAASC,IAAgC,CAC9C,IAAMC,EAAkBC,GAAe,EACjC,CAAEC,EAAaC,CAAgB,KAAI,aAAuB,CAAC,CAAC,EAC5D,CAAEC,EAASC,CAAY,KAAI,aAAS,EAAI,EACxC,CAAEC,EAAYC,CAAe,KAAI,aAAS,EAAE,EAE5CC,EAAmB,SAAY,CACnC,GAAI,CACFH,EAAY,EAAI,EAChB,IAAMI,EAAY,MAAMT,EAAgB,iBAAiB,EACzDG,EAAgBM,CAAS,CAC3B,OAAQC,EAAA,CAER,QAAE,CACAL,EAAY,EAAK,CACnB,CACF,KAEA,cAAU,IAAM,CACdG,EAAiB,CACnB,EAAG,CAAC,CAAC,EAEL,IAAMG,EAA2B,MAAOC,GAA2B,CACjE,GAAI,CAEF,MAAMZ,EAAgB,kBAAkBY,EAAW,MAAOA,EAAW,KAAMA,EAAW,IAAI,EAC1F,MAAMJ,EAAiB,CACzB,OAAQE,EAAA,CAER,CACF,EAEMG,EAA+B,SAAY,CAC/C,GAAI,OAAO,QAAQ,0EAA0E,EAC3F,GAAI,CAEF,QAAWD,KAAcV,EACvB,MAAMF,EAAgB,kBAAkBY,EAAW,MAAOA,EAAW,KAAMA,EAAW,IAAI,EAE5F,MAAMJ,EAAiB,CACzB,OAAQE,EAAA,CAER,CAEJ,EAEMI,EAAeC,GAAsB,CAEzC,IAAMC,EADM,KAAK,IAAI,EACFD,EACbE,EAAU,KAAK,MAAMD,EAAO,GAAK,EACjCE,EAAQ,KAAK,MAAMF,EAAO,IAAO,EACjCG,EAAO,KAAK,MAAMH,EAAO,KAAQ,EAEvC,OAAIC,EAAU,EAAU,WACpBA,EAAU,GAAW,GAAG,OAAAA,EAAO,SAC/BC,EAAQ,GAAW,GAAG,OAAAA,EAAK,SAC3BC,EAAO,EAAU,GAAG,OAAAA,EAAI,SAErB,IAAI,KAAKJ,CAAS,EAAE,mBAAmB,QAAS,CACrD,MAAO,QACP,IAAK,SACP,CAAC,CACH,EAEMK,EAAyBC,GACtBA,EAAK,QAAQ,KAAM,GAAG,EAAE,YAAY,EAGvCC,EAAmBC,GAChBA,EAIHC,EAAuBtB,EAAY,OAAOuB,GAC1CnB,IAAe,GAAW,GACvBmB,EAAE,MAAM,YAAY,EAAE,WAAWnB,EAAW,YAAY,CAAC,CACjE,EAED,OAAIF,KAEA,SAAC,OAAI,UAAU,mBACb,qBAAC,MAAG,6BAAiB,KACrB,QAAC,KAAE,kCAAsB,GAC3B,KAKF,SAAC,OAAI,UAAU,mBACb,sBAAC,OAAI,UAAU,qBACb,qBAAC,MAAG,6BAAiB,KACrB,QAAC,KAAE,4DAAgD,GACrD,EAECF,EAAY,SAAW,KACtB,QAAC,OAAI,UAAU,iBACb,oBAAC,MAAG,gCAAoB,EAC1B,KAEA,SAAC,OAAI,UAAU,mBACb,sBAAC,OAAI,UAAU,uBACb,qBAAC,OAAI,UAAU,gBACb,oBAAC,SACC,KAAK,OACL,MAAOI,EACP,SAAWI,GAAMH,EAAeG,EAAE,OAAO,KAAK,EAC9C,YAAY,sBACZ,UAAU,mBACZ,EACF,KACA,QAAC,OAAI,UAAU,iBACb,oBAAC,UACC,UAAU,mBACV,QAASG,EACT,KAAK,SACL,SAAUX,EAAY,SAAW,EAClC,qBAED,EACF,GACF,KAEA,QAAC,OAAI,UAAU,yBACZ,SAAAsB,EAAqB,IAAI,CAACZ,EAAYc,OACrC,QAAC,OAA+E,UAAU,kBACxF,qBAAC,OAAI,UAAU,kBACb,sBAAC,OAAI,UAAU,kBACb,qBAAC,OAAI,UAAU,iBAAkB,SAAAJ,EAAgBV,EAAW,KAAK,EAAE,KACnE,SAAC,OAAI,UAAU,qBACb,qBAAC,QAAK,UAAU,gBAAiB,SAAAQ,EAAsBR,EAAW,IAAI,EAAE,EACvEA,EAAW,OAAS,WACnB,QAAC,QAAK,UAAU,kBAAmB,SAAAe,GAAkBf,EAAW,IAAI,EAAE,KAExE,QAAC,QAAK,UAAU,kBAAkB,MAAO,IAAI,KAAKA,EAAW,SAAS,EAAE,YAAY,EACjF,SAAAE,EAAYF,EAAW,SAAS,EACnC,GACF,GACF,KACA,SAAC,OAAI,UAAU,qBACb,qBAAC,QAAK,UAAW,oBAAoB,OAAAA,EAAW,QAAU,UAAY,UACnE,SAAAA,EAAW,QAAU,UAAY,SACpC,KACA,QAAC,UACC,UAAU,oBACV,QAAS,IAAMD,EAAyBC,CAAU,EAClD,KAAK,SACL,MAAM,0BACP,gBAED,GACF,GACF,GA3BQ,GAAG,OAAAA,EAAW,MAAK,KAAI,OAAAA,EAAW,KAAI,KAAI,OAAAA,EAAW,KAAI,KAAI,OAAAc,EA4BvE,CACD,EACH,KAEA,QAAC,OAAI,UAAU,qBACb,qBAAC,KAAE,UAAU,cACX,qBAAC,UAAO,iBAAK,EAAS,kGAExB,EACF,GACF,GAEJ,CAEJ,CInLA,IAAAE,GAAoC,SCApC,IAAAC,GAA4C,oCCA5CC,EA0GIC,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAEIC,kBA/CaC,EAAA,oBAAsCC,KAAAA,iBAC/C,cAA8D,KAAA,mBACrD,GAAA,KAAA,mBACT,GAAA,KAAA,WAOA,KAAA,SADA,KAAA,QADA,KAAA,QADA,GAAA,KAAA,OAuDJJ,EAAA,KAAKK,QACL,SAAKC,cAAmBC,QAAAA,EAAAA,GAExB,OAAwFC,GAFlD,SAEkD,KAA9C,UAEtCC,GAAKC,QAEqCC,KAFrCD,GAAAA,GAAAA,EAGDE,qGAQAA,0KARa,EAWjB,KAAKC,gBAAkBX,GAhB3BO,EAAA,OAAAD,GAAA,SAoBMM,EACA,CAAA,EACN,KAAKC,eAAiBC,EAAQC,gBAAkB,OAAOH,GAAuC,WACxFA,EACA,KAAKC,gBACX,KAAKG,qBAAuBF,EAAQG,sBAAwB,OAAOR,GAAkC,WAC/FA,EACA,KAAKO,sBACX,KAAKE,iBAAmBJ,EAAQK,iBAAmBA,GAAmB,KAAKD,iBAC3E,KAAKE,kBAAoB,OAAOR,GAAuC,SACjEA,EACA,OAAOH,GAAoC,SACvCA,EACA,KAAKW,kBACf,KAAKC,mBAAqBP,EAAQQ,mBAAqB,KAAKD,mBAE5D,KAAKE,QAAU,KAAKA,QAAQC,KAAK,IAAlB,EACf,KAAKC,kBAAoB,KAAKA,kBAAkBD,KAAK,IAA5B,EACzB,KAAKE,oBAAsB,KAAKA,oBAAoBF,KAAK,IAA9B,EAC3B,KAAKG,eAAiB,KAAKA,eAAeH,KAAK,IAAzB,EAGtBI,EAAMC,wBAA0B,GAIhCD,EAAME,YAAc,GAGpBF,EAAMG,MAAQ,GAId,IAAIC,EAAkB,GAWtB,GAVIJ,EAAMK,SACNL,EAAMK,OAAS,GACfD,EAAkB,IAEjBE,SAASC,KAAKC,SAASR,CAAvB,IACDM,SAASC,KAAKE,YAAYT,CAA1B,EACAI,EAAkB,IAFtB1B,EAAAR,EAAA,cAMIgB,EAAQwB,qBAAuBxB,EAAQyB,qBAAsB,CAQ7D,GAR6DC,EAAA,CAAA,CAClC1B,EAAAA,QAC3B,KAAK2B,SAAW3B,EAAQ4B,SAAWR,SAAS7B,cAAc,KAAvB,EAAAsC,EAAA,KAAA,SAAA,MAEnCC,EAAaC,SAAW,WACxBD,EAAaE,QAAU,SACVC,cAAgB,OAC7B,KAAKN,SAASO,UAAUC,IAAI,uBAA5B,EACI,CAACC,GAAsBpC,EAAQwB,oBAAqB,CAGpD,KAAKG,SAASU,UAAY,wWAK1B,GAAI,CACA,KAAKV,SAASW,kBAAmBC,QAAQ,CAAEC,UAAW,CAAC,aAAc,aAAf,CAAb,EAA8C,CACnFC,SAAU,IACVC,WAAYC,IACZC,UAAW,YACXC,OAAQ,aAJ2E,CAAvF,CADA,OAOKC,EAAG,CAAA,CACZC,EAAeC,aAAa,KAAKrB,SAAU,KAAKtC,OAAO4D,WAAvD,CAhBoD,CAkBpDjD,EAAQyB,uBAER,KAAKE,SAASuB,mBACV,YACA,oOAFJ,EAMA,KAAKC,sBAAwB,KAAKxB,SAASyB,iBAlCc,CAqCjE,KAAKC,YAAc,KAAKnD,qBAAqBY,CAA1B,EAEnBwC,sBAAsB,IAAA,CAElB,IAAAC,EAAA,OAAA,iBAAAvE,CAAA,EACIwE,EAAWxB,UAAY,SACvBlB,EAAM2C,MAAMC,YAAY,UAAW,QAAS,WAA5C,EACAxC,EAAkB,IAElBsC,EAAWG,aAAe,YAC1B7C,EAAM2C,MAAMC,YAAY,aAAc,UAAW,WAAjD,EACAxC,EAAkB,IAElBA,IAEAtB,QAAQgE,KAAK,yFAAb,EACA9C,EAAM2C,MAAMI,QAAU,IACtB/C,EAAM2C,MAAMK,MAAQ,IACpBhD,EAAM2C,MAAMM,OAAS,IACjB,KAAKpC,UAAY,KAAKA,SAASqC,eAC/B,KAAKrC,SAASqC,cAAcC,YAAY,KAAKtC,QAA7C,EAGJ,OAAO,KAAKA,SAEZ,OAAO,KAAKwB,uBAGZ,KAAKxB,UACL,KAAKd,eAAL,CAAA,CA3BR,EA+BAC,EAAMoD,iBAAiB,OAAQ,KAAKzD,OAApC,EACAK,EAAMoD,iBAAiB,iBAAkB,KAAKvD,iBAA9C,EACAS,SAAS8C,iBAAiB,mBAAoB,KAAKtD,mBAAnD,EACAuD,OAAOD,iBAAiB,SAAU,KAAKrD,cAAvC,EAEA,KAAKuD,iBAAmBC,EAAUC,eAAV,CAAA,CAlQjB,WAAA,YAAYC,EAAD,CAClB3E,QAAQgE,KAAK,gIAAb,CAAA,CAISY,aAAAA,WAAS,CAClB,GAAI,CACA,MAAO,CAAC,EAAE,MAAMH,EAAUI,YAAY,EAAtB,GAA8BC,MAD9C,OAEK5B,EAAG,CACR,MAAO,EADC,CAAA,CAKH2B,aAAAA,YAAYE,EAAgB,GAAjB,CACpB,GAAI,CAACC,UAAUC,aAAc,MAAO,CAAA,EAEpC,IAAApF,EAAA,UACoDqF,MAAAA,UAAAA,aAAAA,iBAAAA,GAAAA,OAAQC,GAAAA,EAAAA,OAAAA,YAAAA,EAMxDC,EACJ,GAAI,CACIL,IAAkB,MAAMM,EAAA,GAAoBC,MAAOC,GAAW,CAACA,EAAOC,KAArD,IACjBJ,EAAe,MAAMJ,UAAUC,aAAaQ,aAAa,CAAEC,MAAO,GAAOxE,MAAO,EAAvB,CAApC,EAFzB,OAIKgC,EAAG,CAAA,CAKZ,GAAI,CACA,OAAQ,MAAMmC,EAAA,GAAoBM,IAAI,CAACJ,EAAQK,KAAO,CAClDC,GAAIN,EAAOO,SACXN,MAAOD,EAAOC,QAAUI,IAAM,EAAI,iBAAmB,UAAUA,OAAAA,EAAI,GAFjB,EAA/C,CADP,QAAJ,CAOQR,IACApF,QAAQgE,KAAK,sGAAb,EAEAS,EAAUsB,iBAAiBX,CAA3B,EALE,CAAA,CA+NRY,MAAAA,UAAQ,CACV,IAAIC,KACA,CACA,GAAI,KAAKxG,OAAOyG,UAAW,CACvB,GAAI,EAAE,KAAKzG,OAAOyG,qBAAqBC,aAAc,MAAO,GAC5DF,EAAS,KAAKxG,OAAOyG,SAFE,MAIvBD,GAAU,MAAM,KAAKG,iBAAL,GAAyBH,OAE7C,MAAO,UAAWA,EAAOI,eAAP,EAAwB,CAAxB,EAA2BC,YAA3B,CAPlB,OAQKpD,EAAG,CACR,MAAO,EADC,QARZ,CAYQ+C,GAAUA,IAAW,KAAKxG,OAAOyG,YACjClG,QAAQgE,KAAK,kGAAb,EAEAS,EAAUsB,iBAAiBE,CAA3B,EALE,CAAA,CAUdM,WAAS,CACL,OAAO,KAAKC,QAAAA,CAGVC,MAAAA,aAAW,CACT,KAAKD,SACL,MAAM,KAAKE,aAAL,EAEN,MAAM,KAAKC,YAAL,CAAA,CAIRA,MAAAA,aAAW,CACb,GAASH,CAAL,KAAKA,UAAiBI,CAAL,KAAKA,aAC1B,KAAKJ,SAAW,GACX,KAAKK,SAAgBC,CAAL,KAAKA,SAC1B,GAAI,CACA,GAAI,CAAC,MAAM,KAAKd,SAAL,EAAiB,KAAM,qBAElC,MAAO,KAAKvG,OAAOyG,UAA0BG,eAAtC,EAAuD,CAAvD,EAA0DU,iBAAiB,CAE9EC,SAAU,CAAC,CAAEC,MAAO,EAAT,CAAD,CAFoE,CAA3E,CAHP,OAOK/D,EAAG,CAER,MADA,KAAKsD,SAAW,GACVtD,CAFE,CAAA,CAMVwD,MAAAA,cAAY,CACT,KAAKF,WAIV,KAAKA,SAAW,GAChB,MAAM,KAAKU,oBAAL,EALN,CAQJC,SAAO,CACH,KAAK1H,OAAO2H,oBAAoB,iBAAkB,KAAKrG,iBAAvD,EACA,KAAKtB,OAAO2H,oBAAoB,OAAQ,KAAKvG,OAA7C,EACAW,SAAS4F,oBAAoB,mBAAoB,KAAKpG,mBAAtD,EACAuD,OAAO6C,oBAAoB,SAAU,KAAKnG,cAA1C,EAEA,KAAK2F,WAAa,GAClB,KAAKJ,SAAW,GAChB,KAAKa,KAAL,EACA5C,EAAU6C,mBAAmB,KAAK9C,iBAAkB,OAApD,CAAA,CAGE+C,MAAAA,OAAK,CACP,GAAI,KAAKX,WAAY,MAAUY,MAAM,6DAAV,EAC3B,IAASX,CAAL,KAAKA,SAAY,KAAKC,WAEtBvC,OAAOkD,SAASC,WAAa,UAE7B1H,QAAQgE,KAAK,4EAAb,EAGJ,KAAK6C,QAAU,GACFtF,CAATC,SAASD,QAEb,GADA,KAAKuF,QAAU,GACX,KAAKrH,OAAOyG,UAEZ,MAAM,KAAKzG,OAAOkI,KAAZ,MAIV,IAAI,CACA,GAAA,CAAM,OAAA1B,EAAQ,WAAA2B,CAAAA,EAAAA,MAAAA,KAAAA,iBAAAA,EACV,CAAC,KAAKf,SAAW,KAAKC,QAEtBrC,EAAUsB,iBAAiBE,CAA3B,GAGJ,KAAK4B,gBAAgBD,CAArB,EACA,KAAKnI,OAAOyG,UAAYD,EACxB,MAAM,KAAKxG,OAAOkI,KAAZ,EAGF,KAAKnB,WACL,KAAKA,SAAW,GAChB,KAAKG,YAAL,EAAmBmB,MAAM,IAAA,CAAA,CAAzB,GAdJ,OAgBK5E,EAAG,CACR,GAAS4D,CAAL,KAAKA,QAET,MADA,KAAKD,QAAU,GACT3D,CAHE,CAAA,CAOhBmE,MAAI,CACA,KAAKU,MAAL,EACA,KAAKlB,QAAU,EAAA,CAGbkB,MAAAA,MAAMC,EAAwB,GAAzB,CAEP,GADA,KAAKlB,QAAU,GACX,CAAC,KAAKD,QAAS,MAAO,GAC1B,KAAKpH,OAAOsI,MAAZ,EAEI,KAAKhG,WACL,KAAKA,SAAS8B,MAAMzB,QAAU,QAGlC,IAAAvC,EAAA,IAAA,CACQ,KAAKJ,OAAOyG,qBAAqBC,cAEjC1B,EAAUsB,iBAAiB,KAAKtG,OAAOyG,SAAvC,EACA,KAAKzG,OAAOyG,UAAY,KAH5B,EAOJ,OAAI8B,GACAC,EAAA,EACO,KAGX,MAAM,IAAIC,QAASC,GAAYC,WAAWD,EAAS,GAApB,CAAzB,EACD,KAAKrB,SACVmB,EAAA,EACO,IAFmB,GAEnB,CAGLI,MAAAA,UAAUC,EAAD,CACPA,IAAyB,KAAK9H,mBAClC,KAAKA,iBAAmB8H,EAExB,MAAM,KAAKpB,oBAAL,EAHN,CA6BSqB,aAAAA,UACTC,EAEAC,EASAC,EACAC,EACAC,EAAkC,GAClCC,EAAoC,GAflB,CAiBlB,IAAIC,EACAC,EAA2B,GAC3BN,IACA,eAAgBA,GACb,aAAcA,GACd,WAAYA,GACZ,2BAA4BA,GAC5B,6BAA8BA,GAC9B,6BAA8BA,IAGjCK,EAAaL,EAAoBK,WACjCJ,EAAWD,EAAoBC,SAC/BC,EAASF,EAAoBE,OAC7BC,EAAyBH,EAAoBG,wBAA0B,GACvEC,EAA2BJ,EAAoBI,0BAA4B,GAC3EE,EAA2B,IAE3B/I,QAAQgE,KADDyE,GAAuBC,GAAYC,GAAUC,GAA0BC,EACjE,mFAOA,wJAPb,EAOAhJ,EAAA,CAAA,CAIsB6I,EAE1B,GAAI,CACA,IAAIM,EAEAC,EACJ,CAACP,EAAUM,CAAX,EAAoB,MAAMd,QAAQgB,IAAI,CAClCR,GAAYjE,EAAUC,eAAV,EACZD,EAAU0E,WAAWX,CAArB,CAFkC,CAAZ,GAIzBG,EAAQM,CAAT,EAA0BxE,EAAU2E,cAAcJ,EAAOF,EAAYH,EAAQC,CAAnD,EAC1B,IAAIS,EAEJ,GAAIX,aAAoBY,OAAQ,CAC5B,IAAAC,EAAA3J,EACK4J,GAED/E,EAAUgF,uBAAuBC,EAAgB,gBAAiB,MAAlE,EAEJL,EAAqB,MAAM,IAAInB,QAAQ,CAACC,EAASwB,IAAV,CACnC,IAAIC,EACAC,EACAC,EACAC,EAAqB,GACzBF,EAAaG,GAADH,CACJG,EAAMC,KAAKpE,KAAOkE,IAGtBL,EAAetC,oBAAoB,UAAWyC,CAA9C,EACAH,EAAetC,oBAAoB,QAAS0C,CAA5C,EACAI,aAAaN,CAAb,EACII,EAAMC,KAAKA,OAAS,KACpB9B,EAAQ,CACJ8B,KAAMD,EAAMC,KAAKA,KACjBE,aAAc1F,EAAU2F,eAAeJ,EAAMC,KAAKE,aAAcrB,CAAlD,CAFV,CAAR,EAKAa,EAAOlF,EAAU4F,gBAAjB,EAZJ,EAeJP,EAAWQ,GAADR,CACNJ,EAAetC,oBAAoB,UAAWyC,CAA9C,EACAH,EAAetC,oBAAoB,QAAS0C,CAA5C,EACAI,aAAaN,CAAb,EAEAD,EAAO,mBAAPY,+BAAA,CAAA,EAEJb,EAAepF,iBAAiB,UAAWuF,CAA3C,EACAH,EAAepF,iBAAiB,QAASwF,CAAzC,EACAF,EAAUxB,WAAW,IAAM0B,EAAQ,SAAR,EAAoB,GAArC,EACV,IAAAU,EAAAC,EAAA,aAAA,EAA8C,EAAG9B,EAAAA,MAAeA,EAAAA,MAAAA,EAChEoB,EAAqBtF,EAAUgF,uBAC3BC,EACA,SACAgB,EACA,CAACA,EAAUT,KAAKU,MAAhB,CAJiB,CAAA,CAhCE,CANC,MA8C5BtB,EAAqB,MAAMnB,QAAQ0C,KAAK,CACpC,IAAI1C,QAA8B,CAACC,EAASwB,IAAWpF,OAAO6D,WAC1D,IAAMuB,EAAO,wBAAP,EACN,GAFmD,CAAvD,GAIC,SAAA,CACG,GAAI,CACA,GAAA,CAAAJ,CAAA,EAAA,MAAA3J,EAAA,OAAAkC,CAAA,EACA,GAAI,CAAC+I,EAAY,MAAMpG,EAAU4F,iBACjC,MAAO,CACHJ,KAAMY,EAAWC,SACjBX,aAAc1F,EAAU2F,eAAeS,EAAWV,aAAcrB,CAAlD,CAFX,CAHP,OAOK5F,EAAG,IAAAqG,EAAAwB,EACcC,SAAAA,EAClB,sCAAsCC,KAAKC,CAA3C,EAWA,OAFAzG,EAAU0G,wBAA0B,GAE7B1G,EAAU8D,UAAUC,EAAwB,CAC/CM,WAAAA,EACAH,OAAAA,EACAC,uBAAAA,EACAC,yBAAAA,CAJ+C,CAA5C,EAOX,KAAM,kBAAkBqC,OAAAA,EApBhB,CAAA,GARhB,CALoC,CAAb,EAsC/B,OAAOnC,EAA2BM,EAAqBA,EAAmBY,IA/F1E,OAgGK/G,EAAG,CACR,GAAI,CAAC4F,GAAc,CAACD,EAA0B,MAAM3F,EACpD,IAAAuH,EAAA,MAAAlL,EAAA,UAAAH,EAC0B,CACtBsJ,SAAAA,EAAUC,OAAAA,EAAQC,uBAAAA,CADI,CAAA,EAG1B,OAAOG,EAA2BM,EAAqBA,EAAmBY,IANlE,QAhGZ,CAwGST,GACD/E,EAAU6C,mBAAmBoB,EAAW,OAAxC,CAFE,CAAA,CAOd0C,oBAAoBC,EAAaC,EAAeC,EAAcC,EAAmC,GAA9E,CAGf/G,EAAU6C,mBACN,KAAK9C,iBACL,mBACA,CAAE6G,IAAAA,EAAKC,MAAAA,EAAOC,KAAAA,EAAMC,wBAAAA,CAApB,CAHJ,CAAA,CAOJC,iBAAiBC,EAAD,CAGZjH,EAAU6C,mBAAmB,KAAK9C,iBAAkB,gBAAiBkH,CAArE,CAAA,CAMShH,aAAAA,eAAeC,EAAD,CAOD,GANlBA,GACA3E,QAAQgE,KAAK,qEAAb,EAAA5E,EAAA,IAAA,sCAAA,KAKCuM,GAAAA,EAAK,aAAmBC,CAAAA,EAO7B,EAAA,CAAArM,EAAI,yBAAA,oBAJG,QAAqBgF,gBACrBsH,sBAAgBC,MACf,gBAAMD,oBAAgBC,GAAhB,SAAuCC,SAAS,GAAA,OAErC3M,EAAA,EAAOwM,IAOhC/L,EAAA,UAAA,wBAEOmM,EAAcC,OAAOC,KAAK,CAAC,CAAE,MAAAC,CAAF,IAAc,YAAYlB,KAAKkB,CAAjB,CAAzC,GACA,WAAWlB,KAAKe,EAAcI,QAA9B,GAIA,MAAMJ,EAAcK,qBAAqB,CAAC,eAAgB,iBAAjB,CAAnC,EACJV,KAAK,CAAC,CAAE,aAAAW,EAAc,gBAAAC,CAAhB,IACH,OAAOtB,KAAKqB,GAAgB,KAA5B,GAAyF,IAAnDE,SAASD,GAAmB,IAA5B,CAFrC,EAGJzE,MAAM,IAAM,EAHR,EAI6B8D,EAAA,EAEnC,IAAIC,gBAAgB,CAAEY,QAAS,CAAC,SAAD,CAAX,CAApB,CAAA,CAGH5L,SAAO,CACX,KAAK4C,YAAc,KAAKnD,qBAAqB,KAAKb,MAA/B,EACnB,KAAKwB,eAAL,EACI,KAAKc,WACL,KAAKA,SAAS8B,MAAMzB,QAAU,IAElC,KAAKsK,WAAL,CAAA,CAGI3L,mBAAiB,CACrB,KAAK0C,YAAc,KAAKnD,qBAAqB,KAAKb,MAA/B,OACdwB,eAAL,CAAA,CAGID,qBAAmB,CACnBQ,SAASD,OACT,KAAKwG,MAAL,EACO,KAAKlB,SACZ,KAAKU,MAAL,CAAA,CAIAjH,qBAAqBY,EAAD,CAGxB,IAAArB,EAAA,KAAA,MAAA,kBAAA,KAAA,IAAAT,EAAA,WADmD8B,EAAAA,WAAAA,CAAAA,EAEnD,MAAO,CACHsJ,EAAGmC,KAAKC,OAAO1L,EAAM2L,WAAaC,GAAkB,CAAjD,EACHC,EAAGJ,KAAKC,OAAO1L,EAAM8L,YAAcF,GAAkB,CAAlD,EACH5I,MAAO4I,EACP3I,OAAQ2I,EACRG,gBAAiB,KAAKvM,kBACtBwM,iBAAkB,KAAKxM,iBANpB,CAAA,CAUHO,gBAAc,CAClByC,sBAAsB,IAAA,CAGlB,GAAK,KAAK3B,SAAV,CACA,IAAA3C,EAAA,KAAA,OAAAS,EAAAT,EAAA,WAAAQ,EAAAR,EAAA,YAAA0C,EAAA1C,EAAA,YAAA6C,EAAA7C,EAAA,aAAA+N,EAAA/N,EAAA,yBAAAgO,EAAA,OAAA,iBAAAhO,CAAA,EAAAiO,EAAAD,EAAA,UAAA3C,EAAA5K,EAAAD,EAAA0N,EAAAxL,EAAAG,EAcA,OAAQsL,EAAR,CACI,IAAK,OACD,IAAAC,EAAmBX,EACnBY,EAAoBT,EACpB,MACJ,IAAK,OACDQ,EAAmBE,EACnBD,EAAoBE,EACpB,MACJ,SACQJ,IAAmB,QACjBK,EAAmBC,EACnBD,EAAmBC,IAMrBJ,EAAoBE,EACpBH,EAAmBC,EAAoBG,IAEvCJ,EAAmBE,EACnBD,EAAoBD,EAAmBI,GAEvCL,IAAmB,eAEnBC,EAAmBb,KAAKmB,IAAIN,EAAkBX,CAA3B,EACnBY,EAAoBd,KAAKmB,IAAIL,EAAmBT,CAA5B,EA3BhC,CAkCA,GAAA,CAAAe,EAAaC,CAAAA,EAAAA,EAAAA,eAAAA,MAAAA,GAAAA,EAA+CrI,IAAAA,CAAKb,EAAQc,IAAAA,CACrE,IAAMqI,EAAcC,WAAWpJ,CAAX,EACpB,OAAOA,EAAOqJ,SAAS,GAAhB,GACCvI,EAAsC+H,EAAgBF,EAAlDC,EAAeF,GAAwDS,EAAc,IAC3FA,CAAAA,CAAAA,EAAAA,EAAAA,KAAAA,YAAAA,OAAAA,EAAAA,EAAAA,KAAAA,YAAAA,QAAAA,EAAAA,EAAAA,KAAAA,YAAAA,GAAAA,EAMV,IAAAG,EAAA,KAAA,YAAA,GAAA,EAAA3D,EAAA,KAAA,SAAA,MAGAvI,EAAagC,MAAQ,GAAGmK,OAAAA,EAAcxB,EAAaW,EAA9B,MACrBtL,EAAaiC,OAAS,GAAGmK,OAAAA,EAAetB,EAAcS,EAAhC,MACtBvL,EAAaqM,IAAM,GAAGC,OAAAA,EAAWR,EAASS,EAAUzB,EAAcS,EAA/C,MAAA7N,EAAA,eAAA,KAAAR,EAAA,MAAA,SAAA,EAEnB8C,EAAawM,KAAO,GAAGC,OAAAA,GAChBC,EAAkBlB,EAAemB,EAASrB,EAAmBqB,IAC7DD,EAAkB/B,EAAaiC,EAAUT,EAAcS,GAAWjC,EAAaW,EAFlE,MAIpBtL,EAAaU,UAAY1B,EAAM2C,MAAMjB,SAtErC,CAAA,CAHJ,CAAA,CA6EWwH,OAAAA,eACX2E,EACAjG,EAFyB,CAIzB,GAAI,CAACA,EAAY,OAAOiG,EACxB,IAAAnP,EAAAC,EAAA,GAAA,EAAAiC,EAAAjC,EAAA,GAAA,EAAAoC,EAAApC,EAAA,OAAAA,EAAA,gBAGMiJ,EAAW5E,MAAQ4E,EAAWmE,gBAC9B,EAAApN,EAAAA,EAAA,QAAAA,EAAA,iBAEAiJ,EAAW3E,OAAS2E,EAAWoE,iBAC/B,EACN,QAAKC,KAAL/N,EACI4P,EAAMxE,EAAIwE,EAAMxE,EAAIyE,EAAeC,EACnCF,EAAMjC,EAAIiC,EAAMjC,EAAIoC,EAAeC,EAEvC,OAAOL,CAAAA,CAGHrC,YAAU,CACV,CAAC,KAAK7F,SAAW,KAAKpH,OAAO4P,QAAU,KAAK5P,OAAO6P,QASvD,0CAFM,KAAK7P,OAAO8P,0BAA0BzO,KAAK,KAAKrB,MAAhD,EACAiE,uBACO,SAAA,CACT,GAAI,EAA0B,GAA1B,KAAKjE,OAAO+P,YAAhB,CASA,IAAApQ,EAAA,KAAA,IAAA,EAAA,KAAA,mBAAAS,EAAA,IAAA,KAAA,mBAEI4P,EAAoBC,GACpB,MAAM,IAAIxH,QAASC,GAAYC,WAAWD,EAASuH,EAA0BD,CAA9C,CAAzB,EAGV,KAAKE,mBAAqBC,KAAKC,IAAL,EAG1B,GAAI,CACA,IAAAC,EAAS,MAAMrL,EAAU8D,UAAU,KAAK9I,OAAQ,CAC5CqJ,WAAY,KAAKrF,YACjBiF,SAAU,KAAKlE,iBACfmE,OAAQ,KAAKjJ,OAH+B,CAAjC,CADf,OAMK4K,EAAO,CACZ,GAAI,CAAC,KAAKzD,QAAS,OACnB,KAAK1G,eAAemK,CAApB,CAFY,CAKFa,CAAV1G,EAAU0G,yBAA6B,MAAM,KAAK3G,4BAA4B8E,SAE9E,KAAK9E,iBAAmBC,EAAUC,eAAV,GAGxBoL,GACI,KAAKhQ,UACL,KAAKA,UAAUgQ,CAAf,EACO,KAAK7P,iBACZ,KAAKA,gBAAgB6P,EAAO7F,IAA5B,EAGA,KAAK1G,wBACL2G,aAAa,KAAK6F,mCAAlB,EACA,KAAKA,oCAAsCC,OAC3C,KAAKzM,sBAAsB0M,aACvB,UACA,GAAG,YAAKxM,YAAY+G,GAAK,EAAzB,KACM,GAAG,YAAK/G,YAAYsJ,GAAK,EAAzB,KACA,GAAG,YAAKtJ,YAAYS,OAAS,KAAKzE,OAAOoN,WAAzC,KACA,GAAG,YAAKpJ,YAAYU,QAAU,KAAK1E,OAAOuN,YALpD,EASA,KAAA,sBAAA,kBADQiD,aAAa,SAAUH,EAAO3F,aAAaxE,IAAI,CAAC,CAAC,EAAA6E,EAAG,EAAAuC,CAAJ,IAAW,GAAGvC,OAAAA,EAAH,KAAQuC,OAAAA,EAA5C,EAAiDmD,KAAK,GAAtD,CAA/B,EACA,KAAK3M,sBAAsBM,MAAMzB,QAAU,KAExC,KAAKmB,uBAAyB,CAAC,KAAKwM,sCAE3C,KAAKA,oCAAsC3H,WACvC,IAAM,KAAK7E,sBAAuBM,MAAMzB,QAAU,OAClD,GAFuC,EAzD/C,CAKI,KAAKsK,WAAL,CAAA,CANR,CAAA,CAoEIvM,eAAemK,EAAD,CAEdA,IAAU7F,EAAU4F,kBACxBrK,QAAQmQ,IAAI7F,CAAZ,CAAA,CAGUlE,MAAAA,kBAAgB,CAC1B,GAAI,CAACpB,UAAUC,aAAc,KAAM,oBAEnC,IAAA7F,EAAA,uBAAA,KAAA,KAAA,gBAAA,EACM,aACA,WAFNS,EAAA,CAAA,CAIIqE,MAAO,CAAE4J,IAAK,IAAP,CAAA,EACR,CACC5J,MAAO,CAAE4J,IAAK,GAAP,CADR,EAEA,CAAA,CAAA,EAPHlO,EAAAC,EAAA,IAQ0DuQ,GAAAA,OAAAA,OAAAA,CAAAA,EAAiCA,EAAY,CACnG,CAACC,CAAD,EAAkB,CAAEC,MAAO,KAAK9P,gBAAd,CADiF,CAAA,CAAA,EAIvG,QAAKsB,IAAL,CAAA,GAAAlC,EAAmD,GAAAC,CAAA,EAC/C,GAAI,CACA,IAAAoC,EAAA,MAAA,UAAA,aAAA,aAAA,CAAyDf,MAAOqP,EAAa7K,MAAO,EAAA,CAAA,EAApFyH,EAAA,KAAA,eAAAlL,CAAA,IAKQsO,EAAY3I,WACV,KAAKpH,iBACJ,KAAKA,mBAAqB,cACvB,OACA,eAGd,MAAO,CAAEyF,OAAAA,EAAQ2B,WAAAA,CAAV,CAbP,OAcK1E,EAAG,CAAA,CAGhB,KAAM,mBAAN,CAGUgE,MAAAA,qBAAmB,CAG7B,IAAA9H,EAAA,KAAA,QAAA,MAAA,KAAA,MAAA,EAAA,GAEeoR,CAAAA,GAAc,KAAK3J,SAClC,MAAM,KAAKU,MAAL,CAAA,CAGKxB,OAAAA,iBAAiBE,EAAD,CAC3B,QAAKpG,KAALT,EAAA,UAAA,EACIqR,EAAMpJ,KAAN,EACApB,EAAOyK,YAAYD,CAAnB,CAAA,CAIA5I,gBAAgBD,EAAD,CAGnB,KAAKnI,OAAOoE,MAAMjB,UAAY,WAA9BxD,IAAA,OAAA,GAAA,GAAwD,GAAA,CAGpDuR,eAAeC,EAAD,CAElB,OAAAxR,EAAAA,EAAA,eAAA,EAAA,CAAA,GAEO,yBAAyB6L,KAAK4F,EAAWrL,KAAzC,EACD,cACA,mBAAmByF,KAAK4F,EAAWrL,KAAnC,EACI,OACA,KANc,IAAA,CASb4D,OAAAA,cACXJ,EAEAF,EACAH,EACAC,EAAwB,GALA,CAOxBD,EAASA,GAAUnH,SAAS7B,cAAc,QAAvB,EACnB,IAAAsC,EAAApC,GAAAA,EAAA,EAAAA,EAAA,EAAA,EAAAsN,EAAAtN,GAAAA,EAAA,EAAAA,EAAA,EAAA,EAAA8D,EAAA9D,GAAAA,EAAA,MAGMiJ,EAAW5E,MACV8E,EAA2B6D,YAAc7D,EAAM9E,MAJtDkJ,EAAAvN,GAAAA,EAAA,OAMMiJ,EAAW3E,OACV6E,EAA2BgE,aAAehE,EAAM7E,OAElDyE,OAAAA,IAAL9G,EAYIjC,GAAAA,EAAA,gBAVMiJ,EAAWmE,gBACX6D,EASNjR,EAAAA,GAAAA,EAAA,iBAPMiJ,EAAWoE,iBACX6D,EAGFpI,EAAOzE,QAAU8M,IACjBrI,EAAOzE,MAAQ8M,GAEfrI,EAAOxE,SAAW8M,IAClBtI,EAAOxE,OAAS8M,IAbxBpR,EAAAD,EAAA,WAAA,KAiBsC,CAAEsR,MAAO,EAAT,CAAA,EACtCC,EAAQC,sBAAwB,GAChCD,EAAQE,UACJrI,EACAsI,EAAaC,EAAaT,EAAiBC,EAC3C,EAAG,EAAGpI,EAAOzE,MAAOyE,EAAOxE,MAH/B,EAKO,CAACwE,EAAQwI,CAAT,CAAA,CAGUhI,aAAAA,WACjBX,EAD2B,CAK3B,GAAIA,aAAkCgJ,MAElC,OADA,MAAM/M,EAAUgN,gBAAgBjJ,CAA1B,EACCA,EACJ,GAAIA,aAAkCkJ,kBACtClJ,aAAkCmJ,mBAClCnJ,aAAkCoJ,iBAClC,oBAAqBrN,QAAUiE,aAAkCqJ,iBACjE,gBAAiBtN,QAAUiE,aAAkCsJ,YAChE,OAAOtJ,EACJ,GAAIA,aAAkCuJ,MAAQvJ,aAAkCwJ,MAChFxJ,aAAkCyJ,KAAO,OAAOzJ,GAA2B,SAAU,CACxF,IAAA3I,EAAA,IAAA,MAEImJ,EAAMkJ,IADN1J,aAAkCuJ,MAAQvJ,aAAkCwJ,KAChEC,IAAIE,gBAAgB3J,CAApB,EAEAA,EAAuB4J,SAAvB,EAEhB,GAAI,CAEA,OADA,MAAM3N,EAAUgN,gBAAgBzI,CAA1B,EACCA,CAFP,QAAJ,EAIQR,aAAkCuJ,MAAQvJ,aAAkCwJ,OAC5EC,IAAII,gBAAgBrJ,EAAMkJ,GAA1B,CAFE,CAV8E,KAgBxF,MAAM,yBAAN,CAIaT,aAAAA,gBAAgBzI,EAAD,CAC5BA,EAAMsJ,UAAYtJ,EAAMuJ,eAAiB,GAC7C,MAAM,IAAIrK,QAAc,CAACC,EAASwB,IAAV,CACpB,IAAA7H,EAAAG,GAAA,CACI+G,EAAM5B,oBAAoB,OAAQoL,CAAlC,EACAxJ,EAAM5B,oBAAoB,QAASoL,CAAnC,EACIxI,aAAiByI,WACjB9I,EAAO,kBAAP,EAEAxB,EAAA,CAAA,EAGRa,EAAM1E,iBAAiB,OAAQkO,CAA/B,EACAxJ,EAAM1E,iBAAiB,QAASkO,CAAhC,CAAA,CAXE,CAAA,CAeWlL,aAAAA,mBACjBoL,EACAC,EACA1I,EACA2I,EAJmC,CAMnC,OAAOnO,EAAUgF,uBAAuB,MAAMiJ,EAA2BC,EAAM1I,EAAM2I,CAA9E,CAAA,CAIInJ,OAAAA,uBACXf,EACAiK,EACA1I,EACA2I,EAJiC,CAMjC,GAAI,EAAElK,aAAoBY,QAAS,MAAO,GAC1C,IAAArH,EAAA1C,EAAA,mBACAmJ,OAAAA,EAASmK,YAAY,CACjBhN,GAAAA,EACA8M,KAAAA,EACA1I,KAAAA,CAHiB,EAIlB2I,CAJH,EAKO/M,CAAAA,CAxiCf,EACoBpB,GAAAA,oBAAsB,IACtBA,GAAAA,iBAAmB,mBACpBA,GAAAA,wBAA0B,GAC1BA,GAAAA,iBAAmB,EAAA,IAAAqO,GAAA5P,GDoH9B,IAAA6P,GAAA,SA/FD,SAASC,GAAU,CAAE,SAAAC,EAAU,QAAAC,CAAQ,EAAmB,CAC/D,IAAMC,KAAa,WAAyB,IAAI,EAC1CC,KAAa,WAAyB,IAAI,EAE1C,CAAEC,EAASC,CAAS,KAAI,aAAwB,IAAI,EACpD,CAAEC,EAASC,CAAS,KAAI,aAAyB,IAAI,EAuF3D,SArFA,cAAU,IAAM,CACd,IAAIC,EAA4B,KAyEhC,OAvE0B,SAAY,CAEpC,GAAI,OAAO,gBACT,GAAI,CAEG,OAAO,qBACV,OAAO,mBAAqB,CAAC,GAI/B,IAAMC,EAAa,MAAM,YAAK,IAAI,EAAC,KAAI,YAAK,OAAO,EAAE,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,GAGvEC,EAAc,IAAI,QAAgB,CAACC,EAASC,IAAW,CAC3D,OAAO,mBAAoBH,CAAU,EAAI,CAAE,QAAAE,EAAS,OAAAC,CAAO,CAC7D,CAAC,EAGD,OAAO,gBAAgB,WAAWH,CAAU,EAG5C,IAAMI,EAAO,MAAMH,EACnBV,EAASa,CAAI,EACb,MACF,OAASC,EAAK,CACZ,IAAMV,EAAQU,aAAe,MAAQA,EAAM,IAAI,MAAM,OAAOA,CAAG,CAAC,EAChET,EAASD,EAAM,OAAO,EAClBH,GACFA,EAAQG,CAAK,EAEf,MACF,CAIF,GAAI,CAACF,EAAS,QAAS,CACrBG,EAAS,yBAAyB,EAClC,MACF,CAEA,GAAI,CACFG,EAAU,IAAIO,GACZb,EAAS,QACRc,GAAkC,CAC5BA,EAAO,OACZhB,EAASgB,EAAO,IAAI,EACpBR,GAAA,MAAAA,EAAS,OACX,EACA,CACE,yBAA0B,GAC1B,oBAAqB,GACrB,qBAAsB,GACtB,kBAAmB,EACnB,gBAAiB,aACnB,CACF,EAGA,MAAMA,EAAQ,MAAM,EACpBH,EAAS,IAAI,EACbE,EAAQ,EAAI,EACZJ,EAAW,QAAUK,CACvB,OAASM,EAAK,CACZ,IAAMV,EAAQU,aAAe,MAAQA,EAAM,IAAI,MAAM,8BAA8B,EACnFT,EAASD,EAAM,OAAO,EAClBH,GACFA,EAAQG,CAAK,CAEjB,CACF,GAEkB,EAEX,IAAM,CACPI,IACFA,EAAQ,KAAK,EACbA,EAAQ,QAAQ,EAEpB,CACF,EAAG,CAACR,EAAUC,CAAO,CAAC,EAGlB,OAAO,mBAEP,QAAC,OAAI,UAAU,oBACb,oBAAC,OAAI,UAAU,6BAA6B,wCAE5C,EACF,KAKF,SAAC,OAAI,UAAU,oBACb,qBAAC,SACC,IAAKC,EACL,UAAU,gBACV,YAAW,GACX,SAAQ,GACR,MAAK,GACP,EACCE,MACC,SAAC,OAAI,UAAU,gBACZ,UAAAA,EACAE,IAAY,OACX,QAAC,OAAI,UAAU,2BAA2B,iEAE1C,GAEJ,GAEJ,CAEJ,CD7DM,IAAAW,GAAA,SA5EC,SAASC,IAAmB,CAXnC,IAAAC,EAYE,IAAMC,EAAQC,GAAY,EAEpB,CAAEC,EAAOC,CAAS,KAAI,aAAiB,EAAE,EACzC,CAAEC,EAAOC,CAAS,KAAI,aAAwB,IAAI,EAClD,CAAEC,EAAMC,CAAU,KAAI,aAAkB,EAAK,EAC7C,CAAEC,EAAOC,CAAS,KAAI,aAAkB,EAAK,EAE7C,CAAEC,EAAYC,CAAc,KAAI,aAAkB,EAAK,EAKvDC,EAAUV,GAAmB,CAEjC,GAAIE,IAAU,KAEd,IAAIF,IAAU,GACZF,EAAM,OAAO,CAAE,MAAQ,IAAK,CAAC,MAE7B,IAAI,CAEF,IAAMa,EAAQC,GAAiBZ,CAAK,EAEpC,GAAIW,IAAU,KAAM,OAEpBb,EAAM,OAAO,CAAE,MAAAa,CAAM,CAAC,CACxB,OAAQE,EAAA,CACNV,EAAS,+BAA+B,CAC1C,CAGFI,EAAS,EAAI,EACb,WAAW,IAAMA,EAAS,EAAK,EAAG,IAAI,EACxC,EAEA,uBAAU,IAAM,CACd,GAAI,CACET,EAAM,KAAK,QAAU,KACvBG,EAASa,GAAchB,EAAM,KAAK,KAAK,CAAC,EAExCG,EAAS,EAAE,CAEf,OAAQY,EAAA,CACNZ,EAAS,EAAE,CACb,CACF,EAAG,CAAEH,EAAM,KAAK,KAAM,CAAC,KAKvB,cAAU,IAAM,CAEd,GAAIE,IAAU,GACZG,EAAS,IAAI,UACJ,CAACH,EAAM,WAAW,SAAS,EAEpCG,EAAS,iCAAiC,UACjC,CAACY,IAAgBf,CAAK,EAE/BG,EAAS,mCAAmC,MACvC,CAEL,IAAMa,EAAMC,IAAcjB,CAAK,EAG7BG,EADEa,IAAQ,KACD,KAGA,+BAHI,CAKjB,CACF,EAAG,CAAEhB,CAAM,CAAC,KAGV,SAAC,OAAI,UAAU,YACb,qBAAC,MAAG,UAAU,iBAAiB,yBAAa,KAC5C,QAAC,KAAE,UAAU,cAAc,oHAAwG,KACnI,SAAC,OAAI,UAAU,oBACb,sBAAC,OAAI,UAAU,oBACb,qBAAC,SACC,KAAMI,EAAO,OAAS,WACtB,MAAOJ,EACP,SAAUa,GAAKZ,EAASY,EAAE,OAAO,MAAM,KAAK,CAAC,EAC7C,YAAY,cACd,KACA,SAAC,OAAI,UAAU,gBACb,qBAAC,UACC,UAAU,SACV,QAAS,IAAMR,EAAQ,CAACD,CAAI,EAE3B,SAAAA,EAAO,OAAS,OACnB,KACA,QAAC,UACC,UAAU,SACV,QAAS,IAAMK,EAAc,CAACD,CAAU,EAEvC,SAAAA,EAAa,YAAc,OAC9B,KACA,QAAC,UACC,UAAW,wBAAwB,OAAAF,EAAQ,eAAiB,IAC5D,QAAS,IAAMI,EAAOV,CAAK,EAC3B,SAAU,CAACkB,IAAiBlB,EAAOF,EAAM,KAAK,KAAK,GAAKI,IAAU,KAEjE,SAAAI,EAAQ,QAAU,OACrB,GACF,GACF,EAECE,MACC,QAACW,GAAA,CACC,SAAWC,GAAmB,CAC5BnB,EAASmB,EAAO,KAAK,CAAC,EACtBX,EAAc,EAAK,CACrB,EACA,QAAS,IAAM,CACbA,EAAc,EAAK,CACrB,EACF,EAGDT,IAAU,IAAME,IAAU,MAAQE,MACjC,QAAC,OAAI,UAAU,eACZ,UAAAP,EAAAwB,IAAerB,CAAK,IAApB,KAAAH,EAAyB,wBAC5B,KAEF,QAAC,OAAI,UAAU,yBACZ,SAAAK,MAAS,QAAC,KAAE,UAAU,aAAc,SAAAA,EAAM,EAC7C,GACF,GACF,CAEJ,CAKA,SAASa,IAAgBf,EAAgB,CACvC,MAAO,gDAAgD,KAAKA,CAAK,CACnE,CAKA,SAASkB,IACPlB,EACAW,EACA,CACA,GAAIA,IAAU,KACZ,OAAOX,IAAU,GACZ,CAEL,IAAMsB,EAAYR,GAAcH,CAAK,EAErC,OAAOX,IAAUsB,CACnB,CACF,CAKA,SAASR,GAAeH,EAAsB,CAC5C,GAAI,CACF,OAAQA,IAAU,KACdY,GAAiBZ,CAAK,EACtB,EACN,OAAQE,EAAA,CACN,MAAO,EACT,CACF,CAKA,SAASI,IAAejB,EAAgB,CACtC,GAAI,CACF,OAAQA,IAAU,GACdY,GAAiBZ,CAAK,EACtB,IACN,OAAQa,EAAA,CACN,OAAO,IACT,CACF,CAKA,SAASQ,IAAerB,EAAgB,CACtC,GAAI,CACF,IAAMW,EAAQC,GAAiBZ,CAAK,EACpC,OAAO,KAAK,UAAUW,EAAO,KAAM,CAAC,CACtC,OAASa,EAAK,CACZ,OAAO,IACT,CACF,CG7MA,IAAAC,GAAoC,SA6D9B,IAAAC,GAAA,SAvDC,SAASC,IAAkB,CAChC,IAAMC,EAAWC,GAAY,EAEvB,CAAEC,EAAOC,CAAS,KAAQ,aAAuB,CAAC,CAAC,EACnD,CAAEC,EAASC,CAAW,KAAI,aAAkB,EAAK,EACjD,CAAEC,EAAOC,CAAS,KAAQ,aAAkB,EAAK,EAGjDC,EAAS,IAAM,CACnBR,EAAS,OAAO,CAAE,MAAAE,CAAM,CAAC,EACzBG,EAAW,EAAK,EAChBE,EAAS,EAAI,EACb,WAAW,IAAMA,EAAS,EAAK,EAAG,IAAI,CACxC,EAGME,EAAS,IAAM,CACnBN,EAASH,EAAS,KAAK,KAAK,EAC5BK,EAAW,EAAK,CAClB,EAGMK,EAAc,CAACC,EAAaC,EAAsBC,IAAmB,CACzEV,EAASW,GAAQ,CACf,IAAMC,EAAU,CAAE,GAAGD,GAAA,KAAAA,EAAQ,CAAC,CAAE,EAChC,OAAAC,EAAQJ,CAAG,EAAE,OAAOC,CAAG,EAAIC,EACpBE,CACT,CAAC,EACDV,EAAW,EAAI,CACjB,EAEA,uBAAU,IAAM,CACd,GAAM,CAAE,MAAAW,EAAO,MAAAd,EAAM,OAAAe,CAAO,EAAIjB,EAAS,KACrCgB,IAAU,MAAQC,IAAW,OAC3Bf,EAAM,SAAW,EACnBC,EAASe,GAAWF,EAAOC,CAAM,CAAC,EAElCd,EAASD,CAAK,EAGpB,EAAG,CAAEF,EAAS,IAAK,CAAC,KAEpB,cAAU,IAAM,CACVA,EAAS,KAAK,SAAW,KAC3BG,EAAS,CAAC,CAAC,EAEXH,EAAS,KAAK,MAAM,SAAW,GAC/BA,EAAS,KAAK,QAAU,MAExBG,EAASe,GAAWlB,EAAS,KAAK,MAAOA,EAAS,KAAK,MAAM,CAAC,CAElE,EAAG,CAAEA,EAAS,KAAK,MAAO,CAAC,KAGzB,SAAC,OAAI,UAAU,YACb,qBAAC,MAAG,UAAU,iBAAiB,4BAAgB,KAC/C,QAAC,KAAE,UAAU,cAAc,oLAAwK,EAElME,EAAM,SAAW,MAChB,QAAC,KAAE,UAAU,cAAc,6DAAiD,EAG7EA,EAAM,OAAS,MACd,SAAC,OACC,sBAAC,SACC,qBAAC,SACC,qBAAC,MACC,qBAAC,MAAG,2BAAe,KACnB,QAAC,MAAG,UAAU,gBAAgB,gBAAI,KAClC,QAAC,MAAG,UAAU,gBAAgB,gBAAI,GACpC,EACF,KACA,QAAC,SACE,SAAAA,EAAM,IAAI,CAACiB,EAAMR,OAChB,SAAC,MACC,qBAAC,MAAG,UAAU,cAAe,SAAAQ,EAAK,OAAO,MAAM,CAAC,EAAE,KAClD,QAAC,MAAG,UAAU,gBACZ,oBAAC,SACC,KAAK,WACL,UAAU,gBACV,QAASA,EAAK,OAAO,KACrB,SAAU,IAAMT,EAAYC,EAAK,OAAQ,CAACQ,EAAK,OAAO,IAAI,EAC5D,EACF,KACA,QAAC,MAAG,UAAU,gBACZ,oBAAC,SACC,KAAK,WACL,UAAU,gBACV,QAASA,EAAK,OAAO,KACrB,SAAU,IAAMT,EAAYC,EAAK,OAAQ,CAACQ,EAAK,OAAO,IAAI,EAC5D,EACF,IAjBOR,CAkBT,CACD,EACH,GACF,KAEA,SAAC,OAAI,UAAU,iBACb,qBAAC,UACC,QAASH,EACT,SAAU,CAACJ,EACX,UAAW,uCAAuC,OAAAE,EAAQ,eAAiB,IAE1E,SAAAA,EAAQ,QAAU,OACrB,EAECF,MACC,QAAC,UACC,QAASK,EACT,UAAU,SACX,kBAED,GAEJ,GACF,GAEJ,CAEJ,CAEA,SAASS,GACPF,EACAC,EACe,CAEf,OADiBD,EAAM,QAAQ,OAAOI,GAAUC,GAAeD,EAAO,OAAQ,QAAQ,IAAMH,CAAM,EAClF,IAAIG,IAAW,CAC7B,OAASA,EAAO,OAChB,OAAS,CAAE,KAAM,GAAO,KAAM,EAAK,CACrC,EAAE,CACJ,CCxIA,IAAAE,GAAoC,SAuE9B,IAAAC,GAAA,SAlEC,SAASC,IAAmB,CALnC,IAAAC,EAME,IAAMC,EAAQC,GAAY,EAEpB,CAAEC,EAAQC,CAAU,KAAM,cAAwBJ,EAAAC,EAAM,KAAK,SAAX,KAAAD,EAAqB,CAAC,CAAC,EACzE,CAAEK,EAAUC,CAAO,KAAO,aAAS,EAAE,EACrC,CAAEC,EAASC,CAAW,KAAI,aAAkB,EAAK,EACjD,CAAEC,EAAOC,CAAS,KAAQ,aAAwB,IAAI,EACtD,CAAEC,EAAOC,CAAS,KAAQ,aAAkB,EAAK,EAGjDC,EAAS,IAAM,CAEnBZ,EAAM,OAAO,CAAE,OAAAE,CAAO,CAAC,EACvBK,EAAW,EAAK,EAChBI,EAAS,EAAI,EACb,WAAW,IAAMA,EAAS,EAAK,EAAG,IAAI,CACxC,EAGME,EAAS,IAAM,CACnBV,EAAUH,EAAM,KAAK,MAAM,EAC3BO,EAAW,EAAK,CAClB,EAGMO,EAAe,CAACC,EAAaC,IAA0B,CAC3D,IAAMC,EAAW,CAAE,GAAGf,CAAO,EAC7Be,EAASF,CAAG,EAAEC,CAAG,EAAI,CAACC,EAASF,CAAG,EAAEC,CAAG,EACvCb,EAAUc,CAAQ,EAClBV,EAAW,EAAI,CACjB,EAGMW,EAAY,IAAM,CACjBd,EAAS,KAAK,IAEbA,EAAS,WAAW,QAAQ,GAAKA,EAAS,WAAW,OAAO,EAEtDe,IAAYf,CAAQ,EAErBF,EAAO,KAAKkB,GAASA,EAAM,MAAQhB,CAAQ,EACpDK,EAAS,sBAAsB,GAE/BN,EAAUkB,GAAQ,CAAE,GAAGA,EAAM,CAAE,IAAKjB,EAAU,KAAM,GAAM,MAAO,EAAK,CAAE,CAAC,EACzEC,EAAO,EAAE,EACTE,EAAW,EAAI,GANfE,EAAS,oBAAoB,EAF7BA,EAAS,2CAA2C,EAUxD,EAGMa,EAAgBP,GAAgB,CACpC,IAAMQ,EAAWrB,EAAO,OAAO,CAACsB,EAAGC,IAAMA,IAAMV,CAAG,EAClDZ,EAAUoB,CAAQ,EAClBhB,EAAW,EAAI,CACjB,EAEA,uBAAU,IAAM,CACVC,IAAU,MAAMC,EAAS,IAAI,CACnC,EAAG,CAAEL,CAAS,CAAC,KAEf,cAAU,IAAM,CAjElB,IAAAL,EAkEII,GAAUJ,EAAAC,EAAM,KAAK,SAAX,KAAAD,EAAqB,CAAC,CAAC,CACnC,EAAG,CAAEC,EAAM,KAAK,MAAO,CAAC,KAGtB,SAAC,OAAI,UAAU,YACb,qBAAC,MAAG,UAAU,iBAAiB,6BAAiB,KAChD,QAAC,KAAE,UAAU,cAAc,8KAAkK,KAE7L,SAAC,SACC,qBAAC,SACC,qBAAC,MACC,qBAAC,MAAG,UAAU,aAAa,qBAAS,KACpC,QAAC,MAAG,UAAU,gBAAgB,gBAAI,KAClC,QAAC,MAAG,UAAU,gBAAgB,iBAAK,KACnC,QAAC,MAAG,UAAU,cAAc,mBAAO,GACrC,EACF,KACA,QAAC,SACE,SAAAE,EAAO,IAAI,CAACkB,EAAOL,OAClB,SAAC,MACC,qBAAC,MAAI,SAAAK,EAAM,IAAI,KACf,QAAC,MAAG,UAAU,gBACZ,oBAAC,SACC,KAAK,WACL,UAAU,iBACV,QAASA,EAAM,KACf,SAAU,IAAMN,EAAaC,EAAK,MAAM,EAC1C,EACF,KACA,QAAC,MAAG,UAAU,gBACZ,oBAAC,SACC,KAAK,WACL,UAAU,iBACV,QAASK,EAAM,MACf,SAAU,IAAMN,EAAaC,EAAK,OAAO,EAC3C,EACF,KACA,QAAC,MAAG,UAAU,cACZ,oBAAC,UACC,QAAS,IAAMO,EAAaP,CAAG,EAC/B,UAAU,uBACX,kBAED,EACF,IAzBOA,CA0BT,CACD,EACH,GACF,KAEA,SAAC,OAAI,UAAU,6BACb,qBAAC,SACC,KAAK,OACL,MAAOX,EACP,SAAWsB,GAAMrB,EAAOqB,EAAE,OAAO,KAAK,EACtC,YAAY,0BACZ,UAAU,cACZ,KACA,QAAC,UAAO,QAASR,EAAW,UAAU,0BAA0B,qBAEhE,GACF,KAEA,SAAC,OAAI,UAAU,iBACb,qBAAC,UACC,QAASN,EACT,SAAU,CAACN,EACX,UAAW,uCAAuC,OAAAI,EAAQ,eAAiB,IAE1E,SAAAA,EAAQ,QAAU,OACrB,EAECJ,MACC,QAAC,UACC,QAASO,EACT,UAAU,SACX,kBAED,KAEF,QAAC,OAAI,UAAU,yBACZ,SAAAL,MAAS,QAAC,KAAE,UAAU,aAAc,SAAAA,EAAM,EAC7C,GACF,GACF,CAEJ,CAEA,SAASW,IAAYQ,EAAsB,CACzC,GAAI,CACF,WAAI,IAAIA,CAAG,EACJ,EACT,OAASD,EAAG,CACV,MAAO,EACT,CACF,CCtJI,IAAAE,GAAA,SATG,SAASC,IAAkB,CAChC,IAAMC,EAAQC,GAAY,EAO1B,SACE,SAAC,OAAI,UAAU,YACb,qBAAC,MAAG,UAAU,iBAAiB,uBAAW,KAC1C,QAAC,KAAE,UAAU,cAAc,iDAAqC,KAEhE,QAAC,UACC,QAVQ,IAAM,CAClBD,EAAM,MAAM,CACd,EASM,UAAU,SACX,uBAED,GACF,CAEJ,CCvBA,IAAAE,GAAoC,SCE7B,SAASC,GAAcC,EAAoB,CAEhD,GAAI,CAEF,OAAOC,GAAQ,MAAM,OAAOD,CAAS,CACvC,OAASE,EAAK,CAEZ,eAAQ,MAAMA,CAAG,EAEV,IACT,CACF,CD2FM,IAAAC,GAAA,SA7FC,SAASC,IAAmB,CAXnC,IAAAC,EAYE,IAAMC,EAAWC,GAAY,EACvBC,EAAWF,EAAS,KAAK,MAEzB,CAAEG,EAAOC,CAAS,KAAI,aAAiB,EAAE,EACzC,CAAEC,EAAOC,CAAS,KAAI,aAAwB,IAAI,EAClD,CAAEC,EAAMC,CAAU,KAAI,aAAkB,EAAK,EAC7C,CAAEC,EAAOC,CAAS,KAAI,aAAkB,EAAK,EAE7C,CAAEC,EAAYC,CAAc,KAAI,aAAiB,EAAE,EACnD,CAAEC,EAAYC,CAAc,KAAI,aAAkB,EAAK,EAEvDC,EAAU,IAAM,CACpB,IAAMC,EAAYC,GAAgBd,EAAOQ,CAAQ,EACjD,GAAI,CAACK,EAAW,CACdV,EAAS,gCAAgC,EACzC,MACF,CACA,GAAI,CAACY,GAAgBF,CAAS,EAAG,CAC/BV,EAAS,mCAAmC,EAC5C,MACF,CACAF,EAASY,CAAS,CACpB,EAKMG,EAAS,IAAM,CAEnB,GAAId,IAAU,KAAM,OAEpB,GAAIF,IAAU,GAAI,CAEhBH,EAAS,OAAO,CAAE,OAAS,KAAM,MAAQ,IAAK,CAAC,EAC/C,MACF,CAEA,GAAI,CAACkB,GAAgBf,CAAK,EAAG,CAE3BG,EAAS,sBAAsB,EAC/B,MACF,CAEA,GAAIK,EAAS,OAAS,EAAG,CAEvBL,EAAS,wCAAwC,EACjD,MACF,CAEA,IAAMJ,EAAQkB,GAAajB,CAAK,EAEhC,GAAID,GAAS,KAAM,CAEjBI,EAAS,+BAA+B,EACxC,MACF,CAEA,IAAMe,EAAYC,GAAWpB,EAAM,OAAQ,QAAQ,EAE7CqB,EAAYC,GAAgBrB,EAAOQ,CAAQ,EAEjD,GAAI,CAACY,EAAW,CAEdjB,EAAS,gCAAgC,EACzC,MACF,CAEAN,EAAS,OAAO,CAAE,OAAAqB,EAAQ,MAAQE,CAAU,CAAC,EAC7Cb,EAAS,EAAI,EACb,WAAW,IAAMA,EAAS,EAAK,EAAG,IAAI,CACxC,EAEA,uBAAU,IAAM,CACVV,EAAS,KAAK,QAAU,KAC1BI,EAAS,EAAE,EAEXA,EAASJ,EAAS,KAAK,KAAK,CAEhC,EAAG,CAAEA,EAAS,KAAK,KAAM,CAAC,KAK1B,cAAU,IAAM,CAEVK,IAAU,MACZC,EAAS,IAAI,CAEjB,EAAG,CAAEH,EAAOQ,CAAS,CAAC,KAGpB,SAAC,OAAI,UAAU,YACb,qBAAC,MAAG,UAAU,iBAAiB,yBAAa,KAC5C,QAAC,KAAE,UAAU,cAAc,2HAA+G,KAC1I,SAAC,OAAI,UAAU,oBACb,sBAAC,OAAI,UAAU,oBACb,qBAAC,SACC,KAAMJ,EAAO,OAAS,WACtB,MAAOJ,EACP,SAAUsB,GAAKrB,EAASqB,EAAE,OAAO,MAAM,KAAK,CAAC,EAC7C,YAAY,aACd,KACA,QAAC,SACC,KAAK,WACL,MAAOd,EACP,SAAWc,GAAMb,EAAYa,EAAE,OAAO,KAAK,EAC3C,YAAY,yCACZ,UAAU,wBACZ,KACA,SAAC,OAAI,UAAU,gBACb,qBAAC,UACC,UAAU,SACV,QAAS,IAAMjB,EAAQ,CAACD,CAAI,EAE3B,SAAAA,EAAO,OAAS,OACnB,KACA,QAAC,UACC,UAAU,SACV,QAAS,IAAMQ,EAAQ,EACxB,mBAED,KACA,QAAC,UACC,UAAU,SACV,QAAS,IAAMD,EAAc,CAACD,CAAU,EAEvC,SAAAA,EAAa,YAAc,OAC9B,KACA,QAAC,UACC,UAAW,wBAAwB,OAAAJ,EAAQ,eAAiB,IAC5D,QAASU,EACT,SAAUhB,IAAUD,GAASG,IAAU,KAEtC,SAAAI,EAAQ,QAAU,OACrB,GACF,GACF,EAECI,MACC,QAACa,GAAA,CACC,SAAWC,GAAmB,CAC5BvB,EAASuB,EAAO,KAAK,CAAC,EACtBb,EAAc,EAAK,CACrB,EACA,QAAS,IAAM,CACbA,EAAc,EAAK,CACrB,EACF,EAGDX,IAAU,IAAME,IAAU,MAAQE,MACjC,QAAC,OAAI,UAAU,eACZ,UAAAR,EAAA6B,IAAezB,CAAK,IAApB,KAAAJ,EAAyB,wCAC5B,KAEF,QAAC,OAAI,UAAU,yBACZ,SAAAM,MAAS,QAAC,KAAE,UAAU,aAAc,SAAAA,EAAM,EAC7C,GACF,GACF,CAEJ,CAKA,SAASa,GAAgBf,EAAgB,CACvC,MAAO,gDAAgD,KAAKA,CAAK,CACnE,CAKA,SAASyB,IAAezB,EAAgB,CACtC,GAAI,CAACA,EAAM,WAAW,SAAS,EAAG,OAAO,KACzC,GAAI,CACF,IAAMD,EAAQkB,GAAajB,CAAK,EAChC,OAAID,IAAU,KAAa,KACpB,KAAK,UAAUA,EAAO,KAAM,CAAC,CACtC,OAAQuB,EAAA,CACN,OAAO,IACT,CACF,CE1LI,IAAAI,GAAA,SAFG,SAASC,IAAgB,CAC9B,SACE,sBACE,qBAACC,GAAA,EAAuB,KACxB,QAACC,GAAA,EAAuB,KACxB,QAACC,GAAA,EAAuB,KACxB,QAACC,GAAA,EAAuB,KACxB,QAACC,GAAA,EAAuB,GAC1B,CAEJ,C7PCU,IAAAC,GAAA,SARH,SAASC,IAAqB,CACnC,GAAM,CAAEC,EAAWC,CAAa,KAAI,aAAS,WAAW,EAExD,SACE,SAAC,OAAI,UAAU,iBACb,qBAAC,OAAI,UAAU,mBAEb,qBAAC,OAAI,UAAU,kBACb,sBAAC,UACC,UAAW,cAAc,OAAAD,IAAc,YAAc,SAAW,IAChE,QAAS,IAAMC,EAAa,WAAW,EAEvC,qBAAOC,GAAN,EAAkB,KACnB,QAAC,QAAK,qBAAS,GACjB,KAEA,SAAC,UACC,UAAW,cAAc,OAAAF,IAAc,cAAgB,SAAW,IAClE,QAAS,IAAMC,EAAa,aAAa,EAEzC,qBAAOE,GAAN,EAAsB,KACvB,QAAC,QAAK,uBAAW,GACnB,KAEA,SAAC,UACC,UAAW,cAAc,OAAAH,IAAc,WAAa,SAAW,IAC/D,QAAS,IAAMC,EAAa,UAAU,EAEtC,qBAAOG,GAAN,EAAmB,KACpB,QAAC,QAAK,oBAAQ,GAChB,GACF,EACF,KAEA,SAAC,OAAI,UAAU,cACZ,UAAAJ,IAAc,gBACb,QAAC,OAAI,UAAU,YACb,oBAACK,GAAA,EAAc,EACjB,EAGDL,IAAc,kBACb,QAAC,OAAI,UAAU,YACb,oBAACM,GAAA,EAAgB,EACnB,EAGDN,IAAc,eACb,QAAC,OAAI,UAAU,YACb,oBAACO,GAAA,EAAa,EAChB,GAEJ,GACF,CAEJ,C8PhEA,IAAAC,GAAsC,SC6CtC,IAAMC,GAAgBC,GAAgB,WAAW,KAAKA,EAAI,MAAM,EAAE,EAAE,IAAKC,GAAMA,EAAE,WAAW,CAAC,CAAC,CAAC,EACzFC,IAAUH,GAAa,kBAAkB,EACzCI,IAAUJ,GAAa,kBAAkB,EACzCK,IAAaC,GAAIH,GAAO,EACxBI,IAAaD,GAAIF,GAAO,EAExB,SAAUI,GAAKC,EAAWC,EAAS,CACvC,OAAQD,GAAKC,EAAMD,IAAO,GAAKC,CACjC,CAkCA,SAASC,GAAYD,EAAa,CAChC,OAAOA,EAAE,WAAa,IAAM,CAC9B,CAGA,IAAME,GAAY,GACZC,IAAc,GAIdC,GAAc,GAAK,GAAK,EAExBC,GAAY,IAAI,YACtB,SAASC,IACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAc,CAEd,IAAMC,EAAMJ,EAAK,OACXK,EAAQ,IAAI,WAAWd,EAAS,EAChCe,EAAMrB,GAAIoB,CAAK,EAEfE,EAAYjB,GAAYU,CAAI,GAAKV,GAAYW,CAAM,EACnDO,EAAMD,EAAYtB,GAAIe,CAAI,EAAIN,GAC9Be,EAAMF,EAAYtB,GAAIgB,CAAM,EAAIP,GACtC,QAASgB,EAAM,EAAGA,EAAMN,EAAKF,IAAW,CAEtC,GADAN,EAAKC,EAAOC,EAAKC,EAAOO,EAAKJ,EAASC,CAAM,EACxCD,GAAWT,GAAa,MAAM,IAAI,MAAM,uBAAuB,EACnE,IAAMkB,EAAO,KAAK,IAAIpB,GAAWa,EAAMM,CAAG,EAE1C,GAAIH,GAAaI,IAASpB,GAAW,CACnC,IAAMqB,EAAQF,EAAM,EACpB,GAAIA,EAAM,IAAM,EAAG,MAAM,IAAI,MAAM,6BAA6B,EAChE,QAASG,EAAI,EAAGC,EAAcD,EAAIrB,IAAaqB,IAC7CC,EAAOF,EAAQC,EACfJ,EAAIK,CAAI,EAAIN,EAAIM,CAAI,EAAIR,EAAIO,CAAC,EAE/BH,GAAOnB,GACP,QACF,CACA,QAASsB,EAAI,EAAGC,EAAMD,EAAIF,EAAME,IAC9BC,EAAOJ,EAAMG,EACbZ,EAAOa,CAAI,EAAId,EAAKc,CAAI,EAAIT,EAAMQ,CAAC,EAErCH,GAAOC,CACT,CACF,CAGM,SAAUI,GAAanB,EAAoBoB,EAAgB,CAC/D,GAAM,CAAE,eAAAC,EAAgB,cAAAC,EAAe,cAAAC,EAAe,aAAAC,EAAc,OAAAjB,CAAM,EAAKkB,GAC7E,CAAE,eAAgB,GAAO,cAAe,EAAG,aAAc,GAAO,OAAQ,EAAE,EAC1EL,CAAI,EAEN,GAAI,OAAOpB,GAAS,WAAY,MAAM,IAAI,MAAM,yBAAyB,EACzE,OAAA0B,GAAQH,CAAa,EACrBG,GAAQnB,CAAM,EACdoB,GAAMH,CAAY,EAClBG,GAAMN,CAAc,EACb,CACLnB,EACAC,EACAC,EACAC,EACAC,EAAU,IACI,CACdsB,GAAO1B,CAAG,EACV0B,GAAOzB,CAAK,EACZyB,GAAOxB,CAAI,EACX,IAAMI,EAAMJ,EAAK,OAIjB,GAHIC,IAAW,SAAWA,EAAS,IAAI,WAAWG,CAAG,GACrDoB,GAAOvB,CAAM,EACbqB,GAAQpB,CAAO,EACXA,EAAU,GAAKA,GAAWT,GAAa,MAAM,IAAI,MAAM,uBAAuB,EAClF,GAAIQ,EAAO,OAASG,EAClB,MAAM,IAAI,MAAM,gBAAgB,OAAAH,EAAO,OAAM,4BAA2B,OAAAG,EAAG,IAAG,EAChF,IAAMqB,EAAU,CAAA,EAKZC,EAAI5B,EAAI,OACR6B,EACA9B,EACJ,GAAI6B,IAAM,GACRD,EAAQ,KAAME,EAAIC,GAAU9B,CAAG,CAAE,EACjCD,EAAQX,YACCwC,IAAM,IAAMT,EACrBU,EAAI,IAAI,WAAW,EAAE,EACrBA,EAAE,IAAI7B,CAAG,EACT6B,EAAE,IAAI7B,EAAK,EAAE,EACbD,EAAQb,IACRyC,EAAQ,KAAKE,CAAC,MAEd,OAAM,IAAI,MAAM,wCAAwC,OAAAD,EAAG,EAUxDpC,GAAYS,CAAK,GAAG0B,EAAQ,KAAM1B,EAAQ6B,GAAU7B,CAAK,CAAE,EAEhE,IAAM8B,EAAM5C,GAAI0C,CAAC,EAEjB,GAAIT,EAAe,CACjB,GAAInB,EAAM,SAAW,GAAI,MAAM,IAAI,MAAM,sCAAsC,EAC/EmB,EAAcrB,EAAOgC,EAAK5C,GAAIc,EAAM,SAAS,EAAG,EAAE,CAAC,EAAG8B,CAAG,EACzD9B,EAAQA,EAAM,SAAS,EAAE,CAC3B,CAGA,IAAM+B,EAAa,GAAKX,EACxB,GAAIW,IAAe/B,EAAM,OACvB,MAAM,IAAI,MAAM,sBAAsB,OAAA+B,EAAU,eAAc,EAGhE,GAAIA,IAAe,GAAI,CACrB,IAAMC,EAAK,IAAI,WAAW,EAAE,EAC5BA,EAAG,IAAIhC,EAAOqB,EAAe,EAAI,GAAKrB,EAAM,MAAM,EAClDA,EAAQgC,EACRN,EAAQ,KAAK1B,CAAK,CACpB,CACA,IAAMiC,EAAM/C,GAAIc,CAAK,EACrB,OAAAJ,IAAUC,EAAMC,EAAOgC,EAAKG,EAAKhC,EAAMC,EAAQC,EAASC,CAAM,EAC9D8B,GAAM,GAAGR,CAAO,EACTxB,CACT,CACF,CC1MA,IAAMiC,GAAS,CAACC,EAAeC,IAAeD,EAAEC,GAAG,EAAI,KAAUD,EAAEC,GAAG,EAAI,MAAS,EAC7EC,GAAN,KAAc,CAUZ,YAAYC,EAAU,CATb,KAAA,SAAW,GACX,KAAA,UAAY,GACb,KAAA,OAAS,IAAI,WAAW,EAAE,EAC1B,KAAA,EAAI,IAAI,YAAY,EAAE,EACtB,KAAA,EAAI,IAAI,YAAY,EAAE,EACtB,KAAA,IAAM,IAAI,YAAY,CAAC,EACvB,KAAA,IAAM,EACJ,KAAA,SAAW,GAGnBA,EAAMC,GAAQD,CAAG,EACjBE,GAAOF,EAAK,EAAE,EACd,IAAMG,EAAKP,GAAOI,EAAK,CAAC,EAClBI,EAAKR,GAAOI,EAAK,CAAC,EAClBK,EAAKT,GAAOI,EAAK,CAAC,EAClBM,EAAKV,GAAOI,EAAK,CAAC,EAClBO,EAAKX,GAAOI,EAAK,CAAC,EAClBQ,EAAKZ,GAAOI,EAAK,EAAE,EACnBS,EAAKb,GAAOI,EAAK,EAAE,EACnBU,EAAKd,GAAOI,EAAK,EAAE,EAGzB,KAAK,EAAE,CAAC,EAAIG,EAAK,KACjB,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,EAAMC,GAAM,GAAM,KACvC,KAAK,EAAE,CAAC,GAAMA,IAAO,EAAMC,GAAM,IAAO,IACxC,KAAK,EAAE,CAAC,EAAKA,IAAO,EAAK,KACzB,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,GAAOC,GAAM,GAAM,KACxC,KAAK,EAAE,CAAC,GAAMA,IAAO,EAAMC,GAAM,GAAM,KACvC,KAAK,EAAE,CAAC,EAAKA,IAAO,EAAK,IACzB,QAASZ,EAAI,EAAGA,EAAI,EAAGA,IAAK,KAAK,IAAIA,CAAC,EAAIF,GAAOI,EAAK,GAAK,EAAIF,CAAC,CAClE,CAEQ,QAAQa,EAAkBC,EAAgBC,EAAS,GAAK,CAC9D,IAAMC,EAAQD,EAAS,EAAI,KACrB,CAAE,EAAAE,EAAG,EAAAC,CAAC,EAAK,KACXC,EAAKD,EAAE,CAAC,EACRE,EAAKF,EAAE,CAAC,EACRG,EAAKH,EAAE,CAAC,EACRI,EAAKJ,EAAE,CAAC,EACRK,EAAKL,EAAE,CAAC,EACRM,EAAKN,EAAE,CAAC,EACRO,EAAKP,EAAE,CAAC,EACRQ,EAAKR,EAAE,CAAC,EACRS,EAAKT,EAAE,CAAC,EACRU,EAAKV,EAAE,CAAC,EAERb,EAAKP,GAAOe,EAAMC,EAAS,CAAC,EAC5BR,EAAKR,GAAOe,EAAMC,EAAS,CAAC,EAC5BP,EAAKT,GAAOe,EAAMC,EAAS,CAAC,EAC5BN,EAAKV,GAAOe,EAAMC,EAAS,CAAC,EAC5BL,EAAKX,GAAOe,EAAMC,EAAS,CAAC,EAC5BJ,EAAKZ,GAAOe,EAAMC,EAAS,EAAE,EAC7BH,EAAKb,GAAOe,EAAMC,EAAS,EAAE,EAC7BF,EAAKd,GAAOe,EAAMC,EAAS,EAAE,EAE/Be,EAAKZ,EAAE,CAAC,GAAKZ,EAAK,MAClByB,EAAKb,EAAE,CAAC,IAAOZ,IAAO,GAAOC,GAAM,GAAM,MACzCyB,EAAKd,EAAE,CAAC,IAAOX,IAAO,GAAOC,GAAM,GAAM,MACzCyB,EAAKf,EAAE,CAAC,IAAOV,IAAO,EAAMC,GAAM,GAAM,MACxCyB,EAAKhB,EAAE,CAAC,IAAOT,IAAO,EAAMC,GAAM,IAAO,MACzCyB,EAAKjB,EAAE,CAAC,GAAMR,IAAO,EAAK,MAC1B0B,EAAKlB,EAAE,CAAC,IAAOR,IAAO,GAAOC,GAAM,GAAM,MACzC0B,EAAKnB,EAAE,CAAC,IAAOP,IAAO,GAAOC,GAAM,GAAM,MACzC0B,EAAKpB,EAAE,CAAC,IAAON,IAAO,EAAMC,GAAM,GAAM,MACxC0B,EAAKrB,EAAE,CAAC,GAAML,IAAO,EAAKI,GAE1BuB,EAAI,EAEJC,EAAKD,EAAIV,EAAKV,EAAKW,GAAM,EAAIF,GAAMG,GAAM,EAAIJ,GAAMK,GAAM,EAAIN,GAAMO,GAAM,EAAIR,GACjFc,EAAIC,IAAO,GACXA,GAAM,KACNA,GAAMN,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GAAMa,GAAM,EAAId,GAAMe,GAAM,EAAIhB,GAAMiB,GAAM,EAAIlB,GAChFmB,GAAKC,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKF,EAAIV,EAAKT,EAAKU,EAAKX,EAAKY,GAAM,EAAIH,GAAMI,GAAM,EAAIL,GAAMM,GAAM,EAAIP,GAC3Ea,EAAIE,IAAO,GACXA,GAAM,KACNA,GAAMP,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAAMY,GAAM,EAAIb,GAAMc,GAAM,EAAIf,GAAMgB,GAAM,EAAIjB,GAChFkB,GAAKE,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKH,EAAIV,EAAKR,EAAKS,EAAKV,EAAKW,EAAKZ,EAAKa,GAAM,EAAIJ,GAAMK,GAAM,EAAIN,GACrEY,EAAIG,IAAO,GACXA,GAAM,KACNA,GAAMR,GAAM,EAAIR,GAAMS,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GAAMa,GAAM,EAAId,GAAMe,GAAM,EAAIhB,GAChFiB,GAAKG,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKJ,EAAIV,EAAKP,EAAKQ,EAAKT,EAAKU,EAAKX,EAAKY,EAAKb,EAAKc,GAAM,EAAIL,GAC/DW,EAAII,IAAO,GACXA,GAAM,KACNA,GAAMT,GAAM,EAAIP,GAAMQ,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAAMY,GAAM,EAAIb,GAAMc,GAAM,EAAIf,GAChFgB,GAAKI,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKL,EAAIV,EAAKN,EAAKO,EAAKR,EAAKS,EAAKV,EAAKW,EAAKZ,EAAKa,EAAKd,EAC1DoB,EAAIK,IAAO,GACXA,GAAM,KACNA,GAAMV,GAAM,EAAIN,GAAMO,GAAM,EAAIR,GAAMS,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GAAMa,GAAM,EAAId,GAChFe,GAAKK,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKN,EAAIV,EAAKL,EAAKM,EAAKP,EAAKQ,EAAKT,EAAKU,EAAKX,EAAKY,EAAKb,EAC1DmB,EAAIM,IAAO,GACXA,GAAM,KACNA,GAAMX,EAAKf,EAAKgB,GAAM,EAAIP,GAAMQ,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAAMY,GAAM,EAAIb,GAC1Ec,GAAKM,IAAO,GACZA,GAAM,KAEN,IAAIC,EAAKP,EAAIV,EAAKJ,EAAKK,EAAKN,EAAKO,EAAKR,EAAKS,EAAKV,EAAKW,EAAKZ,EAC1DkB,EAAIO,IAAO,GACXA,GAAM,KACNA,GAAMZ,EAAKd,EAAKe,EAAKhB,EAAKiB,GAAM,EAAIR,GAAMS,GAAM,EAAIV,GAAMW,GAAM,EAAIZ,GACpEa,GAAKO,IAAO,GACZA,GAAM,KAEN,IAAIC,GAAKR,EAAIV,EAAKH,EAAKI,EAAKL,EAAKM,EAAKP,EAAKQ,EAAKT,EAAKU,EAAKX,EAC1DiB,EAAIQ,KAAO,GACXA,IAAM,KACNA,IAAMb,EAAKb,EAAKc,EAAKf,EAAKgB,EAAKjB,EAAKkB,GAAM,EAAIT,GAAMU,GAAM,EAAIX,GAC9DY,GAAKQ,KAAO,GACZA,IAAM,KAEN,IAAIC,GAAKT,EAAIV,EAAKF,EAAKG,EAAKJ,EAAKK,EAAKN,EAAKO,EAAKR,EAAKS,EAAKV,EAC1DgB,EAAIS,KAAO,GACXA,IAAM,KACNA,IAAMd,EAAKZ,EAAKa,EAAKd,EAAKe,EAAKhB,EAAKiB,EAAKlB,EAAKmB,GAAM,EAAIV,GACxDW,GAAKS,KAAO,GACZA,IAAM,KAEN,IAAIC,GAAKV,EAAIV,EAAKD,EAAKE,EAAKH,EAAKI,EAAKL,EAAKM,EAAKP,EAAKQ,EAAKT,EAC1De,EAAIU,KAAO,GACXA,IAAM,KACNA,IAAMf,EAAKX,EAAKY,EAAKb,EAAKc,EAAKf,EAAKgB,EAAKjB,EAAKkB,EAAKnB,EACnDoB,GAAKU,KAAO,GACZA,IAAM,KAENV,GAAMA,GAAK,GAAKA,EAAK,EACrBA,EAAKA,EAAIC,EAAM,EACfA,EAAKD,EAAI,KACTA,EAAIA,IAAM,GACVE,GAAMF,EAENtB,EAAE,CAAC,EAAIuB,EACPvB,EAAE,CAAC,EAAIwB,EACPxB,EAAE,CAAC,EAAIyB,EACPzB,EAAE,CAAC,EAAI0B,EACP1B,EAAE,CAAC,EAAI2B,EACP3B,EAAE,CAAC,EAAI4B,EACP5B,EAAE,CAAC,EAAI6B,EACP7B,EAAE,CAAC,EAAI8B,GACP9B,EAAE,CAAC,EAAI+B,GACP/B,EAAE,CAAC,EAAIgC,EACT,CAEQ,UAAQ,CACd,GAAM,CAAE,EAAAhC,EAAG,IAAAiC,CAAG,EAAK,KACbC,EAAI,IAAI,YAAY,EAAE,EACxBZ,EAAItB,EAAE,CAAC,IAAM,GACjBA,EAAE,CAAC,GAAK,KACR,QAASjB,EAAI,EAAGA,EAAI,GAAIA,IACtBiB,EAAEjB,CAAC,GAAKuC,EACRA,EAAItB,EAAEjB,CAAC,IAAM,GACbiB,EAAEjB,CAAC,GAAK,KAEViB,EAAE,CAAC,GAAKsB,EAAI,EACZA,EAAItB,EAAE,CAAC,IAAM,GACbA,EAAE,CAAC,GAAK,KACRA,EAAE,CAAC,GAAKsB,EACRA,EAAItB,EAAE,CAAC,IAAM,GACbA,EAAE,CAAC,GAAK,KACRA,EAAE,CAAC,GAAKsB,EAERY,EAAE,CAAC,EAAIlC,EAAE,CAAC,EAAI,EACdsB,EAAIY,EAAE,CAAC,IAAM,GACbA,EAAE,CAAC,GAAK,KACR,QAASnD,EAAI,EAAGA,EAAI,GAAIA,IACtBmD,EAAEnD,CAAC,EAAIiB,EAAEjB,CAAC,EAAIuC,EACdA,EAAIY,EAAEnD,CAAC,IAAM,GACbmD,EAAEnD,CAAC,GAAK,KAEVmD,EAAE,CAAC,GAAK,KAER,IAAIC,GAAQb,EAAI,GAAK,EACrB,QAASvC,EAAI,EAAGA,EAAI,GAAIA,IAAKmD,EAAEnD,CAAC,GAAKoD,EACrCA,EAAO,CAACA,EACR,QAASpD,EAAI,EAAGA,EAAI,GAAIA,IAAKiB,EAAEjB,CAAC,EAAKiB,EAAEjB,CAAC,EAAIoD,EAAQD,EAAEnD,CAAC,EACvDiB,EAAE,CAAC,GAAKA,EAAE,CAAC,EAAKA,EAAE,CAAC,GAAK,IAAO,MAC/BA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,IAAO,MACvCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MACtCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MACtCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,GAAOA,EAAE,CAAC,GAAK,EAAMA,EAAE,CAAC,GAAK,IAAO,MACtDA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,IAAO,MACvCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MACtCA,EAAE,CAAC,GAAMA,EAAE,CAAC,IAAM,EAAMA,EAAE,CAAC,GAAK,GAAM,MAEtC,IAAIoC,EAAIpC,EAAE,CAAC,EAAIiC,EAAI,CAAC,EACpBjC,EAAE,CAAC,EAAIoC,EAAI,MACX,QAASrD,EAAI,EAAGA,EAAI,EAAGA,IACrBqD,GAAOpC,EAAEjB,CAAC,EAAIkD,EAAIlD,CAAC,EAAK,IAAMqD,IAAM,IAAO,EAC3CpC,EAAEjB,CAAC,EAAIqD,EAAI,MAEbC,GAAMH,CAAC,CACT,CACA,OAAOtC,EAAW,CAChB0C,GAAQ,IAAI,EACZ1C,EAAOV,GAAQU,CAAI,EACnBT,GAAOS,CAAI,EACX,GAAM,CAAE,OAAA2C,EAAQ,SAAAC,CAAQ,EAAK,KACvBC,EAAM7C,EAAK,OAEjB,QAAS8C,EAAM,EAAGA,EAAMD,GAAO,CAC7B,IAAME,EAAO,KAAK,IAAIH,EAAW,KAAK,IAAKC,EAAMC,CAAG,EAEpD,GAAIC,IAASH,EAAU,CACrB,KAAOA,GAAYC,EAAMC,EAAKA,GAAOF,EAAU,KAAK,QAAQ5C,EAAM8C,CAAG,EACrE,QACF,CACAH,EAAO,IAAI3C,EAAK,SAAS8C,EAAKA,EAAMC,CAAI,EAAG,KAAK,GAAG,EACnD,KAAK,KAAOA,EACZD,GAAOC,EACH,KAAK,MAAQH,IACf,KAAK,QAAQD,EAAQ,EAAG,EAAK,EAC7B,KAAK,IAAM,EAEf,CACA,OAAO,IACT,CACA,SAAO,CACLF,GAAM,KAAK,EAAG,KAAK,EAAG,KAAK,OAAQ,KAAK,GAAG,CAC7C,CACA,WAAWO,EAAe,CACxBN,GAAQ,IAAI,EACZO,GAAQD,EAAK,IAAI,EACjB,KAAK,SAAW,GAChB,GAAM,CAAE,OAAAL,EAAQ,EAAAvC,CAAC,EAAK,KAClB,CAAE,IAAA0C,CAAG,EAAK,KACd,GAAIA,EAAK,CAEP,IADAH,EAAOG,GAAK,EAAI,EACTA,EAAM,GAAIA,IAAOH,EAAOG,CAAG,EAAI,EACtC,KAAK,QAAQH,EAAQ,EAAG,EAAI,CAC9B,CACA,KAAK,SAAQ,EACb,IAAIO,EAAO,EACX,QAAS/D,EAAI,EAAGA,EAAI,EAAGA,IACrB6D,EAAIE,GAAM,EAAI9C,EAAEjB,CAAC,IAAM,EACvB6D,EAAIE,GAAM,EAAI9C,EAAEjB,CAAC,IAAM,EAEzB,OAAO6D,CACT,CACA,QAAM,CACJ,GAAM,CAAE,OAAAL,EAAQ,UAAAQ,CAAS,EAAK,KAC9B,KAAK,WAAWR,CAAM,EACtB,IAAMS,EAAMT,EAAO,MAAM,EAAGQ,CAAS,EACrC,YAAK,QAAO,EACLC,CACT,GAII,SAAUC,IACdC,EAAiC,CAOjC,IAAMC,EAAQ,CAACC,EAAYnE,IAA2BiE,EAASjE,CAAG,EAAE,OAAOC,GAAQkE,CAAG,CAAC,EAAE,OAAM,EACzFC,EAAMH,EAAS,IAAI,WAAW,EAAE,CAAC,EACvC,OAAAC,EAAM,UAAYE,EAAI,UACtBF,EAAM,SAAWE,EAAI,SACrBF,EAAM,OAAUlE,GAAeiE,EAASjE,CAAG,EACpCkE,CACT,CAGO,IAAMG,GAAkBL,IAAwBhE,GAAQ,IAAID,GAASC,CAAG,CAAC,ECjRhF,SAASsE,GACPC,EAAgBC,EAAgB,EAAgBC,EAAkBC,EAAaC,EAAS,GAAE,CAE1F,IAAIC,EAAML,EAAE,CAAC,EAAGM,EAAMN,EAAE,CAAC,EAAGO,EAAMP,EAAE,CAAC,EAAGQ,EAAMR,EAAE,CAAC,EAC/CS,EAAMR,EAAE,CAAC,EAAGS,EAAMT,EAAE,CAAC,EAAGU,EAAMV,EAAE,CAAC,EAAGW,EAAMX,EAAE,CAAC,EAC7CY,EAAMZ,EAAE,CAAC,EAAGa,EAAMb,EAAE,CAAC,EAAGc,EAAMd,EAAE,CAAC,EAAGe,EAAMf,EAAE,CAAC,EAC7CgB,EAAMd,EAAKe,EAAM,EAAE,CAAC,EAAGC,EAAM,EAAE,CAAC,EAAGC,EAAM,EAAE,CAAC,EAE1CC,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EACvCiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EACvCiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EACvCiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAAKiB,EAAMhB,EAC3C,QAASiB,EAAI,EAAGA,EAAIjC,EAAQiC,GAAK,EAC/BhB,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,CAAC,EAE9CX,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,EAAE,EAC/CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,CAAC,EAC9CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,EAAE,EAC/CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,CAAC,EAC9CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,EAAE,EAC/CN,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,CAAC,EAE9CL,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,EAAE,EAC/CN,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,CAAC,EAGhD,IAAIS,EAAK,EACTrC,EAAIqC,GAAI,EAAKlC,EAAMgB,EAAO,EAAGnB,EAAIqC,GAAI,EAAKjC,EAAMgB,EAAO,EACvDpB,EAAIqC,GAAI,EAAKhC,EAAMgB,EAAO,EAAGrB,EAAIqC,GAAI,EAAK/B,EAAMgB,EAAO,EACvDtB,EAAIqC,GAAI,EAAK9B,EAAMgB,EAAO,EAAGvB,EAAIqC,GAAI,EAAK7B,EAAMgB,EAAO,EACvDxB,EAAIqC,GAAI,EAAK5B,EAAMgB,EAAO,EAAGzB,EAAIqC,GAAI,EAAK3B,EAAMgB,EAAO,EACvD1B,EAAIqC,GAAI,EAAK1B,EAAMgB,EAAO,EAAG3B,EAAIqC,GAAI,EAAKzB,EAAMgB,EAAO,EACvD5B,EAAIqC,GAAI,EAAKxB,EAAMgB,EAAO,EAAG7B,EAAIqC,GAAI,EAAKvB,EAAMgB,EAAO,EACvD9B,EAAIqC,GAAI,EAAKtB,EAAMgB,EAAO,EAAG/B,EAAIqC,GAAI,EAAKrB,EAAMgB,EAAO,EACvDhC,EAAIqC,GAAI,EAAKpB,EAAMgB,EAAO,EAAGjC,EAAIqC,GAAI,EAAKnB,EAAMgB,EAAO,CACzD,CAQM,SAAUI,IACdxC,EAAgBC,EAAgBwC,EAAgBC,EAAgB,CAEhE,IAAIrB,EAAMrB,EAAE,CAAC,EAAGsB,EAAMtB,EAAE,CAAC,EAAGuB,EAAMvB,EAAE,CAAC,EAAGwB,EAAMxB,EAAE,CAAC,EAC7CyB,EAAMxB,EAAE,CAAC,EAAGyB,EAAMzB,EAAE,CAAC,EAAG0B,EAAM1B,EAAE,CAAC,EAAG2B,EAAM3B,EAAE,CAAC,EAC7C4B,EAAM5B,EAAE,CAAC,EAAG6B,EAAM7B,EAAE,CAAC,EAAG8B,EAAM9B,EAAE,CAAC,EAAG+B,EAAM/B,EAAE,CAAC,EAC7CgC,EAAMQ,EAAE,CAAC,EAAGP,EAAMO,EAAE,CAAC,EAAGN,EAAMM,EAAE,CAAC,EAAGL,EAAMK,EAAE,CAAC,EACjD,QAASJ,EAAI,EAAGA,EAAI,GAAIA,GAAK,EAC3BhB,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMK,GAAKL,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMa,GAAKb,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMI,GAAKJ,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMY,GAAKZ,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAMG,GAAKH,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMW,GAAKX,EAAMI,EAAK,CAAC,EAE9CP,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,EAAE,EAC/CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,EAAE,EAC/CR,EAAOA,EAAMI,EAAO,EAAGQ,EAAME,GAAKF,EAAMZ,EAAK,CAAC,EAC9CQ,EAAOA,EAAMI,EAAO,EAAGR,EAAMU,GAAKV,EAAMI,EAAK,CAAC,EAE9CX,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,EAAE,EAC/CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGU,EAAME,GAAKF,EAAMf,EAAK,CAAC,EAC9CU,EAAOA,EAAMK,EAAO,EAAGV,EAAMY,GAAKZ,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,EAAE,EAC/CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,EAAE,EAC/CV,EAAOA,EAAMK,EAAO,EAAGM,EAAMK,GAAKL,EAAMX,EAAK,CAAC,EAC9CU,EAAOA,EAAMC,EAAO,EAAGN,EAAMW,GAAKX,EAAMK,EAAK,CAAC,EAE9CT,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,EAAE,EAC/CN,EAAOA,EAAMK,EAAO,EAAGM,EAAMI,GAAKJ,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGN,EAAMU,GAAKV,EAAMC,EAAK,CAAC,EAE9CL,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,EAAE,EAC/CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,EAAE,EAC/CN,EAAOA,EAAMC,EAAO,EAAGU,EAAMG,GAAKH,EAAMX,EAAK,CAAC,EAC9CM,EAAOA,EAAMK,EAAO,EAAGV,EAAMa,GAAKb,EAAMK,EAAK,CAAC,EAEhD,IAAIS,EAAK,EACTG,EAAIH,GAAI,EAAIlB,EAAKqB,EAAIH,GAAI,EAAIjB,EAC7BoB,EAAIH,GAAI,EAAIhB,EAAKmB,EAAIH,GAAI,EAAIf,EAC7BkB,EAAIH,GAAI,EAAIN,EAAKS,EAAIH,GAAI,EAAIL,EAC7BQ,EAAIH,GAAI,EAAIJ,EAAKO,EAAIH,GAAI,EAAIH,CAC/B,CAaO,IAAMO,GAAsCC,GAAaC,GAAY,CAC1E,aAAc,GACd,cAAe,EACf,eAAgB,GACjB,EAOYC,IAAuCF,GAAaC,GAAY,CAC3E,aAAc,GACd,cAAe,EACf,cAAeE,IACf,eAAgB,GACjB,EAoBD,IAAMC,IAA0B,IAAI,WAAW,EAAE,EAE3CC,GAAe,CAACC,EAAuCC,IAAmB,CAC9ED,EAAE,OAAOC,CAAG,EACZ,IAAMC,EAAOD,EAAI,OAAS,GACtBC,GAAMF,EAAE,OAAOF,IAAQ,SAASI,CAAI,CAAC,CAC3C,EAEMC,IAA0B,IAAI,WAAW,EAAE,EACjD,SAASC,GACPC,EACAC,EACAC,EACAC,EACAC,EAAgB,CAEhB,IAAMC,EAAUL,EAAGC,EAAKC,EAAOJ,GAAO,EAChCH,EAAIW,GAAS,OAAOD,CAAO,EAC7BD,GAAKV,GAAaC,EAAGS,CAAG,EAC5BV,GAAaC,EAAGQ,CAAI,EACpB,IAAMI,EAAMC,GAAWL,EAAK,OAAQC,EAAMA,EAAI,OAAS,EAAG,EAAI,EAC9DT,EAAE,OAAOY,CAAG,EACZ,IAAME,EAAMd,EAAE,OAAM,EACpB,OAAAe,GAAML,EAASE,CAAG,EACXE,CACT,CAWO,IAAME,GACVC,GACD,CAACX,EAAiBC,EAAmBE,KAE5B,CACL,QAAQS,EAAuBC,EAAmB,CAChD,IAAMC,EAAUF,EAAU,OAC1BC,EAASE,GAAUD,EAAU,GAAWD,EAAQ,EAAK,EACrDA,EAAO,IAAID,CAAS,EACpB,IAAMI,EAASH,EAAO,SAAS,EAAG,GAAU,EAC5CF,EAAUX,EAAKC,EAAOe,EAAQA,EAAQ,CAAC,EACvC,IAAMC,EAAMnB,GAAWa,EAAWX,EAAKC,EAAOe,EAAQb,CAAG,EACzD,OAAAU,EAAO,IAAII,EAAKH,CAAO,EACvBL,GAAMQ,CAAG,EACFJ,CACT,EACA,QAAQK,EAAwBL,EAAmB,CACjDA,EAASE,GAAUG,EAAW,OAAS,GAAWL,EAAQ,EAAK,EAC/D,IAAMX,EAAOgB,EAAW,SAAS,EAAG,GAAU,EACxCC,EAAYD,EAAW,SAAS,GAAU,EAC1CD,EAAMnB,GAAWa,EAAWX,EAAKC,EAAOC,EAAMC,CAAG,EACvD,GAAI,CAACiB,GAAWD,EAAWF,CAAG,EAAG,MAAM,IAAI,MAAM,aAAa,EAC9D,OAAAJ,EAAO,IAAIK,EAAW,SAAS,EAAG,GAAU,CAAC,EAC7CP,EAAUX,EAAKC,EAAOY,EAAQA,EAAQ,CAAC,EACvCJ,GAAMQ,CAAG,EACFJ,CACT,IAUOQ,IAA8CC,GACzD,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,EAAE,EAC/CZ,GAAea,EAAQ,CAAC,EAQbC,IAA+CF,GAC1D,CAAE,UAAW,GAAI,YAAa,GAAI,UAAW,EAAE,EAC/CZ,GAAee,GAAS,CAAC,ECjRrB,SAAUC,GAAQC,EAAaC,EAAYC,EAAY,CAC3D,OAAAC,GAAMH,CAAI,EAINE,IAAS,SAAWA,EAAO,IAAI,WAAWF,EAAK,SAAS,GACrDI,GAAKJ,EAAMK,GAAQH,CAAI,EAAGG,GAAQJ,CAAG,CAAC,CAC/C,CAEA,IAAMK,GAA+B,WAAW,KAAK,CAAC,CAAC,CAAC,EAClDC,GAA+B,WAAW,GAAE,EAS5C,SAAUC,GAAOR,EAAaS,EAAYC,EAAcC,EAAiB,GAAE,CAC/ER,GAAMH,CAAI,EACVY,GAAQD,CAAM,EACd,IAAME,EAAOb,EAAK,UAClB,GAAIW,EAAS,IAAME,EAAM,MAAM,IAAI,MAAM,iCAAiC,EAC1E,IAAMC,EAAS,KAAK,KAAKH,EAASE,CAAI,EAClCH,IAAS,SAAWA,EAAOH,IAE/B,IAAMQ,EAAM,IAAI,WAAWD,EAASD,CAAI,EAElCG,EAAOZ,GAAK,OAAOJ,EAAMS,CAAG,EAC5BQ,EAAUD,EAAK,WAAU,EACzBE,EAAI,IAAI,WAAWF,EAAK,SAAS,EACvC,QAASG,EAAU,EAAGA,EAAUL,EAAQK,IACtCb,GAAa,CAAC,EAAIa,EAAU,EAG5BF,EAAQ,OAAOE,IAAY,EAAIZ,GAAeW,CAAC,EAC5C,OAAOR,CAAI,EACX,OAAOJ,EAAY,EACnB,WAAWY,CAAC,EACfH,EAAI,IAAIG,EAAGL,EAAOM,CAAO,EACzBH,EAAK,WAAWC,CAAO,EAEzB,OAAAD,EAAK,QAAO,EACZC,EAAQ,QAAO,EACfG,GAAMF,EAAGZ,EAAY,EACdS,EAAI,MAAM,EAAGJ,CAAM,CAC5B,CCnDA,IAAMU,IAAU,IAAI,YACdC,IAAU,IAAI,YAEdC,GAAmB,EACnBC,GAAmB,MAElB,SAASC,GAAsBC,EAAoC,CACxE,IAAMC,EAASC,EAAK,IAAIF,CAAa,EACrC,OAAOG,GAAaC,GAAQH,EAAQC,EAAK,IAAI,UAAU,CAAC,CAC1D,CAEO,SAASG,GACdC,EACAC,EAC4E,CAC5E,IAAMC,EAAOC,GAAYL,GAAQE,EAAWC,EAAO,EAAE,EACrD,MAAO,CACL,WAAeC,EAAK,SAAS,EAAG,EAAE,EAClC,aAAeA,EAAK,SAAS,GAAI,EAAE,EACnC,SAAeA,EAAK,SAAS,GAAI,EAAE,CACrC,CACF,CAEO,SAASE,GAAiBC,EAAsB,CACrD,GAAI,CAAC,OAAO,cAAcA,CAAG,GAAKA,EAAM,EAAG,MAAM,IAAI,MAAM,2BAA2B,EACtF,GAAIA,GAAO,GAAI,MAAO,IACtB,IAAMC,EAAY,GAAM,KAAK,MAAM,KAAK,KAAKD,EAAM,CAAC,CAAC,EAAI,EACnDE,EAAQD,GAAa,IAAM,GAAKA,EAAY,EAClD,OAAOC,GAAS,KAAK,OAAOF,EAAM,GAAKE,CAAK,EAAI,EAClD,CAEO,SAASC,IAAcC,EAA0B,CACtD,GAAI,CAAC,OAAO,cAAcA,CAAG,GAAKA,EAAMlB,IAAoBkB,EAAMjB,GAChE,MAAM,IAAI,MAAM,2DAA2D,EAC7E,IAAMkB,EAAM,IAAI,WAAW,CAAC,EAC5B,WAAI,SAASA,EAAI,MAAM,EAAE,UAAU,EAAGD,EAAK,EAAK,EACzCC,CACT,CAEO,SAASC,GAAKC,EAAgC,CACnD,IAAMC,EAAcxB,IAAQ,OAAOuB,CAAS,EACtCE,EAAcD,EAAS,OACvBE,EAASP,IAAaM,CAAW,EACjCE,EAAS,IAAI,WAAWZ,GAAgBU,CAAW,EAAIA,CAAW,EACxE,OAAOG,GAAYF,EAAQF,EAAUG,CAAM,CAC7C,CAEO,SAASE,GAAOC,EAA6B,CAClD,IAAML,EAAc,IAAI,SAASK,EAAO,MAAM,EAAE,UAAU,CAAC,EACrDN,EAAWM,EAAO,SAAS,EAAG,EAAIL,CAAW,EACnD,GACEA,EAAcvB,IACduB,EAActB,IACdqB,EAAS,SAAWC,GACpBK,EAAO,SAAW,EAAIf,GAAgBU,CAAW,EAEjD,MAAM,IAAI,MAAM,iBAAiB,EACnC,OAAOxB,IAAQ,OAAOuB,CAAQ,CAChC,CAEO,SAASO,GACdC,EACAC,EACAC,EACa,CACb,GAAIA,EAAI,SAAW,GAAI,MAAM,IAAI,MAAM,sCAAsC,EAC7E,IAAMC,EAAWP,GAAYM,EAAKD,CAAO,EACzC,OAAOG,GAAK3B,GAAQuB,EAAKG,CAAQ,CACnC,CAQO,SAASE,GACdC,EACiE,CACjE,GAAI,OAAOA,GAAY,SAAU,MAAM,IAAI,MAAM,gCAAgC,EACjF,IAAMC,EAAOD,EAAQ,OACrB,GAAIC,EAAO,KAAOA,EAAO,MAAO,MAAM,IAAI,MAAM,2BAA6BA,CAAI,EACjF,GAAID,EAAQ,CAAC,IAAM,IAAK,MAAM,IAAI,MAAM,4BAA4B,EACpE,IAAIE,EACJ,GAAI,CACFA,EAAOC,GAAO,OAAOH,CAAO,CAC9B,OAASI,EAAO,CACd,MAAM,IAAI,MAAM,mBAAsBA,EAAc,OAAO,CAC7D,CACA,IAAMC,EAAOH,EAAK,OAClB,GAAIG,EAAO,IAAMA,EAAO,MAAO,MAAM,IAAI,MAAM,wBAA0BA,CAAI,EAC7E,IAAMC,EAAOJ,EAAK,CAAC,EACnB,GAAII,IAAS,EAAG,MAAM,IAAI,MAAM,8BAAgCA,CAAI,EACpE,MAAO,CACL,MAAOJ,EAAK,SAAS,EAAG,EAAE,EAC1B,WAAYA,EAAK,SAAS,GAAI,GAAG,EACjC,IAAKA,EAAK,SAAS,GAAG,CACxB,CACF,CCzFO,SAASK,GACdC,EACAC,EACAC,EAAyBC,GAAY,EAAE,EAAW,CAClD,IAAMC,EAAmBC,GAAqBL,CAAM,EAC9CM,EAAmBC,GAAiBH,EAAWF,CAAK,EACpDM,EAAmBC,GAAIR,CAAS,EAChCS,EAAaC,GAASL,EAAI,WAAYA,EAAI,aAAcE,CAAM,EAC9DI,EAAmBC,GAASP,EAAI,SAAUI,EAAYR,CAAK,EACjE,OAAOY,GAAO,OAAOC,GAAY,IAAI,WAAW,CAAC,CAAC,CAAC,EAAGb,EAAOQ,EAAYE,CAAG,CAAC,CAC/E,CAQO,SAASI,GACdhB,EACAiB,EACQ,CACR,GAAM,CAAE,MAAAf,EAAO,WAAAQ,EAAY,IAAAE,CAAI,EAAUM,GAAeD,CAAO,EACzDb,EAAuBC,GAAqBL,CAAM,EAClDM,EAAuBC,GAAiBH,EAAWF,CAAK,EACxDiB,EAAuBN,GAASP,EAAI,SAAUI,EAAYR,CAAK,EACrE,GAAI,CAACkB,GAAWD,EAAgBP,CAAG,EAAG,MAAM,IAAI,MAAM,aAAa,EACnE,IAAMJ,EAASG,GAASL,EAAI,WAAYA,EAAI,aAAcI,CAAU,EACpE,OAAaW,GAAMb,CAAM,CAC3B,CASO,SAASc,GACdtB,EACAuB,EACAC,EACA,CACA,IAAMC,EAASC,EAAK,IAAIH,CAAO,EACzBI,EAASD,EAAK,IAAI1B,CAAM,EACxB4B,EAAUJ,IAAO,OACnBE,EAAK,IAAIF,EAAI,EAAE,EACfE,EAAK,OAAO,EAAE,EACZG,EAAYC,GAAIH,EAAQC,CAAM,EAAE,QAAQH,CAAM,EACpD,OAAO,IAAIC,EAAKG,CAAS,EAAE,OAAS,OAASD,EAAO,MACtD,CAQO,SAASG,GACd/B,EACAuB,EACA,CACA,GAAM,CAAES,EAAUR,CAAG,EAAID,EAAQ,MAAM,MAAM,EACvCE,EAASC,EAAK,OAAOM,CAAQ,EAC7BL,EAASD,EAAK,IAAI1B,CAAM,EACxB4B,EAASF,EAAK,OAAOF,CAAE,EACvBS,EAAYH,GAAIH,EAAQC,CAAM,EAAE,QAAQH,CAAM,EACpD,OAAO,IAAIC,EAAKO,CAAS,EAAE,GAC7B,CChFA,IAAMC,IAAwC,CAC5C,WAAgB,aAChB,cAAgB,gBAChB,cAAgB,gBAChB,cAAgB,gBAChB,cAAgB,eAClB,EAQaC,GAAN,KAAwB,CAG7B,YAAaC,EAAoB,CAFjCC,GAAA,KAAQ,SAGN,KAAK,MAAQD,CACf,CAEA,aAA0B,CACxB,OAAO,OAAO,OAAOF,GAAY,CACnC,CAEA,YAAc,CACZ,OAAO,KAAK,MAAM,MAAM,SAAS,MAAM,CAAC,CAC1C,CAMA,MAAc,cAAeI,EAAmC,CAC9D,QAAQ,IAAI,sDAAuDA,EAAO,MAAM,EAAG,EAAE,EAAI,KAAK,EAC9F,IAAMC,EAAY,KAAK,IAAI,EAE3B,GAAI,CACF,QAAQ,IAAI,oDAAoD,EAChE,IAAMC,EAAM,MAAM,KAAK,MAAM,IAAI,KAAKF,CAAM,EACtCG,EAAW,KAAK,IAAI,EAAIF,EAG9B,GAFA,QAAQ,IAAI,8CAA+C,MAAOC,EAAI,GAAI,YAAaC,EAAU,IAAI,EAEjG,CAACD,EAAI,GACP,cAAQ,MAAM,mCAAoCA,EAAI,GAAG,EACnD,IAAI,MAAMA,EAAI,GAAG,EAGzB,IAAME,EAASC,GAAeH,EAAI,KAAM,QAAQ,EAChD,eAAQ,IAAI,wDAAyDC,EAAU,IAAI,EAC5EC,CACT,OAASE,EAAO,CACd,IAAMH,EAAW,KAAK,IAAI,EAAIF,EAC9B,cAAQ,MAAM,gDAAiDE,EAAU,MAAOG,CAAK,EAC/EA,CACR,CACF,CAMA,MAAM,WAAYC,EAA8C,CAtElE,IAAAC,EAuEI,GAAM,CAAE,QAAAC,EAAS,WAAAC,EAAY,KAAAC,EAAM,KAAAC,CAAK,EAAIL,EACtCP,EAAS,KAAK,MAAM,MAAM,SAAS,MAAM,CAAC,EAC1Ca,EAAS,CAAE,QAAAJ,EAAS,WAAAC,EAAY,KAAAC,EAAM,OAAAX,EAAQ,KAAAY,CAAK,EACnDE,EAASC,GAAaF,CAAI,EAEhC,QAAQ,IAAI,qDAAsDC,EAAG,MAAM,EAAG,EAAE,EAAI,MAAO,QAASH,CAAI,EACxG,IAAMV,EAAY,KAAK,IAAI,EAE3B,GAAI,CACF,QAAQ,IAAI,oDAAoD,EAChE,IAAMC,EAAM,MAAM,KAAK,MAAM,IAAI,KAAKY,CAAE,EAClCX,EAAW,KAAK,IAAI,EAAIF,EAG9B,GAFA,QAAQ,IAAI,8CAA+C,MAAOC,EAAI,GAAI,YAAaC,EAAU,IAAI,EAEjG,CAACD,EAAI,GACP,cAAQ,MAAM,mCAAoCA,EAAI,GAAG,EACnD,IAAI,MAAMA,EAAI,GAAG,EAGzB,IAAMc,EAAUd,EAAI,KAAK,GAAG,CAAC,EAC7B,IAAIc,GAAA,YAAAA,EAAS,GAAG,MAAOF,EACrB,cAAQ,MAAM,yCAA0CE,GAAA,YAAAA,EAAS,GAAG,GAAI,KAAMF,CAAE,EAC1E,IAAI,MAAM,mBAAmB,EAErC,KAAIN,EAAAQ,GAAA,YAAAA,EAAS,GAAG,KAAZ,YAAAR,EAAgB,MAAM,MAAOR,EAC/B,cAAQ,MAAM,qCAAqC,EAC7C,IAAI,MAAM,uBAAuB,EAGzC,IAAMiB,EAAMD,EAAQ,GAAG,CAAC,EACxB,GAAI,CAACC,EACH,cAAQ,MAAM,qDAAqD,EAC7D,IAAI,MAAM,iCAAiC,EAGnD,eAAQ,IAAI,gDAAiDA,EAAI,MAAM,EAAG,EAAE,EAAI,MAAO,YAAad,EAAU,IAAI,EAC3Ge,EAAAC,EAAA,GAAKN,GAAL,CAAW,GAAAC,EAAI,IAAAG,CAAI,EAC5B,OAASX,EAAO,CACd,IAAMH,EAAW,KAAK,IAAI,EAAIF,EAC9B,cAAQ,MAAM,6CAA8CE,EAAU,MAAOG,CAAK,EAC5EA,CACR,CACF,CAEA,MAAM,cAAeN,EAAiBoB,EAAsC,CAC1E,IAAMhB,EAAS,MAAM,KAAK,cAAcJ,CAAM,EAC9C,OAAcqB,GAAcjB,EAAQgB,CAAS,CAC/C,CAEA,MAAM,cAAepB,EAAiBsB,EAAuC,CAC3E,IAAMlB,EAAS,MAAM,KAAK,cAAcJ,CAAM,EAC9C,OAAcuB,GAAcnB,EAAQkB,CAAU,CAChD,CAEA,MAAM,cAAetB,EAAiBoB,EAAsC,CAC1E,IAAMhB,EAAS,MAAM,KAAK,cAAcJ,CAAM,EAC9C,OAAcwB,GAAcpB,EAAQgB,CAAS,CAC/C,CAEA,MAAM,cAAepB,EAAiBsB,EAAuC,CAC3E,IAAMlB,EAAS,MAAM,KAAK,cAAcJ,CAAM,EAC9C,OAAcyB,GAAcrB,EAAQkB,CAAU,CAChD,CACF,ECvHA,eAAsBI,IAAwBC,EAA2BC,EAAqC,CAC5G,QAAQ,IAAI,0CAA2CA,EAAQ,KAAM,MAAOA,EAAQ,EAAE,EACtF,IAAMC,EAAY,KAAK,IAAI,EAE3B,GAAI,CACF,IAAIC,EACJ,OAAQF,EAAQ,KAAM,CACpB,IAAK,iBACHE,EAASH,EAAO,WAAW,EAC3B,MACF,IAAK,aACH,QAAQ,IAAI,uCAAuC,EACnDG,EAAS,MAAMH,EAAO,WAAWC,EAAQ,KAAK,EAC9C,MACF,IAAK,gBACH,QAAQ,IAAI,0CAA0C,EACtDE,EAAS,MAAMH,EAAO,cAAcC,EAAQ,OAAQA,EAAQ,SAAS,EACrE,MACF,IAAK,gBACH,QAAQ,IAAI,0CAA0C,EACtDE,EAAS,MAAMH,EAAO,cAAcC,EAAQ,OAAQA,EAAQ,UAAU,EACtE,MACF,IAAK,gBACH,QAAQ,IAAI,0CAA0C,EACtDE,EAAS,MAAMH,EAAO,cAAcC,EAAQ,OAAQA,EAAQ,SAAS,EACrE,MACF,IAAK,gBACH,QAAQ,IAAI,0CAA0C,EACtDE,EAAS,MAAMH,EAAO,cAAcC,EAAQ,OAAQA,EAAQ,UAAU,EACtE,MACF,IAAK,oBACH,MAAM,IAAI,MAAM,mCAAmC,EACrD,QACE,MAAM,IAAI,MAAM,yBAA0B,OAAAA,EAAgB,KAAM,CACpE,CAEA,IAAMG,EAAW,KAAK,IAAI,EAAIF,EAC9B,eAAQ,IAAI,6CAA8CD,EAAQ,KAAM,YAAaG,EAAU,IAAI,EAC5FD,CACT,OAASE,EAAO,CACd,IAAMD,EAAW,KAAK,IAAI,EAAIF,EAC9B,cAAQ,MAAM,0CAA2CD,EAAQ,KAAM,YAAaG,EAAU,KAAM,SAAUC,CAAK,EAC7GA,CACR,CACF,CAUA,eAAeC,IAAkBC,EAAoB,IAAoC,CArEzF,IAAAC,EAAAC,EAsEE,IAAMP,EAAY,KAAK,IAAI,EAG3B,IAFA,QAAQ,IAAI,kDAAmDK,EAAW,IAAI,EAEvE,KAAK,IAAI,EAAIL,EAAYK,GAAW,CACzC,IAAMG,GAASD,GAAAD,EAAA,OAAO,QAAP,YAAAA,EAAc,SAAd,YAAAC,EAAsB,WACrC,GAAIC,EACF,eAAQ,IAAI,iDAAkD,KAAK,IAAI,EAAIR,EAAW,IAAI,EACnFQ,EAGT,MAAM,IAAI,QAAQC,GAAW,WAAWA,EAAS,GAAG,CAAC,CACvD,CAEA,eAAQ,IAAI,4CAA6CJ,EAAW,IAAI,EACjE,IACT,CAEA,eAAsBK,GAAmBX,EAA6C,CAvFtF,IAAAO,EAAAC,EAAAI,EAwFE,QAAQ,IAAI,qCAAsCZ,EAAQ,KAAM,MAAOA,EAAQ,EAAE,EACjF,IAAMC,EAAY,KAAK,IAAI,EAE3B,GAAI,CAEF,GAAI,GAACO,GAAAD,EAAA,OAAO,QAAP,YAAAA,EAAc,SAAd,MAAAC,EAAsB,OACzB,cAAQ,MAAM,2BAA2B,EACnC,IAAI,MAAM,yBAAyB,EAG3C,IAAIK,EAAa,OAAO,MAAM,OAAO,WAIrC,GAHA,QAAQ,IAAI,iCAAkC,CAAC,CAACA,CAAU,EAGtD,CAACA,GAAcb,EAAQ,OAAS,iBAAkB,CAEpD,IAAMc,EAAuB,aAAa,QAAQC,GAAa,QAAQ,EACvE,GAAID,EAAsB,CACxB,IAAME,EAAW,KAAK,MAAMF,CAAoB,EAGhD,IAAIF,EAAAI,EAAS,QAAT,MAAAJ,EAAgB,SAAU,CAE5B,IAAMK,EAAcD,EAAS,MAAM,SAAS,MAAM,CAAC,EAE7CE,EAAOC,GAAM,WAAWF,CAAW,EACzC,MAAO,CACL,GAAI,GACJ,KAAMjB,EAAQ,KACd,GAAIA,EAAQ,GACZ,OAAQiB,EACR,KAAMC,CACR,CACF,CACF,CACA,MAAM,IAAI,MAAM,yBAAyB,CAC3C,CAGA,GAAI,CAACL,GAAcb,EAAQ,OAAS,iBAAkB,CAEpD,IAAMoB,EAAkB,eAAe,QAAQL,GAAa,gBAAgB,EAG5E,GAFA,QAAQ,IAAI,iEAAkEK,EAAkB,QAAU,WAAW,EAEjHA,GAIF,GAFAP,EAAa,MAAMR,IAAkB,GAAK,EAEtC,CAACQ,EACH,MAAM,IAAI,MAAM,2CAA2C,MAG7D,OAAM,IAAI,MAAM,+CAA+C,CAEnE,CAGA,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,2BAA2B,EAI7C,IAAMd,EAAS,IAAIsB,GAAkBR,CAAU,EACzCX,EAAS,MAAMJ,IAAwBC,EAAQC,CAAO,EAG5D,GAAIA,EAAQ,OAAS,iBAAkB,CACrC,IAAMkB,EAAOC,GAAM,WAAWjB,CAAM,EAC9BC,EAAW,KAAK,IAAI,EAAIF,EAC9B,eAAQ,IAAI,kEAAmEE,EAAU,IAAI,EACtF,CACL,GAAI,GACJ,KAAMH,EAAQ,KACd,GAAIA,EAAQ,GACZ,OAAQE,GAAU,GAClB,KAAMgB,CACR,CACF,CAEA,IAAMf,EAAW,KAAK,IAAI,EAAIF,EAC9B,eAAQ,IAAI,uCAAwCD,EAAQ,KAAM,YAAaG,EAAU,IAAI,EACtF,CACL,GAAI,GACJ,KAAMH,EAAQ,KACd,GAAIA,EAAQ,GACZ,OAAQE,GAAU,EACpB,CAEF,OAASE,EAAO,CACd,IAAMD,EAAW,KAAK,IAAI,EAAIF,EAC9B,eAAQ,MAAM,qCAAsCD,EAAQ,KAAM,YAAaG,EAAU,KAAM,SAAUC,CAAK,EACvG,CACL,GAAI,GACJ,KAAMJ,EAAQ,KACd,GAAIA,EAAQ,GACZ,OAAQI,aAAiB,MAAQA,EAAM,QAAU,uBACnD,CACF,CACF,CAaO,SAASkB,IAAwC,CACtD,MAAO,OAAOtB,GAAgD,CAC5D,QAAQ,IAAI,qCAAsCA,EAAQ,KAAM,MAAOA,EAAQ,EAAE,EACjF,IAAMC,EAAY,KAAK,IAAI,EAE3B,GAAI,CAEF,GAAI,CAACD,EAAQ,IAAM,CAACA,EAAQ,KAC1B,MAAM,IAAI,MAAM,qCAAqC,EAIvD,IAAME,EAAS,MAAMS,GAAmBX,CAAO,EAEzCG,EAAW,KAAK,IAAI,EAAIF,EAC9B,eAAQ,IAAI,qCAAsC,MAAOC,EAAO,GAAI,YAAaC,EAAU,IAAI,EACxFD,CAET,OAASE,EAAO,CACd,IAAMD,EAAW,KAAK,IAAI,EAAIF,EAC9B,eAAQ,MAAM,oCAAqCG,EAAO,YAAaD,EAAU,IAAI,EAC9E,CACL,GAAS,GACT,KAASH,EAAQ,KACjB,GAASA,EAAQ,GACjB,OAASI,aAAiB,MAAQA,EAAM,QAAU,eACpD,CACF,CACF,CACF,CRnNO,SAASmB,IAAmC,CACjD,IAAMC,EAAOC,GAAe,EACtB,CAAEC,EAAGC,CAAiB,KAAI,aAAS,EAAK,EAE9C,uBAAU,IAAM,CArBlB,IAAAC,EAAAC,EA0BI,GAJA,QAAQ,IAAI,0CAA2CL,EAAK,OAAQ,UAAWA,EAAK,OAAS,SAAW,MAAM,EAI1GA,EAAK,SAAW,UAAYA,EAAK,SAAW,UAAYA,EAAK,SAAW,UAC1E,GAAI,CAEF,IAAMM,EAAiBC,GAAsB,EAGvCC,EAAsB,CAC1B,MAAO,GACP,WAAYR,EAAK,QAAU,KAC3B,SAAUS,EACZ,EAGK,OAAO,QACV,OAAO,MAAQ,CAAC,GAElB,OAAO,MAAM,MAAQH,EACrB,OAAO,MAAM,OAASE,EAEtB,QAAQ,IAAI,2CAA4CR,EAAK,OAAS,SAAW,MAAM,EACvFG,EAAiB,EAAI,CAEvB,OAAQO,EAAA,CACNP,EAAiB,EAAK,GAElBC,EAAA,OAAO,QAAP,MAAAA,EAAc,SAChB,OAAO,MAAM,OAAO,MAAQ,GAC5B,OAAO,MAAM,OAAO,WAAa,KAErC,MAGA,QAAQ,IAAI,4CAA6CJ,EAAK,MAAM,GAChEK,EAAA,OAAO,QAAP,MAAAA,EAAc,QAChB,OAAO,OAAO,MAAM,MAChB,OAAO,MAAM,SACf,OAAO,MAAM,OAAO,MAAQ,GAC5B,OAAO,MAAM,OAAO,WAAa,MAEnCF,EAAiB,EAAK,EAG5B,EAAG,CAACH,EAAK,OAAQA,EAAK,MAAM,CAAC,EAItB,IACT,CS9DI,IAAAW,GAAA,SAFG,SAASC,IAAO,CACrB,SACE,SAAC,OAAI,UAAU,MACb,qBAACC,GAAA,EAAO,KACR,QAACC,GAAA,EAAK,KACN,QAACC,GAAA,EAAY,GACf,CAEJ,CCjBA,IAAAC,GAA0B,SAwDhB,IAAAC,GAAA,SAtCGC,GAAN,cAA4B,YAAwB,CACzD,YAAYC,EAAc,CACxB,MAAMA,CAAK,EAabC,GAAA,oBAAe,IAAY,CACzB,OAAO,SAAS,OAAO,CACzB,GAEAA,GAAA,mBAAc,IAAY,CACxB,KAAK,SAAS,CAAE,SAAU,GAAO,MAAO,IAAK,CAAC,CAChD,GAlBE,KAAK,MAAQ,CAAE,SAAU,GAAO,MAAO,IAAK,CAC9C,CAEA,OAAO,yBAAyBC,EAAqB,CACnD,MAAO,CAAE,SAAU,GAAM,MAAAA,CAAM,CACjC,CAEA,kBAAkBA,EAAcC,EAAkC,CAEhE,QAAQ,MAAM,wCAAyCD,EAAOC,CAAS,CACzE,CAUA,QAAS,CACP,OAAI,KAAK,MAAM,YAEX,SAAC,OAAI,MAAO,CACV,QAAS,OACT,cAAe,SACf,WAAY,SACZ,eAAgB,SAChB,OAAQ,QACR,QAAS,OACT,UAAW,SACX,WAAY,uCACZ,gBAAiB,UACjB,MAAO,SACT,EACE,qBAAC,MAAG,MAAO,CAAE,SAAU,OAAQ,aAAc,MAAO,EAAG,gCAEvD,KACA,QAAC,KAAE,MAAO,CACR,MAAO,OACP,aAAc,OACd,SAAU,OACZ,EAAG,wGAGH,EACC,KAAK,MAAM,UACV,QAAC,OAAI,MAAO,CACV,gBAAiB,UACjB,QAAS,YACT,aAAc,MACd,SAAU,OACV,MAAO,UACP,aAAc,OACd,SAAU,OACV,SAAU,OACV,UAAW,MACb,EACG,cAAK,MAAM,MAAM,QACpB,KAEF,SAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,MAAO,EACzC,qBAAC,UACC,QAAS,KAAK,aACd,MAAO,CACL,QAAS,YACT,SAAU,OACV,gBAAiB,UACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,SACV,EACD,uBAED,KACA,QAAC,UACC,QAAS,KAAK,YACd,MAAO,CACL,QAAS,YACT,SAAU,OACV,gBAAiB,OACjB,MAAO,QACP,OAAQ,iBACR,aAAc,MACd,OAAQ,SACV,EACD,qBAED,GACF,GACF,EAIG,KAAK,MAAM,QACpB,CACF,ECrHc,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,oBACZ,SAAS,KAAK,YAAYA,EAAI,ECH9B,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,oBACZ,SAAS,KAAK,YAAYA,EAAI,ECH9B,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,kBACZ,SAAS,KAAK,YAAYA,EAAI,ECH9B,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,qBACZ,SAAS,KAAK,YAAYA,EAAI,ECH9B,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,sBACZ,SAAS,KAAK,YAAYA,EAAI,ECH9B,IAAMC,GAAO,SAAS,cAAc,MAAM,EAC1CA,GAAK,IAAO,aACZA,GAAK,KAAO,qBACZ,SAAS,KAAK,YAAYA,EAAI,EhR8B9B,IAAAC,GAAA,SAhBRC,GAAY,SAAS,eAAe,MAAM,EAGhD,GAAI,CAACA,GAAW,MAAM,IAAI,MAAM,kCAAkC,EAGlE,IAAMC,OAAO,eAAWD,EAAS,EAGjCC,IAAK,UACH,QAAC,eACC,oBAACC,GAAA,CACC,oBAACC,GAAA,CACC,oBAACC,GAAA,CACC,oBAACC,GAAA,CACC,oBAACC,GAAA,CACC,oBAACC,GAAA,EAAI,EACP,EACF,EACF,EACF,EACF,EACF,CACF",
  "names": ["require_react_production", "__commonJSMin", "exports", "REACT_ELEMENT_TYPE", "REACT_PORTAL_TYPE", "REACT_FRAGMENT_TYPE", "REACT_STRICT_MODE_TYPE", "REACT_PROFILER_TYPE", "REACT_CONSUMER_TYPE", "REACT_CONTEXT_TYPE", "REACT_FORWARD_REF_TYPE", "REACT_SUSPENSE_TYPE", "REACT_MEMO_TYPE", "REACT_LAZY_TYPE", "MAYBE_ITERATOR_SYMBOL", "getIteratorFn", "maybeIterable", "ReactNoopUpdateQueue", "assign", "emptyObject", "Component", "props", "context", "updater", "partialState", "callback", "ComponentDummy", "PureComponent", "pureComponentPrototype", "isArrayImpl", "ReactSharedInternals", "hasOwnProperty", "ReactElement", "type", "key", "self", "source", "owner", "cloneAndReplaceKey", "oldElement", "newKey", "isValidElement", "object", "escape", "escaperLookup", "match", "userProvidedKeyEscapeRegex", "getElementKey", "element", "index", "noop$1", "resolveThenable", "thenable", "fulfilledValue", "error", "mapIntoArray", "children", "array", "escapedPrefix", "nameSoFar", "invokeCallback", "c", "nextNamePrefix", "i", "mapChildren", "func", "result", "count", "child", "lazyInitializer", "payload", "ctor", "moduleObject", "reportGlobalError", "event", "noop", "forEachFunc", "forEachContext", "n", "size", "fn", "config", "propName", "childArray", "defaultValue", "childrenLength", "render", "compare", "scope", "prevTransition", "currentTransition", "returnValue", "onStartTransitionFinish", "usable", "action", "initialState", "permalink", "deps", "Context", "value", "initialValue", "create", "createDeps", "update", "dispatcher", "ref", "passthrough", "reducer", "initialArg", "init", "subscribe", "getSnapshot", "getServerSnapshot", "require_react", "__commonJSMin", "exports", "module", "require_scheduler_production", "__commonJSMin", "exports", "push", "heap", "node", "index", "a", "parentIndex", "parent", "compare", "peek", "pop", "first", "last", "length", "halfLength", "leftIndex", "left", "rightIndex", "right", "b", "diff", "localPerformance", "localDate", "initialTime", "taskQueue", "timerQueue", "taskIdCounter", "currentTask", "currentPriorityLevel", "isPerformingWork", "isHostCallbackScheduled", "isHostTimeoutScheduled", "needsPaint", "localSetTimeout", "localClearTimeout", "localSetImmediate", "advanceTimers", "currentTime", "timer", "handleTimeout", "isMessageLoopRunning", "schedulePerformWorkUntilDeadline", "firstTimer", "requestHostTimeout", "taskTimeoutID", "frameInterval", "startTime", "shouldYieldToHost", "performWorkUntilDeadline", "hasMoreWork", "previousPriorityLevel", "callback", "continuationCallback", "channel", "port", "ms", "task", "fps", "eventHandler", "priorityLevel", "options", "timeout", "parentPriorityLevel", "require_scheduler", "__commonJSMin", "exports", "module", "require_react_dom_production", "__commonJSMin", "exports", "React", "formatProdErrorMessage", "code", "url", "i", "noop", "Internals", "REACT_PORTAL_TYPE", "createPortal$1", "children", "containerInfo", "implementation", "key", "ReactSharedInternals", "getCrossOriginStringAs", "as", "input", "container", "fn", "previousTransition", "previousUpdatePriority", "href", "options", "crossOrigin", "integrity", "fetchPriority", "form", "a", "action", "initialState", "permalink", "require_react_dom", "__commonJSMin", "exports", "module", "checkDCE", "err", "require_react_dom_client_production", "__commonJSMin", "exports", "Scheduler", "React", "ReactDOM", "formatProdErrorMessage", "code", "url", "i", "isValidContainer", "node", "getNearestMountedFiber", "fiber", "nearestMounted", "getSuspenseInstanceFromFiber", "suspenseState", "assertIsMounted", "findCurrentFiberUsingSlowPath", "alternate", "a", "b", "parentA", "parentB", "didFindChild", "child$0", "findCurrentHostFiberImpl", "tag", "assign", "REACT_LEGACY_ELEMENT_TYPE", "REACT_ELEMENT_TYPE", "REACT_PORTAL_TYPE", "REACT_FRAGMENT_TYPE", "REACT_STRICT_MODE_TYPE", "REACT_PROFILER_TYPE", "REACT_PROVIDER_TYPE", "REACT_CONSUMER_TYPE", "REACT_CONTEXT_TYPE", "REACT_FORWARD_REF_TYPE", "REACT_SUSPENSE_TYPE", "REACT_SUSPENSE_LIST_TYPE", "REACT_MEMO_TYPE", "REACT_LAZY_TYPE", "REACT_ACTIVITY_TYPE", "REACT_MEMO_CACHE_SENTINEL", "MAYBE_ITERATOR_SYMBOL", "getIteratorFn", "maybeIterable", "REACT_CLIENT_REFERENCE", "getComponentNameFromType", "type", "innerType", "x", "isArrayImpl", "ReactSharedInternals", "ReactDOMSharedInternals", "sharedNotPendingObject", "valueStack", "index", "createCursor", "defaultValue", "pop", "cursor", "push", "value", "contextStackCursor", "contextFiberStackCursor", "rootInstanceStackCursor", "hostTransitionProviderCursor", "pushHostContainer", "nextRootInstance", "getOwnHostContext", "getChildHostContextProd", "popHostContainer", "pushHostContext", "context", "JSCompiler_inline_result", "popHostContext", "HostTransitionContext", "hasOwnProperty", "scheduleCallback$3", "cancelCallback$1", "shouldYield", "requestPaint", "now", "getCurrentPriorityLevel", "ImmediatePriority", "UserBlockingPriority", "NormalPriority$1", "LowPriority", "IdlePriority", "log$1", "unstable_setDisableYieldValue", "rendererID", "injectedHook", "setIsStrictModeForDevtools", "newIsStrictMode", "err", "clz32", "clz32Fallback", "log", "LN2", "nextTransitionLane", "nextRetryLane", "getHighestPriorityLanes", "lanes", "pendingSyncLanes", "getNextLanes", "root", "wipLanes", "rootHasPendingCommit", "pendingLanes", "nextLanes", "suspendedLanes", "pingedLanes", "nonIdlePendingLanes", "checkIfRootIsPrerendering", "renderLanes", "computeExpirationTime", "lane", "currentTime", "claimNextTransitionLane", "claimNextRetryLane", "createLaneMap", "initial", "laneMap", "markRootUpdated$1", "updateLane", "markRootFinished", "finishedLanes", "remainingLanes", "spawnedLane", "updatedLanes", "suspendedRetryLanes", "previouslyPendingLanes", "entanglements", "expirationTimes", "hiddenUpdates", "index$5", "hiddenUpdatesForLane", "update", "markSpawnedDeferredLane", "entangledLanes", "spawnedLaneIndex", "markRootEntangled", "rootEntangledLanes", "index$6", "getBumpedLaneForHydrationByLane", "lanesToEventPriority", "resolveUpdatePriority", "updatePriority", "getEventPriority", "runWithPriority", "priority", "fn", "previousPriority", "randomKey", "internalInstanceKey", "internalPropsKey", "internalContainerInstanceKey", "internalEventHandlersKey", "internalEventHandlerListenersKey", "internalEventHandlesSetKey", "internalRootNodeResourcesKey", "internalHoistableMarker", "detachDeletedInstance", "getClosestInstanceFromNode", "targetNode", "targetInst", "parentNode", "getParentSuspenseInstance", "getInstanceFromNode", "getNodeFromInstance", "inst", "getResourcesFromRoot", "resources", "markNodeAsHoistable", "allNativeEvents", "registrationNameDependencies", "registerTwoPhaseEvent", "registrationName", "dependencies", "registerDirectEvent", "VALID_ATTRIBUTE_NAME_REGEX", "illegalAttributeNameCache", "validatedAttributeNameCache", "isAttributeNameSafe", "attributeName", "setValueForAttribute", "name", "prefix$8", "setValueForKnownAttribute", "setValueForNamespacedAttribute", "namespace", "prefix", "suffix", "describeBuiltInComponentFrame", "match", "reentry", "describeNativeComponentFrame", "construct", "previousPrepareStackTrace", "RunInRootFrame", "Fake", "control", "x$9", "x$10", "sample", "namePropDescriptor", "_RunInRootFrame$Deter", "sampleStack", "controlStack", "sampleLines", "controlLines", "frame", "describeFiber", "getStackByFiberInDevAndProd", "workInProgress", "info", "getToStringValue", "isCheckable", "elem", "trackValueOnNode", "valueField", "descriptor", "currentValue", "get", "set", "track", "updateValueIfChanged", "tracker", "lastValue", "getActiveElement", "doc", "e", "escapeSelectorAttributeValueInsideDoubleQuotesRegex", "escapeSelectorAttributeValueInsideDoubleQuotes", "ch", "updateInput", "element", "lastDefaultValue", "checked", "defaultChecked", "setDefaultValue", "initInput", "isHydrating", "updateOptions", "multiple", "propValue", "setDefaultSelected", "updateTextarea", "initTextarea", "children", "setTextContent", "text", "firstChild", "unitlessNumbers", "setValueForStyle", "style", "styleName", "isCustomProperty", "setValueForStyles", "styles", "prevStyles", "styleName$16", "styleName$17", "isCustomElement", "tagName", "aliases", "isJavaScriptProtocol", "sanitizeURL", "currentReplayingEvent", "getEventTarget", "nativeEvent", "restoreTarget", "restoreQueue", "restoreStateOfTarget", "target", "internalInstance", "props", "otherNode", "otherProps", "isInsideEventHandler", "batchedUpdates$1", "flushSyncWork$1", "getListener", "stateNode", "canUseDOM", "passiveBrowserEventsSupported", "options", "startText", "fallbackText", "getData", "start", "startValue", "startLength", "end", "endValue", "endLength", "minEnd", "getEventCharCode", "keyCode", "functionThatReturnsTrue", "functionThatReturnsFalse", "createSyntheticEvent", "Interface", "SyntheticBaseEvent", "reactName", "reactEventType", "nativeEventTarget", "propName", "event", "EventInterface", "SyntheticEvent", "UIEventInterface", "SyntheticUIEvent", "lastMovementX", "lastMovementY", "lastMouseEvent", "MouseEventInterface", "getEventModifierState", "SyntheticMouseEvent", "DragEventInterface", "SyntheticDragEvent", "FocusEventInterface", "SyntheticFocusEvent", "AnimationEventInterface", "SyntheticAnimationEvent", "ClipboardEventInterface", "SyntheticClipboardEvent", "CompositionEventInterface", "SyntheticCompositionEvent", "normalizeKey", "translateToKey", "modifierKeyToProp", "modifierStateGetter", "keyArg", "KeyboardEventInterface", "key", "SyntheticKeyboardEvent", "PointerEventInterface", "SyntheticPointerEvent", "TouchEventInterface", "SyntheticTouchEvent", "TransitionEventInterface", "SyntheticTransitionEvent", "WheelEventInterface", "SyntheticWheelEvent", "ToggleEventInterface", "SyntheticToggleEvent", "END_KEYCODES", "canUseCompositionEvent", "documentMode", "canUseTextInputEvent", "useFallbackCompositionData", "SPACEBAR_CHAR", "hasSpaceKeypress", "isFallbackCompositionEnd", "domEventName", "getDataFromCustomEvent", "isComposing", "getNativeBeforeInputChars", "getFallbackBeforeInputChars", "supportedInputTypes", "isTextInputElement", "nodeName", "createAndAccumulateChangeEvent", "dispatchQueue", "accumulateTwoPhaseListeners", "activeElement$1", "activeElementInst$1", "runEventInBatch", "processDispatchQueue", "getInstIfValueChanged", "getTargetInstForChangeEvent", "isInputEventSupported", "isSupported$jscomp$inline_417", "element$jscomp$inline_418", "JSCompiler_inline_result$jscomp$282", "stopWatchingForValueChange", "handlePropertyChange", "handleEventsForInputEventPolyfill", "getTargetInstForInputEventPolyfill", "getTargetInstForClickEvent", "getTargetInstForInputOrChangeEvent", "is", "y", "objectIs", "shallowEqual", "objA", "objB", "keysA", "keysB", "currentKey", "getLeafNode", "getNodeForCharacterOffset", "offset", "nodeEnd", "containsNode", "outerNode", "innerNode", "getActiveElementDeep", "containerInfo", "hasSelectionCapabilities", "skipSelectionChangeEvent", "activeElement", "activeElementInst", "lastSelection", "mouseDown", "constructSelectEvent", "makePrefixMap", "styleProp", "eventName", "prefixes", "vendorPrefixes", "prefixedEventNames", "getVendorPrefixedEventName", "prefixMap", "ANIMATION_END", "ANIMATION_ITERATION", "ANIMATION_START", "TRANSITION_RUN", "TRANSITION_START", "TRANSITION_CANCEL", "TRANSITION_END", "topLevelEventsToReactNames", "simpleEventPluginEvents", "registerSimpleEvent", "CapturedStacks", "createCapturedValueAtFiber", "source", "existing", "concurrentQueues", "concurrentQueuesIndex", "concurrentlyUpdatedLanes", "finishQueueingConcurrentUpdates", "endIndex", "queue", "pending", "markUpdateLaneFromFiberToRoot", "enqueueUpdate$1", "enqueueConcurrentHookUpdate", "getRootForUpdatedFiber", "enqueueConcurrentRenderForLane", "sourceFiber", "isHidden", "parent", "nestedUpdateCount", "rootWithNestedUpdates", "emptyContextObject", "FiberNode", "pendingProps", "mode", "createFiberImplClass", "shouldConstruct", "Component", "createWorkInProgress", "current", "resetWorkInProgress", "createFiberFromTypeAndProps", "owner", "fiberTag", "isHostHoistableType", "createFiberFromFragment", "elements", "createFiberFromText", "content", "createFiberFromPortal", "portal", "forkStack", "forkStackIndex", "treeForkProvider", "treeForkCount", "idStack", "idStackIndex", "treeContextProvider", "treeContextId", "treeContextOverflow", "pushTreeFork", "totalChildren", "pushTreeId", "baseIdWithLeadingBit", "baseLength", "length", "numberOfOverflowBits", "pushMaterializedTreeId", "popTreeContext", "hydrationParentFiber", "nextHydratableInstance", "hydrationErrors", "rootOrSingletonContext", "HydrationMismatchException", "throwOnHydrationMismatch", "error", "queueHydrationError", "prepareToHydrateHostInstance", "instance", "listenToNonDelegatedEvent", "mediaEventTypes", "checkForUnmatchedText", "noop$1", "popToNextHostParent", "popHydrationState", "JSCompiler_temp", "shouldSetTextContent", "getNextHydratable", "isSingletonScope", "previousHydratableOnEnteringScopedSingleton", "resetHydrationState", "upgradeHydrationErrorsToRecoverable", "queuedErrors", "workInProgressRootRecoverableErrors", "valueCursor", "currentlyRenderingFiber$1", "lastContextDependency", "pushProvider", "providerFiber", "nextValue", "popProvider", "scheduleContextWorkOnParentPath", "propagationRoot", "propagateContextChanges", "contexts", "forcePropagateEntireTree", "list", "nextFiber", "dependency", "propagateParentContextChanges", "isInsidePropagationBailout", "currentParent", "checkIfContextChanged", "currentDependencies", "prepareToReadContext", "readContext", "readContextForConsumer", "readContextDuringReconciliation", "consumer", "AbortControllerLocal", "listeners", "signal", "listener", "scheduleCallback$2", "NormalPriority", "CacheContext", "createCache", "releaseCache", "cache", "currentEntangledListeners", "currentEntangledPendingCount", "currentEntangledLane", "currentEntangledActionThenable", "entangleAsyncAction", "transition", "thenable", "entangledListeners", "requestTransitionLane", "resolve", "pingEngtangledActionScope", "chainThenableValue", "result", "thenableWithOverride", "prevOnStartTransitionFinish", "returnValue", "resumedCache", "peekCacheFromPool", "cacheResumedFromPreviousRender", "workInProgressRoot", "pushTransition", "offscreenWorkInProgress", "prevCachePool", "getSuspendedCache", "cacheFromPool", "SuspenseException", "SuspenseyCommitException", "SuspenseActionException", "noopSuspenseyCommitThenable", "isThenableResolved", "noop$3", "trackUsedThenable", "thenableState", "checkIfUseWrappedInAsyncCatch", "fulfilledValue", "fulfilledThenable", "rejectedThenable", "suspendedThenable", "getSuspendedThenable", "rejectedReason", "hasForceUpdate", "initializeUpdateQueue", "cloneUpdateQueue", "createUpdate", "enqueueUpdate", "updateQueue", "executionContext", "entangleTransitions", "queueLanes", "enqueueCapturedUpdate", "capturedUpdate", "newFirst", "newLast", "clone", "didReadFromEntangledAsyncAction", "suspendIfUpdateReadFromEntangledAsyncAction", "entangledActionThenable", "processUpdateQueue", "workInProgress$jscomp$0", "instance$jscomp$0", "firstBaseUpdate", "lastBaseUpdate", "pendingQueue", "lastPendingUpdate", "firstPendingUpdate", "newState", "isHiddenUpdate", "workInProgressRootRenderLanes", "workInProgressRootSkippedLanes", "callCallback", "callback", "commitCallbacks", "callbacks", "currentTreeHiddenStackCursor", "prevEntangledRenderLanesCursor", "pushHiddenContext", "entangledRenderLanes", "reuseHiddenContextOnStack", "popHiddenContext", "currentlyRenderingFiber", "currentHook", "workInProgressHook", "didScheduleRenderPhaseUpdate", "didScheduleRenderPhaseUpdateDuringThisPass", "shouldDoubleInvokeUserFnsInHooksDEV", "localIdCounter", "thenableIndexCounter$1", "thenableState$1", "globalClientIdCounter", "throwInvalidHookError", "areHookInputsEqual", "nextDeps", "prevDeps", "renderWithHooks", "secondArg", "nextRenderLanes", "HooksDispatcherOnMount", "HooksDispatcherOnUpdate", "renderWithHooksAgain", "finishRenderingHooks", "ContextOnlyDispatcher", "didRenderTooFewHooks", "didReceiveUpdate", "numberOfReRenders", "HooksDispatcherOnRerender", "TransitionAwareHostComponent", "dispatcher", "maybeThenable", "useThenable", "checkDidRenderIdHook", "didRenderIdHook", "bailoutHooks", "resetHooksOnUnwind", "mountWorkInProgressHook", "hook", "updateWorkInProgressHook", "nextCurrentHook", "nextWorkInProgressHook", "createFunctionComponentUpdateQueue", "use", "usable", "useMemoCache", "size", "memoCache", "array", "basicStateReducer", "state", "action", "updateReducer", "reducer", "updateReducerImpl", "baseQueue", "baseFirst", "newBaseQueueFirst", "newBaseQueueLast", "didReadFromEntangledAsyncAction$32", "revertLane", "rerenderReducer", "dispatch", "lastRenderPhaseUpdate", "updateSyncExternalStore", "subscribe", "getSnapshot", "getServerSnapshot", "isHydrating$jscomp$0", "snapshotChanged", "create", "subscribeToStore", "updateEffectImpl", "pushSimpleEffect", "createEffectInstance", "updateStoreInstance", "pushStoreConsistencyCheck", "renderedSnapshot", "nextSnapshot", "checkIfSnapshotChanged", "forceStoreRerender", "latestGetSnapshot", "scheduleUpdateOnFiber", "mountStateImpl", "initialState", "initialStateInitializer", "updateOptimisticImpl", "passthrough", "dispatchActionState", "actionQueue", "setPendingState", "setState", "payload", "isRenderPhaseUpdate", "actionNode", "runActionStateAction", "prevState", "prevTransition", "currentTransition", "onStartTransitionFinish", "handleActionReturnValue", "onActionError", "error$38", "nextState", "onActionSuccess", "notifyActionListeners", "last", "actionStateReducer", "oldState", "mountActionState", "initialStateProp", "ssrFormState", "JSCompiler_inline_result$jscomp$0", "inRootOrSingleton", "dispatchSetState", "dispatchOptimisticSetState", "updateActionState", "stateHook", "updateActionStateImpl", "currentStateHook", "actionStateActionEffect", "rerenderActionState", "createDeps", "updateRef", "mountEffectImpl", "fiberFlags", "hookFlags", "deps", "mountEffect", "updateEffect", "updateInsertionEffect", "updateLayoutEffect", "imperativeHandleEffect", "ref", "refCleanup", "updateImperativeHandle", "mountDebugValue", "updateCallback", "updateMemo", "nextCreate", "mountDeferredValueImpl", "initialValue", "requestDeferredLane", "updateDeferredValueImpl", "prevValue", "startTransition", "pendingState", "finishedState", "thenableForFinishedState", "dispatchSetStateInternal", "requestUpdateLane", "noop$2", "startHostTransition", "formFiber", "formData", "ensureFormComponentIsStateful", "requestFormReset$1", "existingStateHook", "initialResetState", "resetStateQueue", "useHostTransitionStatus", "updateId", "updateRefresh", "refreshCache", "provider", "root$41", "dispatchReducerAction", "enqueueRenderPhaseUpdate", "entangleTransitionUpdate", "currentState", "eagerState", "throwIfDuringRender", "initialArg", "init", "identifierPrefix", "idWithLeadingBit", "booleanOrThenable", "thenableIndexCounter", "unwrapThenable", "coerceRef", "throwOnInvalidObjectType", "returnFiber", "newChild", "resolveLazy", "lazyType", "createChildReconciler", "shouldTrackSideEffects", "deleteChild", "childToDelete", "deletions", "deleteRemainingChildren", "currentFirstChild", "mapRemainingChildren", "existingChildren", "useFiber", "placeChild", "newFiber", "lastPlacedIndex", "newIndex", "placeSingleChild", "updateTextNode", "textContent", "updateElement", "elementType", "updateFragment", "updatePortal", "fragment", "createChild", "updateSlot", "oldFiber", "updateFromMap", "newIdx", "reconcileChildrenArray", "newChildren", "resultingFirstChild", "previousNewFiber", "nextOldFiber", "child", "reconcileChildrenIterator", "step", "reconcileChildFibersImpl", "firstChildFiber", "reconcileChildFibers", "mountChildFibers", "suspenseHandlerStackCursor", "shellBoundary", "pushPrimaryTreeSuspenseHandler", "handler", "suspenseStackCursor", "pushOffscreenSuspenseHandler", "reuseSuspenseHandlerOnStack", "popSuspenseHandler", "findFirstSuspended", "row", "isSuspenseInstanceFallback", "applyDerivedStateFromProps", "ctor", "getDerivedStateFromProps", "nextProps", "classComponentUpdater", "checkShouldComponentUpdate", "oldProps", "newProps", "nextContext", "callComponentWillReceiveProps", "resolveClassComponentProps", "baseProps", "propName$73", "reportGlobalError", "defaultOnUncaughtError", "defaultOnCaughtError", "defaultOnRecoverableError", "logUncaughtError", "errorInfo", "onUncaughtError", "e$74", "logCaughtError", "boundary", "onCaughtError", "e$75", "createRootErrorUpdate", "createClassErrorUpdate", "initializeClassErrorUpdate", "getDerivedStateFromError", "legacyErrorBoundariesThatAlreadyFailed", "stack", "throwException", "rootRenderLanes", "renderDidSuspendDelayIfPossible", "workInProgressRootExitStatus", "attachPingListener", "wrapperError", "workInProgressRootConcurrentErrors", "SelectiveHydrationException", "reconcileChildren", "nextChildren", "updateForwardRef", "propsWithoutRef", "bailoutOnAlreadyFinishedWork", "updateMemoComponent", "updateSimpleMemoComponent", "checkScheduledUpdateOrContext", "prevProps", "updateFunctionComponent", "updateOffscreenComponent", "deferHiddenOffscreenComponent", "nextBaseLanes", "markRef", "replayFunctionComponent", "updateClassComponent", "contextType", "unresolvedOldProps", "oldContext", "contextType$jscomp$0", "mountHostRootWithoutHydrating", "SUSPENDED_MARKER", "mountSuspenseOffscreenState", "getRemainingWorkInPrimaryTree", "primaryTreeDidDefer", "workInProgressDeferredLane", "updateSuspenseComponent", "showFallback", "didSuspend", "nextInstance", "JSCompiler_temp$jscomp$0", "c", "mountWorkInProgressOffscreenFiber", "mountSuspensePrimaryChildren", "retrySuspenseComponentWithoutHydrating", "digest", "primaryChildren", "offscreenProps", "scheduleSuspenseWorkOnFiber", "initSuspenseListRenderState", "isBackwards", "tail", "lastContentRow", "tailMode", "renderState", "updateSuspenseListComponent", "revealOrder", "attemptEarlyBailoutIfNoScheduledUpdate", "didSuspendBefore", "beginWork", "lazyComponent", "getResource", "getOwnerDocumentFromRootContainer", "setInitialProperties", "resolveSingletonInstance", "canHydrateInstance", "canHydrateTextInstance", "markUpdate", "preloadResourceAndSuspendIfNeeded", "resource", "preloadResource", "scheduleRetryEffect", "retryQueue", "workInProgressSuspendedRetryLanes", "cutOffTailIfNeeded", "hasRenderedATailFallback", "lastTailNode", "lastTailNode$113", "bubbleProperties", "completedWork", "didBailout", "newChildLanes", "subtreeFlags", "child$114", "completeWork", "cache$127", "listenToAllSupportedEvents", "workInProgressRootRenderTargetTime", "unwindWork", "unwindInterruptedWork", "interruptedWork", "commitHookEffectListMount", "flags", "finishedWork", "lastEffect", "firstEffect", "captureCommitPhaseError", "commitHookEffectListUnmount", "nearestMountedAncestor$jscomp$0", "destroy", "nearestMountedAncestor", "destroy_", "commitClassCallbacks", "safelyCallComponentWillUnmount", "safelyAttachRef", "instanceToUse", "safelyDetachRef", "error$143", "commitHostMount", "commitHostUpdate", "domElement", "updateProperties", "isHostParent", "getHostSibling", "insertOrAppendPlacementNodeIntoContainer", "before", "insertOrAppendPlacementNode", "commitHostSingletonAcquisition", "singleton", "attributes", "offscreenSubtreeIsHidden", "offscreenSubtreeWasHidden", "needsFormReset", "PossiblyWeakSet", "nextEffect", "commitBeforeMutationEffects", "eventsEnabled", "_enabled", "selection", "anchorOffset", "focusNode", "e$20", "indexWithinAnchor", "indexWithinFocus", "next", "selectionInformation", "resolvedPrevProps", "clearContainerSparingly", "commitLayoutEffectOnFiber", "finishedRoot", "recursivelyTraverseLayoutEffects", "error$142", "commitSuspenseHydrationCallbacks", "retryDehydratedSuspenseBoundary", "registerSuspenseInstanceRetry", "prevOffscreenSubtreeWasHidden", "recursivelyTraverseReappearLayoutEffects", "detachFiberAfterEffects", "hostParent", "hostParentIsContainer", "recursivelyTraverseDeletionEffects", "commitDeletionEffectsOnFiber", "deletedFiber", "prevHostParent", "prevHostParentIsContainer", "releaseSingletonInstance", "clearSuspenseBoundary", "retryIfBlockedOn", "getRetryCache", "retryCache", "attachSuspenseRetryListeners", "wakeables", "wakeable", "retry", "resolveRetryWakeable", "recursivelyTraverseMutationEffects", "root$jscomp$0", "parentFiber", "commitMutationEffectsOnFiber", "currentHoistableRoot", "commitReconciliationEffects", "hoistableRoot", "currentResource", "maybeNodes", "getHydratableHoistableCache", "mountHoistable", "acquireResource", "tagCaches", "getHoistableRoot", "recursivelyResetForms", "globalMostRecentFallbackTime", "wasHidden", "prevOffscreenSubtreeIsHidden", "recursivelyTraverseDisappearLayoutEffects", "display", "hostParentFiber", "parent$144", "before$145", "parent$146", "before$147", "finishedRoot$jscomp$0", "includeWorkInProgressEffects", "hiddenCallbacks", "commitOffscreenPassiveMountEffects", "previousCache", "commitCachePassiveMountEffect", "recursivelyTraversePassiveMountEffects", "committedLanes", "committedTransitions", "commitPassiveMountOnFiber", "_finishedWork$memoize2", "id", "onPostCommit", "recursivelyTraverseAtomicPassiveEffects", "recursivelyTraverseReconnectPassiveEffects", "committedLanes$jscomp$0", "committedTransitions$jscomp$0", "suspenseyCommitFlag", "recursivelyAccumulateSuspenseyCommit", "accumulateSuspenseyCommitOnFiber", "suspendResource", "previousHoistableRoot", "detachAlternateSiblings", "previousFiber", "recursivelyTraversePassiveUnmountEffects", "commitPassiveUnmountEffectsInsideOfDeletedTree_begin", "commitPassiveUnmountOnFiber", "recursivelyTraverseDisconnectPassiveEffects", "deletedSubtreeRoot", "sibling", "DefaultAsyncDispatcher", "resourceType", "cacheForType", "PossiblyWeakMap", "workInProgressSuspendedReason", "workInProgressThrownValue", "workInProgressRootDidSkipSuspendedSiblings", "workInProgressRootIsPrerendering", "workInProgressRootDidAttachPingListener", "workInProgressRootInterleavedUpdatedLanes", "workInProgressRootPingedLanes", "workInProgressRootDidIncludeRecursiveRenderUpdate", "workInProgressTransitions", "pendingEffectsStatus", "pendingEffectsRoot", "pendingFinishedWork", "pendingEffectsLanes", "pendingEffectsRemainingLanes", "pendingPassiveTransitions", "pendingRecoverableErrors", "actionScopeLane", "suspenseHandler", "prepareFreshStack", "markRootSuspended", "ensureRootIsScheduled", "performWorkOnRoot", "forceSync", "shouldTimeSlice", "exitStatus", "renderRootConcurrent", "renderRootSync", "renderWasConcurrent", "isRenderConsistentWithExternalStores", "wasRootDehydrated", "scheduleTimeout", "commitRootWhenReady", "recoverableErrors", "transitions", "didIncludeRenderPhaseUpdate", "didSkipSuspendedSiblings", "suspendedCommitReason", "completedRenderStartTime", "completedRenderEndTime", "suspendedState", "noop", "waitForCommitToBeReady", "commitRoot", "check", "didAttemptEntireTree", "index$4", "flushSyncWorkAcrossRoots_impl", "resetWorkInProgressStack", "timeoutHandle", "cancelTimeout", "allEntangledLanes", "index$2", "handleThrow", "thrownValue", "pushDispatcher", "prevDispatcher", "pushAsyncDispatcher", "prevAsyncDispatcher", "shouldYieldForPrerendering", "prevExecutionContext", "unitOfWork", "reason", "throwAndUnwindWorkLoop", "workLoopSync", "thrownValue$167", "performUnitOfWork", "replaySuspendedUnitOfWork", "hostFiber", "completeUnitOfWork", "workLoopConcurrentByScheduler", "thrownValue$169", "suspendedReason", "unwindUnitOfWork", "skipSiblings", "flushPendingEffects", "scheduleCallback$1", "flushPassiveEffects", "flushMutationEffects", "flushLayoutEffects", "flushSpawnedWork", "rootMutationHasEffect", "priorSelectionInformation", "curFocusedElem", "priorFocusedElem", "priorSelectionRange", "win", "start$jscomp$0", "end$jscomp$0", "startMarker", "endMarker", "range", "rootHasLayoutEffect", "releaseRootPooledCache", "onRecoverableError", "recoverableError", "wasDelayedCommit", "renderPriority", "captureCommitPhaseErrorOnRoot", "rootFiber", "pingCache", "threadIDs", "pingSuspendedRoot", "retryTimedOutBoundary", "boundaryFiber", "retryLane", "priorityLevel", "firstScheduledRoot", "lastScheduledRoot", "didScheduleMicrotask", "mightHavePendingSyncWork", "isFlushingWork", "currentEventTransitionLane", "scheduleImmediateRootScheduleTask", "syncTransitionLanes", "onlyLegacy", "didPerformSomeWork", "root$174", "performSyncWorkOnRoot", "processRootScheduleInImmediateTask", "processRootScheduleInMicrotask", "shouldAttemptEagerTransition", "prev", "scheduleTaskForRootDuringMicrotask", "index$3", "expirationTime", "performWorkOnRootViaSchedulerTask", "didTimeout", "originalCallbackNode", "workInProgressRootRenderLanes$jscomp$0", "scheduleMicrotask", "coerceFormActionProp", "actionProp", "createFormDataWithSubmitter", "form", "submitter", "temp", "extractEvents$1", "maybeTargetInst", "i$jscomp$inline_1528", "eventName$jscomp$inline_1529", "domEventName$jscomp$inline_1530", "capitalizedEvent$jscomp$inline_1531", "nonDelegatedEvents", "eventSystemFlags", "_dispatchQueue$i", "previousInstance", "i$jscomp$0", "_dispatchListeners$i", "currentTarget", "targetElement", "listenerSetKey", "addTrappedEventListener", "listenToNativeEvent", "isCapturePhaseListener", "listeningMarker", "rootContainerElement", "ownerDocument", "targetContainer", "listenerWrapper", "dispatchDiscreteEvent", "dispatchContinuousEvent", "dispatchEvent", "dispatchEventForPluginEventSystem", "targetInst$jscomp$0", "ancestorInst", "nodeTag", "container", "grandTag", "SyntheticEventCtor", "inCapturePhase", "accumulateTargetOnly", "reactEventName", "lastHostComponent", "_instance", "createDispatchListener", "getParent", "accumulateEnterLeaveListenersForEvent", "getTargetInstFunc", "handleEventFunc", "fallbackData", "eventType", "targetFiber", "captureName", "_instance2", "common", "_instance3", "NORMALIZE_NEWLINES_REGEX", "NORMALIZE_NULL_AND_REPLACEMENT_REGEX", "normalizeMarkupForTextOrAttribute", "markup", "serverText", "clientText", "setProp", "setPropOnCustomElement", "hasSrc", "hasSrcSet", "propKey", "propValue$188", "lastProps", "lastProp", "propKey$205", "propKey$221", "propKey$226", "propKey$231", "propKey$236", "namespaceURI", "parentNamespace", "currentPopstateTransitionEvent", "localPromise", "handleErrorInNextTick", "parentInstance", "suspenseInstance", "possiblePreambleContribution", "depth", "nextNode", "nextNode$jscomp$0", "anyProps", "nodeType", "targetInstance", "data", "rootContainerInstance", "preloadPropsMap", "preconnectsSet", "previousDispatcher", "flushSyncWork", "requestFormReset", "prefetchDNS", "preconnect", "preload", "preloadModule", "preinitScript", "preinitStyle", "preinitModuleScript", "previousWasRendering", "wasRendering", "formInst", "globalDocument", "preconnectAs", "rel", "href", "crossOrigin", "limitedEscapedHref", "as", "preloadSelector", "getStyleKey", "getScriptKey", "getStylesheetSelectorFromKey", "getScriptSelectorFromKey", "precedence", "adoptPreloadPropsForStylesheet", "link", "reject", "insertStylesheet", "src", "scripts", "adoptPreloadPropsForScript", "currentProps", "styles$244", "resource$245", "preloadStylesheet", "stylesheetPropsFromRawProps", "rawProps", "preloadProps", "styleProps", "instance$250", "linkInstance", "nodes", "prior", "stylesheetProps", "scriptProps", "keyAttribute", "caches", "nodeKey", "hostContext", "onUnsuspend", "insertSuspendedStylesheets", "commit", "stylesheetTimer", "unsuspend", "precedencesByRoot", "insertStylesheetIntoRoot", "precedences", "FiberRootNode", "hydrate", "formState", "createFiberRoot", "initialChildren", "hydrationCallbacks", "isStrictMode", "transitionCallbacks", "getContextForSubtree", "parentComponent", "updateContainerImpl", "markRetryLaneImpl", "markRetryLaneIfNotHydrated", "attemptContinuousHydration", "blockedOn", "findInstanceBlockingEvent", "return_targetInst", "clearIfContinuousEvent", "queueIfContinuousEvent", "discreteReplayableEvents", "findInstanceBlockingTarget", "hasScheduledReplayAttempt", "queuedFocus", "queuedDrag", "queuedMouse", "queuedPointers", "queuedPointerCaptures", "queuedExplicitHydrationTargets", "accumulateOrCreateContinuousQueuedReplayableEvent", "existingQueuedEvent", "pointerId", "attemptExplicitHydrationTarget", "queuedTarget", "attemptReplayContinuousQueuedEvent", "queuedEvent", "targetContainers", "nextBlockedOn", "nativeEventClone", "attemptReplayContinuousQueuedEventInMap", "map", "replayUnblockedEvents", "scheduleCallbackIfUnblocked", "unblocked", "lastScheduledReplayQueue", "scheduleReplayQueueIfNeeded", "formReplayingQueue", "submitterOrAction", "unblock", "formProps", "ReactDOMRoot", "internalRoot", "ReactDOMHydrationRoot", "isomorphicReactPackageVersion$jscomp$inline_1785", "componentOrElement", "internals$jscomp$inline_2256", "hook$jscomp$inline_2257", "require_client", "__commonJSMin", "exports", "module", "checkDCE", "err", "require_react_jsx_runtime_production", "__commonJSMin", "exports", "REACT_ELEMENT_TYPE", "REACT_FRAGMENT_TYPE", "jsxProd", "type", "config", "maybeKey", "key", "propName", "require_jsx_runtime", "__commonJSMin", "exports", "module", "constructor", "data", "width", "height", "length", "import_react", "import_client", "import_jsx_runtime", "Header", "import_react", "import_react", "number", "n", "bytes", "b", "lengths", "hash", "number", "exists", "instance", "checkFinished", "output", "out", "min", "crypto", "u8a", "a", "createView", "arr", "rotr", "word", "shift", "isLE", "utf8ToBytes", "str", "toBytes", "data", "u8a", "concatBytes", "arrays", "r", "sum", "a", "pad", "Hash", "toStr", "wrapConstructor", "hashCons", "hashC", "msg", "toBytes", "tmp", "randomBytes", "bytesLength", "crypto", "setBigUint64", "view", "byteOffset", "value", "isLE", "_32n", "_u32_max", "wh", "wl", "h", "l", "SHA2", "Hash", "blockLen", "outputLen", "padOffset", "createView", "data", "exists", "buffer", "toBytes", "len", "pos", "take", "dataView", "out", "output", "i", "oview", "outLen", "state", "res", "to", "length", "finished", "destroyed", "Chi", "a", "b", "c", "Maj", "SHA256_K", "IV", "SHA256_W", "SHA256", "SHA2", "A", "B", "C", "D", "E", "F", "G", "H", "view", "offset", "i", "W15", "W2", "s0", "rotr", "s1", "sigma1", "T1", "T2", "sha256", "wrapConstructor", "SHA256", "utils_exports", "__export", "bitGet", "bitLen", "bitMask", "bitSet", "bytesToHex", "bytesToNumberBE", "bytesToNumberLE", "concatBytes", "createHmacDrbg", "ensureBytes", "equalBytes", "hexToBytes", "hexToNumber", "numberToBytesBE", "numberToBytesLE", "numberToHexUnpadded", "numberToVarBytesBE", "utf8ToBytes", "validateObject", "_0n", "_1n", "_2n", "u8a", "a", "hexes", "_", "i", "bytes", "hex", "num", "len", "array", "j", "hexByte", "byte", "n", "title", "expectedLength", "res", "e", "arrays", "r", "sum", "pad", "b1", "b2", "str", "pos", "value", "u8n", "data", "u8fr", "arr", "hashLen", "qByteLen", "hmacFn", "v", "k", "reset", "h", "b", "reseed", "seed", "gen", "out", "sl", "pred", "validatorFns", "val", "object", "validators", "optValidators", "checkField", "fieldName", "type", "isOptional", "checkVal", "_0n", "_1n", "_2n", "_3n", "_4n", "_5n", "_8n", "_9n", "_16n", "mod", "a", "b", "result", "pow", "num", "power", "modulo", "res", "pow2", "x", "invert", "number", "y", "u", "v", "q", "r", "m", "n", "tonelliShanks", "P", "legendreC", "Q", "S", "Z", "p1div4", "Fp", "root", "Q1div2", "g", "t2", "ge", "FpSqrt", "c1", "n2", "nv", "i", "FIELD_FIELDS", "validateField", "field", "initial", "opts", "map", "val", "validateObject", "FpPow", "f", "num", "power", "_0n", "_1n", "p", "d", "FpInvertBatch", "nums", "tmp", "lastMultiplied", "acc", "i", "inverted", "nLength", "n", "nBitLength", "_nBitLength", "nByteLength", "Field", "ORDER", "bitLen", "isLE", "redef", "_0n", "BITS", "BYTES", "sqrtP", "FpSqrt", "f", "bitMask", "_1n", "num", "mod", "lhs", "rhs", "power", "FpPow", "invert", "lst", "FpInvertBatch", "a", "b", "c", "numberToBytesLE", "numberToBytesBE", "bytes", "bytesToNumberLE", "bytesToNumberBE", "getFieldBytesLength", "fieldOrder", "bitLength", "getMinHashLength", "length", "mapHashToField", "key", "isLE", "len", "fieldLen", "minLen", "num", "bytesToNumberBE", "bytesToNumberLE", "reduced", "mod", "_1n", "numberToBytesLE", "numberToBytesBE", "_0n", "_1n", "wNAF", "c", "bits", "constTimeNegate", "condition", "item", "neg", "opts", "W", "windows", "windowSize", "elm", "n", "p", "d", "points", "base", "window", "i", "precomputes", "f", "mask", "maxNumber", "shiftBy", "offset", "wbits", "offset1", "offset2", "cond1", "cond2", "P", "precomputesMap", "transform", "comp", "validateBasic", "curve", "validateField", "validateObject", "__spreadProps", "__spreadValues", "nLength", "validatePointOpts", "curve", "opts", "validateBasic", "validateObject", "endo", "Fp", "a", "__spreadValues", "b2n", "h2b", "utils_exports", "DER", "m", "data", "E", "len", "res", "hex", "l", "sBytes", "rBytesLeft", "sig", "slice", "s", "h", "num", "shl", "rhl", "sl", "rl", "_0n", "_1n", "_2n", "_3n", "_4n", "weierstrassPoints", "CURVE", "toBytes", "_c", "point", "_isCompressed", "concatBytes", "fromBytes", "bytes", "tail", "x", "y", "weierstrassEquation", "b", "x2", "x3", "isWithinCurveOrder", "assertGE", "normPrivateKeyToScalar", "key", "lengths", "nByteLength", "wrapPrivateKey", "n", "bytesToHex", "bytesToNumberBE", "ensureBytes", "error", "mod", "pointPrecomputes", "assertPrjPoint", "other", "Point", "px", "py", "pz", "is0", "i", "points", "toInv", "p", "P", "privateKey", "windowSize", "left", "right", "X1", "Y1", "Z1", "X2", "Y2", "Z2", "U1", "U2", "b3", "X3", "Y3", "Z3", "t0", "t1", "t2", "t3", "t4", "t5", "wnaf", "comp", "I", "k1neg", "k1", "k2neg", "k2", "k1p", "k2p", "d", "scalar", "fake", "f1p", "f2p", "f", "Q", "G", "mul", "sum", "iz", "z", "ax", "ay", "zz", "cofactor", "isTorsionFree", "clearCofactor", "isCompressed", "_bits", "wNAF", "validateOpts", "weierstrass", "curveDef", "CURVE_ORDER", "compressedLen", "uncompressedLen", "isValidFieldElement", "modN", "invN", "invert", "__spreadProps", "cat", "head", "y2", "isYOdd", "numToNByteStr", "numberToBytesBE", "isBiggerThanHalfOrder", "number", "HALF", "normalizeS", "slcNum", "from", "to", "Signature", "r", "recovery", "msgHash", "rec", "bits2int_modN", "radj", "prefix", "R", "ir", "u1", "u2", "hexToBytes", "utils", "length", "getMinHashLength", "mapHashToField", "getPublicKey", "isProbPub", "item", "arr", "str", "getSharedSecret", "privateA", "publicB", "bits2int", "delta", "ORDER_MASK", "bitMask", "int2octets", "prepSig", "defaultSigOpts", "k", "hash", "randomBytes", "lowS", "prehash", "ent", "h1int", "seedArgs", "e", "seed", "k2sig", "kBytes", "ik", "q", "normS", "defaultVerOpts", "sign", "privKey", "C", "createHmacDrbg", "verify", "signature", "publicKey", "_a", "sg", "_sig", "derError", "is", "HMAC", "Hash", "hash", "_key", "key", "toBytes", "blockLen", "pad", "i", "buf", "exists", "out", "bytes", "to", "oHash", "iHash", "finished", "destroyed", "outputLen", "hmac", "message", "getHash", "hash", "key", "msgs", "hmac", "concatBytes", "randomBytes", "createCurve", "curveDef", "defHash", "create", "weierstrass", "__spreadValues", "__spreadProps", "secp256k1P", "secp256k1N", "_1n", "_2n", "divNearest", "a", "b", "sqrtMod", "y", "P", "_3n", "_6n", "_11n", "_22n", "_23n", "_44n", "_88n", "b2", "b3", "b6", "pow2", "b9", "b11", "b22", "b44", "b88", "b176", "b220", "b223", "t1", "t2", "root", "Fp", "Field", "secp256k1", "createCurve", "k", "n", "a1", "b1", "a2", "POW_2_128", "c1", "c2", "k1", "mod", "k2", "k1neg", "k2neg", "sha256", "_0n", "fe", "x", "ge", "TAGGED_HASH_PREFIXES", "taggedHash", "tag", "messages", "tagP", "tagH", "c", "concatBytes", "pointToBytes", "point", "numTo32b", "numberToBytesBE", "modP", "modN", "Point", "GmulAdd", "Q", "schnorrGetExtPubKey", "priv", "d_", "p", "lift_x", "xx", "challenge", "args", "bytesToNumberBE", "schnorrGetPublicKey", "privateKey", "schnorrSign", "message", "auxRand", "randomBytes", "m", "ensureBytes", "px", "d", "t", "rand", "k_", "rx", "e", "sig", "schnorrVerify", "signature", "publicKey", "pub", "r", "s", "R", "error", "schnorr", "crypto", "u8a", "a", "createView", "arr", "rotr", "word", "shift", "isLE", "hexes", "v", "i", "bytesToHex", "bytes", "u8a", "hex", "hexToBytes", "len", "array", "j", "hexByte", "byte", "utf8ToBytes", "str", "toBytes", "data", "u8a", "concatBytes", "arrays", "r", "sum", "a", "pad", "Hash", "wrapConstructor", "hashCons", "hashC", "msg", "toBytes", "tmp", "randomBytes", "bytesLength", "crypto", "number", "n", "bool", "b", "bytes", "lengths", "hash", "exists", "instance", "checkFinished", "output", "out", "min", "assert", "assert_default", "setBigUint64", "view", "byteOffset", "value", "isLE", "_32n", "_u32_max", "wh", "wl", "h", "l", "SHA2", "Hash", "blockLen", "outputLen", "padOffset", "createView", "data", "assert_default", "buffer", "toBytes", "len", "pos", "take", "dataView", "out", "i", "oview", "outLen", "state", "res", "to", "length", "finished", "destroyed", "Chi", "a", "b", "c", "Maj", "SHA256_K", "IV", "SHA256_W", "SHA256", "SHA2", "A", "B", "C", "D", "E", "F", "G", "H", "view", "offset", "i", "W15", "W2", "s0", "rotr", "s1", "sigma1", "T1", "T2", "SHA224", "sha256", "wrapConstructor", "sha224", "assertNumber", "n", "chain", "args", "wrap", "a", "b", "c", "encode", "acc", "decode", "alphabet", "digits", "i", "input", "letter", "index", "join", "separator", "from", "to", "padding", "bits", "chr", "data", "end", "normalize", "fn", "convertRadix", "pos", "res", "d", "carry", "done", "digit", "digitBase", "gcd", "radix2carry", "convertRadix2", "mask", "radix", "num", "bytes", "radix2", "revPadding", "unsafeWrapper", "e", "base16", "chain", "radix2", "alphabet", "join", "base32", "padding", "base32hex", "base32crockford", "normalize", "s", "base64", "base64url", "genBase58", "abc", "radix", "base58", "base58flickr", "base58xrp", "XMR_BLOCK_LEN", "base58xmr", "data", "res", "i", "block", "str", "slice", "blockLen", "j", "BECH_ALPHABET", "chain", "alphabet", "join", "POLYMOD_GENERATORS", "bech32Polymod", "pre", "b", "chk", "i", "bechChecksum", "prefix", "words", "encodingConst", "len", "c", "v", "convertRadix2", "genBech32", "encoding", "ENCODING_CONST", "_words", "radix2", "fromWords", "toWords", "fromWordsUnsafe", "unsafeWrapper", "encode", "limit", "actualLength", "decode", "str", "lowered", "sepIndex", "sum", "decodeUnsafe", "decodeToBytes", "bech32", "bech32m", "utf8", "data", "hex", "normalize", "s", "CODERS", "base16", "base32", "base64", "base64url", "base58", "base58xmr", "coderTypeError", "number", "n", "bool", "b", "isBytes", "a", "bytes", "lengths", "exists", "instance", "checkFinished", "output", "out", "bytes", "min", "u8", "arr", "u32", "arr", "createView", "isLE", "utf8ToBytes", "str", "toBytes", "data", "utf8ToBytes", "isBytes", "checkOpts", "defaults", "opts", "equalBytes", "a", "b", "diff", "i", "wrapCipher", "params", "c", "setBigUint64", "view", "byteOffset", "value", "isLE", "_32n", "_u32_max", "wh", "wl", "h", "l", "BLOCK_SIZE", "ZEROS16", "ZEROS32", "u32", "POLY", "mul2", "s0", "s1", "s2", "s3", "hiBit", "swapLE", "n", "_toGHASHKey", "k", "carry", "i", "t", "estimateWindow", "bytes", "GHASH", "key", "expectedLength", "toBytes", "kView", "createView", "k0", "k1", "k2", "k3", "doubles", "W", "windows", "windowSize", "items", "w", "byte", "j", "d0", "d1", "d2", "d3", "o0", "o1", "o2", "o3", "mask", "num", "bytePos", "bitPos", "bit", "e0", "e1", "e2", "e3", "data", "exists", "b32", "blocks", "left", "elm", "out", "output", "o32", "res", "Polyval", "ghKey", "wrapConstructorWithKey", "hashCons", "hashC", "msg", "tmp", "ghash", "polyval", "BLOCK_SIZE", "BLOCK_SIZE32", "EMPTY_BLOCK", "POLY", "mul2", "n", "mul", "a", "b", "res", "sbox", "t", "i", "x", "box", "invSbox", "_", "j", "rotr32_8", "rotl32_8", "genTtable", "fn", "T0", "T1", "T2", "T3", "T01", "T23", "sbox2", "idx", "tableEncoding", "s", "tableDecoding", "xPowers", "p", "expandKeyLE", "key", "bytes", "len", "k32", "u32", "Nk", "subByte", "applySbox", "xk", "expandKeyDecLE", "encKey", "w", "apply0123", "s0", "s1", "s2", "s3", "encrypt", "k", "rounds", "t0", "t1", "t2", "t3", "decrypt", "getDst", "dst", "ctrCounter", "nonce", "src", "srcLen", "ctr", "c32", "src32", "dst32", "carry", "start", "b32", "buf", "u8", "pos", "ctr32", "isLE", "view", "createView", "ctrPos", "ctrNum", "wrapCipher", "processCtr", "out", "plaintext", "ciphertext", "validateBlockDecrypt", "data", "validateBlockEncrypt", "pcks5", "outLen", "remaining", "left", "o", "validatePCKS", "lastByte", "padPCKS", "tmp", "tmp32", "paddingByte", "ecb", "opts", "_out", "cbc", "iv", "n32", "ps0", "ps1", "ps2", "ps3", "o0", "o1", "o2", "o3", "cfb", "processCfb", "isEncrypt", "next32", "e0", "e1", "e2", "e3", "computeTag", "AAD", "h", "num", "setBigUint64", "gcm", "tagLength", "_computeTag", "authKey", "tagMask", "tag", "ghash", "deriveKeys", "counter", "nonceLen", "passedTag", "equalBytes", "limit", "name", "min", "max", "value", "siv", "AAD_LIMIT", "PLAIN_LIMIT", "NONCE_LIMIT", "CIPHER_LIMIT", "derivedKey", "d32", "polyval", "t32", "processSiv", "input", "block", "expectedTag", "u8to16", "a", "i", "Poly1305", "key", "toBytes", "bytes", "t0", "t1", "t2", "t3", "t4", "t5", "t6", "t7", "data", "offset", "isLast", "hibit", "h", "r", "r0", "r1", "r2", "r3", "r4", "r5", "r6", "r7", "r8", "r9", "h0", "h1", "h2", "h3", "h4", "h5", "h6", "h7", "h8", "h9", "c", "d0", "d1", "d2", "d3", "d4", "d5", "d6", "d7", "d8", "d9", "pad", "g", "mask", "f", "exists", "buffer", "blockLen", "len", "pos", "take", "out", "output", "opos", "outputLen", "res", "wrapConstructorWithKey", "hashCons", "hashC", "msg", "tmp", "poly1305", "_utf8ToBytes", "str", "c", "sigma16", "sigma32", "sigma16_32", "u32", "sigma32_32", "sigma", "rotl", "a", "b", "isAligned32", "BLOCK_LEN", "BLOCK_LEN32", "MAX_COUNTER", "U32_EMPTY", "runCipher", "core", "key", "nonce", "data", "output", "counter", "rounds", "len", "block", "b32", "isAligned", "d32", "o32", "pos", "take", "pos32", "j", "posj", "createCipher", "opts", "allowShortKeys", "extendNonceFn", "counterLength", "counterRight", "checkOpts", "number", "bool", "bytes", "toClean", "l", "k", "k32", "nonceNcLen", "nc", "n32", "chachaCore", "s", "k", "out", "cnt", "rounds", "y00", "y01", "y02", "y03", "y04", "y05", "y06", "y07", "y08", "y09", "y10", "y11", "y12", "y13", "y14", "y15", "x00", "x01", "x02", "x03", "x04", "x05", "x06", "x07", "x08", "x09", "x10", "x11", "x12", "x13", "x14", "x15", "r", "rotl", "oi", "hchacha", "i", "o32", "chacha20", "createCipher", "chachaCore", "xchacha20", "hchacha", "ZEROS16", "updatePadded", "h", "msg", "left", "ZEROS32", "computeTag", "fn", "key", "nonce", "data", "AAD", "authKey", "poly1305", "num", "view", "createView", "setBigUint64", "res", "_poly1305_aead", "xorStream", "bytes", "plaintext", "output", "plength", "clength", "tag", "ciphertext", "passedTag", "equalBytes", "chacha20poly1305", "wrapCipher", "chacha20", "xchacha20poly1305", "xchacha20", "HMAC", "Hash", "hash", "_key", "assert_default", "key", "toBytes", "blockLen", "pad", "i", "buf", "out", "to", "oHash", "iHash", "finished", "destroyed", "outputLen", "hmac", "message", "extract", "hash", "ikm", "salt", "assert_default", "hmac", "toBytes", "HKDF_COUNTER", "EMPTY_BUFFER", "expand", "prk", "info", "length", "blocks", "okm", "HMAC", "HMACTmp", "T", "counter", "__defProp", "__export", "target", "all", "name", "verifiedSymbol", "isRecord", "obj", "validateEvent", "event", "i2", "tag", "j", "utils_exports", "__export", "Queue", "QueueNode", "binarySearch", "bytesToHex", "hexToBytes", "insertEventIntoAscendingList", "insertEventIntoDescendingList", "normalizeURL", "utf8Decoder", "utf8Encoder", "url", "p", "e", "sortedArray", "event", "idx", "found", "b", "arr", "compare", "start", "end", "mid", "cmp", "message", "__publicField", "value", "newNode", "target2", "target", "JS", "schnorr", "secretKey", "t", "getEventHash", "verifiedSymbol", "hash", "valid", "err", "serializeEvent", "evt", "validateEvent", "eventHash", "sha256", "i", "generateSecretKey", "getPublicKey", "finalizeEvent", "verifyEvent", "kinds_exports", "Application", "BadgeAward", "BadgeDefinition", "BlockedRelaysList", "BookmarkList", "Bookmarksets", "Calendar", "CalendarEventRSVP", "ChannelCreation", "ChannelHideMessage", "ChannelMessage", "ChannelMetadata", "ChannelMuteUser", "ClassifiedListing", "ClientAuth", "CommunitiesList", "CommunityDefinition", "CommunityPostApproval", "Contacts", "CreateOrUpdateProduct", "CreateOrUpdateStall", "Curationsets", "Date2", "DirectMessageRelaysList", "DraftClassifiedListing", "DraftLong", "Emojisets", "EncryptedDirectMessage", "EventDeletion", "FileMetadata", "FileServerPreference", "Followsets", "GenericRepost", "Genericlists", "GiftWrap", "HTTPAuth", "Handlerinformation", "Handlerrecommendation", "Highlights", "InterestsList", "Interestsets", "JobFeedback", "JobRequest", "JobResult", "Label", "LightningPubRPC", "LiveChatMessage", "LiveEvent", "LongFormArticle", "Metadata", "Mutelist", "NWCWalletInfo", "NWCWalletRequest", "NWCWalletResponse", "NostrConnect", "OpenTimestamps", "Pinlist", "PrivateDirectMessage", "ProblemTracker", "ProfileBadges", "PublicChatsList", "Reaction", "RecommendRelay", "RelayList", "Relaysets", "Report", "Reporting", "Repost", "Seal", "SearchRelaysList", "ShortTextNote", "Time", "UserEmojiList", "UserStatuses", "Zap", "ZapGoal", "ZapRequest", "classifyKind", "isAddressableKind", "isEphemeralKind", "isKind", "isRegularKind", "isReplaceableKind", "kind", "kindAsArray", "matchFilter", "filter", "f", "tagName", "values", "v", "matchFilters", "filters", "i2", "fakejson_exports", "__export", "getHex64", "getInt", "getSubscriptionId", "matchEventId", "matchEventKind", "matchEventPubkey", "json", "field", "len", "idx", "s", "sliced", "end", "pstart", "start", "pend", "id", "pubkey", "kind", "nip42_exports", "makeAuthEvent", "relayURL", "challenge", "ClientAuth", "yieldThread", "resolve", "ch", "handler", "alwaysTrue", "t", "verifiedSymbol", "SendingOnClosedConnection", "message", "relay", "AbstractRelay", "url", "opts", "__publicField", "msg", "Queue", "normalizeURL", "reason", "_", "sub", "ep", "cr", "reject", "_a", "err", "ev", "res", "_b", "_c", "subid", "so", "alreadyHave", "data", "event", "matchFilters", "payload", "ok", "signAuthEvent", "evt", "timeout", "ret", "filters", "params", "subscription", "Subscription", "_WebSocket", "AbstractSimplePool", "opts", "__publicField", "url", "params", "normalizeURL", "relay", "AbstractRelay", "alwaysTrue", "relays", "_a", "filter", "request", "i2", "r", "filters", "uniqUrls", "f", "requests", "id", "set", "_knownIds", "subs", "eosesReceived", "handleEose", "a", "closesReceived", "handleClose", "reason", "localAlreadyHaveEventHandler", "have", "allOpened", "err", "subscription", "__spreadProps", "__spreadValues", "reason2", "sub", "subcloser", "resolve", "events", "event", "_", "b", "options", "arr", "map", "conn", "_WebSocket2", "SimplePool", "verifyEvent", "nip19_exports", "__export", "BECH32_REGEX", "Bech32MaxSize", "NostrTypeGuard", "decode", "decodeNostrURI", "encodeBytes", "naddrEncode", "neventEncode", "noteEncode", "nprofileEncode", "npubEncode", "nsecEncode", "value", "integerToUint8Array", "number", "uint8Array", "nip19code", "_err", "code", "_b", "_c", "_d", "_e", "_f", "_g", "prefix", "words", "bech32", "data", "tlv", "parseTLV", "bytesToHex", "utf8Decoder", "result", "rest", "t", "l", "v", "key", "hex", "hexToBytes", "encodeBech32", "bytes", "profile", "encodeTLV", "utf8Encoder", "kindArray", "addr", "kind", "entries", "vs", "entry", "concatBytes", "nip04_exports", "__export", "decrypt", "encrypt", "secretKey", "pubkey", "text", "privkey", "bytesToHex", "key", "secp256k1", "normalizedKey", "getNormalizedX", "iv", "randomBytes", "plaintext", "utf8Encoder", "ciphertext", "cbc", "ctb64", "base64", "ivb64", "data", "utf8Decoder", "nip05_exports", "NIP05_REGEX", "isNip05", "isValid", "queryProfile", "searchDomain", "useFetchImplementation", "value", "_fetch", "_", "fetchImplementation", "domain", "query", "url", "res", "fullname", "_a", "match", "name", "json", "_e", "nip05", "nip10_exports", "parse", "event", "result", "maybeParent", "maybeRoot", "i2", "tag", "eTagEventId", "eTagRelayUrl", "eTagMarker", "eTagAuthor", "eventPointer", "ref", "idx", "author", "p", "nip11_exports", "fetchRelayInformation", "useFetchImplementation2", "_fetch2", "nip13_exports", "fastEventHash", "getPow", "minePow", "hex", "count", "nibble", "unsigned", "difficulty", "now2", "evt", "sha256", "nip17_exports", "unwrapEvent2", "unwrapManyEvents2", "wrapEvent2", "wrapManyEvents2", "nip59_exports", "createRumor", "createSeal", "createWrap", "unwrapEvent", "unwrapManyEvents", "wrapEvent", "wrapManyEvents", "nip44_exports", "decrypt2", "encrypt2", "getConversationKey", "v2", "minPlaintextSize", "maxPlaintextSize", "privkeyA", "pubkeyB", "sharedX", "extract", "getMessageKeys", "conversationKey", "nonce", "keys", "expand", "calcPaddedLen", "len", "nextPower", "chunk", "writeU16BE", "num", "arr", "pad", "unpadded", "unpaddedLen", "prefix", "suffix", "concatBytes", "unpad", "padded", "hmacAad", "message", "aad", "combined", "hmac", "decodePayload", "payload", "plen", "error", "dlen", "vers", "chacha_key", "chacha_nonce", "hmac_key", "chacha20", "mac", "calculatedMac", "equalBytes", "TWO_DAYS", "now", "randomNow", "nip44ConversationKey", "privateKey", "publicKey", "nip44Encrypt", "nip44Decrypt", "rumor", "__spreadProps", "__spreadValues", "getPublicKey", "getEventHash", "recipientPublicKey", "finalizeEvent", "Seal", "seal", "randomKey", "generateSecretKey", "GiftWrap", "senderPrivateKey", "recipientsPublicKeys", "senderPublicKey", "wrappeds", "wrap", "recipientPrivateKey", "unwrappedSeal", "wrappedEvents", "unwrappedEvents", "e", "a", "b", "createEvent", "recipients", "conversationTitle", "replyTo", "baseEvent", "PrivateDirectMessage", "relayUrl", "recipient", "nip18_exports", "finishRepostEvent", "getRepostedEvent", "getRepostedEventPointer", "t", "reposted", "_b", "kind", "tags", "ShortTextNote", "Repost", "GenericRepost", "lastETag", "lastPTag", "x", "skipVerification", "pointer", "repostedEvent", "verifyEvent", "nip21_exports", "NOSTR_URI_REGEX", "parse2", "test", "BECH32_REGEX", "uri", "decode", "nip25_exports", "finishReactionEvent", "getReactedEventPointer", "reacted", "inheritedTags", "Reaction", "nip27_exports", "parse3", "noCharacter", "noURLCharacter", "content", "max", "prevIndex", "index", "u", "m", "end", "type", "_err", "prefixLen", "nip28_exports", "channelCreateEvent", "channelHideMessageEvent", "channelMessageEvent", "channelMetadataEvent", "channelMuteUserEvent", "ChannelCreation", "ChannelMetadata", "ChannelMessage", "ChannelHideMessage", "ChannelMuteUser", "nip30_exports", "EMOJI_SHORTCODE_REGEX", "matchAll", "regex", "replaceAll", "matches", "shortcode", "replacer", "nip39_exports", "useFetchImplementation3", "validateGithub", "_fetch3", "username", "proof", "nip47_exports", "makeNwcRequestEvent", "parseConnectionString", "connectionString", "host", "pathname", "searchParams", "relay", "secret", "invoice", "encryptedContent", "eventTemplate", "NWCWalletRequest", "nip54_exports", "normalizeIdentifier", "char", "nip57_exports", "getSatoshisAmountFromBolt11", "getZapEndpoint", "makeZapReceipt", "makeZapRequest", "useFetchImplementation4", "validateZapRequest", "_fetch4", "metadata", "lnurl", "lud06", "lud16", "words", "bech32", "body", "err", "params", "zr", "isReplaceableKind", "isAddressableKind", "d", "v", "zapRequestString", "zapRequest", "validateEvent", "preimage", "bolt11", "paidAt", "tagsFromZapRequest", "zap", "hrp", "amount", "digit", "isDigit", "cutPoint", "nip98_exports", "getToken", "hashPayload", "unpackEventFromToken", "validateEvent2", "validateEventKind", "validateEventMethodTag", "validateEventPayloadTag", "validateEventTimestamp", "validateEventUrlTag", "validateToken", "_authorizationScheme", "loginUrl", "httpMethod", "sign", "includeAuthorizationScheme", "HTTPAuth", "signedEvent", "token", "method", "eventB64", "urlTag", "methodTag", "hash", "payloadTag", "payloadHash", "import_react", "import_react", "crypto", "isBytes", "a", "anumber", "n", "abytes", "b", "lengths", "ahash", "h", "aexists", "instance", "checkFinished", "aoutput", "out", "min", "clean", "arrays", "i", "createView", "arr", "rotr", "word", "shift", "rotl", "hasHexBuiltin", "hexes", "_", "i", "bytesToHex", "bytes", "abytes", "hex", "asciis", "asciiToBase16", "ch", "hexToBytes", "hl", "al", "array", "ai", "hi", "n1", "n2", "char", "utf8ToBytes", "str", "toBytes", "data", "utf8ToBytes", "abytes", "kdfInputToBytes", "concatBytes", "arrays", "sum", "i", "a", "res", "pad", "checkOpts", "defaults", "opts", "Hash", "createHasher", "hashCons", "hashC", "msg", "tmp", "randomBytes", "bytesLength", "crypto", "setBigUint64", "view", "byteOffset", "value", "isLE", "_32n", "_u32_max", "wh", "wl", "h", "l", "Chi", "a", "b", "c", "Maj", "HashMD", "Hash", "blockLen", "outputLen", "padOffset", "createView", "data", "aexists", "toBytes", "abytes", "buffer", "len", "pos", "take", "dataView", "out", "aoutput", "clean", "i", "oview", "outLen", "state", "res", "to", "length", "finished", "destroyed", "SHA256_IV", "SHA512_IV", "U32_MASK64", "_32n", "fromBig", "n", "le", "split", "lst", "len", "Ah", "Al", "h", "l", "shrSH", "h", "_l", "s", "shrSL", "l", "rotrSH", "rotrSL", "rotrBH", "rotrBL", "add", "Ah", "Al", "Bh", "Bl", "l", "add3L", "Cl", "add3H", "low", "Ch", "add4L", "Dl", "add4H", "Dh", "add5L", "El", "add5H", "Eh", "SHA256_K", "SHA256_W", "SHA256", "HashMD", "outputLen", "SHA256_IV", "A", "B", "C", "D", "E", "F", "G", "H", "view", "offset", "i", "W15", "W2", "s0", "rotr", "s1", "sigma1", "T1", "Chi", "T2", "Maj", "clean", "K512", "split", "n", "SHA512_Kh", "SHA512_Kl", "SHA512_W_H", "SHA512_W_L", "SHA512", "HashMD", "outputLen", "SHA512_IV", "Ah", "Al", "Bh", "Bl", "Ch", "Cl", "Dh", "Dl", "Eh", "El", "Fh", "Fl", "Gh", "Gl", "Hh", "Hl", "view", "offset", "i", "W15h", "W15l", "s0h", "rotrSH", "shrSH", "s0l", "rotrSL", "shrSL", "W2h", "W2l", "s1h", "rotrBH", "s1l", "rotrBL", "SUMl", "add4L", "SUMh", "add4H", "sigma1h", "sigma1l", "CHIh", "CHIl", "T1ll", "add5L", "T1h", "add5H", "T1l", "sigma0h", "sigma0l", "MAJh", "MAJl", "add", "All", "add3L", "add3H", "clean", "sha256", "createHasher", "SHA256", "sha512", "createHasher", "SHA512", "sha256", "assert_exports", "__export", "is_hex", "is_json", "is_prefix", "is_safe_num", "within_size", "data", "size", "hex", "str", "e", "num", "actual", "target", "ec", "dc", "strToBytes", "str", "bytesToStr", "bytes", "hex_size", "hexstr", "size", "is_hex", "len", "hexToBytes", "endian", "use_le", "buffer", "dataView", "offset", "i", "char", "num", "bytesToHex", "chars", "isBytes", "a", "abytes", "b", "lengths", "isArrayOf", "isString", "arr", "item", "afn", "input", "astr", "label", "anumber", "n", "aArr", "astrArr", "anumArr", "chain", "args", "id", "wrap", "c", "encode", "x", "decode", "alphabet", "letters", "lettersA", "len", "indexes", "l", "digits", "letter", "i", "join", "separator", "from", "to", "padding", "bits", "chr", "data", "end", "convertRadix", "data", "from", "to", "aArr", "pos", "res", "digits", "d", "anumber", "dlen", "carry", "done", "i", "digit", "fromCarry", "digitBase", "div", "rounded", "gcd", "a", "b", "radix2carry", "powers", "convertRadix2", "padding", "max", "mask", "n", "pow", "radix", "num", "_256", "bytes", "isBytes", "anumArr", "radix2", "bits", "revPadding", "unsafeWrapper", "fn", "afn", "args", "e", "checksum", "len", "sum", "payload", "oldChecksum", "newChecksum", "hasBase64Builtin", "base64", "b", "abytes", "s", "astr", "chain", "radix2", "alphabet", "padding", "join", "base64urlnopad", "chain", "radix2", "alphabet", "join", "genBase58", "abc", "radix", "base58", "createBase58check", "sha256", "chain", "checksum", "data", "base58", "base58check", "BECH_ALPHABET", "alphabet", "join", "POLYMOD_GENERATORS", "bech32Polymod", "pre", "b", "chk", "i", "bechChecksum", "prefix", "words", "encodingConst", "len", "c", "v", "convertRadix2", "powers", "genBech32", "encoding", "ENCODING_CONST", "_words", "radix2", "fromWords", "toWords", "fromWordsUnsafe", "unsafeWrapper", "encode", "limit", "astr", "isBytes", "anumArr", "plen", "actualLength", "lowered", "sum", "decode", "str", "slen", "sepIndex", "decodeUnsafe", "decodeToBytes", "encodeFromBytes", "bytes", "bech32", "bech32m", "B58chk", "data", "base58check", "sha256", "Base64", "base64", "B64url", "base64urlnopad", "Bech32", "bech32", "prefix", "words", "limit", "Bech32m", "bech32m", "_0n", "_255n", "_256n", "big_size", "big", "bigToBytes", "size", "endian", "use_le", "buffer", "dataView", "offset", "byte", "num", "bytesToBig", "bytes", "i", "binToBytes", "binary", "bins", "bytes", "i", "ct", "byte", "j", "bytesToBin", "bin", "count", "num", "num_size", "num", "numToBytes", "size", "endian", "use_le", "buffer", "dataView", "offset", "byte", "bytesToNum", "bytes", "i", "is_safe_num", "utils_exports", "__export", "bigint_replacer", "bigint_reviver", "is_bytes", "is_hex", "join_array", "parse_data", "set_buffer", "is_hex", "input", "is_bytes", "e", "set_buffer", "data", "size", "endian", "within_size", "buffer", "offset", "join_array", "arr", "i", "len", "buff", "a", "bigint_replacer", "_", "v", "bigint_reviver", "parse_data", "data_blob", "chunk_size", "total_size", "count", "chunks", "idx", "buffer_data", "data", "size", "endian", "set_buffer", "bytes", "e", "join_array", "hexToBytes", "bigToBytes", "numToBytes", "_Buff", "size", "rand", "randomBytes", "stamp", "data", "endian", "buffer", "buffer_data", "Stream", "bytes", "bytesToNum", "bytesToBig", "bytesToBin", "digest", "sha256", "reviver", "bigint_reviver", "str", "bytesToStr", "prefix", "limit", "encode", "to_words", "Bech32", "words", "Bech32m", "bytesToHex", "B58chk", "Base64", "B64url", "arr", "start", "end", "array", "offset", "begin", "b", "args", "e", "joined", "join_array", "hex", "num", "numToBuff", "bigToBuff", "binToBuff", "rawToBuff", "strToBuff", "hexToBuff", "jsonToBuff", "base64ToBuff", "b64urlToBuff", "bech32ToBuff", "bech32mToBuff", "b58chkToBuff", "strToBytes", "parse_data", "is_bytes", "is_hex", "is_equal", "Buff", "number", "binToBytes", "bigint", "replacer", "bigint_replacer", "chk_prefix", "decode", "to_bytes", "is_prefix", "data_blob", "chunk_size", "total_size", "a", "chunk", "HMAC", "Hash", "hash", "_key", "ahash", "key", "toBytes", "blockLen", "pad", "i", "clean", "buf", "aexists", "out", "abytes", "to", "oHash", "iHash", "finished", "destroyed", "outputLen", "hmac", "message", "_0n", "_1n", "isBytes", "a", "abytes", "item", "abool", "title", "value", "numberToHexUnpadded", "num", "hex", "hexToNumber", "hasHexBuiltin", "hexes", "_", "i", "bytesToHex", "bytes", "asciis", "asciiToBase16", "ch", "hexToBytes", "hl", "al", "array", "ai", "hi", "n1", "n2", "char", "bytesToNumberBE", "bytesToNumberLE", "numberToBytesBE", "n", "len", "numberToBytesLE", "ensureBytes", "title", "hex", "expectedLength", "res", "hexToBytes", "e", "isBytes", "len", "concatBytes", "arrays", "sum", "i", "a", "abytes", "pad", "isPosBig", "n", "_0n", "inRange", "min", "max", "aInRange", "title", "bitLen", "len", "_1n", "bitMask", "n", "_1n", "u8n", "len", "u8fr", "arr", "createHmacDrbg", "hashLen", "qByteLen", "hmacFn", "v", "k", "reset", "h", "b", "reseed", "seed", "gen", "out", "sl", "concatBytes", "pred", "res", "validatorFns", "val", "isBytes", "object", "validateObject", "validators", "optValidators", "checkField", "fieldName", "type", "isOptional", "checkVal", "memoized", "fn", "map", "arg", "args", "val", "computed", "_0n", "_1n", "_2n", "_3n", "_4n", "_5n", "_8n", "mod", "a", "b", "result", "pow2", "x", "power", "modulo", "res", "_0n", "invert", "number", "a", "mod", "b", "y", "_1n", "u", "v", "q", "r", "m", "n", "sqrt3mod4", "Fp", "p1div4", "_4n", "root", "sqrt5mod8", "p5div8", "_5n", "_8n", "n2", "_2n", "nv", "i", "tonelliShanks", "P", "Q", "S", "Z", "_Fp", "Field", "FpLegendre", "cc", "Q1div2", "M", "c", "t", "R", "t_tmp", "exponent", "FpSqrt", "_3n", "FIELD_FIELDS", "validateField", "field", "initial", "opts", "map", "val", "validateObject", "FpPow", "Fp", "num", "power", "_0n", "_1n", "p", "d", "FpInvertBatch", "nums", "passZero", "inverted", "multipliedAcc", "acc", "i", "invertedAcc", "FpLegendre", "Fp", "n", "p1mod2", "_1n", "_2n", "powered", "yes", "zero", "no", "nLength", "n", "nBitLength", "anumber", "_nBitLength", "nByteLength", "Field", "ORDER", "bitLen", "isLE", "redef", "_0n", "BITS", "BYTES", "sqrtP", "f", "bitMask", "_1n", "num", "mod", "lhs", "rhs", "power", "FpPow", "invert", "FpSqrt", "numberToBytesLE", "numberToBytesBE", "bytes", "bytesToNumberLE", "bytesToNumberBE", "lst", "FpInvertBatch", "a", "b", "c", "getFieldBytesLength", "fieldOrder", "bitLength", "getMinHashLength", "length", "mapHashToField", "key", "isLE", "len", "fieldLen", "minLen", "num", "bytesToNumberLE", "bytesToNumberBE", "reduced", "mod", "_1n", "numberToBytesLE", "numberToBytesBE", "_0n", "_1n", "constTimeNegate", "condition", "item", "neg", "validateW", "W", "bits", "calcWOpts", "scalarBits", "windows", "windowSize", "maxNumber", "mask", "bitMask", "shiftBy", "calcOffsets", "n", "window", "wOpts", "wbits", "nextN", "offsetStart", "offset", "isZero", "isNeg", "isNegF", "validateMSMPoints", "points", "c", "p", "i", "validateMSMScalars", "scalars", "field", "s", "pointPrecomputes", "pointWindowSizes", "getW", "P", "wNAF", "elm", "d", "base", "precomputes", "f", "wo", "offsetF", "acc", "transform", "comp", "prev", "pippenger", "fieldN", "plength", "slength", "zero", "bitLen", "MASK", "buckets", "lastBits", "sum", "j", "scalar", "resI", "sumI", "validateBasic", "curve", "validateField", "validateObject", "__spreadProps", "__spreadValues", "nLength", "validateSigVerOpts", "opts", "abool", "validatePointOpts", "curve", "validateBasic", "validateObject", "endo", "Fp", "a", "__spreadValues", "DERErr", "m", "DER", "tag", "data", "E", "dataLen", "len", "numberToHexUnpadded", "lenLen", "pos", "first", "isLong", "length", "lengthBytes", "b", "v", "num", "_0n", "hex", "bytesToNumberBE", "int", "tlv", "ensureBytes", "seqBytes", "seqLeftBytes", "rBytes", "rLeftBytes", "sBytes", "sLeftBytes", "sig", "rs", "ss", "seq", "numToSizedHex", "size", "bytesToHex", "numberToBytesBE", "_1n", "_2n", "_3n", "_4n", "weierstrassPoints", "CURVE", "Fn", "Field", "toBytes", "_c", "point", "_isCompressed", "concatBytes", "fromBytes", "bytes", "tail", "x", "y", "weierstrassEquation", "x2", "x3", "isValidXY", "left", "right", "_4a3", "_27b2", "isWithinCurveOrder", "inRange", "normPrivateKeyToScalar", "key", "lengths", "nByteLength", "wrapPrivateKey", "N", "isBytes", "error", "mod", "aInRange", "aprjpoint", "other", "Point", "toAffineMemo", "memoized", "p", "iz", "z", "is0", "ax", "ay", "zz", "assertValidMemo", "px", "py", "pz", "i", "points", "toInv", "FpInvertBatch", "P", "privateKey", "scalars", "pippenger", "windowSize", "wnaf", "X1", "Y1", "Z1", "X2", "Y2", "Z2", "U1", "U2", "b3", "X3", "Y3", "Z3", "t0", "t1", "t2", "t3", "t4", "t5", "n", "sc", "I", "k1neg", "k1", "k2neg", "k2", "k1p", "k2p", "d", "scalar", "fake", "f1p", "f2p", "f", "Q", "G", "mul", "sum", "cofactor", "isTorsionFree", "clearCofactor", "isCompressed", "nBitLength", "wNAF", "validateOpts", "weierstrass", "curveDef", "CURVE_ORDER", "compressedLen", "uncompressedLen", "modN", "invN", "invert", "__spreadProps", "cat", "head", "y2", "sqrtError", "suffix", "isYOdd", "cl", "ul", "isBiggerThanHalfOrder", "number", "HALF", "normalizeS", "s", "slcNum", "from", "to", "Signature", "r", "recovery", "l", "msgHash", "rec", "h", "bits2int_modN", "radj", "prefix", "R", "ir", "u1", "u2", "hexToBytes", "utils", "getMinHashLength", "mapHashToField", "getPublicKey", "isProbPub", "item", "fpl", "compLen", "uncompLen", "getSharedSecret", "privateA", "publicB", "bits2int", "delta", "ORDER_MASK", "bitMask", "int2octets", "prepSig", "defaultSigOpts", "k", "hash", "randomBytes", "lowS", "prehash", "ent", "h1int", "seedArgs", "e", "seed", "k2sig", "kBytes", "ik", "q", "normS", "defaultVerOpts", "sign", "privKey", "C", "createHmacDrbg", "verify", "signature", "publicKey", "_a", "sg", "format", "isHex", "isObj", "_sig", "derError", "is", "getHash", "hash", "key", "msgs", "hmac", "concatBytes", "randomBytes", "createCurve", "curveDef", "defHash", "create", "weierstrass", "__spreadValues", "__spreadProps", "secp256k1P", "secp256k1N", "_0n", "_1n", "_2n", "divNearest", "a", "b", "sqrtMod", "y", "P", "_3n", "_6n", "_11n", "_22n", "_23n", "_44n", "_88n", "b2", "b3", "b6", "pow2", "b9", "b11", "b22", "b44", "b88", "b176", "b220", "b223", "t1", "t2", "root", "Fpk1", "Field", "secp256k1", "createCurve", "k", "n", "a1", "b1", "a2", "POW_2_128", "c1", "c2", "k1", "mod", "k2", "k1neg", "k2neg", "sha256", "TAGGED_HASH_PREFIXES", "taggedHash", "tag", "messages", "tagP", "tagH", "c", "concatBytes", "pointToBytes", "point", "numTo32b", "numberToBytesBE", "modP", "x", "modN", "Point", "GmulAdd", "Q", "schnorrGetExtPubKey", "priv", "d_", "p", "lift_x", "aInRange", "xx", "num", "bytesToNumberBE", "challenge", "args", "schnorrGetPublicKey", "privateKey", "schnorrSign", "message", "auxRand", "randomBytes", "m", "ensureBytes", "px", "d", "t", "rand", "k_", "rx", "e", "sig", "schnorrVerify", "signature", "publicKey", "pub", "r", "inRange", "s", "R", "error", "schnorr", "isBytes", "a", "abool", "b", "anumber", "n", "abytes", "lengths", "aexists", "instance", "checkFinished", "aoutput", "out", "abytes", "min", "u8", "arr", "u32", "clean", "arrays", "i", "createView", "isLE", "utf8ToBytes", "str", "toBytes", "data", "utf8ToBytes", "isBytes", "copyBytes", "overlapBytes", "a", "b", "complexOverlapBytes", "input", "output", "checkOpts", "defaults", "opts", "equalBytes", "a", "b", "diff", "i", "wrapCipher", "params", "constructor", "wrappedCipher", "key", "args", "abytes", "isLE", "nonce", "tagl", "cipher", "checkOutput", "fnLength", "output", "called", "data", "getOutput", "expectedLength", "out", "onlyAligned", "isAligned32", "setBigUint64", "view", "byteOffset", "value", "_32n", "_u32_max", "wh", "wl", "h", "l", "u64Lengths", "dataLength", "aadLength", "abool", "num", "createView", "bytes", "copyBytes", "BLOCK_SIZE", "ZEROS16", "ZEROS32", "u32", "POLY", "mul2", "s0", "s1", "s2", "s3", "hiBit", "swapLE", "n", "_toGHASHKey", "k", "carry", "i", "t", "estimateWindow", "bytes", "GHASH", "key", "expectedLength", "toBytes", "abytes", "kView", "createView", "k0", "k1", "k2", "k3", "doubles", "W", "windows", "windowSize", "items", "w", "byte", "j", "d0", "d1", "d2", "d3", "o0", "o1", "o2", "o3", "mask", "num", "bytePos", "bitPos", "bit", "e0", "e1", "e2", "e3", "data", "aexists", "b32", "blocks", "left", "clean", "elm", "out", "aoutput", "o32", "res", "Polyval", "ghKey", "copyBytes", "wrapConstructorWithKey", "hashCons", "hashC", "msg", "tmp", "ghash", "polyval", "BLOCK_SIZE", "BLOCK_SIZE32", "EMPTY_BLOCK", "POLY", "mul2", "n", "mul", "a", "b", "res", "sbox", "t", "i", "x", "box", "clean", "invSbox", "_", "j", "rotr32_8", "rotl32_8", "genTtable", "sbox", "fn", "T0", "_", "j", "T1", "rotl32_8", "T2", "T3", "T01", "T23", "sbox2", "i", "idx", "tableEncoding", "s", "mul", "tableDecoding", "invSbox", "xPowers", "p", "x", "mul2", "expandKeyLE", "key", "abytes", "len", "toClean", "isAligned32", "copyBytes", "k32", "u32", "Nk", "subByte", "n", "applySbox", "xk", "t", "rotr32_8", "clean", "expandKeyDecLE", "encKey", "w", "apply0123", "s0", "s1", "s2", "s3", "encrypt", "k", "rounds", "t0", "t1", "t2", "t3", "decrypt", "ctr32", "xk", "isLE", "nonce", "src", "dst", "abytes", "BLOCK_SIZE", "getOutput", "ctr", "c32", "u32", "view", "createView", "src32", "dst32", "ctrPos", "srcLen", "ctrNum", "s0", "s1", "s2", "s3", "encrypt", "i", "start", "BLOCK_SIZE32", "b32", "buf", "u8", "pos", "clean", "validateBlockDecrypt", "data", "abytes", "BLOCK_SIZE", "validateBlockEncrypt", "plaintext", "pcks5", "dst", "outLen", "remaining", "isAligned32", "copyBytes", "b", "u32", "left", "getOutput", "complexOverlapBytes", "o", "validatePCKS", "len", "lastByte", "out", "padPCKS", "tmp", "tmp32", "paddingByte", "i", "cbc", "wrapCipher", "key", "iv", "opts", "pcks5", "plaintext", "dst", "xk", "expandKeyLE", "b", "o", "_out", "validateBlockEncrypt", "_iv", "toClean", "isAligned32", "copyBytes", "n32", "u32", "s0", "s1", "s2", "s3", "i", "encrypt", "tmp32", "padPCKS", "clean", "ciphertext", "validateBlockDecrypt", "expandKeyDecLE", "getOutput", "complexOverlapBytes", "ps0", "ps1", "ps2", "ps3", "o0", "o1", "o2", "o3", "decrypt", "validatePCKS", "computeTag", "fn", "isLE", "key", "data", "AAD", "aadLength", "h", "num", "u64Lengths", "res", "clean", "gcm", "wrapCipher", "nonce", "tagLength", "_computeTag", "authKey", "tagMask", "tag", "ghash", "i", "deriveKeys", "xk", "expandKeyLE", "EMPTY_BLOCK", "counter", "ctr32", "nonceLen", "view", "createView", "setBigUint64", "g", "plaintext", "out", "toClean", "isAligned32", "copyBytes", "ciphertext", "passedTag", "equalBytes", "get_pubkey", "seckey", "pbytes", "schnorr", "Buff", "get_shared_secret", "peer_pk", "pubkey", "sbytes", "secp256k1", "sign_msg", "message", "sig", "verify_sig", "signature", "encrypt_content", "secret", "content", "iv", "cbytes", "vector", "encrypted", "gcm", "decrypt_content", "encryped", "decrypted", "gen_message_id", "Buff", "get_event_id", "template", "preimg", "get_tags", "event", "tag", "e", "is_recipient", "pubkey", "external_exports", "__export", "BRAND", "DIRTY", "EMPTY_PATH", "INVALID", "NEVER", "OK", "ParseStatus", "ZodType", "ZodAny", "ZodArray", "ZodBigInt", "ZodBoolean", "ZodBranded", "ZodCatch", "ZodDate", "ZodDefault", "ZodDiscriminatedUnion", "ZodEffects", "ZodEnum", "ZodError", "ZodFirstPartyTypeKind", "ZodFunction", "ZodIntersection", "ZodIssueCode", "ZodLazy", "ZodLiteral", "ZodMap", "ZodNaN", "ZodNativeEnum", "ZodNever", "ZodNull", "ZodNullable", "ZodNumber", "ZodObject", "ZodOptional", "ZodParsedType", "ZodPipeline", "ZodPromise", "ZodReadonly", "ZodRecord", "ZodSet", "ZodString", "ZodSymbol", "ZodTuple", "ZodUndefined", "ZodUnion", "ZodUnknown", "ZodVoid", "addIssueToContext", "anyType", "arrayType", "bigIntType", "booleanType", "coerce", "custom", "dateType", "datetimeRegex", "en_default", "discriminatedUnionType", "effectsType", "enumType", "functionType", "getErrorMap", "getParsedType", "instanceOfType", "intersectionType", "isAborted", "isAsync", "isDirty", "isValid", "late", "lazyType", "literalType", "makeIssue", "mapType", "nanType", "nativeEnumType", "neverType", "nullType", "nullableType", "numberType", "objectType", "objectUtil", "oboolean", "onumber", "optionalType", "ostring", "pipelineType", "preprocessType", "promiseType", "quotelessJson", "recordType", "setType", "setErrorMap", "strictObjectType", "stringType", "symbolType", "tupleType", "undefinedType", "unionType", "unknownType", "util", "voidType", "util", "_", "assertIs", "_arg", "assertNever", "_x", "items", "obj", "item", "validKeys", "k", "filtered", "e", "object", "keys", "key", "arr", "checker", "val", "joinValues", "array", "separator", "value", "objectUtil", "first", "second", "__spreadValues", "ZodParsedType", "getParsedType", "data", "ZodIssueCode", "util", "quotelessJson", "obj", "ZodError", "_ZodError", "issues", "sub", "subs", "actualProto", "_mapper", "mapper", "issue", "fieldErrors", "processError", "error", "curr", "i", "el", "value", "formErrors", "errorMap", "issue", "_ctx", "message", "ZodIssueCode", "ZodParsedType", "util", "en_default", "overrideErrorMap", "en_default", "setErrorMap", "map", "overrideErrorMap", "getErrorMap", "makeIssue", "params", "data", "path", "errorMaps", "issueData", "fullPath", "fullIssue", "__spreadProps", "__spreadValues", "errorMessage", "maps", "m", "map", "EMPTY_PATH", "addIssueToContext", "ctx", "overrideMap", "getErrorMap", "issue", "en_default", "x", "ParseStatus", "_ParseStatus", "status", "results", "arrayValue", "s", "INVALID", "pairs", "syncPairs", "pair", "key", "value", "finalObject", "DIRTY", "OK", "isAborted", "isDirty", "isValid", "isAsync", "errorUtil", "message", "ParseInputLazyPath", "parent", "value", "path", "key", "handleResult", "ctx", "result", "isValid", "error", "ZodError", "processCreateParams", "params", "errorMap", "invalid_type_error", "required_error", "description", "iss", "_a", "_b", "message", "ZodType", "input", "getParsedType", "ParseStatus", "isAsync", "data", "err", "maybeAsyncResult", "check", "getIssueProperties", "val", "setError", "__spreadValues", "ZodIssueCode", "refinementData", "refinement", "ZodEffects", "ZodFirstPartyTypeKind", "def", "ZodOptional", "ZodNullable", "ZodArray", "ZodPromise", "option", "ZodUnion", "incoming", "ZodIntersection", "transform", "__spreadProps", "defaultValueFunc", "ZodDefault", "ZodBranded", "catchValueFunc", "ZodCatch", "This", "target", "ZodPipeline", "ZodReadonly", "cuidRegex", "cuid2Regex", "ulidRegex", "uuidRegex", "nanoidRegex", "jwtRegex", "durationRegex", "emailRegex", "_emojiRegex", "emojiRegex", "ipv4Regex", "ipv4CidrRegex", "ipv6Regex", "ipv6CidrRegex", "base64Regex", "base64urlRegex", "dateRegexSource", "dateRegex", "timeRegexSource", "args", "secondsRegexSource", "secondsQuantifier", "timeRegex", "datetimeRegex", "regex", "opts", "isValidIP", "ip", "version", "isValidJWT", "jwt", "alg", "header", "base64", "decoded", "e", "isValidCidr", "ZodString", "_ZodString", "ZodParsedType", "addIssueToContext", "INVALID", "status", "tooBig", "tooSmall", "util", "validation", "errorUtil", "options", "minLength", "maxLength", "len", "ch", "min", "max", "floatSafeRemainder", "step", "valDecCount", "stepDecCount", "decCount", "valInt", "stepInt", "ZodNumber", "_ZodNumber", "kind", "inclusive", "ZodBigInt", "_ZodBigInt", "ZodBoolean", "OK", "ZodDate", "_ZodDate", "minDate", "maxDate", "ZodSymbol", "ZodUndefined", "ZodNull", "ZodAny", "ZodUnknown", "ZodNever", "ZodVoid", "_ZodArray", "item", "i", "schema", "deepPartialify", "ZodObject", "newShape", "fieldSchema", "ZodTuple", "_ZodObject", "shape", "keys", "shapeKeys", "extraKeys", "pairs", "keyValidator", "unknownKeys", "catchall", "syncPairs", "pair", "issue", "_c", "_d", "defaultError", "augmentation", "merging", "index", "mask", "newField", "createZodEnum", "handleResults", "results", "unionErrors", "childCtx", "dirty", "issues", "types", "getDiscriminator", "type", "ZodLazy", "ZodLiteral", "ZodEnum", "ZodNativeEnum", "ZodDiscriminatedUnion", "_ZodDiscriminatedUnion", "discriminator", "discriminatorValue", "optionsMap", "discriminatorValues", "mergeValues", "a", "b", "aType", "bType", "bKeys", "sharedKeys", "newObj", "sharedValue", "newArray", "itemA", "itemB", "handleParsed", "parsedLeft", "parsedRight", "isAborted", "merged", "isDirty", "left", "right", "_ZodTuple", "items", "itemIndex", "x", "rest", "schemas", "ZodRecord", "_ZodRecord", "keyType", "valueType", "first", "second", "third", "ZodMap", "finalMap", "ZodSet", "_ZodSet", "finalizeSet", "elements", "parsedSet", "element", "minSize", "maxSize", "size", "ZodFunction", "_ZodFunction", "makeArgsIssue", "makeIssue", "getErrorMap", "en_default", "makeReturnsIssue", "returns", "fn", "me", "parsedArgs", "parsedReturns", "returnType", "func", "getter", "values", "_ZodEnum", "expectedValues", "enumValues", "newDef", "opt", "nativeEnumValues", "promisified", "effect", "checkCtx", "arg", "processed", "DIRTY", "executeRefinement", "acc", "inner", "base", "preprocess", "ZodOptional", "ZodType", "input", "ZodParsedType", "OK", "type", "params", "__spreadValues", "ZodFirstPartyTypeKind", "processCreateParams", "ZodNullable", "ZodDefault", "ctx", "data", "ZodCatch", "newCtx", "__spreadProps", "result", "isAsync", "ZodError", "ZodNaN", "addIssueToContext", "ZodIssueCode", "INVALID", "BRAND", "ZodBranded", "ZodPipeline", "_ZodPipeline", "status", "inResult", "DIRTY", "a", "b", "ZodReadonly", "freeze", "isValid", "cleanParams", "p", "custom", "check", "_params", "fatal", "ZodAny", "_a", "_b", "r", "_fatal", "late", "ZodObject", "ZodFirstPartyTypeKind", "instanceOfType", "cls", "params", "custom", "data", "stringType", "ZodString", "numberType", "ZodNumber", "nanType", "ZodNaN", "bigIntType", "ZodBigInt", "booleanType", "ZodBoolean", "dateType", "ZodDate", "symbolType", "ZodSymbol", "undefinedType", "ZodUndefined", "nullType", "ZodNull", "anyType", "ZodAny", "unknownType", "ZodUnknown", "neverType", "ZodNever", "voidType", "ZodVoid", "arrayType", "ZodArray", "objectType", "ZodObject", "strictObjectType", "unionType", "ZodUnion", "discriminatedUnionType", "ZodDiscriminatedUnion", "intersectionType", "ZodIntersection", "tupleType", "ZodTuple", "recordType", "ZodRecord", "mapType", "ZodMap", "setType", "ZodSet", "functionType", "ZodFunction", "lazyType", "ZodLazy", "literalType", "ZodLiteral", "enumType", "ZodEnum", "nativeEnumType", "ZodNativeEnum", "promiseType", "ZodPromise", "effectsType", "ZodEffects", "optionalType", "ZodOptional", "nullableType", "ZodNullable", "preprocessType", "pipelineType", "ZodPipeline", "ostring", "onumber", "oboolean", "coerce", "arg", "__spreadProps", "__spreadValues", "NEVER", "INVALID", "v3_default", "external_exports", "esm_default", "v3_default", "big", "external_exports", "bool", "date", "num", "uint", "str", "stamp", "url", "any", "hex", "literal", "hex16", "hex20", "hex32", "hex64", "pubkey", "base58", "base64", "b64url", "bech32", "base_default", "tags", "base_default", "template", "external_exports", "unsigned", "signed", "event_default", "mid", "base_default", "payload", "topic", "envelope", "external_exports", "msg_default", "schema_default", "base_default", "event_default", "msg_default", "Assert", "ok", "value", "message", "exists", "input", "err_msg", "size", "bytes", "Buff", "now", "parse_error", "err", "create_event", "config", "payload", "peer_pk", "seckey", "_a", "created_at", "now", "pubkey", "get_pubkey", "secret", "get_shared_secret", "content", "encrypt_content", "event", "__spreadProps", "__spreadValues", "sign_event", "template", "id", "get_event_id", "sig", "sign_msg", "verify_event", "__objRest", "parsed", "schema_default", "vid", "verify_sig", "decrypt_payload", "event", "seckey", "error", "verify_event", "pubkey", "get_pubkey", "is_recipient", "secret", "get_shared_secret", "content", "decrypt_content", "finalize_message", "template", "_a", "id", "gen_message_id", "__spreadProps", "__spreadValues", "create_payload", "tag", "data", "err", "parse_envelope", "envelope", "parsed", "schema_default", "verify_relays", "relays", "schema_default", "verify_seckey", "seckey", "hash_exports", "__export", "H1", "H2", "H3", "H4", "H5", "_0n", "_1n", "abool", "title", "value", "numberToHexUnpadded", "num", "hex", "hexToNumber", "bytesToNumberBE", "bytes", "bytesToHex", "bytesToNumberLE", "abytes", "numberToBytesBE", "n", "len", "hexToBytes", "numberToBytesLE", "ensureBytes", "title", "hex", "expectedLength", "res", "hexToBytes", "e", "isBytes", "len", "isPosBig", "n", "_0n", "inRange", "min", "max", "aInRange", "title", "bitLen", "len", "_1n", "bitMask", "n", "_1n", "createHmacDrbg", "hashLen", "qByteLen", "hmacFn", "u8n", "len", "u8of", "byte", "v", "k", "i", "reset", "h", "b", "reseed", "seed", "gen", "out", "sl", "concatBytes", "pred", "res", "isHash", "val", "_validateObject", "object", "fields", "optFields", "checkField", "fieldName", "expectedType", "isOpt", "current", "k", "v", "memoized", "fn", "map", "arg", "args", "val", "computed", "_0n", "_1n", "_2n", "_3n", "_4n", "_5n", "_8n", "mod", "a", "b", "result", "pow2", "x", "power", "modulo", "res", "_0n", "invert", "number", "a", "mod", "b", "y", "_1n", "u", "v", "q", "r", "m", "n", "sqrt3mod4", "Fp", "p1div4", "_4n", "root", "sqrt5mod8", "p5div8", "_5n", "_8n", "n2", "_2n", "nv", "i", "tonelliShanks", "P", "Q", "S", "Z", "_Fp", "Field", "FpLegendre", "cc", "Q1div2", "M", "c", "t", "R", "t_tmp", "exponent", "FpSqrt", "_3n", "FIELD_FIELDS", "validateField", "field", "initial", "opts", "map", "val", "_validateObject", "FpPow", "Fp", "num", "power", "_0n", "_1n", "p", "d", "FpInvertBatch", "nums", "passZero", "inverted", "multipliedAcc", "acc", "i", "invertedAcc", "FpLegendre", "Fp", "n", "p1mod2", "_1n", "_2n", "powered", "yes", "zero", "no", "nLength", "n", "nBitLength", "anumber", "_nBitLength", "nByteLength", "Field", "ORDER", "bitLenOrOpts", "isLE", "opts", "_0n", "_nbitLength", "_sqrt", "_opts", "BITS", "BYTES", "sqrtP", "f", "bitMask", "_1n", "num", "mod", "lhs", "rhs", "power", "FpPow", "invert", "FpSqrt", "numberToBytesLE", "numberToBytesBE", "bytes", "bytesToNumberLE", "bytesToNumberBE", "lst", "FpInvertBatch", "a", "b", "c", "getFieldBytesLength", "fieldOrder", "bitLength", "getMinHashLength", "length", "mapHashToField", "key", "isLE", "len", "fieldLen", "minLen", "num", "bytesToNumberLE", "bytesToNumberBE", "reduced", "mod", "_1n", "numberToBytesLE", "numberToBytesBE", "_0n", "_1n", "negateCt", "condition", "item", "neg", "normalizeZ", "c", "property", "points", "getz", "p", "toInv", "FpInvertBatch", "i", "validateW", "W", "bits", "calcWOpts", "scalarBits", "windows", "windowSize", "maxNumber", "mask", "bitMask", "shiftBy", "calcOffsets", "n", "window", "wOpts", "wbits", "nextN", "offsetStart", "offset", "isZero", "isNeg", "isNegF", "validateMSMPoints", "validateMSMScalars", "scalars", "field", "s", "pointPrecomputes", "pointWindowSizes", "getW", "P", "assert0", "wNAF", "elm", "d", "base", "precomputes", "f", "wo", "offsetF", "acc", "transform", "comp", "prev", "mulEndoUnsafe", "point", "k1", "k2", "p1", "p2", "pippenger", "fieldN", "plength", "slength", "zero", "bitLen", "MASK", "buckets", "lastBits", "sum", "j", "scalar", "resI", "sumI", "createField", "order", "field", "validateField", "Field", "_createCurveFields", "type", "CURVE", "curveOpts", "p", "val", "_0n", "Fp", "Fn", "params", "validateSigVerOpts", "opts", "abool", "DERErr", "m", "DER", "tag", "data", "E", "dataLen", "len", "numberToHexUnpadded", "lenLen", "pos", "first", "isLong", "length", "lengthBytes", "b", "v", "num", "_0n", "hex", "bytesToNumberBE", "int", "tlv", "ensureBytes", "seqBytes", "seqLeftBytes", "rBytes", "rLeftBytes", "sBytes", "sLeftBytes", "sig", "rs", "ss", "seq", "_1n", "_2n", "_3n", "_4n", "_legacyHelperEquat", "Fp", "a", "weierstrassEquation", "x", "x2", "x3", "_legacyHelperNormPriv", "Fn", "allowedPrivateKeyLengths", "wrapPrivateKey", "expected", "normPrivateKeyToScalar", "key", "bytes", "padded", "error", "weierstrassN", "CURVE", "curveOpts", "_createCurveFields", "cofactor", "CURVE_ORDER", "_validateObject", "endo", "assertCompressionIsSupported", "pointToBytes", "_c", "point", "isCompressed", "y", "bx", "hasEvenY", "concatBytes", "pprefix", "pointFromBytes", "abytes", "L", "LC", "LU", "head", "tail", "y2", "sqrtError", "err", "isYOdd", "isValidXY", "toBytes", "fromBytes", "left", "right", "_4a3", "_27b2", "acoord", "title", "n", "banZero", "aprjpoint", "other", "Point", "toAffineMemo", "memoized", "p", "iz", "z", "is0", "ax", "ay", "zz", "assertValidMemo", "finishEndo", "endoBeta", "k1p", "k2p", "k1neg", "k2neg", "negateCt", "px", "py", "pz", "points", "normalizeZ", "P", "privateKey", "scalars", "pippenger", "windowSize", "isLazy", "wnaf", "X1", "Y1", "Z1", "X2", "Y2", "Z2", "U1", "U2", "b3", "X3", "Y3", "Z3", "t0", "t1", "t2", "t3", "t4", "t5", "scalar", "fake", "mul", "k1", "k2", "k1f", "k2f", "f", "sc", "p1", "p2", "mulEndoUnsafe", "Q", "sum", "invertedZ", "isTorsionFree", "clearCofactor", "bytesToHex", "bits", "wNAF", "pprefix", "hasEvenY", "ecdsa", "Point", "ecdsaOpts", "curveOpts", "_validateObject", "randomBytes_", "randomBytes", "hmac_", "key", "msgs", "hmac", "concatBytes", "Fp", "Fn", "CURVE_ORDER", "fnBits", "isBiggerThanHalfOrder", "number", "HALF", "_1n", "normalizeS", "s", "aValidRS", "title", "num", "Signature", "r", "recovery", "hex", "L", "b", "ensureBytes", "DER", "msgHash", "FIELD_ORDER", "rec", "_2n", "radj", "x", "R", "ir", "h", "bits2int_modN", "u1", "u2", "Q", "format", "hexToBytes", "bytesToHex", "normPrivateKeyToScalar", "_legacyHelperNormPriv", "utils", "privateKey", "error", "n", "mapHashToField", "getMinHashLength", "windowSize", "point", "getPublicKey", "isCompressed", "isProbPub", "item", "length", "LC", "LU", "getSharedSecret", "privateA", "publicB", "bits2int", "bytes", "bytesToNumberBE", "delta", "ORDER_MASK", "bitMask", "int2octets", "aInRange", "_0n", "prepSig", "opts", "defaultSigOpts", "k", "hash", "lowS", "prehash", "ent", "validateSigVerOpts", "h1int", "d", "seedArgs", "e", "seed", "m", "k2sig", "kBytes", "ik", "q", "normS", "defaultVerOpts", "sign", "privKey", "createHmacDrbg", "verify", "signature", "publicKey", "sg", "isHex", "isBytes", "isObj", "_sig", "P", "derError", "is", "_weierstrass_legacy_opts_to_new", "c", "CURVE", "Field", "_ecdsa_legacy_opts_to_new", "_ecdsa_new_output_to_legacy", "c", "ecdsa", "weierstrass", "CURVE", "curveOpts", "ecdsaOpts", "_ecdsa_legacy_opts_to_new", "Point", "weierstrassN", "signs", "createCurve", "curveDef", "defHash", "create", "hash", "weierstrass", "__spreadProps", "__spreadValues", "os2ip", "bytesToNumberBE", "i2osp", "value", "length", "anum", "res", "i", "strxor", "a", "b", "arr", "item", "expand_message_xmd", "msg", "DST", "lenInBytes", "H", "abytes", "concatBytes", "utf8ToBytes", "b_in_bytes", "r_in_bytes", "ell", "DST_prime", "Z_pad", "l_i_b_str", "b_0", "args", "expand_message_xof", "k", "dkLen", "hash_to_field", "count", "options", "_validateObject", "p", "m", "hash", "expand", "_DST", "isBytes", "isHash", "log2p", "L", "len_in_bytes", "prb", "u", "e", "j", "elm_offset", "tv", "mod", "secp256k1_CURVE", "_0n", "_1n", "_2n", "divNearest", "a", "b", "sqrtMod", "y", "P", "_3n", "_6n", "_11n", "_22n", "_23n", "_44n", "_88n", "b2", "b3", "b6", "pow2", "b9", "b11", "b22", "b44", "b88", "b176", "b220", "b223", "t1", "t2", "root", "Fpk1", "Field", "secp256k1", "createCurve", "__spreadProps", "__spreadValues", "k", "n", "a1", "b1", "a2", "POW_2_128", "c1", "c2", "k1", "mod", "k2", "k1neg", "k2neg", "sha256", "_0n", "_1n", "_P", "_N", "CURVE", "secp256k1", "FIELD", "Field", "POINT", "DOMAIN", "const_default", "POINT", "_N", "_P", "const_default", "mod_n", "x", "mod", "str_to_bytes", "str", "lift_x", "pubkey", "bytes", "Buff", "POINT", "OPT", "_N", "sha256", "get_opts", "DST", "__spreadProps", "__spreadValues", "H1", "msg", "DOMAIN", "nums", "hash_to_field", "Buff", "H2", "H3", "H4", "str_to_bytes", "hash", "H5", "group_exports", "__export", "DeserializeElement", "DeserializeScalar", "ElementAdd", "ElementAddMany", "Identity", "Order", "RandomScalar", "ScalarBaseMulti", "ScalarMulti", "SerializeElement", "SerializeScalar", "assert_exports", "__export", "equal_arr_size", "exists", "is_equal_set", "is_included", "is_unique_set", "ok", "size", "ok", "value", "message", "exists", "input", "size", "bytes", "Buff", "is_included", "array", "item", "is_unique_set", "x", "e", "is_equal_set", "equal_arr_size", "array_a", "array_b", "taghash", "tag", "hash", "Buff", "hash340", "data", "bytes", "e", "POINT", "_0n", "_1n", "_N", "const_default", "Order", "Identity", "RandomScalar", "bigint", "Buff", "mod_n", "ElementAdd", "A", "B", "assert_exports", "C", "ElementAddMany", "elem", "sum", "p", "c", "ScalarMulti", "k", "pt", "ScalarBaseMulti", "secp256k1", "SerializeElement", "DeserializeElement", "bytes", "hex", "SerializeScalar", "scalar", "DeserializeScalar", "get_pubkey", "secret", "scalar", "Buff", "point", "group_exports", "get_challenge", "pnonce", "pubkey", "message", "grp_pk", "convert_pubkey", "grp_pn", "assert_exports", "hash340", "type", "pub", "Buff", "get_nonce_ids", "pnonces", "pn", "get_commits_prefix", "enc_group_commit", "sorted_pnonces", "a", "b", "idx", "hidden_pn", "binder_pn", "enc_commit", "group_exports", "Buff", "get_group_prefix", "group_pk", "message", "msg_bytes", "msg_hash", "hash_exports", "commit_list", "commit_hash", "get_bind_factor", "binders", "bind", "get_group_binders", "nonces", "prefix", "scalar", "rho_input", "get_group_pubnonce", "group_commit", "hidden_elem", "binding_elem", "bind_factor", "factored_elem", "assert_exports", "get_point_state", "element", "tweaks", "ints", "e", "Buff", "pos", "_1n", "neg", "_N", "point", "parity", "state", "tweak", "_0n", "t", "tG", "ScalarBaseMulti", "ElementAdd", "mod_n", "get_group_key_context", "pubkey", "tweaks", "int_pk", "Buff", "int_pt", "lift_x", "group_pt", "get_point_state", "group_pk", "get_group_commit_context", "key_ctx", "pnonces", "message", "group_pubkey", "bind_prefix", "get_group_prefix", "bind_factors", "get_group_binders", "group_pn", "get_group_pubnonce", "indexes", "get_nonce_ids", "challenge", "get_challenge", "get_group_signing_ctx", "com_ctx", "__spreadValues", "interpolate_x", "L", "x", "assert_exports", "numerator", "_1n", "denominator", "x_j", "mod_n", "FIELD", "calc_lagrange_coeff", "P", "create_ecdh_share", "members", "share", "pubkey", "mbrs", "idx", "i", "secret", "Buff", "point", "lift_x", "L_coeff", "calc_lagrange_coeff", "_0n", "P_coeff", "mod_n", "ecdh_pt", "ecdh_pk", "group_exports", "derive_ecdh_secret", "shares", "pt", "assert_exports", "sign_msg", "ctx", "share", "snonce", "bind_factors", "challenge", "indexes", "Q", "bind_factor", "get_bind_factor", "coefficient", "interpolate_x", "snonce_h", "Buff", "snonce_b", "seckey", "lift_x", "CURVE", "sk", "mod_n", "nk", "ps", "get_pubkey", "combine_partial_sigs", "context", "psigs", "pnonces", "group_pk", "message", "commit_prefix", "get_group_prefix", "group_binders", "get_group_binders", "group_pnonce", "get_group_pubnonce", "e", "acc", "nxt", "_0n", "twk", "s", "verify_partial_sig", "pnonce", "share_pk", "share_psig", "group_pn", "binder", "hidden_elem", "binder_elem", "public_elem", "group_exports", "_1n", "commit_elem", "nonce_elem", "lambda_i", "state", "chal", "sig", "sG", "pki", "R", "create_ecdh_pkg", "members", "ecdh_pk", "secshare", "ecdh_share", "create_ecdh_share", "combine_ecdh_pkgs", "pkgs", "keyshares", "e", "derive_ecdh_secret", "big", "external_exports", "bool", "date", "num", "uint", "str", "stamp", "any", "sats", "literal", "json", "hex", "hex20", "hex32", "hex33", "hex64", "base58", "base64", "base64url", "bech32", "base_default", "policy", "external_exports", "config", "base_default", "data", "peer_default", "cache", "external_exports", "base_default", "middleware", "config", "peer_default", "node_default", "commit", "external_exports", "base_default", "group", "share", "ecdh", "pkg_default", "commit", "pkg_default", "base_default", "member", "psig_entry", "esm_default", "sighash_vec", "template", "session", "psig_pkg", "sign_default", "schema_default", "base_default", "node_default", "peer_default", "pkg_default", "sign_default", "parse_ecdh_message", "msg", "schema", "schema_default", "json", "parsed", "__spreadProps", "__spreadValues", "e", "parse_session_message", "parse_psig_message", "err", "parse_group_pkg", "group_pkg", "parse_share_pkg", "share_pkg", "now", "copy_obj", "obj", "normalize_obj", "_", "value", "sorted", "key", "parse_error", "err", "validate_schema", "schema", "err_msg", "Assert", "ok", "value", "message", "equal", "actual", "expected", "err_msg", "exists", "input", "size", "bytes", "Buff", "schema", "validate_schema", "is_hex", "_0n", "_1n", "abool", "title", "value", "numberToHexUnpadded", "num", "hex", "hexToNumber", "bytesToNumberBE", "bytes", "bytesToHex", "bytesToNumberLE", "abytes", "numberToBytesBE", "n", "len", "hexToBytes", "numberToBytesLE", "ensureBytes", "title", "hex", "expectedLength", "res", "hexToBytes", "e", "isBytes", "len", "isPosBig", "n", "_0n", "inRange", "min", "max", "aInRange", "title", "bitLen", "len", "_1n", "bitMask", "n", "_1n", "createHmacDrbg", "hashLen", "qByteLen", "hmacFn", "u8n", "len", "u8of", "byte", "v", "k", "i", "reset", "h", "b", "reseed", "seed", "gen", "out", "sl", "concatBytes", "pred", "res", "_validateObject", "object", "fields", "optFields", "checkField", "fieldName", "expectedType", "isOpt", "val", "current", "k", "v", "memoized", "fn", "map", "arg", "args", "val", "computed", "_0n", "_1n", "_2n", "_3n", "_4n", "_5n", "_8n", "mod", "a", "b", "result", "pow2", "x", "power", "modulo", "res", "_0n", "invert", "number", "a", "mod", "b", "y", "_1n", "u", "v", "q", "r", "m", "n", "sqrt3mod4", "Fp", "p1div4", "_4n", "root", "sqrt5mod8", "p5div8", "_5n", "_8n", "n2", "_2n", "nv", "i", "tonelliShanks", "P", "Q", "S", "Z", "_Fp", "Field", "FpLegendre", "cc", "Q1div2", "M", "c", "t", "R", "t_tmp", "exponent", "FpSqrt", "_3n", "FIELD_FIELDS", "validateField", "field", "initial", "opts", "map", "val", "_validateObject", "FpPow", "Fp", "num", "power", "_0n", "_1n", "p", "d", "FpInvertBatch", "nums", "passZero", "inverted", "multipliedAcc", "acc", "i", "invertedAcc", "FpLegendre", "Fp", "n", "p1mod2", "_1n", "_2n", "powered", "yes", "zero", "no", "nLength", "n", "nBitLength", "anumber", "_nBitLength", "nByteLength", "Field", "ORDER", "bitLenOrOpts", "isLE", "opts", "_0n", "_nbitLength", "_sqrt", "_opts", "BITS", "BYTES", "sqrtP", "f", "bitMask", "_1n", "num", "mod", "lhs", "rhs", "power", "FpPow", "invert", "FpSqrt", "numberToBytesLE", "numberToBytesBE", "bytes", "bytesToNumberLE", "bytesToNumberBE", "lst", "FpInvertBatch", "a", "b", "c", "getFieldBytesLength", "fieldOrder", "bitLength", "getMinHashLength", "length", "mapHashToField", "key", "isLE", "len", "fieldLen", "minLen", "num", "bytesToNumberLE", "bytesToNumberBE", "reduced", "mod", "_1n", "numberToBytesLE", "numberToBytesBE", "_0n", "_1n", "negateCt", "condition", "item", "neg", "normalizeZ", "c", "property", "points", "getz", "p", "toInv", "FpInvertBatch", "i", "validateW", "W", "bits", "calcWOpts", "scalarBits", "windows", "windowSize", "maxNumber", "mask", "bitMask", "shiftBy", "calcOffsets", "n", "window", "wOpts", "wbits", "nextN", "offsetStart", "offset", "isZero", "isNeg", "isNegF", "validateMSMPoints", "validateMSMScalars", "scalars", "field", "s", "pointPrecomputes", "pointWindowSizes", "getW", "P", "assert0", "wNAF", "elm", "d", "base", "precomputes", "f", "wo", "offsetF", "acc", "transform", "comp", "prev", "mulEndoUnsafe", "point", "k1", "k2", "p1", "p2", "pippenger", "fieldN", "plength", "slength", "zero", "bitLen", "MASK", "buckets", "lastBits", "sum", "j", "scalar", "resI", "sumI", "createField", "order", "field", "validateField", "Field", "_createCurveFields", "type", "CURVE", "curveOpts", "p", "val", "_0n", "Fp", "Fn", "params", "validateSigVerOpts", "opts", "abool", "DERErr", "m", "DER", "tag", "data", "E", "dataLen", "len", "numberToHexUnpadded", "lenLen", "pos", "first", "isLong", "length", "lengthBytes", "b", "v", "num", "_0n", "hex", "bytesToNumberBE", "int", "tlv", "ensureBytes", "seqBytes", "seqLeftBytes", "rBytes", "rLeftBytes", "sBytes", "sLeftBytes", "sig", "rs", "ss", "seq", "_1n", "_2n", "_3n", "_4n", "_legacyHelperEquat", "Fp", "a", "weierstrassEquation", "x", "x2", "x3", "_legacyHelperNormPriv", "Fn", "allowedPrivateKeyLengths", "wrapPrivateKey", "expected", "normPrivateKeyToScalar", "key", "bytes", "padded", "error", "weierstrassN", "CURVE", "curveOpts", "_createCurveFields", "cofactor", "CURVE_ORDER", "_validateObject", "endo", "assertCompressionIsSupported", "pointToBytes", "_c", "point", "isCompressed", "y", "bx", "hasEvenY", "concatBytes", "pprefix", "pointFromBytes", "abytes", "L", "LC", "LU", "head", "tail", "y2", "sqrtError", "err", "isYOdd", "isValidXY", "toBytes", "fromBytes", "left", "right", "_4a3", "_27b2", "acoord", "title", "n", "banZero", "aprjpoint", "other", "Point", "toAffineMemo", "memoized", "p", "iz", "z", "is0", "ax", "ay", "zz", "assertValidMemo", "finishEndo", "endoBeta", "k1p", "k2p", "k1neg", "k2neg", "negateCt", "px", "py", "pz", "points", "normalizeZ", "P", "privateKey", "scalars", "pippenger", "windowSize", "isLazy", "wnaf", "X1", "Y1", "Z1", "X2", "Y2", "Z2", "U1", "U2", "b3", "X3", "Y3", "Z3", "t0", "t1", "t2", "t3", "t4", "t5", "scalar", "fake", "mul", "k1", "k2", "k1f", "k2f", "f", "sc", "p1", "p2", "mulEndoUnsafe", "Q", "sum", "invertedZ", "isTorsionFree", "clearCofactor", "bytesToHex", "bits", "wNAF", "pprefix", "hasEvenY", "ecdsa", "Point", "ecdsaOpts", "curveOpts", "_validateObject", "randomBytes_", "randomBytes", "hmac_", "key", "msgs", "hmac", "concatBytes", "Fp", "Fn", "CURVE_ORDER", "fnBits", "isBiggerThanHalfOrder", "number", "HALF", "_1n", "normalizeS", "s", "aValidRS", "title", "num", "Signature", "r", "recovery", "hex", "L", "b", "ensureBytes", "DER", "msgHash", "FIELD_ORDER", "rec", "_2n", "radj", "x", "R", "ir", "h", "bits2int_modN", "u1", "u2", "Q", "format", "hexToBytes", "bytesToHex", "normPrivateKeyToScalar", "_legacyHelperNormPriv", "utils", "privateKey", "error", "n", "mapHashToField", "getMinHashLength", "windowSize", "point", "getPublicKey", "isCompressed", "isProbPub", "item", "length", "LC", "LU", "getSharedSecret", "privateA", "publicB", "bits2int", "bytes", "bytesToNumberBE", "delta", "ORDER_MASK", "bitMask", "int2octets", "aInRange", "_0n", "prepSig", "opts", "defaultSigOpts", "k", "hash", "lowS", "prehash", "ent", "validateSigVerOpts", "h1int", "d", "seedArgs", "e", "seed", "m", "k2sig", "kBytes", "ik", "q", "normS", "defaultVerOpts", "sign", "privKey", "createHmacDrbg", "verify", "signature", "publicKey", "sg", "isHex", "isBytes", "isObj", "_sig", "P", "derError", "is", "_weierstrass_legacy_opts_to_new", "c", "CURVE", "Field", "_ecdsa_legacy_opts_to_new", "_ecdsa_new_output_to_legacy", "c", "ecdsa", "weierstrass", "CURVE", "curveOpts", "ecdsaOpts", "_ecdsa_legacy_opts_to_new", "Point", "weierstrassN", "signs", "createCurve", "curveDef", "defHash", "create", "hash", "weierstrass", "__spreadProps", "__spreadValues", "secp256k1_CURVE", "_0n", "_1n", "_2n", "divNearest", "a", "b", "sqrtMod", "y", "P", "_3n", "_6n", "_11n", "_22n", "_23n", "_44n", "_88n", "b2", "b3", "b6", "pow2", "b9", "b11", "b22", "b44", "b88", "b176", "b220", "b223", "t1", "t2", "root", "Fpk1", "Field", "secp256k1", "createCurve", "__spreadProps", "__spreadValues", "k", "n", "a1", "b1", "a2", "POW_2_128", "c1", "c2", "k1", "mod", "k2", "k1neg", "k2neg", "sha256", "TAGGED_HASH_PREFIXES", "taggedHash", "tag", "messages", "tagP", "tagH", "c", "concatBytes", "pointToBytes", "point", "numTo32b", "numberToBytesBE", "modP", "x", "modN", "Point", "hasEven", "schnorrGetExtPubKey", "priv", "d_", "p", "lift_x", "aInRange", "xx", "num", "bytesToNumberBE", "challenge", "args", "schnorrGetPublicKey", "privateKey", "schnorrSign", "message", "auxRand", "randomBytes", "m", "ensureBytes", "px", "d", "t", "rand", "k_", "rx", "e", "sig", "schnorrVerify", "signature", "publicKey", "pub", "r", "inRange", "s", "R", "error", "schnorr", "_N", "secp256k1", "FD", "Field", "GP", "get_seckey", "secret", "even_y", "sk", "serialize_bytes", "Buff", "get_pubkey", "seckey", "format", "pk", "convert_pubkey", "tweak_seckey", "tweak", "twk", "tweaked_sk", "new_secret", "tweak_pubkey", "pubkey", "get_pubkey_format", "twk_big", "pub_pt", "lift_pubkey", "tweak_pt", "tweaked_pt", "lift_pubkey", "pubkey", "pk", "convert_pubkey", "secp256k1", "err", "serialize_pubkey", "format", "serialize_bytes", "get_pubkey_format", "bytes", "Buff", "Parse", "error", "err", "data", "schema", "array", "parsed", "e", "errors", "x", "select_random_peers", "peers", "thold", "rnd", "idx", "get_member_indexes", "group", "pubkeys", "indexes", "e", "convert_pubkey", "Assert", "get_peer_pubkeys", "peers", "e", "get_recv_pubkeys", "get_send_pubkeys", "ecdh_handler_api", "node", "msg", "middleware", "copy_obj", "members", "ecdh_pk", "pkg", "envelope", "finalize_message", "res", "err", "parse_error", "ecdh_request_api", "peers", "thold", "send_pks", "get_send_pubkeys", "selected", "select_random_peers", "encrypted", "get_member_indexes", "self_pkg", "msgs", "create_ecdh_request", "reason", "Assert", "pkgs", "e", "secret", "finalize_ecdh_response", "content", "parsed", "parse_ecdh_message", "combine_ecdh_pkgs", "echo_request_api", "node", "challenge", "msg", "create_echo_request", "err", "reason", "parse_error", "Assert", "res", "ping_handler_api", "node", "msg", "peer_data", "e", "envelope", "finalize_message", "res", "__spreadProps", "__spreadValues", "now", "err", "parse_error", "ping_request_api", "pubkey", "Assert", "create_ping_request", "reason", "policy", "parse_ping_response", "new_data", "json", "parsed", "schema_default", "format_sigvector", "message", "create_sighash_commit", "session_id", "commit", "sigvec", "bind_hash", "get_sighash_binder", "hidden_pn", "tweak_pubkey", "binder_pn", "sighash", "__spreadProps", "__spreadValues", "create_sighash_share", "share", "hidden_sn", "tweak_seckey", "binder_sn", "member_idx", "sid", "Buff", "idx", "msg", "get_group_id", "group", "prefix", "get_commits_prefix", "Buff", "get_commit_by_idx", "commits", "idx", "commit", "e", "Assert", "GET_DEFAULT_SESSION_CONFIG", "now", "create_session_template", "members", "messages", "options", "hashes", "parsed", "schema_default", "__spreadProps", "__spreadValues", "create_session_pkg", "group", "template", "gid", "get_group_id", "sid", "get_session_id", "get_session_id", "group_id", "template", "_a", "mbrs", "e", "Buff", "msgs", "cont", "type", "ts", "create_member_commits", "group", "session", "idx", "commit", "get_commit_by_idx", "vec", "create_sighash_commit", "create_member_shares", "share", "create_sighash_share", "create_session_commits", "get_session_ctx", "pubkeys", "session_commits", "sigmap", "sighash", "tweaks", "sighash_commits", "context", "get_group_signing_ctx", "create_psig_pkg", "ctx", "share", "sid", "pubkey", "get_pubkey", "sighashes", "e", "sig_shares", "create_member_shares", "psigs", "sighash", "sig_share", "sig_ctx", "Assert", "psig", "create_partial_sig", "verify_psig_pkg", "pkg", "idx", "sigctx", "psig_entry", "pnonce", "verify_partial_sig", "create_psig_records", "pkgs", "combine_signature_pkgs", "count", "records", "sigs", "sig", "combine_partial_sigs", "binder_sn", "hidden_sn", "seckey", "sign_msg", "sign_handler_api", "node", "msg", "middleware", "copy_obj", "pkg", "envelope", "finalize_message", "res", "err", "parse_error", "sign_queue_api", "message", "sigvec", "format_sigvector", "sign_request_api", "options", "_a", "sigvecs", "send_pks", "get_send_pubkeys", "peers", "thold", "selected", "select_random_peers", "members", "get_member_indexes", "template", "create_session_template", "Assert", "session", "create_session_pkg", "msgs", "create_sign_request", "reason", "sigs", "finalize_sign_response", "responses", "ctx", "get_session_ctx", "pkgs", "e", "parsed", "parse_psig_message", "error", "verify_psig_pkg", "combine_signature_pkgs", "EventEmitter", "eventName", "handlers", "newHandlers", "handler", "once_handler", "payload", "invoke_handler", "timeoutMs", "timeout_handler", "promises", "result", "SIGNER_CONFIG", "BifrostSigner", "group", "share", "options", "__spreadValues", "parse_group_pkg", "parse_share_pkg", "get_pubkey", "members", "ecdh_pk", "create_ecdh_pkg", "message", "auxrand", "sig", "schnorr", "Buff", "session", "ctx", "get_session_ctx", "create_psig_pkg", "content", "pubkey", "seckey", "secret", "get_shared_secret", "decrypt_content", "encrypt_content", "SignerQueue", "node", "sigvec", "resolve", "reject", "batch", "req", "vec", "res", "sig_entry", "e", "err", "EventEmitter", "eventName", "handlers", "newHandlers", "handler", "oneTimeHandler", "payload", "timeoutMs", "timeoutHandler", "promises", "result", "NODE_CONFIG", "now", "NostrNode", "EventEmitter", "relays", "seckey", "options", "event", "payload", "decrypt_payload", "msg", "parse_envelope", "err", "parse_error", "message", "peer_pk", "_a", "cache", "config", "get_event_config", "create_payload", "create_event", "signed", "__spreadProps", "__spreadValues", "receipts", "acks", "fails", "r", "msg_id", "ok", "res", "verify_relays", "verify_seckey", "Buff", "get_pubkey", "get_node_config", "get_filter_config", "SimplePool", "filter", "timeout", "sub_id", "gen_message_id", "resolve", "timer", "resolver", "reason", "id", "peers", "finalize_message", "outbox", "pk", "settled", "receipt", "sub", "pub", "pubkey", "get_sub_config", "threshold", "tag", "authors", "inbox", "is_bounce", "e", "opt", "envelope", "node", "_b", "_c", "created_at", "tags", "rest", "__objRest", "DEFAULT_CACHE", "DEFAULT_CONFIG", "BifrostNode", "EventEmitter", "group", "share", "relays", "options", "get_node_cache", "get_node_config", "SignerQueue", "BifrostSigner", "init_peer_data", "authors", "get_peer_pubkeys", "NostrNode", "msg", "ping_handler_api", "parsed", "parse_ecdh_message", "ecdh_handler_api", "parse_session_message", "sign_handler_api", "err", "parse_error", "pubkey", "get_recv_pubkeys", "convert_pubkey", "ecdh_request_api", "echo_request_api", "ping_request_api", "sign_queue_api", "sign_request_api", "data", "idx", "e", "__spreadValues", "opt", "config", "schema_default", "node", "_a", "current", "now", "node_pk", "peers_pks", "peer_data", "peer_pk", "policy", "encode_group_pkg", "pkg", "serialize_group_data", "decode_group_pkg", "str", "data", "Buff", "deserialize_group_data", "thd", "gpk", "com", "e", "serialize_commit_data", "stream", "group_pk", "threshold", "Assert", "count", "commits", "i", "cbytes", "deserialize_commit_data", "normalize_obj", "idx", "spk", "bpn", "hpn", "pubkey", "binder_pn", "hidden_pn", "encode_share_pkg", "pkg", "data", "serialize_share_data", "Assert", "decode_share_pkg", "sharestr", "Buff", "deserialize_share_data", "idx", "ssk", "bsn", "hsn", "stream", "seckey", "binder_sn", "hidden_sn", "normalize_obj", "PackageEncoder", "encode_group_pkg", "decode_group_pkg", "serialize_group_data", "deserialize_group_data", "encode_share_pkg", "decode_share_pkg", "serialize_share_data", "deserialize_share_data", "pbkdf2Init", "hash", "_password", "_salt", "_opts", "ahash", "opts", "checkOpts", "c", "dkLen", "asyncTick", "anumber", "password", "kdfInputToBytes", "salt", "DK", "PRF", "hmac", "PRFSalt", "pbkdf2Output", "prfW", "u", "clean", "pbkdf2", "arr", "view", "createView", "ti", "pos", "Ti", "ui", "i", "Check", "is_hex", "input", "is_bytes", "e", "Assert", "within_size", "data", "size", "is_hex", "hex", "is_bytes", "bytes", "Check", "is_json", "str", "e", "is_safe_int", "num", "_0n", "_255n", "_256n", "get_big_size", "big", "big_to_bytes", "size", "endian", "use_le", "buffer", "dataView", "offset", "byte", "num", "bytes_to_big", "bytes", "i", "bigint_replacer", "_", "v", "bigint_reviver", "get_num_size", "num", "num_to_bytes", "size", "endian", "use_le", "buffer", "dataView", "offset", "byte", "bytes_to_num", "bytes", "i", "Assert", "hex_to_bytes", "hexstr", "size", "endian", "get_hex_size", "use_be", "buffer", "dataView", "offset", "i", "char", "num", "bytes_to_hex", "bytes", "chars", "Assert", "len", "buffer", "bytes", "size", "endian", "create_bytes", "Assert", "hex_to_bytes", "big_to_bytes", "num_to_bytes", "data", "offset", "join_bytes", "arr", "i", "len", "buff", "a", "split_bytes", "data_blob", "chunk_size", "total_size", "count", "chunks", "idx", "bin_to_bytes", "binary", "bins", "bytes", "i", "ct", "byte", "j", "bytes_to_bin", "bin", "count", "num", "ec", "dc", "str_to_bytes", "str", "bytes_to_str", "bytes", "get_random_bytes", "length", "pcrypto", "_Buff", "size", "uint", "get_random_bytes", "stamp", "data", "endian", "buffer", "bytes", "bytes_to_big", "bytes_to_hex", "reviver", "bigint_reviver", "str", "bytes_to_str", "bytes_to_num", "bytes_to_bin", "varint", "array", "offset", "start", "end", "arr", "begin", "args", "e", "joined", "join_bytes", "hex", "num", "number", "bigint", "bin_to_bytes", "str_to_bytes", "Assert", "replacer", "bigint_replacer", "payload", "chunk_size", "total_size", "split_bytes", "a", "b", "Check", "Buff", "util_exports", "__export", "create_timeout", "now", "parse_error", "sleep", "sort_obj", "ms", "res", "promise", "timeout", "resolve", "reject", "timer", "obj", "_", "value", "sorted", "key", "err", "Test", "exists", "value", "is_equal", "a", "b", "is_object", "is_deep_equal", "sort_obj", "has_items", "array", "is_string", "is_number", "is_bigint", "is_uchar", "is_ushort", "is_uint", "is_u8a", "is_bytes", "Buff", "is_base58", "is_base64", "is_b64url", "is_bech32", "is_hex", "is_hash", "Assert", "ok", "value", "message", "exists", "msg", "Test", "is_empty", "is_instance", "type", "is_equal", "a", "b", "is_object", "is_deep_equal", "is_number", "is_bigint", "is_hex", "is_uchar", "is_ushort", "is_uint", "is_u8a", "is_hash", "is_bytes", "size", "input", "bytes", "Buff", "has_items", "array", "err_msg", "is_base58", "is_base64", "is_b64url", "is_bech32", "PKDF_OPT", "create_encryption_key", "password", "salt", "pbytes", "Assert", "pbkdf2", "sha256", "encrypt_content", "content", "sbytes", "Buff", "vector", "enc_key", "payload", "gcm", "e", "decrypt_content", "iv", "seckey", "import_react", "ecc_exports", "__export", "get_pubkey", "get_pubkey_format", "get_seckey", "lift_point", "serialize_bytes", "serialize_pubkey", "sign_bip340", "sign_ecdsa", "tweak_pubkey", "tweak_seckey", "verify_bip340", "verify_ecdsa", "verify_point", "verify_pubkey", "verify_seckey", "_0n", "_1n", "_abool2", "value", "title", "prefix", "_abytes2", "length", "bytes", "isBytes", "len", "needsLen", "ofLen", "got", "numberToHexUnpadded", "num", "hex", "hexToNumber", "_0n", "bytesToNumberBE", "bytesToHex", "bytesToNumberLE", "abytes", "numberToBytesBE", "n", "hexToBytes", "numberToBytesLE", "ensureBytes", "title", "hex", "expectedLength", "res", "hexToBytes", "e", "isBytes", "len", "isPosBig", "n", "_0n", "inRange", "min", "max", "aInRange", "title", "bitLen", "len", "_1n", "bitMask", "n", "_1n", "createHmacDrbg", "hashLen", "qByteLen", "hmacFn", "u8n", "len", "u8of", "byte", "v", "k", "i", "reset", "h", "b", "reseed", "seed", "gen", "out", "sl", "concatBytes", "pred", "res", "_validateObject", "object", "fields", "optFields", "checkField", "fieldName", "expectedType", "isOpt", "val", "current", "k", "v", "memoized", "fn", "map", "arg", "args", "val", "computed", "_0n", "_1n", "_2n", "_3n", "_4n", "_5n", "_7n", "_8n", "_9n", "_16n", "mod", "a", "b", "result", "pow2", "x", "power", "modulo", "res", "_0n", "invert", "number", "a", "mod", "b", "y", "_1n", "u", "v", "q", "r", "m", "n", "assertIsSquare", "Fp", "root", "sqrt3mod4", "p1div4", "_4n", "sqrt5mod8", "p5div8", "_5n", "_8n", "n2", "_2n", "nv", "i", "sqrt9mod16", "P", "Fp_", "Field", "tn", "tonelliShanks", "c1", "c2", "c3", "c4", "_7n", "_16n", "tv1", "tv2", "tv3", "tv4", "e1", "e2", "e3", "_3n", "Q", "S", "Z", "_Fp", "FpLegendre", "cc", "Q1div2", "M", "c", "t", "R", "t_tmp", "exponent", "FpSqrt", "_9n", "FIELD_FIELDS", "validateField", "field", "initial", "opts", "map", "val", "_validateObject", "FpPow", "Fp", "num", "power", "_0n", "_1n", "p", "d", "FpInvertBatch", "nums", "passZero", "inverted", "multipliedAcc", "acc", "i", "invertedAcc", "FpLegendre", "Fp", "n", "p1mod2", "_1n", "_2n", "powered", "yes", "zero", "no", "nLength", "n", "nBitLength", "anumber", "_nBitLength", "nByteLength", "Field", "ORDER", "bitLenOrOpts", "isLE", "opts", "_0n", "_nbitLength", "_sqrt", "modFromBytes", "allowedLengths", "_opts", "BITS", "BYTES", "sqrtP", "bitMask", "_1n", "num", "mod", "lhs", "rhs", "power", "FpPow", "invert", "FpSqrt", "numberToBytesLE", "numberToBytesBE", "bytes", "skipValidation", "padded", "scalar", "bytesToNumberLE", "bytesToNumberBE", "lst", "FpInvertBatch", "a", "b", "c", "getFieldBytesLength", "fieldOrder", "bitLength", "getMinHashLength", "length", "mapHashToField", "key", "isLE", "len", "fieldLen", "minLen", "num", "bytesToNumberLE", "bytesToNumberBE", "reduced", "mod", "_1n", "numberToBytesLE", "numberToBytesBE", "_0n", "_1n", "negateCt", "condition", "item", "neg", "normalizeZ", "c", "points", "invertedZs", "FpInvertBatch", "p", "i", "validateW", "W", "bits", "calcWOpts", "scalarBits", "windows", "windowSize", "maxNumber", "mask", "bitMask", "shiftBy", "calcOffsets", "n", "window", "wOpts", "wbits", "nextN", "offsetStart", "offset", "isZero", "isNeg", "isNegF", "validateMSMPoints", "validateMSMScalars", "scalars", "field", "s", "pointPrecomputes", "pointWindowSizes", "getW", "P", "assert0", "wNAF", "Point", "elm", "d", "point", "base", "precomputes", "f", "wo", "offsetF", "acc", "transform", "comp", "scalar", "prev", "mulEndoUnsafe", "k1", "k2", "p1", "p2", "pippenger", "fieldN", "plength", "slength", "zero", "bitLen", "MASK", "buckets", "lastBits", "sum", "j", "resI", "sumI", "createField", "order", "field", "isLE", "validateField", "Field", "_createCurveFields", "type", "CURVE", "curveOpts", "FpFnLE", "p", "val", "_0n", "Fp", "Fn", "params", "divNearest", "num", "den", "_2n", "_splitEndoScalar", "k", "basis", "a1", "b1", "a2", "b2", "c1", "c2", "k1", "k2", "k1neg", "_0n", "k2neg", "MAX_NUM", "bitMask", "bitLen", "_1n", "validateSigFormat", "format", "validateSigOpts", "opts", "def", "optsn", "optName", "_abool2", "DERErr", "m", "DER", "tag", "data", "E", "dataLen", "len", "numberToHexUnpadded", "lenLen", "pos", "first", "isLong", "length", "lengthBytes", "b", "v", "hex", "bytesToNumberBE", "int", "tlv", "ensureBytes", "seqBytes", "seqLeftBytes", "rBytes", "rLeftBytes", "sBytes", "sLeftBytes", "sig", "rs", "ss", "seq", "_3n", "_4n", "_normFnElement", "Fn", "key", "expected", "bytes", "error", "weierstrassN", "params", "extraOpts", "validated", "_createCurveFields", "Fp", "CURVE", "cofactor", "CURVE_ORDER", "_validateObject", "endo", "lengths", "getWLengths", "assertCompressionIsSupported", "pointToBytes", "_c", "point", "isCompressed", "y", "bx", "hasEvenY", "concatBytes", "pprefix", "pointFromBytes", "_abytes2", "comp", "uncomp", "head", "tail", "x", "y2", "weierstrassEquation", "sqrtError", "err", "isYOdd", "L", "isValidXY", "encodePoint", "decodePoint", "x2", "x3", "left", "right", "_4a3", "_27b2", "acoord", "title", "n", "banZero", "aprjpoint", "other", "Point", "splitEndoScalarN", "toAffineMemo", "memoized", "p", "iz", "X", "Y", "Z", "is0", "zz", "assertValidMemo", "finishEndo", "endoBeta", "k1p", "k2p", "negateCt", "P", "windowSize", "isLazy", "wnaf", "X1", "Y1", "Z1", "X2", "Y2", "Z2", "U1", "U2", "a", "b3", "X3", "Y3", "Z3", "t0", "t1", "t2", "t3", "t4", "t5", "scalar", "fake", "mul", "normalizeZ", "k1f", "k2f", "f", "sc", "p1", "p2", "mulEndoUnsafe", "Q", "sum", "invertedZ", "isTorsionFree", "clearCofactor", "bytesToHex", "points", "scalars", "pippenger", "privateKey", "bits", "wNAF", "getWLengths", "Fp", "Fn", "ecdh", "Point", "ecdhOpts", "randomBytes_", "randomBytes", "lengths", "getMinHashLength", "isValidSecretKey", "secretKey", "_normFnElement", "error", "isValidPublicKey", "publicKey", "isCompressed", "comp", "publicKeyUncompressed", "l", "randomSecretKey", "seed", "mapHashToField", "_abytes2", "getPublicKey", "keygen", "isProbPub", "item", "ensureBytes", "getSharedSecret", "secretKeyA", "publicKeyB", "s", "key", "windowSize", "point", "ecdsa", "hash", "ecdsaOpts", "ahash", "_validateObject", "hmac", "msgs", "concatBytes", "CURVE_ORDER", "fnBits", "utils", "defaultSigOpts", "defaultSigOpts_format", "isBiggerThanHalfOrder", "number", "HALF", "_1n", "validateRS", "title", "num", "validateSigLength", "bytes", "format", "validateSigFormat", "size", "sizer", "Signature", "r", "recovery", "recid", "DER", "L", "hex", "hexToBytes", "messageHash", "FIELD_ORDER", "rec", "_2n", "radj", "x", "R", "pprefix", "ir", "h", "bits2int_modN", "u1", "u2", "Q", "bytesToHex", "bits2int", "bytesToNumberBE", "delta", "ORDER_MASK", "bitMask", "int2octets", "aInRange", "_0n", "validateMsgAndHash", "message", "prehash", "prepSig", "privateKey", "opts", "k", "lowS", "extraEntropy", "validateSigOpts", "h1int", "d", "seedArgs", "e", "m", "k2sig", "kBytes", "ik", "q", "normS", "sign", "createHmacDrbg", "tryParsingSig", "sg", "sig", "isHex", "isBytes", "isObj", "derError", "verify", "signature", "P", "is", "recoverPublicKey", "_weierstrass_legacy_opts_to_new", "c", "CURVE", "Fp", "allowedLengths", "l", "Fn", "Field", "curveOpts", "_ecdsa_legacy_opts_to_new", "ecdsaOpts", "_ecdsa_new_output_to_legacy", "c", "_ecdsa", "Point", "nLength", "weierstrass", "CURVE", "curveOpts", "hash", "ecdsaOpts", "_ecdsa_legacy_opts_to_new", "weierstrassN", "signs", "ecdsa", "createCurve", "curveDef", "defHash", "create", "hash", "weierstrass", "__spreadProps", "__spreadValues", "secp256k1_CURVE", "secp256k1_ENDO", "_0n", "_1n", "_2n", "sqrtMod", "y", "P", "_3n", "_6n", "_11n", "_22n", "_23n", "_44n", "_88n", "b2", "b3", "b6", "pow2", "b9", "b11", "b22", "b44", "b88", "b176", "b220", "b223", "t1", "t2", "root", "Fpk1", "Field", "secp256k1", "createCurve", "__spreadProps", "__spreadValues", "sha256", "TAGGED_HASH_PREFIXES", "taggedHash", "tag", "messages", "tagP", "tagH", "utf8ToBytes", "concatBytes", "pointToBytes", "point", "Pointk1", "hasEven", "schnorrGetExtPubKey", "priv", "Fn", "BASE", "d_", "_normFnElement", "p", "lift_x", "x", "Fp", "xx", "c", "num", "bytesToNumberBE", "challenge", "args", "schnorrGetPublicKey", "secretKey", "schnorrSign", "message", "auxRand", "randomBytes", "m", "ensureBytes", "px", "d", "t", "rand", "rx", "k", "e", "sig", "schnorrVerify", "signature", "publicKey", "pub", "r", "inRange", "s", "R", "error", "schnorr", "randomSecretKey", "seed", "mapHashToField", "keygen", "numberToBytesBE", "mod", "_0n", "_2n", "_N", "secp256k1", "FD", "Field", "GP", "get_seckey", "secret", "even_y", "sk", "serialize_bytes", "Buff", "get_pubkey", "seckey", "format", "pk", "serialize_pubkey", "tweak_seckey", "tweak", "twk", "tweaked_sk", "new_secret", "tweak_pubkey", "pubkey", "twk_big", "pub_pt", "lift_point", "tweak_pt", "tweaked_pt", "verify_seckey", "Assert", "verify_pubkey", "verify_point", "sign_ecdsa", "message", "msg", "sig", "sign_bip340", "schnorr", "verify_ecdsa", "signature", "verify_bip340", "err", "prefix", "get_pubkey_format", "bytes", "hash_exports", "__export", "hash160", "hash256", "hash340", "hashtag", "hmac256", "hmac512", "pkdf256", "pkdf512", "sha256", "Rho160", "Id160", "_", "i", "Pi160", "idxLR", "res", "j", "k", "idxL", "idxR", "shifts160", "shiftsL160", "idx", "shiftsR160", "Kl160", "Kr160", "ripemd_f", "group", "x", "y", "z", "BUF_160", "RIPEMD160", "HashMD", "h0", "h1", "h2", "h3", "h4", "view", "offset", "al", "ar", "bl", "br", "cl", "cr", "dl", "dr", "el", "er", "rGroup", "hbl", "hbr", "rl", "rr", "sl", "sr", "tl", "rotl", "tr", "clean", "ripemd160", "createHasher", "hash160", "input", "buffer", "Buff", "digest", "ripemd160", "sha256", "hash256", "hashtag", "tag", "hash", "hash340", "htag", "data", "e", "pimg", "hmac256", "key", "mask", "hmac", "hmac512", "sha512", "pkdf256", "secret", "salt", "options", "c", "dk_len", "sec_u8", "salt_u8", "pbkdf2", "pkdf512", "schema_exports", "__export", "any", "base58", "base64", "base64url", "bech32", "big", "bool", "byte32", "byte33", "byte64", "bytes", "char", "date", "float", "float2", "hex", "hex20", "hex32", "hex33", "hex64", "int", "json", "literal", "num", "short", "stamp", "str", "u8a", "u8a20", "u8a32", "u8a33", "u8a64", "uint", "zod", "external_exports", "__export", "$brand", "$input", "$output", "NEVER", "TimePrecision", "ZodAny", "ZodArray", "ZodBase64", "ZodBase64URL", "ZodBigInt", "ZodBigIntFormat", "ZodBoolean", "ZodCIDRv4", "ZodCIDRv6", "ZodCUID", "ZodCUID2", "ZodCatch", "ZodCustom", "ZodCustomStringFormat", "ZodDate", "ZodDefault", "ZodDiscriminatedUnion", "ZodE164", "ZodEmail", "ZodEmoji", "ZodEnum", "ZodError", "ZodFile", "ZodFirstPartyTypeKind", "ZodGUID", "ZodIPv4", "ZodIPv6", "ZodISODate", "ZodISODateTime", "ZodISODuration", "ZodISOTime", "ZodIntersection", "ZodIssueCode", "ZodJWT", "ZodKSUID", "ZodLazy", "ZodLiteral", "ZodMap", "ZodNaN", "ZodNanoID", "ZodNever", "ZodNonOptional", "ZodNull", "ZodNullable", "ZodNumber", "ZodNumberFormat", "ZodObject", "ZodOptional", "ZodPipe", "ZodPrefault", "ZodPromise", "ZodReadonly", "ZodRealError", "ZodRecord", "ZodSet", "ZodString", "ZodStringFormat", "ZodSuccess", "ZodSymbol", "ZodTemplateLiteral", "ZodTransform", "ZodTuple", "ZodType", "ZodULID", "ZodURL", "ZodUUID", "ZodUndefined", "ZodUnion", "ZodUnknown", "ZodVoid", "ZodXID", "_ZodString", "_default", "any", "array", "base64", "base64url", "bigint", "boolean", "_catch", "check", "cidrv4", "cidrv6", "clone", "coerce_exports", "config", "core_exports", "cuid", "cuid2", "custom", "date", "discriminatedUnion", "e164", "email", "emoji", "_endsWith", "_enum", "file", "flattenError", "float32", "float64", "formatError", "_function", "getErrorMap", "globalRegistry", "_gt", "_gte", "guid", "hostname", "_includes", "_instanceof", "int", "int32", "int64", "intersection", "ipv4", "ipv6", "iso_exports", "json", "jwt", "keyof", "ksuid", "lazy", "_length", "literal", "locales_exports", "looseObject", "_lowercase", "_lt", "_lte", "map", "_maxLength", "_maxSize", "_mime", "_minLength", "_minSize", "_multipleOf", "nan", "nanoid", "nativeEnum", "_negative", "never", "_nonnegative", "nonoptional", "_nonpositive", "_normalize", "_null", "nullable", "nullish", "number", "object", "optional", "_overwrite", "parse", "parseAsync", "partialRecord", "pipe", "_positive", "prefault", "preprocess", "prettifyError", "promise", "_property", "readonly", "record", "refine", "_regex", "regexes_exports", "registry", "safeParse", "safeParseAsync", "set", "setErrorMap", "_size", "_startsWith", "strictObject", "string", "stringFormat", "stringbool", "success", "superRefine", "symbol", "templateLiteral", "toJSONSchema", "_toLowerCase", "_toUpperCase", "transform", "treeifyError", "_trim", "tuple", "uint32", "uint64", "ulid", "_undefined", "union", "unknown", "_uppercase", "url", "uuid", "uuidv4", "uuidv6", "uuidv7", "_void", "xid", "core_exports", "__export", "$ZodAny", "$ZodArray", "$ZodAsyncError", "$ZodBase64", "$ZodBase64URL", "$ZodBigInt", "$ZodBigIntFormat", "$ZodBoolean", "$ZodCIDRv4", "$ZodCIDRv6", "$ZodCUID", "$ZodCUID2", "$ZodCatch", "$ZodCheck", "$ZodCheckBigIntFormat", "$ZodCheckEndsWith", "$ZodCheckGreaterThan", "$ZodCheckIncludes", "$ZodCheckLengthEquals", "$ZodCheckLessThan", "$ZodCheckLowerCase", "$ZodCheckMaxLength", "$ZodCheckMaxSize", "$ZodCheckMimeType", "$ZodCheckMinLength", "$ZodCheckMinSize", "$ZodCheckMultipleOf", "$ZodCheckNumberFormat", "$ZodCheckOverwrite", "$ZodCheckProperty", "$ZodCheckRegex", "$ZodCheckSizeEquals", "$ZodCheckStartsWith", "$ZodCheckStringFormat", "$ZodCheckUpperCase", "$ZodCustom", "$ZodCustomStringFormat", "$ZodDate", "$ZodDefault", "$ZodDiscriminatedUnion", "$ZodE164", "$ZodEmail", "$ZodEmoji", "$ZodEnum", "$ZodError", "$ZodFile", "$ZodFunction", "$ZodGUID", "$ZodIPv4", "$ZodIPv6", "$ZodISODate", "$ZodISODateTime", "$ZodISODuration", "$ZodISOTime", "$ZodIntersection", "$ZodJWT", "$ZodKSUID", "$ZodLazy", "$ZodLiteral", "$ZodMap", "$ZodNaN", "$ZodNanoID", "$ZodNever", "$ZodNonOptional", "$ZodNull", "$ZodNullable", "$ZodNumber", "$ZodNumberFormat", "$ZodObject", "$ZodOptional", "$ZodPipe", "$ZodPrefault", "$ZodPromise", "$ZodReadonly", "$ZodRealError", "$ZodRecord", "$ZodRegistry", "$ZodSet", "$ZodString", "$ZodStringFormat", "$ZodSuccess", "$ZodSymbol", "$ZodTemplateLiteral", "$ZodTransform", "$ZodTuple", "$ZodType", "$ZodULID", "$ZodURL", "$ZodUUID", "$ZodUndefined", "$ZodUnion", "$ZodUnknown", "$ZodVoid", "$ZodXID", "$brand", "$constructor", "$input", "$output", "Doc", "json_schema_exports", "JSONSchemaGenerator", "NEVER", "TimePrecision", "_any", "_array", "_base64", "_base64url", "_bigint", "_boolean", "_catch", "_check", "_cidrv4", "_cidrv6", "_coercedBigint", "_coercedBoolean", "_coercedDate", "_coercedNumber", "_coercedString", "_cuid", "_cuid2", "_custom", "_date", "_default", "_discriminatedUnion", "_e164", "_email", "_emoji", "_endsWith", "_enum", "_file", "_float32", "_float64", "_gt", "_gte", "_guid", "_includes", "_int", "_int32", "_int64", "_intersection", "_ipv4", "_ipv6", "_isoDate", "_isoDateTime", "_isoDuration", "_isoTime", "_jwt", "_ksuid", "_lazy", "_length", "_literal", "_lowercase", "_lt", "_lte", "_map", "_maxLength", "_maxSize", "_mime", "_minLength", "_minSize", "_multipleOf", "_nan", "_nanoid", "_nativeEnum", "_negative", "_never", "_nonnegative", "_nonoptional", "_nonpositive", "_normalize", "_null", "_nullable", "_number", "_optional", "_overwrite", "_parse", "_parseAsync", "_pipe", "_positive", "_promise", "_property", "_readonly", "_record", "_refine", "_regex", "_safeParse", "_safeParseAsync", "_set", "_size", "_startsWith", "_string", "_stringFormat", "_stringbool", "_success", "_superRefine", "_symbol", "_templateLiteral", "_toLowerCase", "_toUpperCase", "_transform", "_trim", "_tuple", "_uint32", "_uint64", "_ulid", "_undefined", "_union", "_unknown", "_uppercase", "_url", "_uuid", "_uuidv4", "_uuidv6", "_uuidv7", "_void", "_xid", "clone", "config", "flattenError", "formatError", "_function", "globalConfig", "globalRegistry", "isValidBase64", "isValidBase64URL", "isValidJWT", "locales_exports", "parse", "parseAsync", "prettifyError", "regexes_exports", "registry", "safeParse", "safeParseAsync", "toDotPath", "toJSONSchema", "treeifyError", "util_exports", "version", "NEVER", "$constructor", "name", "initializer", "params", "_a", "init", "inst", "def", "_b", "k", "_", "Parent", "Definition", "fn", "$brand", "$ZodAsyncError", "globalConfig", "config", "newConfig", "util_exports", "__export", "BIGINT_FORMAT_RANGES", "Class", "NUMBER_FORMAT_RANGES", "aborted", "allowsEval", "assert", "assertEqual", "assertIs", "assertNever", "assertNotEqual", "assignProp", "cached", "captureStackTrace", "cleanEnum", "cleanRegex", "clone", "cloneDef", "createTransparentProxy", "defineLazy", "esc", "escapeRegex", "extend", "finalizeIssue", "floatSafeRemainder", "getElementAtPath", "getEnumValues", "getLengthableOrigin", "getParsedType", "getSizableOrigin", "isObject", "isPlainObject", "issue", "joinValues", "jsonStringifyReplacer", "merge", "mergeDefs", "normalizeParams", "nullish", "numKeys", "omit", "optionalKeys", "partial", "pick", "prefixIssues", "primitiveTypes", "promiseAllObject", "propertyKeyTypes", "randomString", "required", "stringifyPrimitive", "unwrapMessage", "assertEqual", "val", "assertNotEqual", "assertIs", "_arg", "assertNever", "_x", "assert", "_", "getEnumValues", "entries", "numericValues", "v", "k", "joinValues", "array", "separator", "stringifyPrimitive", "jsonStringifyReplacer", "value", "cached", "getter", "nullish", "input", "cleanRegex", "source", "start", "end", "floatSafeRemainder", "step", "valDecCount", "stepString", "stepDecCount", "match", "decCount", "valInt", "stepInt", "EVALUATING", "defineLazy", "object", "key", "assignProp", "target", "prop", "mergeDefs", "defs", "mergedDescriptors", "def", "descriptors", "cloneDef", "schema", "getElementAtPath", "obj", "path", "acc", "promiseAllObject", "promisesObj", "keys", "promises", "results", "resolvedObj", "randomString", "length", "chars", "str", "i", "esc", "captureStackTrace", "_args", "isObject", "data", "allowsEval", "_a", "F", "isPlainObject", "o", "ctor", "prot", "numKeys", "keyCount", "getParsedType", "propertyKeyTypes", "primitiveTypes", "escapeRegex", "clone", "inst", "params", "cl", "normalizeParams", "_params", "__spreadProps", "__spreadValues", "createTransparentProxy", "receiver", "descriptor", "optionalKeys", "shape", "NUMBER_FORMAT_RANGES", "BIGINT_FORMAT_RANGES", "pick", "mask", "currDef", "newShape", "omit", "extend", "_shape", "merge", "a", "b", "partial", "Class", "oldShape", "required", "aborted", "x", "startIndex", "prefixIssues", "issues", "iss", "unwrapMessage", "message", "finalizeIssue", "ctx", "config", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "_k", "full", "getSizableOrigin", "getLengthableOrigin", "issue", "args", "cleanEnum", "el", "initializer", "inst", "def", "jsonStringifyReplacer", "$ZodError", "$constructor", "$ZodRealError", "flattenError", "error", "mapper", "issue", "fieldErrors", "formErrors", "sub", "formatError", "_mapper", "processError", "issues", "curr", "i", "el", "treeifyError", "result", "path", "_a", "_b", "_c", "_d", "fullpath", "terminal", "toDotPath", "_path", "segs", "seg", "prettifyError", "lines", "a", "b", "_parse", "_Err", "schema", "value", "_ctx", "_params", "_a", "ctx", "result", "$ZodAsyncError", "e", "iss", "finalizeIssue", "config", "captureStackTrace", "parse", "$ZodRealError", "_parseAsync", "params", "parseAsync", "_safeParse", "__spreadProps", "__spreadValues", "$ZodError", "safeParse", "_safeParseAsync", "safeParseAsync", "regexes_exports", "__export", "base64", "base64url", "bigint", "boolean", "browserEmail", "cidrv4", "cidrv6", "cuid", "cuid2", "date", "datetime", "domain", "duration", "e164", "email", "emoji", "extendedDuration", "guid", "hostname", "html5Email", "idnEmail", "integer", "ipv4", "ipv6", "ksuid", "lowercase", "nanoid", "_null", "number", "rfc5322Email", "string", "time", "ulid", "_undefined", "unicodeEmail", "uppercase", "uuid", "uuid4", "uuid6", "uuid7", "xid", "version", "_emoji", "dateSource", "timeSource", "args", "hhmm", "opts", "timeRegex", "params", "_a", "_b", "regex", "_undefined", "lowercase", "uppercase", "$ZodCheck", "$constructor", "inst", "def", "_a", "_b", "numericOriginMap", "$ZodCheckLessThan", "origin", "bag", "curr", "payload", "$ZodCheckGreaterThan", "$ZodCheckMultipleOf", "floatSafeRemainder", "$ZodCheckNumberFormat", "isInt", "minimum", "maximum", "NUMBER_FORMAT_RANGES", "integer", "input", "$ZodCheckBigIntFormat", "BIGINT_FORMAT_RANGES", "$ZodCheckMaxSize", "val", "nullish", "getSizableOrigin", "$ZodCheckMinSize", "$ZodCheckSizeEquals", "size", "tooBig", "__spreadProps", "__spreadValues", "$ZodCheckMaxLength", "getLengthableOrigin", "$ZodCheckMinLength", "$ZodCheckLengthEquals", "length", "$ZodCheckStringFormat", "$ZodCheckRegex", "$ZodCheckLowerCase", "lowercase", "$ZodCheckUpperCase", "uppercase", "$ZodCheckIncludes", "escapedRegex", "escapeRegex", "pattern", "$ZodCheckStartsWith", "$ZodCheckEndsWith", "handleCheckPropertyResult", "result", "property", "prefixIssues", "$ZodCheckProperty", "$ZodCheckMimeType", "mimeSet", "$ZodCheckOverwrite", "Doc", "args", "fn", "arg", "lines", "x", "minIndent", "dedented", "line", "_a", "F", "version", "$ZodType", "$constructor", "inst", "def", "_a", "_b", "_c", "version", "checks", "ch", "fn", "runChecks", "payload", "ctx", "isAborted", "aborted", "asyncResult", "currLen", "_", "$ZodAsyncError", "result", "value", "r", "safeParse", "safeParseAsync", "$ZodString", "string", "$ZodStringFormat", "$ZodCheckStringFormat", "$ZodGUID", "guid", "$ZodUUID", "v", "uuid", "$ZodEmail", "email", "$ZodURL", "trimmed", "url", "hostname", "$ZodEmoji", "emoji", "$ZodNanoID", "nanoid", "$ZodCUID", "cuid", "$ZodCUID2", "cuid2", "$ZodULID", "ulid", "$ZodXID", "xid", "$ZodKSUID", "ksuid", "$ZodISODateTime", "datetime", "$ZodISODate", "date", "$ZodISOTime", "time", "$ZodISODuration", "duration", "$ZodIPv4", "ipv4", "bag", "$ZodIPv6", "ipv6", "e", "$ZodCIDRv4", "cidrv4", "$ZodCIDRv6", "cidrv6", "address", "prefix", "prefixNum", "isValidBase64", "data", "$ZodBase64", "base64", "isValidBase64URL", "base64url", "c", "padded", "$ZodBase64URL", "$ZodE164", "e164", "isValidJWT", "token", "algorithm", "tokensParts", "header", "parsedHeader", "$ZodJWT", "$ZodCustomStringFormat", "$ZodNumber", "number", "_ctx", "input", "received", "__spreadValues", "$ZodNumberFormat", "$ZodCheckNumberFormat", "$ZodBoolean", "boolean", "$ZodBigInt", "bigint", "$ZodBigIntFormat", "$ZodCheckBigIntFormat", "$ZodSymbol", "$ZodUndefined", "_undefined", "$ZodNull", "_null", "$ZodAny", "$ZodUnknown", "$ZodNever", "$ZodVoid", "$ZodDate", "_err", "isDate", "__spreadProps", "handleArrayResult", "final", "index", "prefixIssues", "$ZodArray", "proms", "i", "item", "handlePropertyResult", "key", "$ZodObject", "_normalized", "cached", "keys", "k", "okeys", "optionalKeys", "defineLazy", "shape", "propValues", "field", "generateFastpass", "doc", "Doc", "normalized", "parseStr", "esc", "ids", "counter", "id", "fastpass", "isObject", "jit", "globalConfig", "fastEnabled", "allowsEval", "catchall", "unrecognized", "keySet", "_catchall", "t", "handleUnionResults", "results", "nonaborted", "iss", "finalizeIssue", "config", "$ZodUnion", "o", "option", "patterns", "p", "cleanRegex", "single", "first", "async", "$ZodDiscriminatedUnion", "_super", "pv", "val", "disc", "opts", "map", "values", "opt", "$ZodIntersection", "left", "right", "handleIntersectionResults", "mergeValues", "a", "b", "isPlainObject", "bKeys", "sharedKeys", "newObj", "sharedValue", "newArray", "itemA", "itemB", "merged", "$ZodTuple", "items", "optStart", "tooBig", "tooSmall", "handleTupleResult", "rest", "el", "$ZodRecord", "keyResult", "$ZodMap", "valueResult", "handleMapResult", "propertyKeyTypes", "$ZodSet", "handleSetResult", "$ZodEnum", "getEnumValues", "valuesSet", "escapeRegex", "$ZodLiteral", "$ZodFile", "$ZodTransform", "_out", "output", "handleOptionalResult", "$ZodOptional", "pattern", "$ZodNullable", "$ZodDefault", "handleDefaultResult", "$ZodPrefault", "$ZodNonOptional", "x", "handleNonOptionalResult", "$ZodSuccess", "$ZodCatch", "$ZodNaN", "$ZodPipe", "handlePipeResult", "$ZodReadonly", "handleReadonlyResult", "$ZodTemplateLiteral", "regexParts", "part", "source", "start", "end", "primitiveTypes", "$ZodPromise", "inner", "$ZodLazy", "$ZodCustom", "$ZodCheck", "handleRefineResult", "_iss", "issue", "locales_exports", "__export", "ar_default", "az_default", "be_default", "ca_default", "cs_default", "da_default", "de_default", "en_default", "eo_default", "es_default", "fa_default", "fi_default", "fr_default", "fr_CA_default", "he_default", "hu_default", "id_default", "is_default", "it_default", "ja_default", "kh_default", "ko_default", "mk_default", "ms_default", "nl_default", "no_default", "ota_default", "pl_default", "ps_default", "pt_default", "ru_default", "sl_default", "sv_default", "ta_default", "th_default", "tr_default", "ua_default", "ur_default", "vi_default", "yo_default", "zh_CN_default", "zh_TW_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ar_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "az_default", "getBelarusianPlural", "count", "one", "few", "many", "absCount", "lastDigit", "lastTwoDigits", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "stringifyPrimitive", "joinValues", "adj", "sizing", "maxValue", "unit", "minValue", "_issue", "be_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ca_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "_e", "_f", "_g", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "cs_default", "error", "Sizable", "TypeNames", "getSizing", "origin", "_a", "getTypeName", "type", "parsedType", "data", "t", "Nouns", "issue", "_b", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "da_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "de_default", "parsedType", "data", "error", "Sizable", "getSizing", "origin", "_a", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "en_default", "parsedType", "data", "error", "Sizable", "getSizing", "origin", "_a", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "eo_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "es_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fa_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fi_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fr_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "fr_CA_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "he_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "hu_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "id_default", "parsedType", "data", "error", "Sizable", "getSizing", "origin", "_a", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "is_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "it_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ja_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "kh_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "_e", "_f", "_g", "stringifyPrimitive", "joinValues", "adj", "suffix", "sizing", "unit", "_issue", "ko_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "mk_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ms_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "nl_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "no_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ota_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ps_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "_e", "_f", "_g", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "pl_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "pt_default", "getRussianPlural", "count", "one", "few", "many", "absCount", "lastDigit", "lastTwoDigits", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "stringifyPrimitive", "joinValues", "adj", "sizing", "maxValue", "unit", "minValue", "_issue", "ru_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "sl_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "sv_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ta_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "th_default", "parsedType", "data", "error", "Sizable", "getSizing", "origin", "_a", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "tr_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ua_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "ur_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "vi_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "zh_CN_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "_c", "_d", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "zh_TW_default", "error", "Sizable", "getSizing", "origin", "_a", "parsedType", "data", "t", "Nouns", "issue", "_b", "stringifyPrimitive", "joinValues", "adj", "sizing", "_issue", "yo_default", "$output", "$input", "$ZodRegistry", "schema", "_meta", "meta", "_a", "p", "pm", "__spreadValues", "f", "registry", "globalRegistry", "_string", "Class", "params", "__spreadValues", "normalizeParams", "_coercedString", "_email", "_guid", "_uuid", "_uuidv4", "_uuidv6", "_uuidv7", "_url", "_emoji", "_nanoid", "_cuid", "_cuid2", "_ulid", "_xid", "_ksuid", "_ipv4", "_ipv6", "_cidrv4", "_cidrv6", "_base64", "_base64url", "_e164", "_jwt", "TimePrecision", "_isoDateTime", "_isoDate", "_isoTime", "_isoDuration", "_number", "_coercedNumber", "_int", "_float32", "_float64", "_int32", "_uint32", "_boolean", "_coercedBoolean", "_bigint", "_coercedBigint", "_int64", "_uint64", "_symbol", "_undefined", "_null", "_any", "_unknown", "_never", "_void", "_date", "_coercedDate", "_nan", "_lt", "value", "$ZodCheckLessThan", "__spreadProps", "_lte", "_gt", "value", "params", "$ZodCheckGreaterThan", "__spreadProps", "__spreadValues", "normalizeParams", "_gte", "_positive", "params", "_gt", "_negative", "_lt", "_nonpositive", "_lte", "_nonnegative", "_gte", "_multipleOf", "value", "$ZodCheckMultipleOf", "__spreadProps", "__spreadValues", "normalizeParams", "_maxSize", "maximum", "$ZodCheckMaxSize", "_minSize", "minimum", "$ZodCheckMinSize", "_size", "size", "$ZodCheckSizeEquals", "_maxLength", "$ZodCheckMaxLength", "_minLength", "$ZodCheckMinLength", "_length", "length", "$ZodCheckLengthEquals", "_regex", "pattern", "$ZodCheckRegex", "_lowercase", "$ZodCheckLowerCase", "_uppercase", "$ZodCheckUpperCase", "_includes", "includes", "$ZodCheckIncludes", "_startsWith", "prefix", "$ZodCheckStartsWith", "_endsWith", "suffix", "$ZodCheckEndsWith", "_property", "property", "schema", "$ZodCheckProperty", "_mime", "types", "$ZodCheckMimeType", "_overwrite", "tx", "$ZodCheckOverwrite", "_normalize", "form", "input", "_trim", "_toLowerCase", "_toUpperCase", "_array", "Class", "element", "_union", "options", "_discriminatedUnion", "discriminator", "_intersection", "left", "right", "_tuple", "items", "_paramsOrRest", "_params", "hasRest", "$ZodType", "rest", "_record", "keyType", "valueType", "_map", "_set", "_enum", "values", "entries", "v", "_nativeEnum", "_literal", "_file", "_transform", "fn", "_optional", "innerType", "_nullable", "_default", "defaultValue", "_nonoptional", "_success", "_catch", "catchValue", "_pipe", "in_", "out", "_readonly", "_templateLiteral", "parts", "_lazy", "getter", "_promise", "_custom", "_a", "norm", "_refine", "_superRefine", "ch", "_check", "payload", "issue", "_b", "_c", "_d", "_issue", "$ZodCheck", "_stringbool", "Classes", "_e", "_f", "truthyArray", "falsyArray", "truthySet", "falsySet", "_Pipe", "$ZodPipe", "_Boolean", "$ZodBoolean", "_String", "$ZodString", "_Transform", "$ZodTransform", "data", "innerPipe", "_stringFormat", "format", "fnOrRegex", "def", "val", "$ZodFunction", "def", "func", "impl", "args", "parsedArgs", "parse", "output", "parseAsync", "F", "$ZodTuple", "_function", "params", "_a", "_b", "_tuple", "_array", "$ZodArray", "_unknown", "$ZodUnknown", "JSONSchemaGenerator", "params", "_a", "_b", "_c", "_d", "_e", "globalRegistry", "schema", "_params", "def", "formatMap", "seen", "result", "overrideSchema", "__spreadProps", "__spreadValues", "parent", "_json", "json", "minimum", "maximum", "format", "patterns", "contentEncoding", "regexes", "regex", "multipleOf", "exclusiveMaximum", "exclusiveMinimum", "shape", "key", "allKeys", "requiredKeys", "v", "x", "i", "a", "b", "isSimpleIntersection", "val", "allOf", "prefixItems", "rest", "values", "getEnumValues", "vals", "file", "mime", "m", "inner", "catchValue", "e", "pattern", "innerType", "meta", "isTransforming", "_f", "_g", "_h", "_i", "_j", "root", "makeURI", "entry", "defsSegment", "externalId", "uriGenerator", "id", "defUriPrefix", "defId", "extractToDef", "ref", "ext", "flattenRef", "zodSchema", "_cached", "refSchema", "defs", "_err", "toJSONSchema", "input", "$ZodRegistry", "gen", "_", "schemas", "external", "_schema", "_ctx", "ctx", "option", "item", "json_schema_exports", "iso_exports", "__export", "ZodISODate", "ZodISODateTime", "ZodISODuration", "ZodISOTime", "date", "datetime", "duration", "time", "ZodISODateTime", "$constructor", "inst", "def", "$ZodISODateTime", "ZodStringFormat", "datetime", "params", "_isoDateTime", "ZodISODate", "$ZodISODate", "date", "_isoDate", "ZodISOTime", "$ZodISOTime", "time", "_isoTime", "ZodISODuration", "$ZodISODuration", "duration", "_isoDuration", "initializer", "inst", "issues", "$ZodError", "mapper", "formatError", "flattenError", "issue", "jsonStringifyReplacer", "ZodError", "$constructor", "ZodRealError", "parse", "_parse", "ZodRealError", "parseAsync", "_parseAsync", "safeParse", "_safeParse", "safeParseAsync", "_safeParseAsync", "ZodType", "$constructor", "inst", "def", "$ZodType", "checks", "_a", "__spreadProps", "__spreadValues", "ch", "params", "clone", "reg", "meta", "data", "parse", "safeParse", "parseAsync", "safeParseAsync", "check", "refine", "refinement", "superRefine", "fn", "_overwrite", "optional", "nullable", "nonoptional", "array", "arg", "union", "intersection", "tx", "pipe", "transform", "_default", "prefault", "_catch", "target", "readonly", "description", "cl", "globalRegistry", "args", "_ZodString", "_b", "_c", "$ZodString", "bag", "_regex", "_includes", "_startsWith", "_endsWith", "_minLength", "_maxLength", "_length", "_lowercase", "_uppercase", "_trim", "_normalize", "_toLowerCase", "_toUpperCase", "ZodString", "_email", "ZodEmail", "_url", "ZodURL", "_jwt", "ZodJWT", "_emoji", "ZodEmoji", "_guid", "ZodGUID", "_uuid", "ZodUUID", "_uuidv4", "_uuidv6", "_uuidv7", "_nanoid", "ZodNanoID", "_cuid", "ZodCUID", "_cuid2", "ZodCUID2", "_ulid", "ZodULID", "_base64", "ZodBase64", "_base64url", "ZodBase64URL", "_xid", "ZodXID", "_ksuid", "ZodKSUID", "_ipv4", "ZodIPv4", "_ipv6", "ZodIPv6", "_cidrv4", "ZodCIDRv4", "_cidrv6", "ZodCIDRv6", "_e164", "ZodE164", "datetime", "date", "time", "duration", "string", "_string", "ZodStringFormat", "$ZodStringFormat", "$ZodEmail", "email", "$ZodGUID", "guid", "$ZodUUID", "uuid", "uuidv4", "uuidv6", "uuidv7", "$ZodURL", "url", "$ZodEmoji", "emoji", "$ZodNanoID", "nanoid", "$ZodCUID", "cuid", "$ZodCUID2", "cuid2", "$ZodULID", "ulid", "$ZodXID", "xid", "$ZodKSUID", "ksuid", "$ZodIPv4", "ipv4", "$ZodIPv6", "ipv6", "$ZodCIDRv4", "cidrv4", "$ZodCIDRv6", "cidrv6", "$ZodBase64", "base64", "$ZodBase64URL", "base64url", "$ZodE164", "e164", "$ZodJWT", "jwt", "ZodCustomStringFormat", "$ZodCustomStringFormat", "stringFormat", "format", "fnOrRegex", "_params", "_stringFormat", "hostname", "regexes_exports", "ZodNumber", "_d", "_e", "_f", "_g", "_h", "_i", "$ZodNumber", "value", "_gt", "_gte", "_lt", "_lte", "int", "_multipleOf", "number", "_number", "ZodNumberFormat", "$ZodNumberFormat", "_int", "float32", "_float32", "float64", "_float64", "int32", "_int32", "uint32", "_uint32", "ZodBoolean", "$ZodBoolean", "boolean", "_boolean", "ZodBigInt", "$ZodBigInt", "bigint", "_bigint", "ZodBigIntFormat", "$ZodBigIntFormat", "int64", "_int64", "uint64", "_uint64", "ZodSymbol", "$ZodSymbol", "symbol", "_symbol", "ZodUndefined", "$ZodUndefined", "_undefined", "ZodNull", "$constructor", "inst", "def", "$ZodNull", "ZodType", "_null", "params", "ZodAny", "$constructor", "inst", "def", "$ZodAny", "ZodType", "any", "_any", "ZodUnknown", "$ZodUnknown", "unknown", "_unknown", "ZodNever", "$ZodNever", "never", "params", "_never", "ZodVoid", "$ZodVoid", "_void", "ZodDate", "$constructor", "inst", "def", "$ZodDate", "ZodType", "value", "params", "_gte", "_lte", "c", "date", "_date", "ZodArray", "$ZodArray", "minLength", "_minLength", "maxLength", "_maxLength", "len", "_length", "array", "element", "_array", "keyof", "schema", "shape", "literal", "ZodObject", "$ZodObject", "util_exports", "_enum", "catchall", "__spreadProps", "__spreadValues", "unknown", "never", "incoming", "other", "mask", "args", "ZodOptional", "ZodNonOptional", "object", "strictObject", "looseObject", "ZodUnion", "$ZodUnion", "union", "options", "ZodDiscriminatedUnion", "$ZodDiscriminatedUnion", "discriminatedUnion", "discriminator", "ZodIntersection", "$ZodIntersection", "intersection", "left", "right", "ZodTuple", "$ZodTuple", "rest", "tuple", "items", "_paramsOrRest", "_params", "hasRest", "$ZodType", "ZodRecord", "$ZodRecord", "record", "keyType", "valueType", "partialRecord", "k", "clone", "ZodMap", "$ZodMap", "map", "ZodSet", "$ZodSet", "_minSize", "_maxSize", "_size", "set", "ZodEnum", "$ZodEnum", "keys", "values", "newEntries", "entries", "v", "nativeEnum", "entries", "params", "ZodEnum", "__spreadValues", "util_exports", "ZodLiteral", "$constructor", "inst", "def", "$ZodLiteral", "ZodType", "literal", "value", "ZodFile", "$ZodFile", "size", "_minSize", "_maxSize", "types", "_mime", "file", "_file", "ZodTransform", "$ZodTransform", "payload", "_ctx", "issue", "_a", "_b", "_c", "_issue", "output", "transform", "fn", "ZodOptional", "$ZodOptional", "optional", "innerType", "ZodNullable", "$ZodNullable", "nullable", "nullish", "ZodDefault", "$ZodDefault", "_default", "defaultValue", "ZodPrefault", "$ZodPrefault", "prefault", "ZodNonOptional", "$ZodNonOptional", "nonoptional", "ZodSuccess", "$ZodSuccess", "success", "ZodCatch", "$ZodCatch", "_catch", "catchValue", "ZodNaN", "$constructor", "inst", "def", "$ZodNaN", "ZodType", "nan", "params", "_nan", "ZodPipe", "$ZodPipe", "pipe", "in_", "out", "ZodReadonly", "$ZodReadonly", "readonly", "innerType", "ZodTemplateLiteral", "$ZodTemplateLiteral", "templateLiteral", "parts", "__spreadValues", "util_exports", "ZodLazy", "$ZodLazy", "lazy", "getter", "ZodPromise", "$ZodPromise", "promise", "ZodCustom", "$ZodCustom", "check", "fn", "ch", "$ZodCheck", "custom", "_params", "_custom", "refine", "_refine", "superRefine", "_superRefine", "_instanceof", "cls", "data", "stringbool", "args", "_stringbool", "ZodPipe", "ZodBoolean", "ZodString", "ZodTransform", "json", "params", "jsonSchema", "lazy", "union", "string", "number", "boolean", "_null", "array", "record", "preprocess", "fn", "schema", "pipe", "transform", "ZodIssueCode", "setErrorMap", "map", "config", "getErrorMap", "ZodFirstPartyTypeKind", "coerce_exports", "__export", "bigint", "boolean", "date", "number", "string", "string", "params", "_coercedString", "ZodString", "number", "_coercedNumber", "ZodNumber", "boolean", "_coercedBoolean", "ZodBoolean", "bigint", "_coercedBigint", "ZodBigInt", "date", "_coercedDate", "ZodDate", "config", "en_default", "big", "external_exports", "bool", "date", "num", "int", "u8a", "str", "stamp", "any", "zod", "char", "short", "uint", "float", "float2", "parts", "hex", "literal", "json", "u8a20", "u8a32", "u8a33", "u8a64", "hex20", "hex32", "hex33", "hex64", "bytes", "byte32", "byte33", "byte64", "base58", "base64", "base64url", "bech32", "isBytes", "a", "abytes", "b", "lengths", "isArrayOf", "isString", "arr", "item", "afn", "input", "astr", "label", "anumber", "n", "aArr", "astrArr", "anumArr", "chain", "args", "id", "wrap", "c", "encode", "x", "decode", "alphabet", "letters", "lettersA", "len", "indexes", "l", "digits", "letter", "i", "join", "separator", "from", "to", "padding", "bits", "chr", "data", "end", "convertRadix", "data", "from", "to", "aArr", "pos", "res", "digits", "d", "anumber", "dlen", "carry", "done", "i", "digit", "fromCarry", "digitBase", "div", "rounded", "gcd", "a", "b", "radix2carry", "powers", "convertRadix2", "padding", "max", "mask", "n", "pow", "radix", "num", "_256", "bytes", "isBytes", "anumArr", "radix2", "bits", "revPadding", "unsafeWrapper", "fn", "afn", "args", "e", "checksum", "len", "sum", "payload", "oldChecksum", "newChecksum", "hasBase64Builtin", "decodeBase64Builtin", "s", "isUrl", "astr", "re", "alphabet", "base64", "b", "abytes", "chain", "radix2", "padding", "join", "base64urlnopad", "chain", "radix2", "alphabet", "join", "genBase58", "abc", "radix", "base58", "createBase58check", "sha256", "chain", "checksum", "data", "base58", "BECH_ALPHABET", "chain", "alphabet", "join", "POLYMOD_GENERATORS", "bech32Polymod", "pre", "b", "chk", "i", "bechChecksum", "prefix", "words", "encodingConst", "len", "c", "v", "convertRadix2", "powers", "genBech32", "encoding", "ENCODING_CONST", "_words", "radix2", "fromWords", "toWords", "fromWordsUnsafe", "unsafeWrapper", "encode", "limit", "astr", "isBytes", "anumArr", "plen", "actualLength", "lowered", "sum", "decode", "str", "slen", "sepIndex", "data", "decodeUnsafe", "decodeToBytes", "encodeFromBytes", "bytes", "bech32", "bech32m", "B58chk", "data", "Assert", "createBase58check", "sha256", "Base64", "base64", "B64url", "base64urlnopad", "Bech32", "bech32", "prefix", "words", "limit", "assert_prefix", "assert_words", "Bech32m", "bech32m", "value", "word", "Execute", "wrap_function", "wrap_promise", "Result", "result_ok", "result_err", "data", "err", "fn", "promise", "timeout", "timer", "resolve", "Fetch", "fetch_json", "fetch_text", "Resolve", "data_response", "error_response", "input", "init", "fetcher", "res", "data", "resolve_error", "status", "statusText", "error", "e", "msg", "JsonUtil", "parse_json", "serialize_json", "deep_copy", "REPLACER", "_", "value", "REVIVER", "json_obj", "replacer", "normalized", "sort_obj", "e", "json_str", "reviver", "parsed", "error", "DEFAULT_CONFIG", "Logger", "init_logger", "dump_obj", "print_json", "start_timer", "options", "config", "__spreadValues", "label", "prefix", "noop", "msg", "obj", "STORAGE_KEYS", "LOG_LIMIT", "import_jsx_runtime", "context", "ConsoleProvider", "children", "logs", "setLogs", "add", "msg", "type", "payload", "new_log", "create_log", "prev_logs", "new_logs", "LOG_LIMIT", "diff", "Assert", "clear", "useWebConsole", "ctx", "StoreController", "store_key", "defaults", "__publicField", "item", "e", "value", "error", "callback", "__spreadValues", "subscriber", "import_react", "defaults_default", "import_jsx_runtime", "DEFAULT_STORE", "defaults_default", "STORE_KEY", "STORAGE_KEYS", "params", "username", "store_key", "context", "controller", "StoreController", "SettingsProvider", "children", "_store", "_setStore", "reset", "subscribe", "callback", "update", "store", "new_store", "__spreadValues", "useSettings", "ctx", "useBifrost", "client", "setClient", "peers", "setPeers", "status", "setStatus", "reconnectAttempts", "reconnectTimer", "maxReconnectAttempts", "baseReconnectDelay", "logger", "useWebConsole", "settings", "useSettings", "_start", "share", "is_store_ready", "group", "relays", "policies", "p", "convert_pubkey", "urls", "r", "_client", "BifrostNode", "peer", "event", "data", "type", "message", "payload", "clear", "STORAGE_KEYS", "lock", "_a", "e", "ping", "pubkey", "reset", "unlock", "password", "decrypted", "decrypt_content", "decode_share_pkg", "get_node_status", "bridge", "delay", "store", "import_jsx_runtime", "context", "NodeProvider", "children", "node", "useBifrost", "useBifrostNode", "ctx", "import_jsx_runtime", "SettingsIcon", "PermissionsIcon", "ConsoleIcon", "TrashIcon", "CopyIcon", "CheckIcon", "RefreshIcon", "LockIcon", "import_jsx_runtime", "NodeInfoView", "_a", "node", "useBifrostNode", "settings", "useSettings", "share_pk", "group_pk", "password", "setPassword", "error", "setError", "showHex", "setShowHex", "copySuccess", "setCopySuccess", "copy_pubkey", "pk", "valueToCopy", "get_npub", "e", "unlock_node", "STORAGE_KEYS", "CheckIcon", "CopyIcon", "LockIcon", "pubkey", "nip19_exports", "import_jsx_runtime", "PeerInfoView", "node", "useBifrostNode", "peer", "RefreshIcon", "import_react", "import_jsx_runtime", "ConsoleView", "console", "useWebConsole", "expandedIdx", "setExpandedIdx", "toggle_expand", "idx", "prev", "__spreadProps", "__spreadValues", "clear_logs", "TrashIcon", "log", "import_jsx_runtime", "DashboardView", "NodeInfoView", "PeerInfoView", "ConsoleView", "import_react", "import_react", "STORAGE_KEY", "STORAGE_KEYS", "STORAGE_VERSION", "initPermissionStorage", "storage", "getStoredPermissions", "data", "savePermissions", "permissions", "e", "checkPermission", "appId", "type", "eventKind", "kindSpecific", "p", "wildcard", "permission", "setPermission", "allowed", "kind", "filtered", "newPermission", "revokePermission", "revokeAllForApp", "listPermissions", "bulkSetPermissions", "appId", "permissionsToAdd", "allowed", "existing", "getStoredPermissions", "timestamp", "newRules", "p", "updated", "existingPerm", "newPerm", "savePermissions", "getEventKindLabel", "kind", "import_jsx_runtime", "context", "PermissionsProvider", "children", "initPermissionStorage", "api", "host", "type", "kind", "checkPermission", "allowed", "setPermission", "revokePermission", "listPermissions", "rules", "grouped", "acc", "rule", "key", "group", "bulkSetPermissions", "revokeAllForApp", "usePermissions", "ctx", "link", "import_jsx_runtime", "PermissionsView", "permissions_api", "usePermissions", "permissions", "set_permissions", "loading", "set_loading", "app_filter", "set_app_filter", "load_permissions", "all_perms", "e", "handle_revoke_permission", "permission", "handle_clear_all_permissions", "format_date", "timestamp", "diff", "minutes", "hours", "days", "format_operation_type", "type", "format_app_host", "appId", "filtered_permissions", "p", "index", "getEventKindLabel", "import_react", "import_react", "a", "constructor", "onDecode", "_e", "DEFAULT_CANVAS_SIZE", "$video", "$canvas", "createElement", "c", "b", "_onDecode", "canvasSizeOrCalculateScanRegion", "console", "_legacyOnDecode", "canvasSizeOrOnDecodeErrorOrOptions", "_onDecodeError", "options", "onDecodeError", "_calculateScanRegion", "calculateScanRegion", "_preferredCamera", "preferredCamera", "_legacyCanvasSize", "_maxScansPerSecond", "maxScansPerSecond", "_onPlay", "bind", "_onLoadedMetaData", "_onVisibilityChange", "_updateOverlay", "video", "disablePictureInPicture", "playsInline", "muted", "shouldHideVideo", "hidden", "document", "body", "contains", "appendChild", "highlightScanRegion", "highlightCodeOutline", "d", "$overlay", "overlay", "f", "overlayStyle", "position", "display", "pointerEvents", "classList", "add", "gotExternalOverlay", "innerHTML", "firstElementChild", "animate", "transform", "duration", "iterations", "Infinity", "direction", "easing", "e", "videoContainer", "insertBefore", "nextSibling", "insertAdjacentHTML", "$codeOutlineHighlight", "lastElementChild", "_scanRegion", "requestAnimationFrame", "m", "videoStyle", "style", "setProperty", "visibility", "warn", "opacity", "width", "height", "parentElement", "removeChild", "addEventListener", "window", "_qrEnginePromise", "QrScanner", "createQrEngine", "workerPath", "hasCamera", "listCameras", "length", "requestLabels", "navigator", "mediaDevices", "filter", "device", "openedStream", "enumerateCameras", "every", "camera", "label", "getUserMedia", "audio", "map", "i", "id", "deviceId", "_stopVideoStream", "hasFlash", "stream", "srcObject", "MediaStream", "_getCameraStream", "getVideoTracks", "getSettings", "isFlashOn", "_flashOn", "toggleFlash", "turnFlashOff", "turnFlashOn", "_destroyed", "_active", "_paused", "applyConstraints", "advanced", "torch", "_restartVideoStream", "destroy", "removeEventListener", "stop", "_postWorkerMessage", "start", "Error", "location", "protocol", "play", "facingMode", "_setVideoMirror", "catch", "pause", "stopStreamImmediately", "stopStream", "Promise", "resolve", "setTimeout", "setCamera", "facingModeOrDeviceId", "scanImage", "imageOrFileOrBlobOrUrl", "scanRegionOrOptions", "qrEngine", "canvas", "disallowCanvasResizing", "alsoTryWithoutScanRegion", "scanRegion", "returnDetailedScanResult", "image", "canvasContext", "all", "_loadImage", "_drawToCanvas", "detailedScanResult", "Worker", "g", "gotExternalEngine", "_postWorkerMessageSync", "qrEngineWorker", "reject", "timeout", "onMessage", "onError", "expectedResponseId", "event", "data", "clearTimeout", "cornerPoints", "_convertPoints", "NO_QR_CODE_FOUND", "error", "t", "x", "k", "imageData", "buffer", "race", "scanResult", "rawValue", "l", "message", "test", "errorMessage", "_disableBarcodeDetector", "setGrayscaleWeights", "red", "green", "blue", "useIntegerApproximation", "setInversionMode", "inversionMode", "then", "createWorker", "BarcodeDetector", "getSupportedFormats", "includes", "userAgentData", "brands", "some", "brand", "platform", "getHighEntropyValues", "architecture", "platformVersion", "parseInt", "formats", "_scanFrame", "Math", "round", "videoWidth", "scanRegionSize", "y", "videoHeight", "downScaledWidth", "downScaledHeight", "h", "n", "p", "q", "videoObjectFit", "videoScaledWidth", "videoScaledHeight", "elementWidth", "elementHeight", "videoAspectRatio", "elementAspectRatio", "min", "v", "videoY", "lengthValue", "parseFloat", "endsWith", "u", "regionWidth", "regionHeight", "top", "elementY", "regionY", "left", "elementX", "isVideoMirrored", "videoX", "regionX", "points", "point", "scaleFactorX", "offsetX", "scaleFactorY", "offsetY", "paused", "ended", "requestVideoFrameCallback", "readyState", "timeSinceLastScan", "minimumTimeBetweenScans", "_lastScanTimestamp", "Date", "now", "result", "_codeOutlineHighlightRemovalTimeout", "undefined", "setAttribute", "join", "log", "constraint", "preferenceType", "exact", "constraints", "wasPaused", "track", "removeTrack", "_getFacingMode", "videoStream", "videoTrack", "scanRegionWidth", "scanRegionHeight", "canvasWidth", "canvasHeight", "alpha", "context", "imageSmoothingEnabled", "drawImage", "scanRegionX", "scanRegionY", "Image", "_awaitImageLoad", "HTMLVideoElement", "HTMLCanvasElement", "SVGImageElement", "OffscreenCanvas", "ImageBitmap", "File", "Blob", "URL", "src", "createObjectURL", "toString", "revokeObjectURL", "complete", "naturalWidth", "listener", "ErrorEvent", "qrEngineOrQrEnginePromise", "type", "transfer", "postMessage", "qr_scanner_min_default", "import_jsx_runtime", "QRScanner", "onResult", "onError", "videoRef", "scannerRef", "error", "setError", "hasPerm", "setPerm", "scanner", "callbackId", "scanPromise", "resolve", "reject", "data", "err", "qr_scanner_min_default", "result", "import_jsx_runtime", "GroupConfigField", "_a", "store", "useSettings", "input", "setInput", "error", "setError", "show", "setShow", "saved", "setSaved", "isScanning", "setIsScanning", "update", "group", "decode_group_pkg", "e", "get_group_str", "is_group_string", "pkg", "get_group_pkg", "is_group_changed", "QRScanner", "result", "get_group_json", "group_str", "encode_group_pkg", "err", "import_react", "import_jsx_runtime", "PeerConfigField", "settings", "useSettings", "peers", "setPeers", "changes", "setChanges", "saved", "setSaved", "update", "cancel", "update_peer", "idx", "key", "value", "prev", "updated", "group", "pubkey", "init_peers", "peer", "commit", "convert_pubkey", "import_react", "import_jsx_runtime", "RelayConfigField", "_a", "store", "useSettings", "relays", "setRelays", "relayUrl", "setUrl", "changes", "setChanges", "error", "setError", "saved", "setSaved", "update", "cancel", "update_relay", "idx", "key", "policies", "add_relay", "validateUrl", "relay", "prev", "remove_relay", "filtered", "_", "i", "e", "url", "import_jsx_runtime", "ResetStoreField", "store", "useSettings", "import_react", "decode_share", "share_str", "PackageEncoder", "err", "import_jsx_runtime", "ShareConfigField", "_a", "settings", "useSettings", "share", "input", "setInput", "error", "setError", "show", "setShow", "saved", "setSaved", "password", "setPassword", "isScanning", "setIsScanning", "decrypt", "decrypted", "decrypt_content", "is_share_string", "update", "decode_share", "pubkey", "get_pubkey", "encrypted", "encrypt_content", "e", "QRScanner", "result", "get_share_json", "import_jsx_runtime", "SettingsView", "GroupConfigField", "ShareConfigField", "PeerConfigField", "RelayConfigField", "ResetStoreField", "import_jsx_runtime", "Tabs", "activeTab", "setActiveTab", "ConsoleIcon", "PermissionsIcon", "SettingsIcon", "DashboardView", "PermissionsView", "SettingsView", "import_react", "_utf8ToBytes", "str", "c", "sigma16", "sigma32", "sigma16_32", "u32", "sigma32_32", "rotl", "a", "b", "isAligned32", "BLOCK_LEN", "BLOCK_LEN32", "MAX_COUNTER", "U32_EMPTY", "runCipher", "core", "sigma", "key", "nonce", "data", "output", "counter", "rounds", "len", "block", "b32", "isAligned", "d32", "o32", "pos", "take", "pos32", "j", "posj", "createCipher", "opts", "allowShortKeys", "extendNonceFn", "counterLength", "counterRight", "checkOpts", "anumber", "abool", "abytes", "toClean", "l", "k", "copyBytes", "k32", "nonceNcLen", "nc", "n32", "clean", "u8to16", "a", "i", "Poly1305", "key", "toBytes", "abytes", "t0", "t1", "t2", "t3", "t4", "t5", "t6", "t7", "data", "offset", "isLast", "hibit", "h", "r", "r0", "r1", "r2", "r3", "r4", "r5", "r6", "r7", "r8", "r9", "h0", "h1", "h2", "h3", "h4", "h5", "h6", "h7", "h8", "h9", "c", "d0", "d1", "d2", "d3", "d4", "d5", "d6", "d7", "d8", "d9", "pad", "g", "mask", "f", "clean", "aexists", "buffer", "blockLen", "len", "pos", "take", "out", "aoutput", "opos", "outputLen", "res", "wrapConstructorWithKey", "hashCons", "hashC", "msg", "tmp", "poly1305", "chachaCore", "s", "k", "out", "cnt", "rounds", "y00", "y01", "y02", "y03", "y04", "y05", "y06", "y07", "y08", "y09", "y10", "y11", "y12", "y13", "y14", "y15", "x00", "x01", "x02", "x03", "x04", "x05", "x06", "x07", "x08", "x09", "x10", "x11", "x12", "x13", "x14", "x15", "r", "rotl", "oi", "hchacha", "i", "o32", "chacha20", "createCipher", "chachaCore", "xchacha20", "hchacha", "ZEROS16", "updatePadded", "h", "msg", "left", "ZEROS32", "computeTag", "fn", "key", "nonce", "data", "AAD", "authKey", "poly1305", "num", "u64Lengths", "res", "clean", "_poly1305_aead", "xorStream", "plaintext", "output", "plength", "getOutput", "oPlain", "tag", "ciphertext", "passedTag", "equalBytes", "chacha20poly1305", "wrapCipher", "chacha20", "xchacha20poly1305", "xchacha20", "extract", "hash", "ikm", "salt", "ahash", "hmac", "toBytes", "HKDF_COUNTER", "EMPTY_BUFFER", "expand", "prk", "info", "length", "anumber", "olen", "blocks", "okm", "HMAC", "HMACTmp", "T", "counter", "clean", "encoder", "decoder", "minPlaintextSize", "maxPlaintextSize", "get_conversation_key", "shared_secret", "secret", "Buff", "extract", "sha256", "get_message_keys", "convo_key", "nonce", "keys", "expand", "calc_padded_len", "len", "nextPower", "chunk", "write_u16_be", "num", "arr", "pad", "plaintext", "unpadded", "unpaddedLen", "prefix", "suffix", "concatBytes", "unpad", "padded", "hmac_aad", "key", "message", "aad", "combined", "hmac", "decode_payload", "payload", "plen", "data", "base64", "error", "dlen", "vers", "nip44_encrypt", "secret", "plaintext", "nonce", "randomBytes", "convo_key", "get_conversation_key", "ctx", "get_message_keys", "padded", "pad", "ciphertext", "chacha20", "mac", "hmac_aad", "base64", "concatBytes", "nip44_decrypt", "payload", "decode_payload", "calculated_mac", "equalBytes", "unpad", "nip04_encrypt", "content", "iv", "cbytes", "Buff", "sbytes", "vector", "encrypted", "cbc", "nip04_decrypt", "encryped", "decrypted", "SIGN_METHODS", "BifrostSignDevice", "node", "__publicField", "pubkey", "startTime", "res", "duration", "secret", "convert_pubkey", "error", "event", "_a", "content", "created_at", "kind", "tags", "tmpl", "id", "get_event_id", "payload", "sig", "__spreadProps", "__spreadValues", "plaintext", "nip04_encrypt", "ciphertext", "nip04_decrypt", "nip44_encrypt", "nip44_decrypt", "executeSigningOperation", "signer", "request", "startTime", "result", "duration", "error", "waitForNodeClient", "maxWaitMs", "_a", "_b", "client", "resolve", "executeAutoSigning", "_c", "nodeClient", "stored_settings_json", "STORAGE_KEYS", "settings", "groupPubkey", "npub", "nip19_exports", "sessionPassword", "BifrostSignDevice", "create_signing_bridge", "NIP55Bridge", "node", "useBifrostNode", "_", "set_bridge_ready", "_a", "_b", "signing_bridge", "create_signing_bridge", "bridge", "executeAutoSigning", "e", "import_jsx_runtime", "App", "Header", "Tabs", "NIP55Bridge", "import_react", "import_jsx_runtime", "ErrorBoundary", "props", "__publicField", "error", "errorInfo", "link", "link", "link", "link", "link", "link", "import_jsx_runtime", "container", "root", "ErrorBoundary", "SettingsProvider", "PermissionsProvider", "ConsoleProvider", "NodeProvider", "App"]
}
